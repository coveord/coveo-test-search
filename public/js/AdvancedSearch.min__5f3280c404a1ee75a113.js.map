{"version":3,"sources":["AdvancedSearch.min__5f3280c404a1ee75a113.js","./src/ui/FormWidgets/NumericSpinner.ts","./src/ui/AdvancedSearch/KeywordsInput/KeywordsInput.ts","./src/ui/AdvancedSearch/DateInput/DateInput.ts","./src/ui/AdvancedSearch/DocumentInput/DocumentInput.ts","./src/ui/AdvancedSearch/AdvancedSearch.ts","./src/ui/Facet/FacetUtils.ts","./src/events/QuerySummaryEvents.ts","./src/ui/AdvancedSearch/AdvancedSearchInputFactory.ts","./src/ui/AdvancedSearch/KeywordsInput/AllKeywordsInput.ts","./src/ui/AdvancedSearch/KeywordsInput/ExactKeywordsInput.ts","./src/ui/AdvancedSearch/KeywordsInput/AnyKeywordsInput.ts","./src/ui/AdvancedSearch/KeywordsInput/NoneKeywordsInput.ts","./src/ui/AdvancedSearch/DateInput/AnytimeDateInput.ts","./src/ui/AdvancedSearch/DateInput/InTheLastDateInput.ts","./src/ui/AdvancedSearch/DateInput/BetweenDateInput.ts","./src/ui/AdvancedSearch/DocumentInput/SimpleFieldInput.ts","./src/ui/AdvancedSearch/DocumentInput/AdvancedFieldInput.ts","./src/ui/AdvancedSearch/DocumentInput/SizeInput.ts","./src/ui/FormWidgets/Dropdown.ts","./src/ui/FormWidgets/RadioButton.ts"],"names":["webpackJsonpCoveo__temporary","120","module","exports","__webpack_require__","Object","defineProperty","value","onChange","min","max","label","numericSpinner","this","buildContent","bindEvents","doExport","exportGlobally","NumericSpinner","reset","getSpinnerInput","getElement","element","getValue","getIntValue","parseInt","getFloatValue","parseFloat","setValue","toString","build","$$","className","numberInput","type","l","addOn","arrowUp","SVGIcons","icons","SVGDom","addClassToSVGInContainer","el","arrowDown","append","up","find","on","down","match","183","inputName","root","clear","input","TextInput","bind","updateQuery","queryBuilder","advancedExpression","add","trigger","AdvancedSearchEvents","executeAdvancedSearch","KeywordsInput","227","radio","isSelected","getRadio","checked","removeErrorMessage","error","setErrorMessage","message","remove","RadioButton","deactivateAllInputs","activateSelectedInput","addClass","getLabel","elements","parentElement","findAll","_","each","disabled","DateInput","228","documentInput","text","DocumentInput","233","__extends","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","options","bindings","ModalBox","AdvancedSearch","ID","inputs","inputFactory","AdvancedSearchInputFactory","queryController","getEndpoint","externalSections","needToPopulateBreadcrumb","needToExecuteAdvancedSearch","ComponentOptions","initComponentOptions","_this","usageAnalytics","logSearchEvent","analyticsActionCauseList","advancedSearch","executeQuery","closeModalBox","open","modalbox","content","sizeMod","title","body","searchInterface","modalContainer","close","handlePopulateBreadcrumb","args","container","breadcrumbs","push","buildBreadcrumbElements","buildBreadcrumbContainer","buildBreadcrumbTitle","buildBreacrumbClear","mainClear","selectAction","handleClearBreadcrumb","breadcrumbAdvancedSearch","AccessibleButton","withElement","withLabel","withSelectAction","handleQuerySummaryCancelLastAction","handlePopulateMenu","menuData","onOpen","onClose","svgIcon","dropdownPreferences","svgIconClassName","handleBuildingQuery","data","originalQuery","section","modifiedQuery","aq","component","inputSections","includeKeywords","getKeywordsSection","includeDate","getDateSection","includeDocument","getDocumentSection","buildingAdvancedSearch","sections","extend","buildExternalSection","buildInternalSection","sectionName","keywordsInputs","createAllKeywordsInput","createExactKeywordsInput","createAnyKeywordsInput","createNoneKeywordsInput","name","dateInputs","createAnytimeDateInput","createInTheLastDateInput","createBetweenDateInput","documentInputs","createSimpleFieldInput","createSizeInput","createAdvancedFieldInput","union","appendChild","id","sectionInputs","buildDefaultInput","built","inputElement","querySelector","setAttribute","buildSectionTitle","sectionHTML","isPrebuiltInput","parameters","undefined","onRootElement","BreadcrumbEvents","populateBreadcrumb","clearBreadcrumb","SettingsEvents","settingsPopulateMenu","QueryEvents","buildingQuery","QuerySummaryEvents","cancelLastAction","DatePicker","Dropdown","buildBooleanOption","defaultValue","Component","Initialization","registerAutoCreateComponent","39","getRegexToUseForFacetSearch","ignoreAccent","RegExp","StringUtils","stringToRegex","getDisplayValueFromValueCaption","field","valueCaption","returnValue","tryToGetTranslatedCaption","getValuesToUseForSearchInFacet","original","facet","ret","regex","facetSearchIgnoreAccents","chain","pairs","filter","pair","test","QueryUtils","isStratusAgnosticField","FileTypes","getFileTypeCaptions","key","range","month","DateUtils","monthToString","substr","buildFacetSearchPattern","values","map","Utils","escapeRegexCharacter","join","needAnotherFacetSearch","currentSearchLength","newSearchLength","oldSearchLength","desiredSearchLength","addNoStateCssClassToFacetValues","getSelected","length","noStates","noState","found","toLowerCase","getFileType","caption","getObjectType","FacetUtils","isMonthFieldValue","isNonEmptyString","asInt","isNaN","514","555","583","endpoint","AllKeywordsInput","ExactKeywordsInput","AnyKeywordsInput","NoneKeywordsInput","AnytimeDateInput","InTheLastDateInput","BetweenDateInput","SimpleFieldInput","AdvancedFieldInput","SizeInput","584","585","586","splitValues","split","generatedValue","splitValue","587","588","589","dropdown","spinner","setId","currentDate","Date","time","size","date","setMonth","getMonth","setDate","getDate","dateForQuery","590","firstDatePicker","secondDatePicker","buildAnd","firstDate","getDateValue","secondDate","firstDateAsString","secondDateAsString","query","TimeSpan","fromDates","convertFromJsonDateIfNeeded","getMilliseconds","and","591","fieldName","dropDown","fieldInput","buildFieldSelect","then","QueryBuilder","addFieldExpression","listFieldValues","maximumNumberOfValues","str","592","mode","inputValue","builder","593","modeSelect","sizeInput","sizeInputSection","modes","sizeSelect","sizes","getSizeInBytes","Math","pow","594","62","listOfValues","getDisplayValue","optionsElement","select","selectElement","index","executeOnChange","selectOption","option","getAttribute","selectOptions","buildOptions","opt","buildOption","94","radioButton","currentlySelected","triggerChange","radioOption","radioInput","labelInput","for"],"mappings":"AAAAA,8BAA8B,GAAG,GAAG,GAAG,KAEjCC,IACA,SAAUC,EAAQC,EAASC,GAEjC,YAEAC,QAAOC,eAAeH,EAAS,cAAgBI,OAAO,GCPtD,YACA,OACA,OACA,QACA,QAMA,aAkBE,WACSC,EACAC,EACAC,EACCC,OAHD,KAAAH,MAAA,SAAsDI,UACtD,KAAAH,MAAA,GADA,KAAAD,WACA,KAAAC,MACA,KAAAC,MACC,KAAAC,QAERE,KAAKC,eACLD,KAAKE,aA+GT,MApIgB,GAAAC,SAAd,WACE,EAAAC,gBACEC,eAAgBA,KAyBb,YAAAC,MAAP,WACEN,KAAKO,kBAAkBb,MAAQ,GAC/BM,KAAKL,SAASK,OAOT,YAAAQ,WAAP,WACE,MAAOR,MAAKS,SAOP,YAAAC,SAAP,WACE,MAAOV,MAAKO,kBAAkBb,OAOzB,YAAAiB,YAAP,WACE,MAAOX,MAAKO,kBAAkBb,MAAQkB,SAASZ,KAAKO,kBAAkBb,MAAO,IAAMM,KAAKJ,KAOnF,YAAAiB,cAAP,WACE,MAAOb,MAAKO,kBAAkBb,MAAQoB,WAAWd,KAAKO,kBAAkBb,OAASM,KAAKJ,KAUjF,YAAAmB,SAAP,SAAgBrB,GACVM,KAAKH,KAAOH,EAAQM,KAAKH,MAC3BH,EAAQM,KAAKH,KAEXH,EAAQM,KAAKJ,MACfF,EAAQM,KAAKJ,KAEfI,KAAKO,kBAAkBb,MAAQA,EAAMsB,WACrChB,KAAKL,SAASK,OAOT,YAAAiB,MAAP,WACE,MAAOjB,MAAKS,SAGN,YAAAR,aAAR,WACE,GAAMF,GAAiB,EAAAmB,GAAG,OAASC,UAAW,0BACxCC,EAAc,EAAAF,GAAG,SACrBC,UAAW,qBACXE,KAAM,OACN,aAAcrB,KAAKF,MAAQ,EAAAwB,EAAEtB,KAAKF,OAAS,KAGvCyB,EAAQ,EAAAL,GAAG,QAAUC,UAAW,iBAChCK,EAAU,EAAAN,GAAG,OAASC,UAAW,oBAAsB,EAAAM,SAASC,MAAMF,QAC5E,GAAAG,OAAOC,yBAAyBJ,EAAQK,GAAI,uBAC5C,IAAMC,GAAY,EAAAZ,GAAG,OAASC,UAAW,sBAAwB,EAAAM,SAASC,MAAMI,UAChF,GAAAH,OAAOC,yBAAyBE,EAAUD,GAAI,0BAC9CN,EAAMQ,OAAOP,EAAQK,IACrBN,EAAMQ,OAAOD,EAAUD,IACvB9B,EAAegC,OAAOX,EAAYS,IAClC9B,EAAegC,OAAOR,EAAMM,IAC5B7B,KAAKS,QAAUV,EAAe8B,IAGxB,YAAA3B,WAAR,sBACQ8B,EAAK,EAAAd,GAAGlB,KAAKS,SAASwB,KAAK,oBACjC,GAAAf,GAAGc,GAAIE,GAAG,QAAS,WACjB,EAAKnB,SAAS,EAAKF,gBAAkB,IAGvC,IAAMsB,GAAO,EAAAjB,GAAGlB,KAAKS,SAASwB,KAAK,sBACnC,GAAAf,GAAGiB,GAAMD,GAAG,QAAS,WACnB,EAAKnB,SAAS,EAAKF,gBAAkB,IAGvC,IAAMO,GAAgC,EAAAF,GAAGlB,KAAKS,SAASwB,KAAK,QAC5D,GAAAf,GAAGE,GAAac,GAAG,QAAS,WACtBd,EAAY1B,MAAM0C,MAAM,WAC1B,EAAKzC,SAAS,MAKZ,YAAAY,gBAAR,WACE,MAAyB,GAAAW,GAAGlB,KAAKS,SAASwB,KAAK,wBAEnD,IAxIa,GAAA5B,kBDsIPgC,IACA,SAAUhD,EAAQC,EAASC,GAEjC,YAEAC,QAAOC,eAAeH,EAAS,cAAgBI,OAAO,GEpJtD,aAEA,QACA,OAEA,aAGE,WAAmB4C,EAA0BC,GAA1B,KAAAD,YAA0B,KAAAC,OAqC/C,MAnCS,aAAAjC,MAAP,WACEN,KAAKwC,SAGA,YAAAvB,MAAP,WAEE,MADAjB,MAAKyC,MAAQ,GAAI,GAAAC,UAAU1C,KAAKL,SAASgD,KAAK3C,MAAOA,KAAKsC,WACnDtC,KAAKyC,MAAMjC,cAGb,YAAAO,SAAP,SAAgBrB,GACdM,KAAKyC,MAAM1B,SAASrB,IAGf,YAAAgB,SAAP,WACE,MAAOV,MAAKyC,MAAM/B,YAGb,YAAA8B,MAAP,WACExC,KAAKyC,MAAM1B,SAAS,KAGf,YAAA6B,YAAP,SAAmBC,GACjB,GAAInD,GAAQM,KAAKU,UACbhB,IACFmD,EAAaC,mBAAmBC,IAAIrD,IAI9B,YAAAC,SAAV,WACMK,KAAKuC,KACP,EAAArB,GAAGlB,KAAKuC,MAAMS,QAAQ,EAAAC,qBAAqBC,uBAClClD,KAAKyC,OACd,EAAAvB,GAAGlB,KAAKyC,MAAMjC,cAAcwC,QAAQ,EAAAC,qBAAqBC,wBAG/D,IAxCa,GAAAC,iBF6LPC,IACA,SAAU/D,EAAQC,EAASC,GAEjC,YAEAC,QAAOC,eAAeH,EAAS,cAAgBI,OAAO,GGvMtD,aAEA,OACA,QACA,OAEA,aAKE,WAAmB4C,EAA0BC,GAA1B,KAAAD,YAA0B,KAAAC,OAC3CvC,KAAKC,eA2FT,MAxFS,aAAAK,MAAP,WACEN,KAAKqD,MAAM/C,SAGN,YAAAW,MAAP,WACE,MAAOjB,MAAKS,SAGP,YAAAD,WAAP,WACE,MAAOR,MAAKS,SAKP,YAAA6C,WAAP,WACE,MAAOtD,MAAKuD,WAAWC,SAGlB,YAAAZ,YAAP,SAAmBC,GACjB,IACE,GAAInD,GAAQM,KAAKU,UACbhB,IACFmD,EAAaC,mBAAmBC,IAAIrD,GAEtCM,KAAKyD,qBACL,MAAOC,GACP1D,KAAK2D,gBAAgBD,KAIf,YAAAH,SAAV,WACE,MAAyB,GAAArC,GAAGlB,KAAKS,SAASwB,KAAK,UAGzC,YAAA0B,gBAAR,SAAwBC,GACtB5D,KAAKyD,qBACLzD,KAAK0D,MAAQ,EAAAxC,GACX,OAEEC,UAAW,sCAEbyC,GACA/B,GACF,EAAAX,GAAGlB,KAAKS,SAASsB,OAAO/B,KAAK0D,QAGvB,YAAAD,mBAAR,WACMzD,KAAK0D,OACP,EAAAxC,GAAGlB,KAAK0D,OAAOG,UAIX,YAAA5D,aAAR,qBACED,MAAKqD,MAAQ,GAAI,GAAAS,YACf,WACE,EAAKC,sBACL,EAAKC,yBAEPhE,KAAKsC,UACL,oCAEFtC,KAAKS,QAAUT,KAAKqD,MAAM7C,aAC1B,EAAAU,GAAGlB,KAAKS,SAASwD,SAAS,4CAC1B,EAAA/C,GAAGlB,KAAKqD,MAAME,YAAYU,SAAS,8BACnC,EAAA/C,GAAGlB,KAAKqD,MAAMa,YAAYD,SAAS,gCAG7B,YAAAF,oBAAR,WACE,GAAII,GAAW,EAAAjD,GAAGlB,KAAKS,QAAQ2D,eAAeC,QAAQ,WACtDC,GAAEC,KAAKJ,EAAU,SAAA1D,GACIA,EAAS+D,UAAW,KAInC,YAAAR,sBAAR,WACE,GAAIG,GAAW,EAAAjD,GAAGlB,KAAKS,SAAS4D,QAAQ,WACxCC,GAAEC,KAAKJ,EAAU,SAAA1D,GACIA,EAAS+D,UAAW,KAIjC,YAAA7E,SAAV,WACMK,KAAKuC,KACP,EAAArB,GAAGlB,KAAKuC,MAAMS,QAAQ,EAAAC,qBAAqBC,uBAClClD,KAAKS,SACd,EAAAS,GAAGlB,KAAKS,SAASuC,QAAQ,EAAAC,qBAAqBC,wBAGpD,IAjGsB,GAAAuB,aHyRhBC,IACA,SAAUrF,EAAQC,EAASC,GAEjC,YAEAC,QAAOC,eAAeH,EAAS,cAAgBI,OAAO,GInStD,YACA,QACA,OAEA,aAGE,WAAmB4C,EAA0BC,GAA1B,KAAAD,YAA0B,KAAAC,OA+B/C,MA7BS,aAAAjC,MAAP,aAEO,YAAAW,MAAP,WACE,GAAI0D,GAAgB,EAAAzD,GAAG,OAASC,UAAW,iDACvCrB,EAAQ,EAAAoB,GAAG,QAAUC,UAAW,+BAIpC,OAHArB,GAAM8E,KAAK,EAAAtD,EAAEtB,KAAKsC,YAClBqC,EAAc5C,OAAOjC,EAAM+B,IAC3B7B,KAAKS,QAAUkE,EAAc9C,GACtB7B,KAAKS,SAGP,YAAAC,SAAP,WACE,MAAO,IAGF,YAAAkC,YAAP,SAAmBC,GACL7C,KAAKU,YAEfmC,EAAaC,mBAAmBC,IAAI/C,KAAKU,aAInC,YAAAf,SAAV,WACMK,KAAKuC,KACP,EAAArB,GAAGlB,KAAKuC,MAAMS,QAAQ,EAAAC,qBAAqBC,uBAClClD,KAAKS,SACd,EAAAS,GAAGlB,KAAKS,SAASuC,QAAQ,EAAAC,qBAAqBC,wBAGpD,IAlCa,GAAA2B,iBJyUPC,IACA,SAAUzF,EAAQC,EAASC,GAEjC,YAEA,IAAIwF,GAAa/E,MAAQA,KAAK+E,WAAc,WACxC,GAAIC,GAAgBxF,OAAOyF,iBACpBC,uBAA2BC,QAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASG,KAAOxF,KAAKyF,YAAcL,EADnCJ,EAAcI,EAAGC,GAEjBD,EAAEM,UAAkB,OAANL,EAAa7F,OAAOmG,OAAON,IAAMG,EAAGE,UAAYL,EAAEK,UAAW,GAAIF,OAGvFhG,QAAOC,eAAeH,EAAS,cAAgBI,OAAO,GK9VtD,YACA,OAEA,QACA,QACA,QAEA,OACA,OACA,OAOA,SAEA,QACA,SACA,OACA,MACA,OACA,cACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QAkBA,cA6DE,WACSe,EACAmF,EACPC,EACQC,OAAA,KAAAA,MAAW,EAAAA,SAJrB,OAME,YAAMrF,EAASsF,EAAeC,GAAIH,IAAS,ILySvC,OK9SG,GAAApF,UACA,EAAAmF,UAEC,EAAAE,WAzBH,EAAAG,UAGC,EAAAC,aAAe,GAAI,GAAAC,2BAA2B,EAAKC,gBAAgBC,cAAe,EAAK9D,MACvF,EAAA+D,oBAEA,EAAAC,0BAA2B,EAK3B,EAAAC,6BAA8B,EAiBpC,EAAKZ,QAAU,EAAAa,iBAAiBC,qBAAqBjG,EAASsF,EAAgBH,GAC9E,EAAK1F,aACL,EAAKD,eLsSM0G,EKhBf,MA5VoC,QA8E3B,YAAAzD,sBAAP,WACMlD,KAAKwG,8BACPxG,KAAK4G,eAAeC,eAAiC,EAAAC,yBAAyBC,mBAC9E/G,KAAKoG,gBAAgBY,cACnBC,eAAe,MAQd,YAAA3G,MAAP,WACEgE,EAAEC,KAAKvE,KAAKiG,OAAQ,SAAAxD,GAClBA,EAAMnC,WAOH,YAAA4G,KAAP,WACuB,MAAjBlH,KAAKmH,WACPnH,KAAKmH,SAAWnH,KAAK8F,SAASoB,KAAKlH,KAAKoH,QAAQvF,IAC9CwF,QAAS,MACTC,MAAO,EAAAhG,EAAE,kBACTH,UAAW,8BACXoG,KAAMvH,KAAKwH,gBAAgB5B,QAAQ6B,mBAQlC,YAAAC,MAAP,WACuB,MAAjB1H,KAAKmH,WACPnH,KAAKmH,SAASO,QACd1H,KAAKmH,SAAW,OAIZ,YAAAQ,yBAAR,SAAiCC,GAC/B,GAAI5H,KAAKuG,yBAA0B,CAC3B,qCAAEsB,EAAA,EAAAA,UAAWP,EAAA,EAAAA,MAAO9E,EAAA,EAAAA,KAE1BqF,GAAU9F,OAAOuF,EAAMzF,IACvBgG,EAAU9F,OAAOS,EAAMX,IAEvB+F,EAAKE,YAAYC,MACftH,QAASoH,EAAUhG,OAKjB,YAAAmG,wBAAR,WACE,OACEH,UAAW7H,KAAKiI,2BAChBX,MAAOtH,KAAKkI,uBACZ1F,MAAOxC,KAAKmI,wBAIR,YAAAF,yBAAR,WACE,MAAO,GAAA/G,GAAG,OACRC,UAAW,sCAIP,YAAA+G,qBAAR,WACE,MAAO,GAAAhH,GACL,QAEEC,UAAW,0CAEV,EAAAG,EAAE,2BAA0B,MAI3B,YAAA6G,oBAAR,sBACQ3F,EAAQ,EAAAtB,GACZ,QAEEC,UAAW,0CAEb,EAAAM,SAASC,MAAM0G,WAGXC,EAAe,WACnB,EAAKC,wBACL,EAAK1B,eAAeC,eAAiC,EAAAC,yBAAyByB,6BAC9E,EAAKnC,gBAAgBY,eASvB,QANA,GAAI,GAAAwB,kBACDC,YAAYjG,GACZkG,UAAU,EAAApH,EAAE,UACZqH,iBAAiB,WAAM,MAAAN,OACvBpH,QAEIuB,GAGD,YAAA8F,sBAAR,WACMtI,KAAKuG,2BACPvG,KAAKwG,6BAA8B,EACnCxG,KAAKM,QACLN,KAAKwG,6BAA8B,IAI/B,YAAAoC,mCAAR,WACE5I,KAAKwG,6BAA8B,EACnCxG,KAAKM,QACLN,KAAKwG,6BAA8B,GAG7B,YAAAqC,mBAAR,SAA2BjB,GAA3B,UACEA,GAAKkB,SAASf,MACZnD,KAAM,EAAAtD,EAAE,kBACRH,UAAW,wBACX4H,OAAQ,WAAM,SAAK7B,QACnB8B,QAAS,WAAM,SAAKtB,SACpBuB,QAAS,EAAAxH,SAASC,MAAMwH,oBACxBC,iBAAkB,+BAId,YAAAC,oBAAR,SAA4BC,GAC1B,GAAMC,GAAgBD,EAAKxG,aAAa5B,OACxCqD,GAAEC,KAAKvE,KAAKsG,iBAAkB,SAACiD,GACzBA,EAAQ3G,aACV2G,EAAQ3G,YAAiB2G,EAAQtD,OAAQoD,EAAKxG,gBAGlDyB,EAAEC,KAAKvE,KAAKiG,OAAQ,SAAAxD,GACdA,EAAMG,aACRH,EAAMG,YAAYyG,EAAKxG,eAG3B,IAAM2G,GAAgBH,EAAKxG,aAAa5B,OACxCjB,MAAKuG,yBAA2BiD,EAAcC,IAAMH,EAAcG,IAG5D,YAAAxJ,aAAR,sBACQyJ,EAAY,EAAAxI,GAAG,OACfyI,IACF3J,MAAK4F,QAAQgE,iBACfD,EAAc5B,KAAK/H,KAAK6J,sBAEtB7J,KAAK4F,QAAQkE,aACfH,EAAc5B,KAAK/H,KAAK+J,kBAEtB/J,KAAK4F,QAAQoE,iBACfL,EAAc5B,KAAK/H,KAAKiK,sBAG1BjK,KAAKsG,oBACL,EAAApF,GAAGlB,KAAKuC,MAAMS,QAAQ,EAAAC,qBAAqBiH,wBACzCC,SAAUnK,KAAKsG,iBACfU,aAAc,SAACpB,GAEb,MADAA,GAAUtB,EAAE8F,UAAWxE,GAAWqB,eAAe,IAC1C,EAAKb,gBAAgBY,aAAapB,MAI7CtB,EAAEC,KAAKvE,KAAKsG,iBAAkB,SAACiD,GAC7BG,EAAU3H,OAAO,EAAKsI,qBAAqBd,MAG7CjF,EAAEC,KAAKoF,EAAe,SAAAJ,GACpBG,EAAU3H,OAAO,EAAKuI,qBAAqBf,MAG7CvJ,KAAKoH,QAAUsC,GAGT,YAAAG,mBAAR,WACE,GAAMU,GAAc,EAAAjJ,EAAE,YAChBkJ,IAKN,OAJAA,GAAezC,KAAK/H,KAAKkG,aAAauE,0BACtCD,EAAezC,KAAK/H,KAAKkG,aAAawE,4BACtCF,EAAezC,KAAK/H,KAAKkG,aAAayE,0BACtCH,EAAezC,KAAK/H,KAAKkG,aAAa0E,4BAC7BC,KAAMN,EAAatE,OAAQuE,IAG9B,YAAAT,eAAR,WACE,GAAMQ,GAAc,EAAAjJ,EAAE,QAChBwJ,IAIN,OAHAA,GAAW/C,KAAK/H,KAAKkG,aAAa6E,0BAClCD,EAAW/C,KAAK/H,KAAKkG,aAAa8E,4BAClCF,EAAW/C,KAAK/H,KAAKkG,aAAa+E,2BACzBJ,KAAMN,EAAatE,OAAQ6E,IAG9B,YAAAb,mBAAR,WACE,GAAMM,GAAc,EAAAjJ,EAAE,YAChB4J,IAMN,OALAA,GAAenD,KAAK/H,KAAKkG,aAAaiF,uBAAuB,EAAA7J,EAAE,YAAa,cAC5E4J,EAAenD,KAAK/H,KAAKkG,aAAaiF,uBAAuB,EAAA7J,EAAE,YAAa,cAC5E4J,EAAenD,KAAK/H,KAAKkG,aAAakF,mBACtCF,EAAenD,KAAK/H,KAAKkG,aAAamF,yBAAyB,EAAA/J,EAAE,SAAU,WAC3E4J,EAAenD,KAAK/H,KAAKkG,aAAamF,yBAAyB,EAAA/J,EAAE,UAAW,aACnEuJ,KAAMN,EAAatE,OAAQiF,IAG9B,YAAAb,qBAAR,SAA6Bd,GACnB,GAAA1H,GAAA,0BAAAA,EAGR,OAFA7B,MAAKiG,OAAS3B,EAAEgH,MAAMtL,KAAKiG,OAAasD,EAAQtD,QAChDpE,EAAG0J,YAAYhC,EAAQnC,SAChBvF,GAGD,YAAAyI,qBAAR,SAA6Bf,GAA7B,WACQ,4BAAE1H,EAAA,EAAAA,GAAI2J,EAAA,EAAAA,GACNC,IAeN,OAdAnH,GAAEC,KAAKgF,EAAQtD,OAAQ,SAAAxD,GACrBgJ,EAAc1D,KAAK,EAAK2D,kBAAkBjJ,MAE5CzC,KAAKiG,OAAS3B,EAAEgH,MAAMtL,KAAKiG,OAAQwF,GACnCnH,EAAEC,KAAKkH,EAAe,SAAAhJ,GACpB,GAAMkJ,GAAqBlJ,EAAMxB,QAC3B2K,EAAeD,EAAME,cAAc,QACrCD,IACFA,EAAaE,aAAa,kBAAmBN,GAG/C,EAAAtK,GAAGW,GAAIE,OAAO4J,KAGT9J,GAGD,YAAAkK,kBAAR,SAA0BxC,GACxB,GAAMyC,GAAc,EAAA9K,GAAG,OAASC,UAAW,kCACrCmG,EAAQ,EAAApG,GAAG,OAASC,UAAW,uCAErCmG,GAAM1C,KAAK2E,EAAQsB,KACnB,IAAMW,GAAK,iCAAiCjC,EAAQsB,IAGpD,OAFAvD,GAAMzF,GAAG2J,GAAKA,EACdQ,EAAYjK,OAAOuF,EAAMzF,KAEvBA,GAAImK,EAAYnK,GAChB2J,GAAE,IAIE,YAAAE,kBAAR,SAA0BjJ,GACxB,MAAIzC,MAAKiM,gBAAgBxJ,GAChBzC,KAAKkG,aAAaP,OAAOlD,EAAMoI,KAAMpI,EAAMyJ,YAE3CzJ,GAIH,YAAAwJ,gBAAR,SAAwBxJ,GACtB,WAAsD0J,KAAhB1J,EAAOoI,MAGvC,YAAA3K,WAAR,qBACEF,MAAK2C,KAAKyJ,cAAc,EAAAC,iBAAiBC,mBAAoB,SAAC1E,GAC5D,SAAKD,yBAAyBC,KAEhC5H,KAAK2C,KAAKyJ,cAAc,EAAAC,iBAAiBE,gBAAiB,SAAC3E,GAAoC,SAAKU,0BACpGtI,KAAK2C,KAAKyJ,cAAc,EAAAI,eAAeC,qBAAsB,SAAC7E,GAAoC,SAAKiB,mBAAmBjB,KAC1H5H,KAAK2C,KAAKyJ,cAAc,EAAAM,YAAYC,cAAe,SAACtD,GAAkC,SAAKD,oBAAoBC,KAC/GrJ,KAAK2C,KAAKyJ,cAAc,EAAAnJ,qBAAqBC,sBAAuB,WAAM,SAAKA,0BAC/ElD,KAAK2C,KAAKyJ,cAAc,EAAAQ,mBAAmBC,iBAAkB,WAAM,SAAKjE,wCAzVnE,EAAA5C,GAAK,iBAEL,EAAA7F,SAAW,WAChB,EAAAC,gBACE2F,eAAgBA,EAChB1F,eAAgB,EAAAA,eAChByM,WAAY,EAAAA,WACZC,SAAU,EAAAA,SACVrK,UAAW,EAAAA,UACXoB,YAAa,EAAAA,eAOV,EAAA8B,SAMLgE,gBAAiB,EAAAnD,iBAAiBuG,oBAAqBC,cAAc,IAOrEnD,YAAa,EAAArD,iBAAiBuG,oBAAqBC,cAAc,IAOjEjD,gBAAiB,EAAAvD,iBAAiBuG,oBAAqBC,cAAc,KAuTzE,GA5VoC,EAAAC,UAAvB,GAAAnH,iBA8Vb,EAAAoH,eAAeC,4BAA4BrH,ILySrCsH,GACA,SAAUhO,EAAQC,EAASC,GAEjC,YAEAC,QAAOC,eAAeH,EAAS,cAAgBI,OAAO,GM5rBtD,aACA,QACA,SACA,QACA,OACA,OACA,OAEA,OAEA,2BAqHA,MApHS,GAAA4N,4BAAP,SAAmC5N,EAAe6N,GAChD,MAAO,IAAIC,QAAO,EAAAC,YAAYC,cAAchO,EAAO6N,GAAe,MAG7D,EAAAI,gCAAP,SAAuCjO,EAAekO,EAAeC,GACnE,GAAMC,GAAc9N,KAAK+N,0BAA0BH,EAAOlO,EAC1D,OAAOmO,GAAanO,IAAUoO,GAGzB,EAAAE,+BAAP,SAAsCC,EAAkBC,GACtD,GAAIC,IAAOF,GACPG,EAAQpO,KAAKsN,4BAA4BW,EAAUC,EAAMtI,QAAQyI,yBAuCrE,OAtCIH,GAAMtI,QAAQiI,cAChBvJ,EAAEgK,MAAMJ,EAAMtI,QAAQiI,cACnBU,QACAC,OAAO,SAAAC,GACN,MAAOL,GAAMM,KAAKD,EAAK,MAExBlK,KAAK,SAAAnC,GACJ+L,EAAIpG,KAAK3F,EAAM,OAGjB,EAAAuM,WAAWC,uBAA+BV,EAAMtI,QAAQgI,MAAO,gBAC/D,EAAAe,WAAWC,uBAA+BV,EAAMtI,QAAQgI,MAAO,eAE/DtJ,EAAEC,KAAK,EAAAsK,UAAUC,sBAAuB,SAACpP,EAAeqP,GAChDA,IAAOb,GAAMtI,QAAQiI,eAAiBO,EAAMM,KAAKhP,IACrDyO,EAAIpG,KAAKgH,MAKf,EAAAJ,WAAWC,uBAA+BV,EAAMtI,QAAQgI,MAAO,gBAC/D,EAAAe,WAAWC,uBAA+BV,EAAMtI,QAAQgI,MAAO,aAE/DtJ,EAAEC,KACAD,EAAEkK,OAAOlK,EAAEiK,MAAM,EAAAM,UAAUC,uBAAwB,SAAAL,GACjD,MAAOL,GAAMM,KAAKD,EAAK,MAEzB,SAAArM,GACE+L,EAAIpG,KAAK3F,EAAM,MAGV,EAAAuM,WAAWC,uBAA+BV,EAAMtI,QAAQgI,MAAO,WACxEtJ,EAAEC,KAAKD,EAAE0K,MAAM,EAAG,IAAK,SAAAC,GACjBb,EAAMM,KAAK,EAAAQ,UAAUC,cAAcF,EAAQ,KAC7Cd,EAAIpG,MAAM,IAAMkH,EAAMjO,YAAYoO,QAAQ,MAIzCjB,GAGF,EAAAkB,wBAAP,SAA+BC,GAK7B,MAJAA,GAAShL,EAAEiL,IAAID,EAAQ,SAAA5P,GACrB,MAAO,GAAA8P,MAAMC,qBAAqB/P,KAEpC4P,EAAO,GAAK,KAAOA,EAAO,GAAK,KACxBA,EAAOI,KAAK,MAGd,EAAAC,uBAAP,SACEC,EACAC,EACAC,EACAC,GAKA,MAAOH,GAAsBC,GAAmBD,EAAsBG,GAAuBH,EAAsBE,GAG9G,EAAAE,gCAAP,SAAuC9B,EAAoCrG,GAEzE,GAAyC,GAArCqG,EAAMoB,OAAOW,cAAcC,OAAa,CAC1C,GAAIC,GAAW,EAAAjP,GAAG2G,GAAWxD,QAAQ,0BACrCC,GAAEC,KAAK4L,EAAU,SAAAC,GACf,EAAAlP,GAAGkP,GAASnM,SAAS,sBAKpB,EAAA8J,0BAAP,SAAiCH,EAAelO,GAC9C,GAAI2Q,EAEJ,IAAI,EAAA1B,WAAWC,uBAAuBhB,EAAM0C,cAAe,aACzDD,EAAQ,EAAAxB,UAAU0B,YAAY7Q,GAAO8Q,YAChC,IAAI,EAAA7B,WAAWC,uBAAuBhB,EAAM0C,cAAe,eAChED,EAAQ,EAAAxB,UAAU4B,cAAc/Q,GAAO8Q,YAClC,IAAIE,EAAWC,kBAAkB/C,EAAOlO,GAAQ,CACrD,GAAMuP,GAAQrO,SAASlB,EAAO,GAC9B2Q,GAAQ,EAAAnB,UAAUC,cAAcF,EAAQ,OAExCoB,GAAQ,EAAA/O,EAAE5B,EAEZ,YAAgByM,IAATkE,GAAsB,EAAAb,MAAMoB,iBAAiBP,GAASA,EAAQ3Q,GAGhE,EAAAiR,kBAAP,SAAyB/C,EAAelO,GACtC,IAAK,EAAAiP,WAAWC,uBAAuBhB,EAAM0C,cAAe,UAC1D,OAAO,CAGT,IAAMO,GAAQjQ,SAASlB,EAAO,GAE9B,QAAIoR,MAAMD,MAINA,EAAQ,GAAKA,EAAQ,KAM7B,IArHa,GAAAH,cNuyBPK,IACA,SAAU1R,EAAQC,EAASC,GAEjC,YAEAC,QAAOC,eAAeH,EAAS,cAAgBI,OAAO,GO/yBtD,gCAQA,MADgB,GAAAmN,iBAAmB,mBACnC,IARa,GAAAD,sBPo0BPoE,IACA,SAAU3R,EAAQC,KAMlB2R,IACA,SAAU5R,EAAQC,EAASC,GAEjC,YAEAC,QAAOC,eAAeH,EAAS,cAAgBI,OAAO,GQv1BtD,cACA,SACA,SACA,SACA,SACA,SACA,SAEA,SACA,SACA,SAGA,aACE,WAAoBwR,EAAmC3O,GAAnC,KAAA2O,WAAmC,KAAA3O,OAoEzD,MAlES,aAAAoD,OAAP,SAAckF,EAAcjF,GAC1B,OAAQiF,GACN,IAAK,eACH,MAAO7K,MAAKyK,wBACd,KAAK,iBACH,MAAOzK,MAAK0K,0BACd,KAAK,eACH,MAAO1K,MAAK2K,wBACd,KAAK,gBACH,MAAO3K,MAAK4K,yBACd,KAAK,WACH,MAAO5K,MAAK+K,wBACd,KAAK,YACH,MAAO/K,MAAKgL,0BACd,KAAK,eACH,MAAOhL,MAAKiL,wBACd,KAAK,iBACH,MAAOjL,MAAKmL,uBAAuBvF,EAAQiF,KAAMjF,EAAQgI,MAC3D,KAAK,0BACH,MAAO5N,MAAKqL,yBAAyBzF,EAAQiF,KAAMjF,EAAQgI,MAC7D,KAAK,gBACH,MAAO5N,MAAKoL,iBACd,SACE,MAAO,QAIN,YAAAX,uBAAP,WACE,MAAO,IAAI,GAAA0G,iBAAiBnR,KAAKuC,OAG5B,YAAAmI,yBAAP,WACE,MAAO,IAAI,GAAA0G,mBAAmBpR,KAAKuC,OAG9B,YAAAoI,uBAAP,WACE,MAAO,IAAI,GAAA0G,iBAAiBrR,KAAKuC,OAG5B,YAAAqI,wBAAP,WACE,MAAO,IAAI,GAAA0G,kBAAkBtR,KAAKuC,OAG7B,YAAAwI,uBAAP,WACE,MAAO,IAAI,GAAAwG,iBAAiBvR,KAAKuC,OAG5B,YAAAyI,yBAAP,WACE,MAAO,IAAI,GAAAwG,mBAAmBxR,KAAKuC,OAG9B,YAAA0I,uBAAP,WACE,MAAO,IAAI,GAAAwG,iBAAiBzR,KAAKuC,OAG5B,YAAA4I,uBAAP,SAA8BN,EAAc+C,GAC1C,MAAO,IAAI,GAAA8D,iBAAiB7G,EAAM+C,EAAO5N,KAAKkR,SAAUlR,KAAKuC,OAGxD,YAAA8I,yBAAP,SAAgCR,EAAc+C,GAC5C,MAAO,IAAI,GAAA+D,mBAAmB9G,EAAM+C,EAAO5N,KAAKuC,OAG3C,YAAA6I,gBAAP,WACE,MAAO,IAAI,GAAAwG,UAAU5R,KAAKuC,OAE9B,IArEa,GAAA4D,8BRy5BP0L,IACA,SAAUxS,EAAQC,EAASC,GAEjC,YAEA,IAAIwF,GAAa/E,MAAQA,KAAK+E,WAAc,WACxC,GAAIC,GAAgBxF,OAAOyF,iBACpBC,uBAA2BC,QAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASG,KAAOxF,KAAKyF,YAAcL,EADnCJ,EAAcI,EAAGC,GAEjBD,EAAEM,UAAkB,OAANL,EAAa7F,OAAOmG,OAAON,IAAMG,EAAGE,UAAYL,EAAEK,UAAW,GAAIF,OAGvFhG,QAAOC,eAAeH,EAAS,cAAgBI,OAAO,GSt7BtD,cACA,OAEA,cACE,WAAmB6C,GAAnB,MACE,YAAM,EAAAjB,EAAE,iBAAkBiB,IAAK,ITy7B3B,OS17Ba,GAAAA,OT07BNoE,ESv7Bf,MAJsC,QAItC,GAJsC,EAAAxD,cAAzB,GAAAgO,oBTo8BPW,IACA,SAAUzS,EAAQC,EAASC,GAEjC,YAEA,IAAIwF,GAAa/E,MAAQA,KAAK+E,WAAc,WACxC,GAAIC,GAAgBxF,OAAOyF,iBACpBC,uBAA2BC,QAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASG,KAAOxF,KAAKyF,YAAcL,EADnCJ,EAAcI,EAAGC,GAEjBD,EAAEM,UAAkB,OAANL,EAAa7F,OAAOmG,OAAON,IAAMG,EAAGE,UAAYL,EAAEK,UAAW,GAAIF,OAGvFhG,QAAOC,eAAeH,EAAS,cAAgBI,OAAO,GUt9BtD,cACA,OAEA,cACE,WAAmB6C,GAAnB,MACE,YAAM,EAAAjB,EAAE,eAAgBiB,IAAK,IVy9BzB,OU19Ba,GAAAA,OV09BNoE,EUl9Bf,MATwC,QAK/B,YAAAjG,SAAP,WACE,GAAIhB,GAAQ,YAAMgB,SAAQ,UAC1B,OAAOhB,GAAQ,IAAMA,EAAQ,IAAM,IAEvC,GATwC,EAAAyD,cAA3B,GAAAiO,sBVw+BPW,IACA,SAAU1S,EAAQC,EAASC,GAEjC,YAEA,IAAIwF,GAAa/E,MAAQA,KAAK+E,WAAc,WACxC,GAAIC,GAAgBxF,OAAOyF,iBACpBC,uBAA2BC,QAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASG,KAAOxF,KAAKyF,YAAcL,EADnCJ,EAAcI,EAAGC,GAEjBD,EAAEM,UAAkB,OAANL,EAAa7F,OAAOmG,OAAON,IAAMG,EAAGE,UAAYL,EAAEK,UAAW,GAAIF,OAGvFhG,QAAOC,eAAeH,EAAS,cAAgBI,OAAO,GW1/BtD,cACA,OACA,OAEA,cACE,WAAmB6C,GAAnB,MACE,YAAM,EAAAjB,EAAE,mBAAoBiB,IAAK,IX6/B7B,OW9/Ba,GAAAA,OX8/BNoE,EWh/Bf,MAfsC,QAK7B,YAAAjG,SAAP,WACE,GAAIhB,GAAQ,YAAMgB,SAAQ,WACtBsR,EAActS,EAAMuS,MAAM,KAC1BC,EAAiB,EAKrB,OAJA5N,GAAEC,KAAKyN,EAAa,SAAAG,GAClBD,GAAkBC,EAAa,SAEjCD,EAAiBA,EAAe9C,OAAO,EAAG8C,EAAehC,OAAS,IAGtE,GAfsC,EAAA/M,cAAzB,GAAAkO,oBXkhCPe,IACA,SAAU/S,EAAQC,EAASC,GAEjC,YAEA,IAAIwF,GAAa/E,MAAQA,KAAK+E,WAAc,WACxC,GAAIC,GAAgBxF,OAAOyF,iBACpBC,uBAA2BC,QAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASG,KAAOxF,KAAKyF,YAAcL,EADnCJ,EAAcI,EAAGC,GAEjBD,EAAEM,UAAkB,OAANL,EAAa7F,OAAOmG,OAAON,IAAMG,EAAGE,UAAYL,EAAEK,UAAW,GAAIF,OAGvFhG,QAAOC,eAAeH,EAAS,cAAgBI,OAAO,GYriCtD,cACA,OACA,OAEA,cACE,WAAmB6C,GAAnB,MACE,YAAM,EAAAjB,EAAE,oBAAqBiB,IAAK,IZwiC9B,OYziCa,GAAAA,OZyiCNoE,EYvhCf,MAnBuC,QAK9B,YAAAjG,SAAP,WACE,GAAIhB,GAAQ,YAAMgB,SAAQ,WACtBwR,EAAiB,EAErB,IAAIxS,EAAO,CACT,GAAIsS,GAActS,EAAMuS,MAAM,IAC9B3N,GAAEC,KAAKyN,EAAa,SAAAG,GAClBD,GAAkB,QAAUC,IAE9BD,EAAiBA,EAAe9C,OAAO,GAGzC,MAAO8C,IAEX,GAnBuC,EAAA/O,cAA1B,GAAAmO,qBZ+jCPe,IACA,SAAUhT,EAAQC,EAASC,GAEjC,YAEA,IAAIwF,GAAa/E,MAAQA,KAAK+E,WAAc,WACxC,GAAIC,GAAgBxF,OAAOyF,iBACpBC,uBAA2BC,QAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASG,KAAOxF,KAAKyF,YAAcL,EADnCJ,EAAcI,EAAGC,GAEjBD,EAAEM,UAAkB,OAANL,EAAa7F,OAAOmG,OAAON,IAAMG,EAAGE,UAAYL,EAAEK,UAAW,GAAIF,OAGvFhG,QAAOC,eAAeH,EAAS,cAAgBI,OAAO,GallCtD,cACA,OACA,OACA,QAEA,cACE,WAAmB6C,GAAnB,MACE,YAAM,EAAAjB,EAAE,WAAYiB,IAAK,IbqlCrB,OatlCa,GAAAA,ObslCNoE,EajkCf,MAtBsC,QAK7B,YAAAjG,SAAP,WACE,MAAO,OAGF,YAAAO,MAAP,qBACE,aAAMA,MAAK,UACX,IAAIoC,GAAQrD,KAAKuD,UASjB,OARAF,GAAMG,SAAU,EAChB,EAAAtC,GAAGmC,GAAOnB,GAAG,SAAU,WACjB,EAAKK,KACP,EAAArB,GAAG,EAAKqB,MAAMS,QAAQ,EAAAC,qBAAqBC,uBAE3C,EAAAhC,GAAG,EAAKT,SAASuC,QAAQ,EAAAC,qBAAqBC,yBAG3ClD,KAAKS,SAEhB,GAtBsC,EAAAgE,UAAzB,GAAA8M,oBbknCPe,IACA,SAAUjT,EAAQC,EAASC,GAEjC,YAEA,IAAIwF,GAAa/E,MAAQA,KAAK+E,WAAc,WACxC,GAAIC,GAAgBxF,OAAOyF,iBACpBC,uBAA2BC,QAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASG,KAAOxF,KAAKyF,YAAcL,EADnCJ,EAAcI,EAAGC,GAEjBD,EAAEM,UAAkB,OAANL,EAAa7F,OAAOmG,OAAON,IAAMG,EAAGE,UAAYL,EAAEK,UAAW,GAAIF,OAGvFhG,QAAOC,eAAeH,EAAS,cAAgBI,OAAO,GctoCtD,cACA,OACA,OACA,QACA,SACA,QAEA,cAIE,WAAmB6C,GAAnB,MACE,YAAM,EAAAjB,EAAE,aAAciB,IAAK,IdsoCvB,OcvoCa,GAAAA,OduoCNoE,Ec9lCf,MA7CwC,QAQ/B,YAAArG,MAAP,WACEN,KAAKuS,SAASjS,QACdN,KAAKwS,QAAQlS,SAGR,YAAAW,MAAP,WACE,YAAMA,MAAK,UACX,IAAMwB,GAAQ,EAAAvB,GAAG,YAAcC,UAAW,oCAa1C,OAZsBsB,GAAMZ,GAAI2C,UAAW,EAE3CxE,KAAKwS,QAAU,GAAI,GAAAnS,eAAeL,KAAKL,SAASgD,KAAK3C,UAAOmM,OAAWA,GAAW,EAAA7K,EAAE,cACpFmB,EAAMV,OAAO/B,KAAKwS,QAAQhS,cAE1BR,KAAKuS,SAAW,GAAI,GAAAxF,SAAS/M,KAAKL,SAASgD,KAAK3C,OAAQ,OAAQ,cAAWmM,GAAW,EAAA7K,EAAE,cACxFtB,KAAKuS,SAASE,MAAM,4CACpBhQ,EAAMV,OAAO/B,KAAKuS,SAAS/R,cAE3BR,KAAKS,QAAQ8K,YAAY9I,EAAMZ,IAE/B,EAAAX,GAAGlB,KAAKuD,YAAYrB,GAAG,SAAUlC,KAAKL,SAASgD,KAAK3C,OAC7CA,KAAKS,SAGP,YAAAC,SAAP,WACE,GAAMgS,GAAc,GAAIC,MAClBC,EAAO5S,KAAKwS,QAAQ7R,cACpBkS,EAAO7S,KAAKuS,SAAS7R,WAAW4P,cAEhCwC,EAAO,GAAIH,KAOjB,OANY,UAARE,EACFC,EAAKC,SAASL,EAAYM,WAAaJ,GAEvCE,EAAKG,QAAQP,EAAYQ,UAAYN,GAGhC5S,KAAKsD,cAAgBsP,EAAO,UAAY,EAAA1D,UAAUiE,aAAaL,GAAQ,IAElF,GA7CwC,EAAArO,UAA3B,GAAA+M,sBdkrCP4B,IACA,SAAU/T,EAAQC,EAASC,GAEjC,YAEA,IAAIwF,GAAa/E,MAAQA,KAAK+E,WAAc,WACxC,GAAIC,GAAgBxF,OAAOyF,iBACpBC,uBAA2BC,QAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASG,KAAOxF,KAAKyF,YAAcL,EADnCJ,EAAcI,EAAGC,GAEjBD,EAAEM,UAAkB,OAANL,EAAa7F,OAAOmG,OAAON,IAAMG,EAAGE,UAAYL,EAAEK,UAAW,GAAIF,OAGvFhG,QAAOC,eAAeH,EAAS,cAAgBI,OAAO,GexsCtD,cACA,QACA,OACA,OACA,QACA,QAEA,cAIE,WAAmB6C,GAAnB,MACE,YAAM,EAAAjB,EAAE,WAAYiB,IAAK,If0sCrB,Oe3sCa,GAAAA,OAHZ,EAAA8Q,gBAA8B,GAAI,GAAAvG,WAAW,EAAKnN,SAASgD,KAAK,IAChE,EAAA2Q,iBAA+B,GAAI,GAAAxG,WAAW,EAAKnN,SAASgD,KAAK,If6sC3DgE,EeppCf,MA3DsC,QAQ7B,YAAArG,MAAP,WACEN,KAAKqT,gBAAgB/S,QACrBN,KAAKsT,iBAAiBhT,SAGjB,YAAAW,MAAP,WACE,YAAMA,MAAK,UACX,IAAM4G,GAAY,EAAA3G,GAAG,YAAcC,UAAW,oCAQ9C,OAPsB0G,GAAUhG,GAAI2C,UAAW,EAE/CqD,EAAU9F,OAAO/B,KAAKqT,gBAAgB7S,cACtCqH,EAAU9F,OAAO/B,KAAKuT,YACtB1L,EAAU9F,OAAO/B,KAAKsT,iBAAiB9S,cAEvCR,KAAKS,QAAQ8K,YAAY1D,EAAUhG,IAC5B7B,KAAKS,SAGP,YAAAC,SAAP,WACE,GAAM8S,GAAYxT,KAAKqT,gBAAgBI,eACjCC,EAAa1T,KAAKsT,iBAAiBG,eACnCE,EAAoB3T,KAAKqT,gBAAgB3S,WACzCkT,EAAqB5T,KAAKsT,iBAAiB5S,WAE7CmT,EAAQ,EAEZ,IAAI7T,KAAKsD,aAAc,CACrB,GAAIkQ,GAAaE,EAAY,CAK3B,GAJiB,EAAAI,SAASC,UACxB,EAAA7E,UAAU8E,4BAA4BR,GACtC,EAAAtE,UAAU8E,4BAA4BJ,IAE3BK,kBAAoB,EAC/B,KAAM,GAAA3S,EAAE,6BAGRqS,IACFE,GAAS,WAAWF,EAAiB,KAEnCC,IACFC,GAAS,WAAWD,EAAkB,KAG1C,MAAOC,IAGD,YAAAN,SAAR,WACE,GAAMW,GAAM,EAAAhT,GAAG,OAASC,UAAW,6BAEnC,OADA+S,GAAItP,KAAK,EAAAtD,EAAE,OAAOgP,eACX4D,EAAIrS,IAEf,GA3DsC,EAAA4C,UAAzB,GAAAgN,oBfiwCP0C,IACA,SAAU9U,EAAQC,EAASC,GAEjC,YAEA,IAAIwF,GAAa/E,MAAQA,KAAK+E,WAAc,WACxC,GAAIC,GAAgBxF,OAAOyF,iBACpBC,uBAA2BC,QAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASG,KAAOxF,KAAKyF,YAAcL,EADnCJ,EAAcI,EAAGC,GAEjBD,EAAEM,UAAkB,OAANL,EAAa7F,OAAOmG,OAAON,IAAMG,EAAGE,UAAYL,EAAEK,UAAW,GAAIF,OAGvFhG,QAAOC,eAAeH,EAAS,cAAgBI,OAAO,GgBvxCtD,YAGA,QACA,OACA,QACA,QACA,SAEA,cAIE,WAAmB4C,EAA0B8R,EAA2BlD,EAAkC3O,GAA1G,MACE,YAAMD,EAAWC,IAAK,IhBwxClB,OgBzxCa,GAAAD,YAA0B,EAAA8R,YAA2B,EAAAlD,WAAkC,EAAA3O,OhByxC7FoE,EgBxuCf,MArDsC,QAQ7B,YAAArG,MAAP,WACEN,KAAKqU,SAAS/T,SAGT,YAAAW,MAAP,sBACMqT,EAAa,EAAApT,GAAG,YAAMD,MAAK,WAK/B,OAJAjB,MAAKuU,mBAAmBC,KAAK,WAC3BF,EAAWvS,OAAO,EAAKsS,SAAS7T,gBAElCR,KAAKS,QAAU6T,EAAWzS,GACnB7B,KAAKS,SAGP,YAAAC,SAAP,WACE,GAAIhB,GAAQM,KAAKqU,SAAWrU,KAAKqU,SAAS3T,WAAa,GACnDmC,EAAe,GAAI,GAAA4R,YACvB,OAAI/U,IACFmD,EAAaC,mBAAmB4R,mBAAmB1U,KAAKoU,UAAW,MAAO1U,IACnEmD,EAAa5B,QAAQwI,IAErB,IAIH,YAAA8K,iBAAR,qBACE,OAAOvU,MAAKkR,SACTyD,iBACC/G,MAAO5N,KAAKoU,UACZQ,sBAAuB,KAExBJ,KAAK,SAAClF,GACL,GAAI1J,IAAW,GACftB,GAAEC,KAAK+K,EAAQ,SAAC5P,GACdkG,EAAQmC,KAAKrI,EAAMA,SAErB,EAAK2U,SAAW,GAAI,GAAAtH,SAClB,EAAKpN,SAASgD,KAAK,GACnBiD,EACA,SAACiP,GACC,MAAO,GAAAnE,WAAW3C,0BAA0B,EAAKqG,UAAWS,IAE9D,EAAKvS,cAIf,GArDsC,EAAAuC,cAAzB,GAAA6M,oBhB80CPoD,IACA,SAAUzV,EAAQC,EAASC,GAEjC,YAEA,IAAIwF,GAAa/E,MAAQA,KAAK+E,WAAc,WACxC,GAAIC,GAAgBxF,OAAOyF,iBACpBC,uBAA2BC,QAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASG,KAAOxF,KAAKyF,YAAcL,EADnCJ,EAAcI,EAAGC,GAEjBD,EAAEM,UAAkB,OAANL,EAAa7F,OAAOmG,OAAON,IAAMG,EAAGE,UAAYL,EAAEK,UAAW,GAAIF,OAGvFhG,QAAOC,eAAeH,EAAS,cAAgBI,OAAO,GiBt2CtD,aACA,QACA,OACA,SACA,QAEA,cAKE,WAAmB4C,EAA0B8R,EAA0B7R,GAAvE,MACE,YAAMD,EAAWC,IAAK,IjBu2ClB,OiBx2Ca,GAAAD,YAA0B,EAAA8R,YAA0B,EAAA7R,OjBw2C1DoE,EiBl0Cf,MA3CwC,QAS/B,YAAArG,MAAP,WACEN,KAAK+U,KAAKzU,QACVN,KAAKyC,MAAMnC,SAGN,YAAAW,MAAP,WACE,GAAMqT,GAAa,EAAApT,GAAG,YAAMD,MAAK,WAMjC,OALAjB,MAAK+U,KAAO,GAAI,GAAAhI,SAAS/M,KAAKL,SAASgD,KAAK3C,OAAQ,WAAY,iBAAkB,eAAYmM,GAAWnM,KAAKsC,WAC9GgS,EAAWvS,OAAO/B,KAAK+U,KAAKvU,cAC5BR,KAAKyC,MAAQ,GAAI,GAAAC,UAAU1C,KAAKL,SAASgD,KAAK3C,MAAOA,KAAKsC,WAC1DgS,EAAWvS,OAAO/B,KAAKyC,MAAMjC,cAC7BR,KAAKS,QAAU6T,EAAWzS,GACnB7B,KAAKS,SAGP,YAAAC,SAAP,WACE,GAAIsU,GAAahV,KAAKyC,MAAM/B,WACxBuU,EAAU,GAAI,GAAAR,YAClB,IAAIO,EACF,OAAQhV,KAAK+U,KAAKrU,YAChB,IAAK,WAEH,MADAuU,GAAQnS,mBAAmB4R,mBAAmB1U,KAAKoU,UAAW,KAAMY,IAC7DC,EAAQhU,QAAQwI,EAEzB,KAAK,iBAEH,MADAwL,GAAQnS,mBAAmB4R,mBAAmB1U,KAAKoU,UAAW,MAAOY,IAC9DC,EAAQhU,QAAQwI,EACzB,SAEE,MADAwL,GAAQnS,mBAAmB4R,mBAAmB1U,KAAKoU,UAAW,MAAOY,IAC9DC,EAAQhU,QAAQwI,GAG7B,MAAO,IAEX,GA3CwC,EAAA5E,cAA3B,GAAA8M,sBjBq5CPuD,IACA,SAAU7V,EAAQC,EAASC,GAEjC,YAEA,IAAIwF,GAAa/E,MAAQA,KAAK+E,WAAc,WACxC,GAAIC,GAAgBxF,OAAOyF,iBACpBC,uBAA2BC,QAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASG,KAAOxF,KAAKyF,YAAcL,EADnCJ,EAAcI,EAAGC,GAEjBD,EAAEM,UAAkB,OAANL,EAAa7F,OAAOmG,OAAON,IAAMG,EAAGE,UAAYL,EAAEK,UAAW,GAAIF,OAGvFhG,QAAOC,eAAeH,EAAS,cAAgBI,OAAO,GkB16CtD,YACA,OACA,QACA,QACA,SACA,SAEA,cASE,WAAmB6C,GAAnB,MACE,YAAM,OAAQA,IAAK,IlBq6Cf,OkBt6Ca,GAAAA,OlBs6CNoE,EkB/2Cf,MAhE+B,QAatB,YAAArG,MAAP,WACEN,KAAKmV,WAAW7U,QAChBN,KAAKoV,UAAU9U,SAGV,YAAAW,MAAP,WACE,GAAMmU,GAAY,EAAAlU,GAAG,YAAMD,MAAK,YAC1BoU,EAAmB,EAAAnU,GAAG,OAASC,UAAW,iCAchD,OAZAnB,MAAKmV,WAAa,GAAI,GAAApI,SAAS/M,KAAKL,SAASgD,KAAK3C,MAAO4R,EAAU0D,UAAOnJ,GAAW,EAAA7K,EAAE,SACvFtB,KAAKmV,WAAW1C,MAAM,yBACtB4C,EAAiBtT,OAAO/B,KAAKmV,WAAW3U,cAExCR,KAAKoV,UAAY,GAAI,GAAA/U,eAAeL,KAAKL,SAASgD,KAAK3C,UAAOmM,OAAWA,GAAW,EAAA7K,EAAE,cACtF+T,EAAiBtT,OAAO/B,KAAKoV,UAAU5U,cAEvCR,KAAKuV,WAAa,GAAI,GAAAxI,SAAS/M,KAAKL,SAASgD,KAAK3C,MAAO4R,EAAU4D,UAAOrJ,GAAW,EAAA7K,EAAE,oBACvFtB,KAAKuV,WAAW9C,MAAM,2BACtB4C,EAAiBtT,OAAO/B,KAAKuV,WAAW/U,cACxC4U,EAAUrT,OAAOsT,EAAiBxT,IAClC7B,KAAKS,QAAU2U,EAAUvT,GAClB7B,KAAKS,SAGP,YAAAC,SAAP,WACE,GAAImS,GAAO7S,KAAKyV,iBACZ5S,EAAe,GAAI,GAAA4R,YACvB,IAAI5B,EACF,OAAQ7S,KAAKmV,WAAWzU,YACtB,IAAK,UAEH,MADAmC,GAAaC,mBAAmB4R,mBAAmB,QAAS,MAAO1U,KAAKyV,iBAAiBzU,aAClF6B,EAAa5B,QAAQwI,EAC9B,SAEE,MADA5G,GAAaC,mBAAmB4R,mBAAmB,QAAS,MAAO1U,KAAKyV,iBAAiBzU,aAClF6B,EAAa5B,QAAQwI,GAGlC,MAAO,IAGD,YAAAgM,eAAR,WACE,GAAI5C,GAAO7S,KAAKoV,UAAUvU,eAC1B,QAAQb,KAAKuV,WAAW7U,YACtB,IAAK,KACH,MAAc,MAAPmS,CACT,KAAK,KACH,MAAOA,GAAO6C,KAAKC,IAAI,KAAM,EAC/B,SACE,MAAO9C,KA5DC,EAAAyC,OAAS,UAAW,UACpB,EAAAE,OAAS,KAAM,KAAM,SA8DrC,GAhE+B,EAAA3Q,cAAlB,GAAA+M,alBu+CPgE,IACA,SAAUvW,EAAQC,KAMlBuW,GACA,SAAUxW,EAAQC,EAASC,GAEjC,YAEAC,QAAOC,eAAeH,EAAS,cAAgBI,OAAO,GmB1/CtD,YACA,OACA,OAEA,OAKA,aAoBE,WACSC,EACGmW,EACFC,EACAjW,OAHD,KAAAH,MAAA,SAA0C4S,UAEzC,KAAAwD,MAAsC,EAAAzU,GAFvC,KAAA3B,WACG,KAAAmW,eACF,KAAAC,kBACA,KAAAjW,QArBF,KAAAkW,kBAuBNhW,KAAKC,eACLD,KAAKiW,OAAO,GAAG,GACfjW,KAAKE,aAuGT,MA9HS,GAAAC,SAAP,WACE,EAAAC,gBACE2M,SAAUA,KA2BP,YAAAzM,MAAP,WACEN,KAAKiW,OAAO,GAAG,IAGV,YAAAxD,MAAP,SAAajH,GACX,EAAAtK,GAAGlB,KAAKS,SAASqL,aAAa,KAAMN,IAO/B,YAAAhL,WAAP,WACE,MAAOR,MAAKS,SAOP,YAAAC,SAAP,WACE,MAAOV,MAAKkW,cAAcxW,OASrB,YAAAuW,OAAP,SAAcE,EAAeC,OAAA,KAAAA,OAAA,GAC3BpW,KAAKqW,aAAarW,KAAKgW,eAAeG,GAAQC,IAOzC,YAAAnV,MAAP,WACE,MAAOjB,MAAKS,SAOP,YAAAM,SAAP,SAAgBrB,GAAhB,UACE4E,GAAEC,KAAKvE,KAAKgW,eAAgB,SAAAM,GACtB,EAAApV,GAAGoV,GAAQC,aAAa,eAAiB7W,GAC3C,EAAK2W,aAAaC,MAKhB,YAAAD,aAAR,SAAqBC,EAA2BF,OAAA,KAAAA,OAAA,GAC9CpW,KAAKkW,cAAcxW,MAAQ4W,EAAO5W,MAC9B0W,GACFpW,KAAKL,SAASK,OAIV,YAAAC,aAAR,qBACED,MAAKkW,cAAmC,EAAAhV,GAAG,UACzCC,UAAW,mBACVU,GAEC7B,KAAKF,OACPE,KAAKkW,cAAcpK,aAAa,aAAc,EAAAxK,EAAEtB,KAAKF,OAGvD,IAAM0W,GAAgBxW,KAAKyW,cAC3BnS,GAAEC,KAAKiS,EAAe,SAAAE,GACpB,EAAAxV,GAAG,EAAKgV,eAAenU,OAAO2U,KAEhC1W,KAAKS,QAAUT,KAAKkW,eAGd,YAAAO,aAAR,sBACQtI,IAIN,OAHA7J,GAAEC,KAAKvE,KAAK8V,aAAc,SAACpW,GACzByO,EAAIpG,KAAK,EAAK4O,YAAYjX,MAErByO,GAGD,YAAAwI,YAAR,SAAoBjX,GAClB,GAAM4W,GAAS,EAAApV,GAAG,SAKlB,OAJAoV,GAAOxK,aAAa,aAAcpM,GAClC4W,EAAOxK,aAAa,QAASpM,GAC7B4W,EAAO1R,KAAK5E,KAAK+V,gBAAgBrW,IACjCM,KAAKgW,eAAejO,KAAwBuO,EAAOzU,IAC5CyU,EAAOzU,IAGR,YAAA3B,WAAR,qBACE,GAAAgB,GAAGlB,KAAKkW,eAAehU,GAAG,SAAU,WAAM,SAAKvC,SAAS,MAE5D,IAnIa,GAAAoN,YnBwnDP6J,GACA,SAAUvX,EAAQC,EAASC,GAEjC,YAEAC,QAAOC,eAAeH,EAAS,cAAgBI,OAAO,GoBtoDtD,WAEA,OACA,YAKA,aAgBE,WACSC,EACAG,EACA+K,EACCW,OAHD,KAAA7L,MAAA,SAAgDkX,UAG/C,KAAArL,MAAA,GAHD,KAAA7L,WACA,KAAAG,QACA,KAAA+K,OACC,KAAAW,KAERxL,KAAKC,eAmFT,MAtGS,GAAAE,SAAP,WACE,EAAAC,gBACE0D,YAAaA,KAuBV,YAAAxD,MAAP,WACE,GAAMwW,GAAoB9W,KAAKsD,YAC/BtD,MAAKuD,WAAWC,SAAU,EACtBsT,GACF9W,KAAKL,SAASK,OAQX,YAAAiW,OAAP,SAAcc,OAAA,KAAAA,OAAA,EACZ,IAAMD,GAAoB9W,KAAKsD,YAC/BtD,MAAKuD,WAAWC,SAAU,GACrBsT,GAAqBC,GACxB/W,KAAKL,SAASK,OAQX,YAAAiB,MAAP,WACE,MAAOjB,MAAKS,SAOP,YAAAD,WAAP,WACE,MAAOR,MAAKS,SAGP,YAAAC,SAAP,WACE,MAAOV,MAAKF,OAOP,YAAAwD,WAAP,WACE,MAAOtD,MAAKuD,WAAWC,SAOlB,YAAAD,SAAP,WACE,MAAyB,GAAArC,GAAGlB,KAAKS,SAASwB,KAAK,UAO1C,YAAAiC,SAAP,WACE,MAAyB,GAAAhD,GAAGlB,KAAKS,SAASwB,KAAK,UAGzC,YAAAhC,aAAR,sBACQ+W,EAAc,EAAA9V,GAAG,OAASC,UAAW,gBACrC8V,EAAa,EAAA/V,GAAG,SAAWG,KAAM,QAASwJ,KAAM7K,KAAK6K,KAAMW,GAAIxL,KAAKwL,KACpE0L,EAAa,EAAAhW,GAAG,SAAWC,UAAW,0BAA2BgW,IAAKnX,KAAKwL,IACjF0L,GAAWtS,KAAK5E,KAAKF,OACrBmX,EAAW/U,GAAG,SAAU,WACtB,EAAKvC,SAAS,KAGhBqX,EAAYjV,OAAOkV,EAAWpV,IAC9BmV,EAAYjV,OAAOmV,EAAWrV,IAC9B7B,KAAKS,QAAUuW,EAAYnV,IAE/B,IAzGa,GAAAiC","file":"AdvancedSearch.min__5f3280c404a1ee75a113.js","sourcesContent":["webpackJsonpCoveo__temporary([13,53,82,83],{\n\n/***/ 120:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar GlobalExports_1 = __webpack_require__(3);\r\nvar Strings_1 = __webpack_require__(6);\r\nvar Dom_1 = __webpack_require__(1);\r\nvar SVGDom_1 = __webpack_require__(16);\r\nvar SVGIcons_1 = __webpack_require__(12);\r\n/**\r\n * A numeric spinner widget with standard styling.\r\n */\r\nvar NumericSpinner = /** @class */ (function () {\r\n    /**\r\n     * Creates a new `NumericSpinner`.\r\n     * @param onChange The function to call when the numeric spinner value changes. This function takes the current\r\n     * `NumericSpinner` instance as an argument.\r\n     * @param min The minimum possible value of the numeric spinner.\r\n     * @param max The maximum possible value of the numeric spinner.\r\n     * @param label The label to use for the input for accessibility purposes.\r\n     */\r\n    function NumericSpinner(onChange, min, max, label) {\r\n        if (onChange === void 0) { onChange = function (numericSpinner) { }; }\r\n        if (min === void 0) { min = 0; }\r\n        this.onChange = onChange;\r\n        this.min = min;\r\n        this.max = max;\r\n        this.label = label;\r\n        this.buildContent();\r\n        this.bindEvents();\r\n    }\r\n    NumericSpinner.doExport = function () {\r\n        GlobalExports_1.exportGlobally({\r\n            NumericSpinner: NumericSpinner\r\n        });\r\n    };\r\n    /**\r\n     * Resets the numeric spinner.\r\n     */\r\n    NumericSpinner.prototype.reset = function () {\r\n        this.getSpinnerInput().value = '';\r\n        this.onChange(this);\r\n    };\r\n    /**\r\n     * Gets the element on which the numeric spinner is bound.\r\n     * @returns {HTMLInputElement} The numeric spinner element.\r\n     */\r\n    NumericSpinner.prototype.getElement = function () {\r\n        return this.element;\r\n    };\r\n    /**\r\n     * Gets the numeric spinner currently selected value (as a string).\r\n     * @returns {string} The numeric spinner value.\r\n     */\r\n    NumericSpinner.prototype.getValue = function () {\r\n        return this.getSpinnerInput().value;\r\n    };\r\n    /**\r\n     * Gets the numeric spinner currently selected value (as an integer).\r\n     * @returns {number} The numeric spinner value.\r\n     */\r\n    NumericSpinner.prototype.getIntValue = function () {\r\n        return this.getSpinnerInput().value ? parseInt(this.getSpinnerInput().value, 10) : this.min;\r\n    };\r\n    /**\r\n     * Gets the numeric spinner currently selected value (as a float).\r\n     * @returns {number} The numeric spinner value.\r\n     */\r\n    NumericSpinner.prototype.getFloatValue = function () {\r\n        return this.getSpinnerInput().value ? parseFloat(this.getSpinnerInput().value) : this.min;\r\n    };\r\n    /**\r\n     * Sets the numeric spinner value.\r\n     *\r\n     * @param value The value to set the numeric spinner to. If `value` is greater than [`max`]{@link NumericSpinner.max},\r\n     * this method sets the numeric spinner to its maximum value instead. Likewise, if value is lesser than\r\n     * [`min`]{@link NumericSpinner.min}, the method sets the numeric spinner to its minimum value.\r\n     */\r\n    NumericSpinner.prototype.setValue = function (value) {\r\n        if (this.max && value > this.max) {\r\n            value = this.max;\r\n        }\r\n        if (value < this.min) {\r\n            value = this.min;\r\n        }\r\n        this.getSpinnerInput().value = value.toString();\r\n        this.onChange(this);\r\n    };\r\n    /**\r\n     * Gets the element on which the numeric spinner is bound.\r\n     * @returns {HTMLInputElement} The numeric spinner element.\r\n     */\r\n    NumericSpinner.prototype.build = function () {\r\n        return this.element;\r\n    };\r\n    NumericSpinner.prototype.buildContent = function () {\r\n        var numericSpinner = Dom_1.$$('div', { className: 'coveo-numeric-spinner' });\r\n        var numberInput = Dom_1.$$('input', {\r\n            className: 'coveo-number-input',\r\n            type: 'text',\r\n            'aria-label': this.label ? Strings_1.l(this.label) : ''\r\n        });\r\n        var addOn = Dom_1.$$('span', { className: 'coveo-add-on' });\r\n        var arrowUp = Dom_1.$$('div', { className: 'coveo-spinner-up' }, SVGIcons_1.SVGIcons.icons.arrowUp);\r\n        SVGDom_1.SVGDom.addClassToSVGInContainer(arrowUp.el, 'coveo-spinner-up-svg');\r\n        var arrowDown = Dom_1.$$('div', { className: 'coveo-spinner-down' }, SVGIcons_1.SVGIcons.icons.arrowDown);\r\n        SVGDom_1.SVGDom.addClassToSVGInContainer(arrowDown.el, 'coveo-spinner-down-svg');\r\n        addOn.append(arrowUp.el);\r\n        addOn.append(arrowDown.el);\r\n        numericSpinner.append(numberInput.el);\r\n        numericSpinner.append(addOn.el);\r\n        this.element = numericSpinner.el;\r\n    };\r\n    NumericSpinner.prototype.bindEvents = function () {\r\n        var _this = this;\r\n        var up = Dom_1.$$(this.element).find('.coveo-spinner-up');\r\n        Dom_1.$$(up).on('click', function () {\r\n            _this.setValue(_this.getFloatValue() + 1);\r\n        });\r\n        var down = Dom_1.$$(this.element).find('.coveo-spinner-down');\r\n        Dom_1.$$(down).on('click', function () {\r\n            _this.setValue(_this.getFloatValue() - 1);\r\n        });\r\n        var numberInput = Dom_1.$$(this.element).find('input');\r\n        Dom_1.$$(numberInput).on('input', function () {\r\n            if (numberInput.value.match(/[0-9]*/)) {\r\n                _this.onChange(_this);\r\n            }\r\n        });\r\n    };\r\n    NumericSpinner.prototype.getSpinnerInput = function () {\r\n        return Dom_1.$$(this.element).find('.coveo-number-input');\r\n    };\r\n    return NumericSpinner;\r\n}());\r\nexports.NumericSpinner = NumericSpinner;\r\n\n\n/***/ }),\n\n/***/ 183:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TextInput_1 = __webpack_require__(54);\r\nvar AdvancedSearchEvents_1 = __webpack_require__(84);\r\nvar Dom_1 = __webpack_require__(1);\r\nvar KeywordsInput = /** @class */ (function () {\r\n    function KeywordsInput(inputName, root) {\r\n        this.inputName = inputName;\r\n        this.root = root;\r\n    }\r\n    KeywordsInput.prototype.reset = function () {\r\n        this.clear();\r\n    };\r\n    KeywordsInput.prototype.build = function () {\r\n        this.input = new TextInput_1.TextInput(this.onChange.bind(this), this.inputName);\r\n        return this.input.getElement();\r\n    };\r\n    KeywordsInput.prototype.setValue = function (value) {\r\n        this.input.setValue(value);\r\n    };\r\n    KeywordsInput.prototype.getValue = function () {\r\n        return this.input.getValue();\r\n    };\r\n    KeywordsInput.prototype.clear = function () {\r\n        this.input.setValue('');\r\n    };\r\n    KeywordsInput.prototype.updateQuery = function (queryBuilder) {\r\n        var value = this.getValue();\r\n        if (value) {\r\n            queryBuilder.advancedExpression.add(value);\r\n        }\r\n    };\r\n    KeywordsInput.prototype.onChange = function () {\r\n        if (this.root) {\r\n            Dom_1.$$(this.root).trigger(AdvancedSearchEvents_1.AdvancedSearchEvents.executeAdvancedSearch);\r\n        }\r\n        else if (this.input) {\r\n            Dom_1.$$(this.input.getElement()).trigger(AdvancedSearchEvents_1.AdvancedSearchEvents.executeAdvancedSearch);\r\n        }\r\n    };\r\n    return KeywordsInput;\r\n}());\r\nexports.KeywordsInput = KeywordsInput;\r\n\n\n/***/ }),\n\n/***/ 227:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AdvancedSearchEvents_1 = __webpack_require__(84);\r\nvar Dom_1 = __webpack_require__(1);\r\nvar RadioButton_1 = __webpack_require__(94);\r\nvar _ = __webpack_require__(0);\r\nvar DateInput = /** @class */ (function () {\r\n    function DateInput(inputName, root) {\r\n        this.inputName = inputName;\r\n        this.root = root;\r\n        this.buildContent();\r\n    }\r\n    DateInput.prototype.reset = function () {\r\n        this.radio.reset();\r\n    };\r\n    DateInput.prototype.build = function () {\r\n        return this.element;\r\n    };\r\n    DateInput.prototype.getElement = function () {\r\n        return this.element;\r\n    };\r\n    DateInput.prototype.isSelected = function () {\r\n        return this.getRadio().checked;\r\n    };\r\n    DateInput.prototype.updateQuery = function (queryBuilder) {\r\n        try {\r\n            var value = this.getValue();\r\n            if (value) {\r\n                queryBuilder.advancedExpression.add(value);\r\n            }\r\n            this.removeErrorMessage();\r\n        }\r\n        catch (error) {\r\n            this.setErrorMessage(error);\r\n        }\r\n    };\r\n    DateInput.prototype.getRadio = function () {\r\n        return Dom_1.$$(this.element).find('input');\r\n    };\r\n    DateInput.prototype.setErrorMessage = function (message) {\r\n        this.removeErrorMessage();\r\n        this.error = Dom_1.$$('div', {\r\n            className: 'coveo-error coveo-error-date-input'\r\n        }, message).el;\r\n        Dom_1.$$(this.element).append(this.error);\r\n    };\r\n    DateInput.prototype.removeErrorMessage = function () {\r\n        if (this.error) {\r\n            Dom_1.$$(this.error).remove();\r\n        }\r\n    };\r\n    DateInput.prototype.buildContent = function () {\r\n        var _this = this;\r\n        this.radio = new RadioButton_1.RadioButton(function () {\r\n            _this.deactivateAllInputs();\r\n            _this.activateSelectedInput();\r\n        }, this.inputName, 'coveo-advanced-search-date-input');\r\n        this.element = this.radio.getElement();\r\n        Dom_1.$$(this.element).addClass('coveo-advanced-search-date-input-section');\r\n        Dom_1.$$(this.radio.getRadio()).addClass('coveo-advanced-search-date');\r\n        Dom_1.$$(this.radio.getLabel()).addClass('coveo-advanced-search-label');\r\n    };\r\n    DateInput.prototype.deactivateAllInputs = function () {\r\n        var elements = Dom_1.$$(this.element.parentElement).findAll('fieldset');\r\n        _.each(elements, function (element) {\r\n            element.disabled = true;\r\n        });\r\n    };\r\n    DateInput.prototype.activateSelectedInput = function () {\r\n        var elements = Dom_1.$$(this.element).findAll('fieldset');\r\n        _.each(elements, function (element) {\r\n            element.disabled = false;\r\n        });\r\n    };\r\n    DateInput.prototype.onChange = function () {\r\n        if (this.root) {\r\n            Dom_1.$$(this.root).trigger(AdvancedSearchEvents_1.AdvancedSearchEvents.executeAdvancedSearch);\r\n        }\r\n        else if (this.element) {\r\n            Dom_1.$$(this.element).trigger(AdvancedSearchEvents_1.AdvancedSearchEvents.executeAdvancedSearch);\r\n        }\r\n    };\r\n    return DateInput;\r\n}());\r\nexports.DateInput = DateInput;\r\n\n\n/***/ }),\n\n/***/ 228:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Dom_1 = __webpack_require__(1);\r\nvar AdvancedSearchEvents_1 = __webpack_require__(84);\r\nvar Strings_1 = __webpack_require__(6);\r\nvar DocumentInput = /** @class */ (function () {\r\n    function DocumentInput(inputName, root) {\r\n        this.inputName = inputName;\r\n        this.root = root;\r\n    }\r\n    DocumentInput.prototype.reset = function () { };\r\n    DocumentInput.prototype.build = function () {\r\n        var documentInput = Dom_1.$$('div', { className: 'coveo-advanced-search-document-input-section' });\r\n        var label = Dom_1.$$('span', { className: 'coveo-advanced-search-label' });\r\n        label.text(Strings_1.l(this.inputName));\r\n        documentInput.append(label.el);\r\n        this.element = documentInput.el;\r\n        return this.element;\r\n    };\r\n    DocumentInput.prototype.getValue = function () {\r\n        return '';\r\n    };\r\n    DocumentInput.prototype.updateQuery = function (queryBuilder) {\r\n        var value = this.getValue();\r\n        if (value) {\r\n            queryBuilder.advancedExpression.add(this.getValue());\r\n        }\r\n    };\r\n    DocumentInput.prototype.onChange = function () {\r\n        if (this.root) {\r\n            Dom_1.$$(this.root).trigger(AdvancedSearchEvents_1.AdvancedSearchEvents.executeAdvancedSearch);\r\n        }\r\n        else if (this.element) {\r\n            Dom_1.$$(this.element).trigger(AdvancedSearchEvents_1.AdvancedSearchEvents.executeAdvancedSearch);\r\n        }\r\n    };\r\n    return DocumentInput;\r\n}());\r\nexports.DocumentInput = DocumentInput;\r\n\n\n/***/ }),\n\n/***/ 233:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Component_1 = __webpack_require__(7);\r\nvar ComponentOptions_1 = __webpack_require__(8);\r\nvar QueryEvents_1 = __webpack_require__(11);\r\nvar AdvancedSearchEvents_1 = __webpack_require__(84);\r\nvar SettingsEvents_1 = __webpack_require__(53);\r\nvar Initialization_1 = __webpack_require__(2);\r\nvar Strings_1 = __webpack_require__(6);\r\nvar Dom_1 = __webpack_require__(1);\r\nvar AdvancedSearchInputFactory_1 = __webpack_require__(583);\r\nvar AnalyticsActionListMeta_1 = __webpack_require__(10);\r\nvar QuerySummaryEvents_1 = __webpack_require__(514);\r\nvar _ = __webpack_require__(0);\r\nvar GlobalExports_1 = __webpack_require__(3);\r\n__webpack_require__(594);\r\nvar NumericSpinner_1 = __webpack_require__(120);\r\nvar DatePicker_1 = __webpack_require__(85);\r\nvar Dropdown_1 = __webpack_require__(62);\r\nvar TextInput_1 = __webpack_require__(54);\r\nvar RadioButton_1 = __webpack_require__(94);\r\nvar ExternalModulesShim_1 = __webpack_require__(26);\r\nvar BreadcrumbEvents_1 = __webpack_require__(34);\r\nvar SVGIcons_1 = __webpack_require__(12);\r\nvar AccessibleButton_1 = __webpack_require__(15);\r\n/**\r\n * The `AdvancedSearch` component is meant to render a section in the [`Settings`]{@link Settings} menu to allow the end\r\n * user to easily create complex queries to send to the index.\r\n *\r\n * **Note:**\r\n * > You can write custom code to add new sections in the **Advanced Search** modal box generated by this component by\r\n * > attaching a handler to the [`buildingAdvancedSearch`]{@link AdvancedSearchEvents.buildingAdvancedSearch} event.\r\n *\r\n * @availablesince [October 2016 Release (v1.1550.5)](https://docs.coveo.com/en/309/#october-2016-release-v115505)\r\n */\r\nvar AdvancedSearch = /** @class */ (function (_super) {\r\n    __extends(AdvancedSearch, _super);\r\n    /**\r\n     * Creates a new `AdvancedSearch` component.\r\n     *\r\n     * Triggers the [`buildingAdvancedSearch`]{@link AdvancedSearchEvents.buildingAdvancedSearch} event.\r\n     * @param element The HTMLElement on which to instantiate the component.\r\n     * @param options The options for the `AdvancedSearch` component.\r\n     * @param bindings The bindings that the component requires to function normally. If not set, these will be\r\n     * automatically resolved (with a slower execution time).\r\n     */\r\n    function AdvancedSearch(element, options, bindings, ModalBox) {\r\n        if (ModalBox === void 0) { ModalBox = ExternalModulesShim_1.ModalBox; }\r\n        var _this = _super.call(this, element, AdvancedSearch.ID, bindings) || this;\r\n        _this.element = element;\r\n        _this.options = options;\r\n        _this.ModalBox = ModalBox;\r\n        _this.inputs = [];\r\n        _this.inputFactory = new AdvancedSearchInputFactory_1.AdvancedSearchInputFactory(_this.queryController.getEndpoint(), _this.root);\r\n        _this.externalSections = [];\r\n        _this.needToPopulateBreadcrumb = false;\r\n        // Used as an internal flag to determine if the component should execute the advanced search event\r\n        // This flag is typically set to false when the breadcrumb is resetting, for example.\r\n        // This is because the query will already be executed anyway from external code.\r\n        // Without this, we might get analytics event being sent multiple time, or multiple query being triggered (which gets cancelled).\r\n        _this.needToExecuteAdvancedSearch = true;\r\n        _this.options = ComponentOptions_1.ComponentOptions.initComponentOptions(element, AdvancedSearch, options);\r\n        _this.bindEvents();\r\n        _this.buildContent();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Launches the advanced search query.\r\n     * If query returns successfully, also logs an `advancedSearch` event in the usage analytics (see\r\n     * {@link Analytics.logSearchEvent}).\r\n     */\r\n    AdvancedSearch.prototype.executeAdvancedSearch = function () {\r\n        if (this.needToExecuteAdvancedSearch) {\r\n            this.usageAnalytics.logSearchEvent(AnalyticsActionListMeta_1.analyticsActionCauseList.advancedSearch, {});\r\n            this.queryController.executeQuery({\r\n                closeModalBox: false\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Resets the state of all form inputs inside the `AdvancedSearch` component.\r\n     */\r\n    AdvancedSearch.prototype.reset = function () {\r\n        _.each(this.inputs, function (input) {\r\n            input.reset();\r\n        });\r\n    };\r\n    /**\r\n     * Opens the `AdvancedSearch` modal box.\r\n     */\r\n    AdvancedSearch.prototype.open = function () {\r\n        if (this.modalbox == null) {\r\n            this.modalbox = this.ModalBox.open(this.content.el, {\r\n                sizeMod: 'big',\r\n                title: Strings_1.l('AdvancedSearch'),\r\n                className: 'coveo-advanced-search-modal',\r\n                body: this.searchInterface.options.modalContainer\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Closes the `AdvancedSearch` modal box.\r\n     */\r\n    AdvancedSearch.prototype.close = function () {\r\n        if (this.modalbox != null) {\r\n            this.modalbox.close();\r\n            this.modalbox = null;\r\n        }\r\n    };\r\n    AdvancedSearch.prototype.handlePopulateBreadcrumb = function (args) {\r\n        if (this.needToPopulateBreadcrumb) {\r\n            var _a = this.buildBreadcrumbElements(), container = _a.container, title = _a.title, clear = _a.clear;\r\n            container.append(title.el);\r\n            container.append(clear.el);\r\n            args.breadcrumbs.push({\r\n                element: container.el\r\n            });\r\n        }\r\n    };\r\n    AdvancedSearch.prototype.buildBreadcrumbElements = function () {\r\n        return {\r\n            container: this.buildBreadcrumbContainer(),\r\n            title: this.buildBreadcrumbTitle(),\r\n            clear: this.buildBreacrumbClear()\r\n        };\r\n    };\r\n    AdvancedSearch.prototype.buildBreadcrumbContainer = function () {\r\n        return Dom_1.$$('div', {\r\n            className: 'coveo-advanced-search-breadcrumb'\r\n        });\r\n    };\r\n    AdvancedSearch.prototype.buildBreadcrumbTitle = function () {\r\n        return Dom_1.$$('span', {\r\n            className: 'coveo-advanced-search-breadcrumb-title'\r\n        }, Strings_1.l('FiltersInAdvancedSearch') + \":\");\r\n    };\r\n    AdvancedSearch.prototype.buildBreacrumbClear = function () {\r\n        var _this = this;\r\n        var clear = Dom_1.$$('span', {\r\n            className: 'coveo-advanced-search-breadcrumb-clear'\r\n        }, SVGIcons_1.SVGIcons.icons.mainClear);\r\n        var selectAction = function () {\r\n            _this.handleClearBreadcrumb();\r\n            _this.usageAnalytics.logSearchEvent(AnalyticsActionListMeta_1.analyticsActionCauseList.breadcrumbAdvancedSearch, {});\r\n            _this.queryController.executeQuery();\r\n        };\r\n        new AccessibleButton_1.AccessibleButton()\r\n            .withElement(clear)\r\n            .withLabel(Strings_1.l('Clear'))\r\n            .withSelectAction(function () { return selectAction(); })\r\n            .build();\r\n        return clear;\r\n    };\r\n    AdvancedSearch.prototype.handleClearBreadcrumb = function () {\r\n        if (this.needToPopulateBreadcrumb) {\r\n            this.needToExecuteAdvancedSearch = false;\r\n            this.reset();\r\n            this.needToExecuteAdvancedSearch = true;\r\n        }\r\n    };\r\n    AdvancedSearch.prototype.handleQuerySummaryCancelLastAction = function () {\r\n        this.needToExecuteAdvancedSearch = false;\r\n        this.reset();\r\n        this.needToExecuteAdvancedSearch = true;\r\n    };\r\n    AdvancedSearch.prototype.handlePopulateMenu = function (args) {\r\n        var _this = this;\r\n        args.menuData.push({\r\n            text: Strings_1.l('AdvancedSearch'),\r\n            className: 'coveo-advanced-search',\r\n            onOpen: function () { return _this.open(); },\r\n            onClose: function () { return _this.close(); },\r\n            svgIcon: SVGIcons_1.SVGIcons.icons.dropdownPreferences,\r\n            svgIconClassName: 'coveo-advanced-search-svg'\r\n        });\r\n    };\r\n    AdvancedSearch.prototype.handleBuildingQuery = function (data) {\r\n        var originalQuery = data.queryBuilder.build();\r\n        _.each(this.externalSections, function (section) {\r\n            if (section.updateQuery) {\r\n                section.updateQuery(section.inputs, data.queryBuilder);\r\n            }\r\n        });\r\n        _.each(this.inputs, function (input) {\r\n            if (input.updateQuery) {\r\n                input.updateQuery(data.queryBuilder);\r\n            }\r\n        });\r\n        var modifiedQuery = data.queryBuilder.build();\r\n        this.needToPopulateBreadcrumb = modifiedQuery.aq != originalQuery.aq;\r\n    };\r\n    AdvancedSearch.prototype.buildContent = function () {\r\n        var _this = this;\r\n        var component = Dom_1.$$('div');\r\n        var inputSections = [];\r\n        if (this.options.includeKeywords) {\r\n            inputSections.push(this.getKeywordsSection());\r\n        }\r\n        if (this.options.includeDate) {\r\n            inputSections.push(this.getDateSection());\r\n        }\r\n        if (this.options.includeDocument) {\r\n            inputSections.push(this.getDocumentSection());\r\n        }\r\n        this.externalSections = [];\r\n        Dom_1.$$(this.root).trigger(AdvancedSearchEvents_1.AdvancedSearchEvents.buildingAdvancedSearch, {\r\n            sections: this.externalSections,\r\n            executeQuery: function (options) {\r\n                options = _.extend({}, options, { closeModalBox: false });\r\n                return _this.queryController.executeQuery(options);\r\n            }\r\n        });\r\n        _.each(this.externalSections, function (section) {\r\n            component.append(_this.buildExternalSection(section));\r\n        });\r\n        _.each(inputSections, function (section) {\r\n            component.append(_this.buildInternalSection(section));\r\n        });\r\n        this.content = component;\r\n    };\r\n    AdvancedSearch.prototype.getKeywordsSection = function () {\r\n        var sectionName = Strings_1.l('Keywords');\r\n        var keywordsInputs = [];\r\n        keywordsInputs.push(this.inputFactory.createAllKeywordsInput());\r\n        keywordsInputs.push(this.inputFactory.createExactKeywordsInput());\r\n        keywordsInputs.push(this.inputFactory.createAnyKeywordsInput());\r\n        keywordsInputs.push(this.inputFactory.createNoneKeywordsInput());\r\n        return { name: sectionName, inputs: keywordsInputs };\r\n    };\r\n    AdvancedSearch.prototype.getDateSection = function () {\r\n        var sectionName = Strings_1.l('Date');\r\n        var dateInputs = [];\r\n        dateInputs.push(this.inputFactory.createAnytimeDateInput());\r\n        dateInputs.push(this.inputFactory.createInTheLastDateInput());\r\n        dateInputs.push(this.inputFactory.createBetweenDateInput());\r\n        return { name: sectionName, inputs: dateInputs };\r\n    };\r\n    AdvancedSearch.prototype.getDocumentSection = function () {\r\n        var sectionName = Strings_1.l('Document');\r\n        var documentInputs = [];\r\n        documentInputs.push(this.inputFactory.createSimpleFieldInput(Strings_1.l('FileType'), '@filetype'));\r\n        documentInputs.push(this.inputFactory.createSimpleFieldInput(Strings_1.l('Language'), '@language'));\r\n        documentInputs.push(this.inputFactory.createSizeInput());\r\n        documentInputs.push(this.inputFactory.createAdvancedFieldInput(Strings_1.l('Title'), '@title'));\r\n        documentInputs.push(this.inputFactory.createAdvancedFieldInput(Strings_1.l('Author'), '@author'));\r\n        return { name: sectionName, inputs: documentInputs };\r\n    };\r\n    AdvancedSearch.prototype.buildExternalSection = function (section) {\r\n        var el = this.buildSectionTitle(section).el;\r\n        this.inputs = _.union(this.inputs, section.inputs);\r\n        el.appendChild(section.content);\r\n        return el;\r\n    };\r\n    AdvancedSearch.prototype.buildInternalSection = function (section) {\r\n        var _this = this;\r\n        var _a = this.buildSectionTitle(section), el = _a.el, id = _a.id;\r\n        var sectionInputs = [];\r\n        _.each(section.inputs, function (input) {\r\n            sectionInputs.push(_this.buildDefaultInput(input));\r\n        });\r\n        this.inputs = _.union(this.inputs, sectionInputs);\r\n        _.each(sectionInputs, function (input) {\r\n            var built = input.build();\r\n            var inputElement = built.querySelector('input');\r\n            if (inputElement) {\r\n                inputElement.setAttribute('aria-labelledby', id);\r\n            }\r\n            Dom_1.$$(el).append(built);\r\n        });\r\n        return el;\r\n    };\r\n    AdvancedSearch.prototype.buildSectionTitle = function (section) {\r\n        var sectionHTML = Dom_1.$$('div', { className: 'coveo-advanced-search-section' });\r\n        var title = Dom_1.$$('div', { className: 'coveo-advanced-search-section-title' });\r\n        title.text(section.name);\r\n        var id = \"coveo-advanced-search-section-\" + section.name;\r\n        title.el.id = id;\r\n        sectionHTML.append(title.el);\r\n        return {\r\n            el: sectionHTML.el,\r\n            id: id\r\n        };\r\n    };\r\n    AdvancedSearch.prototype.buildDefaultInput = function (input) {\r\n        if (this.isPrebuiltInput(input)) {\r\n            return this.inputFactory.create(input.name, input.parameters);\r\n        }\r\n        else {\r\n            return input;\r\n        }\r\n    };\r\n    AdvancedSearch.prototype.isPrebuiltInput = function (input) {\r\n        return input.name !== undefined;\r\n    };\r\n    AdvancedSearch.prototype.bindEvents = function () {\r\n        var _this = this;\r\n        this.bind.onRootElement(BreadcrumbEvents_1.BreadcrumbEvents.populateBreadcrumb, function (args) {\r\n            return _this.handlePopulateBreadcrumb(args);\r\n        });\r\n        this.bind.onRootElement(BreadcrumbEvents_1.BreadcrumbEvents.clearBreadcrumb, function (args) { return _this.handleClearBreadcrumb(); });\r\n        this.bind.onRootElement(SettingsEvents_1.SettingsEvents.settingsPopulateMenu, function (args) { return _this.handlePopulateMenu(args); });\r\n        this.bind.onRootElement(QueryEvents_1.QueryEvents.buildingQuery, function (data) { return _this.handleBuildingQuery(data); });\r\n        this.bind.onRootElement(AdvancedSearchEvents_1.AdvancedSearchEvents.executeAdvancedSearch, function () { return _this.executeAdvancedSearch(); });\r\n        this.bind.onRootElement(QuerySummaryEvents_1.QuerySummaryEvents.cancelLastAction, function () { return _this.handleQuerySummaryCancelLastAction(); });\r\n    };\r\n    AdvancedSearch.ID = 'AdvancedSearch';\r\n    AdvancedSearch.doExport = function () {\r\n        GlobalExports_1.exportGlobally({\r\n            AdvancedSearch: AdvancedSearch,\r\n            NumericSpinner: NumericSpinner_1.NumericSpinner,\r\n            DatePicker: DatePicker_1.DatePicker,\r\n            Dropdown: Dropdown_1.Dropdown,\r\n            TextInput: TextInput_1.TextInput,\r\n            RadioButton: RadioButton_1.RadioButton\r\n        });\r\n    };\r\n    /**\r\n     * @componentOptions\r\n     */\r\n    AdvancedSearch.options = {\r\n        /**\r\n         * Specifies whether to include the built-in **Keywords** section.\r\n         *\r\n         * Default value is `true`.\r\n         */\r\n        includeKeywords: ComponentOptions_1.ComponentOptions.buildBooleanOption({ defaultValue: true }),\r\n        /**\r\n         * Specifies whether to include the built-in **Date** section.\r\n         *\r\n         * Default value is `true`.\r\n         */\r\n        includeDate: ComponentOptions_1.ComponentOptions.buildBooleanOption({ defaultValue: true }),\r\n        /**\r\n         * Specifies whether to include the built-in **Document** section.\r\n         *\r\n         * Default value is `true`.\r\n         */\r\n        includeDocument: ComponentOptions_1.ComponentOptions.buildBooleanOption({ defaultValue: true })\r\n    };\r\n    return AdvancedSearch;\r\n}(Component_1.Component));\r\nexports.AdvancedSearch = AdvancedSearch;\r\nInitialization_1.Initialization.registerAutoCreateComponent(AdvancedSearch);\r\n\n\n/***/ }),\n\n/***/ 39:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/// <reference path='Facet.ts' />\r\nvar StringUtils_1 = __webpack_require__(22);\r\nvar QueryUtils_1 = __webpack_require__(21);\r\nvar FileTypes_1 = __webpack_require__(113);\r\nvar DateUtils_1 = __webpack_require__(32);\r\nvar Utils_1 = __webpack_require__(4);\r\nvar Dom_1 = __webpack_require__(1);\r\nvar _ = __webpack_require__(0);\r\nvar Strings_1 = __webpack_require__(6);\r\nvar FacetUtils = /** @class */ (function () {\r\n    function FacetUtils() {\r\n    }\r\n    FacetUtils.getRegexToUseForFacetSearch = function (value, ignoreAccent) {\r\n        return new RegExp(StringUtils_1.StringUtils.stringToRegex(value, ignoreAccent), 'i');\r\n    };\r\n    FacetUtils.getDisplayValueFromValueCaption = function (value, field, valueCaption) {\r\n        var returnValue = this.tryToGetTranslatedCaption(field, value);\r\n        return valueCaption[value] || returnValue;\r\n    };\r\n    FacetUtils.getValuesToUseForSearchInFacet = function (original, facet) {\r\n        var ret = [original];\r\n        var regex = this.getRegexToUseForFacetSearch(original, facet.options.facetSearchIgnoreAccents);\r\n        if (facet.options.valueCaption) {\r\n            _.chain(facet.options.valueCaption)\r\n                .pairs()\r\n                .filter(function (pair) {\r\n                return regex.test(pair[1]);\r\n            })\r\n                .each(function (match) {\r\n                ret.push(match[0]);\r\n            });\r\n            if (QueryUtils_1.QueryUtils.isStratusAgnosticField(facet.options.field, '@objecttype') ||\r\n                QueryUtils_1.QueryUtils.isStratusAgnosticField(facet.options.field, '@filetype')) {\r\n                _.each(FileTypes_1.FileTypes.getFileTypeCaptions(), function (value, key) {\r\n                    if (!(key in facet.options.valueCaption) && regex.test(value)) {\r\n                        ret.push(key);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        else if (QueryUtils_1.QueryUtils.isStratusAgnosticField(facet.options.field, '@objecttype') ||\r\n            QueryUtils_1.QueryUtils.isStratusAgnosticField(facet.options.field, '@filetype')) {\r\n            _.each(_.filter(_.pairs(FileTypes_1.FileTypes.getFileTypeCaptions()), function (pair) {\r\n                return regex.test(pair[1]);\r\n            }), function (match) {\r\n                ret.push(match[0]);\r\n            });\r\n        }\r\n        else if (QueryUtils_1.QueryUtils.isStratusAgnosticField(facet.options.field, '@month')) {\r\n            _.each(_.range(1, 13), function (month) {\r\n                if (regex.test(DateUtils_1.DateUtils.monthToString(month - 1))) {\r\n                    ret.push(('0' + month.toString()).substr(-2));\r\n                }\r\n            });\r\n        }\r\n        return ret;\r\n    };\r\n    FacetUtils.buildFacetSearchPattern = function (values) {\r\n        values = _.map(values, function (value) {\r\n            return Utils_1.Utils.escapeRegexCharacter(value);\r\n        });\r\n        values[0] = '.*' + values[0] + '.*';\r\n        return values.join('|');\r\n    };\r\n    FacetUtils.needAnotherFacetSearch = function (currentSearchLength, newSearchLength, oldSearchLength, desiredSearchLength) {\r\n        // Something was removed (currentSearch < newSearch)\r\n        // && we might want to display more facet search result(currentSearch < desiredSearch)\r\n        // && the new query returned more stuff than the old one so there's still more results(currentSearchLength > oldLength)\r\n        return currentSearchLength < newSearchLength && currentSearchLength < desiredSearchLength && currentSearchLength > oldSearchLength;\r\n    };\r\n    FacetUtils.addNoStateCssClassToFacetValues = function (facet, container) {\r\n        // This takes care of adding the correct css class on each facet value checkbox (empty white box) if at least one value is selected in that facet\r\n        if (facet.values.getSelected().length != 0) {\r\n            var noStates = Dom_1.$$(container).findAll('li:not(.coveo-selected)');\r\n            _.each(noStates, function (noState) {\r\n                Dom_1.$$(noState).addClass('coveo-no-state');\r\n            });\r\n        }\r\n    };\r\n    FacetUtils.tryToGetTranslatedCaption = function (field, value) {\r\n        var found;\r\n        if (QueryUtils_1.QueryUtils.isStratusAgnosticField(field.toLowerCase(), '@filetype')) {\r\n            found = FileTypes_1.FileTypes.getFileType(value).caption;\r\n        }\r\n        else if (QueryUtils_1.QueryUtils.isStratusAgnosticField(field.toLowerCase(), '@objecttype')) {\r\n            found = FileTypes_1.FileTypes.getObjectType(value).caption;\r\n        }\r\n        else if (FacetUtils.isMonthFieldValue(field, value)) {\r\n            var month = parseInt(value, 10);\r\n            found = DateUtils_1.DateUtils.monthToString(month - 1);\r\n        }\r\n        else {\r\n            found = Strings_1.l(value);\r\n        }\r\n        return found != undefined && Utils_1.Utils.isNonEmptyString(found) ? found : value;\r\n    };\r\n    FacetUtils.isMonthFieldValue = function (field, value) {\r\n        if (!QueryUtils_1.QueryUtils.isStratusAgnosticField(field.toLowerCase(), '@month')) {\r\n            return false;\r\n        }\r\n        var asInt = parseInt(value, 10);\r\n        if (isNaN(asInt)) {\r\n            return false;\r\n        }\r\n        if (asInt < 1 || asInt > 12) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    return FacetUtils;\r\n}());\r\nexports.FacetUtils = FacetUtils;\r\n\n\n/***/ }),\n\n/***/ 514:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * This static class is there to contains the different string definition for all the events related to the {@link AdvancedSearch} component.\r\n */\r\nvar QuerySummaryEvents = /** @class */ (function () {\r\n    function QuerySummaryEvents() {\r\n    }\r\n    /**\r\n     * Triggered when the last action is being cancelled by the query summary component\r\n     *\r\n     * Allows external code to revert their last action.\r\n     * @type {string}\r\n     */\r\n    QuerySummaryEvents.cancelLastAction = 'cancelLastAction';\r\n    return QuerySummaryEvents;\r\n}());\r\nexports.QuerySummaryEvents = QuerySummaryEvents;\r\n\n\n/***/ }),\n\n/***/ 555:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 583:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AllKeywordsInput_1 = __webpack_require__(584);\r\nvar ExactKeywordsInput_1 = __webpack_require__(585);\r\nvar AnyKeywordsInput_1 = __webpack_require__(586);\r\nvar NoneKeywordsInput_1 = __webpack_require__(587);\r\nvar AnytimeDateInput_1 = __webpack_require__(588);\r\nvar InTheLastDateInput_1 = __webpack_require__(589);\r\nvar BetweenDateInput_1 = __webpack_require__(590);\r\nvar SimpleFieldInput_1 = __webpack_require__(591);\r\nvar AdvancedFieldInput_1 = __webpack_require__(592);\r\nvar SizeInput_1 = __webpack_require__(593);\r\nvar AdvancedSearchInputFactory = /** @class */ (function () {\r\n    function AdvancedSearchInputFactory(endpoint, root) {\r\n        this.endpoint = endpoint;\r\n        this.root = root;\r\n    }\r\n    AdvancedSearchInputFactory.prototype.create = function (name, options) {\r\n        switch (name) {\r\n            case 'keywords_all':\r\n                return this.createAllKeywordsInput();\r\n            case 'keywords_exact':\r\n                return this.createExactKeywordsInput();\r\n            case 'keywords_any':\r\n                return this.createAnyKeywordsInput();\r\n            case 'keywords_none':\r\n                return this.createNoneKeywordsInput();\r\n            case 'date_any':\r\n                return this.createAnytimeDateInput();\r\n            case 'date_last':\r\n                return this.createInTheLastDateInput();\r\n            case 'date_between':\r\n                return this.createBetweenDateInput();\r\n            case 'document_field':\r\n                return this.createSimpleFieldInput(options.name, options.field);\r\n            case 'document_advanced_field':\r\n                return this.createAdvancedFieldInput(options.name, options.field);\r\n            case 'document_size':\r\n                return this.createSizeInput();\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n    AdvancedSearchInputFactory.prototype.createAllKeywordsInput = function () {\r\n        return new AllKeywordsInput_1.AllKeywordsInput(this.root);\r\n    };\r\n    AdvancedSearchInputFactory.prototype.createExactKeywordsInput = function () {\r\n        return new ExactKeywordsInput_1.ExactKeywordsInput(this.root);\r\n    };\r\n    AdvancedSearchInputFactory.prototype.createAnyKeywordsInput = function () {\r\n        return new AnyKeywordsInput_1.AnyKeywordsInput(this.root);\r\n    };\r\n    AdvancedSearchInputFactory.prototype.createNoneKeywordsInput = function () {\r\n        return new NoneKeywordsInput_1.NoneKeywordsInput(this.root);\r\n    };\r\n    AdvancedSearchInputFactory.prototype.createAnytimeDateInput = function () {\r\n        return new AnytimeDateInput_1.AnytimeDateInput(this.root);\r\n    };\r\n    AdvancedSearchInputFactory.prototype.createInTheLastDateInput = function () {\r\n        return new InTheLastDateInput_1.InTheLastDateInput(this.root);\r\n    };\r\n    AdvancedSearchInputFactory.prototype.createBetweenDateInput = function () {\r\n        return new BetweenDateInput_1.BetweenDateInput(this.root);\r\n    };\r\n    AdvancedSearchInputFactory.prototype.createSimpleFieldInput = function (name, field) {\r\n        return new SimpleFieldInput_1.SimpleFieldInput(name, field, this.endpoint, this.root);\r\n    };\r\n    AdvancedSearchInputFactory.prototype.createAdvancedFieldInput = function (name, field) {\r\n        return new AdvancedFieldInput_1.AdvancedFieldInput(name, field, this.root);\r\n    };\r\n    AdvancedSearchInputFactory.prototype.createSizeInput = function () {\r\n        return new SizeInput_1.SizeInput(this.root);\r\n    };\r\n    return AdvancedSearchInputFactory;\r\n}());\r\nexports.AdvancedSearchInputFactory = AdvancedSearchInputFactory;\r\n\n\n/***/ }),\n\n/***/ 584:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar KeywordsInput_1 = __webpack_require__(183);\r\nvar Strings_1 = __webpack_require__(6);\r\nvar AllKeywordsInput = /** @class */ (function (_super) {\r\n    __extends(AllKeywordsInput, _super);\r\n    function AllKeywordsInput(root) {\r\n        var _this = _super.call(this, Strings_1.l('AllTheseWords'), root) || this;\r\n        _this.root = root;\r\n        return _this;\r\n    }\r\n    return AllKeywordsInput;\r\n}(KeywordsInput_1.KeywordsInput));\r\nexports.AllKeywordsInput = AllKeywordsInput;\r\n\n\n/***/ }),\n\n/***/ 585:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar KeywordsInput_1 = __webpack_require__(183);\r\nvar Strings_1 = __webpack_require__(6);\r\nvar ExactKeywordsInput = /** @class */ (function (_super) {\r\n    __extends(ExactKeywordsInput, _super);\r\n    function ExactKeywordsInput(root) {\r\n        var _this = _super.call(this, Strings_1.l('ExactPhrase'), root) || this;\r\n        _this.root = root;\r\n        return _this;\r\n    }\r\n    ExactKeywordsInput.prototype.getValue = function () {\r\n        var value = _super.prototype.getValue.call(this);\r\n        return value ? '\"' + value + '\"' : '';\r\n    };\r\n    return ExactKeywordsInput;\r\n}(KeywordsInput_1.KeywordsInput));\r\nexports.ExactKeywordsInput = ExactKeywordsInput;\r\n\n\n/***/ }),\n\n/***/ 586:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar KeywordsInput_1 = __webpack_require__(183);\r\nvar Strings_1 = __webpack_require__(6);\r\nvar _ = __webpack_require__(0);\r\nvar AnyKeywordsInput = /** @class */ (function (_super) {\r\n    __extends(AnyKeywordsInput, _super);\r\n    function AnyKeywordsInput(root) {\r\n        var _this = _super.call(this, Strings_1.l('AnyOfTheseWords'), root) || this;\r\n        _this.root = root;\r\n        return _this;\r\n    }\r\n    AnyKeywordsInput.prototype.getValue = function () {\r\n        var value = _super.prototype.getValue.call(this);\r\n        var splitValues = value.split(' ');\r\n        var generatedValue = '';\r\n        _.each(splitValues, function (splitValue) {\r\n            generatedValue += splitValue + ' OR ';\r\n        });\r\n        generatedValue = generatedValue.substr(0, generatedValue.length - 4);\r\n        return generatedValue;\r\n    };\r\n    return AnyKeywordsInput;\r\n}(KeywordsInput_1.KeywordsInput));\r\nexports.AnyKeywordsInput = AnyKeywordsInput;\r\n\n\n/***/ }),\n\n/***/ 587:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar KeywordsInput_1 = __webpack_require__(183);\r\nvar Strings_1 = __webpack_require__(6);\r\nvar _ = __webpack_require__(0);\r\nvar NoneKeywordsInput = /** @class */ (function (_super) {\r\n    __extends(NoneKeywordsInput, _super);\r\n    function NoneKeywordsInput(root) {\r\n        var _this = _super.call(this, Strings_1.l('NoneOfTheseWords'), root) || this;\r\n        _this.root = root;\r\n        return _this;\r\n    }\r\n    NoneKeywordsInput.prototype.getValue = function () {\r\n        var value = _super.prototype.getValue.call(this);\r\n        var generatedValue = '';\r\n        if (value) {\r\n            var splitValues = value.split(' ');\r\n            _.each(splitValues, function (splitValue) {\r\n                generatedValue += ' NOT ' + splitValue;\r\n            });\r\n            generatedValue = generatedValue.substr(1);\r\n        }\r\n        return generatedValue;\r\n    };\r\n    return NoneKeywordsInput;\r\n}(KeywordsInput_1.KeywordsInput));\r\nexports.NoneKeywordsInput = NoneKeywordsInput;\r\n\n\n/***/ }),\n\n/***/ 588:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DateInput_1 = __webpack_require__(227);\r\nvar Strings_1 = __webpack_require__(6);\r\nvar Dom_1 = __webpack_require__(1);\r\nvar AdvancedSearchEvents_1 = __webpack_require__(84);\r\nvar AnytimeDateInput = /** @class */ (function (_super) {\r\n    __extends(AnytimeDateInput, _super);\r\n    function AnytimeDateInput(root) {\r\n        var _this = _super.call(this, Strings_1.l('Anytime'), root) || this;\r\n        _this.root = root;\r\n        return _this;\r\n    }\r\n    AnytimeDateInput.prototype.getValue = function () {\r\n        return null;\r\n    };\r\n    AnytimeDateInput.prototype.build = function () {\r\n        var _this = this;\r\n        _super.prototype.build.call(this);\r\n        var radio = this.getRadio();\r\n        radio.checked = true;\r\n        Dom_1.$$(radio).on('change', function () {\r\n            if (_this.root) {\r\n                Dom_1.$$(_this.root).trigger(AdvancedSearchEvents_1.AdvancedSearchEvents.executeAdvancedSearch);\r\n            }\r\n            else {\r\n                Dom_1.$$(_this.element).trigger(AdvancedSearchEvents_1.AdvancedSearchEvents.executeAdvancedSearch);\r\n            }\r\n        });\r\n        return this.element;\r\n    };\r\n    return AnytimeDateInput;\r\n}(DateInput_1.DateInput));\r\nexports.AnytimeDateInput = AnytimeDateInput;\r\n\n\n/***/ }),\n\n/***/ 589:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DateInput_1 = __webpack_require__(227);\r\nvar Dom_1 = __webpack_require__(1);\r\nvar Strings_1 = __webpack_require__(6);\r\nvar Dropdown_1 = __webpack_require__(62);\r\nvar NumericSpinner_1 = __webpack_require__(120);\r\nvar DateUtils_1 = __webpack_require__(32);\r\nvar InTheLastDateInput = /** @class */ (function (_super) {\r\n    __extends(InTheLastDateInput, _super);\r\n    function InTheLastDateInput(root) {\r\n        var _this = _super.call(this, Strings_1.l('InTheLast'), root) || this;\r\n        _this.root = root;\r\n        return _this;\r\n    }\r\n    InTheLastDateInput.prototype.reset = function () {\r\n        this.dropdown.reset();\r\n        this.spinner.reset();\r\n    };\r\n    InTheLastDateInput.prototype.build = function () {\r\n        _super.prototype.build.call(this);\r\n        var input = Dom_1.$$('fieldset', { className: 'coveo-advanced-search-date-input' });\r\n        input.el.disabled = true;\r\n        this.spinner = new NumericSpinner_1.NumericSpinner(this.onChange.bind(this), undefined, undefined, Strings_1.l('InTheLast'));\r\n        input.append(this.spinner.getElement());\r\n        this.dropdown = new Dropdown_1.Dropdown(this.onChange.bind(this), ['Days', 'Months'], undefined, Strings_1.l('InTheLast'));\r\n        this.dropdown.setId('coveo-advanced-search-in-the-last-select');\r\n        input.append(this.dropdown.getElement());\r\n        this.element.appendChild(input.el);\r\n        Dom_1.$$(this.getRadio()).on('change', this.onChange.bind(this));\r\n        return this.element;\r\n    };\r\n    InTheLastDateInput.prototype.getValue = function () {\r\n        var currentDate = new Date();\r\n        var time = this.spinner.getIntValue();\r\n        var size = this.dropdown.getValue().toLowerCase();\r\n        var date = new Date();\r\n        if (size == 'months') {\r\n            date.setMonth(currentDate.getMonth() - time);\r\n        }\r\n        else {\r\n            date.setDate(currentDate.getDate() - time);\r\n        }\r\n        return this.isSelected() && time ? '@date>=' + DateUtils_1.DateUtils.dateForQuery(date) : '';\r\n    };\r\n    return InTheLastDateInput;\r\n}(DateInput_1.DateInput));\r\nexports.InTheLastDateInput = InTheLastDateInput;\r\n\n\n/***/ }),\n\n/***/ 590:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DateInput_1 = __webpack_require__(227);\r\nvar DatePicker_1 = __webpack_require__(85);\r\nvar Strings_1 = __webpack_require__(6);\r\nvar Dom_1 = __webpack_require__(1);\r\nvar DateUtils_1 = __webpack_require__(32);\r\nvar TimeSpanUtils_1 = __webpack_require__(70);\r\nvar BetweenDateInput = /** @class */ (function (_super) {\r\n    __extends(BetweenDateInput, _super);\r\n    function BetweenDateInput(root) {\r\n        var _this = _super.call(this, Strings_1.l('Between'), root) || this;\r\n        _this.root = root;\r\n        _this.firstDatePicker = new DatePicker_1.DatePicker(_this.onChange.bind(_this));\r\n        _this.secondDatePicker = new DatePicker_1.DatePicker(_this.onChange.bind(_this));\r\n        return _this;\r\n    }\r\n    BetweenDateInput.prototype.reset = function () {\r\n        this.firstDatePicker.reset();\r\n        this.secondDatePicker.reset();\r\n    };\r\n    BetweenDateInput.prototype.build = function () {\r\n        _super.prototype.build.call(this);\r\n        var container = Dom_1.$$('fieldset', { className: 'coveo-advanced-search-date-input' });\r\n        container.el.disabled = true;\r\n        container.append(this.firstDatePicker.getElement());\r\n        container.append(this.buildAnd());\r\n        container.append(this.secondDatePicker.getElement());\r\n        this.element.appendChild(container.el);\r\n        return this.element;\r\n    };\r\n    BetweenDateInput.prototype.getValue = function () {\r\n        var firstDate = this.firstDatePicker.getDateValue();\r\n        var secondDate = this.secondDatePicker.getDateValue();\r\n        var firstDateAsString = this.firstDatePicker.getValue();\r\n        var secondDateAsString = this.secondDatePicker.getValue();\r\n        var query = '';\r\n        if (this.isSelected()) {\r\n            if (firstDate && secondDate) {\r\n                var timespan = TimeSpanUtils_1.TimeSpan.fromDates(DateUtils_1.DateUtils.convertFromJsonDateIfNeeded(firstDate), DateUtils_1.DateUtils.convertFromJsonDateIfNeeded(secondDateAsString));\r\n                if (timespan.getMilliseconds() < 0) {\r\n                    throw Strings_1.l('QueryExceptionInvalidDate');\r\n                }\r\n            }\r\n            if (firstDateAsString) {\r\n                query += \"(@date>=\" + firstDateAsString + \")\";\r\n            }\r\n            if (secondDateAsString) {\r\n                query += \"(@date<=\" + secondDateAsString + \")\";\r\n            }\r\n        }\r\n        return query;\r\n    };\r\n    BetweenDateInput.prototype.buildAnd = function () {\r\n        var and = Dom_1.$$('div', { className: 'coveo-advanced-search-and' });\r\n        and.text(Strings_1.l('And').toLowerCase());\r\n        return and.el;\r\n    };\r\n    return BetweenDateInput;\r\n}(DateInput_1.DateInput));\r\nexports.BetweenDateInput = BetweenDateInput;\r\n\n\n/***/ }),\n\n/***/ 591:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _ = __webpack_require__(0);\r\nvar FacetUtils_1 = __webpack_require__(39);\r\nvar Dom_1 = __webpack_require__(1);\r\nvar QueryBuilder_1 = __webpack_require__(46);\r\nvar Dropdown_1 = __webpack_require__(62);\r\nvar DocumentInput_1 = __webpack_require__(228);\r\nvar SimpleFieldInput = /** @class */ (function (_super) {\r\n    __extends(SimpleFieldInput, _super);\r\n    function SimpleFieldInput(inputName, fieldName, endpoint, root) {\r\n        var _this = _super.call(this, inputName, root) || this;\r\n        _this.inputName = inputName;\r\n        _this.fieldName = fieldName;\r\n        _this.endpoint = endpoint;\r\n        _this.root = root;\r\n        return _this;\r\n    }\r\n    SimpleFieldInput.prototype.reset = function () {\r\n        this.dropDown.reset();\r\n    };\r\n    SimpleFieldInput.prototype.build = function () {\r\n        var _this = this;\r\n        var fieldInput = Dom_1.$$(_super.prototype.build.call(this));\r\n        this.buildFieldSelect().then(function () {\r\n            fieldInput.append(_this.dropDown.getElement());\r\n        });\r\n        this.element = fieldInput.el;\r\n        return this.element;\r\n    };\r\n    SimpleFieldInput.prototype.getValue = function () {\r\n        var value = this.dropDown ? this.dropDown.getValue() : '';\r\n        var queryBuilder = new QueryBuilder_1.QueryBuilder();\r\n        if (value) {\r\n            queryBuilder.advancedExpression.addFieldExpression(this.fieldName, '==', [value]);\r\n            return queryBuilder.build().aq;\r\n        }\r\n        else {\r\n            return '';\r\n        }\r\n    };\r\n    SimpleFieldInput.prototype.buildFieldSelect = function () {\r\n        var _this = this;\r\n        return this.endpoint\r\n            .listFieldValues({\r\n            field: this.fieldName,\r\n            maximumNumberOfValues: 50\r\n        })\r\n            .then(function (values) {\r\n            var options = [''];\r\n            _.each(values, function (value) {\r\n                options.push(value.value);\r\n            });\r\n            _this.dropDown = new Dropdown_1.Dropdown(_this.onChange.bind(_this), options, function (str) {\r\n                return FacetUtils_1.FacetUtils.tryToGetTranslatedCaption(_this.fieldName, str);\r\n            }, _this.inputName);\r\n        });\r\n    };\r\n    return SimpleFieldInput;\r\n}(DocumentInput_1.DocumentInput));\r\nexports.SimpleFieldInput = SimpleFieldInput;\r\n\n\n/***/ }),\n\n/***/ 592:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Dropdown_1 = __webpack_require__(62);\r\nvar TextInput_1 = __webpack_require__(54);\r\nvar Dom_1 = __webpack_require__(1);\r\nvar DocumentInput_1 = __webpack_require__(228);\r\nvar QueryBuilder_1 = __webpack_require__(46);\r\nvar AdvancedFieldInput = /** @class */ (function (_super) {\r\n    __extends(AdvancedFieldInput, _super);\r\n    function AdvancedFieldInput(inputName, fieldName, root) {\r\n        var _this = _super.call(this, inputName, root) || this;\r\n        _this.inputName = inputName;\r\n        _this.fieldName = fieldName;\r\n        _this.root = root;\r\n        return _this;\r\n    }\r\n    AdvancedFieldInput.prototype.reset = function () {\r\n        this.mode.reset();\r\n        this.input.reset();\r\n    };\r\n    AdvancedFieldInput.prototype.build = function () {\r\n        var fieldInput = Dom_1.$$(_super.prototype.build.call(this));\r\n        this.mode = new Dropdown_1.Dropdown(this.onChange.bind(this), ['Contains', 'DoesNotContain', 'Matches'], undefined, this.inputName);\r\n        fieldInput.append(this.mode.getElement());\r\n        this.input = new TextInput_1.TextInput(this.onChange.bind(this), this.inputName);\r\n        fieldInput.append(this.input.getElement());\r\n        this.element = fieldInput.el;\r\n        return this.element;\r\n    };\r\n    AdvancedFieldInput.prototype.getValue = function () {\r\n        var inputValue = this.input.getValue();\r\n        var builder = new QueryBuilder_1.QueryBuilder();\r\n        if (inputValue) {\r\n            switch (this.mode.getValue()) {\r\n                case 'Contains':\r\n                    builder.advancedExpression.addFieldExpression(this.fieldName, '=', [inputValue]);\r\n                    return builder.build().aq;\r\n                case 'DoesNotContain':\r\n                    builder.advancedExpression.addFieldExpression(this.fieldName, '<>', [inputValue]);\r\n                    return builder.build().aq;\r\n                default:\r\n                    builder.advancedExpression.addFieldExpression(this.fieldName, '==', [inputValue]);\r\n                    return builder.build().aq;\r\n            }\r\n        }\r\n        return '';\r\n    };\r\n    return AdvancedFieldInput;\r\n}(DocumentInput_1.DocumentInput));\r\nexports.AdvancedFieldInput = AdvancedFieldInput;\r\n\n\n/***/ }),\n\n/***/ 593:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Strings_1 = __webpack_require__(6);\r\nvar Dom_1 = __webpack_require__(1);\r\nvar QueryBuilder_1 = __webpack_require__(46);\r\nvar Dropdown_1 = __webpack_require__(62);\r\nvar NumericSpinner_1 = __webpack_require__(120);\r\nvar DocumentInput_1 = __webpack_require__(228);\r\nvar SizeInput = /** @class */ (function (_super) {\r\n    __extends(SizeInput, _super);\r\n    function SizeInput(root) {\r\n        var _this = _super.call(this, 'Size', root) || this;\r\n        _this.root = root;\r\n        return _this;\r\n    }\r\n    SizeInput.prototype.reset = function () {\r\n        this.modeSelect.reset();\r\n        this.sizeInput.reset();\r\n    };\r\n    SizeInput.prototype.build = function () {\r\n        var sizeInput = Dom_1.$$(_super.prototype.build.call(this));\r\n        var sizeInputSection = Dom_1.$$('div', { className: 'coveo-size-input-mode-section' });\r\n        this.modeSelect = new Dropdown_1.Dropdown(this.onChange.bind(this), SizeInput.modes, undefined, Strings_1.l('Size'));\r\n        this.modeSelect.setId('coveo-size-input-mode');\r\n        sizeInputSection.append(this.modeSelect.getElement());\r\n        this.sizeInput = new NumericSpinner_1.NumericSpinner(this.onChange.bind(this), undefined, undefined, Strings_1.l('SizeValue'));\r\n        sizeInputSection.append(this.sizeInput.getElement());\r\n        this.sizeSelect = new Dropdown_1.Dropdown(this.onChange.bind(this), SizeInput.sizes, undefined, Strings_1.l('UnitMeasurement'));\r\n        this.sizeSelect.setId('coveo-size-input-select');\r\n        sizeInputSection.append(this.sizeSelect.getElement());\r\n        sizeInput.append(sizeInputSection.el);\r\n        this.element = sizeInput.el;\r\n        return this.element;\r\n    };\r\n    SizeInput.prototype.getValue = function () {\r\n        var size = this.getSizeInBytes();\r\n        var queryBuilder = new QueryBuilder_1.QueryBuilder();\r\n        if (size) {\r\n            switch (this.modeSelect.getValue()) {\r\n                case 'AtLeast':\r\n                    queryBuilder.advancedExpression.addFieldExpression('@size', '>=', [this.getSizeInBytes().toString()]);\r\n                    return queryBuilder.build().aq;\r\n                default:\r\n                    queryBuilder.advancedExpression.addFieldExpression('@size', '<=', [this.getSizeInBytes().toString()]);\r\n                    return queryBuilder.build().aq;\r\n            }\r\n        }\r\n        return '';\r\n    };\r\n    SizeInput.prototype.getSizeInBytes = function () {\r\n        var size = this.sizeInput.getFloatValue();\r\n        switch (this.sizeSelect.getValue()) {\r\n            case 'KB':\r\n                return size * 1024;\r\n            case 'MB':\r\n                return size * Math.pow(1024, 2);\r\n            default:\r\n                return size;\r\n        }\r\n    };\r\n    SizeInput.modes = ['AtLeast', 'AtMost'];\r\n    SizeInput.sizes = ['KB', 'MB', 'Bytes'];\r\n    return SizeInput;\r\n}(DocumentInput_1.DocumentInput));\r\nexports.SizeInput = SizeInput;\r\n\n\n/***/ }),\n\n/***/ 594:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 62:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Dom_1 = __webpack_require__(1);\r\nvar Strings_1 = __webpack_require__(6);\r\nvar _ = __webpack_require__(0);\r\nvar GlobalExports_1 = __webpack_require__(3);\r\n/**\r\n * A dropdown widget with standard styling.\r\n */\r\nvar Dropdown = /** @class */ (function () {\r\n    /**\r\n     * Creates a new `Dropdown`.\r\n     * @param onChange The function to call when the dropdown selected value changes. This function takes the current\r\n     * `Dropdown` instance as an argument.\r\n     * @param listOfValues The selectable values to display in the dropdown.\r\n     * @param getDisplayValue An optional function to modify the display values, rather than using the values as they\r\n     * appear in the `listOfValues`.\r\n     * @param label The label to use for the input for accessibility purposes.\r\n     */\r\n    function Dropdown(onChange, listOfValues, getDisplayValue, label) {\r\n        if (onChange === void 0) { onChange = function (dropdown) { }; }\r\n        if (getDisplayValue === void 0) { getDisplayValue = Strings_1.l; }\r\n        this.onChange = onChange;\r\n        this.listOfValues = listOfValues;\r\n        this.getDisplayValue = getDisplayValue;\r\n        this.label = label;\r\n        this.optionsElement = [];\r\n        this.buildContent();\r\n        this.select(0, false);\r\n        this.bindEvents();\r\n    }\r\n    Dropdown.doExport = function () {\r\n        GlobalExports_1.exportGlobally({\r\n            Dropdown: Dropdown\r\n        });\r\n    };\r\n    /**\r\n     * Resets the dropdown.\r\n     */\r\n    Dropdown.prototype.reset = function () {\r\n        this.select(0, false);\r\n    };\r\n    Dropdown.prototype.setId = function (id) {\r\n        Dom_1.$$(this.element).setAttribute('id', id);\r\n    };\r\n    /**\r\n     * Gets the element on which the dropdown is bound.\r\n     * @returns {HTMLElement} The dropdown element.\r\n     */\r\n    Dropdown.prototype.getElement = function () {\r\n        return this.element;\r\n    };\r\n    /**\r\n     * Gets the currently selected dropdown value.\r\n     * @returns {string} The currently selected dropdown value.\r\n     */\r\n    Dropdown.prototype.getValue = function () {\r\n        return this.selectElement.value;\r\n    };\r\n    /**\r\n     * Selects a value from the dropdown [`listofValues`]{@link Dropdown.listOfValues}.\r\n     * @param index The 0-based index position of the value to select in the `listOfValues`.\r\n     * @param executeOnChange Indicates whether to execute the [`onChange`]{@link Dropdown.onChange} function when this\r\n     * method changes the dropdown selection.\r\n     */\r\n    Dropdown.prototype.select = function (index, executeOnChange) {\r\n        if (executeOnChange === void 0) { executeOnChange = true; }\r\n        this.selectOption(this.optionsElement[index], executeOnChange);\r\n    };\r\n    /**\r\n     * Gets the element on which the dropdown is bound.\r\n     * @returns {HTMLElement} The dropdown element.\r\n     */\r\n    Dropdown.prototype.build = function () {\r\n        return this.element;\r\n    };\r\n    /**\r\n     * Sets the dropdown value.\r\n     * @param value The value to set the dropdown to.\r\n     */\r\n    Dropdown.prototype.setValue = function (value) {\r\n        var _this = this;\r\n        _.each(this.optionsElement, function (option) {\r\n            if (Dom_1.$$(option).getAttribute('data-value') == value) {\r\n                _this.selectOption(option);\r\n            }\r\n        });\r\n    };\r\n    Dropdown.prototype.selectOption = function (option, executeOnChange) {\r\n        if (executeOnChange === void 0) { executeOnChange = true; }\r\n        this.selectElement.value = option.value;\r\n        if (executeOnChange) {\r\n            this.onChange(this);\r\n        }\r\n    };\r\n    Dropdown.prototype.buildContent = function () {\r\n        var _this = this;\r\n        this.selectElement = Dom_1.$$('select', {\r\n            className: 'coveo-dropdown'\r\n        }).el;\r\n        if (this.label) {\r\n            this.selectElement.setAttribute('aria-label', Strings_1.l(this.label));\r\n        }\r\n        var selectOptions = this.buildOptions();\r\n        _.each(selectOptions, function (opt) {\r\n            Dom_1.$$(_this.selectElement).append(opt);\r\n        });\r\n        this.element = this.selectElement;\r\n    };\r\n    Dropdown.prototype.buildOptions = function () {\r\n        var _this = this;\r\n        var ret = [];\r\n        _.each(this.listOfValues, function (value) {\r\n            ret.push(_this.buildOption(value));\r\n        });\r\n        return ret;\r\n    };\r\n    Dropdown.prototype.buildOption = function (value) {\r\n        var option = Dom_1.$$('option');\r\n        option.setAttribute('data-value', value);\r\n        option.setAttribute('value', value);\r\n        option.text(this.getDisplayValue(value));\r\n        this.optionsElement.push(option.el);\r\n        return option.el;\r\n    };\r\n    Dropdown.prototype.bindEvents = function () {\r\n        var _this = this;\r\n        Dom_1.$$(this.selectElement).on('change', function () { return _this.onChange(_this); });\r\n    };\r\n    return Dropdown;\r\n}());\r\nexports.Dropdown = Dropdown;\r\n\n\n/***/ }),\n\n/***/ 94:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Dom_1 = __webpack_require__(1);\r\n__webpack_require__(555);\r\nvar GlobalExports_1 = __webpack_require__(3);\r\n/**\r\n * A radio button widget with standard styling.\r\n */\r\nvar RadioButton = /** @class */ (function () {\r\n    /**\r\n     * Creates a new `RadioButton`.\r\n     * @param onChange The function to call when the radio button value changes. This function takes the current\r\n     * `RadioButton` instance as an argument.\r\n     * @param label The label to display next to the radio button.\r\n     * @param name The value to set the `input` HTMLElement `name` attribute to.\r\n     */\r\n    function RadioButton(onChange, label, name, id) {\r\n        if (onChange === void 0) { onChange = function (radioButton) { }; }\r\n        if (id === void 0) { id = label; }\r\n        this.onChange = onChange;\r\n        this.label = label;\r\n        this.name = name;\r\n        this.id = id;\r\n        this.buildContent();\r\n    }\r\n    RadioButton.doExport = function () {\r\n        GlobalExports_1.exportGlobally({\r\n            RadioButton: RadioButton\r\n        });\r\n    };\r\n    /**\r\n     * Resets the radio button.\r\n     */\r\n    RadioButton.prototype.reset = function () {\r\n        var currentlySelected = this.isSelected();\r\n        this.getRadio().checked = false;\r\n        if (currentlySelected) {\r\n            this.onChange(this);\r\n        }\r\n    };\r\n    /**\r\n     * Select the radio button\r\n     * @param triggerChange will trigger change event if specified and the radio button is not already selected\r\n     */\r\n    RadioButton.prototype.select = function (triggerChange) {\r\n        if (triggerChange === void 0) { triggerChange = true; }\r\n        var currentlySelected = this.isSelected();\r\n        this.getRadio().checked = true;\r\n        if (!currentlySelected && triggerChange) {\r\n            this.onChange(this);\r\n        }\r\n    };\r\n    /**\r\n     * Gets the element on which the radio button is bound.\r\n     * @returns {HTMLElement} The radio button element.\r\n     */\r\n    RadioButton.prototype.build = function () {\r\n        return this.element;\r\n    };\r\n    /**\r\n     * Gets the element on which the radio button is bound.\r\n     * @returns {HTMLElement} The radio button element.\r\n     */\r\n    RadioButton.prototype.getElement = function () {\r\n        return this.element;\r\n    };\r\n    RadioButton.prototype.getValue = function () {\r\n        return this.label;\r\n    };\r\n    /**\r\n     * Indicates whether the radio button is selected.\r\n     * @returns {boolean} `true` if the radio button is selected, `false` otherwise.\r\n     */\r\n    RadioButton.prototype.isSelected = function () {\r\n        return this.getRadio().checked;\r\n    };\r\n    /**\r\n     * Gets the `input` element (the radio button itself).\r\n     * @returns {HTMLInputElement} The `input` element.\r\n     */\r\n    RadioButton.prototype.getRadio = function () {\r\n        return Dom_1.$$(this.element).find('input');\r\n    };\r\n    /**\r\n     * Gets the radio button [`label`]{@link RadioButton.label} element.\r\n     * @returns {HTMLLabelElement} The `label` element.\r\n     */\r\n    RadioButton.prototype.getLabel = function () {\r\n        return Dom_1.$$(this.element).find('label');\r\n    };\r\n    RadioButton.prototype.buildContent = function () {\r\n        var _this = this;\r\n        var radioOption = Dom_1.$$('div', { className: 'coveo-radio' });\r\n        var radioInput = Dom_1.$$('input', { type: 'radio', name: this.name, id: this.id });\r\n        var labelInput = Dom_1.$$('label', { className: 'coveo-radio-input-label', for: this.id });\r\n        labelInput.text(this.label);\r\n        radioInput.on('change', function () {\r\n            _this.onChange(_this);\r\n        });\r\n        radioOption.append(radioInput.el);\r\n        radioOption.append(labelInput.el);\r\n        this.element = radioOption.el;\r\n    };\r\n    return RadioButton;\r\n}());\r\nexports.RadioButton = RadioButton;\r\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// AdvancedSearch.min__5f3280c404a1ee75a113.js","import { exportGlobally } from '../../GlobalExports';\r\nimport { l } from '../../strings/Strings';\r\nimport { $$ } from '../../utils/Dom';\r\nimport { SVGDom } from '../../utils/SVGDom';\r\nimport { SVGIcons } from '../../utils/SVGIcons';\r\nimport { IFormWidget, IFormWidgetSettable } from './FormWidgets';\r\n\r\n/**\r\n * A numeric spinner widget with standard styling.\r\n */\r\nexport class NumericSpinner implements IFormWidget, IFormWidgetSettable {\r\n  private element: HTMLElement;\r\n  public name: string;\r\n\r\n  public static doExport() {\r\n    exportGlobally({\r\n      NumericSpinner: NumericSpinner\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Creates a new `NumericSpinner`.\r\n   * @param onChange The function to call when the numeric spinner value changes. This function takes the current\r\n   * `NumericSpinner` instance as an argument.\r\n   * @param min The minimum possible value of the numeric spinner.\r\n   * @param max The maximum possible value of the numeric spinner.\r\n   * @param label The label to use for the input for accessibility purposes.\r\n   */\r\n  constructor(\r\n    public onChange: (numericSpinner: NumericSpinner) => void = (numericSpinner: NumericSpinner) => {},\r\n    public min: number = 0,\r\n    public max?: number,\r\n    private label?: string\r\n  ) {\r\n    this.buildContent();\r\n    this.bindEvents();\r\n  }\r\n\r\n  /**\r\n   * Resets the numeric spinner.\r\n   */\r\n  public reset() {\r\n    this.getSpinnerInput().value = '';\r\n    this.onChange(this);\r\n  }\r\n\r\n  /**\r\n   * Gets the element on which the numeric spinner is bound.\r\n   * @returns {HTMLInputElement} The numeric spinner element.\r\n   */\r\n  public getElement(): HTMLElement {\r\n    return this.element;\r\n  }\r\n\r\n  /**\r\n   * Gets the numeric spinner currently selected value (as a string).\r\n   * @returns {string} The numeric spinner value.\r\n   */\r\n  public getValue(): string {\r\n    return this.getSpinnerInput().value;\r\n  }\r\n\r\n  /**\r\n   * Gets the numeric spinner currently selected value (as an integer).\r\n   * @returns {number} The numeric spinner value.\r\n   */\r\n  public getIntValue(): number {\r\n    return this.getSpinnerInput().value ? parseInt(this.getSpinnerInput().value, 10) : this.min;\r\n  }\r\n\r\n  /**\r\n   * Gets the numeric spinner currently selected value (as a float).\r\n   * @returns {number} The numeric spinner value.\r\n   */\r\n  public getFloatValue(): number {\r\n    return this.getSpinnerInput().value ? parseFloat(this.getSpinnerInput().value) : this.min;\r\n  }\r\n\r\n  /**\r\n   * Sets the numeric spinner value.\r\n   *\r\n   * @param value The value to set the numeric spinner to. If `value` is greater than [`max`]{@link NumericSpinner.max},\r\n   * this method sets the numeric spinner to its maximum value instead. Likewise, if value is lesser than\r\n   * [`min`]{@link NumericSpinner.min}, the method sets the numeric spinner to its minimum value.\r\n   */\r\n  public setValue(value: number) {\r\n    if (this.max && value > this.max) {\r\n      value = this.max;\r\n    }\r\n    if (value < this.min) {\r\n      value = this.min;\r\n    }\r\n    this.getSpinnerInput().value = value.toString();\r\n    this.onChange(this);\r\n  }\r\n\r\n  /**\r\n   * Gets the element on which the numeric spinner is bound.\r\n   * @returns {HTMLInputElement} The numeric spinner element.\r\n   */\r\n  public build() {\r\n    return this.element;\r\n  }\r\n\r\n  private buildContent() {\r\n    const numericSpinner = $$('div', { className: 'coveo-numeric-spinner' });\r\n    const numberInput = $$('input', {\r\n      className: 'coveo-number-input',\r\n      type: 'text',\r\n      'aria-label': this.label ? l(this.label) : ''\r\n    });\r\n\r\n    const addOn = $$('span', { className: 'coveo-add-on' });\r\n    const arrowUp = $$('div', { className: 'coveo-spinner-up' }, SVGIcons.icons.arrowUp);\r\n    SVGDom.addClassToSVGInContainer(arrowUp.el, 'coveo-spinner-up-svg');\r\n    const arrowDown = $$('div', { className: 'coveo-spinner-down' }, SVGIcons.icons.arrowDown);\r\n    SVGDom.addClassToSVGInContainer(arrowDown.el, 'coveo-spinner-down-svg');\r\n    addOn.append(arrowUp.el);\r\n    addOn.append(arrowDown.el);\r\n    numericSpinner.append(numberInput.el);\r\n    numericSpinner.append(addOn.el);\r\n    this.element = numericSpinner.el;\r\n  }\r\n\r\n  private bindEvents() {\r\n    const up = $$(this.element).find('.coveo-spinner-up');\r\n    $$(up).on('click', () => {\r\n      this.setValue(this.getFloatValue() + 1);\r\n    });\r\n\r\n    const down = $$(this.element).find('.coveo-spinner-down');\r\n    $$(down).on('click', () => {\r\n      this.setValue(this.getFloatValue() - 1);\r\n    });\r\n\r\n    const numberInput = <HTMLInputElement>$$(this.element).find('input');\r\n    $$(numberInput).on('input', () => {\r\n      if (numberInput.value.match(/[0-9]*/)) {\r\n        this.onChange(this);\r\n      }\r\n    });\r\n  }\r\n\r\n  private getSpinnerInput(): HTMLInputElement {\r\n    return <HTMLInputElement>$$(this.element).find('.coveo-number-input');\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/FormWidgets/NumericSpinner.ts","import { IAdvancedSearchInput } from '../AdvancedSearchInput';\r\nimport { TextInput } from '../../FormWidgets/TextInput';\r\nimport { QueryBuilder } from '../../Base/QueryBuilder';\r\nimport { AdvancedSearchEvents } from '../../../events/AdvancedSearchEvents';\r\nimport { $$ } from '../../../utils/Dom';\r\n\r\nexport class KeywordsInput implements IAdvancedSearchInput {\r\n  protected input: TextInput;\r\n\r\n  constructor(public inputName: string, public root: HTMLElement) {}\r\n\r\n  public reset() {\r\n    this.clear();\r\n  }\r\n\r\n  public build(): HTMLElement {\r\n    this.input = new TextInput(this.onChange.bind(this), this.inputName);\r\n    return this.input.getElement();\r\n  }\r\n\r\n  public setValue(value: string) {\r\n    this.input.setValue(value);\r\n  }\r\n\r\n  public getValue(): string {\r\n    return this.input.getValue();\r\n  }\r\n\r\n  public clear() {\r\n    this.input.setValue('');\r\n  }\r\n\r\n  public updateQuery(queryBuilder: QueryBuilder) {\r\n    let value = this.getValue();\r\n    if (value) {\r\n      queryBuilder.advancedExpression.add(value);\r\n    }\r\n  }\r\n\r\n  protected onChange() {\r\n    if (this.root) {\r\n      $$(this.root).trigger(AdvancedSearchEvents.executeAdvancedSearch);\r\n    } else if (this.input) {\r\n      $$(this.input.getElement()).trigger(AdvancedSearchEvents.executeAdvancedSearch);\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/AdvancedSearch/KeywordsInput/KeywordsInput.ts","import { IAdvancedSearchInput } from '../AdvancedSearchInput';\r\nimport { AdvancedSearchEvents } from '../../../events/AdvancedSearchEvents';\r\nimport { QueryBuilder } from '../../Base/QueryBuilder';\r\nimport { $$ } from '../../../utils/Dom';\r\nimport { RadioButton } from '../../FormWidgets/RadioButton';\r\nimport * as _ from 'underscore';\r\n\r\nexport abstract class DateInput implements IAdvancedSearchInput {\r\n  protected element: HTMLElement;\r\n  private radio: RadioButton;\r\n  private error: HTMLElement;\r\n\r\n  constructor(public inputName: string, public root: HTMLElement) {\r\n    this.buildContent();\r\n  }\r\n\r\n  public reset() {\r\n    this.radio.reset();\r\n  }\r\n\r\n  public build(): HTMLElement {\r\n    return this.element;\r\n  }\r\n\r\n  public getElement(): HTMLElement {\r\n    return this.element;\r\n  }\r\n\r\n  public abstract getValue(): string;\r\n\r\n  public isSelected(): boolean {\r\n    return this.getRadio().checked;\r\n  }\r\n\r\n  public updateQuery(queryBuilder: QueryBuilder) {\r\n    try {\r\n      let value = this.getValue();\r\n      if (value) {\r\n        queryBuilder.advancedExpression.add(value);\r\n      }\r\n      this.removeErrorMessage();\r\n    } catch (error) {\r\n      this.setErrorMessage(error);\r\n    }\r\n  }\r\n\r\n  protected getRadio(): HTMLInputElement {\r\n    return <HTMLInputElement>$$(this.element).find('input');\r\n  }\r\n\r\n  private setErrorMessage(message: string) {\r\n    this.removeErrorMessage();\r\n    this.error = $$(\r\n      'div',\r\n      {\r\n        className: 'coveo-error coveo-error-date-input'\r\n      },\r\n      message\r\n    ).el;\r\n    $$(this.element).append(this.error);\r\n  }\r\n\r\n  private removeErrorMessage() {\r\n    if (this.error) {\r\n      $$(this.error).remove();\r\n    }\r\n  }\r\n\r\n  private buildContent() {\r\n    this.radio = new RadioButton(\r\n      () => {\r\n        this.deactivateAllInputs();\r\n        this.activateSelectedInput();\r\n      },\r\n      this.inputName,\r\n      'coveo-advanced-search-date-input'\r\n    );\r\n    this.element = this.radio.getElement();\r\n    $$(this.element).addClass('coveo-advanced-search-date-input-section');\r\n    $$(this.radio.getRadio()).addClass('coveo-advanced-search-date');\r\n    $$(this.radio.getLabel()).addClass('coveo-advanced-search-label');\r\n  }\r\n\r\n  private deactivateAllInputs() {\r\n    let elements = $$(this.element.parentElement).findAll('fieldset');\r\n    _.each(elements, element => {\r\n      (<HTMLInputElement>element).disabled = true;\r\n    });\r\n  }\r\n\r\n  private activateSelectedInput() {\r\n    let elements = $$(this.element).findAll('fieldset');\r\n    _.each(elements, element => {\r\n      (<HTMLInputElement>element).disabled = false;\r\n    });\r\n  }\r\n\r\n  protected onChange() {\r\n    if (this.root) {\r\n      $$(this.root).trigger(AdvancedSearchEvents.executeAdvancedSearch);\r\n    } else if (this.element) {\r\n      $$(this.element).trigger(AdvancedSearchEvents.executeAdvancedSearch);\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/AdvancedSearch/DateInput/DateInput.ts","import { IAdvancedSearchInput } from '../AdvancedSearchInput';\r\nimport { QueryBuilder } from '../../Base/QueryBuilder';\r\nimport { $$ } from '../../../utils/Dom';\r\nimport { AdvancedSearchEvents } from '../../../events/AdvancedSearchEvents';\r\nimport { l } from '../../../strings/Strings';\r\n\r\nexport class DocumentInput implements IAdvancedSearchInput {\r\n  protected element: HTMLElement;\r\n\r\n  constructor(public inputName: string, public root: HTMLElement) {}\r\n\r\n  public reset() {}\r\n\r\n  public build(): HTMLElement {\r\n    let documentInput = $$('div', { className: 'coveo-advanced-search-document-input-section' });\r\n    let label = $$('span', { className: 'coveo-advanced-search-label' });\r\n    label.text(l(this.inputName));\r\n    documentInput.append(label.el);\r\n    this.element = documentInput.el;\r\n    return this.element;\r\n  }\r\n\r\n  public getValue(): string {\r\n    return '';\r\n  }\r\n\r\n  public updateQuery(queryBuilder: QueryBuilder): void {\r\n    let value = this.getValue();\r\n    if (value) {\r\n      queryBuilder.advancedExpression.add(this.getValue());\r\n    }\r\n  }\r\n\r\n  protected onChange() {\r\n    if (this.root) {\r\n      $$(this.root).trigger(AdvancedSearchEvents.executeAdvancedSearch);\r\n    } else if (this.element) {\r\n      $$(this.element).trigger(AdvancedSearchEvents.executeAdvancedSearch);\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/AdvancedSearch/DocumentInput/DocumentInput.ts","import { Component } from '../Base/Component';\r\nimport { ComponentOptions } from '../Base/ComponentOptions';\r\nimport { IComponentBindings } from '../Base/ComponentBindings';\r\nimport { QueryEvents, IBuildingQueryEventArgs } from '../../events/QueryEvents';\r\nimport { AdvancedSearchEvents } from '../../events/AdvancedSearchEvents';\r\nimport { SettingsEvents } from '../../events/SettingsEvents';\r\nimport { ISettingsPopulateMenuArgs } from '../Settings/Settings';\r\nimport { Initialization } from '../Base/Initialization';\r\nimport { l } from '../../strings/Strings';\r\nimport { $$, Dom } from '../../utils/Dom';\r\nimport {\r\n  IAdvancedSearchInput,\r\n  IAdvancedSearchPrebuiltInput,\r\n  IAdvancedSearchSection,\r\n  IExternalAdvancedSearchSection\r\n} from './AdvancedSearchInput';\r\nimport { AdvancedSearchInputFactory } from './AdvancedSearchInputFactory';\r\nimport { IQueryOptions } from '../../controllers/QueryController';\r\nimport { IAnalyticsNoMeta, analyticsActionCauseList } from '../Analytics/AnalyticsActionListMeta';\r\nimport { QuerySummaryEvents } from '../../events/QuerySummaryEvents';\r\nimport * as _ from 'underscore';\r\nimport { exportGlobally } from '../../GlobalExports';\r\nimport 'styling/_AdvancedSearch';\r\nimport { NumericSpinner } from '../FormWidgets/NumericSpinner';\r\nimport { DatePicker } from '../FormWidgets/DatePicker';\r\nimport { Dropdown } from '../FormWidgets/Dropdown';\r\nimport { TextInput } from '../FormWidgets/TextInput';\r\nimport { RadioButton } from '../FormWidgets/RadioButton';\r\nimport { ModalBox as ModalBoxModule } from '../../ExternalModulesShim';\r\nimport { BreadcrumbEvents, IPopulateBreadcrumbEventArgs, IClearBreadcrumbEventArgs } from '../../events/BreadcrumbEvents';\r\nimport { SVGIcons } from '../../utils/SVGIcons';\r\nimport { AccessibleButton } from '../../utils/AccessibleButton';\r\n\r\nexport interface IAdvancedSearchOptions {\r\n  includeKeywords?: boolean;\r\n  includeDate?: boolean;\r\n  includeDocument?: boolean;\r\n}\r\n\r\n/**\r\n * The `AdvancedSearch` component is meant to render a section in the [`Settings`]{@link Settings} menu to allow the end\r\n * user to easily create complex queries to send to the index.\r\n *\r\n * **Note:**\r\n * > You can write custom code to add new sections in the **Advanced Search** modal box generated by this component by\r\n * > attaching a handler to the [`buildingAdvancedSearch`]{@link AdvancedSearchEvents.buildingAdvancedSearch} event.\r\n *\r\n * @availablesince [October 2016 Release (v1.1550.5)](https://docs.coveo.com/en/309/#october-2016-release-v115505)\r\n */\r\nexport class AdvancedSearch extends Component {\r\n  static ID = 'AdvancedSearch';\r\n\r\n  static doExport = () => {\r\n    exportGlobally({\r\n      AdvancedSearch: AdvancedSearch,\r\n      NumericSpinner: NumericSpinner,\r\n      DatePicker: DatePicker,\r\n      Dropdown: Dropdown,\r\n      TextInput: TextInput,\r\n      RadioButton: RadioButton\r\n    });\r\n  };\r\n\r\n  /**\r\n   * @componentOptions\r\n   */\r\n  static options: IAdvancedSearchOptions = {\r\n    /**\r\n     * Specifies whether to include the built-in **Keywords** section.\r\n     *\r\n     * Default value is `true`.\r\n     */\r\n    includeKeywords: ComponentOptions.buildBooleanOption({ defaultValue: true }),\r\n\r\n    /**\r\n     * Specifies whether to include the built-in **Date** section.\r\n     *\r\n     * Default value is `true`.\r\n     */\r\n    includeDate: ComponentOptions.buildBooleanOption({ defaultValue: true }),\r\n\r\n    /**\r\n     * Specifies whether to include the built-in **Document** section.\r\n     *\r\n     * Default value is `true`.\r\n     */\r\n    includeDocument: ComponentOptions.buildBooleanOption({ defaultValue: true })\r\n  };\r\n\r\n  public inputs: IAdvancedSearchInput[] = [];\r\n  public content: Dom;\r\n\r\n  private inputFactory = new AdvancedSearchInputFactory(this.queryController.getEndpoint(), this.root);\r\n  private externalSections: IExternalAdvancedSearchSection[] = [];\r\n  private modalbox: Coveo.ModalBox.ModalBox;\r\n  private needToPopulateBreadcrumb = false;\r\n  // Used as an internal flag to determine if the component should execute the advanced search event\r\n  // This flag is typically set to false when the breadcrumb is resetting, for example.\r\n  // This is because the query will already be executed anyway from external code.\r\n  // Without this, we might get analytics event being sent multiple time, or multiple query being triggered (which gets cancelled).\r\n  private needToExecuteAdvancedSearch = true;\r\n  /**\r\n   * Creates a new `AdvancedSearch` component.\r\n   *\r\n   * Triggers the [`buildingAdvancedSearch`]{@link AdvancedSearchEvents.buildingAdvancedSearch} event.\r\n   * @param element The HTMLElement on which to instantiate the component.\r\n   * @param options The options for the `AdvancedSearch` component.\r\n   * @param bindings The bindings that the component requires to function normally. If not set, these will be\r\n   * automatically resolved (with a slower execution time).\r\n   */\r\n  constructor(\r\n    public element: HTMLElement,\r\n    public options?: IAdvancedSearchOptions,\r\n    bindings?: IComponentBindings,\r\n    private ModalBox = ModalBoxModule\r\n  ) {\r\n    super(element, AdvancedSearch.ID, bindings);\r\n    this.options = ComponentOptions.initComponentOptions(element, AdvancedSearch, options);\r\n    this.bindEvents();\r\n    this.buildContent();\r\n  }\r\n\r\n  /**\r\n   * Launches the advanced search query.\r\n   * If query returns successfully, also logs an `advancedSearch` event in the usage analytics (see\r\n   * {@link Analytics.logSearchEvent}).\r\n   */\r\n  public executeAdvancedSearch() {\r\n    if (this.needToExecuteAdvancedSearch) {\r\n      this.usageAnalytics.logSearchEvent<IAnalyticsNoMeta>(analyticsActionCauseList.advancedSearch, {});\r\n      this.queryController.executeQuery({\r\n        closeModalBox: false\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Resets the state of all form inputs inside the `AdvancedSearch` component.\r\n   */\r\n  public reset() {\r\n    _.each(this.inputs, input => {\r\n      input.reset();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Opens the `AdvancedSearch` modal box.\r\n   */\r\n  public open() {\r\n    if (this.modalbox == null) {\r\n      this.modalbox = this.ModalBox.open(this.content.el, {\r\n        sizeMod: 'big',\r\n        title: l('AdvancedSearch'),\r\n        className: 'coveo-advanced-search-modal',\r\n        body: this.searchInterface.options.modalContainer\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Closes the `AdvancedSearch` modal box.\r\n   */\r\n  public close() {\r\n    if (this.modalbox != null) {\r\n      this.modalbox.close();\r\n      this.modalbox = null;\r\n    }\r\n  }\r\n\r\n  private handlePopulateBreadcrumb(args: IPopulateBreadcrumbEventArgs) {\r\n    if (this.needToPopulateBreadcrumb) {\r\n      const { container, title, clear } = this.buildBreadcrumbElements();\r\n\r\n      container.append(title.el);\r\n      container.append(clear.el);\r\n\r\n      args.breadcrumbs.push({\r\n        element: container.el\r\n      });\r\n    }\r\n  }\r\n\r\n  private buildBreadcrumbElements() {\r\n    return {\r\n      container: this.buildBreadcrumbContainer(),\r\n      title: this.buildBreadcrumbTitle(),\r\n      clear: this.buildBreacrumbClear()\r\n    };\r\n  }\r\n\r\n  private buildBreadcrumbContainer() {\r\n    return $$('div', {\r\n      className: 'coveo-advanced-search-breadcrumb'\r\n    });\r\n  }\r\n\r\n  private buildBreadcrumbTitle() {\r\n    return $$(\r\n      'span',\r\n      {\r\n        className: 'coveo-advanced-search-breadcrumb-title'\r\n      },\r\n      `${l('FiltersInAdvancedSearch')}:`\r\n    );\r\n  }\r\n\r\n  private buildBreacrumbClear() {\r\n    const clear = $$(\r\n      'span',\r\n      {\r\n        className: 'coveo-advanced-search-breadcrumb-clear'\r\n      },\r\n      SVGIcons.icons.mainClear\r\n    );\r\n\r\n    const selectAction = () => {\r\n      this.handleClearBreadcrumb();\r\n      this.usageAnalytics.logSearchEvent<IAnalyticsNoMeta>(analyticsActionCauseList.breadcrumbAdvancedSearch, {});\r\n      this.queryController.executeQuery();\r\n    };\r\n\r\n    new AccessibleButton()\r\n      .withElement(clear)\r\n      .withLabel(l('Clear'))\r\n      .withSelectAction(() => selectAction())\r\n      .build();\r\n\r\n    return clear;\r\n  }\r\n\r\n  private handleClearBreadcrumb() {\r\n    if (this.needToPopulateBreadcrumb) {\r\n      this.needToExecuteAdvancedSearch = false;\r\n      this.reset();\r\n      this.needToExecuteAdvancedSearch = true;\r\n    }\r\n  }\r\n\r\n  private handleQuerySummaryCancelLastAction() {\r\n    this.needToExecuteAdvancedSearch = false;\r\n    this.reset();\r\n    this.needToExecuteAdvancedSearch = true;\r\n  }\r\n\r\n  private handlePopulateMenu(args: ISettingsPopulateMenuArgs) {\r\n    args.menuData.push({\r\n      text: l('AdvancedSearch'),\r\n      className: 'coveo-advanced-search',\r\n      onOpen: () => this.open(),\r\n      onClose: () => this.close(),\r\n      svgIcon: SVGIcons.icons.dropdownPreferences,\r\n      svgIconClassName: 'coveo-advanced-search-svg'\r\n    });\r\n  }\r\n\r\n  private handleBuildingQuery(data: IBuildingQueryEventArgs) {\r\n    const originalQuery = data.queryBuilder.build();\r\n    _.each(this.externalSections, (section: IExternalAdvancedSearchSection) => {\r\n      if (section.updateQuery) {\r\n        section.updateQuery(<any>section.inputs, data.queryBuilder);\r\n      }\r\n    });\r\n    _.each(this.inputs, input => {\r\n      if (input.updateQuery) {\r\n        input.updateQuery(data.queryBuilder);\r\n      }\r\n    });\r\n    const modifiedQuery = data.queryBuilder.build();\r\n    this.needToPopulateBreadcrumb = modifiedQuery.aq != originalQuery.aq;\r\n  }\r\n\r\n  private buildContent() {\r\n    const component = $$('div');\r\n    const inputSections: IAdvancedSearchSection[] = [];\r\n    if (this.options.includeKeywords) {\r\n      inputSections.push(this.getKeywordsSection());\r\n    }\r\n    if (this.options.includeDate) {\r\n      inputSections.push(this.getDateSection());\r\n    }\r\n    if (this.options.includeDocument) {\r\n      inputSections.push(this.getDocumentSection());\r\n    }\r\n\r\n    this.externalSections = [];\r\n    $$(this.root).trigger(AdvancedSearchEvents.buildingAdvancedSearch, {\r\n      sections: this.externalSections,\r\n      executeQuery: (options: IQueryOptions) => {\r\n        options = _.extend({}, options, { closeModalBox: false });\r\n        return this.queryController.executeQuery(options);\r\n      }\r\n    });\r\n\r\n    _.each(this.externalSections, (section: IExternalAdvancedSearchSection) => {\r\n      component.append(this.buildExternalSection(section));\r\n    });\r\n\r\n    _.each(inputSections, section => {\r\n      component.append(this.buildInternalSection(section));\r\n    });\r\n\r\n    this.content = component;\r\n  }\r\n\r\n  private getKeywordsSection(): IAdvancedSearchSection {\r\n    const sectionName = l('Keywords');\r\n    const keywordsInputs = [];\r\n    keywordsInputs.push(this.inputFactory.createAllKeywordsInput());\r\n    keywordsInputs.push(this.inputFactory.createExactKeywordsInput());\r\n    keywordsInputs.push(this.inputFactory.createAnyKeywordsInput());\r\n    keywordsInputs.push(this.inputFactory.createNoneKeywordsInput());\r\n    return { name: sectionName, inputs: keywordsInputs };\r\n  }\r\n\r\n  private getDateSection(): IAdvancedSearchSection {\r\n    const sectionName = l('Date');\r\n    const dateInputs = [];\r\n    dateInputs.push(this.inputFactory.createAnytimeDateInput());\r\n    dateInputs.push(this.inputFactory.createInTheLastDateInput());\r\n    dateInputs.push(this.inputFactory.createBetweenDateInput());\r\n    return { name: sectionName, inputs: dateInputs };\r\n  }\r\n\r\n  private getDocumentSection(): IAdvancedSearchSection {\r\n    const sectionName = l('Document');\r\n    const documentInputs = [];\r\n    documentInputs.push(this.inputFactory.createSimpleFieldInput(l('FileType'), '@filetype'));\r\n    documentInputs.push(this.inputFactory.createSimpleFieldInput(l('Language'), '@language'));\r\n    documentInputs.push(this.inputFactory.createSizeInput());\r\n    documentInputs.push(this.inputFactory.createAdvancedFieldInput(l('Title'), '@title'));\r\n    documentInputs.push(this.inputFactory.createAdvancedFieldInput(l('Author'), '@author'));\r\n    return { name: sectionName, inputs: documentInputs };\r\n  }\r\n\r\n  private buildExternalSection(section: IExternalAdvancedSearchSection): HTMLElement {\r\n    const { el } = this.buildSectionTitle(section);\r\n    this.inputs = _.union(this.inputs, <any>section.inputs);\r\n    el.appendChild(section.content);\r\n    return el;\r\n  }\r\n\r\n  private buildInternalSection(section: IAdvancedSearchSection): HTMLElement {\r\n    const { el, id } = this.buildSectionTitle(section);\r\n    const sectionInputs = [];\r\n    _.each(section.inputs, input => {\r\n      sectionInputs.push(this.buildDefaultInput(input));\r\n    });\r\n    this.inputs = _.union(this.inputs, sectionInputs);\r\n    _.each(sectionInputs, input => {\r\n      const built: HTMLElement = input.build();\r\n      const inputElement = built.querySelector('input');\r\n      if (inputElement) {\r\n        inputElement.setAttribute('aria-labelledby', id);\r\n      }\r\n\r\n      $$(el).append(built);\r\n    });\r\n\r\n    return el;\r\n  }\r\n\r\n  private buildSectionTitle(section: IAdvancedSearchSection) {\r\n    const sectionHTML = $$('div', { className: 'coveo-advanced-search-section' });\r\n    const title = $$('div', { className: 'coveo-advanced-search-section-title' });\r\n\r\n    title.text(section.name);\r\n    const id = `coveo-advanced-search-section-${section.name}`;\r\n    title.el.id = id;\r\n    sectionHTML.append(title.el);\r\n    return {\r\n      el: sectionHTML.el,\r\n      id\r\n    };\r\n  }\r\n\r\n  private buildDefaultInput(input: IAdvancedSearchInput | IAdvancedSearchPrebuiltInput): IAdvancedSearchInput {\r\n    if (this.isPrebuiltInput(input)) {\r\n      return this.inputFactory.create(input.name, input.parameters);\r\n    } else {\r\n      return input;\r\n    }\r\n  }\r\n\r\n  private isPrebuiltInput(input: IAdvancedSearchInput | IAdvancedSearchPrebuiltInput): input is IAdvancedSearchPrebuiltInput {\r\n    return (<IAdvancedSearchPrebuiltInput>input).name !== undefined;\r\n  }\r\n\r\n  private bindEvents() {\r\n    this.bind.onRootElement(BreadcrumbEvents.populateBreadcrumb, (args: IPopulateBreadcrumbEventArgs) =>\r\n      this.handlePopulateBreadcrumb(args)\r\n    );\r\n    this.bind.onRootElement(BreadcrumbEvents.clearBreadcrumb, (args: IClearBreadcrumbEventArgs) => this.handleClearBreadcrumb());\r\n    this.bind.onRootElement(SettingsEvents.settingsPopulateMenu, (args: ISettingsPopulateMenuArgs) => this.handlePopulateMenu(args));\r\n    this.bind.onRootElement(QueryEvents.buildingQuery, (data: IBuildingQueryEventArgs) => this.handleBuildingQuery(data));\r\n    this.bind.onRootElement(AdvancedSearchEvents.executeAdvancedSearch, () => this.executeAdvancedSearch());\r\n    this.bind.onRootElement(QuerySummaryEvents.cancelLastAction, () => this.handleQuerySummaryCancelLastAction());\r\n  }\r\n}\r\n\r\nInitialization.registerAutoCreateComponent(AdvancedSearch);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/AdvancedSearch/AdvancedSearch.ts","/// <reference path='Facet.ts' />\r\nimport { StringUtils } from '../../utils/StringUtils';\r\nimport { QueryUtils } from '../../utils/QueryUtils';\r\nimport { FileTypes } from '../Misc/FileTypes';\r\nimport { DateUtils } from '../../utils/DateUtils';\r\nimport { Utils } from '../../utils/Utils';\r\nimport { $$ } from '../../utils/Dom';\r\nimport * as _ from 'underscore';\r\nimport FacetModuleDefinition = require('./Facet');\r\nimport { l } from '../../strings/Strings';\r\n\r\nexport class FacetUtils {\r\n  static getRegexToUseForFacetSearch(value: string, ignoreAccent: boolean) {\r\n    return new RegExp(StringUtils.stringToRegex(value, ignoreAccent), 'i');\r\n  }\r\n\r\n  static getDisplayValueFromValueCaption(value: string, field: string, valueCaption: Record<string, string>) {\r\n    const returnValue = this.tryToGetTranslatedCaption(field, value);\r\n    return valueCaption[value] || returnValue;\r\n  }\r\n\r\n  static getValuesToUseForSearchInFacet(original: string, facet: FacetModuleDefinition.Facet): string[] {\r\n    let ret = [original];\r\n    let regex = this.getRegexToUseForFacetSearch(original, facet.options.facetSearchIgnoreAccents);\r\n    if (facet.options.valueCaption) {\r\n      _.chain(facet.options.valueCaption)\r\n        .pairs()\r\n        .filter(pair => {\r\n          return regex.test(pair[1]);\r\n        })\r\n        .each(match => {\r\n          ret.push(match[0]);\r\n        });\r\n      if (\r\n        QueryUtils.isStratusAgnosticField(<string>facet.options.field, '@objecttype') ||\r\n        QueryUtils.isStratusAgnosticField(<string>facet.options.field, '@filetype')\r\n      ) {\r\n        _.each(FileTypes.getFileTypeCaptions(), (value: string, key: string) => {\r\n          if (!(key in facet.options.valueCaption) && regex.test(value)) {\r\n            ret.push(key);\r\n          }\r\n        });\r\n      }\r\n    } else if (\r\n      QueryUtils.isStratusAgnosticField(<string>facet.options.field, '@objecttype') ||\r\n      QueryUtils.isStratusAgnosticField(<string>facet.options.field, '@filetype')\r\n    ) {\r\n      _.each(\r\n        _.filter(_.pairs(FileTypes.getFileTypeCaptions()), pair => {\r\n          return regex.test(pair[1]);\r\n        }),\r\n        match => {\r\n          ret.push(match[0]);\r\n        }\r\n      );\r\n    } else if (QueryUtils.isStratusAgnosticField(<string>facet.options.field, '@month')) {\r\n      _.each(_.range(1, 13), month => {\r\n        if (regex.test(DateUtils.monthToString(month - 1))) {\r\n          ret.push(('0' + month.toString()).substr(-2));\r\n        }\r\n      });\r\n    }\r\n    return ret;\r\n  }\r\n\r\n  static buildFacetSearchPattern(values: string[]) {\r\n    values = _.map(values, value => {\r\n      return Utils.escapeRegexCharacter(value);\r\n    });\r\n    values[0] = '.*' + values[0] + '.*';\r\n    return values.join('|');\r\n  }\r\n\r\n  static needAnotherFacetSearch(\r\n    currentSearchLength: number,\r\n    newSearchLength: number,\r\n    oldSearchLength: number,\r\n    desiredSearchLength: number\r\n  ) {\r\n    // Something was removed (currentSearch < newSearch)\r\n    // && we might want to display more facet search result(currentSearch < desiredSearch)\r\n    // && the new query returned more stuff than the old one so there's still more results(currentSearchLength > oldLength)\r\n    return currentSearchLength < newSearchLength && currentSearchLength < desiredSearchLength && currentSearchLength > oldSearchLength;\r\n  }\r\n\r\n  static addNoStateCssClassToFacetValues(facet: FacetModuleDefinition.Facet, container: HTMLElement) {\r\n    // This takes care of adding the correct css class on each facet value checkbox (empty white box) if at least one value is selected in that facet\r\n    if (facet.values.getSelected().length != 0) {\r\n      let noStates = $$(container).findAll('li:not(.coveo-selected)');\r\n      _.each(noStates, noState => {\r\n        $$(noState).addClass('coveo-no-state');\r\n      });\r\n    }\r\n  }\r\n\r\n  static tryToGetTranslatedCaption(field: string, value: string) {\r\n    let found: string;\r\n\r\n    if (QueryUtils.isStratusAgnosticField(field.toLowerCase(), '@filetype')) {\r\n      found = FileTypes.getFileType(value).caption;\r\n    } else if (QueryUtils.isStratusAgnosticField(field.toLowerCase(), '@objecttype')) {\r\n      found = FileTypes.getObjectType(value).caption;\r\n    } else if (FacetUtils.isMonthFieldValue(field, value)) {\r\n      const month = parseInt(value, 10);\r\n      found = DateUtils.monthToString(month - 1);\r\n    } else {\r\n      found = l(value);\r\n    }\r\n    return found != undefined && Utils.isNonEmptyString(found) ? found : value;\r\n  }\r\n\r\n  static isMonthFieldValue(field: string, value: string) {\r\n    if (!QueryUtils.isStratusAgnosticField(field.toLowerCase(), '@month')) {\r\n      return false;\r\n    }\r\n\r\n    const asInt = parseInt(value, 10);\r\n\r\n    if (isNaN(asInt)) {\r\n      return false;\r\n    }\r\n\r\n    if (asInt < 1 || asInt > 12) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/Facet/FacetUtils.ts","/**\r\n * Argument sent to all handlers bound on {@link QuerySummaryEvents.cancelLastAction}\r\n */\r\nexport interface IQuerySummaryCancelLastActionArgs {}\r\n\r\n/**\r\n * This static class is there to contains the different string definition for all the events related to the {@link AdvancedSearch} component.\r\n */\r\nexport class QuerySummaryEvents {\r\n  /**\r\n   * Triggered when the last action is being cancelled by the query summary component\r\n   *\r\n   * Allows external code to revert their last action.\r\n   * @type {string}\r\n   */\r\n  public static cancelLastAction = 'cancelLastAction';\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/events/QuerySummaryEvents.ts","import { ISearchEndpoint } from '../../rest/SearchEndpointInterface';\r\nimport { AllKeywordsInput } from './KeywordsInput/AllKeywordsInput';\r\nimport { ExactKeywordsInput } from './KeywordsInput/ExactKeywordsInput';\r\nimport { AnyKeywordsInput } from './KeywordsInput/AnyKeywordsInput';\r\nimport { NoneKeywordsInput } from './KeywordsInput/NoneKeywordsInput';\r\nimport { AnytimeDateInput } from './DateInput/AnytimeDateInput';\r\nimport { InTheLastDateInput } from './DateInput/InTheLastDateInput';\r\nimport { BetweenDateInput } from './DateInput/BetweenDateInput';\r\nimport { IAdvancedSearchInput } from './AdvancedSearchInput';\r\nimport { SimpleFieldInput } from './DocumentInput/SimpleFieldInput';\r\nimport { AdvancedFieldInput } from './DocumentInput/AdvancedFieldInput';\r\nimport { SizeInput } from './DocumentInput/SizeInput';\r\nimport { IFieldInputParameters } from './AdvancedSearchInput';\r\n\r\nexport class AdvancedSearchInputFactory {\r\n  constructor(private endpoint: ISearchEndpoint, private root: HTMLElement) {}\r\n\r\n  public create(name: string, options?: IFieldInputParameters): IAdvancedSearchInput {\r\n    switch (name) {\r\n      case 'keywords_all':\r\n        return this.createAllKeywordsInput();\r\n      case 'keywords_exact':\r\n        return this.createExactKeywordsInput();\r\n      case 'keywords_any':\r\n        return this.createAnyKeywordsInput();\r\n      case 'keywords_none':\r\n        return this.createNoneKeywordsInput();\r\n      case 'date_any':\r\n        return this.createAnytimeDateInput();\r\n      case 'date_last':\r\n        return this.createInTheLastDateInput();\r\n      case 'date_between':\r\n        return this.createBetweenDateInput();\r\n      case 'document_field':\r\n        return this.createSimpleFieldInput(options.name, options.field);\r\n      case 'document_advanced_field':\r\n        return this.createAdvancedFieldInput(options.name, options.field);\r\n      case 'document_size':\r\n        return this.createSizeInput();\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  public createAllKeywordsInput(): AllKeywordsInput {\r\n    return new AllKeywordsInput(this.root);\r\n  }\r\n\r\n  public createExactKeywordsInput(): ExactKeywordsInput {\r\n    return new ExactKeywordsInput(this.root);\r\n  }\r\n\r\n  public createAnyKeywordsInput(): AnyKeywordsInput {\r\n    return new AnyKeywordsInput(this.root);\r\n  }\r\n\r\n  public createNoneKeywordsInput(): NoneKeywordsInput {\r\n    return new NoneKeywordsInput(this.root);\r\n  }\r\n\r\n  public createAnytimeDateInput(): AnytimeDateInput {\r\n    return new AnytimeDateInput(this.root);\r\n  }\r\n\r\n  public createInTheLastDateInput(): InTheLastDateInput {\r\n    return new InTheLastDateInput(this.root);\r\n  }\r\n\r\n  public createBetweenDateInput(): BetweenDateInput {\r\n    return new BetweenDateInput(this.root);\r\n  }\r\n\r\n  public createSimpleFieldInput(name: string, field: string): SimpleFieldInput {\r\n    return new SimpleFieldInput(name, field, this.endpoint, this.root);\r\n  }\r\n\r\n  public createAdvancedFieldInput(name: string, field: string): AdvancedFieldInput {\r\n    return new AdvancedFieldInput(name, field, this.root);\r\n  }\r\n\r\n  public createSizeInput() {\r\n    return new SizeInput(this.root);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/AdvancedSearch/AdvancedSearchInputFactory.ts","import { KeywordsInput } from './KeywordsInput';\r\nimport { l } from '../../../strings/Strings';\r\n\r\nexport class AllKeywordsInput extends KeywordsInput {\r\n  constructor(public root: HTMLElement) {\r\n    super(l('AllTheseWords'), root);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/AdvancedSearch/KeywordsInput/AllKeywordsInput.ts","import { KeywordsInput } from './KeywordsInput';\r\nimport { l } from '../../../strings/Strings';\r\n\r\nexport class ExactKeywordsInput extends KeywordsInput {\r\n  constructor(public root: HTMLElement) {\r\n    super(l('ExactPhrase'), root);\r\n  }\r\n\r\n  public getValue(): string {\r\n    let value = super.getValue();\r\n    return value ? '\"' + value + '\"' : '';\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/AdvancedSearch/KeywordsInput/ExactKeywordsInput.ts","import { KeywordsInput } from './KeywordsInput';\r\nimport { l } from '../../../strings/Strings';\r\nimport * as _ from 'underscore';\r\n\r\nexport class AnyKeywordsInput extends KeywordsInput {\r\n  constructor(public root: HTMLElement) {\r\n    super(l('AnyOfTheseWords'), root);\r\n  }\r\n\r\n  public getValue(): string {\r\n    let value = super.getValue();\r\n    let splitValues = value.split(' ');\r\n    let generatedValue = '';\r\n    _.each(splitValues, splitValue => {\r\n      generatedValue += splitValue + ' OR ';\r\n    });\r\n    generatedValue = generatedValue.substr(0, generatedValue.length - 4);\r\n    return generatedValue;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/AdvancedSearch/KeywordsInput/AnyKeywordsInput.ts","import { KeywordsInput } from './KeywordsInput';\r\nimport { l } from '../../../strings/Strings';\r\nimport * as _ from 'underscore';\r\n\r\nexport class NoneKeywordsInput extends KeywordsInput {\r\n  constructor(public root: HTMLElement) {\r\n    super(l('NoneOfTheseWords'), root);\r\n  }\r\n\r\n  public getValue(): string {\r\n    let value = super.getValue();\r\n    let generatedValue = '';\r\n\r\n    if (value) {\r\n      let splitValues = value.split(' ');\r\n      _.each(splitValues, splitValue => {\r\n        generatedValue += ' NOT ' + splitValue;\r\n      });\r\n      generatedValue = generatedValue.substr(1);\r\n    }\r\n\r\n    return generatedValue;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/AdvancedSearch/KeywordsInput/NoneKeywordsInput.ts","import { DateInput } from './DateInput';\r\nimport { l } from '../../../strings/Strings';\r\nimport { $$ } from '../../../utils/Dom';\r\nimport { AdvancedSearchEvents } from '../../../events/AdvancedSearchEvents';\r\n\r\nexport class AnytimeDateInput extends DateInput {\r\n  constructor(public root: HTMLElement) {\r\n    super(l('Anytime'), root);\r\n  }\r\n\r\n  public getValue() {\r\n    return null;\r\n  }\r\n\r\n  public build(): HTMLElement {\r\n    super.build();\r\n    let radio = this.getRadio();\r\n    radio.checked = true;\r\n    $$(radio).on('change', () => {\r\n      if (this.root) {\r\n        $$(this.root).trigger(AdvancedSearchEvents.executeAdvancedSearch);\r\n      } else {\r\n        $$(this.element).trigger(AdvancedSearchEvents.executeAdvancedSearch);\r\n      }\r\n    });\r\n    return this.element;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/AdvancedSearch/DateInput/AnytimeDateInput.ts","import { DateInput } from './DateInput';\r\nimport { $$ } from '../../../utils/Dom';\r\nimport { l } from '../../../strings/Strings';\r\nimport { Dropdown } from '../../FormWidgets/Dropdown';\r\nimport { NumericSpinner } from '../../FormWidgets/NumericSpinner';\r\nimport { DateUtils } from '../../../utils/DateUtils';\r\n\r\nexport class InTheLastDateInput extends DateInput {\r\n  public dropdown: Dropdown;\r\n  public spinner: NumericSpinner;\r\n\r\n  constructor(public root: HTMLElement) {\r\n    super(l('InTheLast'), root);\r\n  }\r\n\r\n  public reset() {\r\n    this.dropdown.reset();\r\n    this.spinner.reset();\r\n  }\r\n\r\n  public build(): HTMLElement {\r\n    super.build();\r\n    const input = $$('fieldset', { className: 'coveo-advanced-search-date-input' });\r\n    (<HTMLFieldSetElement>input.el).disabled = true;\r\n\r\n    this.spinner = new NumericSpinner(this.onChange.bind(this), undefined, undefined, l('InTheLast'));\r\n    input.append(this.spinner.getElement());\r\n\r\n    this.dropdown = new Dropdown(this.onChange.bind(this), ['Days', 'Months'], undefined, l('InTheLast'));\r\n    this.dropdown.setId('coveo-advanced-search-in-the-last-select');\r\n    input.append(this.dropdown.getElement());\r\n\r\n    this.element.appendChild(input.el);\r\n\r\n    $$(this.getRadio()).on('change', this.onChange.bind(this));\r\n    return this.element;\r\n  }\r\n\r\n  public getValue(): string {\r\n    const currentDate = new Date();\r\n    const time = this.spinner.getIntValue();\r\n    const size = this.dropdown.getValue().toLowerCase();\r\n\r\n    const date = new Date();\r\n    if (size == 'months') {\r\n      date.setMonth(currentDate.getMonth() - time);\r\n    } else {\r\n      date.setDate(currentDate.getDate() - time);\r\n    }\r\n\r\n    return this.isSelected() && time ? '@date>=' + DateUtils.dateForQuery(date) : '';\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/AdvancedSearch/DateInput/InTheLastDateInput.ts","import { DateInput } from './DateInput';\r\nimport { DatePicker } from '../../FormWidgets/DatePicker';\r\nimport { l } from '../../../strings/Strings';\r\nimport { $$ } from '../../../utils/Dom';\r\nimport { DateUtils } from '../../../utils/DateUtils';\r\nimport { TimeSpan } from '../../../utils/TimeSpanUtils';\r\n\r\nexport class BetweenDateInput extends DateInput {\r\n  public firstDatePicker: DatePicker = new DatePicker(this.onChange.bind(this));\r\n  public secondDatePicker: DatePicker = new DatePicker(this.onChange.bind(this));\r\n\r\n  constructor(public root: HTMLElement) {\r\n    super(l('Between'), root);\r\n  }\r\n\r\n  public reset() {\r\n    this.firstDatePicker.reset();\r\n    this.secondDatePicker.reset();\r\n  }\r\n\r\n  public build(): HTMLElement {\r\n    super.build();\r\n    const container = $$('fieldset', { className: 'coveo-advanced-search-date-input' });\r\n    (<HTMLFieldSetElement>container.el).disabled = true;\r\n\r\n    container.append(this.firstDatePicker.getElement());\r\n    container.append(this.buildAnd());\r\n    container.append(this.secondDatePicker.getElement());\r\n\r\n    this.element.appendChild(container.el);\r\n    return this.element;\r\n  }\r\n\r\n  public getValue(): string {\r\n    const firstDate = this.firstDatePicker.getDateValue();\r\n    const secondDate = this.secondDatePicker.getDateValue();\r\n    const firstDateAsString = this.firstDatePicker.getValue();\r\n    const secondDateAsString = this.secondDatePicker.getValue();\r\n\r\n    let query = '';\r\n\r\n    if (this.isSelected()) {\r\n      if (firstDate && secondDate) {\r\n        const timespan = TimeSpan.fromDates(\r\n          DateUtils.convertFromJsonDateIfNeeded(firstDate),\r\n          DateUtils.convertFromJsonDateIfNeeded(secondDateAsString)\r\n        );\r\n        if (timespan.getMilliseconds() < 0) {\r\n          throw l('QueryExceptionInvalidDate');\r\n        }\r\n      }\r\n      if (firstDateAsString) {\r\n        query += `(@date>=${firstDateAsString})`;\r\n      }\r\n      if (secondDateAsString) {\r\n        query += `(@date<=${secondDateAsString})`;\r\n      }\r\n    }\r\n    return query;\r\n  }\r\n\r\n  private buildAnd(): HTMLElement {\r\n    const and = $$('div', { className: 'coveo-advanced-search-and' });\r\n    and.text(l('And').toLowerCase());\r\n    return and.el;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/AdvancedSearch/DateInput/BetweenDateInput.ts","import * as _ from 'underscore';\r\nimport { IIndexFieldValue } from '../../../rest/FieldValue';\r\nimport { ISearchEndpoint } from '../../../rest/SearchEndpointInterface';\r\nimport { FacetUtils } from '../../../ui/Facet/FacetUtils';\r\nimport { $$ } from '../../../utils/Dom';\r\nimport { QueryBuilder } from '../../Base/QueryBuilder';\r\nimport { Dropdown } from '../../FormWidgets/Dropdown';\r\nimport { DocumentInput } from './DocumentInput';\r\n\r\nexport class SimpleFieldInput extends DocumentInput {\r\n  protected element: HTMLElement;\r\n  public dropDown: Dropdown;\r\n\r\n  constructor(public inputName: string, public fieldName: string, private endpoint: ISearchEndpoint, public root: HTMLElement) {\r\n    super(inputName, root);\r\n  }\r\n\r\n  public reset() {\r\n    this.dropDown.reset();\r\n  }\r\n\r\n  public build(): HTMLElement {\r\n    let fieldInput = $$(super.build());\r\n    this.buildFieldSelect().then(() => {\r\n      fieldInput.append(this.dropDown.getElement());\r\n    });\r\n    this.element = fieldInput.el;\r\n    return this.element;\r\n  }\r\n\r\n  public getValue(): string {\r\n    let value = this.dropDown ? this.dropDown.getValue() : '';\r\n    let queryBuilder = new QueryBuilder();\r\n    if (value) {\r\n      queryBuilder.advancedExpression.addFieldExpression(this.fieldName, '==', [value]);\r\n      return queryBuilder.build().aq;\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n\r\n  private buildFieldSelect() {\r\n    return this.endpoint\r\n      .listFieldValues({\r\n        field: this.fieldName,\r\n        maximumNumberOfValues: 50\r\n      })\r\n      .then((values: IIndexFieldValue[]) => {\r\n        let options = [''];\r\n        _.each(values, (value: IIndexFieldValue) => {\r\n          options.push(value.value);\r\n        });\r\n        this.dropDown = new Dropdown(\r\n          this.onChange.bind(this),\r\n          options,\r\n          (str: string) => {\r\n            return FacetUtils.tryToGetTranslatedCaption(this.fieldName, str);\r\n          },\r\n          this.inputName\r\n        );\r\n      });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/AdvancedSearch/DocumentInput/SimpleFieldInput.ts","import { Dropdown } from '../../FormWidgets/Dropdown';\r\nimport { TextInput } from '../../FormWidgets/TextInput';\r\nimport { $$ } from '../../../utils/Dom';\r\nimport { DocumentInput } from './DocumentInput';\r\nimport { QueryBuilder } from '../../Base/QueryBuilder';\r\n\r\nexport class AdvancedFieldInput extends DocumentInput {\r\n  protected element: HTMLElement;\r\n  public mode: Dropdown;\r\n  public input: TextInput;\r\n\r\n  constructor(public inputName: string, public fieldName: string, public root: HTMLElement) {\r\n    super(inputName, root);\r\n  }\r\n\r\n  public reset() {\r\n    this.mode.reset();\r\n    this.input.reset();\r\n  }\r\n\r\n  public build(): HTMLElement {\r\n    const fieldInput = $$(super.build());\r\n    this.mode = new Dropdown(this.onChange.bind(this), ['Contains', 'DoesNotContain', 'Matches'], undefined, this.inputName);\r\n    fieldInput.append(this.mode.getElement());\r\n    this.input = new TextInput(this.onChange.bind(this), this.inputName);\r\n    fieldInput.append(this.input.getElement());\r\n    this.element = fieldInput.el;\r\n    return this.element;\r\n  }\r\n\r\n  public getValue(): string {\r\n    let inputValue = this.input.getValue();\r\n    let builder = new QueryBuilder();\r\n    if (inputValue) {\r\n      switch (this.mode.getValue()) {\r\n        case 'Contains':\r\n          builder.advancedExpression.addFieldExpression(this.fieldName, '=', [inputValue]);\r\n          return builder.build().aq;\r\n\r\n        case 'DoesNotContain':\r\n          builder.advancedExpression.addFieldExpression(this.fieldName, '<>', [inputValue]);\r\n          return builder.build().aq;\r\n        default:\r\n          builder.advancedExpression.addFieldExpression(this.fieldName, '==', [inputValue]);\r\n          return builder.build().aq;\r\n      }\r\n    }\r\n    return '';\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/AdvancedSearch/DocumentInput/AdvancedFieldInput.ts","import { l } from '../../../strings/Strings';\r\nimport { $$ } from '../../../utils/Dom';\r\nimport { QueryBuilder } from '../../Base/QueryBuilder';\r\nimport { Dropdown } from '../../FormWidgets/Dropdown';\r\nimport { NumericSpinner } from '../../FormWidgets/NumericSpinner';\r\nimport { DocumentInput } from './DocumentInput';\r\n\r\nexport class SizeInput extends DocumentInput {\r\n  public static modes = ['AtLeast', 'AtMost'];\r\n  public static sizes = ['KB', 'MB', 'Bytes'];\r\n\r\n  protected element: HTMLElement;\r\n  public modeSelect: Dropdown;\r\n  public sizeInput: NumericSpinner;\r\n  public sizeSelect: Dropdown;\r\n\r\n  constructor(public root: HTMLElement) {\r\n    super('Size', root);\r\n  }\r\n\r\n  public reset() {\r\n    this.modeSelect.reset();\r\n    this.sizeInput.reset();\r\n  }\r\n\r\n  public build(): HTMLElement {\r\n    const sizeInput = $$(super.build());\r\n    const sizeInputSection = $$('div', { className: 'coveo-size-input-mode-section' });\r\n\r\n    this.modeSelect = new Dropdown(this.onChange.bind(this), SizeInput.modes, undefined, l('Size'));\r\n    this.modeSelect.setId('coveo-size-input-mode');\r\n    sizeInputSection.append(this.modeSelect.getElement());\r\n\r\n    this.sizeInput = new NumericSpinner(this.onChange.bind(this), undefined, undefined, l('SizeValue'));\r\n    sizeInputSection.append(this.sizeInput.getElement());\r\n\r\n    this.sizeSelect = new Dropdown(this.onChange.bind(this), SizeInput.sizes, undefined, l('UnitMeasurement'));\r\n    this.sizeSelect.setId('coveo-size-input-select');\r\n    sizeInputSection.append(this.sizeSelect.getElement());\r\n    sizeInput.append(sizeInputSection.el);\r\n    this.element = sizeInput.el;\r\n    return this.element;\r\n  }\r\n\r\n  public getValue(): string {\r\n    let size = this.getSizeInBytes();\r\n    let queryBuilder = new QueryBuilder();\r\n    if (size) {\r\n      switch (this.modeSelect.getValue()) {\r\n        case 'AtLeast':\r\n          queryBuilder.advancedExpression.addFieldExpression('@size', '>=', [this.getSizeInBytes().toString()]);\r\n          return queryBuilder.build().aq;\r\n        default:\r\n          queryBuilder.advancedExpression.addFieldExpression('@size', '<=', [this.getSizeInBytes().toString()]);\r\n          return queryBuilder.build().aq;\r\n      }\r\n    }\r\n    return '';\r\n  }\r\n\r\n  private getSizeInBytes(): number {\r\n    let size = this.sizeInput.getFloatValue();\r\n    switch (this.sizeSelect.getValue()) {\r\n      case 'KB':\r\n        return size * 1024;\r\n      case 'MB':\r\n        return size * Math.pow(1024, 2);\r\n      default:\r\n        return size;\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/AdvancedSearch/DocumentInput/SizeInput.ts","import { $$ } from '../../utils/Dom';\r\nimport { l } from '../../strings/Strings';\r\nimport * as _ from 'underscore';\r\nimport { IFormWidget, IFormWidgetSettable } from './FormWidgets';\r\nimport { exportGlobally } from '../../GlobalExports';\r\n\r\n/**\r\n * A dropdown widget with standard styling.\r\n */\r\nexport class Dropdown implements IFormWidget, IFormWidgetSettable {\r\n  private element: HTMLElement;\r\n  private selectElement: HTMLSelectElement;\r\n  private optionsElement: HTMLOptionElement[] = [];\r\n\r\n  static doExport() {\r\n    exportGlobally({\r\n      Dropdown: Dropdown\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Creates a new `Dropdown`.\r\n   * @param onChange The function to call when the dropdown selected value changes. This function takes the current\r\n   * `Dropdown` instance as an argument.\r\n   * @param listOfValues The selectable values to display in the dropdown.\r\n   * @param getDisplayValue An optional function to modify the display values, rather than using the values as they\r\n   * appear in the `listOfValues`.\r\n   * @param label The label to use for the input for accessibility purposes.\r\n   */\r\n  constructor(\r\n    public onChange: (dropdown: Dropdown) => void = (dropdown: Dropdown) => {},\r\n    protected listOfValues: string[],\r\n    private getDisplayValue: (string) => string = l,\r\n    private label?: string\r\n  ) {\r\n    this.buildContent();\r\n    this.select(0, false);\r\n    this.bindEvents();\r\n  }\r\n\r\n  /**\r\n   * Resets the dropdown.\r\n   */\r\n  public reset() {\r\n    this.select(0, false);\r\n  }\r\n\r\n  public setId(id: string) {\r\n    $$(this.element).setAttribute('id', id);\r\n  }\r\n\r\n  /**\r\n   * Gets the element on which the dropdown is bound.\r\n   * @returns {HTMLElement} The dropdown element.\r\n   */\r\n  public getElement(): HTMLElement {\r\n    return this.element;\r\n  }\r\n\r\n  /**\r\n   * Gets the currently selected dropdown value.\r\n   * @returns {string} The currently selected dropdown value.\r\n   */\r\n  public getValue(): string {\r\n    return this.selectElement.value;\r\n  }\r\n\r\n  /**\r\n   * Selects a value from the dropdown [`listofValues`]{@link Dropdown.listOfValues}.\r\n   * @param index The 0-based index position of the value to select in the `listOfValues`.\r\n   * @param executeOnChange Indicates whether to execute the [`onChange`]{@link Dropdown.onChange} function when this\r\n   * method changes the dropdown selection.\r\n   */\r\n  public select(index: number, executeOnChange = true) {\r\n    this.selectOption(this.optionsElement[index], executeOnChange);\r\n  }\r\n\r\n  /**\r\n   * Gets the element on which the dropdown is bound.\r\n   * @returns {HTMLElement} The dropdown element.\r\n   */\r\n  public build() {\r\n    return this.element;\r\n  }\r\n\r\n  /**\r\n   * Sets the dropdown value.\r\n   * @param value The value to set the dropdown to.\r\n   */\r\n  public setValue(value: string) {\r\n    _.each(this.optionsElement, option => {\r\n      if ($$(option).getAttribute('data-value') == value) {\r\n        this.selectOption(option);\r\n      }\r\n    });\r\n  }\r\n\r\n  private selectOption(option: HTMLOptionElement, executeOnChange = true) {\r\n    this.selectElement.value = option.value;\r\n    if (executeOnChange) {\r\n      this.onChange(this);\r\n    }\r\n  }\r\n\r\n  private buildContent() {\r\n    this.selectElement = <HTMLSelectElement>$$('select', {\r\n      className: 'coveo-dropdown'\r\n    }).el;\r\n\r\n    if (this.label) {\r\n      this.selectElement.setAttribute('aria-label', l(this.label));\r\n    }\r\n\r\n    const selectOptions = this.buildOptions();\r\n    _.each(selectOptions, opt => {\r\n      $$(this.selectElement).append(opt);\r\n    });\r\n    this.element = this.selectElement;\r\n  }\r\n\r\n  private buildOptions(): HTMLElement[] {\r\n    const ret: HTMLElement[] = [];\r\n    _.each(this.listOfValues, (value: string) => {\r\n      ret.push(this.buildOption(value));\r\n    });\r\n    return ret;\r\n  }\r\n\r\n  private buildOption(value: string): HTMLElement {\r\n    const option = $$('option');\r\n    option.setAttribute('data-value', value);\r\n    option.setAttribute('value', value);\r\n    option.text(this.getDisplayValue(value));\r\n    this.optionsElement.push(<HTMLOptionElement>option.el);\r\n    return option.el;\r\n  }\r\n\r\n  private bindEvents() {\r\n    $$(this.selectElement).on('change', () => this.onChange(this));\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/FormWidgets/Dropdown.ts","import { $$ } from '../../utils/Dom';\r\nimport { IFormWidgetWithLabel, IFormWidgetSelectable } from './FormWidgets';\r\nimport 'styling/vapor/_Radio';\r\nimport { exportGlobally } from '../../GlobalExports';\r\n\r\n/**\r\n * A radio button widget with standard styling.\r\n */\r\nexport class RadioButton implements IFormWidgetWithLabel, IFormWidgetSelectable {\r\n  protected element: HTMLElement;\r\n\r\n  static doExport() {\r\n    exportGlobally({\r\n      RadioButton: RadioButton\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Creates a new `RadioButton`.\r\n   * @param onChange The function to call when the radio button value changes. This function takes the current\r\n   * `RadioButton` instance as an argument.\r\n   * @param label The label to display next to the radio button.\r\n   * @param name The value to set the `input` HTMLElement `name` attribute to.\r\n   */\r\n  constructor(\r\n    public onChange: (radioButton: RadioButton) => void = (radioButton: RadioButton) => {},\r\n    public label: string,\r\n    public name: string,\r\n    private id: string = label\r\n  ) {\r\n    this.buildContent();\r\n  }\r\n\r\n  /**\r\n   * Resets the radio button.\r\n   */\r\n  public reset() {\r\n    const currentlySelected = this.isSelected();\r\n    this.getRadio().checked = false;\r\n    if (currentlySelected) {\r\n      this.onChange(this);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Select the radio button\r\n   * @param triggerChange will trigger change event if specified and the radio button is not already selected\r\n   */\r\n  public select(triggerChange = true) {\r\n    const currentlySelected = this.isSelected();\r\n    this.getRadio().checked = true;\r\n    if (!currentlySelected && triggerChange) {\r\n      this.onChange(this);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Gets the element on which the radio button is bound.\r\n   * @returns {HTMLElement} The radio button element.\r\n   */\r\n  public build(): HTMLElement {\r\n    return this.element;\r\n  }\r\n\r\n  /**\r\n   * Gets the element on which the radio button is bound.\r\n   * @returns {HTMLElement} The radio button element.\r\n   */\r\n  public getElement(): HTMLElement {\r\n    return this.element;\r\n  }\r\n\r\n  public getValue(): string {\r\n    return this.label;\r\n  }\r\n\r\n  /**\r\n   * Indicates whether the radio button is selected.\r\n   * @returns {boolean} `true` if the radio button is selected, `false` otherwise.\r\n   */\r\n  public isSelected(): boolean {\r\n    return this.getRadio().checked;\r\n  }\r\n\r\n  /**\r\n   * Gets the `input` element (the radio button itself).\r\n   * @returns {HTMLInputElement} The `input` element.\r\n   */\r\n  public getRadio(): HTMLInputElement {\r\n    return <HTMLInputElement>$$(this.element).find('input');\r\n  }\r\n\r\n  /**\r\n   * Gets the radio button [`label`]{@link RadioButton.label} element.\r\n   * @returns {HTMLLabelElement} The `label` element.\r\n   */\r\n  public getLabel(): HTMLLabelElement {\r\n    return <HTMLLabelElement>$$(this.element).find('label');\r\n  }\r\n\r\n  private buildContent() {\r\n    const radioOption = $$('div', { className: 'coveo-radio' });\r\n    const radioInput = $$('input', { type: 'radio', name: this.name, id: this.id });\r\n    const labelInput = $$('label', { className: 'coveo-radio-input-label', for: this.id });\r\n    labelInput.text(this.label);\r\n    radioInput.on('change', () => {\r\n      this.onChange(this);\r\n    });\r\n\r\n    radioOption.append(radioInput.el);\r\n    radioOption.append(labelInput.el);\r\n    this.element = radioOption.el;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/FormWidgets/RadioButton.ts"],"sourceRoot":""}