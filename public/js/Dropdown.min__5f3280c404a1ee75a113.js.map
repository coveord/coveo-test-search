{"version":3,"sources":["Dropdown.min__5f3280c404a1ee75a113.js","./src/ui/FormWidgets/Dropdown.ts"],"names":["webpackJsonpCoveo__temporary","62","module","exports","__webpack_require__","Object","defineProperty","value","onChange","listOfValues","getDisplayValue","label","dropdown","l","optionsElement","this","buildContent","select","bindEvents","doExport","exportGlobally","Dropdown","reset","setId","id","$$","element","setAttribute","getElement","getValue","selectElement","index","executeOnChange","selectOption","build","setValue","_","each","option","getAttribute","className","el","selectOptions","buildOptions","opt","append","ret","push","buildOption","text","on"],"mappings":"AAAAA,8BAA8B,KAExBC,GACA,SAAUC,EAAQC,EAASC,GAEjC,YAEAC,QAAOC,eAAeH,EAAS,cAAgBI,OAAO,GCPtD,YACA,OACA,OAEA,OAKA,aAoBE,WACSC,EACGC,EACFC,EACAC,OAHD,KAAAH,MAAA,SAA0CI,UAEzC,KAAAF,MAAsC,EAAAG,GAFvC,KAAAL,WACG,KAAAC,eACF,KAAAC,kBACA,KAAAC,QArBF,KAAAG,kBAuBNC,KAAKC,eACLD,KAAKE,OAAO,GAAG,GACfF,KAAKG,aAuGT,MA9HS,GAAAC,SAAP,WACE,EAAAC,gBACEC,SAAUA,KA2BP,YAAAC,MAAP,WACEP,KAAKE,OAAO,GAAG,IAGV,YAAAM,MAAP,SAAaC,GACX,EAAAC,GAAGV,KAAKW,SAASC,aAAa,KAAMH,IAO/B,YAAAI,WAAP,WACE,MAAOb,MAAKW,SAOP,YAAAG,SAAP,WACE,MAAOd,MAAKe,cAAcvB,OASrB,YAAAU,OAAP,SAAcc,EAAeC,OAAA,KAAAA,OAAA,GAC3BjB,KAAKkB,aAAalB,KAAKD,eAAeiB,GAAQC,IAOzC,YAAAE,MAAP,WACE,MAAOnB,MAAKW,SAOP,YAAAS,SAAP,SAAgB5B,GAAhB,UACE6B,GAAEC,KAAKtB,KAAKD,eAAgB,SAAAwB,GACtB,EAAAb,GAAGa,GAAQC,aAAa,eAAiBhC,GAC3C,EAAK0B,aAAaK,MAKhB,YAAAL,aAAR,SAAqBK,EAA2BN,OAAA,KAAAA,OAAA,GAC9CjB,KAAKe,cAAcvB,MAAQ+B,EAAO/B,MAC9ByB,GACFjB,KAAKP,SAASO,OAIV,YAAAC,aAAR,qBACED,MAAKe,cAAmC,EAAAL,GAAG,UACzCe,UAAW,mBACVC,GAEC1B,KAAKJ,OACPI,KAAKe,cAAcH,aAAa,aAAc,EAAAd,EAAEE,KAAKJ,OAGvD,IAAM+B,GAAgB3B,KAAK4B,cAC3BP,GAAEC,KAAKK,EAAe,SAAAE,GACpB,EAAAnB,GAAG,EAAKK,eAAee,OAAOD,KAEhC7B,KAAKW,QAAUX,KAAKe,eAGd,YAAAa,aAAR,sBACQG,IAIN,OAHAV,GAAEC,KAAKtB,KAAKN,aAAc,SAACF,GACzBuC,EAAIC,KAAK,EAAKC,YAAYzC,MAErBuC,GAGD,YAAAE,YAAR,SAAoBzC,GAClB,GAAM+B,GAAS,EAAAb,GAAG,SAKlB,OAJAa,GAAOX,aAAa,aAAcpB,GAClC+B,EAAOX,aAAa,QAASpB,GAC7B+B,EAAOW,KAAKlC,KAAKL,gBAAgBH,IACjCQ,KAAKD,eAAeiC,KAAwBT,EAAOG,IAC5CH,EAAOG,IAGR,YAAAvB,WAAR,qBACE,GAAAO,GAAGV,KAAKe,eAAeoB,GAAG,SAAU,WAAM,SAAK1C,SAAS,MAE5D,IAnIa,GAAAa","file":"Dropdown.min__5f3280c404a1ee75a113.js","sourcesContent":["webpackJsonpCoveo__temporary([83],{\n\n/***/ 62:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Dom_1 = __webpack_require__(1);\r\nvar Strings_1 = __webpack_require__(6);\r\nvar _ = __webpack_require__(0);\r\nvar GlobalExports_1 = __webpack_require__(3);\r\n/**\r\n * A dropdown widget with standard styling.\r\n */\r\nvar Dropdown = /** @class */ (function () {\r\n    /**\r\n     * Creates a new `Dropdown`.\r\n     * @param onChange The function to call when the dropdown selected value changes. This function takes the current\r\n     * `Dropdown` instance as an argument.\r\n     * @param listOfValues The selectable values to display in the dropdown.\r\n     * @param getDisplayValue An optional function to modify the display values, rather than using the values as they\r\n     * appear in the `listOfValues`.\r\n     * @param label The label to use for the input for accessibility purposes.\r\n     */\r\n    function Dropdown(onChange, listOfValues, getDisplayValue, label) {\r\n        if (onChange === void 0) { onChange = function (dropdown) { }; }\r\n        if (getDisplayValue === void 0) { getDisplayValue = Strings_1.l; }\r\n        this.onChange = onChange;\r\n        this.listOfValues = listOfValues;\r\n        this.getDisplayValue = getDisplayValue;\r\n        this.label = label;\r\n        this.optionsElement = [];\r\n        this.buildContent();\r\n        this.select(0, false);\r\n        this.bindEvents();\r\n    }\r\n    Dropdown.doExport = function () {\r\n        GlobalExports_1.exportGlobally({\r\n            Dropdown: Dropdown\r\n        });\r\n    };\r\n    /**\r\n     * Resets the dropdown.\r\n     */\r\n    Dropdown.prototype.reset = function () {\r\n        this.select(0, false);\r\n    };\r\n    Dropdown.prototype.setId = function (id) {\r\n        Dom_1.$$(this.element).setAttribute('id', id);\r\n    };\r\n    /**\r\n     * Gets the element on which the dropdown is bound.\r\n     * @returns {HTMLElement} The dropdown element.\r\n     */\r\n    Dropdown.prototype.getElement = function () {\r\n        return this.element;\r\n    };\r\n    /**\r\n     * Gets the currently selected dropdown value.\r\n     * @returns {string} The currently selected dropdown value.\r\n     */\r\n    Dropdown.prototype.getValue = function () {\r\n        return this.selectElement.value;\r\n    };\r\n    /**\r\n     * Selects a value from the dropdown [`listofValues`]{@link Dropdown.listOfValues}.\r\n     * @param index The 0-based index position of the value to select in the `listOfValues`.\r\n     * @param executeOnChange Indicates whether to execute the [`onChange`]{@link Dropdown.onChange} function when this\r\n     * method changes the dropdown selection.\r\n     */\r\n    Dropdown.prototype.select = function (index, executeOnChange) {\r\n        if (executeOnChange === void 0) { executeOnChange = true; }\r\n        this.selectOption(this.optionsElement[index], executeOnChange);\r\n    };\r\n    /**\r\n     * Gets the element on which the dropdown is bound.\r\n     * @returns {HTMLElement} The dropdown element.\r\n     */\r\n    Dropdown.prototype.build = function () {\r\n        return this.element;\r\n    };\r\n    /**\r\n     * Sets the dropdown value.\r\n     * @param value The value to set the dropdown to.\r\n     */\r\n    Dropdown.prototype.setValue = function (value) {\r\n        var _this = this;\r\n        _.each(this.optionsElement, function (option) {\r\n            if (Dom_1.$$(option).getAttribute('data-value') == value) {\r\n                _this.selectOption(option);\r\n            }\r\n        });\r\n    };\r\n    Dropdown.prototype.selectOption = function (option, executeOnChange) {\r\n        if (executeOnChange === void 0) { executeOnChange = true; }\r\n        this.selectElement.value = option.value;\r\n        if (executeOnChange) {\r\n            this.onChange(this);\r\n        }\r\n    };\r\n    Dropdown.prototype.buildContent = function () {\r\n        var _this = this;\r\n        this.selectElement = Dom_1.$$('select', {\r\n            className: 'coveo-dropdown'\r\n        }).el;\r\n        if (this.label) {\r\n            this.selectElement.setAttribute('aria-label', Strings_1.l(this.label));\r\n        }\r\n        var selectOptions = this.buildOptions();\r\n        _.each(selectOptions, function (opt) {\r\n            Dom_1.$$(_this.selectElement).append(opt);\r\n        });\r\n        this.element = this.selectElement;\r\n    };\r\n    Dropdown.prototype.buildOptions = function () {\r\n        var _this = this;\r\n        var ret = [];\r\n        _.each(this.listOfValues, function (value) {\r\n            ret.push(_this.buildOption(value));\r\n        });\r\n        return ret;\r\n    };\r\n    Dropdown.prototype.buildOption = function (value) {\r\n        var option = Dom_1.$$('option');\r\n        option.setAttribute('data-value', value);\r\n        option.setAttribute('value', value);\r\n        option.text(this.getDisplayValue(value));\r\n        this.optionsElement.push(option.el);\r\n        return option.el;\r\n    };\r\n    Dropdown.prototype.bindEvents = function () {\r\n        var _this = this;\r\n        Dom_1.$$(this.selectElement).on('change', function () { return _this.onChange(_this); });\r\n    };\r\n    return Dropdown;\r\n}());\r\nexports.Dropdown = Dropdown;\r\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// Dropdown.min__5f3280c404a1ee75a113.js","import { $$ } from '../../utils/Dom';\r\nimport { l } from '../../strings/Strings';\r\nimport * as _ from 'underscore';\r\nimport { IFormWidget, IFormWidgetSettable } from './FormWidgets';\r\nimport { exportGlobally } from '../../GlobalExports';\r\n\r\n/**\r\n * A dropdown widget with standard styling.\r\n */\r\nexport class Dropdown implements IFormWidget, IFormWidgetSettable {\r\n  private element: HTMLElement;\r\n  private selectElement: HTMLSelectElement;\r\n  private optionsElement: HTMLOptionElement[] = [];\r\n\r\n  static doExport() {\r\n    exportGlobally({\r\n      Dropdown: Dropdown\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Creates a new `Dropdown`.\r\n   * @param onChange The function to call when the dropdown selected value changes. This function takes the current\r\n   * `Dropdown` instance as an argument.\r\n   * @param listOfValues The selectable values to display in the dropdown.\r\n   * @param getDisplayValue An optional function to modify the display values, rather than using the values as they\r\n   * appear in the `listOfValues`.\r\n   * @param label The label to use for the input for accessibility purposes.\r\n   */\r\n  constructor(\r\n    public onChange: (dropdown: Dropdown) => void = (dropdown: Dropdown) => {},\r\n    protected listOfValues: string[],\r\n    private getDisplayValue: (string) => string = l,\r\n    private label?: string\r\n  ) {\r\n    this.buildContent();\r\n    this.select(0, false);\r\n    this.bindEvents();\r\n  }\r\n\r\n  /**\r\n   * Resets the dropdown.\r\n   */\r\n  public reset() {\r\n    this.select(0, false);\r\n  }\r\n\r\n  public setId(id: string) {\r\n    $$(this.element).setAttribute('id', id);\r\n  }\r\n\r\n  /**\r\n   * Gets the element on which the dropdown is bound.\r\n   * @returns {HTMLElement} The dropdown element.\r\n   */\r\n  public getElement(): HTMLElement {\r\n    return this.element;\r\n  }\r\n\r\n  /**\r\n   * Gets the currently selected dropdown value.\r\n   * @returns {string} The currently selected dropdown value.\r\n   */\r\n  public getValue(): string {\r\n    return this.selectElement.value;\r\n  }\r\n\r\n  /**\r\n   * Selects a value from the dropdown [`listofValues`]{@link Dropdown.listOfValues}.\r\n   * @param index The 0-based index position of the value to select in the `listOfValues`.\r\n   * @param executeOnChange Indicates whether to execute the [`onChange`]{@link Dropdown.onChange} function when this\r\n   * method changes the dropdown selection.\r\n   */\r\n  public select(index: number, executeOnChange = true) {\r\n    this.selectOption(this.optionsElement[index], executeOnChange);\r\n  }\r\n\r\n  /**\r\n   * Gets the element on which the dropdown is bound.\r\n   * @returns {HTMLElement} The dropdown element.\r\n   */\r\n  public build() {\r\n    return this.element;\r\n  }\r\n\r\n  /**\r\n   * Sets the dropdown value.\r\n   * @param value The value to set the dropdown to.\r\n   */\r\n  public setValue(value: string) {\r\n    _.each(this.optionsElement, option => {\r\n      if ($$(option).getAttribute('data-value') == value) {\r\n        this.selectOption(option);\r\n      }\r\n    });\r\n  }\r\n\r\n  private selectOption(option: HTMLOptionElement, executeOnChange = true) {\r\n    this.selectElement.value = option.value;\r\n    if (executeOnChange) {\r\n      this.onChange(this);\r\n    }\r\n  }\r\n\r\n  private buildContent() {\r\n    this.selectElement = <HTMLSelectElement>$$('select', {\r\n      className: 'coveo-dropdown'\r\n    }).el;\r\n\r\n    if (this.label) {\r\n      this.selectElement.setAttribute('aria-label', l(this.label));\r\n    }\r\n\r\n    const selectOptions = this.buildOptions();\r\n    _.each(selectOptions, opt => {\r\n      $$(this.selectElement).append(opt);\r\n    });\r\n    this.element = this.selectElement;\r\n  }\r\n\r\n  private buildOptions(): HTMLElement[] {\r\n    const ret: HTMLElement[] = [];\r\n    _.each(this.listOfValues, (value: string) => {\r\n      ret.push(this.buildOption(value));\r\n    });\r\n    return ret;\r\n  }\r\n\r\n  private buildOption(value: string): HTMLElement {\r\n    const option = $$('option');\r\n    option.setAttribute('data-value', value);\r\n    option.setAttribute('value', value);\r\n    option.text(this.getDisplayValue(value));\r\n    this.optionsElement.push(<HTMLOptionElement>option.el);\r\n    return option.el;\r\n  }\r\n\r\n  private bindEvents() {\r\n    $$(this.selectElement).on('change', () => this.onChange(this));\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/FormWidgets/Dropdown.ts"],"sourceRoot":""}