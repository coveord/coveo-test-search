webpackJsonpCoveo__temporary([19,54,63],{296:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,s){function r(t){try{l(i.next(t))}catch(t){s(t)}}function a(t){try{l(i.throw(t))}catch(t){s(t)}}function l(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(r,a)}l((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,s&&(r=s[2&n[0]?"return":n[0]?"throw":"next"])&&!(r=r.call(s,n[1])).done)return r;switch(s=0,r&&(n=[0,r.value]),n[0]){case 0:case 1:r=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,s=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(r=l.trys,!(r=r.length>0&&r[r.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){l.label=n[1];break}if(6===n[0]&&l.label<r[1]){l.label=r[1],r=n;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(n);break}r[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],s=0}finally{o=r=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,s,r,a,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(e,"__esModule",{value:!0});var a=n(25),l=n(3),u=n(7),c=n(19);n(703);var p=n(0),h=n(704),d=n(10),f=n(705),b=n(706),y=n(6),m=n(521),v=n(4),S=n(8),A=n(522),g=n(71),C=[{analytics:d.AnalyticsSmartSnippetFeedbackReason.DoesNotAnswer,localeKey:"UsefulnessFeedbackDoesNotAnswer"},{analytics:d.AnalyticsSmartSnippetFeedbackReason.PartiallyAnswers,localeKey:"UsefulnessFeedbackPartiallyAnswers"},{analytics:d.AnalyticsSmartSnippetFeedbackReason.WasNotAQuestion,localeKey:"UsefulnessFeedbackWasNotAQuestion"},{analytics:d.AnalyticsSmartSnippetFeedbackReason.Other,localeKey:"Other",hasDetails:!0}],E="coveo-smart-snippet",O=E+"-content-wrapper",N=E+"-source";e.SmartSnippetClassNames={QUESTION_CLASSNAME:"coveo-smart-snippet-question",ANSWER_CONTAINER_CLASSNAME:"coveo-smart-snippet-answer",HAS_ANSWER_CLASSNAME:"coveo-smart-snippet-has-answer",SHADOW_CLASSNAME:"coveo-smart-snippet-content",CONTENT_CLASSNAME:O,SOURCE_CLASSNAME:N,SOURCE_TITLE_CLASSNAME:"coveo-smart-snippet-source-title",SOURCE_URL_CLASSNAME:"coveo-smart-snippet-source-url"};var k=function(t){function e(n,i,o,s){void 0===s&&(s=a.ModalBox);var r=t.call(this,n,e.ID,o)||this;return r.element=n,r.options=i,r.ModalBox=s,r.lastRenderedResult=null,r.options=S.ComponentOptions.initComponentOptions(n,e,i),r.bind.onRootElement(c.QueryEvents.deferredQuerySuccess,function(t){return r.handleQuerySuccess(t)}),r}return i(e,t),Object.defineProperty(e.prototype,"loading",{get:function(){return this.shadowLoading},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){var t=c.$$(this.element).children().filter(function(t){return t instanceof HTMLScriptElement&&"text/css"===t.type.toLowerCase()}).map(function(t){return t.innerHTML});return t.length?t.join("\n"):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasAnswer",{set:function(t){c.$$(this.element).toggleClass("coveo-smart-snippet-has-answer",t)},enumerable:!0,configurable:!0}),e.prototype.createDom=function(){var t=this;this.element.appendChild(this.buildAnswerContainer()),this.feedbackBanner=new h.UserFeedbackBanner(function(e){return e?t.sendLikeSmartSnippetAnalytics():t.sendDislikeSmartSnippetAnalytics()},function(){return t.openExplanationModal()}),this.element.appendChild(this.feedbackBanner.build()),this.explanationModal=new b.ExplanationModal({reasons:C.map(function(e){return{label:y.l(e.localeKey),id:e.analytics.replace(/_/g,"-"),onSelect:function(){return t.sendExplanationAnalytics(e.analytics,t.explanationModal.details)},hasDetails:e.hasDetails}}),onClosed:function(){return t.sendCloseFeedbackModalAnalytics()},ownerElement:this.searchInterface.options.modalContainer,modalBoxModule:this.ModalBox})},e.prototype.buildAnswerContainer=function(){return c.$$("div",{className:"coveo-smart-snippet-answer"},this.buildQuestion(),this.buildShadow(),this.buildHeightLimiter(),this.buildSourceContainer()).el},e.prototype.buildQuestion=function(){return this.questionContainer=c.$$("div",{className:"coveo-smart-snippet-question"}).el},e.prototype.buildShadow=function(){var t=this;return this.shadowContainer=c.$$("div",{className:"coveo-smart-snippet-content"}).el,this.snippetContainer=c.$$("section",{className:O}).el,this.shadowLoading=m.attachShadow(this.shadowContainer,{mode:"open",title:y.l("AnswerSnippet"),onSizeChanged:function(){return t.handleAnswerSizeChanged()},useIFrame:this.options.useIFrame}).then(function(e){e.appendChild(t.snippetContainer);var n=t.buildStyle();return e.appendChild(n),e}),this.shadowContainer},e.prototype.buildHeightLimiter=function(){var t=this;return(this.heightLimiter=new f.HeightLimiter(this.shadowContainer,this.shadowContainer.childNodes.item(0),this.options.maximumSnippetHeight,function(e){return e?t.sendExpandSmartSnippetAnalytics():t.sendCollapseSmartSnippetAnalytics()})).toggleButton},e.prototype.buildSourceContainer=function(){return this.sourceContainer=c.$$("div",{className:N}).el},e.prototype.buildStyle=function(){var t=v.Utils.isNullOrUndefined(this.style)?A.getDefaultSnippetStyle(O):this.style,e=document.createElement("style");return e.innerHTML=t,e},e.prototype.handleAnswerSizeChanged=function(){this.heightLimiter.onContentHeightChanged()},e.prototype.getCorrespondingResult=function(t){var e=this.queryController.getLastResults().results,n=p.flatten(p.map(e,function(t){return t.childResults})),i=p.flatten(p.map(e,function(t){return t.attachments}));return p.find(p.compact(e.concat(n,i)),function(e){return e.raw[t.documentId.contentIdKey]===t.documentId.contentIdValue})},e.prototype.handleQuerySuccess=function(t){return s(this,void 0,void 0,function(){var e;return r(this,function(n){switch(n.label){case 0:return e=t.results.questionAnswer,this.containsQuestionAnswer(e)?(this.hasAnswer=!0,this.searchUid=t.results.searchUid,[4,this.render(e)]):(this.hasAnswer=!1,[2]);case 1:return n.sent(),[2]}})})},e.prototype.containsQuestionAnswer=function(t){return t&&t.question&&t.answerSnippet},e.prototype.render=function(t){return s(this,void 0,void 0,function(){return r(this,function(e){return this.ensureDom(),this.feedbackBanner.reset(),this.questionContainer.innerText=t.question,this.renderSnippet(t.answerSnippet),this.lastRenderedResult=this.getCorrespondingResult(t),this.lastRenderedResult?this.renderSource():this.lastRenderedResult=null,[2]})})},e.prototype.renderSnippet=function(t){this.snippetContainer.innerHTML=t},e.prototype.renderSource=function(){var t=c.$$(this.sourceContainer);t.empty(),t.append(this.renderSourceUrl().el),t.append(this.renderSourceTitle().el)},e.prototype.renderSourceTitle=function(){var t=this.buildLink("coveo-smart-snippet-source-title");return t.text(v.Utils.getFieldValue(this.lastRenderedResult,this.options.titleField)),t},e.prototype.renderSourceUrl=function(){var t=this.buildLink("coveo-smart-snippet-source-url");return t.text(t.el.href),t},e.prototype.buildLink=function(t){var e=this,n=c.$$("a",{className:"CoveoResultLink"});return n.addClass(t),new g.ResultLink(n.el,{hrefTemplate:this.options.hrefTemplate,logAnalytics:function(t){return e.sendClickSourceAnalytics(n.el,t)}},o({},this.getBindings(),{resultElement:this.element}),this.lastRenderedResult),n},e.prototype.openExplanationModal=function(){this.sendOpenFeedbackModalAnalytics(),this.explanationModal.open(this.feedbackBanner.explainWhy)},e.prototype.sendLikeSmartSnippetAnalytics=function(){return this.usageAnalytics.logCustomEvent(d.analyticsActionCauseList.likeSmartSnippet,{searchQueryUid:this.searchUid},this.element)},e.prototype.sendDislikeSmartSnippetAnalytics=function(){return this.usageAnalytics.logCustomEvent(d.analyticsActionCauseList.dislikeSmartSnippet,{searchQueryUid:this.searchUid},this.element)},e.prototype.sendExpandSmartSnippetAnalytics=function(){return this.usageAnalytics.logCustomEvent(d.analyticsActionCauseList.expandSmartSnippet,{searchQueryUid:this.searchUid},this.element)},e.prototype.sendCollapseSmartSnippetAnalytics=function(){return this.usageAnalytics.logCustomEvent(d.analyticsActionCauseList.collapseSmartSnippet,{searchQueryUid:this.searchUid},this.element)},e.prototype.sendOpenFeedbackModalAnalytics=function(){return this.usageAnalytics.logCustomEvent(d.analyticsActionCauseList.openSmartSnippetFeedbackModal,{searchQueryUid:this.searchUid},this.element)},e.prototype.sendCloseFeedbackModalAnalytics=function(){return this.usageAnalytics.logCustomEvent(d.analyticsActionCauseList.closeSmartSnippetFeedbackModal,{searchQueryUid:this.searchUid},this.element)},e.prototype.sendExplanationAnalytics=function(t,e){return this.usageAnalytics.logCustomEvent(d.analyticsActionCauseList.sendSmartSnippetReason,{searchQueryUid:this.searchUid,reason:t,details:e},this.element)},e.prototype.sendClickSourceAnalytics=function(t,e){return this.usageAnalytics.logClickEvent(d.analyticsActionCauseList.openSmartSnippetSource,{searchQueryUid:this.searchUid,documentTitle:this.lastRenderedResult.title,author:v.Utils.getFieldValue(this.lastRenderedResult,"author"),documentURL:e},this.lastRenderedResult,t)},e.ID="SmartSnippet",e.doExport=function(){l.exportGlobally({SmartSnippet:e})},e.options={maximumSnippetHeight:S.ComponentOptions.buildNumberOption({defaultValue:250,min:0}),titleField:S.ComponentOptions.buildFieldOption({defaultValue:"@title"}),hrefTemplate:S.ComponentOptions.buildStringOption(),useIFrame:S.ComponentOptions.buildBooleanOption({defaultValue:!0})},e}(u.Component);e.SmartSnippet=k,c.Initialization.registerAutoCreateComponent(k)},521:function(t,e,n){"use strict";function i(t,e){return s(this,void 0,void 0,function(){var n,i,s,l,u;return r(this,function(r){switch(r.label){case 0:return n={className:"coveo-shadow-iframe",scrolling:"no",title:e.title},e.useIFrame?(i=a.$$("iframe",n).el,l=new Promise(function(t){return i.addEventListener("load",function(){return t()})}),t.appendChild(i),[4,l]):[3,2];case 1:return r.sent(),s=i.contentDocument.body,[3,3];case 2:i=a.$$("div",n).el,s=i,t.appendChild(i),r.label=3;case 3:return s.style.margin="0",u=a.$$("div",{style:"overflow: auto;"}).el,s.appendChild(u),o(i,u,e.onSizeChanged),"open"===e.mode&&Object.defineProperty(t,"shadowRoot",{get:function(){return u}}),[2,u]}})})}function o(t,e,n){var i=e.clientWidth,o=e.clientHeight;new MutationObserver(function(){i===e.clientWidth&&o===e.clientHeight||(i=e.clientWidth,o=e.clientHeight,t.style.width=e.clientWidth+"px",t.style.height=e.clientHeight+"px",n&&n())}).observe(e,{attributes:!0,characterData:!0,childList:!0,subtree:!0})}var s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,s){function r(t){try{l(i.next(t))}catch(t){s(t)}}function a(t){try{l(i.throw(t))}catch(t){s(t)}}function l(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(r,a)}l((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,s&&(r=s[2&n[0]?"return":n[0]?"throw":"next"])&&!(r=r.call(s,n[1])).done)return r;switch(s=0,r&&(n=[0,r.value]),n[0]){case 0:case 1:r=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,s=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(r=l.trys,!(r=r.length>0&&r[r.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){l.label=n[1];break}if(6===n[0]&&l.label<r[1]){l.label=r[1],r=n;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(n);break}r[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],s=0}finally{o=r=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,s,r,a,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(e,"__esModule",{value:!0});var a=n(1);n(587),e.attachShadow=i},522:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultSnippetStyle=function(t){return'\n  body {\n    font-family: "Lato", "Helvetica Neue", Helvetica, Arial, sans-serif, sans-serif;\n  }\n\n  .'+t+" > :first-child {\n    margin-top: 0;\n  }\n\n  ."+t+" > :last-child {\n    margin-bottom: 0;\n  }\n"}},534:function(t,e){},560:function(t,e){},587:function(t,e){},703:function(t,e){},704:function(t,e,n){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o,s=n(1),r=n(6),a=n(12),l=n(0),u="coveo-user-feedback-banner",c=u+"-label",p=u+"-button-active",h="coveo-user-feedback-banner-thanks-icon";!function(t){t[t.Unknown=0]="Unknown",t[t.Yes=1]="Yes",t[t.No=2]="No"}(o||(o={})),e.UserFeedbackBannerClassNames={ROOT_CLASSNAME:u,CONTAINER_CLASSNAME:"coveo-user-feedback-banner-container",LABEL_CLASSNAME:c,BUTTONS_CONTAINER_CLASSNAME:"coveo-user-feedback-banner-buttons",YES_BUTTON_CLASSNAME:"coveo-user-feedback-banner-yes-button",NO_BUTTON_CLASSNAME:"coveo-user-feedback-banner-no-button",BUTTON_ACTIVE_CLASSNAME:p,THANK_YOU_BANNER_CLASSNAME:"coveo-user-feedback-banner-thanks",THANK_YOU_BANNER_ACTIVE_CLASSNAME:"coveo-user-feedback-banner-thanks-active",ICON_CLASSNAME:h,EXPLAIN_WHY_CLASSNAME:"coveo-user-feedback-banner-explain-why",EXPLAIN_WHY_ACTIVE_CLASSNAME:"coveo-user-feedback-banner-explain-why-active"};var d=function(){function t(t,e){this.sendUsefulnessAnalytics=t,this.onExplainWhyPressed=e,this.isUseful=o.Unknown,this.labelId=l.uniqueId(c)}return t.prototype.build=function(){return s.$$("div",{className:u,ariaLive:"polite"},this.buildContainer(),this.buildThankYouBanner()).el},t.prototype.reset=function(){this.isUseful=o.Unknown,s.$$(this.yesButton).removeClass(p),s.$$(this.yesButton).setAttribute("aria-pressed","false"),s.$$(this.noButton).removeClass(p),s.$$(this.noButton).setAttribute("aria-pressed","false"),s.$$(this.thankYouBanner).removeClass("coveo-user-feedback-banner-thanks-active"),s.$$(this.explainWhy).removeClass("coveo-user-feedback-banner-explain-why-active")},t.prototype.buildContainer=function(){return s.$$("div",{className:"coveo-user-feedback-banner-container",ariaLabelledby:this.labelId},this.buildLabel(),this.buildButtons()).el},t.prototype.buildLabel=function(){return s.$$("span",{className:c,id:this.labelId},r.l("UsefulnessFeedbackRequest")).el},t.prototype.buildThankYouBanner=function(){var t=this;this.thankYouBanner=s.$$("div",{className:"coveo-user-feedback-banner-thanks"}).el;var e=s.$$("span",{},r.l("UsefulnessFeedbackThankYou")).el;return this.thankYouBanner.appendChild(e),this.explainWhy=this.buildButton({text:r.l("UsefulnessFeedbackExplainWhy"),className:"coveo-user-feedback-banner-explain-why",action:function(){return t.requestExplaination()}}),this.thankYouBanner.appendChild(this.explainWhy),this.thankYouBanner},t.prototype.buildButtons=function(){var t=this,e=s.$$("div",{className:"coveo-user-feedback-banner-buttons"}).el;return this.yesButton=this.buildButton({text:r.l("Yes"),className:"coveo-user-feedback-banner-yes-button",action:function(){return t.showThankYouBanner(!0)},icon:{className:h,content:a.SVGIcons.icons.checkYes},attributes:{ariaPressed:!1,ariaDescribedby:this.labelId}}),this.yesButton.setAttribute("aria-pressed","false"),e.appendChild(this.yesButton),this.noButton=this.buildButton({text:r.l("No"),className:"coveo-user-feedback-banner-no-button",action:function(){return t.showThankYouBanner(!1)},icon:{className:h,content:a.SVGIcons.icons.clearSmall},attributes:{ariaPressed:!1,ariaDescribedby:this.labelId}}),e.appendChild(this.noButton),e},t.prototype.buildButton=function(t){var e=s.$$("button",i({},t.attributes||{},{className:t.className,type:"button"})).el;if(t.icon){var n=s.$$("span",{className:t.icon.className},t.icon.content).el;e.appendChild(n);var o=s.$$("span",{},t.text).el;e.appendChild(o)}else e.innerText=t.text;return e.addEventListener("click",function(){return t.action()}),e},t.prototype.showThankYouBanner=function(t){this.isUseful!==o.Unknown&&t===(this.isUseful===o.Yes)||(this.isUseful=t?o.Yes:o.No,s.$$(this.yesButton).toggleClass(p,t),s.$$(this.yesButton).setAttribute("aria-pressed",""+t),s.$$(this.noButton).toggleClass(p,!t),s.$$(this.noButton).setAttribute("aria-pressed",""+!t),s.$$(this.thankYouBanner).addClass("coveo-user-feedback-banner-thanks-active"),s.$$(this.explainWhy).toggleClass("coveo-user-feedback-banner-explain-why-active",!t),this.sendUsefulnessAnalytics(t))},t.prototype.requestExplaination=function(){this.onExplainWhyPressed()},t}();e.UserFeedbackBanner=d},705:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(12),s=n(6),r="coveo-height-limiter-button";e.HeightLimiterClassNames={CONTAINER_ACTIVE_CLASSNAME:"coveo-height-limiter-container-active",CONTAINER_EXPANDED_CLASSNAME:"coveo-height-limiter-container-expanded",BUTTON_CLASSNAME:r,BUTTON_LABEL_CLASSNAME:"coveo-height-limiter-button-label",BUTTON_ICON_CLASSNAME:"coveo-height-limiter-button-icon",BUTTON_ACTIVE_CLASSNAME:"coveo-height-limiter-button-active"};var a=function(){function t(t,e,n,i){this.containerElement=t,this.contentElement=e,this.heightLimit=n,this.onToggle=i,this.isExpanded=!1,this.buildButton(),this.updateActiveAppearance()}return Object.defineProperty(t.prototype,"toggleButton",{get:function(){return this.button},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{set:function(t){this.containerElement.style.height=t+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentHeight",{get:function(){return this.contentElement.clientHeight},enumerable:!0,configurable:!0}),t.prototype.onContentHeightChanged=function(){this.updateActiveAppearance()},t.prototype.buildButton=function(){var t=this;return this.button=i.$$("button",{className:r,type:"button",ariaLabel:s.l("ShowMore"),ariaPressed:"false",ariaHidden:"true"},this.buttonLabel=i.$$("span",{className:"coveo-height-limiter-button-label"}).el,this.buttonIcon=i.$$("span",{className:"coveo-height-limiter-button-icon"}).el).el,this.button.addEventListener("click",function(){return t.toggle()}),this.updateButton(),this.button},t.prototype.updateActiveAppearance=function(){var t=this.contentHeight>this.heightLimit;i.$$(this.containerElement).toggleClass("coveo-height-limiter-container-active",t),i.$$(this.button).toggleClass("coveo-height-limiter-button-active",t),t?this.updateExpandedAppearance():(this.isExpanded=!1,this.updateExpandedAppearance(),this.containerElement.style.height="")},t.prototype.updateButton=function(){this.buttonLabel.innerText=this.isExpanded?s.l("ShowLess"):s.l("ShowMore"),this.button.setAttribute("aria-pressed",""+this.isExpanded),this.buttonIcon.innerHTML=this.isExpanded?o.SVGIcons.icons.arrowUp:o.SVGIcons.icons.arrowDown},t.prototype.updateExpandedAppearance=function(){this.updateButton(),i.$$(this.containerElement).toggleClass("coveo-height-limiter-container-expanded",this.isExpanded),this.height=this.isExpanded?this.contentHeight:this.heightLimit},t.prototype.toggle=function(){this.isExpanded=!this.isExpanded,this.updateExpandedAppearance(),this.onToggle&&this.onToggle(this.isExpanded)},t}();e.HeightLimiter=a},706:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(124),o=n(6),s=n(1),r=n(95);n(707);var a="coveo-user-explanation-modal",l=a+"-content",u=a+"-explanation-section",c=a+"-explanations",p=c+"-label",h=a+"-details",d=h+"-textarea",f=h+"-label",b=a+"-buttons-section",y=a+"-send-button",m=a+"-cancel-button",v=h;e.ExplanationModalClassNames={ROOT_CLASSNAME:a,CONTENT_CLASSNAME:l,EXPLANATION_SECTION_CLASSNAME:u,REASONS_CLASSNAME:c,REASONS_LABEL_CLASSNAME:p,DETAILS_SECTION_CLASSNAME:h,DETAILS_TEXTAREA_CLASSNAME:d,DETAILS_LABEL_CLASSNAME:f,BUTTONS_SECTION_CLASSNAME:b,SEND_BUTTON_CLASSNAME:y,CANCEL_BUTTON_CLASSNAME:m};var S=function(){function t(t){var e=this;this.options=t,this.shouldCallCloseEvent=!1,this.modal=new i.AccessibleModal(a,this.options.ownerElement,this.options.modalBoxModule,{focusOnOpen:function(){return e.sendButton()}})}return t.prototype.sendButton=function(){return this.modal.element.querySelector("."+c+" input")},Object.defineProperty(t.prototype,"details",{get:function(){return this.selectedReason&&this.selectedReason.hasDetails?this.detailsTextArea.value:null},enumerable:!0,configurable:!0}),t.prototype.open=function(t){var e=this;this.modal.open({origin:t,title:s.$$("span",{},o.l("UsefulnessFeedbackExplainWhyImperative")).el,content:this.buildContent(),validation:function(){return e.shouldCallCloseEvent&&(e.options.onClosed(),e.shouldCallCloseEvent=!1),!0}}),this.shouldCallCloseEvent=!0},t.prototype.buildContent=function(){return s.$$("div",{className:l},this.buildExplanationSection(),this.buildButtonsSection()).el},t.prototype.buildExplanationSection=function(){var t=this.buildDetailsSection();return s.$$("div",{className:u},this.buildReasons(),t).el},t.prototype.buildButtonsSection=function(){return s.$$("div",{className:b},this.buildSendButton(),this.buildCancelButton())},t.prototype.buildReasons=function(){var t=this,e=s.$$("fieldset",{className:c},this.buildReasonsLabel()).el;return this.reasons=this.options.reasons.map(function(e){return t.buildReasonRadioButton(e)}),this.reasons[0].select(),this.reasons.forEach(function(t){return e.appendChild(t.getElement())}),e},t.prototype.buildReasonsLabel=function(){return s.$$("legend",{className:p},o.l("UsefulnessFeedbackReason")).el},t.prototype.buildDetailsSection=function(){return this.detailsSection=s.$$("div",{className:"coveo-hidden "+h},s.$$("label",{className:f,for:v},o.l("Details")).el,this.detailsTextArea=s.$$("textarea",{className:d,id:v,disabled:!0}).el)},t.prototype.buildSendButton=function(){var t=this,e=s.$$("button",{className:y,type:"button"},o.l("Send"));return e.on("click",function(){t.selectedReason.onSelect(),t.shouldCallCloseEvent=!1,t.modal.close()}),e.el},t.prototype.buildCancelButton=function(){var t=this,e=s.$$("button",{className:m,type:"button"},o.l("Cancel"));return e.on("click",function(){return t.modal.close()}),e.el},t.prototype.buildReasonRadioButton=function(t){var e=this;return new r.RadioButton(function(n){n.isSelected()&&(e.detailsSection.toggleClass("coveo-hidden",!t.hasDetails),e.detailsTextArea.disabled=!t.hasDetails,e.selectedReason=t)},t.label,"reason","coveo-reason-"+t.id)},t}();e.ExplanationModal=S},707:function(t,e){},71:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(7),r=n(8),a=n(28),l=n(10),u=n(30),c=n(69),p=n(24),h=n(178),d=n(2),f=n(21),b=n(5),y=n(4),m=n(29),v=n(1),S=n(116),A=n(22),g=n(0),C=n(3);n(534);var E=n(16),O=n(63),N=function(t){function e(n,i,s,l,u){var c=t.call(this,n,e.ID,s)||this;c.element=n,c.options=i,c.bindings=s,c.result=l,c.os=u,c.logAnalytics=g.debounce(function(){c.queryController.saveLastQuery();var t=v.$$(c.element).getAttribute("href");void 0!=t&&""!=t||(t=c.escapedClickUri),c.options.logAnalytics?c.options.logAnalytics(t):c.logDocumentOpen(t),m.Defer.flush()},1500,!0);var h=c.searchInterface.options.originalOptionsObject[e.ID]||{},d=r.ComponentOptions.initComponentOptions(n,e,o({},h,i)),f=c.componentOptionsModel.get(a.ComponentOptionsModel.attributesEnum.resultLink);if(c.options=g.extend({},d,f),c.result=l||c.resolveResult(),null==c.options.openQuickview&&(c.options.openQuickview="ExchangeCrawler"==l.raw.connectortype&&p.DeviceUtils.isMobileDevice()),c.element.setAttribute("tabindex","0"),b.Assert.exists(c.componentOptionsModel),b.Assert.exists(c.result),!c.quickviewShouldBeOpened()){var y=g.once(function(){return c.logAnalytics()});v.$$(n).on(["contextmenu","click","mousedown","mouseup"],y);var S;v.$$(n).on("touchstart",function(){S=window.setTimeout(y,1e3)}),v.$$(n).on("touchend",function(){S&&clearTimeout(S)})}return c.renderUri(n,l),c.bindEventToOpen(),c}return i(e,t),e.prototype.renderUri=function(t,e){if(/^\s*$/.test(this.element.innerHTML)){var n=this.getDisplayedTitle();this.element.innerHTML=n,this.element.setAttribute("aria-label",O.l("Result")),this.element.title||(this.element.title=this.getDisplayedTitleAsText())}},e.prototype.openLink=function(t){void 0===t&&(t=!0),t&&this.logAnalytics(),window.location.href=this.getResultUri()},e.prototype.openLinkInNewWindow=function(t){void 0===t&&(t=!0),t&&this.logAnalytics(),window.open(this.getResultUri(),"_blank")},e.prototype.openLinkInOutlook=function(t){void 0===t&&(t=!0),this.hasOutlookField()&&(t&&this.logAnalytics(),this.openLink())},e.prototype.openLinkAsConfigured=function(t){void 0===t&&(t=!0),this.toExecuteOnOpen&&(t&&this.logAnalytics(),this.toExecuteOnOpen())},e.prototype.bindEventToOpen=function(){return this.bindOnClickIfNotUndefined()||this.bindOpenQuickviewIfNotUndefined()||this.setHrefIfNotAlready()||this.openLinkThatIsNotAnAnchor()},e.prototype.getDisplayedTitle=function(){if(this.options.titleTemplate){var t=A.StringUtils.buildStringTemplateFromResult(this.options.titleTemplate,this.result);return t?S.StreamHighlightUtils.highlightStreamText(t,this.result.termsToHighlight,this.result.phrasesToHighlight):this.escapedClickUri}return this.result.title?c.HighlightUtils.highlightString(this.result.title,this.result.titleHighlights,null,"coveo-highlight"):this.escapedClickUri},e.prototype.getDisplayedTitleAsText=function(){var t=v.$$("div");return t.setHtml(this.getDisplayedTitle()),t.text()},Object.defineProperty(e.prototype,"escapedClickUri",{get:function(){return g.escape(this.result.clickUri)},enumerable:!0,configurable:!0}),e.prototype.bindOnClickIfNotUndefined=function(){var t=this;return void 0!=this.options.onClick&&(this.toExecuteOnOpen=function(e){t.options.onClick.call(t,e,t.result)},(new E.AccessibleButton).withElement(this.element).withLabel(this.result.title).withSelectAction(function(e){return t.toExecuteOnOpen(e)}).build(),!0)},e.prototype.bindOpenQuickviewIfNotUndefined=function(){var t=this;return!!this.quickviewShouldBeOpened()&&(this.toExecuteOnOpen=function(){v.$$(t.bindings.resultElement).trigger(u.ResultListEvents.openQuickview)},v.$$(this.element).on("click",function(e){e.preventDefault(),t.toExecuteOnOpen()}),!0)},e.prototype.openLinkThatIsNotAnAnchor=function(){var t=this;return!this.elementIsAnAnchor()&&(this.toExecuteOnOpen=function(){t.options.alwaysOpenInNewWindow?t.options.openInOutlook?t.openLinkInOutlook():t.openLinkInNewWindow():t.openLink()},v.$$(this.element).on("click",function(){t.toExecuteOnOpen()}),!0)},e.prototype.setHrefIfNotAlready=function(){return!(!this.elementIsAnAnchor()||y.Utils.isNonEmptyString(v.$$(this.element).getAttribute("href")))&&(v.$$(this.element).setAttribute("href",this.getResultUri()),!this.options.alwaysOpenInNewWindow||this.options.openInOutlook&&this.hasOutlookField()||v.$$(this.element).setAttribute("target","_blank"),!0)},e.prototype.logDocumentOpen=function(t){this.usageAnalytics.logClickEvent(l.analyticsActionCauseList.documentOpen,{documentURL:t,documentTitle:this.result.title,author:y.Utils.getFieldValue(this.result,"author")},this.result,this.root)},e.prototype.filterProtocol=function(t){var e=/^(https?|ftp|file|mailto|tel):/i.test(t),n=/^(\/|\.\/|\.\.\/)/.test(t);return e||n?t:""},e.prototype.getResultUri=function(){if(this.options.hrefTemplate){var t=A.StringUtils.buildStringTemplateFromResult(this.options.hrefTemplate,this.result);return this.filterProtocol(t)}return void 0==this.options.field&&this.options.openInOutlook&&this.setField(),void 0!=this.options.field?this.filterProtocol(y.Utils.getFieldValue(this.result,this.options.field)):this.filterProtocol(this.result.clickUri)},e.prototype.elementIsAnAnchor=function(){return"A"==this.element.tagName},e.prototype.setField=function(){var t=y.Utils.exists(this.os)?this.os:h.OSUtils.get();t==h.OS_NAME.MACOSX&&this.hasOutlookField()?this.options.field="@outlookformacuri":t==h.OS_NAME.WINDOWS&&this.hasOutlookField()&&(this.options.field="@outlookuri")},e.prototype.hasOutlookField=function(){var t=y.Utils.exists(this.os)?this.os:h.OSUtils.get();return t==h.OS_NAME.MACOSX&&void 0!=this.result.raw.outlookformacuri||t==h.OS_NAME.WINDOWS&&void 0!=this.result.raw.outlookuri},e.prototype.isUriThatMustBeOpenedInQuickview=function(){return 0==this.escapedClickUri.toLowerCase().indexOf("ldap://")},e.prototype.quickviewShouldBeOpened=function(){return(this.options.openQuickview||this.isUriThatMustBeOpenedInQuickview())&&f.QueryUtils.hasHTMLVersion(this.result)},e.ID="ResultLink",e.doExport=function(){C.exportGlobally({ResultLink:e})},e.options={field:r.ComponentOptions.buildFieldOption(),openInOutlook:r.ComponentOptions.buildBooleanOption({defaultValue:!1}),openQuickview:r.ComponentOptions.buildBooleanOption({defaultValue:!1}),alwaysOpenInNewWindow:r.ComponentOptions.buildBooleanOption({defaultValue:!1}),hrefTemplate:r.ComponentOptions.buildStringOption(),titleTemplate:r.ComponentOptions.buildStringOption(),onClick:r.ComponentOptions.buildCustomOption(function(){return null}),logAnalytics:r.ComponentOptions.buildCustomOption(function(){return null})},e}(s.Component);e.ResultLink=N,d.Initialization.registerAutoCreateComponent(N)},95:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1);n(560);var o=n(3),s=function(){function t(t,e,n,i){void 0===t&&(t=function(t){}),void 0===i&&(i=e),this.onChange=t,this.label=e,this.name=n,this.id=i,this.buildContent()}return t.doExport=function(){o.exportGlobally({RadioButton:t})},t.prototype.reset=function(){var t=this.isSelected();this.getRadio().checked=!1,t&&this.onChange(this)},t.prototype.select=function(t){void 0===t&&(t=!0);var e=this.isSelected();this.getRadio().checked=!0,!e&&t&&this.onChange(this)},t.prototype.build=function(){return this.element},t.prototype.getElement=function(){return this.element},t.prototype.getValue=function(){return this.label},t.prototype.isSelected=function(){return this.getRadio().checked},t.prototype.getRadio=function(){return i.$$(this.element).find("input")},t.prototype.getLabel=function(){return i.$$(this.element).find("label")},t.prototype.buildContent=function(){var t=this,e=i.$$("div",{className:"coveo-radio"}),n=i.$$("input",{type:"radio",name:this.name,id:this.id}),o=i.$$("label",{className:"coveo-radio-input-label",for:this.id});o.text(this.label),n.on("change",function(){t.onChange(t)}),e.append(n.el),e.append(o.el),this.element=e.el},t}();e.RadioButton=s}});
//# sourceMappingURL=SmartSnippet.min__e0ba7abe7a50f2532f41.js.map