webpackJsonpCoveo__temporary([12,13,14,48],{127:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(47),i=n(47);e.notWordStart=" ()[],$@'\"",e.notInWord=" ()[],:",e.Basic={basicExpressions:["Word","DoubleQuoted"],grammars:{DoubleQuoted:'"[NotDoubleQuote]"',NotDoubleQuote:/[^"]*/,SingleQuoted:"'[NotSingleQuote]'",NotSingleQuote:/[^']*/,Number:/-?(0|[1-9]\d*)(\.\d+)?/,Word:function(t,n,o){var u=new RegExp("[^"+e.notWordStart.replace(/(.)/g,"\\$1")+"][^"+e.notInWord.replace(/(.)/g,"\\$1")+"]*"),s=t.match(u);null!=s&&0!=s.index&&(s=null);var a=new r.Result(null!=s?s[0]:null,o,t);return a.isSuccess()&&n&&t.length>a.value.length?new i.EndOfInputResult(a):a}}}},134:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),n(532);var i=n(11),o=n(91),u=n(3),s=n(171),a=n(211),l=n(5),c=n(16),f=n(13),p=n(7),h=n(1),g=n(9),d=n(6),y=n(8),v=n(2),m=n(470),b=n(471),x=function(t){function e(n,r,u){var l=t.call(this,n,e.ID,u)||this;l.element=n,l.options=r,l.bindings=u,n instanceof HTMLInputElement&&l.logger.error("Querybox cannot be used on an HTMLInputElement"),l.options=y.ComponentOptions.initComponentOptions(n,e,r),new m.QueryboxOptionsProcessing(l).postProcess(),h.$$(l.element).toggleClass("coveo-query-syntax-disabled",0==l.options.enableQuerySyntax),l.magicBox=a.createMagicBox(n,new s.Grammar("Query",{Query:"[Term*][Spaces?]",Term:"[Spaces?][Word]",Spaces:/ +/,Word:/[^ ]+/}),{inline:!0});var d=h.$$(l.magicBox.element).find("input");return d&&h.$$(d).setAttribute("aria-label",l.options.placeholder||p.l("Search")),l.bind.onRootElement(i.QueryEvents.buildingQuery,function(t){return l.handleBuildingQuery(t)}),l.bind.onRootElement(o.StandaloneSearchInterfaceEvents.beforeRedirect,function(){return l.updateQueryState()}),l.bind.onQueryState(c.MODEL_EVENTS.CHANGE_ONE,f.QUERY_STATE_ATTRIBUTES.Q,function(t){return l.handleQueryStateChanged(t)}),l.options.enableSearchAsYouType&&(h.$$(l.element).addClass("coveo-search-as-you-type"),l.magicBox.onchange=function(){l.searchAsYouType()}),l.magicBox.onsubmit=function(){l.submit()},l.magicBox.onblur=function(){l.updateQueryState()},l.magicBox.onclear=function(){l.updateQueryState(),l.options.triggerQueryOnClear&&(l.usageAnalytics.logSearchEvent(g.analyticsActionCauseList.searchboxClear,{}),l.triggerNewQuery(!1))},l}return r(e,t),e.prototype.submit=function(){this.magicBox.clearSuggestion(),this.updateQueryState(),this.usageAnalytics.logSearchEvent(g.analyticsActionCauseList.searchboxSubmit,{}),this.triggerNewQuery(!1)},e.prototype.setText=function(t){this.magicBox.setText(t),this.updateQueryState()},e.prototype.clear=function(){this.magicBox.clear()},e.prototype.getText=function(){return this.magicBox.getText()},e.prototype.getResult=function(){return this.magicBox.getResult()},e.prototype.getDisplayedResult=function(){return this.magicBox.getDisplayedResult()},e.prototype.getCursor=function(){return this.magicBox.getCursor()},e.prototype.resultAtCursor=function(t){return this.magicBox.resultAtCursor(t)},e.prototype.handleBuildingQuery=function(t){l.Assert.exists(t),l.Assert.exists(t.queryBuilder),this.updateQueryState(),this.lastQuery=this.magicBox.getText(),new b.QueryboxQueryParameters(this.options).addParameters(t.queryBuilder,this.lastQuery)},e.prototype.triggerNewQuery=function(t){clearTimeout(this.searchAsYouTypeTimeout);var e=this.magicBox.getText();this.lastQuery!=e&&null!=e&&(this.lastQuery=e,this.queryController.executeQuery({searchAsYouType:t,logInActionsHistory:!0}))},e.prototype.updateQueryState=function(){this.queryStateModel.set(f.QueryStateModel.attributesEnum.q,this.magicBox.getText())},e.prototype.handleQueryStateChanged=function(t){l.Assert.exists(t);var e=t.value;e!=this.magicBox.getText()&&this.magicBox.setText(e)},e.prototype.searchAsYouType=function(){var t=this;clearTimeout(this.searchAsYouTypeTimeout),this.searchAsYouTypeTimeout=window.setTimeout(function(){t.usageAnalytics.logSearchAsYouType(g.analyticsActionCauseList.searchboxAsYouType,{}),t.triggerNewQuery(!0)},this.options.searchAsYouTypeDelay)},e.ID="Querybox",e.doExport=function(){u.exportGlobally({Querybox:e,QueryboxQueryParameters:b.QueryboxQueryParameters})},e.options={enableSearchAsYouType:y.ComponentOptions.buildBooleanOption({defaultValue:!1,section:"Advanced Options"}),searchAsYouTypeDelay:y.ComponentOptions.buildNumberOption({defaultValue:50,min:0,section:"Advanced Options"}),enableQuerySyntax:y.ComponentOptions.buildBooleanOption({defaultValue:!1,section:"Advanced Options"}),enableWildcards:y.ComponentOptions.buildBooleanOption({defaultValue:!1,section:"Advanced Options"}),enableQuestionMarks:y.ComponentOptions.buildBooleanOption({defaultValue:!1,depend:"enableWildcards"}),enableLowercaseOperators:y.ComponentOptions.buildBooleanOption({defaultValue:!1,depend:"enableQuerySyntax"}),enablePartialMatch:y.ComponentOptions.buildBooleanOption({defaultValue:!1}),partialMatchKeywords:y.ComponentOptions.buildNumberOption({defaultValue:5,min:1,depend:"enablePartialMatch"}),partialMatchThreshold:y.ComponentOptions.buildStringOption({defaultValue:"50%",depend:"enablePartialMatch"}),triggerQueryOnClear:y.ComponentOptions.buildBooleanOption({defaultValue:!1})},e}(d.Component);e.Querybox=x,v.Initialization.registerAutoCreateComponent(x)},14:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=function(){function t(){}return t.addClassToSVGInContainer=function(e,n){var r=e.querySelector("svg");r.setAttribute("class",""+t.getClass(r)+n)},t.removeClassFromSVGInContainer=function(e,n){var r=e.querySelector("svg");r.setAttribute("class",t.getClass(r).replace(n,""))},t.addStyleToSVGInContainer=function(t,e){var n=t.querySelector("svg");r.each(e,function(t,e){n.style[e]=t})},t.getClass=function(t){var e=t.getAttribute("class");return e?e+" ":""},t}();e.SVGDom=i},171:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(454),i=n(456),o=n(458),u=n(0),s=n(459),a=n(207),l=n(460),c=function(){function t(t,e){void 0===e&&(e={}),this.expressions={},this.start=new r.ExpressionRef(t,null,"start",this),this.addExpressions(e)}return t.prototype.addExpressions=function(t){var e=this;u.each(t,function(t,n){e.addExpression(n,t)})},t.prototype.addExpression=function(e,n){if(e in this.expressions)throw new Error("Grammar already contain the id:"+e);this.expressions[e]=t.buildExpression(n,e,this)},t.prototype.getExpression=function(t){return this.expressions[t]},t.prototype.parse=function(t){return this.start.parse(t,!0)},t.buildExpression=function(t,e,n){if(void 0===t)throw new Error("Invalid Expression: "+t);if(u.isString(t))return this.buildStringExpression(t,e,n);if(u.isArray(t))return new i.ExpressionOptions(u.map(t,function(t,i){return new r.ExpressionRef(t,null,e+"_"+i,n)}),e);if(u.isRegExp(t))return new o.ExpressionRegExp(t,e,n);if(u.isFunction(t))return new s.ExpressionFunction(t,e,n);throw new Error("Invalid Expression: "+t)},t.buildStringExpression=function(e,n,i){var o=t.stringMatch(e,t.spliter),s=u.map(o,function(t,e){if(t[1]){var o=t[1],u=t[3]?Number(t[3]):t[2]||null;return new r.ExpressionRef(o,u,n+"_"+e,i)}return new a.ExpressionConstant(t[4],n+"_"+e)});if(1==s.length){var c=s[0];return c.id=n,c}return new l.ExpressionList(s,n)},t.stringMatch=function(t,e){for(var n=[],r=new RegExp(e.source,"g"),i=r.exec(t);null!==i;)n.push(i),i=r.exec(t);return n},t.spliter=/\[(\w+)(\*|\+|\?|\{([1-9][0-9]*)\})?\]|(.[^\[]*)/,t}();e.Grammar=c},180:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t};Object.defineProperty(e,"__esModule",{value:!0}),n(535);var o=n(0),u=n(0),s=n(37),a=n(32),l=n(11),c=n(91),f=n(3),p=n(171),h=n(467),g=n(468),d=n(211),y=n(5),v=n(27),m=n(16),b=n(13),x=n(7),_=n(1),S=n(4),w=n(9),O=n(120),E=n(117),A=n(6),C=n(8),R=n(2),Q=n(134),P=n(470),T=n(471),B=n(18),$=n(536),M=n(537),F=n(538),I=n(539),j=function(t){function e(n,r,i){var o=t.call(this,n,e.ID,i)||this;o.element=n,o.options=r,o.lastSuggestions=[],o.movedOnce=!1,o.skipAutoSuggest=!1,o.options=C.ComponentOptions.initComponentOptions(n,e,r);var u=o.options.enableQuerySyntax;return new P.QueryboxOptionsProcessing(o).postProcess(),o.omniboxAnalytics=o.searchInterface.getOmniboxAnalytics(),_.$$(o.element).toggleClass("coveo-query-syntax-disabled",0==o.options.enableQuerySyntax),o.suggestionAddon=o.options.enableQuerySuggestAddon?new I.QuerySuggestAddon(o):new I.VoidQuerySuggestAddon,new M.OldOmniboxAddon(o),o.createMagicBox(),o.bind.onRootElement(l.QueryEvents.newQuery,function(t){return o.handleNewQuery(t)}),o.bind.onRootElement(l.QueryEvents.buildingQuery,function(t){return o.handleBuildingQuery(t)}),o.bind.onRootElement(c.StandaloneSearchInterfaceEvents.beforeRedirect,function(){return o.handleBeforeRedirect()}),o.bind.onRootElement(l.QueryEvents.querySuccess,function(){return o.handleQuerySuccess()}),o.bind.onQueryState(m.MODEL_EVENTS.CHANGE_ONE,b.QUERY_STATE_ATTRIBUTES.Q,function(t){return o.handleQueryStateChanged(t)}),o.isAutoSuggestion()&&o.bind.onRootElement(l.QueryEvents.duringQuery,function(t){return o.handleDuringQuery(t)}),o.bind.onComponentOptions(m.MODEL_EVENTS.CHANGE_ONE,v.COMPONENT_OPTIONS_ATTRIBUTES.SEARCH_BOX,function(t){null!=t.value.enableQuerySyntax?o.options.enableQuerySyntax=t.value.enableQuerySyntax:o.options.enableQuerySyntax=u,o.updateGrammar()}),o.bind.onRootElement(a.OmniboxEvents.querySuggestGetFocus,function(t){return o.handleQuerySuggestGetFocus(t)}),o}return r(e,t),e.prototype.submit=function(){var t=this;this.magicBox.clearSuggestion(),this.updateQueryState(),this.triggerNewQuery(!1,function(){E.logSearchBoxSubmitEvent(t.usageAnalytics)}),this.magicBox.blur()},e.prototype.getText=function(){return this.magicBox.getText()},e.prototype.setText=function(t){this.magicBox.setText(t),this.updateQueryState()},e.prototype.clear=function(){this.magicBox.clear()},e.prototype.getInput=function(){return this.magicBox.element.querySelector("input")},e.prototype.getResult=function(){return this.magicBox.getResult()},e.prototype.getDisplayedResult=function(){return this.magicBox.getDisplayedResult()},e.prototype.getCursor=function(){return this.magicBox.getCursor()},e.prototype.resultAtCursor=function(t){return this.magicBox.resultAtCursor(t)},e.prototype.createGrammar=function(){var t=null;return this.options.enableQuerySyntax?(t=g.Expressions(h.Complete),this.options.enableFieldAddon&&new $.FieldAddon(this),null!=this.options.fieldAlias&&(this.options.listOfFields=this.options.listOfFields||[],this.options.listOfFields=this.options.listOfFields.concat(o.keys(this.options.fieldAlias))),this.options.enableQueryExtensionAddon&&new F.QueryExtensionAddon(this)):t={start:"Any",expressions:{Any:/.*/}},null!=this.options.grammar&&(t=this.options.grammar(t)),t},e.prototype.updateGrammar=function(){var t=this.createGrammar();this.magicBox.grammar=new p.Grammar(t.start,t.expressions),this.magicBox.setText(this.magicBox.getText())},e.prototype.createMagicBox=function(){var t=this.createGrammar();this.magicBox=d.createMagicBox(this.element,new p.Grammar(t.start,t.expressions),{inline:this.options.inline,selectableSuggestionClass:"coveo-omnibox-selectable",selectedSuggestionClass:"coveo-omnibox-selected",suggestionTimeout:this.options.omniboxTimeout});var e=_.$$(this.magicBox.element).find("input");e&&_.$$(e).setAttribute("aria-label",x.l("SubmitSearch")),this.setupMagicBox()},e.prototype.setupMagicBox=function(){var t=this;this.magicBox.onmove=function(){t.isAutoSuggestion()&&(t.modifyEventTo=t.getOmniboxAnalyticsEventCause()),t.movedOnce=!0},this.magicBox.onfocus=function(){t.isAutoSuggestion()&&(t.skipAutoSuggest=!0)},this.magicBox.onSuggestions=function(e){S.Utils.isEmptyString(t.getText())&&(t.omniboxAnalytics.partialQueries=[]),t.movedOnce=!1,t.lastSuggestions=e,t.isAutoSuggestion()&&!t.skipAutoSuggest&&t.searchAsYouType()},this.options.enableSearchAsYouType&&_.$$(this.element).addClass("coveo-magicbox-search-as-you-type"),this.magicBox.onchange=function(){t.skipAutoSuggest=!1;var e=t.getText();void 0!=e&&""!=e?t.isAutoSuggestion()?t.movedOnce&&t.searchAsYouType(!0):t.options.enableSearchAsYouType&&t.searchAsYouType(!0):t.clear()},this.options.placeholder&&(this.magicBox.element.querySelector("input").placeholder=this.options.placeholder),this.magicBox.onsubmit=function(){return t.submit()},this.magicBox.onselect=function(e){var n=o.indexOf(t.lastSuggestions,e),r=o.compact(o.map(t.lastSuggestions,function(t){return t.text}));t.magicBox.clearSuggestion(),t.updateQueryState(),t.isAutoSuggestion()?t.isAutoSuggestion()&&t.movedOnce?t.handleAutoSuggestionWithKeyboard(n,r):t.isAutoSuggestion()&&!t.movedOnce&&t.handleAutoSuggestionsWithMouse(n,r):(t.usageAnalytics.cancelAllPendingEvents(),t.triggerNewQuery(!1,function(){t.usageAnalytics.logSearchEvent(t.getOmniboxAnalyticsEventCause(),t.buildCustomDataForPartialQueries(n,r))})),t.isAutoSuggestion()&&(t.omniboxAnalytics.partialQueries=[])},this.magicBox.onblur=function(){t.isAutoSuggestion()&&(t.setText(t.getQuery(!0)),t.usageAnalytics.sendAllPendingEvents())},this.magicBox.onclear=function(){t.updateQueryState(),(t.options.triggerQueryOnClear||t.options.enableSearchAsYouType)&&t.triggerNewQuery(!1,function(){t.usageAnalytics.logSearchEvent(w.analyticsActionCauseList.searchboxClear,{})})},this.magicBox.ontabpress=function(){t.handleTabPress()},this.magicBox.getSuggestions=function(){return t.handleSuggestions()}},e.prototype.handleAutoSuggestionWithKeyboard=function(t,e){var n=this;this.searchAsYouTypeTimeout?(this.usageAnalytics.cancelAllPendingEvents(),clearTimeout(this.searchAsYouTypeTimeout),this.searchAsYouTypeTimeout=void 0,this.triggerNewQuery(!1,function(){n.usageAnalytics.logSearchEvent(n.getOmniboxAnalyticsEventCause(),n.buildCustomDataForPartialQueries(t,e))})):(this.modifyEventTo=this.getOmniboxAnalyticsEventCause(),this.modifyCustomDataOnPending(t,e),this.modifyQueryContentOnPending(),this.usageAnalytics.sendAllPendingEvents())},e.prototype.handleAutoSuggestionsWithMouse=function(t,e){var n=this;this.searchAsYouTypeTimeout||0!=t?(this.clearSearchAsYouType(),this.usageAnalytics.cancelAllPendingEvents(),this.triggerNewQuery(!1,function(){n.usageAnalytics.logSearchEvent(n.getOmniboxAnalyticsEventCause(),n.buildCustomDataForPartialQueries(t,e))})):(this.modifyEventTo=this.getOmniboxAnalyticsEventCause(),this.modifyCustomDataOnPending(t,e),this.modifyQueryContentOnPending(),this.usageAnalytics.sendAllPendingEvents(),this.lastQuery!=this.getText()&&this.triggerNewQuery(!1,function(){n.usageAnalytics.logSearchEvent(n.getOmniboxAnalyticsEventCause(),n.buildCustomDataForPartialQueries(t,e))}))},e.prototype.modifyCustomDataOnPending=function(t,e){var n=this.usageAnalytics.getPendingSearchEvent();if(n instanceof O.PendingSearchAsYouTypeSearchEvent){var r=this.buildCustomDataForPartialQueries(t,e);o.each(o.keys(r),function(t){n.modifyCustomData(t,r[t])})}},e.prototype.modifyQueryContentOnPending=function(){var t=this.usageAnalytics.getPendingSearchEvent();if(t instanceof O.PendingSearchAsYouTypeSearchEvent){var e=this.getQuery(this.options.enableSearchAsYouType);t.modifyQueryContent(e)}},e.prototype.buildCustomDataForPartialQueries=function(t,e){return this.updateOmniboxAnalytics(e,t),this.omniboxAnalytics.buildCustomDataForPartialQueries()},e.prototype.handleQuerySuggestGetFocus=function(t){var e=t.suggestion,n=o.compact(o.map(this.lastSuggestions,function(t){return t.text})),r=this.lastSuggestions.indexOf(u.findWhere(this.lastSuggestions,{text:e}));this.updateOmniboxAnalytics(n,r)},e.prototype.updateOmniboxAnalytics=function(t,e){this.omniboxAnalytics.suggestions=t,this.omniboxAnalytics.suggestionRanking=e},e.prototype.handleSuggestions=function(){var t=this.getText();if(this.options.querySuggestCharacterThreshold<=t.length){var e={suggestions:[],omnibox:this};return this.triggerOmniboxSuggestions(e),S.Utils.isNullOrEmptyString(t)||this.omniboxAnalytics.partialQueries.push(t),o.compact(e.suggestions)}return[]},e.prototype.triggerOmniboxSuggestions=function(t){this.bind.trigger(this.element,a.OmniboxEvents.populateOmniboxSuggestions,t),_.$$(this.element).isDescendant(this.root)||this.bind.trigger(this.root,a.OmniboxEvents.populateOmniboxSuggestions,t)},e.prototype.handleBeforeRedirect=function(){this.updateQueryState()},e.prototype.handleBuildingQuery=function(t){var e=this;y.Assert.exists(t),y.Assert.exists(t.queryBuilder),this.updateQueryState(),this.lastQuery=this.getQuery(t.searchAsYouType);var n=this.lastQuery==this.magicBox.getDisplayedResult().input?this.magicBox.getDisplayedResult().clone():this.magicBox.grammar.parse(this.lastQuery).clean(),r={result:n};if(this.options.enableQuerySyntax){var i=r.result.findAll("FieldValueNotQuoted");if(o.each(i,function(t){return t.value='"'+t.value.replace(/"|\u00A0/g," ")+'"'}),this.options.fieldAlias){var u=r.result.findAll(function(t){return"FieldName"==t.expression.id&&t.isSuccess()});o.each(u,function(t){var n=o.find(o.keys(e.options.fieldAlias),function(e){return e.toLowerCase()==t.value.toLowerCase()});null!=n&&(t.value=e.options.fieldAlias[n])})}}this.triggerOmniboxPreprocessResultForQuery(r);var s=r.result.toString();new T.QueryboxQueryParameters(this.options).addParameters(t.queryBuilder,s)},e.prototype.triggerOmniboxPreprocessResultForQuery=function(t){this.bind.trigger(this.element,a.OmniboxEvents.omniboxPreprocessResultForQuery,t),_.$$(this.element).isDescendant(this.root)||this.bind.trigger(this.root,a.OmniboxEvents.omniboxPreprocessResultForQuery,t)},e.prototype.handleNewQuery=function(t){y.Assert.exists(t),this.options.clearFiltersOnNewQuery&&this.clearFiltersIfNewQuery(t)},e.prototype.clearFiltersIfNewQuery=function(t){var n=t.origin,r=t.searchAsYouType;if(!this.queryController.firstQuery){var i=[e.ID,"SearchButton"];if(n&&-1!==i.indexOf(n.type)){(this.queryController.getLastQuery().q||"")!==this.getQuery(r)&&this.bind.trigger(this.root,s.BreadcrumbEvents.clearBreadcrumb)}}},e.prototype.handleTabPress=function(){this.options.enableQuerySuggestAddon&&this.handleTabPressForSuggestions(),this.handleTabPressForOldOmniboxAddon()},e.prototype.handleTabPressForSuggestions=function(){if(this.options.enableSearchAsYouType)this.setText(this.getQuery(!0));else{var t=o.compact(o.map(this.lastSuggestions,function(t){return t.text}));this.usageAnalytics.logCustomEvent(this.getOmniboxAnalyticsEventCause(),this.buildCustomDataForPartialQueries(0,t),this.element)}},e.prototype.handleTabPressForOldOmniboxAddon=function(){var t=this.lastSuggestions.filter(function(t){return t.dom}).map(function(t){return _.$$(t.dom)}),e=this.findAllElementsWithClass(t,".coveo-omnibox-selected");if(e.length>0)_.$$(e[0]).trigger("tabSelect");else if(!this.options.enableQuerySuggestAddon){var n=this.findAllElementsWithClass(t,".coveo-omnibox-selectable");n.length>0&&_.$$(n[0]).trigger("tabSelect")}},e.prototype.findAllElementsWithClass=function(t,e){return t.map(function(t){return t.find(e)}).filter(function(t){return t}).reduce(function(t,e){return t.concat(e)},[])},e.prototype.triggerNewQuery=function(t,e){clearTimeout(this.searchAsYouTypeTimeout);var n=this.shouldExecuteQuery(t);this.lastQuery=this.getQuery(t),n&&e(),this.queryController.executeQuery({searchAsYouType:t,logInActionsHistory:!0,cancel:!n,origin:this})},e.prototype.getQuery=function(t){if(this.lastQuery==this.magicBox.getText())return this.lastQuery;if(!t)return this.magicBox.getText();var e=this.magicBox.getWordCompletion();if(null!=e)return e;var n=this.magicBox.getWordCompletion()||this.getFirstSuggestion();return n||(this.isAutoSuggestion()?this.lastQuery||this.magicBox.getText():this.magicBox.getText())},e.prototype.getFirstSuggestion=function(){if(null==this.lastSuggestions)return"";if(this.lastSuggestions.length<=0)return"";var t=o.find(this.lastSuggestions,function(t){return null!=t.text});return null==t?"":t.text},e.prototype.updateQueryState=function(){this.queryStateModel.set(b.QueryStateModel.attributesEnum.q,this.magicBox.getText())},e.prototype.handleQueryStateChanged=function(t){y.Assert.exists(t);var e=t.value;e!=this.magicBox.getText()&&this.magicBox.setText(e)},e.prototype.handleQuerySuccess=function(){this.isAutoSuggestion()||(this.omniboxAnalytics.partialQueries=[])},e.prototype.handleDuringQuery=function(t){var e=this;t.promise.then(function(){var n=e.usageAnalytics.getPendingSearchEvent();n instanceof O.PendingSearchAsYouTypeSearchEvent&&n.beforeResolve.then(function(n){t.promise.then(function(){e.modifyEventTo&&(n.modifyEventCause(e.modifyEventTo),e.modifyEventTo=null)})})})},e.prototype.searchAsYouType=function(t){var e=this;void 0===t&&(t=!1),this.clearSearchAsYouType(),this.shouldExecuteQuery(!0)&&(this.searchAsYouTypeTimeout=window.setTimeout(function(){if(e.suggestionShouldTriggerQuery()||t){var n=o.map(e.lastSuggestions,function(t){return t.text}),r=o.indexOf(n,e.magicBox.getWordCompletion());e.triggerNewQuery(!0,function(){e.usageAnalytics.logSearchAsYouType(w.analyticsActionCauseList.searchboxAsYouType,e.buildCustomDataForPartialQueries(r,n))}),e.clearSearchAsYouType()}},this.options.searchAsYouTypeDelay))},e.prototype.isAutoSuggestion=function(){return this.options.enableSearchAsYouType&&this.options.enableQuerySuggestAddon},e.prototype.shouldExecuteQuery=function(t){var e=this.getQuery(t);return!1===this.searchInterface.options.allowQueriesWithoutKeywords?this.lastQuery!=e&&S.Utils.isNonEmptyString(e):this.lastQuery!=e&&null!=e},e.prototype.suggestionShouldTriggerQuery=function(t){if(void 0===t&&(t=this.lastSuggestions),this.shouldExecuteQuery(!0)&&t&&t[0]){var e=t[0];if(e&&void 0!=e.executableConfidence)return e.executableConfidence>=.8;if(e.text&&0==e.text.indexOf(this.magicBox.getText()))return!0}return!1},e.prototype.clearSearchAsYouType=function(){clearTimeout(this.searchAsYouTypeTimeout),this.searchAsYouTypeTimeout=void 0},e.prototype.getOmniboxAnalyticsEventCause=function(){return this.searchInterface instanceof B.StandaloneSearchInterface?w.analyticsActionCauseList.omniboxFromLink:w.analyticsActionCauseList.omniboxAnalytics},e.ID="Omnibox",e.doExport=function(){f.exportGlobally({Omnibox:e,QueryboxQueryParameters:T.QueryboxQueryParameters})},e.options={inline:C.ComponentOptions.buildBooleanOption({defaultValue:!1}),enableSearchAsYouType:C.ComponentOptions.buildBooleanOption({defaultValue:!1,section:"Advanced Options"}),searchAsYouTypeDelay:C.ComponentOptions.buildNumberOption({defaultValue:2e3,min:0,depend:"enableSearchAsYouType",section:"Advanced Options"}),enableFieldAddon:C.ComponentOptions.buildBooleanOption({defaultValue:!1,depend:"enableQuerySyntax",postProcessing:function(t,e){return t&&(e.enableQuerySyntax=!0),t},section:"Advanced Options"}),enableSimpleFieldAddon:C.ComponentOptions.buildBooleanOption({defaultValue:!1,depend:"enableFieldAddon"}),listOfFields:C.ComponentOptions.buildFieldsOption({depend:"enableFieldAddon"}),enableQuerySuggestAddon:C.ComponentOptions.buildBooleanOption({defaultValue:!0,alias:["enableTopQueryAddon","enableRevealQuerySuggestAddon"]}),enableQueryExtensionAddon:C.ComponentOptions.buildBooleanOption({defaultValue:!1,depend:"enableQuerySyntax",postProcessing:function(t,e){return t&&(e.enableQuerySyntax=!0),t},section:"Advanced Options"}),placeholder:C.ComponentOptions.buildLocalizedStringOption(),omniboxTimeout:C.ComponentOptions.buildNumberOption({defaultValue:2e3,min:0}),enableQuerySyntax:C.ComponentOptions.buildBooleanOption({defaultValue:!1,section:"Advanced Options"}),numberOfSuggestions:C.ComponentOptions.buildNumberOption({defaultValue:5,min:1}),querySuggestCharacterThreshold:C.ComponentOptions.buildNumberOption({defaultValue:0,min:0}),clearFiltersOnNewQuery:C.ComponentOptions.buildBooleanOption({defaultValue:!1})},e}(A.Component);e.Omnibox=j,j.options=i({},j.options,Q.Querybox.options),R.Initialization.registerAutoCreateComponent(j)},182:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),o=n(7),u=n(17),s=n(1),a=n(14),l=n(12),c=n(4),f=n(9),p=n(6),h=n(2),g=n(13),d=function(t){function e(n,r,i){var f=t.call(this,n,e.ID,i)||this;if(f.element=n,f.options=r,(new u.AccessibleButton).withElement(n).withOwner(f.bind).withLabel(o.l("Search")).withSelectAction(function(){return f.handleClick()}).build(),""==c.Utils.trim(s.$$(f.element).text())){var p=s.$$("span",{className:"coveo-search-button"},l.SVGIcons.icons.search).el;a.SVGDom.addClassToSVGInContainer(p,"coveo-search-button-svg");var h=s.$$("span",{className:"coveo-search-button-loading"},l.SVGIcons.icons.loading).el;a.SVGDom.addClassToSVGInContainer(h,"coveo-search-button-loading-svg"),n.appendChild(p),n.appendChild(h)}return f}return r(e,t),e.prototype.click=function(){this.handleClick()},e.prototype.handleClick=function(){this.logger.debug("Performing query following button click"),this.updateQueryStateModelWithSearchboxQuery(),this.usageAnalytics.logSearchEvent(f.analyticsActionCauseList.searchboxSubmit,{}),this.queryController.executeQuery({origin:this})},e.prototype.updateQueryStateModelWithSearchboxQuery=function(){var t=this.options&&this.options.searchbox;t&&this.queryStateModel.set(g.QueryStateModel.attributesEnum.q,t.getText())},e.ID="SearchButton",e.doExport=function(){i.exportGlobally({SearchButton:e})},e.options={},e}(p.Component);e.SearchButton=d,h.Initialization.registerAutoCreateComponent(d)},206:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionEndOfInput={id:"end of input",parse:null}},207:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(47),i=n(47),o=function(){function t(t,e){this.value=t,this.id=e}return t.prototype.parse=function(t,e){var n=0==t.indexOf(this.value),o=new r.Result(n?this.value:null,this,t);return n&&e&&t.length>this.value.length?new i.EndOfInputResult(o):o},t.prototype.toString=function(){return this.value},t}();e.ExpressionConstant=o},208:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(127),i=n(462);e.Field={basicExpressions:["FieldSimpleQuery","FieldQuery","Field"],grammars:{FieldQuery:"[Field][OptionalSpaces][FieldQueryOperation]",FieldQueryOperation:["FieldQueryValue","FieldQueryNumeric"],FieldQueryValue:"[FieldOperator][OptionalSpaces][FieldValue]",FieldQueryNumeric:"[FieldOperatorNumeric][OptionalSpaces][FieldValueNumeric]",FieldSimpleQuery:"[FieldName]:[OptionalSpaces][FieldValue]",Field:"@[FieldName]",FieldName:/[a-zA-Z][a-zA-Z0-9\.\_]*/,FieldOperator:/==|=|<>/,FieldOperatorNumeric:/<=|>=|<|>/,FieldValue:["DateRange","NumberRange","DateRelative","Date","Number","FieldValueList","FieldValueString"],FieldValueNumeric:["DateRelative","Date","Number"],FieldValueString:["DoubleQuoted","FieldValueNotQuoted"],FieldValueList:"([FieldValueString][FieldValueStringList*])",FieldValueStringList:"[FieldValueSeparator][FieldValueString]",FieldValueSeparator:/ *, */,FieldValueNotQuoted:/[^ \(\),]+/,NumberRange:"[Number][Spaces?]..[Spaces?][Number]"},include:[i.Date,r.Basic]}},209:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function u(t){try{a(r.next(t))}catch(t){o(t)}}function s(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(u,s)}a((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(u=u.call(o,n[1])).done)return u;switch(o=0,u&&(n=[0,u.value]),n[0]){case 0:case 1:u=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){a.label=n[1];break}if(6===n[0]&&a.label<u[1]){a.label=u[1],u=n;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(n);break}u[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(t){n=[6,t],o=0}finally{i=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,u,s,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var o,u=n(0),s=n(32),a=n(6),l=n(1),c=n(529),f=n(466);!function(t){t.Up="Up",t.Down="Down",t.Left="Left",t.Right="Right"}(o=e.Direction||(e.Direction={}));var p=function(){function t(t,e,n,r){var i=this;this.element=t,this.magicBoxContainer=e,this.inputManager=n,this.root=a.Component.resolveRoot(t),this.options=u.defaults(r,{suggestionClass:"magic-box-suggestion",selectedClass:"magic-box-selected"}),void 0==this.options.timeout&&(this.options.timeout=500),this.hasSuggestions=!1,l.$$(this.element).on("mouseover",function(t){i.handleMouseOver(t)}),l.$$(this.element).on("mouseout",function(t){i.handleMouseOut(t)}),this.suggestionsProcessor=new f.QueryProcessor({timeout:this.options.timeout}),this.resultPreviewsManager=new c.ResultPreviewsManager(t,{selectedClass:this.options.selectedClass,timeout:this.options.timeout}),this.suggestionsListbox=this.buildSuggestionsContainer(),l.$$(this.element).append(this.suggestionsListbox.el),this.addAccessibilityPropertiesForCombobox(),this.appendEmptySuggestionOption()}return Object.defineProperty(t.prototype,"hasFocus",{get:function(){return l.$$(this.element).findClass(this.options.selectedClass).length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPreviews",{get:function(){return this.resultPreviewsManager.hasPreviews},enumerable:!0,configurable:!0}),t.prototype.handleMouseOver=function(t){var e=l.$$(t.target),n=e.parents(this.options.suggestionClass);e.hasClass(this.options.suggestionClass)?this.processMouseSelection(e.el):n.length>0&&this.element.contains(n[0])&&this.processMouseSelection(n[0])},t.prototype.handleMouseOut=function(t){var e=l.$$(t.target),n=e.parents(this.options.suggestionClass);if(t.relatedTarget&&l.$$(t.relatedTarget).isValid()){var r=l.$$(t.relatedTarget).parents(this.options.suggestionClass);e.hasClass(this.options.selectedClass)&&!l.$$(t.relatedTarget).hasClass(this.options.suggestionClass)?this.removeSelectedStatus(e.el):0==r.length&&n.length>0&&this.removeSelectedStatus(n[0])}else e.hasClass(this.options.selectedClass)?this.removeSelectedStatus(e.el):n.length>0&&this.removeSelectedStatus(n[0]);l.$$(this.root).trigger(s.OmniboxEvents.querySuggestLoseFocus)},t.prototype.moveDown=function(){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.move(o.Down)];case 1:return t.sent(),[2]}})})},t.prototype.moveUp=function(){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.move(o.Up)];case 1:return t.sent(),[2]}})})},t.prototype.moveLeft=function(){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.move(o.Left)];case 1:return t.sent(),[2]}})})},t.prototype.moveRight=function(){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.move(o.Right)];case 1:return t.sent(),[2]}})})},t.prototype.selectAndReturnKeyboardFocusedElement=function(){var t=this.keyboardFocusedElement;return t&&(l.$$(t).trigger("keyboardSelect"),this.keyboardFocusedElement=null,this.inputManager.blur()),t},t.prototype.clearKeyboardFocusedElement=function(){this.keyboardFocusedElement=null},t.prototype.receiveSuggestions=function(t){return r(this,void 0,void 0,function(){var e,n,r;return i(this,function(i){switch(i.label){case 0:return[4,this.suggestionsProcessor.processQueries(t)];case 1:return e=i.sent(),(n=e.results,r=e.status,r===f.ProcessingStatus.Overriden)?[2,[]]:(this.updateSuggestions(n),[2,n])}})})},t.prototype.clearSuggestions=function(){this.updateSuggestions([])},t.prototype.updateSuggestions=function(t){var e=this;if(this.suggestionsListbox.empty(),this.inputManager.input.removeAttribute("aria-activedescendant"),this.hasSuggestions=t.length>0,l.$$(this.element).toggleClass("magic-box-hasSuggestion",this.hasSuggestions),l.$$(this.magicBoxContainer).setAttribute("aria-expanded",this.hasSuggestions.toString()),this.resultPreviewsManager.displaySearchResultPreviewsForSuggestion(null),!this.hasSuggestions)return this.appendEmptySuggestionOption(),void l.$$(this.root).trigger(s.OmniboxEvents.querySuggestLoseFocus);u.each(t,function(n){var r=n.dom?e.modifyDomFromExistingSuggestion(n.dom):e.createDomFromSuggestion(n);r.setAttribute("id","magic-box-suggestion-"+u.indexOf(t,n)),r.setAttribute("role","option"),r.setAttribute("aria-selected","false"),r.setAttribute("aria-label",r.text()),r.suggestion=n,e.suggestionsListbox.append(r.el)}),l.$$(this.root).trigger(s.OmniboxEvents.querySuggestRendered)},Object.defineProperty(t.prototype,"selectedSuggestion",{get:function(){return this.htmlElementIsSuggestion(this.keyboardFocusedElement)?this.returnMoved(this.keyboardFocusedElement):null},enumerable:!0,configurable:!0}),t.prototype.processKeyboardSelection=function(t){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return this.addSelectedStatus(t),this.keyboardFocusedElement=t,l.$$(this.inputManager.input).setAttribute("aria-activedescendant",l.$$(t).getAttribute("id")),[4,this.updateSelectedSuggestion(t)];case 1:return e.sent(),[2]}})})},t.prototype.processKeyboardPreviewSelection=function(t){this.addSelectedStatus(t),this.keyboardFocusedElement=t},t.prototype.processMouseSelection=function(t){this.addSelectedStatus(t),this.updateSelectedSuggestion(t),this.keyboardFocusedElement=null},t.prototype.buildSuggestionsContainer=function(){return l.$$("div",{className:"coveo-magicbox-suggestions",id:"coveo-magicbox-suggestions",role:"listbox"})},t.prototype.createDomFromSuggestion=function(t){var e=this,n=l.$$("div",{className:"magic-box-suggestion "+this.options.suggestionClass});if(n.on("click",function(){e.selectSuggestion(t)}),n.on("keyboardSelect",function(){e.selectSuggestion(t)}),t.html)return n.el.innerHTML=t.html,n;if(t.text)return n.text(t.text),n;if(t.separator){n.addClass("magic-box-suggestion-seperator");var r=l.$$("div",{className:"magic-box-suggestion-seperator-label"},t.separator);return n.append(r.el),n}return n},t.prototype.selectSuggestion=function(t){t.onSelect(),l.$$(this.root).trigger(s.OmniboxEvents.querySuggestSelection,{suggestion:t.text})},t.prototype.appendEmptySuggestionOption=function(){this.suggestionsListbox.append(l.$$("div",{role:"option"}).el)},t.prototype.modifyDomFromExistingSuggestion=function(t){this.removeSelectedStatus(t);var e=l.$$(t).find("."+this.options.suggestionClass);return this.removeSelectedStatus(e),l.$$(t)},t.prototype.move=function(t){return r(this,void 0,void 0,function(){var e;return i(this,function(n){switch(n.label){case 0:return this.resultPreviewsManager.focusedPreviewElement?[4,this.moveWithinPreview(t)]:[3,2];case 1:return n.sent(),[2];case 2:return t!==o.Right&&t!==o.Left||!(e=this.resultPreviewsManager.previewElements[0])?[4,this.moveWithinSuggestion(t)]:(this.processKeyboardPreviewSelection(e),[2]);case 3:return n.sent(),[2]}})})},t.prototype.moveWithinSuggestion=function(t){return r(this,void 0,void 0,function(){var e,n,r,s;return i(this,function(i){switch(i.label){case 0:return e=l.$$(this.element).find("."+this.options.selectedClass),n=l.$$(this.element).findAll("."+this.options.suggestionClass),r=u.indexOf(n,e),s=t===o.Up?r-1:r+1,s=(s+n.length)%n.length,[4,this.selectQuerySuggest(n[s])];case 1:return i.sent(),[2]}})})},t.prototype.selectQuerySuggest=function(t){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return t?[4,this.processKeyboardSelection(t)]:[3,2];case 1:return e.sent(),[3,3];case 2:this.keyboardFocusedElement=null,this.inputManager.input.removeAttribute("aria-activedescendant"),e.label=3;case 3:return[2,t]}})})},t.prototype.moveWithinPreview=function(t){return r(this,void 0,void 0,function(){var e;return i(this,function(n){switch(n.label){case 0:return e=this.resultPreviewsManager.getElementInDirection(t),e?[3,2]:[4,this.selectQuerySuggest(this.resultPreviewsManager.previewsOwner)];case 1:return n.sent(),[2];case 2:return this.processKeyboardPreviewSelection(e),[2]}})})},t.prototype.returnMoved=function(t){if(t){if(t.suggestion)return t.suggestion;if(t["no-text-suggestion"])return null;if(t instanceof HTMLElement)return{text:l.$$(t).text()}}return null},t.prototype.addSelectedStatus=function(t){for(var e=this.element.getElementsByClassName(this.options.selectedClass),n=0;n<e.length;n++){var r=e.item(n);this.removeSelectedStatus(r)}l.$$(t).addClass(this.options.selectedClass),this.updateAreaSelectedIfDefined(t,"true")},t.prototype.updateSelectedSuggestion=function(t){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return l.$$(this.root).trigger(s.OmniboxEvents.querySuggestGetFocus,{suggestion:t.innerText}),[4,this.resultPreviewsManager.displaySearchResultPreviewsForSuggestion(t)];case 1:return e.sent(),[2]}})})},t.prototype.removeSelectedStatus=function(t){l.$$(t).removeClass(this.options.selectedClass),this.updateAreaSelectedIfDefined(t,"false")},t.prototype.updateAreaSelectedIfDefined=function(t,e){l.$$(t).getAttribute("aria-selected")&&l.$$(t).setAttribute("aria-selected",e)},t.prototype.addAccessibilityPropertiesForCombobox=function(){var t=l.$$(this.magicBoxContainer),e=l.$$(this.inputManager.input);t.setAttribute("aria-expanded","false"),t.setAttribute("role","combobox"),t.setAttribute("aria-owns","coveo-magicbox-suggestions"),t.setAttribute("aria-haspopup","listbox"),e.el.removeAttribute("aria-activedescendant"),e.setAttribute("aria-controls","coveo-magicbox-suggestions"),e.setAttribute("aria-autocomplete","list")},t.prototype.htmlElementIsSuggestion=function(t){var e=l.$$(this.element).findAll("."+this.options.suggestionClass);return u.indexOf(e,t)>-1},t}();e.SuggestionsManager=p},211:function(t,e,n){"use strict";function r(t,e,n){return new g(t,e,n)}function i(t){return"requestAnimationFrame"in window?window.requestAnimationFrame(t):setTimeout(t)}var o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function u(t){try{a(r.next(t))}catch(t){o(t)}}function s(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(u,s)}a((r=r.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(u=u.call(o,n[1])).done)return u;switch(o=0,u&&(n=[0,u.value]),n[0]){case 0:case 1:u=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){a.label=n[1];break}if(6===n[0]&&a.label<u[1]){a.label=u[1],u=n;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(n);break}u[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(t){n=[6,t],o=0}finally{i=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,u,s,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(25),l=n(1),c=n(527),f=n(465),p=n(531),h=n(209),g=function(){function t(t,e,n){void 0===n&&(n={});var r=this;this.element=t,this.grammar=e,this.options=n,this.lastSuggestions=[],s.isUndefined(this.options.inline)&&(this.options.inline=!1),l.$$(t).addClass("magic-box"),this.options.inline&&l.$$(t).addClass("magic-box-inline"),this.result=this.grammar.parse(""),this.displayedResult=this.result.clean();var i=l.$$(t).find(".magic-box-input");i||(i=document.createElement("div"),i.className="magic-box-input",t.appendChild(i)),this.inputManager=new f.InputManager(i,function(t,e){e?(r.setText(t),r.onselect&&r.onselect(r.firstSuggestionWithText)):(r.setText(t),r.addSuggestions(),r.onchange&&r.onchange())},this),this.inputManager.ontabpress=function(){r.ontabpress&&r.ontabpress()};var o=this.inputManager.getValue();o&&(this.displayedResult.input=o),this.inputManager.setResult(this.displayedResult);var u=document.createElement("div");u.className="magic-box-suggestions",this.element.appendChild(u),this.suggestionsManager=new h.SuggestionsManager(u,this.element,this.inputManager,{suggestionClass:this.options.selectableSuggestionClass,selectedClass:this.options.selectedSuggestionClass,timeout:this.options.suggestionTimeout}),this.magicBoxClear=new p.MagicBoxClear(this),this.setupHandler()}return Object.defineProperty(t.prototype,"firstSuggestionWithText",{get:function(){return s.find(this.lastSuggestions,function(t){return t.text})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstSuggestionText",{get:function(){var t=this.firstSuggestionWithText;return t?t.text:""},enumerable:!0,configurable:!0}),t.prototype.getResult=function(){return this.result},t.prototype.getDisplayedResult=function(){return this.displayedResult},t.prototype.setText=function(t){l.$$(this.element).toggleClass("magic-box-notEmpty",t.length>0),this.magicBoxClear.toggleTabindexAndAriaHidden(t.length>0),this.result=this.grammar.parse(t),this.displayedResult=this.result.clean(),this.inputManager.setResult(this.displayedResult)},t.prototype.setCursor=function(t){this.inputManager.setCursor(t)},t.prototype.getCursor=function(){return this.inputManager.getCursor()},t.prototype.resultAtCursor=function(t){return this.displayedResult.resultAt(this.getCursor(),t)},t.prototype.setupHandler=function(){var t=this;this.inputManager.onblur=function(){l.$$(t.element).removeClass("magic-box-hasFocus"),t.onblur&&t.onblur(),t.options.inline||t.clearSuggestion()},this.inputManager.onfocus=function(){l.$$(t.element).addClass("magic-box-hasFocus"),t.addSuggestions(),t.onfocus&&t.onfocus()},this.inputManager.onkeydown=function(e){if(t.shouldMoveInSuggestions(e))return!1;if(e===a.KEYBOARD.ENTER){return null==t.suggestionsManager.selectAndReturnKeyboardFocusedElement()&&t.onsubmit&&t.onsubmit(),!1}return e===a.KEYBOARD.ESCAPE?(t.clearSuggestion(),t.blur()):t.suggestionsManager.clearKeyboardFocusedElement(),!0},this.inputManager.onchangecursor=function(){t.addSuggestions()},this.inputManager.onkeyup=function(e){if(t.onmove&&t.onmove(),!t.shouldMoveInSuggestions(e))return!0;switch(e){case a.KEYBOARD.UP_ARROW:t.suggestionsManager.moveUp();break;case a.KEYBOARD.DOWN_ARROW:t.suggestionsManager.moveDown();break;case a.KEYBOARD.LEFT_ARROW:t.suggestionsManager.moveLeft();break;case a.KEYBOARD.RIGHT_ARROW:t.suggestionsManager.moveRight()}return t.suggestionsManager.selectedSuggestion&&t.focusOnSuggestion(t.suggestionsManager.selectedSuggestion),t.onchange&&t.onchange(),!1}},t.prototype.addSuggestions=function(){return o(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return[4,this.suggestionsManager.receiveSuggestions(null!=this.getSuggestions?this.getSuggestions():[])];case 1:return t=e.sent(),this.addSelectEventHandlers(t),this.inputManager.setWordCompletion(this.firstSuggestionText),this.onSuggestions(t),[2]}})})},t.prototype.shouldMoveInSuggestions=function(t){switch(t){case a.KEYBOARD.UP_ARROW:case a.KEYBOARD.DOWN_ARROW:return!0;case a.KEYBOARD.LEFT_ARROW:case a.KEYBOARD.RIGHT_ARROW:if(this.suggestionsManager.hasFocus&&this.suggestionsManager.hasPreviews)return!0}return!1},t.prototype.addSelectEventHandlers=function(t){var e=this;s.each(t,function(t){null==t.onSelect&&null!=t.text&&(t.onSelect=function(){e.setText(t.text),e.onselect&&e.onselect(t)})})},t.prototype.focus=function(){l.$$(this.element).addClass("magic-box-hasFocus"),this.inputManager.focus()},t.prototype.blur=function(){this.inputManager.blur()},t.prototype.clearSuggestion=function(){return o(this,void 0,void 0,function(){return u(this,function(t){return this.inputManager.setWordCompletion(null),this.suggestionsManager.clearSuggestions(),this.onSuggestions([]),[2]})})},t.prototype.focusOnSuggestion=function(t){null==t||null==t.text?this.inputManager.setResult(this.displayedResult,this.firstSuggestionText):this.inputManager.setResult(this.grammar.parse(t.text).clean(),t.text)},t.prototype.getText=function(){return this.inputManager.getValue()},t.prototype.getWordCompletion=function(){return this.inputManager.getWordCompletion()},t.prototype.clear=function(){this.setText(""),this.clearSuggestion(),this.focus(),this.onclear&&this.onclear()},t.prototype.hasSuggestions=function(){return this.suggestionsManager.hasSuggestions},t}();e.MagicBoxInstance=g,e.createMagicBox=r,e.requestAnimationFrame=i,c.doMagicBoxExport()},212:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=function(){function t(){}return t.escapeRegExp=function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},t.highlightText=function(t,e,n,r,i){var o=this;if(void 0===n&&(n=!1),void 0===r&&(r="magic-box-hightlight"),void 0===i&&(i=""),0==e.length)return t;var u=this.escapeRegExp(e),s="("+u+")|(.*?(?="+u+")|.+)",a=new RegExp(s,n?"gi":"g");return t.replace(a,function(t,e,n){return o.escapeText(null!=e?r:i,t)})},t.escapeText=function(t,e){return'<span class="'+t+'">'+r.escape(e)+"</span>"},t}();e.MagicBoxUtils=i},266:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t};Object.defineProperty(e,"__esModule",{value:!0}),n(621);var o=n(3),u=n(1),s=n(14),a=n(12),l=n(622),c=n(6),f=n(8),p=n(2),h=n(180),g=n(134),d=n(182),y=n(0),v=function(t){function e(n,r,i){var o=t.call(this,n,e.ID,i)||this;return o.element=n,o.options=r,o.bindings=i,o.options=f.ComponentOptions.initComponentOptions(n,e,r),o.options.inline&&u.$$(n).addClass("coveo-inline"),o.initSearchBox(),o.initSearchButton(),o.applyMagicBoxIcon(),o.applyCustomHeight(),o}return r(e,t),e.prototype.initSearchBox=function(){var t=document.createElement("div");this.element.appendChild(t),this.options.enableOmnibox?this.searchbox=new h.Omnibox(t,this.options,this.bindings):this.searchbox=new g.Querybox(t,this.options,this.bindings)},e.prototype.initSearchButton=function(){if(this.options.addSearchButton){var t=u.$$("a");this.element.appendChild(t.el),this.searchButton=new d.SearchButton(t.el,{searchbox:this.searchbox},this.bindings)}},e.prototype.applyMagicBoxIcon=function(){var t=u.$$(this.element).find(".magic-box-icon");t.innerHTML=a.SVGIcons.icons.mainClear,s.SVGDom.addClassToSVGInContainer(t,"magic-box-clear-svg")},e.prototype.applyCustomHeight=function(){this.options.height&&(u.$$(this.element).addClass("coveo-custom-height"),l.SearchBoxResize.resize(this.element,this.options.height))},e.ID="Searchbox",e.parent=h.Omnibox,e.doExport=function(){o.exportGlobally({Searchbox:e,SearchButton:d.SearchButton,Omnibox:h.Omnibox,Querybox:g.Querybox})},e.options={addSearchButton:f.ComponentOptions.buildBooleanOption({defaultValue:!0}),height:f.ComponentOptions.buildNumberOption({min:25}),enableOmnibox:f.ComponentOptions.buildBooleanOption({defaultValue:!0})},e}(c.Component);e.Searchbox=v,v.options=i({},v.options,h.Omnibox.options,g.Querybox.options),y.each(v.options,function(t,e){e in h.Omnibox.options&&!(e in g.Querybox.options)&&(v.options[e]=y.extend({depend:"enableOmnibox"},t))}),p.Initialization.registerAutoCreateComponent(v)},454:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(47),i=n(455),o=n(206),u=n(0),s=function(){function t(t,e,n,r){this.ref=t,this.occurrence=e,this.id=n,this.grammar=r}return t.prototype.parse=function(t,e){var n=this.grammar.getExpression(this.ref);if(null==n)throw new Error("Expression not found:"+this.ref);return"?"==this.occurrence||null==this.occurrence?this.parseOnce(t,e,n):this.parseMany(t,e,n)},t.prototype.parseOnce=function(t,e,n){var s=n.parse(t,e),a=s.isSuccess();return a||"?"!=this.occurrence?new i.RefResult([s],this,t,a?null:s):e?0==t.length?new i.RefResult([],this,t,s):u.all(s.getBestExpect(),function(t){return t.expression==o.ExpressionEndOfInput})?new i.RefResult([new r.Result(null,o.ExpressionEndOfInput,t)],this,t,s):s:new i.RefResult([],this,t,null)},t.prototype.parseMany=function(t,e,n){var s,a,l=[],c=t;do{s=n.parse(c,!1),(a=s.isSuccess())&&(l.push(s),c=c.substr(s.getLength()))}while(a&&s.input!=c);var f=u.isNumber(this.occurrence)?this.occurrence:"+"==this.occurrence?1:0;if(l.length<f)l.push(s);else if(e)if(l.length>0){var p=u.last(l);s=n.parse(p.input,!0),s.isSuccess()?l[l.length-1]=s:(l.push(new r.Result(null,o.ExpressionEndOfInput,p.input.substr(p.getLength()))),s=n.parse(p.input.substr(p.getLength()),!0))}else if(0!=t.length){var h=new r.Result(null,o.ExpressionEndOfInput,t);return new i.RefResult([h],this,t,s)}return new i.RefResult(l,this,t,s)},t.prototype.toString=function(){return this.id},t}();e.ExpressionRef=s},455:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(47),o=n(0),u=function(t){function e(e,n,r,i){var u=t.call(this,e,n,r)||this;return u.expression=n,u.input=r,o.last(e)!=i&&(u.failAttempt=i,null!=u.failAttempt&&(u.failAttempt.parent=u)),u}return r(e,t),e.prototype.getExpect=function(){var e=t.prototype.getExpect.call(this);return null!=this.failAttempt?e.concat(this.failAttempt.getExpect()):e},e.prototype.clean=function(e){if(null!=this.failAttempt&&(null!=e||!this.isSuccess())){e=e||o.last(this.getBestExpect()).path(this);var n=o.first(e);if(null!=n&&n==this.failAttempt){var r=o.last(this.subResults),u=o.map(null!=r&&r.isSuccess()?this.subResults:o.initial(this.subResults),function(t){return t.clean()});return u.push(n.clean(o.rest(e))),new i.Result(u,this.expression,this.input)}}return t.prototype.clean.call(this,e)},e}(i.Result);e.RefResult=u},456:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(457),i=function(){function t(t,e){this.parts=t,this.id=e}return t.prototype.parse=function(t,e){for(var n=[],i=0;i<this.parts.length;i++){var o=this.parts[i].parse(t,e);if(o.isSuccess())return new r.OptionResult(o,this,t,n);n.push(o)}return new r.OptionResult(null,this,t,n)},t.prototype.toString=function(){return this.id},t}();e.ExpressionOptions=i},457:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(47),o=n(0),u=function(t){function e(e,n,r,i){var u=t.call(this,null!=e?[e]:null,n,r)||this;return u.result=e,u.expression=n,u.input=r,u.failAttempt=i,o.forEach(u.failAttempt,function(t){t.parent=u}),u}return r(e,t),e.prototype.getExpect=function(){var t=this,e=[];return null!=this.result&&(e=this.result.getExpect()),e=o.reduce(this.failAttempt,function(t,e){return t.concat(e.getExpect())},e),e.length>0&&o.all(e,function(e){return e.input==t.input})?[this]:e},e.prototype.clean=function(t){if(null!=t||!this.isSuccess()){t=o.rest(t||o.last(this.getBestExpect()).path(this));var e=o.first(t);return null==e?new i.Result(null,this.expression,this.input):new i.Result([e.clean(o.rest(t))],this.expression,this.input)}return new i.Result(o.map(this.result.subResults,function(t){return t.clean()}),this.expression,this.input)},e}(i.Result);e.OptionResult=u},458:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(47),i=n(47),o=function(){function t(t,e,n){this.value=t,this.id=e}return t.prototype.parse=function(t,e){var n=t.match(this.value);null!=n&&0!=n.index&&(n=null);var o=new r.Result(null!=n?n[0]:null,this,t);return o.isSuccess()&&e&&t.length>o.value.length?new i.EndOfInputResult(o):o},t.prototype.toString=function(){return this.id},t}();e.ExpressionRegExp=o},459:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n){this.func=t,this.id=e,this.grammar=n}return t.prototype.parse=function(t,e){return this.func(t,e,this)},t.prototype.toString=function(){return this.id},t}();e.ExpressionFunction=r},460:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(47),i=function(){function t(t,e){if(this.parts=t,this.id=e,0==t.length)throw new Error(JSON.stringify(e)+" should have at least 1 parts")}return t.prototype.parse=function(t,e){for(var n,i=[],o=t,u=0;u<this.parts.length;u++){if(n=this.parts[u].parse(o,e&&u==this.parts.length-1),i.push(n),!n.isSuccess())break;o=o.substr(n.getLength())}return new r.Result(i,this,t)},t.prototype.toString=function(){return this.id},t}();e.ExpressionList=i},461:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(208);e.NestedQuery={basicExpressions:["NestedQuery"],grammars:{NestedQuery:"[[NestedField][OptionalSpaces][Expressions]]",NestedField:"[[Field]]",FieldValue:["NestedQuery"]},include:[r.Field]}},462:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(127);e.Date={grammars:{Date:"[DateYear]/[DateMonth]/[DateDay]",DateYear:/([0-9]{4})/,DateMonth:/(1[0-2]|0?[1-9])/,DateDay:/([1-2][0-9]|3[0-1]|0?[1-9])/,DateRange:"[Date][Spaces?]..[Spaces?][Date]",DateRelative:["DateRelativeNegative","DateRelativeTerm"],DateRelativeTerm:/now|today|yesterday/,DateRelativeNegative:"[DateRelativeTerm][DateRelativeNegativeRef]",DateRelativeNegativeRef:/([\-\+][0-9]+(s|m|h|d|mo|y))/},include:[r.Basic]}},463:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(127);e.QueryExtension={basicExpressions:["QueryExtension"],grammars:{QueryExtension:"$[QueryExtensionName]([QueryExtensionArguments])",QueryExtensionName:/\w+/,QueryExtensionArguments:"[QueryExtensionArgumentList*][QueryExtensionArgument]",QueryExtensionArgumentList:"[QueryExtensionArgument][Spaces?],[Spaces?]",QueryExtensionArgument:"[QueryExtensionArgumentName]:[Spaces?][QueryExtensionArgumentValue]",QueryExtensionArgumentName:/\w+/,QueryExtensionArgumentValue:["SingleQuoted","Expressions"]},include:[r.Basic]}},464:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SubExpression={basicExpressions:["SubExpression"],grammars:{SubExpression:"([Expressions])"}}},465:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(25),o=n(7),u=n(1),s=n(26),a=function(){function t(t,e,n){this.onchange=e,this.magicBox=n,this.hasFocus=!1,this.root=i.Component.resolveRoot(t),this.underlay=document.createElement("div"),this.underlay.className="magic-box-underlay",this.highlightContainer=document.createElement("span"),this.highlightContainer.className="magic-box-highlight-container",this.underlay.appendChild(this.highlightContainer),this.ghostTextContainer=document.createElement("span"),this.ghostTextContainer.className="magic-box-ghost-text",this.underlay.appendChild(this.ghostTextContainer),this.input=u.$$(t).find("input"),this.input?t.insertBefore(this.underlay,this.input):(this.input=document.createElement("input"),t.appendChild(this.underlay),t.appendChild(this.input)),this.setupHandler(),this.addAccessibilitiesProperties()}return t.prototype.updateInput=function(){this.input.value!=this.result.input&&(this.input.value=this.result.input,this.hasFocus&&this.setCursor(this.getValue().length))},t.prototype.updateHighlight=function(){u.$$(this.highlightContainer).empty(),this.highlightContainer.appendChild(this.result.toHtmlElement())},t.prototype.updateWordCompletion=function(){u.$$(this.ghostTextContainer).empty(),this.ghostTextContainer.innerHTML="",null!=this.wordCompletion&&this.ghostTextContainer.appendChild(document.createTextNode(this.wordCompletion.substr(this.result.input.length)))},t.prototype.setResult=function(t,e){this.result=t,this.updateInput(),this.updateHighlight(),r.isUndefined(e)&&null!=this.wordCompletion&&0==this.wordCompletion.indexOf(this.result.input)?this.updateWordCompletion():this.setWordCompletion(e),this.updateScroll()},t.prototype.setWordCompletion=function(t){null!=t&&0!=t.toLowerCase().indexOf(this.result.input.toLowerCase())&&(t=null),this.wordCompletion=t,this.updateWordCompletion(),this.updateScroll()},t.prototype.setCursor=function(t){if(this.input.focus(),this.input.createTextRange){var e=this.input.createTextRange();e.move("character",t),e.select()}else null!=this.input.selectionStart&&(this.input.focus(),this.input.setSelectionRange(t,t))},t.prototype.getCursor=function(){return this.input.selectionStart},t.prototype.updateScroll=function(t){var e=this;void 0===t&&(t=!0);var n=function(){e.underlay.clientWidth<e.underlay.scrollWidth&&(e.underlay.style.visibility="hidden",e.underlay.scrollLeft=e.input.scrollLeft,e.underlay.scrollTop=e.input.scrollTop,e.underlay.style.visibility="visible"),e.updateScrollDefer=null,e.hasFocus&&e.updateScroll()};t?null==this.updateScrollDefer&&(this.updateScrollDefer=requestAnimationFrame(n)):n()},t.prototype.setupHandler=function(){var t=this;this.input.onblur=function(){t.hasFocus=!1,setTimeout(function(){t.hasFocus||t.onblur&&t.onblur()},300),t.updateScroll()},this.input.onfocus=function(){t.hasFocus||(t.hasFocus=!0,t.updateScroll(),t.onfocus&&t.onfocus())},this.input.onkeydown=function(e){t.keydown(e)},this.input.onkeyup=function(e){t.keyup(e)},this.input.oncut=function(){setTimeout(function(){t.onInputChange()})},this.input.onpaste=function(){setTimeout(function(){t.onInputChange()})}},t.prototype.addAccessibilitiesProperties=function(){this.input.setAttribute("type","text"),this.input.setAttribute("role","searchbox"),this.input.setAttribute("form","coveo-dummy-form"),this.input.setAttribute("aria-autocomplete","list"),this.input.setAttribute("title",o.l("InsertAQuery")+". "+o.l("PressEnterToSend"))},t.prototype.focus=function(){var t=this;this.hasFocus=!0,setTimeout(function(){t.input.focus(),t.setCursor(t.getValue().length)})},t.prototype.blur=function(){this.hasFocus&&this.input.blur()},t.prototype.keydown=function(t){var e=this;switch(t.keyCode||t.which){case s.KEYBOARD.TAB:this.tabPress(),this.magicBox.clearSuggestion();break;default:t.stopPropagation(),null==this.onkeydown||this.onkeydown(t.keyCode||t.which)?requestAnimationFrame(function(){e.onInputChange()}):t.preventDefault()}},t.prototype.keyup=function(t){switch(t.keyCode||t.which){case s.KEYBOARD.LEFT_ARROW:case s.KEYBOARD.RIGHT_ARROW:this.handleLeftRightArrow(t);break;default:null==this.onkeydown||this.onkeyup(t.keyCode||t.which)?this.onInputChange():t.preventDefault()}},t.prototype.handleLeftRightArrow=function(t){u.$$(this.root).find("."+i.Component.computeCssClassNameForType("QuerySuggestPreview"))||this.onchangecursor(),null==this.onkeydown||this.onkeyup(t.keyCode||t.which)?this.onInputChange():t.preventDefault()},t.prototype.tabPress=function(){this.ontabpress&&this.ontabpress(),this.onblur&&this.onblur()},t.prototype.onInputChange=function(){this.result.input!=this.input.value&&this.onchange(this.input.value,!1)},t.prototype.getValue=function(){return this.input.value},t.prototype.getWordCompletion=function(){return this.wordCompletion},t}();e.InputManager=a},466:function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){return t.forEach(function(t){return Promise.resolve(t).then(e,n)})})}var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function u(t){try{a(r.next(t))}catch(t){o(t)}}function s(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(u,s)}a((r=r.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(u=u.call(o,n[1])).done)return u;switch(o=0,u&&(n=[0,u.value]),n[0]){case 0:case 1:u=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){a.label=n[1];break}if(6===n[0]&&a.label<u[1]){a.label=u[1],u=n;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(n);break}u[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(t){n=[6,t],o=0}finally{i=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,u,s,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var s,a=n(0);!function(t){t[t.Finished=0]="Finished",t[t.TimedOut=1]="TimedOut",t[t.Overriden=2]="Overriden"}(s=e.ProcessingStatus||(e.ProcessingStatus={}));var l=function(){function t(t){void 0===t&&(t={}),this.options=i({timeout:500},t)}return t.prototype.processQueries=function(t){return o(this,void 0,void 0,function(){var e,n=this;return u(this,function(i){return this.overrideIfProcessing(),this.processedResults=new Array(t.length),e=t.map(function(t){return t instanceof Promise?t:Promise.resolve(t)}),[2,r([this.accumulateResultsChronologically(e).then(function(){return n.buildProcessResults(s.Finished)}),this.waitForOverride().then(function(){return n.buildProcessResults(s.Overriden)}),this.waitForTimeout().then(function(){return n.buildProcessResults(s.TimedOut)})])]})})},t.prototype.overrideIfProcessing=function(){return o(this,void 0,void 0,function(){return u(this,function(t){return this.override&&this.override(),[2]})})},Object.defineProperty(t.prototype,"orderedResults",{get:function(){return a.flatten(this.processedResults.filter(function(t){return!!t}),!0)},enumerable:!0,configurable:!0}),t.prototype.buildProcessResults=function(t){return{status:t,results:t!==s.Overriden?this.orderedResults:[]}},t.prototype.accumulateResultsChronologically=function(t){return o(this,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return e=this.processedResults,[4,Promise.all(t.map(function(t,n){return t.then(function(t){return e[n]=t})}))];case 1:return n.sent(),[2]}})})},t.prototype.waitForOverride=function(){var t=this;return new Promise(function(e){t.override=function(){t.override=null,e()}})},t.prototype.waitForTimeout=function(){var t=this;return new Promise(function(e){return setTimeout(function(){return e()},t.options.timeout)})},t}();e.QueryProcessor=l},467:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(461),i=n(463),o=n(127),u=n(208),s=n(464);e.Complete={include:[r.NestedQuery,i.QueryExtension,s.SubExpression,u.Field,o.Basic]}},468:function(t,e,n){"use strict";function r(t,e,n,r){s.each(r.expressions,function(e){s.contains(t,e)||t.push(e)}),s.each(r.basicExpressions,function(t){s.contains(e,t)||e.push(t)}),s.each(r.grammars,function(t,e){if(e in n){if(!s.isArray(n[e])||!s.isArray(t))throw s.each(t,function(t){n[e].push(t)}),new Error("Can not merge "+e+"("+JSON.stringify(t)+" => "+JSON.stringify(n[e])+")");s.each(t,function(t){n[e].push(t)})}else n[e]=t})}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],i=[],o={Start:["Expressions","Empty"],Expressions:"[OptionalSpaces][Expression][ExpressionsList*][OptionalSpaces]",ExpressionsList:"[Spaces][Expression]",Expression:n,BasicExpression:i,OptionalSpaces:/ */,Spaces:/ +/,Empty:/(?!.)/},u=0;u<t.length;u++)r(n,i,o,t[u]),s.each(t[u].include,function(e){s.contains(t,e)||t.push(e)});return n.push("BasicExpression"),{start:"Start",expressions:o}}function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=i.apply(this,t);return new u.Grammar(n.start,n.expressions)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(171),s=n(0);e.Expressions=i,e.ExpressionsGrammar=o},469:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.updateResultPreviewsManagerOptions="updateResultPreviewsManagerOptions",t.populateSearchResultPreviews="populateSearchResultPreviews",t}();e.ResultPreviewsManagerEvents=r},47:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(206),o=n(207),u=n(0),s=function(){function t(t,e,n){var r=this;this.expression=e,this.input=n,u.isString(t)?this.value=t:u.isArray(t)&&(this.subResults=t,u.forEach(this.subResults,function(t){t.parent=r}))}return t.prototype.isSuccess=function(){return null!=this.value||null!=this.subResults&&u.all(this.subResults,function(t){return t.isSuccess()})},t.prototype.path=function(t){var e=null!=this.parent&&this.parent!=t?this.parent.path(t):[];return e.push(this),e},t.prototype.findParent=function(t){for(var e=this,n=u.isString(t)?function(e){return t==e.expression.id}:t;null!=e&&!n(e);)e=e.parent;return e},t.prototype.find=function(t){var e=u.isString(t)?function(e){return t==e.expression.id}:t;if(e(this))return this;if(this.subResults)for(var n=0;n<this.subResults.length;n++){var r=this.subResults[n].find(e);if(r)return r}return null},t.prototype.findAll=function(t){var e=[],n=u.isString(t)?function(e){return t==e.expression.id}:t;return n(this)&&e.push(this),this.subResults&&(e=u.reduce(this.subResults,function(t,e){return t.concat(e.findAll(n))},e)),e},t.prototype.resultAt=function(t,e){if(t<0||t>this.getLength())return[];if(null!=e){if(u.isString(e)){if(e==this.expression.id)return[this]}else if(e(this))return[this]}else{if(null!=(null==this.value&&null==this.subResults?this.input:this.value))return[this]}if(null!=this.subResults){for(var n=[],r=0;r<this.subResults.length;r++){var i=this.subResults[r];if(n=n.concat(i.resultAt(t,e)),(t-=i.getLength())<0)break}return n}return[]},t.prototype.getExpect=function(){return null==this.value&&null==this.subResults?[this]:null!=this.subResults?u.reduce(this.subResults,function(t,e){return t.concat(e.getExpect())},[]):[]},t.prototype.getBestExpect=function(){var t=this.getExpect(),e=u.groupBy(t,function(t){return t.input}),n=u.last(u.keys(e).sort(function(t,e){return e.length-t.length})),r=e[n],e=u.groupBy(r,function(t){return t.expression.id});return u.map(e,function(t){return u.chain(t).map(function(t){return{path:t.path().length,result:t}}).sortBy("path").pluck("result").first().value()})},t.prototype.getHumanReadableExpect=function(){var t=this.getBestExpect(),e=t.length>0?u.last(t).input:"";return"Expected "+u.map(t,function(t){return t.getHumanReadable()}).join(" or ")+" but "+(e.length>0?JSON.stringify(e[0]):"end of input")+" found."},t.prototype.before=function(){if(null==this.parent)return"";var t=u.indexOf(this.parent.subResults,this);return this.parent.before()+u.chain(this.parent.subResults).first(t).map(function(t){return t.toString()}).join("").value()},t.prototype.after=function(){if(null==this.parent)return"";var t=u.indexOf(this.parent.subResults,this);return u.chain(this.parent.subResults).last(this.parent.subResults.length-t-1).map(function(t){return t.toString()}).join("").value()+this.parent.after()},t.prototype.getLength=function(){return null!=this.value?this.value.length:null!=this.subResults?u.reduce(this.subResults,function(t,e){return t+e.getLength()},0):this.input.length},t.prototype.toHtmlElement=function(){var t=document.createElement("span"),e=null!=this.expression?this.expression.id:null;return null!=e&&t.setAttribute("data-id",e),t.setAttribute("data-success",this.isSuccess().toString()),null!=this.value?(t.appendChild(document.createTextNode(this.value)),t.setAttribute("data-value",this.value)):null!=this.subResults?u.each(this.subResults,function(e){t.appendChild(e.toHtmlElement())}):(t.appendChild(document.createTextNode(this.input)),t.setAttribute("data-input",this.input),t.className="magic-box-error"+(this.input.length>0?"":" magic-box-error-empty")),t.result=this,t},t.prototype.clean=function(e){if(null!=e||!this.isSuccess()){e=e||u.last(this.getBestExpect()).path(this);var n=u.first(e);if(null!=n){var r=u.indexOf(this.subResults,n),i=-1==r?[]:u.map(u.first(this.subResults,r),function(t){return t.clean()});return i.push(n.clean(u.rest(e))),new t(i,this.expression,this.input)}return new t(null,this.expression,this.input)}return null!=this.value?new t(this.value,this.expression,this.input):null!=this.subResults?new t(u.map(this.subResults,function(t){return t.clean()}),this.expression,this.input):void 0},t.prototype.clone=function(){return null!=this.value?new t(this.value,this.expression,this.input):null!=this.subResults?new t(u.map(this.subResults,function(t){return t.clone()}),this.expression,this.input):new t(null,this.expression,this.input)},t.prototype.toString=function(){return null!=this.value?this.value:null!=this.subResults?u.map(this.subResults,function(t){return t.toString()}).join(""):this.input},t.prototype.getHumanReadable=function(){return this.expression instanceof o.ExpressionConstant?JSON.stringify(this.expression.value):this.expression.id},t}();e.Result=s;var a=function(t){function e(e){var n=t.call(this,[e],i.ExpressionEndOfInput,e.input)||this,r=new s(null,i.ExpressionEndOfInput,e.input.substr(e.getLength()));return r.parent=n,n.subResults.push(r),n}return r(e,t),e}(s);e.EndOfInputResult=a},470:function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t};Object.defineProperty(e,"__esModule",{value:!0});var i=n(27),o=function(){function t(t){this.owner=t}return Object.defineProperty(t.prototype,"options",{get:function(){return this.owner.options},set:function(t){this.owner.options=t},enumerable:!0,configurable:!0}),t.prototype.postProcess=function(){this.options=r({},this.options,this.owner.componentOptionsModel.get(i.ComponentOptionsModel.attributesEnum.searchBox)),this.processQueryOnClearVersusEmptyQuery(),this.processQueryOnClearVersusSearchAsYouType()},t.prototype.processQueryOnClearVersusEmptyQuery=function(){this.options.triggerQueryOnClear&&!1===this.owner.searchInterface.options.allowQueriesWithoutKeywords&&(this.owner.logger.warn('Forcing option triggerQueryOnClear to false, as it is not supported when the search interface is configured to not allow queries without keywords (data-allow-queries-without-keywords="false")',this.owner),this.options.triggerQueryOnClear=!1)},t.prototype.processQueryOnClearVersusSearchAsYouType=function(){!0===this.owner.searchInterface.options.allowQueriesWithoutKeywords&&!1===this.options.triggerQueryOnClear&&!0===this.options.enableSearchAsYouType&&(this.owner.logger.warn("Forcing option triggerQueryOnClear to true, since search-as-you-type is enabled",this.owner),this.options.triggerQueryOnClear=!0)},t}();e.QueryboxOptionsProcessing=o},471:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(68),o=function(){function t(t){this.options=t}return t.queryIsBlocked=function(){return!!t.queryIsCurrentlyBlocked||(t.queryIsCurrentlyBlocked=!0,i.Defer.defer(function(){return t.allowDuplicateQuery()}),!1)},t.allowDuplicateQuery=function(){t.queryIsCurrentlyBlocked=!1},t.prototype.addParameters=function(e,n){t.queryIsBlocked()||(this.options.enableWildcards&&(e.enableWildcards=!0),this.options.enableQuestionMarks&&(e.enableQuestionMarks=!0),this.options.enableLowercaseOperators&&(e.enableLowercaseOperators=!0),r.isEmpty(n)||(e.enableQuerySyntax=this.options.enableQuerySyntax,e.expression.add(n),this.options.enablePartialMatch&&(e.enablePartialMatch=this.options.enablePartialMatch,this.options.partialMatchKeywords&&(e.partialMatchKeywords=this.options.partialMatchKeywords),this.options.partialMatchThreshold&&(e.partialMatchThreshold=this.options.partialMatchThreshold))))},t.queryIsCurrentlyBlocked=!1,t}();e.QueryboxQueryParameters=o},527:function(t,e,n){"use strict";function r(){i.exportGlobally({MagicBox:{EndOfInputResult:b.EndOfInputResult,ExpressionConstant:o.ExpressionConstant,ExpressionEndOfInput:u.ExpressionEndOfInput,ExpressionFunction:s.ExpressionFunction,ExpressionList:a.ExpressionList,ExpressionOptions:l.ExpressionOptions,ExpressionRef:c.ExpressionRef,ExpressionRegExp:f.ExpressionRegExp,Grammar:p.Grammar,Grammars:h.Grammars,InputManager:g.InputManager,Instance:d.MagicBoxInstance,OptionResult:v.OptionResult,RefResult:m.RefResult,Result:b.Result,SuggestionsManager:x.SuggestionsManager,Utils:y.MagicBoxUtils,create:d.createMagicBox,requestAnimationFrame:d.requestAnimationFrame}})}Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),o=n(207),u=n(206),s=n(459),a=n(460),l=n(456),c=n(454),f=n(458),p=n(171),h=n(528),g=n(465),d=n(211),y=n(212),v=n(457),m=n(455),b=n(47),x=n(209);e.GrammarsImportedLocally=h.Grammars,e.doMagicBoxExport=r},528:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(127),i=n(467),o=n(462),u=n(468),s=n(208),a=n(461),l=n(463),c=n(464);e.Grammars={Basic:r.Basic,notInWord:r.notInWord,notWordStart:r.notWordStart,Complete:i.Complete,Date:o.Date,Expressions:u.Expressions,ExpressionsGrammar:u.ExpressionsGrammar,Field:s.Field,NestedQuery:a.NestedQuery,QueryExtension:l.QueryExtension,SubExpression:c.SubExpression}},529:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function u(t){try{a(r.next(t))}catch(t){o(t)}}function s(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(u,s)}a((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(u=u.call(o,n[1])).done)return u;switch(o=0,u&&(n=[0,u.value]),n[0]){case 0:case 1:u=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){a.label=n[1];break}if(6===n[0]&&a.label<u[1]){a.label=u[1],u=n;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(n);break}u[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(t){n=[6,t],o=0}finally{i=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,u,s,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),u=n(7),s=n(530),a=n(6),l=n(209),c=n(469),f=n(466),p=n(4),h=function(){function t(t,e){void 0===e&&(e={}),this.element=t,this.options=s.defaults(e,{previewHeaderText:u.l("QuerySuggestPreview"),previewClass:"coveo-preview-selectable",selectedClass:"magic-box-selected"}),this.root=a.Component.resolveRoot(t),this.previewsProcessor=new f.QueryProcessor({timeout:this.options.timeout})}return Object.defineProperty(t.prototype,"previewsOwner",{get:function(){return this.lastDisplayedSuggestion},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPreviews",{get:function(){return!!this.suggestionsPreviewContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusedPreviewElement",{get:function(){if(!this.hasPreviews)return null;var t=this.suggestionsPreviewContainer.findClass(this.options.selectedClass)[0];return t&&t.classList.contains(this.options.previewClass)?t:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"previewElements",{get:function(){return this.hasPreviews?this.suggestionsPreviewContainer.findClass(this.options.previewClass):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"suggestionsListbox",{get:function(){return o.$$(o.$$(this.element).findClass("coveo-magicbox-suggestions")[0])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberOfResultsPerRow",{get:function(){var t=this.suggestionsPreviewContainer.findClass(this.options.previewClass);if(0===t.length)return 0;var e=t[0].offsetTop,n=s.findIndex(t,function(t){return t.offsetTop!==e});return-1!==n?n:t.length},enumerable:!0,configurable:!0}),t.prototype.displaySearchResultPreviewsForSuggestion=function(t){return r(this,void 0,void 0,function(){var e,n,r,o,u,s,a;return i(this,function(i){switch(i.label){case 0:return e=this.getExternalOptions(),n=this.lastDelay=p.Utils.resolveAfter(p.Utils.isNullOrUndefined(e.displayAfterDuration)?200:e.displayAfterDuration),[4,n];case 1:return i.sent(),n!==this.lastDelay?[2]:(r=t&&this.lastQueriedSuggestion===t)?[2]:(o=this.lastDisplayedSuggestion===t)?(this.previewsProcessor.overrideIfProcessing(),this.lastQueriedSuggestion=null,[2]):(this.lastQueriedSuggestion=t,t?[4,this.getSearchResultPreviewsQuery(t)]:(this.displaySuggestionPreviews(null,[]),[2]));case 2:return u=i.sent(),(s=u.status,a=u.results,s===f.ProcessingStatus.Overriden)?[2]:(this.lastQueriedSuggestion=null,this.displaySuggestionPreviews(t,a),[2])}})})},t.prototype.getElementInDirection=function(t){var e=this.previewElements,n=e.indexOf(this.focusedPreviewElement);return-1===n?null:0===n&&t===l.Direction.Left?null:e[(n+this.getIncrementInDirection(t))%e.length]},t.prototype.getIncrementInDirection=function(t){switch(t){case l.Direction.Left:return-1;case l.Direction.Right:return 1;case l.Direction.Up:return-this.numberOfResultsPerRow;case l.Direction.Down:return this.numberOfResultsPerRow}},t.prototype.setHasPreviews=function(t){this.hasPreviews!==!!t&&(t?this.initPreviewForSuggestions():this.revertPreviewForSuggestions())},t.prototype.initPreviewForSuggestions=function(){this.suggestionsPreviewContainer=o.$$("div",{className:"coveo-suggestion-container"},this.suggestionsListbox.el,this.buildPreviewContainer()),this.element.appendChild(this.suggestionsPreviewContainer.el)},t.prototype.revertPreviewForSuggestions=function(){this.element.appendChild(this.suggestionsListbox.el),this.suggestionsPreviewContainer.remove(),this.suggestionsPreviewContainer=null},t.prototype.buildPreviewContainer=function(){return o.$$("div",{className:"coveo-preview-container"},this.resultPreviewsHeader=o.$$("div",{className:"coveo-preview-header"}),this.resultPreviewsContainer=o.$$("div",{className:"coveo-preview-results"})).el},t.prototype.getExternalOptions=function(){var t={};return o.$$(this.root).trigger(c.ResultPreviewsManagerEvents.updateResultPreviewsManagerOptions,t),t},t.prototype.getSearchResultPreviewsQuery=function(t){var e={suggestionText:t.innerText,previewsQueries:[]};return o.$$(this.root).trigger(c.ResultPreviewsManagerEvents.populateSearchResultPreviews,e),this.previewsProcessor.processQueries(e.previewsQueries)},t.prototype.updateSearchResultPreviewsHeader=function(t){this.resultPreviewsHeader.text(this.options.previewHeaderText+' "'+t+'"')},t.prototype.appendSearchResultPreview=function(t){this.resultPreviewsContainer.append(t.element);var e=o.$$(t.element);e.on("click",function(){return t.onSelect()}),e.on("keyboardSelect",function(){return t.onSelect()})},t.prototype.appendSearchResultPreviews=function(t){var e=this;this.resultPreviewsContainer.empty(),t.forEach(function(t){return e.appendSearchResultPreview(t)})},t.prototype.displaySuggestionPreviews=function(t,e){this.setHasPreviews(e&&e.length>0),this.element.classList.toggle("magic-box-hasPreviews",this.hasPreviews),this.lastDisplayedSuggestion=t,this.hasPreviews&&(this.appendSearchResultPreviews(e),this.updateSearchResultPreviewsHeader(t.innerText))},t}();e.ResultPreviewsManager=h},530:function(t,e,n){(function(t,r){var i;(function(){function o(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function u(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var u=t[i];e(r,u,n(u),t)}return r}function s(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function a(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function l(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function c(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var u=t[n];e(u,n,t)&&(o[i++]=u)}return o}function f(t,e){return!!(null==t?0:t.length)&&S(t,e,0)>-1}function p(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function h(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function g(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function d(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function y(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function v(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function m(t){return t.split("")}function b(t){return t.match(je)||[]}function x(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function _(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function S(t,e,n){return e===e?H(t,e,n):_(t,O,n)}function w(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function O(t){return t!==t}function E(t,e){var n=null==t?0:t.length;return n?P(t,e)/n:$t}function A(t){return function(e){return null==e?nt:e[t]}}function C(t){return function(e){return null==t?nt:t[e]}}function R(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function Q(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function P(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==nt&&(n=n===nt?o:n+o)}return n}function T(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function B(t,e){return h(e,function(e){return[e,t[e]]})}function $(t){return function(e){return t(e)}}function M(t,e){return h(e,function(e){return t[e]})}function F(t,e){return t.has(e)}function I(t,e){for(var n=-1,r=t.length;++n<r&&S(e,t[n],0)>-1;);return n}function j(t,e){for(var n=t.length;n--&&S(e,t[n],0)>-1;);return n}function D(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function N(t){return"\\"+En[t]}function k(t,e){return null==t?nt:t[e]}function L(t){return yn.test(t)}function W(t){return vn.test(t)}function V(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function U(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function q(t,e){return function(n){return t(e(n))}}function z(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var u=t[n];u!==e&&u!==at||(t[n]=at,o[i++]=n)}return o}function Y(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function H(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function K(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function Z(t){return L(t)?X(t):Wn(t)}function J(t){return L(t)?tt(t):m(t)}function X(t){for(var e=gn.lastIndex=0;gn.test(t);)++e;return e}function tt(t){return t.match(gn)||[]}function et(t){return t.match(dn)||[]}var nt,rt=200,it="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ot="Expected a function",ut="__lodash_hash_undefined__",st=500,at="__lodash_placeholder__",lt=1,ct=2,ft=4,pt=1,ht=2,gt=1,dt=2,yt=4,vt=8,mt=16,bt=32,xt=64,_t=128,St=256,wt=512,Ot=30,Et="...",At=800,Ct=16,Rt=1,Qt=2,Pt=1/0,Tt=9007199254740991,Bt=1.7976931348623157e308,$t=NaN,Mt=4294967295,Ft=Mt-1,It=Mt>>>1,jt=[["ary",_t],["bind",gt],["bindKey",dt],["curry",vt],["curryRight",mt],["flip",wt],["partial",bt],["partialRight",xt],["rearg",St]],Dt="[object Arguments]",Nt="[object Array]",kt="[object AsyncFunction]",Lt="[object Boolean]",Wt="[object Date]",Vt="[object DOMException]",Ut="[object Error]",qt="[object Function]",zt="[object GeneratorFunction]",Yt="[object Map]",Gt="[object Number]",Ht="[object Null]",Kt="[object Object]",Zt="[object Proxy]",Jt="[object RegExp]",Xt="[object Set]",te="[object String]",ee="[object Symbol]",ne="[object Undefined]",re="[object WeakMap]",ie="[object WeakSet]",oe="[object ArrayBuffer]",ue="[object DataView]",se="[object Float32Array]",ae="[object Float64Array]",le="[object Int8Array]",ce="[object Int16Array]",fe="[object Int32Array]",pe="[object Uint8Array]",he="[object Uint8ClampedArray]",ge="[object Uint16Array]",de="[object Uint32Array]",ye=/\b__p \+= '';/g,ve=/\b(__p \+=) '' \+/g,me=/(__e\(.*?\)|\b__t\)) \+\n'';/g,be=/&(?:amp|lt|gt|quot|#39);/g,xe=/[&<>"']/g,_e=RegExp(be.source),Se=RegExp(xe.source),we=/<%-([\s\S]+?)%>/g,Oe=/<%([\s\S]+?)%>/g,Ee=/<%=([\s\S]+?)%>/g,Ae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ce=/^\w*$/,Re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qe=/[\\^$.*+?()[\]{}|]/g,Pe=RegExp(Qe.source),Te=/^\s+|\s+$/g,Be=/^\s+/,$e=/\s+$/,Me=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fe=/\{\n\/\* \[wrapped with (.+)\] \*/,Ie=/,? & /,je=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,De=/\\(\\)?/g,Ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ke=/\w*$/,Le=/^[-+]0x[0-9a-f]+$/i,We=/^0b[01]+$/i,Ve=/^\[object .+?Constructor\]$/,Ue=/^0o[0-7]+$/i,qe=/^(?:0|[1-9]\d*)$/,ze=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ye=/($^)/,Ge=/['\n\r\u2028\u2029\\]/g,He="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ke="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ze="["+Ke+"]",Je="["+He+"]",Xe="[a-z\\xdf-\\xf6\\xf8-\\xff]",tn="[^\\ud800-\\udfff"+Ke+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",en="\\ud83c[\\udffb-\\udfff]",nn="(?:\\ud83c[\\udde6-\\uddff]){2}",rn="[\\ud800-\\udbff][\\udc00-\\udfff]",on="[A-Z\\xc0-\\xd6\\xd8-\\xde]",un="(?:"+Xe+"|"+tn+")",sn="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",an="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",nn,rn].join("|")+")[\\ufe0e\\ufe0f]?"+sn+")*",ln="[\\ufe0e\\ufe0f]?"+sn+an,cn="(?:"+["[\\u2700-\\u27bf]",nn,rn].join("|")+")"+ln,fn="(?:"+["[^\\ud800-\\udfff]"+Je+"?",Je,nn,rn,"[\\ud800-\\udfff]"].join("|")+")",pn=RegExp("[']","g"),hn=RegExp(Je,"g"),gn=RegExp(en+"(?="+en+")|"+fn+ln,"g"),dn=RegExp([on+"?"+Xe+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[Ze,on,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[Ze,on+un,"$"].join("|")+")",on+"?"+un+"+(?:['](?:d|ll|m|re|s|t|ve))?",on+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",cn].join("|"),"g"),yn=RegExp("[\\u200d\\ud800-\\udfff"+He+"\\ufe0e\\ufe0f]"),vn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,mn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bn=-1,xn={};xn[se]=xn[ae]=xn[le]=xn[ce]=xn[fe]=xn[pe]=xn[he]=xn[ge]=xn[de]=!0,xn[Dt]=xn[Nt]=xn[oe]=xn[Lt]=xn[ue]=xn[Wt]=xn[Ut]=xn[qt]=xn[Yt]=xn[Gt]=xn[Kt]=xn[Jt]=xn[Xt]=xn[te]=xn[re]=!1;var _n={};_n[Dt]=_n[Nt]=_n[oe]=_n[ue]=_n[Lt]=_n[Wt]=_n[se]=_n[ae]=_n[le]=_n[ce]=_n[fe]=_n[Yt]=_n[Gt]=_n[Kt]=_n[Jt]=_n[Xt]=_n[te]=_n[ee]=_n[pe]=_n[he]=_n[ge]=_n[de]=!0,_n[Ut]=_n[qt]=_n[re]=!1;var Sn={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},wn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},On={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},En={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},An=parseFloat,Cn=parseInt,Rn="object"==typeof t&&t&&t.Object===Object&&t,Qn="object"==typeof self&&self&&self.Object===Object&&self,Pn=Rn||Qn||Function("return this")(),Tn="object"==typeof e&&e&&!e.nodeType&&e,Bn=Tn&&"object"==typeof r&&r&&!r.nodeType&&r,$n=Bn&&Bn.exports===Tn,Mn=$n&&Rn.process,Fn=function(){try{var t=Bn&&Bn.require&&Bn.require("util").types;return t||Mn&&Mn.binding&&Mn.binding("util")}catch(t){}}(),In=Fn&&Fn.isArrayBuffer,jn=Fn&&Fn.isDate,Dn=Fn&&Fn.isMap,Nn=Fn&&Fn.isRegExp,kn=Fn&&Fn.isSet,Ln=Fn&&Fn.isTypedArray,Wn=A("length"),Vn=C(Sn),Un=C(wn),qn=C(On),zn=function t(e){function n(t){if(ea(t)&&!hp(t)&&!(t instanceof m)){if(t instanceof i)return t;if(pc.call(t,"__wrapped__"))return Jo(t)}return new i(t)}function r(){}function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=nt}function m(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Mt,this.__views__=[]}function C(){var t=new m(this.__wrapped__);return t.__actions__=Bi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Bi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Bi(this.__views__),t}function H(){if(this.__filtered__){var t=new m(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function X(){var t=this.__wrapped__.value(),e=this.__dir__,n=hp(t),r=e<0,i=n?t.length:0,o=So(0,i,this.__views__),u=o.start,s=o.end,a=s-u,l=r?s:u-1,c=this.__iteratees__,f=c.length,p=0,h=Wc(a,this.__takeCount__);if(!n||!r&&i==a&&h==a)return di(t,this.__actions__);var g=[];t:for(;a--&&p<h;){l+=e;for(var d=-1,y=t[l];++d<f;){var v=c[d],m=v.iteratee,b=v.type,x=m(y);if(b==Qt)y=x;else if(!x){if(b==Rt)continue t;break t}}g[p++]=y}return g}function tt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function je(){this.__data__=Jc?Jc(null):{},this.size=0}function He(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Ke(t){var e=this.__data__;if(Jc){var n=e[t];return n===ut?nt:n}return pc.call(e,t)?e[t]:nt}function Ze(t){var e=this.__data__;return Jc?e[t]!==nt:pc.call(e,t)}function Je(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Jc&&e===nt?ut:e,this}function Xe(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tn(){this.__data__=[],this.size=0}function en(t){var e=this.__data__,n=Yn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Ac.call(e,n,1),--this.size,!0)}function nn(t){var e=this.__data__,n=Yn(e,t);return n<0?nt:e[n][1]}function rn(t){return Yn(this.__data__,t)>-1}function on(t,e){var n=this.__data__,r=Yn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function un(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function sn(){this.size=0,this.__data__={hash:new tt,map:new(Gc||Xe),string:new tt}}function an(t){var e=mo(this,t).delete(t);return this.size-=e?1:0,e}function ln(t){return mo(this,t).get(t)}function cn(t){return mo(this,t).has(t)}function fn(t,e){var n=mo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function gn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new un;++e<n;)this.add(t[e])}function dn(t){return this.__data__.set(t,ut),this}function yn(t){return this.__data__.has(t)}function vn(t){var e=this.__data__=new Xe(t);this.size=e.size}function Sn(){this.__data__=new Xe,this.size=0}function wn(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function On(t){return this.__data__.get(t)}function En(t){return this.__data__.has(t)}function Rn(t,e){var n=this.__data__;if(n instanceof Xe){var r=n.__data__;if(!Gc||r.length<rt-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new un(r)}return n.set(t,e),this.size=n.size,this}function Qn(t,e){var n=hp(t),r=!n&&pp(t),i=!n&&!r&&dp(t),o=!n&&!r&&!i&&xp(t),u=n||r||i||o,s=u?T(t.length,oc):[],a=s.length;for(var l in t)!e&&!pc.call(t,l)||u&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Po(l,a))||s.push(l);return s}function Tn(t){var e=t.length;return e?t[Kr(0,e-1)]:nt}function Bn(t,e){return Go(Bi(t),Xn(e,0,t.length))}function Mn(t){return Go(Bi(t))}function Fn(t,e,n){(n===nt||Ls(t[e],n))&&(n!==nt||e in t)||Zn(t,e,n)}function Wn(t,e,n){var r=t[e];pc.call(t,e)&&Ls(r,n)&&(n!==nt||e in t)||Zn(t,e,n)}function Yn(t,e){for(var n=t.length;n--;)if(Ls(t[n][0],e))return n;return-1}function Gn(t,e,n,r){return ff(t,function(t,i,o){e(r,t,n(t),o)}),r}function Hn(t,e){return t&&$i(e,Ia(e),t)}function Kn(t,e){return t&&$i(e,ja(e),t)}function Zn(t,e,n){"__proto__"==e&&Pc?Pc(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Jn(t,e){for(var n=-1,r=e.length,i=Jl(r),o=null==t;++n<r;)i[n]=o?nt:$a(t,e[n]);return i}function Xn(t,e,n){return t===t&&(n!==nt&&(t=t<=n?t:n),e!==nt&&(t=t>=e?t:e)),t}function tr(t,e,n,r,i,o){var u,a=e&lt,l=e&ct,c=e&ft;if(n&&(u=i?n(t,r,i,o):n(t)),u!==nt)return u;if(!ta(t))return t;var f=hp(t);if(f){if(u=Eo(t),!a)return Bi(t,u)}else{var p=wf(t),h=p==qt||p==zt;if(dp(t))return Si(t,a);if(p==Kt||p==Dt||h&&!i){if(u=l||h?{}:Ao(t),!a)return l?Fi(t,Kn(u,t)):Mi(t,Hn(u,t))}else{if(!_n[p])return i?t:{};u=Co(t,p,a)}}o||(o=new vn);var g=o.get(t);if(g)return g;if(o.set(t,u),bp(t))return t.forEach(function(r){u.add(tr(r,e,n,r,t,o))}),u;if(vp(t))return t.forEach(function(r,i){u.set(i,tr(r,e,n,i,t,o))}),u;var d=c?l?ho:po:l?ja:Ia,y=f?nt:d(t);return s(y||t,function(r,i){y&&(i=r,r=t[i]),Wn(u,i,tr(r,e,n,i,t,o))}),u}function er(t){var e=Ia(t);return function(n){return nr(n,t,e)}}function nr(t,e,n){var r=n.length;if(null==t)return!r;for(t=rc(t);r--;){var i=n[r],o=e[i],u=t[i];if(u===nt&&!(i in t)||!o(u))return!1}return!0}function rr(t,e,n){if("function"!=typeof t)throw new uc(ot);return Af(function(){t.apply(nt,n)},e)}function ir(t,e,n,r){var i=-1,o=f,u=!0,s=t.length,a=[],l=e.length;if(!s)return a;n&&(e=h(e,$(n))),r?(o=p,u=!1):e.length>=rt&&(o=F,u=!1,e=new gn(e));t:for(;++i<s;){var c=t[i],g=null==n?c:n(c);if(c=r||0!==c?c:0,u&&g===g){for(var d=l;d--;)if(e[d]===g)continue t;a.push(c)}else o(e,g,r)||a.push(c)}return a}function or(t,e){var n=!0;return ff(t,function(t,r,i){return n=!!e(t,r,i)}),n}function ur(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],u=e(o);if(null!=u&&(s===nt?u===u&&!pa(u):n(u,s)))var s=u,a=o}return a}function sr(t,e,n,r){var i=t.length;for(n=ma(n),n<0&&(n=-n>i?0:i+n),r=r===nt||r>i?i:ma(r),r<0&&(r+=i),r=n>r?0:ba(r);n<r;)t[n++]=e;return t}function ar(t,e){var n=[];return ff(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function lr(t,e,n,r,i){var o=-1,u=t.length;for(n||(n=Qo),i||(i=[]);++o<u;){var s=t[o];e>0&&n(s)?e>1?lr(s,e-1,n,r,i):g(i,s):r||(i[i.length]=s)}return i}function cr(t,e){return t&&hf(t,e,Ia)}function fr(t,e){return t&&gf(t,e,Ia)}function pr(t,e){return c(e,function(e){return Zs(t[e])})}function hr(t,e){e=xi(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[Ho(e[n++])];return n&&n==r?t:nt}function gr(t,e,n){var r=e(t);return hp(t)?r:g(r,n(t))}function dr(t){return null==t?t===nt?ne:Ht:Qc&&Qc in rc(t)?_o(t):Lo(t)}function yr(t,e){return t>e}function vr(t,e){return null!=t&&pc.call(t,e)}function mr(t,e){return null!=t&&e in rc(t)}function br(t,e,n){return t>=Wc(e,n)&&t<Lc(e,n)}function xr(t,e,n){for(var r=n?p:f,i=t[0].length,o=t.length,u=o,s=Jl(o),a=1/0,l=[];u--;){var c=t[u];u&&e&&(c=h(c,$(e))),a=Wc(c.length,a),s[u]=!n&&(e||i>=120&&c.length>=120)?new gn(u&&c):nt}c=t[0];var g=-1,d=s[0];t:for(;++g<i&&l.length<a;){var y=c[g],v=e?e(y):y;if(y=n||0!==y?y:0,!(d?F(d,v):r(l,v,n))){for(u=o;--u;){var m=s[u];if(!(m?F(m,v):r(t[u],v,n)))continue t}d&&d.push(v),l.push(y)}}return l}function _r(t,e,n,r){return cr(t,function(t,i,o){e(r,n(t),i,o)}),r}function Sr(t,e,n){e=xi(e,t),t=Vo(t,e);var r=null==t?t:t[Ho(vu(e))];return null==r?nt:o(r,t,n)}function wr(t){return ea(t)&&dr(t)==Dt}function Or(t){return ea(t)&&dr(t)==oe}function Er(t){return ea(t)&&dr(t)==Wt}function Ar(t,e,n,r,i){return t===e||(null==t||null==e||!ea(t)&&!ea(e)?t!==t&&e!==e:Cr(t,e,n,r,Ar,i))}function Cr(t,e,n,r,i,o){var u=hp(t),s=hp(e),a=u?Nt:wf(t),l=s?Nt:wf(e);a=a==Dt?Kt:a,l=l==Dt?Kt:l;var c=a==Kt,f=l==Kt,p=a==l;if(p&&dp(t)){if(!dp(e))return!1;u=!0,c=!1}if(p&&!c)return o||(o=new vn),u||xp(t)?ao(t,e,n,r,i,o):lo(t,e,a,n,r,i,o);if(!(n&pt)){var h=c&&pc.call(t,"__wrapped__"),g=f&&pc.call(e,"__wrapped__");if(h||g){var d=h?t.value():t,y=g?e.value():e;return o||(o=new vn),i(d,y,n,r,o)}}return!!p&&(o||(o=new vn),co(t,e,n,r,i,o))}function Rr(t){return ea(t)&&wf(t)==Yt}function Qr(t,e,n,r){var i=n.length,o=i,u=!r;if(null==t)return!o;for(t=rc(t);i--;){var s=n[i];if(u&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var a=s[0],l=t[a],c=s[1];if(u&&s[2]){if(l===nt&&!(a in t))return!1}else{var f=new vn;if(r)var p=r(l,c,a,t,e,f);if(!(p===nt?Ar(c,l,pt|ht,r,f):p))return!1}}return!0}function Pr(t){return!(!ta(t)||Fo(t))&&(Zs(t)?mc:Ve).test(Ko(t))}function Tr(t){return ea(t)&&dr(t)==Jt}function Br(t){return ea(t)&&wf(t)==Xt}function $r(t){return ea(t)&&Xs(t.length)&&!!xn[dr(t)]}function Mr(t){return"function"==typeof t?t:null==t?Al:"object"==typeof t?hp(t)?kr(t[0],t[1]):Nr(t):Ml(t)}function Fr(t){if(!Io(t))return kc(t);var e=[];for(var n in rc(t))pc.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ir(t){if(!ta(t))return ko(t);var e=Io(t),n=[];for(var r in t)("constructor"!=r||!e&&pc.call(t,r))&&n.push(r);return n}function jr(t,e){return t<e}function Dr(t,e){var n=-1,r=Ws(t)?Jl(t.length):[];return ff(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function Nr(t){var e=bo(t);return 1==e.length&&e[0][2]?Do(e[0][0],e[0][1]):function(n){return n===t||Qr(n,t,e)}}function kr(t,e){return Bo(t)&&jo(e)?Do(Ho(t),e):function(n){var r=$a(n,t);return r===nt&&r===e?Fa(n,t):Ar(e,r,pt|ht)}}function Lr(t,e,n,r,i){t!==e&&hf(e,function(o,u){if(ta(o))i||(i=new vn),Wr(t,e,u,n,Lr,r,i);else{var s=r?r(qo(t,u),o,u+"",t,e,i):nt;s===nt&&(s=o),Fn(t,u,s)}},ja)}function Wr(t,e,n,r,i,o,u){var s=qo(t,n),a=qo(e,n),l=u.get(a);if(l)return void Fn(t,n,l);var c=o?o(s,a,n+"",t,e,u):nt,f=c===nt;if(f){var p=hp(a),h=!p&&dp(a),g=!p&&!h&&xp(a);c=a,p||h||g?hp(s)?c=s:Vs(s)?c=Bi(s):h?(f=!1,c=Si(a,!0)):g?(f=!1,c=Ci(a,!0)):c=[]:la(a)||pp(a)?(c=s,pp(s)?c=_a(s):ta(s)&&!Zs(s)||(c=Ao(a))):f=!1}f&&(u.set(a,c),i(c,a,r,o,u),u.delete(a)),Fn(t,n,c)}function Vr(t,e){var n=t.length;if(n)return e+=e<0?n:0,Po(e,n)?t[e]:nt}function Ur(t,e,n){var r=-1;return e=h(e.length?e:[Al],$(vo())),Q(Dr(t,function(t,n,i){return{criteria:h(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return Qi(t,e,n)})}function qr(t,e){return zr(t,e,function(e,n){return Fa(t,n)})}function zr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var u=e[r],s=hr(t,u);n(s,u)&&ni(o,xi(u,t),s)}return o}function Yr(t){return function(e){return hr(e,t)}}function Gr(t,e,n,r){var i=r?w:S,o=-1,u=e.length,s=t;for(t===e&&(e=Bi(e)),n&&(s=h(t,$(n)));++o<u;)for(var a=0,l=e[o],c=n?n(l):l;(a=i(s,c,a,r))>-1;)s!==t&&Ac.call(s,a,1),Ac.call(t,a,1);return t}function Hr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Po(i)?Ac.call(t,i,1):pi(t,i)}}return t}function Kr(t,e){return t+Fc(qc()*(e-t+1))}function Zr(t,e,n,r){for(var i=-1,o=Lc(Mc((e-t)/(n||1)),0),u=Jl(o);o--;)u[r?o:++i]=t,t+=n;return u}function Jr(t,e){var n="";if(!t||e<1||e>Tt)return n;do{e%2&&(n+=t),(e=Fc(e/2))&&(t+=t)}while(e);return n}function Xr(t,e){return Cf(Wo(t,e,Al),t+"")}function ti(t){return Tn(Ha(t))}function ei(t,e){var n=Ha(t);return Go(n,Xn(e,0,n.length))}function ni(t,e,n,r){if(!ta(t))return t;e=xi(e,t);for(var i=-1,o=e.length,u=o-1,s=t;null!=s&&++i<o;){var a=Ho(e[i]),l=n;if(i!=u){var c=s[a];l=r?r(c,a,s):nt,l===nt&&(l=ta(c)?c:Po(e[i+1])?[]:{})}Wn(s,a,l),s=s[a]}return t}function ri(t){return Go(Ha(t))}function ii(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Jl(i);++r<i;)o[r]=t[r+e];return o}function oi(t,e){var n;return ff(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function ui(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=It){for(;r<i;){var o=r+i>>>1,u=t[o];null!==u&&!pa(u)&&(n?u<=e:u<e)?r=o+1:i=o}return i}return si(t,e,Al,n)}function si(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,u=e!==e,s=null===e,a=pa(e),l=e===nt;i<o;){var c=Fc((i+o)/2),f=n(t[c]),p=f!==nt,h=null===f,g=f===f,d=pa(f);if(u)var y=r||g;else y=l?g&&(r||p):s?g&&p&&(r||!h):a?g&&p&&!h&&(r||!d):!h&&!d&&(r?f<=e:f<e);y?i=c+1:o=c}return Wc(o,Ft)}function ai(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var u=t[n],s=e?e(u):u;if(!n||!Ls(s,a)){var a=s;o[i++]=0===u?0:u}}return o}function li(t){return"number"==typeof t?t:pa(t)?$t:+t}function ci(t){if("string"==typeof t)return t;if(hp(t))return h(t,ci)+"";if(pa(t))return lf?lf.call(t):"";var e=t+"";return"0"==e&&1/t==-Pt?"-0":e}function fi(t,e,n){var r=-1,i=f,o=t.length,u=!0,s=[],a=s;if(n)u=!1,i=p;else if(o>=rt){var l=e?null:bf(t);if(l)return Y(l);u=!1,i=F,a=new gn}else a=e?[]:s;t:for(;++r<o;){var c=t[r],h=e?e(c):c;if(c=n||0!==c?c:0,u&&h===h){for(var g=a.length;g--;)if(a[g]===h)continue t;e&&a.push(h),s.push(c)}else i(a,h,n)||(a!==s&&a.push(h),s.push(c))}return s}function pi(t,e){return e=xi(e,t),null==(t=Vo(t,e))||delete t[Ho(vu(e))]}function hi(t,e,n,r){return ni(t,e,n(hr(t,e)),r)}function gi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ii(t,r?0:o,r?o+1:i):ii(t,r?o+1:0,r?i:o)}function di(t,e){var n=t;return n instanceof m&&(n=n.value()),d(e,function(t,e){return e.func.apply(e.thisArg,g([t],e.args))},n)}function yi(t,e,n){var r=t.length;if(r<2)return r?fi(t[0]):[];for(var i=-1,o=Jl(r);++i<r;)for(var u=t[i],s=-1;++s<r;)s!=i&&(o[i]=ir(o[i]||u,t[s],e,n));return fi(lr(o,1),e,n)}function vi(t,e,n){for(var r=-1,i=t.length,o=e.length,u={};++r<i;){var s=r<o?e[r]:nt;n(u,t[r],s)}return u}function mi(t){return Vs(t)?t:[]}function bi(t){return"function"==typeof t?t:Al}function xi(t,e){return hp(t)?t:Bo(t,e)?[t]:Rf(wa(t))}function _i(t,e,n){var r=t.length;return n=n===nt?r:n,!e&&n>=r?t:ii(t,e,n)}function Si(t,e){if(e)return t.slice();var n=t.length,r=Sc?Sc(n):new t.constructor(n);return t.copy(r),r}function wi(t){var e=new t.constructor(t.byteLength);return new _c(e).set(new _c(t)),e}function Oi(t,e){var n=e?wi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Ei(t){var e=new t.constructor(t.source,ke.exec(t));return e.lastIndex=t.lastIndex,e}function Ai(t){return af?rc(af.call(t)):{}}function Ci(t,e){var n=e?wi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ri(t,e){if(t!==e){var n=t!==nt,r=null===t,i=t===t,o=pa(t),u=e!==nt,s=null===e,a=e===e,l=pa(e);if(!s&&!l&&!o&&t>e||o&&u&&a&&!s&&!l||r&&u&&a||!n&&a||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||s&&n&&i||!u&&i||!a)return-1}return 0}function Qi(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,u=i.length,s=n.length;++r<u;){var a=Ri(i[r],o[r]);if(a){if(r>=s)return a;return a*("desc"==n[r]?-1:1)}}return t.index-e.index}function Pi(t,e,n,r){for(var i=-1,o=t.length,u=n.length,s=-1,a=e.length,l=Lc(o-u,0),c=Jl(a+l),f=!r;++s<a;)c[s]=e[s];for(;++i<u;)(f||i<o)&&(c[n[i]]=t[i]);for(;l--;)c[s++]=t[i++];return c}function Ti(t,e,n,r){for(var i=-1,o=t.length,u=-1,s=n.length,a=-1,l=e.length,c=Lc(o-s,0),f=Jl(c+l),p=!r;++i<c;)f[i]=t[i];for(var h=i;++a<l;)f[h+a]=e[a];for(;++u<s;)(p||i<o)&&(f[h+n[u]]=t[i++]);return f}function Bi(t,e){var n=-1,r=t.length;for(e||(e=Jl(r));++n<r;)e[n]=t[n];return e}function $i(t,e,n,r){var i=!n;n||(n={});for(var o=-1,u=e.length;++o<u;){var s=e[o],a=r?r(n[s],t[s],s,n,t):nt;a===nt&&(a=t[s]),i?Zn(n,s,a):Wn(n,s,a)}return n}function Mi(t,e){return $i(t,_f(t),e)}function Fi(t,e){return $i(t,Sf(t),e)}function Ii(t,e){return function(n,r){var i=hp(n)?u:Gn,o=e?e():{};return i(n,t,vo(r,2),o)}}function ji(t){return Xr(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:nt,u=i>2?n[2]:nt;for(o=t.length>3&&"function"==typeof o?(i--,o):nt,u&&To(n[0],n[1],u)&&(o=i<3?nt:o,i=1),e=rc(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}function Di(t,e){return function(n,r){if(null==n)return n;if(!Ws(n))return t(n,r);for(var i=n.length,o=e?i:-1,u=rc(n);(e?o--:++o<i)&&!1!==r(u[o],o,u););return n}}function Ni(t){return function(e,n,r){for(var i=-1,o=rc(e),u=r(e),s=u.length;s--;){var a=u[t?s:++i];if(!1===n(o[a],a,o))break}return e}}function ki(t,e,n){function r(){return(this&&this!==Pn&&this instanceof r?o:t).apply(i?n:this,arguments)}var i=e&gt,o=Vi(t);return r}function Li(t){return function(e){e=wa(e);var n=L(e)?J(e):nt,r=n?n[0]:e.charAt(0),i=n?_i(n,1).join(""):e.slice(1);return r[t]()+i}}function Wi(t){return function(e){return d(_l(el(e).replace(pn,"")),t,"")}}function Vi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=cf(t.prototype),r=t.apply(n,e);return ta(r)?r:n}}function Ui(t,e,n){function r(){for(var u=arguments.length,s=Jl(u),a=u,l=yo(r);a--;)s[a]=arguments[a];var c=u<3&&s[0]!==l&&s[u-1]!==l?[]:z(s,l);return(u-=c.length)<n?eo(t,e,Yi,r.placeholder,nt,s,c,nt,nt,n-u):o(this&&this!==Pn&&this instanceof r?i:t,this,s)}var i=Vi(t);return r}function qi(t){return function(e,n,r){var i=rc(e);if(!Ws(e)){var o=vo(n,3);e=Ia(e),n=function(t){return o(i[t],t,i)}}var u=t(e,n,r);return u>-1?i[o?e[u]:u]:nt}}function zi(t){return fo(function(e){var n=e.length,r=n,o=i.prototype.thru;for(t&&e.reverse();r--;){var u=e[r];if("function"!=typeof u)throw new uc(ot);if(o&&!s&&"wrapper"==go(u))var s=new i([],!0)}for(r=s?r:n;++r<n;){u=e[r];var a=go(u),l="wrapper"==a?xf(u):nt;s=l&&Mo(l[0])&&l[1]==(_t|vt|bt|St)&&!l[4].length&&1==l[9]?s[go(l[0])].apply(s,l[3]):1==u.length&&Mo(u)?s[a]():s.thru(u)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&hp(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function Yi(t,e,n,r,i,o,u,s,a,l){function c(){for(var v=arguments.length,m=Jl(v),b=v;b--;)m[b]=arguments[b];if(g)var x=yo(c),_=D(m,x);if(r&&(m=Pi(m,r,i,g)),o&&(m=Ti(m,o,u,g)),v-=_,g&&v<l){var S=z(m,x);return eo(t,e,Yi,c.placeholder,n,m,S,s,a,l-v)}var w=p?n:this,O=h?w[t]:t;return v=m.length,s?m=Uo(m,s):d&&v>1&&m.reverse(),f&&a<v&&(m.length=a),this&&this!==Pn&&this instanceof c&&(O=y||Vi(O)),O.apply(w,m)}var f=e&_t,p=e&gt,h=e&dt,g=e&(vt|mt),d=e&wt,y=h?nt:Vi(t);return c}function Gi(t,e){return function(n,r){return _r(n,t,e(r),{})}}function Hi(t,e){return function(n,r){var i;if(n===nt&&r===nt)return e;if(n!==nt&&(i=n),r!==nt){if(i===nt)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=li(n),r=li(r)),i=t(n,r)}return i}}function Ki(t){return fo(function(e){return e=h(e,$(vo())),Xr(function(n){var r=this;return t(e,function(t){return o(t,r,n)})})})}function Zi(t,e){e=e===nt?" ":ci(e);var n=e.length;if(n<2)return n?Jr(e,t):e;var r=Jr(e,Mc(t/Z(e)));return L(e)?_i(J(r),0,t).join(""):r.slice(0,t)}function Ji(t,e,n,r){function i(){for(var e=-1,a=arguments.length,l=-1,c=r.length,f=Jl(c+a),p=this&&this!==Pn&&this instanceof i?s:t;++l<c;)f[l]=r[l];for(;a--;)f[l++]=arguments[++e];return o(p,u?n:this,f)}var u=e&gt,s=Vi(t);return i}function Xi(t){return function(e,n,r){return r&&"number"!=typeof r&&To(e,n,r)&&(n=r=nt),e=va(e),n===nt?(n=e,e=0):n=va(n),r=r===nt?e<n?1:-1:va(r),Zr(e,n,r,t)}}function to(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=xa(e),n=xa(n)),t(e,n)}}function eo(t,e,n,r,i,o,u,s,a,l){var c=e&vt,f=c?u:nt,p=c?nt:u,h=c?o:nt,g=c?nt:o;e|=c?bt:xt,(e&=~(c?xt:bt))&yt||(e&=~(gt|dt));var d=[t,e,i,h,f,g,p,s,a,l],y=n.apply(nt,d);return Mo(t)&&Ef(y,d),y.placeholder=r,zo(y,t,e)}function no(t){var e=nc[t];return function(t,n){if(t=xa(t),n=null==n?0:Wc(ma(n),292)){var r=(wa(t)+"e").split("e");return r=(wa(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function ro(t){return function(e){var n=wf(e);return n==Yt?U(e):n==Xt?G(e):B(e,t(e))}}function io(t,e,n,r,i,o,u,s){var a=e&dt;if(!a&&"function"!=typeof t)throw new uc(ot);var l=r?r.length:0;if(l||(e&=~(bt|xt),r=i=nt),u=u===nt?u:Lc(ma(u),0),s=s===nt?s:ma(s),l-=i?i.length:0,e&xt){var c=r,f=i;r=i=nt}var p=a?nt:xf(t),h=[t,e,n,r,i,c,f,o,u,s];if(p&&No(h,p),t=h[0],e=h[1],n=h[2],r=h[3],i=h[4],s=h[9]=h[9]===nt?a?0:t.length:Lc(h[9]-l,0),!s&&e&(vt|mt)&&(e&=~(vt|mt)),e&&e!=gt)g=e==vt||e==mt?Ui(t,e,s):e!=bt&&e!=(gt|bt)||i.length?Yi.apply(nt,h):Ji(t,e,n,r);else var g=ki(t,e,n);return zo((p?df:Ef)(g,h),t,e)}function oo(t,e,n,r){return t===nt||Ls(t,lc[n])&&!pc.call(r,n)?e:t}function uo(t,e,n,r,i,o){return ta(t)&&ta(e)&&(o.set(e,t),Lr(t,e,nt,uo,o),o.delete(e)),t}function so(t){return la(t)?nt:t}function ao(t,e,n,r,i,o){var u=n&pt,s=t.length,a=e.length;if(s!=a&&!(u&&a>s))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var c=-1,f=!0,p=n&ht?new gn:nt;for(o.set(t,e),o.set(e,t);++c<s;){var h=t[c],g=e[c];if(r)var d=u?r(g,h,c,e,t,o):r(h,g,c,t,e,o);if(d!==nt){if(d)continue;f=!1;break}if(p){if(!v(e,function(t,e){if(!F(p,e)&&(h===t||i(h,t,n,r,o)))return p.push(e)})){f=!1;break}}else if(h!==g&&!i(h,g,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function lo(t,e,n,r,i,o,u){switch(n){case ue:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case oe:return!(t.byteLength!=e.byteLength||!o(new _c(t),new _c(e)));case Lt:case Wt:case Gt:return Ls(+t,+e);case Ut:return t.name==e.name&&t.message==e.message;case Jt:case te:return t==e+"";case Yt:var s=U;case Xt:var a=r&pt;if(s||(s=Y),t.size!=e.size&&!a)return!1;var l=u.get(t);if(l)return l==e;r|=ht,u.set(t,e);var c=ao(s(t),s(e),r,i,o,u);return u.delete(t),c;case ee:if(af)return af.call(t)==af.call(e)}return!1}function co(t,e,n,r,i,o){var u=n&pt,s=po(t),a=s.length;if(a!=po(e).length&&!u)return!1;for(var l=a;l--;){var c=s[l];if(!(u?c in e:pc.call(e,c)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var p=!0;o.set(t,e),o.set(e,t);for(var h=u;++l<a;){c=s[l];var g=t[c],d=e[c];if(r)var y=u?r(d,g,c,e,t,o):r(g,d,c,t,e,o);if(!(y===nt?g===d||i(g,d,n,r,o):y)){p=!1;break}h||(h="constructor"==c)}if(p&&!h){var v=t.constructor,m=e.constructor;v!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof m&&m instanceof m)&&(p=!1)}return o.delete(t),o.delete(e),p}function fo(t){return Cf(Wo(t,nt,lu),t+"")}function po(t){return gr(t,Ia,_f)}function ho(t){return gr(t,ja,Sf)}function go(t){for(var e=t.name+"",n=tf[e],r=pc.call(tf,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function yo(t){return(pc.call(n,"placeholder")?n:t).placeholder}function vo(){var t=n.iteratee||Cl;return t=t===Cl?Mr:t,arguments.length?t(arguments[0],arguments[1]):t}function mo(t,e){var n=t.__data__;return $o(e)?n["string"==typeof e?"string":"hash"]:n.map}function bo(t){for(var e=Ia(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,jo(i)]}return e}function xo(t,e){var n=k(t,e);return Pr(n)?n:nt}function _o(t){var e=pc.call(t,Qc),n=t[Qc];try{t[Qc]=nt;var r=!0}catch(t){}var i=dc.call(t);return r&&(e?t[Qc]=n:delete t[Qc]),i}function So(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],u=o.size;switch(o.type){case"drop":t+=u;break;case"dropRight":e-=u;break;case"take":e=Wc(e,t+u);break;case"takeRight":t=Lc(t,e-u)}}return{start:t,end:e}}function wo(t){var e=t.match(Fe);return e?e[1].split(Ie):[]}function Oo(t,e,n){e=xi(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var u=Ho(e[r]);if(!(o=null!=t&&n(t,u)))break;t=t[u]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Xs(i)&&Po(u,i)&&(hp(t)||pp(t))}function Eo(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&pc.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Ao(t){return"function"!=typeof t.constructor||Io(t)?{}:cf(wc(t))}function Co(t,e,n){var r=t.constructor;switch(e){case oe:return wi(t);case Lt:case Wt:return new r(+t);case ue:return Oi(t,n);case se:case ae:case le:case ce:case fe:case pe:case he:case ge:case de:return Ci(t,n);case Yt:return new r;case Gt:case te:return new r(t);case Jt:return Ei(t);case Xt:return new r;case ee:return Ai(t)}}function Ro(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Me,"{\n/* [wrapped with "+e+"] */\n")}function Qo(t){return hp(t)||pp(t)||!!(Cc&&t&&t[Cc])}function Po(t,e){var n=typeof t;return!!(e=null==e?Tt:e)&&("number"==n||"symbol"!=n&&qe.test(t))&&t>-1&&t%1==0&&t<e}function To(t,e,n){if(!ta(n))return!1;var r=typeof e;return!!("number"==r?Ws(n)&&Po(e,n.length):"string"==r&&e in n)&&Ls(n[e],t)}function Bo(t,e){if(hp(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!pa(t))||(Ce.test(t)||!Ae.test(t)||null!=e&&t in rc(e))}function $o(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Mo(t){var e=go(t),r=n[e];if("function"!=typeof r||!(e in m.prototype))return!1;if(t===r)return!0;var i=xf(r);return!!i&&t===i[0]}function Fo(t){return!!gc&&gc in t}function Io(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||lc)}function jo(t){return t===t&&!ta(t)}function Do(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==nt||t in rc(n)))}}function No(t,e){var n=t[1],r=e[1],i=n|r,o=i<(gt|dt|_t),u=r==_t&&n==vt||r==_t&&n==St&&t[7].length<=e[8]||r==(_t|St)&&e[7].length<=e[8]&&n==vt;if(!o&&!u)return t;r&gt&&(t[2]=e[2],i|=n&gt?0:yt);var s=e[3];if(s){var a=t[3];t[3]=a?Pi(a,s,e[4]):s,t[4]=a?z(t[3],at):e[4]}return s=e[5],s&&(a=t[5],t[5]=a?Ti(a,s,e[6]):s,t[6]=a?z(t[5],at):e[6]),s=e[7],s&&(t[7]=s),r&_t&&(t[8]=null==t[8]?e[8]:Wc(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function ko(t){var e=[];if(null!=t)for(var n in rc(t))e.push(n);return e}function Lo(t){return dc.call(t)}function Wo(t,e,n){return e=Lc(e===nt?t.length-1:e,0),function(){for(var r=arguments,i=-1,u=Lc(r.length-e,0),s=Jl(u);++i<u;)s[i]=r[e+i];i=-1;for(var a=Jl(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),o(t,this,a)}}function Vo(t,e){return e.length<2?t:hr(t,ii(e,0,-1))}function Uo(t,e){for(var n=t.length,r=Wc(e.length,n),i=Bi(t);r--;){var o=e[r];t[r]=Po(o,n)?i[o]:nt}return t}function qo(t,e){if("__proto__"!=e)return t[e]}function zo(t,e,n){var r=e+"";return Cf(t,Ro(r,Zo(wo(r),n)))}function Yo(t){var e=0,n=0;return function(){var r=Vc(),i=Ct-(r-n);if(n=r,i>0){if(++e>=At)return arguments[0]}else e=0;return t.apply(nt,arguments)}}function Go(t,e){var n=-1,r=t.length,i=r-1;for(e=e===nt?r:e;++n<e;){var o=Kr(n,i),u=t[o];t[o]=t[n],t[n]=u}return t.length=e,t}function Ho(t){if("string"==typeof t||pa(t))return t;var e=t+"";return"0"==e&&1/t==-Pt?"-0":e}function Ko(t){if(null!=t){try{return fc.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Zo(t,e){return s(jt,function(n){var r="_."+n[0];e&n[1]&&!f(t,r)&&t.push(r)}),t.sort()}function Jo(t){if(t instanceof m)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=Bi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Xo(t,e,n){e=(n?To(t,e,n):e===nt)?1:Lc(ma(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,u=Jl(Mc(r/e));i<r;)u[o++]=ii(t,i,i+=e);return u}function tu(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function eu(){var t=arguments.length;if(!t)return[];for(var e=Jl(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return g(hp(n)?Bi(n):[n],lr(e,1))}function nu(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:ma(e),ii(t,e<0?0:e,r)):[]}function ru(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:ma(e),e=r-e,ii(t,0,e<0?0:e)):[]}function iu(t,e){return t&&t.length?gi(t,vo(e,3),!0,!0):[]}function ou(t,e){return t&&t.length?gi(t,vo(e,3),!0):[]}function uu(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&To(t,e,n)&&(n=0,r=i),sr(t,e,n,r)):[]}function su(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ma(n);return i<0&&(i=Lc(r+i,0)),_(t,vo(e,3),i)}function au(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==nt&&(i=ma(n),i=n<0?Lc(r+i,0):Wc(i,r-1)),_(t,vo(e,3),i,!0)}function lu(t){return(null==t?0:t.length)?lr(t,1):[]}function cu(t){return(null==t?0:t.length)?lr(t,Pt):[]}function fu(t,e){return(null==t?0:t.length)?(e=e===nt?1:ma(e),lr(t,e)):[]}function pu(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function hu(t){return t&&t.length?t[0]:nt}function gu(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ma(n);return i<0&&(i=Lc(r+i,0)),S(t,e,i)}function du(t){return(null==t?0:t.length)?ii(t,0,-1):[]}function yu(t,e){return null==t?"":Nc.call(t,e)}function vu(t){var e=null==t?0:t.length;return e?t[e-1]:nt}function mu(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==nt&&(i=ma(n),i=i<0?Lc(r+i,0):Wc(i,r-1)),e===e?K(t,e,i):_(t,O,i,!0)}function bu(t,e){return t&&t.length?Vr(t,ma(e)):nt}function xu(t,e){return t&&t.length&&e&&e.length?Gr(t,e):t}function _u(t,e,n){return t&&t.length&&e&&e.length?Gr(t,e,vo(n,2)):t}function Su(t,e,n){return t&&t.length&&e&&e.length?Gr(t,e,nt,n):t}function wu(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=vo(e,3);++r<o;){var u=t[r];e(u,r,t)&&(n.push(u),i.push(r))}return Hr(t,i),n}function Ou(t){return null==t?t:zc.call(t)}function Eu(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&To(t,e,n)?(e=0,n=r):(e=null==e?0:ma(e),n=n===nt?r:ma(n)),ii(t,e,n)):[]}function Au(t,e){return ui(t,e)}function Cu(t,e,n){return si(t,e,vo(n,2))}function Ru(t,e){var n=null==t?0:t.length;if(n){var r=ui(t,e);if(r<n&&Ls(t[r],e))return r}return-1}function Qu(t,e){return ui(t,e,!0)}function Pu(t,e,n){return si(t,e,vo(n,2),!0)}function Tu(t,e){if(null==t?0:t.length){var n=ui(t,e,!0)-1;if(Ls(t[n],e))return n}return-1}function Bu(t){return t&&t.length?ai(t):[]}function $u(t,e){return t&&t.length?ai(t,vo(e,2)):[]}function Mu(t){var e=null==t?0:t.length;return e?ii(t,1,e):[]}function Fu(t,e,n){return t&&t.length?(e=n||e===nt?1:ma(e),ii(t,0,e<0?0:e)):[]}function Iu(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:ma(e),e=r-e,ii(t,e<0?0:e,r)):[]}function ju(t,e){return t&&t.length?gi(t,vo(e,3),!1,!0):[]}function Du(t,e){return t&&t.length?gi(t,vo(e,3)):[]}function Nu(t){return t&&t.length?fi(t):[]}function ku(t,e){return t&&t.length?fi(t,vo(e,2)):[]}function Lu(t,e){return e="function"==typeof e?e:nt,t&&t.length?fi(t,nt,e):[]}function Wu(t){if(!t||!t.length)return[];var e=0;return t=c(t,function(t){if(Vs(t))return e=Lc(t.length,e),!0}),T(e,function(e){return h(t,A(e))})}function Vu(t,e){if(!t||!t.length)return[];var n=Wu(t);return null==e?n:h(n,function(t){return o(e,nt,t)})}function Uu(t,e){return vi(t||[],e||[],Wn)}function qu(t,e){return vi(t||[],e||[],ni)}function zu(t){var e=n(t);return e.__chain__=!0,e}function Yu(t,e){return e(t),t}function Gu(t,e){return e(t)}function Hu(){return zu(this)}function Ku(){return new i(this.value(),this.__chain__)}function Zu(){this.__values__===nt&&(this.__values__=ya(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?nt:this.__values__[this.__index__++]}}function Ju(){return this}function Xu(t){for(var e,n=this;n instanceof r;){var i=Jo(n);i.__index__=0,i.__values__=nt,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e}function ts(){var t=this.__wrapped__;if(t instanceof m){var e=t;return this.__actions__.length&&(e=new m(this)),e=e.reverse(),e.__actions__.push({func:Gu,args:[Ou],thisArg:nt}),new i(e,this.__chain__)}return this.thru(Ou)}function es(){return di(this.__wrapped__,this.__actions__)}function ns(t,e,n){var r=hp(t)?l:or;return n&&To(t,e,n)&&(e=nt),r(t,vo(e,3))}function rs(t,e){return(hp(t)?c:ar)(t,vo(e,3))}function is(t,e){return lr(cs(t,e),1)}function os(t,e){return lr(cs(t,e),Pt)}function us(t,e,n){return n=n===nt?1:ma(n),lr(cs(t,e),n)}function ss(t,e){return(hp(t)?s:ff)(t,vo(e,3))}function as(t,e){return(hp(t)?a:pf)(t,vo(e,3))}function ls(t,e,n,r){t=Ws(t)?t:Ha(t),n=n&&!r?ma(n):0;var i=t.length;return n<0&&(n=Lc(i+n,0)),fa(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&S(t,e,n)>-1}function cs(t,e){return(hp(t)?h:Dr)(t,vo(e,3))}function fs(t,e,n,r){return null==t?[]:(hp(e)||(e=null==e?[]:[e]),n=r?nt:n,hp(n)||(n=null==n?[]:[n]),Ur(t,e,n))}function ps(t,e,n){var r=hp(t)?d:R,i=arguments.length<3;return r(t,vo(e,4),n,i,ff)}function hs(t,e,n){var r=hp(t)?y:R,i=arguments.length<3;return r(t,vo(e,4),n,i,pf)}function gs(t,e){return(hp(t)?c:ar)(t,Rs(vo(e,3)))}function ds(t){return(hp(t)?Tn:ti)(t)}function ys(t,e,n){return e=(n?To(t,e,n):e===nt)?1:ma(e),(hp(t)?Bn:ei)(t,e)}function vs(t){return(hp(t)?Mn:ri)(t)}function ms(t){if(null==t)return 0;if(Ws(t))return fa(t)?Z(t):t.length;var e=wf(t);return e==Yt||e==Xt?t.size:Fr(t).length}function bs(t,e,n){var r=hp(t)?v:oi;return n&&To(t,e,n)&&(e=nt),r(t,vo(e,3))}function xs(t,e){if("function"!=typeof e)throw new uc(ot);return t=ma(t),function(){if(--t<1)return e.apply(this,arguments)}}function _s(t,e,n){return e=n?nt:e,e=t&&null==e?t.length:e,io(t,_t,nt,nt,nt,nt,e)}function Ss(t,e){var n;if("function"!=typeof e)throw new uc(ot);return t=ma(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=nt),n}}function ws(t,e,n){e=n?nt:e;var r=io(t,vt,nt,nt,nt,nt,nt,e);return r.placeholder=ws.placeholder,r}function Os(t,e,n){e=n?nt:e;var r=io(t,mt,nt,nt,nt,nt,nt,e);return r.placeholder=Os.placeholder,r}function Es(t,e,n){function r(e){var n=p,r=h;return p=h=nt,m=e,d=t.apply(r,n)}function i(t){return m=t,y=Af(s,e),b?r(t):d}function o(t){var n=t-v,r=t-m,i=e-n;return x?Wc(i,g-r):i}function u(t){var n=t-v,r=t-m;return v===nt||n>=e||n<0||x&&r>=g}function s(){var t=ep();if(u(t))return a(t);y=Af(s,o(t))}function a(t){return y=nt,_&&p?r(t):(p=h=nt,d)}function l(){y!==nt&&mf(y),m=0,p=v=h=y=nt}function c(){return y===nt?d:a(ep())}function f(){var t=ep(),n=u(t);if(p=arguments,h=this,v=t,n){if(y===nt)return i(v);if(x)return y=Af(s,e),r(v)}return y===nt&&(y=Af(s,e)),d}var p,h,g,d,y,v,m=0,b=!1,x=!1,_=!0;if("function"!=typeof t)throw new uc(ot);return e=xa(e)||0,ta(n)&&(b=!!n.leading,x="maxWait"in n,g=x?Lc(xa(n.maxWait)||0,e):g,_="trailing"in n?!!n.trailing:_),f.cancel=l,f.flush=c,f}function As(t){return io(t,wt)}function Cs(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new uc(ot);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var u=t.apply(this,r);return n.cache=o.set(i,u)||o,u};return n.cache=new(Cs.Cache||un),n}function Rs(t){if("function"!=typeof t)throw new uc(ot);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Qs(t){return Ss(2,t)}function Ps(t,e){if("function"!=typeof t)throw new uc(ot);return e=e===nt?e:ma(e),Xr(t,e)}function Ts(t,e){if("function"!=typeof t)throw new uc(ot);return e=null==e?0:Lc(ma(e),0),Xr(function(n){var r=n[e],i=_i(n,0,e);return r&&g(i,r),o(t,this,i)})}function Bs(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new uc(ot);return ta(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Es(t,e,{leading:r,maxWait:e,trailing:i})}function $s(t){return _s(t,1)}function Ms(t,e){return sp(bi(e),t)}function Fs(){if(!arguments.length)return[];var t=arguments[0];return hp(t)?t:[t]}function Is(t){return tr(t,ft)}function js(t,e){return e="function"==typeof e?e:nt,tr(t,ft,e)}function Ds(t){return tr(t,lt|ft)}function Ns(t,e){return e="function"==typeof e?e:nt,tr(t,lt|ft,e)}function ks(t,e){return null==e||nr(t,e,Ia(e))}function Ls(t,e){return t===e||t!==t&&e!==e}function Ws(t){return null!=t&&Xs(t.length)&&!Zs(t)}function Vs(t){return ea(t)&&Ws(t)}function Us(t){return!0===t||!1===t||ea(t)&&dr(t)==Lt}function qs(t){return ea(t)&&1===t.nodeType&&!la(t)}function zs(t){if(null==t)return!0;if(Ws(t)&&(hp(t)||"string"==typeof t||"function"==typeof t.splice||dp(t)||xp(t)||pp(t)))return!t.length;var e=wf(t);if(e==Yt||e==Xt)return!t.size;if(Io(t))return!Fr(t).length;for(var n in t)if(pc.call(t,n))return!1;return!0}function Ys(t,e){return Ar(t,e)}function Gs(t,e,n){n="function"==typeof n?n:nt;var r=n?n(t,e):nt;return r===nt?Ar(t,e,nt,n):!!r}function Hs(t){if(!ea(t))return!1;var e=dr(t);return e==Ut||e==Vt||"string"==typeof t.message&&"string"==typeof t.name&&!la(t)}function Ks(t){return"number"==typeof t&&Dc(t)}function Zs(t){if(!ta(t))return!1;var e=dr(t);return e==qt||e==zt||e==kt||e==Zt}function Js(t){return"number"==typeof t&&t==ma(t)}function Xs(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Tt}function ta(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ea(t){return null!=t&&"object"==typeof t}function na(t,e){return t===e||Qr(t,e,bo(e))}function ra(t,e,n){return n="function"==typeof n?n:nt,Qr(t,e,bo(e),n)}function ia(t){return aa(t)&&t!=+t}function oa(t){if(Of(t))throw new tc(it);return Pr(t)}function ua(t){return null===t}function sa(t){return null==t}function aa(t){return"number"==typeof t||ea(t)&&dr(t)==Gt}function la(t){if(!ea(t)||dr(t)!=Kt)return!1;var e=wc(t);if(null===e)return!0;var n=pc.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&fc.call(n)==yc}function ca(t){return Js(t)&&t>=-Tt&&t<=Tt}function fa(t){return"string"==typeof t||!hp(t)&&ea(t)&&dr(t)==te}function pa(t){return"symbol"==typeof t||ea(t)&&dr(t)==ee}function ha(t){return t===nt}function ga(t){return ea(t)&&wf(t)==re}function da(t){return ea(t)&&dr(t)==ie}function ya(t){if(!t)return[];if(Ws(t))return fa(t)?J(t):Bi(t);if(Rc&&t[Rc])return V(t[Rc]());var e=wf(t);return(e==Yt?U:e==Xt?Y:Ha)(t)}function va(t){if(!t)return 0===t?t:0;if((t=xa(t))===Pt||t===-Pt){return(t<0?-1:1)*Bt}return t===t?t:0}function ma(t){var e=va(t),n=e%1;return e===e?n?e-n:e:0}function ba(t){return t?Xn(ma(t),0,Mt):0}function xa(t){if("number"==typeof t)return t;if(pa(t))return $t;if(ta(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ta(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Te,"");var n=We.test(t);return n||Ue.test(t)?Cn(t.slice(2),n?2:8):Le.test(t)?$t:+t}function _a(t){return $i(t,ja(t))}function Sa(t){return t?Xn(ma(t),-Tt,Tt):0===t?t:0}function wa(t){return null==t?"":ci(t)}function Oa(t,e){var n=cf(t);return null==e?n:Hn(n,e)}function Ea(t,e){return x(t,vo(e,3),cr)}function Aa(t,e){return x(t,vo(e,3),fr)}function Ca(t,e){return null==t?t:hf(t,vo(e,3),ja)}function Ra(t,e){return null==t?t:gf(t,vo(e,3),ja)}function Qa(t,e){return t&&cr(t,vo(e,3))}function Pa(t,e){return t&&fr(t,vo(e,3))}function Ta(t){return null==t?[]:pr(t,Ia(t))}function Ba(t){return null==t?[]:pr(t,ja(t))}function $a(t,e,n){var r=null==t?nt:hr(t,e);return r===nt?n:r}function Ma(t,e){return null!=t&&Oo(t,e,vr)}function Fa(t,e){return null!=t&&Oo(t,e,mr)}function Ia(t){return Ws(t)?Qn(t):Fr(t)}function ja(t){return Ws(t)?Qn(t,!0):Ir(t)}function Da(t,e){var n={};return e=vo(e,3),cr(t,function(t,r,i){Zn(n,e(t,r,i),t)}),n}function Na(t,e){var n={};return e=vo(e,3),cr(t,function(t,r,i){Zn(n,r,e(t,r,i))}),n}function ka(t,e){return La(t,Rs(vo(e)))}function La(t,e){if(null==t)return{};var n=h(ho(t),function(t){return[t]});return e=vo(e),zr(t,n,function(t,n){return e(t,n[0])})}function Wa(t,e,n){e=xi(e,t);var r=-1,i=e.length;for(i||(i=1,t=nt);++r<i;){var o=null==t?nt:t[Ho(e[r])];o===nt&&(r=i,o=n),t=Zs(o)?o.call(t):o}return t}function Va(t,e,n){return null==t?t:ni(t,e,n)}function Ua(t,e,n,r){return r="function"==typeof r?r:nt,null==t?t:ni(t,e,n,r)}function qa(t,e,n){var r=hp(t),i=r||dp(t)||xp(t);if(e=vo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:ta(t)&&Zs(o)?cf(wc(t)):{}}return(i?s:cr)(t,function(t,r,i){return e(n,t,r,i)}),n}function za(t,e){return null==t||pi(t,e)}function Ya(t,e,n){return null==t?t:hi(t,e,bi(n))}function Ga(t,e,n,r){return r="function"==typeof r?r:nt,null==t?t:hi(t,e,bi(n),r)}function Ha(t){return null==t?[]:M(t,Ia(t))}function Ka(t){return null==t?[]:M(t,ja(t))}function Za(t,e,n){return n===nt&&(n=e,e=nt),n!==nt&&(n=xa(n),n=n===n?n:0),e!==nt&&(e=xa(e),e=e===e?e:0),Xn(xa(t),e,n)}function Ja(t,e,n){return e=va(e),n===nt?(n=e,e=0):n=va(n),t=xa(t),br(t,e,n)}function Xa(t,e,n){if(n&&"boolean"!=typeof n&&To(t,e,n)&&(e=n=nt),n===nt&&("boolean"==typeof e?(n=e,e=nt):"boolean"==typeof t&&(n=t,t=nt)),t===nt&&e===nt?(t=0,e=1):(t=va(t),e===nt?(e=t,t=0):e=va(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=qc();return Wc(t+i*(e-t+An("1e-"+((i+"").length-1))),e)}return Kr(t,e)}function tl(t){return zp(wa(t).toLowerCase())}function el(t){return(t=wa(t))&&t.replace(ze,Vn).replace(hn,"")}function nl(t,e,n){t=wa(t),e=ci(e);var r=t.length;n=n===nt?r:Xn(ma(n),0,r);var i=n;return(n-=e.length)>=0&&t.slice(n,i)==e}function rl(t){return t=wa(t),t&&Se.test(t)?t.replace(xe,Un):t}function il(t){return t=wa(t),t&&Pe.test(t)?t.replace(Qe,"\\$&"):t}function ol(t,e,n){t=wa(t),e=ma(e);var r=e?Z(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Zi(Fc(i),n)+t+Zi(Mc(i),n)}function ul(t,e,n){t=wa(t),e=ma(e);var r=e?Z(t):0;return e&&r<e?t+Zi(e-r,n):t}function sl(t,e,n){t=wa(t),e=ma(e);var r=e?Z(t):0;return e&&r<e?Zi(e-r,n)+t:t}function al(t,e,n){return n||null==e?e=0:e&&(e=+e),Uc(wa(t).replace(Be,""),e||0)}function ll(t,e,n){return e=(n?To(t,e,n):e===nt)?1:ma(e),Jr(wa(t),e)}function cl(){var t=arguments,e=wa(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function fl(t,e,n){return n&&"number"!=typeof n&&To(t,e,n)&&(e=n=nt),(n=n===nt?Mt:n>>>0)?(t=wa(t),t&&("string"==typeof e||null!=e&&!mp(e))&&!(e=ci(e))&&L(t)?_i(J(t),0,n):t.split(e,n)):[]}function pl(t,e,n){return t=wa(t),n=null==n?0:Xn(ma(n),0,t.length),e=ci(e),t.slice(n,n+e.length)==e}function hl(t,e,r){var i=n.templateSettings;r&&To(t,e,r)&&(e=nt),t=wa(t),e=Ep({},e,i,oo);var o,u,s=Ep({},e.imports,i.imports,oo),a=Ia(s),l=M(s,a),c=0,f=e.interpolate||Ye,p="__p += '",h=ic((e.escape||Ye).source+"|"+f.source+"|"+(f===Ee?Ne:Ye).source+"|"+(e.evaluate||Ye).source+"|$","g"),g="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++bn+"]")+"\n";t.replace(h,function(e,n,r,i,s,a){return r||(r=i),p+=t.slice(c,a).replace(Ge,N),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),s&&(u=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=a+e.length,e}),p+="';\n";var d=e.variable;d||(p="with (obj) {\n"+p+"\n}\n"),p=(u?p.replace(ye,""):p).replace(ve,"$1").replace(me,"$1;"),p="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=Yp(function(){return ec(a,g+"return "+p).apply(nt,l)});if(y.source=p,Hs(y))throw y;return y}function gl(t){return wa(t).toLowerCase()}function dl(t){return wa(t).toUpperCase()}function yl(t,e,n){if((t=wa(t))&&(n||e===nt))return t.replace(Te,"");if(!t||!(e=ci(e)))return t;var r=J(t),i=J(e);return _i(r,I(r,i),j(r,i)+1).join("")}function vl(t,e,n){if((t=wa(t))&&(n||e===nt))return t.replace($e,"");if(!t||!(e=ci(e)))return t;var r=J(t);return _i(r,0,j(r,J(e))+1).join("")}function ml(t,e,n){if((t=wa(t))&&(n||e===nt))return t.replace(Be,"");if(!t||!(e=ci(e)))return t;var r=J(t);return _i(r,I(r,J(e))).join("")}function bl(t,e){var n=Ot,r=Et;if(ta(e)){var i="separator"in e?e.separator:i;n="length"in e?ma(e.length):n,r="omission"in e?ci(e.omission):r}t=wa(t);var o=t.length;if(L(t)){var u=J(t);o=u.length}if(n>=o)return t;var s=n-Z(r);if(s<1)return r;var a=u?_i(u,0,s).join(""):t.slice(0,s);if(i===nt)return a+r;if(u&&(s+=a.length-s),mp(i)){if(t.slice(s).search(i)){var l,c=a;for(i.global||(i=ic(i.source,wa(ke.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var f=l.index;a=a.slice(0,f===nt?s:f)}}else if(t.indexOf(ci(i),s)!=s){var p=a.lastIndexOf(i);p>-1&&(a=a.slice(0,p))}return a+r}function xl(t){return t=wa(t),t&&_e.test(t)?t.replace(be,qn):t}function _l(t,e,n){return t=wa(t),e=n?nt:e,e===nt?W(t)?et(t):b(t):t.match(e)||[]}function Sl(t){var e=null==t?0:t.length,n=vo();return t=e?h(t,function(t){if("function"!=typeof t[1])throw new uc(ot);return[n(t[0]),t[1]]}):[],Xr(function(n){for(var r=-1;++r<e;){var i=t[r];if(o(i[0],this,n))return o(i[1],this,n)}})}function wl(t){return er(tr(t,lt))}function Ol(t){return function(){return t}}function El(t,e){return null==t||t!==t?e:t}function Al(t){return t}function Cl(t){return Mr("function"==typeof t?t:tr(t,lt))}function Rl(t){return Nr(tr(t,lt))}function Ql(t,e){return kr(t,tr(e,lt))}function Pl(t,e,n){var r=Ia(e),i=pr(e,r);null!=n||ta(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=pr(e,Ia(e)));var o=!(ta(n)&&"chain"in n&&!n.chain),u=Zs(t);return s(i,function(n){var r=e[n];t[n]=r,u&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Bi(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,g([this.value()],arguments))})}),t}function Tl(){return Pn._===this&&(Pn._=vc),this}function Bl(){}function $l(t){return t=ma(t),Xr(function(e){return Vr(e,t)})}function Ml(t){return Bo(t)?A(Ho(t)):Yr(t)}function Fl(t){return function(e){return null==t?nt:hr(t,e)}}function Il(){return[]}function jl(){return!1}function Dl(){return{}}function Nl(){return""}function kl(){return!0}function Ll(t,e){if((t=ma(t))<1||t>Tt)return[];var n=Mt,r=Wc(t,Mt);e=vo(e),t-=Mt;for(var i=T(r,e);++n<t;)e(n);return i}function Wl(t){return hp(t)?h(t,Ho):pa(t)?[t]:Bi(Rf(wa(t)))}function Vl(t){var e=++hc;return wa(t)+e}function Ul(t){return t&&t.length?ur(t,Al,yr):nt}function ql(t,e){return t&&t.length?ur(t,vo(e,2),yr):nt}function zl(t){return E(t,Al)}function Yl(t,e){return E(t,vo(e,2))}function Gl(t){return t&&t.length?ur(t,Al,jr):nt}function Hl(t,e){return t&&t.length?ur(t,vo(e,2),jr):nt}function Kl(t){return t&&t.length?P(t,Al):0}function Zl(t,e){return t&&t.length?P(t,vo(e,2)):0}e=null==e?Pn:zn.defaults(Pn.Object(),e,zn.pick(Pn,mn));var Jl=e.Array,Xl=e.Date,tc=e.Error,ec=e.Function,nc=e.Math,rc=e.Object,ic=e.RegExp,oc=e.String,uc=e.TypeError,sc=Jl.prototype,ac=ec.prototype,lc=rc.prototype,cc=e["__core-js_shared__"],fc=ac.toString,pc=lc.hasOwnProperty,hc=0,gc=function(){var t=/[^.]+$/.exec(cc&&cc.keys&&cc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),dc=lc.toString,yc=fc.call(rc),vc=Pn._,mc=ic("^"+fc.call(pc).replace(Qe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bc=$n?e.Buffer:nt,xc=e.Symbol,_c=e.Uint8Array,Sc=bc?bc.allocUnsafe:nt,wc=q(rc.getPrototypeOf,rc),Oc=rc.create,Ec=lc.propertyIsEnumerable,Ac=sc.splice,Cc=xc?xc.isConcatSpreadable:nt,Rc=xc?xc.iterator:nt,Qc=xc?xc.toStringTag:nt,Pc=function(){try{var t=xo(rc,"defineProperty");return t({},"",{}),t}catch(t){}}(),Tc=e.clearTimeout!==Pn.clearTimeout&&e.clearTimeout,Bc=Xl&&Xl.now!==Pn.Date.now&&Xl.now,$c=e.setTimeout!==Pn.setTimeout&&e.setTimeout,Mc=nc.ceil,Fc=nc.floor,Ic=rc.getOwnPropertySymbols,jc=bc?bc.isBuffer:nt,Dc=e.isFinite,Nc=sc.join,kc=q(rc.keys,rc),Lc=nc.max,Wc=nc.min,Vc=Xl.now,Uc=e.parseInt,qc=nc.random,zc=sc.reverse,Yc=xo(e,"DataView"),Gc=xo(e,"Map"),Hc=xo(e,"Promise"),Kc=xo(e,"Set"),Zc=xo(e,"WeakMap"),Jc=xo(rc,"create"),Xc=Zc&&new Zc,tf={},ef=Ko(Yc),nf=Ko(Gc),rf=Ko(Hc),of=Ko(Kc),uf=Ko(Zc),sf=xc?xc.prototype:nt,af=sf?sf.valueOf:nt,lf=sf?sf.toString:nt,cf=function(){function t(){}return function(e){if(!ta(e))return{};if(Oc)return Oc(e);t.prototype=e;var n=new t;return t.prototype=nt,n}}();n.templateSettings={escape:we,evaluate:Oe,interpolate:Ee,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,i.prototype=cf(r.prototype),i.prototype.constructor=i,m.prototype=cf(r.prototype),m.prototype.constructor=m,tt.prototype.clear=je,tt.prototype.delete=He,tt.prototype.get=Ke,tt.prototype.has=Ze,tt.prototype.set=Je,Xe.prototype.clear=tn,Xe.prototype.delete=en,Xe.prototype.get=nn,Xe.prototype.has=rn,Xe.prototype.set=on,un.prototype.clear=sn,un.prototype.delete=an,un.prototype.get=ln,un.prototype.has=cn,un.prototype.set=fn,gn.prototype.add=gn.prototype.push=dn,gn.prototype.has=yn,vn.prototype.clear=Sn,vn.prototype.delete=wn,vn.prototype.get=On,vn.prototype.has=En,vn.prototype.set=Rn;var ff=Di(cr),pf=Di(fr,!0),hf=Ni(),gf=Ni(!0),df=Xc?function(t,e){return Xc.set(t,e),t}:Al,yf=Pc?function(t,e){return Pc(t,"toString",{configurable:!0,enumerable:!1,value:Ol(e),writable:!0})}:Al,vf=Xr,mf=Tc||function(t){return Pn.clearTimeout(t)},bf=Kc&&1/Y(new Kc([,-0]))[1]==Pt?function(t){return new Kc(t)}:Bl,xf=Xc?function(t){return Xc.get(t)}:Bl,_f=Ic?function(t){return null==t?[]:(t=rc(t),c(Ic(t),function(e){return Ec.call(t,e)}))}:Il,Sf=Ic?function(t){for(var e=[];t;)g(e,_f(t)),t=wc(t);return e}:Il,wf=dr;(Yc&&wf(new Yc(new ArrayBuffer(1)))!=ue||Gc&&wf(new Gc)!=Yt||Hc&&"[object Promise]"!=wf(Hc.resolve())||Kc&&wf(new Kc)!=Xt||Zc&&wf(new Zc)!=re)&&(wf=function(t){var e=dr(t),n=e==Kt?t.constructor:nt,r=n?Ko(n):"";if(r)switch(r){case ef:return ue;case nf:return Yt;case rf:return"[object Promise]";case of:return Xt;case uf:return re}return e});var Of=cc?Zs:jl,Ef=Yo(df),Af=$c||function(t,e){return Pn.setTimeout(t,e)},Cf=Yo(yf),Rf=function(t){var e=Cs(t,function(t){return n.size===st&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Re,function(t,n,r,i){e.push(r?i.replace(De,"$1"):n||t)}),e}),Qf=Xr(function(t,e){return Vs(t)?ir(t,lr(e,1,Vs,!0)):[]}),Pf=Xr(function(t,e){var n=vu(e);return Vs(n)&&(n=nt),Vs(t)?ir(t,lr(e,1,Vs,!0),vo(n,2)):[]}),Tf=Xr(function(t,e){var n=vu(e);return Vs(n)&&(n=nt),Vs(t)?ir(t,lr(e,1,Vs,!0),nt,n):[]}),Bf=Xr(function(t){var e=h(t,mi);return e.length&&e[0]===t[0]?xr(e):[]}),$f=Xr(function(t){var e=vu(t),n=h(t,mi);return e===vu(n)?e=nt:n.pop(),n.length&&n[0]===t[0]?xr(n,vo(e,2)):[]}),Mf=Xr(function(t){var e=vu(t),n=h(t,mi);return e="function"==typeof e?e:nt,e&&n.pop(),n.length&&n[0]===t[0]?xr(n,nt,e):[]}),Ff=Xr(xu),If=fo(function(t,e){var n=null==t?0:t.length,r=Jn(t,e);return Hr(t,h(e,function(t){return Po(t,n)?+t:t}).sort(Ri)),r}),jf=Xr(function(t){return fi(lr(t,1,Vs,!0))}),Df=Xr(function(t){var e=vu(t);return Vs(e)&&(e=nt),fi(lr(t,1,Vs,!0),vo(e,2))}),Nf=Xr(function(t){var e=vu(t);return e="function"==typeof e?e:nt,fi(lr(t,1,Vs,!0),nt,e)}),kf=Xr(function(t,e){return Vs(t)?ir(t,e):[]}),Lf=Xr(function(t){return yi(c(t,Vs))}),Wf=Xr(function(t){var e=vu(t);return Vs(e)&&(e=nt),yi(c(t,Vs),vo(e,2))}),Vf=Xr(function(t){var e=vu(t);return e="function"==typeof e?e:nt,yi(c(t,Vs),nt,e)}),Uf=Xr(Wu),qf=Xr(function(t){var e=t.length,n=e>1?t[e-1]:nt;return n="function"==typeof n?(t.pop(),n):nt,Vu(t,n)}),zf=fo(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return Jn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof m&&Po(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:Gu,args:[o],thisArg:nt}),new i(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(nt),t})):this.thru(o)}),Yf=Ii(function(t,e,n){pc.call(t,n)?++t[n]:Zn(t,n,1)}),Gf=qi(su),Hf=qi(au),Kf=Ii(function(t,e,n){pc.call(t,n)?t[n].push(e):Zn(t,n,[e])}),Zf=Xr(function(t,e,n){var r=-1,i="function"==typeof e,u=Ws(t)?Jl(t.length):[];return ff(t,function(t){u[++r]=i?o(e,t,n):Sr(t,e,n)}),u}),Jf=Ii(function(t,e,n){Zn(t,n,e)}),Xf=Ii(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),tp=Xr(function(t,e){if(null==t)return[];var n=e.length;return n>1&&To(t,e[0],e[1])?e=[]:n>2&&To(e[0],e[1],e[2])&&(e=[e[0]]),Ur(t,lr(e,1),[])}),ep=Bc||function(){return Pn.Date.now()},np=Xr(function(t,e,n){var r=gt;if(n.length){var i=z(n,yo(np));r|=bt}return io(t,r,e,n,i)}),rp=Xr(function(t,e,n){var r=gt|dt;if(n.length){var i=z(n,yo(rp));r|=bt}return io(e,r,t,n,i)}),ip=Xr(function(t,e){return rr(t,1,e)}),op=Xr(function(t,e,n){return rr(t,xa(e)||0,n)});Cs.Cache=un;var up=vf(function(t,e){e=1==e.length&&hp(e[0])?h(e[0],$(vo())):h(lr(e,1),$(vo()));var n=e.length;return Xr(function(r){for(var i=-1,u=Wc(r.length,n);++i<u;)r[i]=e[i].call(this,r[i]);return o(t,this,r)})}),sp=Xr(function(t,e){var n=z(e,yo(sp));return io(t,bt,nt,e,n)}),ap=Xr(function(t,e){var n=z(e,yo(ap));return io(t,xt,nt,e,n)}),lp=fo(function(t,e){return io(t,St,nt,nt,nt,e)}),cp=to(yr),fp=to(function(t,e){return t>=e}),pp=wr(function(){return arguments}())?wr:function(t){return ea(t)&&pc.call(t,"callee")&&!Ec.call(t,"callee")},hp=Jl.isArray,gp=In?$(In):Or,dp=jc||jl,yp=jn?$(jn):Er,vp=Dn?$(Dn):Rr,mp=Nn?$(Nn):Tr,bp=kn?$(kn):Br,xp=Ln?$(Ln):$r,_p=to(jr),Sp=to(function(t,e){return t<=e}),wp=ji(function(t,e){if(Io(e)||Ws(e))return void $i(e,Ia(e),t);for(var n in e)pc.call(e,n)&&Wn(t,n,e[n])}),Op=ji(function(t,e){$i(e,ja(e),t)}),Ep=ji(function(t,e,n,r){$i(e,ja(e),t,r)}),Ap=ji(function(t,e,n,r){$i(e,Ia(e),t,r)}),Cp=fo(Jn),Rp=Xr(function(t,e){t=rc(t);var n=-1,r=e.length,i=r>2?e[2]:nt;for(i&&To(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],u=ja(o),s=-1,a=u.length;++s<a;){var l=u[s],c=t[l];(c===nt||Ls(c,lc[l])&&!pc.call(t,l))&&(t[l]=o[l])}return t}),Qp=Xr(function(t){return t.push(nt,uo),o(Mp,nt,t)}),Pp=Gi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=dc.call(e)),t[e]=n},Ol(Al)),Tp=Gi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=dc.call(e)),pc.call(t,e)?t[e].push(n):t[e]=[n]},vo),Bp=Xr(Sr),$p=ji(function(t,e,n){Lr(t,e,n)}),Mp=ji(function(t,e,n,r){Lr(t,e,n,r)}),Fp=fo(function(t,e){var n={};if(null==t)return n;var r=!1;e=h(e,function(e){return e=xi(e,t),r||(r=e.length>1),e}),$i(t,ho(t),n),r&&(n=tr(n,lt|ct|ft,so));for(var i=e.length;i--;)pi(n,e[i]);return n}),Ip=fo(function(t,e){return null==t?{}:qr(t,e)}),jp=ro(Ia),Dp=ro(ja),Np=Wi(function(t,e,n){return e=e.toLowerCase(),t+(n?tl(e):e)}),kp=Wi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Lp=Wi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Wp=Li("toLowerCase"),Vp=Wi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Up=Wi(function(t,e,n){return t+(n?" ":"")+zp(e)}),qp=Wi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),zp=Li("toUpperCase"),Yp=Xr(function(t,e){try{return o(t,nt,e)}catch(t){return Hs(t)?t:new tc(t)}}),Gp=fo(function(t,e){return s(e,function(e){e=Ho(e),Zn(t,e,np(t[e],t))}),t}),Hp=zi(),Kp=zi(!0),Zp=Xr(function(t,e){return function(n){return Sr(n,t,e)}}),Jp=Xr(function(t,e){return function(n){return Sr(t,n,e)}}),Xp=Ki(h),th=Ki(l),eh=Ki(v),nh=Xi(),rh=Xi(!0),ih=Hi(function(t,e){return t+e},0),oh=no("ceil"),uh=Hi(function(t,e){return t/e},1),sh=no("floor"),ah=Hi(function(t,e){return t*e},1),lh=no("round"),ch=Hi(function(t,e){return t-e},0);return n.after=xs,n.ary=_s,n.assign=wp,n.assignIn=Op,n.assignInWith=Ep,n.assignWith=Ap,n.at=Cp,n.before=Ss,n.bind=np,n.bindAll=Gp,n.bindKey=rp,n.castArray=Fs,n.chain=zu,n.chunk=Xo,n.compact=tu,n.concat=eu,n.cond=Sl,n.conforms=wl,n.constant=Ol,n.countBy=Yf,n.create=Oa,n.curry=ws,n.curryRight=Os,n.debounce=Es,n.defaults=Rp,n.defaultsDeep=Qp,n.defer=ip,n.delay=op,n.difference=Qf,n.differenceBy=Pf,n.differenceWith=Tf,n.drop=nu,n.dropRight=ru,n.dropRightWhile=iu,n.dropWhile=ou,n.fill=uu,n.filter=rs,n.flatMap=is,n.flatMapDeep=os,n.flatMapDepth=us,n.flatten=lu,n.flattenDeep=cu,n.flattenDepth=fu,n.flip=As,n.flow=Hp,n.flowRight=Kp,n.fromPairs=pu,n.functions=Ta,n.functionsIn=Ba,n.groupBy=Kf,n.initial=du,n.intersection=Bf,n.intersectionBy=$f,n.intersectionWith=Mf,n.invert=Pp,n.invertBy=Tp,n.invokeMap=Zf,n.iteratee=Cl,n.keyBy=Jf,n.keys=Ia,n.keysIn=ja,n.map=cs,n.mapKeys=Da,n.mapValues=Na,n.matches=Rl,n.matchesProperty=Ql,n.memoize=Cs,n.merge=$p,n.mergeWith=Mp,n.method=Zp,n.methodOf=Jp,n.mixin=Pl,n.negate=Rs,n.nthArg=$l,n.omit=Fp,n.omitBy=ka,n.once=Qs,n.orderBy=fs,n.over=Xp,n.overArgs=up,n.overEvery=th,n.overSome=eh,n.partial=sp,n.partialRight=ap,n.partition=Xf,n.pick=Ip,n.pickBy=La,n.property=Ml,n.propertyOf=Fl,n.pull=Ff,n.pullAll=xu,n.pullAllBy=_u,n.pullAllWith=Su,n.pullAt=If,n.range=nh,n.rangeRight=rh,n.rearg=lp,n.reject=gs,n.remove=wu,n.rest=Ps,n.reverse=Ou,n.sampleSize=ys,n.set=Va,n.setWith=Ua,n.shuffle=vs,n.slice=Eu,n.sortBy=tp,n.sortedUniq=Bu,n.sortedUniqBy=$u,n.split=fl,n.spread=Ts,n.tail=Mu,n.take=Fu,n.takeRight=Iu,n.takeRightWhile=ju,n.takeWhile=Du,n.tap=Yu,n.throttle=Bs,n.thru=Gu,n.toArray=ya,n.toPairs=jp,n.toPairsIn=Dp,n.toPath=Wl,n.toPlainObject=_a,n.transform=qa,n.unary=$s,n.union=jf,n.unionBy=Df,n.unionWith=Nf,n.uniq=Nu,n.uniqBy=ku,n.uniqWith=Lu,n.unset=za,n.unzip=Wu,n.unzipWith=Vu,n.update=Ya,n.updateWith=Ga,n.values=Ha,n.valuesIn=Ka,n.without=kf,n.words=_l,n.wrap=Ms,n.xor=Lf,n.xorBy=Wf,n.xorWith=Vf,n.zip=Uf,n.zipObject=Uu,n.zipObjectDeep=qu,n.zipWith=qf,n.entries=jp,n.entriesIn=Dp,n.extend=Op,n.extendWith=Ep,Pl(n,n),n.add=ih,n.attempt=Yp,n.camelCase=Np,n.capitalize=tl,n.ceil=oh,n.clamp=Za,n.clone=Is,n.cloneDeep=Ds,n.cloneDeepWith=Ns,n.cloneWith=js,n.conformsTo=ks,n.deburr=el,n.defaultTo=El,n.divide=uh,n.endsWith=nl,n.eq=Ls,n.escape=rl,n.escapeRegExp=il,n.every=ns,n.find=Gf,n.findIndex=su,n.findKey=Ea,n.findLast=Hf,n.findLastIndex=au,n.findLastKey=Aa,n.floor=sh,n.forEach=ss,n.forEachRight=as,n.forIn=Ca,n.forInRight=Ra,n.forOwn=Qa,n.forOwnRight=Pa,n.get=$a,n.gt=cp,n.gte=fp,n.has=Ma,n.hasIn=Fa,n.head=hu,n.identity=Al,n.includes=ls,n.indexOf=gu,n.inRange=Ja,n.invoke=Bp,n.isArguments=pp,n.isArray=hp,n.isArrayBuffer=gp,n.isArrayLike=Ws,n.isArrayLikeObject=Vs,n.isBoolean=Us,n.isBuffer=dp,n.isDate=yp,n.isElement=qs,n.isEmpty=zs,n.isEqual=Ys,n.isEqualWith=Gs,n.isError=Hs,n.isFinite=Ks,n.isFunction=Zs,n.isInteger=Js,n.isLength=Xs,n.isMap=vp,n.isMatch=na,n.isMatchWith=ra,n.isNaN=ia,n.isNative=oa,n.isNil=sa,n.isNull=ua,n.isNumber=aa,n.isObject=ta,n.isObjectLike=ea,n.isPlainObject=la,n.isRegExp=mp,n.isSafeInteger=ca,n.isSet=bp,n.isString=fa,n.isSymbol=pa,n.isTypedArray=xp,n.isUndefined=ha,n.isWeakMap=ga,n.isWeakSet=da,n.join=yu,n.kebabCase=kp,n.last=vu,n.lastIndexOf=mu,n.lowerCase=Lp,n.lowerFirst=Wp,n.lt=_p,n.lte=Sp,n.max=Ul,n.maxBy=ql,n.mean=zl,n.meanBy=Yl,n.min=Gl,n.minBy=Hl,n.stubArray=Il,n.stubFalse=jl,n.stubObject=Dl,n.stubString=Nl,n.stubTrue=kl,n.multiply=ah,n.nth=bu,n.noConflict=Tl,n.noop=Bl,n.now=ep,n.pad=ol,n.padEnd=ul,n.padStart=sl,n.parseInt=al,n.random=Xa,n.reduce=ps,n.reduceRight=hs,n.repeat=ll,n.replace=cl,n.result=Wa,n.round=lh,n.runInContext=t,n.sample=ds,n.size=ms,n.snakeCase=Vp,n.some=bs,n.sortedIndex=Au,n.sortedIndexBy=Cu,n.sortedIndexOf=Ru,n.sortedLastIndex=Qu,n.sortedLastIndexBy=Pu,n.sortedLastIndexOf=Tu,n.startCase=Up,n.startsWith=pl,n.subtract=ch,n.sum=Kl,n.sumBy=Zl,n.template=hl,n.times=Ll,n.toFinite=va,n.toInteger=ma,n.toLength=ba,n.toLower=gl,n.toNumber=xa,n.toSafeInteger=Sa,n.toString=wa,n.toUpper=dl,n.trim=yl,n.trimEnd=vl,n.trimStart=ml,n.truncate=bl,n.unescape=xl,n.uniqueId=Vl,n.upperCase=qp,n.upperFirst=zp,n.each=ss,n.eachRight=as,n.first=hu,Pl(n,function(){var t={};return cr(n,function(e,r){pc.call(n.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),n.VERSION="4.17.11",s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),s(["drop","take"],function(t,e){m.prototype[t]=function(n){n=n===nt?1:Lc(ma(n),0);var r=this.__filtered__&&!e?new m(this):this.clone();return r.__filtered__?r.__takeCount__=Wc(n,r.__takeCount__):r.__views__.push({size:Wc(n,Mt),type:t+(r.__dir__<0?"Right":"")}),r},m.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),s(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==Rt||3==n;m.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:vo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),s(["head","last"],function(t,e){var n="take"+(e?"Right":"");m.prototype[t]=function(){return this[n](1).value()[0]}}),s(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");m.prototype[t]=function(){return this.__filtered__?new m(this):this[n](1)}}),m.prototype.compact=function(){return this.filter(Al)},m.prototype.find=function(t){return this.filter(t).head()},m.prototype.findLast=function(t){return this.reverse().find(t)},m.prototype.invokeMap=Xr(function(t,e){return"function"==typeof t?new m(this):this.map(function(n){return Sr(n,t,e)})}),m.prototype.reject=function(t){return this.filter(Rs(vo(t)))},m.prototype.slice=function(t,e){t=ma(t);var n=this;return n.__filtered__&&(t>0||e<0)?new m(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==nt&&(e=ma(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},m.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},m.prototype.toArray=function(){return this.take(Mt)},cr(m.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),u=n[o?"take"+("last"==e?"Right":""):e],s=o||/^find/.test(e);u&&(n.prototype[e]=function(){var e=this.__wrapped__,a=o?[1]:arguments,l=e instanceof m,c=a[0],f=l||hp(e),p=function(t){var e=u.apply(n,g([t],a));return o&&h?e[0]:e};f&&r&&"function"==typeof c&&1!=c.length&&(l=f=!1);var h=this.__chain__,d=!!this.__actions__.length,y=s&&!h,v=l&&!d;if(!s&&f){e=v?e:new m(this);var b=t.apply(e,a);return b.__actions__.push({func:Gu,args:[p],thisArg:nt}),new i(b,h)}return y&&v?t.apply(this,a):(b=this.thru(p),y?o?b.value()[0]:b.value():b)})}),s(["pop","push","shift","sort","splice","unshift"],function(t){var e=sc[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var n=this.value();return e.apply(hp(n)?n:[],t)}return this[r](function(n){return e.apply(hp(n)?n:[],t)})}}),cr(m.prototype,function(t,e){var r=n[e];if(r){var i=r.name+"";(tf[i]||(tf[i]=[])).push({name:e,func:r})}}),tf[Yi(nt,dt).name]=[{name:"wrapper",func:nt}],m.prototype.clone=C,m.prototype.reverse=H,m.prototype.value=X,n.prototype.at=zf,n.prototype.chain=Hu,n.prototype.commit=Ku,n.prototype.next=Zu,n.prototype.plant=Xu,n.prototype.reverse=ts,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=es,n.prototype.first=n.prototype.head,Rc&&(n.prototype[Rc]=Ju),n}();Pn._=zn,(i=function(){return zn}.call(e,n,e,r))!==nt&&(r.exports=i)}).call(this)}).call(e,n(54),n(119)(t))},531:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(7),o=n(17),u=function(){function t(t){this.element=r.$$("div",{className:"magic-box-clear"});var e=r.$$("div",{className:"magic-box-icon"});this.element.append(e.el),this.element.insertAfter(r.$$(t.element).find("input")),(new o.AccessibleButton).withElement(this.element).withLabel(i.l("Clear")).withSelectAction(function(){return t.clear()}).build(),this.toggleTabindexAndAriaHidden(!1)}return t.prototype.toggleTabindexAndAriaHidden=function(t){var e=t?"0":"-1";this.element.setAttribute("tabindex",e),this.element.setAttribute("aria-hidden",""+!t)},t}();e.MagicBoxClear=u},532:function(t,e){},535:function(t,e){},536:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(32),i=n(0),o=n(212),u=function(){function t(t){var e=this;this.omnibox=t,this.cache={},this.omnibox.bind.on(this.omnibox.element,r.OmniboxEvents.populateOmniboxSuggestions,function(t){t.suggestions.push(e.getSuggestion())})}return t.prototype.getSuggestion=function(){var t=this,e=this.getHash();if(null==e)return null;var n=this.hashToString(e);if(null!=this.cache[n])return this.hashValueToSuggestion(e,this.cache[n]);var r;return"FieldName"==e.type&&(r=this.fieldNames(e.current)),"FieldValue"==e.type&&(r=this.fieldValues(e.field,e.current)),"SimpleFieldName"==e.type&&(r=this.simpleFieldNames(e.current)),this.cache[n]=r,r.catch(function(){delete t.cache[n]}),this.hashValueToSuggestion(e,r)},t.prototype.getHash=function(){var t=i.last(this.omnibox.resultAtCursor("FieldName"));if(null!=t){t=t.findParent("Field")||t;var e=t.toString(),n=t.before(),r=t.after();return{type:"FieldName",current:e,before:n,after:r}}var o=i.last(this.omnibox.resultAtCursor("FieldValue"));if(o){var u=o.findParent("FieldQuery")||this.omnibox.options.enableSimpleFieldAddon&&o.findParent("FieldSimpleQuery");if(u){var s=u.find("FieldName").toString();this.omnibox.options.fieldAlias&&s in this.omnibox.options.fieldAlias&&(s=this.omnibox.options.fieldAlias[s]);var a=o.toString(),n=o.before(),r=o.after();return{type:"FieldValue",field:s,current:a,before:n,after:r}}}if(this.omnibox.options.enableSimpleFieldAddon){var l=i.last(this.omnibox.resultAtCursor("Word"));if(null!=l){var c=l.toString(),n=l.before(),r=l.after();return{type:"SimpleFieldName",current:c,before:n,after:r}}}},t.prototype.hashToString=function(t){return null==t?null:t.type+t.current+(t.field||"")},t.prototype.hashValueToSuggestion=function(e,n){return n.then(function(n){return i.map(n,function(r,i){return{text:e.before+(0==e.current.toLowerCase().indexOf(r.toLowerCase())?e.current+r.substr(e.current.length):r)+e.after,html:o.MagicBoxUtils.highlightText(r,e.current,!0),index:t.INDEX-i/n.length}})})},t.prototype.getFields=function(){var t=this;return null==this.fields&&(this.fields=new Promise(function(e,n){if(null!=t.omnibox.options.listOfFields)e(t.omnibox.options.listOfFields);else{t.omnibox.queryController.getEndpoint().listFields().then(function(t){var n=i.chain(t).filter(function(t){return t.includeInQuery&&t.groupByField}).map(function(t){return t.name.substr(1)}).value();e(n)}).catch(function(){n()})}})),this.fields},t.prototype.fieldNames=function(t){var e=t.length>0&&"@"==t[0],n=e?t.substr(1):t,r=n.toLowerCase();return this.getFields().then(function(e){var n=i.chain(e).map(function(t){var e=t.length>0&&"@"==t[0];return{index:t.toLowerCase().indexOf(r),field:e?t:"@"+t}}).filter(function(e){return-1!=e.index&&e.field.length>t.length}).sortBy("index").map(function(t){return t.field}).value();return n=i.first(n,5)})},t.prototype.fieldValues=function(t,e){return this.omnibox.queryController.getEndpoint().listFieldValues({pattern:".*"+e+".*",patternType:"RegularExpression",sortCriteria:"occurrences",field:"@"+t,maximumNumberOfValues:5}).then(function(t){return i.chain(t).map(function(t){return{index:t.value.toLowerCase().indexOf(e),value:t.value}}).filter(function(t){return t.value.length>e.length}).sortBy("index").map(function(t){return t.value.replace(/ /g,"")}).value()})},t.prototype.simpleFieldNames=function(t){var e=t,n=e.toLowerCase();return this.getFields().then(function(e){var r=i.chain(e).map(function(t){return{index:t.toLowerCase().indexOf(n),field:t+":"}}).filter(function(e){return-1!=e.index&&e.field.length>t.length}).sortBy("index").map(function(t){return t.field}).value();return r=i.first(r,5)})},t.INDEX=64,t}();e.FieldAddon=u},537:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(32),i=n(1),o=n(4),u=n(0),s=function(){function t(t){var e=this;this.omnibox=t,this.omnibox.bind.on(this.omnibox.element,r.OmniboxEvents.populateOmniboxSuggestions,function(t){u.each(e.getSuggestion(),function(e){t.suggestions.push(e)})})}return t.prototype.getSuggestion=function(){if(0==this.omnibox.magicBox.getText().length)return null;var t=this.buildPopulateOmniboxEventArgs();return i.$$(this.omnibox.root).trigger(r.OmniboxEvents.populateOmnibox,t),this.rowsToSuggestions(t.rows)},t.prototype.getCurrentQueryExpression=function(){var t=this.omnibox.getCursor(),e=this.omnibox.getText(),n=e.length,r=t,i=t;for(" "==e[r]&&r--;r>0&&" "!=e[r];)r--;for(;i<n&&" "!=e[i];)i++;return e.substring(r,i)},t.prototype.getRegexToSearch=function(t){return null==t&&(t=this.omnibox.getText()),new RegExp(o.Utils.escapeRegexCharacter(t),"i")},t.prototype.getQueryExpressionBreakDown=function(){var t=this,e=[],n=this.omnibox.getText().split(" ");return u.each(n,function(n){e.push({word:n,regex:t.getRegexToSearch(n)})}),e},t.prototype.replace=function(t,e){this.omnibox.setText(this.omnibox.getText().replace(t,e))},t.prototype.clearCurrentExpression=function(){this.replace(this.getCurrentQueryExpression(),"")},t.prototype.insertAt=function(t,e){var n=this.omnibox.getText(),r=[n.slice(0,t),e,n.slice(t)].join("");this.omnibox.setText(r)},t.prototype.replaceCurrentExpression=function(t){this.replace(this.getCurrentQueryExpression(),t)},t.prototype.buildPopulateOmniboxEventArgs=function(){var t=this,e=this.getCurrentQueryExpression();return{rows:[],completeQueryExpression:{word:this.omnibox.getText(),regex:this.getRegexToSearch()},currentQueryExpression:{word:e,regex:this.getRegexToSearch(e)},allQueryExpressions:this.getQueryExpressionBreakDown(),cursorPosition:this.omnibox.getCursor(),clear:function(){t.omnibox.clear()},clearCurrentExpression:function(){t.clearCurrentExpression()},replace:function(e,n){t.replace(e,n)},replaceCurrentExpression:function(e){t.replaceCurrentExpression(e)},insertAt:function(e,n){t.insertAt(e,n)},closeOmnibox:function(){t.omnibox.magicBox.blur()}}},t.prototype.rowsToSuggestions=function(t){return u.map(t,function(t){return o.Utils.isNullOrUndefined(t.element)?o.Utils.isNullOrUndefined(t.deferred)?null:new Promise(function(e){t.deferred.then(function(t){e(null!=t.element?[{dom:t.element,index:t.zIndex}]:null)})}):new Promise(function(e){e([{dom:t.element,index:t.zIndex}])})})},t}();e.OldOmniboxAddon=s},538:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(32),i=n(0),o=n(212),u=function(){function t(t){var e=this;this.omnibox=t,this.cache={},this.omnibox.bind.on(this.omnibox.element,r.OmniboxEvents.populateOmniboxSuggestions,function(t){t.suggestions.push(e.getSuggestion())})}return t.prototype.getSuggestion=function(){var t=this,e=this.getHash(this.omnibox.magicBox);if(null==e)return null;var n=this.hashToString(e);if(null!=this.cache[n])return this.hashValueToSuggestion(e,this.cache[n]);var r="QueryExtensionName"==e.type?this.names(e.current):this.attributeNames(e.name,e.current,e.used);return this.cache[n]=r,r.catch(function(){delete t.cache[n]}),this.hashValueToSuggestion(e,r)},t.prototype.getHash=function(t){var e=i.last(t.resultAtCursor("QueryExtension"));if(null!=e){var n=e.findAll("QueryExtensionArgument"),r=i.last(t.resultAtCursor("QueryExtensionName"));if(null!=r)return{type:"QueryExtensionName",current:r.toString(),before:r.before(),after:r.after()};if(null!=(r=i.last(t.resultAtCursor("QueryExtensionArgumentName")))){var o=i.chain(n).map(function(t){var e=t.find("QueryExtensionArgumentName");return e&&e.toString()}).compact().value(),u=e.find("QueryExtensionName").toString();return{type:"QueryExtensionArgumentName",current:r.toString(),before:r.before(),after:r.after(),name:u,used:o}}}return null},t.prototype.hashToString=function(t){return null==t?null:[t.type,t.current,t.name||"",t.used?t.used.join():""].join()},t.prototype.hashValueToSuggestion=function(e,n){return n.then(function(n){return i.map(n,function(r,i){return{html:o.MagicBoxUtils.highlightText(r,e.current,!0),text:e.before+r+e.after,index:t.INDEX-i/n.length}})})},t.prototype.getExtensions=function(){return null==this.extensions&&(this.extensions=this.omnibox.queryController.getEndpoint().extensions()),this.extensions},t.prototype.names=function(t){var e=t.toLowerCase();return this.getExtensions().then(function(t){var n=i.chain(t).map(function(t){return{index:t.name.toLowerCase().indexOf(e),extension:t.name}}).filter(function(t){return-1!=t.index&&t.extension.length>e.length}).sortBy("index").pluck("extension").value();return n=i.first(n,5)})},t.prototype.attributeNames=function(t,e,n){return this.getExtensions().then(function(r){var o=i.find(r,function(e){return e.name==t});return null==o?[]:i.filter(i.difference(o.argumentNames,n),function(t){return 0==t.indexOf(e)})})},t.prototype.hash=function(){},t.INDEX=62,t}();e.QueryExtensionAddon=u},539:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function u(t){try{a(r.next(t))}catch(t){o(t)}}function s(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(u,s)}a((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(u=u.call(o,n[1])).done)return u;switch(o=0,u&&(n=[0,u.value]),n[0]){case 0:case 1:u=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){a.label=n[1];break}if(6===n[0]&&a.label<u[1]){a.label=u[1],u=n;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(n);break}u[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(t){n=[6,t],o=0}finally{i=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,u,s,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),u=n(27),s=n(32),a=n(19),l=n(0),c=n(13),f=n(93),p=n(70),h=n(4),g=function(){function t(t){var e=this;this.omnibox=t,o.$$(this.omnibox.element).on(s.OmniboxEvents.populateOmniboxSuggestions,function(t,n){n.suggestions.push(e.getSuggestion())})}return t.suggestiontHtml=function(t){return t.highlighted.replace(/\[(.*?)\]|\{(.*?)\}|\((.*?)\)/g,function(t,e,n,r){var i="";n&&(i="coveo-omnibox-hightlight"),r&&(i="coveo-omnibox-hightlight2");var u;return u=i?o.$$("span",{className:i}):o.$$("span"),u.text(e||n||r),u.el.outerHTML})},t.isPartialMatch=function(t){var e=a.StringUtils.match(t.highlighted,/\[(.*?)\]|\{(.*?)\}|\((.*?)\)/g),n=l.find(e,function(t){return null!=t[1]});return null==n||l.every(l.last(e,l.indexOf(e,n)-e.length),function(t){return null!=t[1]})},t.prototype.getSuggestion=function(){var t=this.omnibox.magicBox.getText();return t.length>=this.omnibox.options.querySuggestCharacterThreshold?this.getQuerySuggest(t):Promise.resolve([])},t.prototype.getQuerySuggest=function(e){return r(this,void 0,void 0,function(){var n,r,u,a;return i(this,function(i){switch(i.label){case 0:n={q:e,locale:this.locale,searchHub:this.searchHub,pipeline:this.pipeline,enableWordCompletion:this.enableWordCompletion,context:this.context,count:this.count,tab:this.tab,referrer:document.referrer,actionsHistory:this.actionsHistory,timezone:this.timezone,visitorId:this.visitorId,isGuestUser:this.isGuestUser},o.$$(this.omnibox.getBindings().searchInterface.element).trigger(s.OmniboxEvents.buildingQuerySuggest,{payload:n}),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.omnibox.queryController.getEndpoint().getQuerySuggest(n)];case 2:return r=i.sent(),[3,4];case 3:return u=i.sent(),[2,[]];case 4:return a=r.completions,o.$$(this.omnibox.getBindings().searchInterface.element).trigger(s.OmniboxEvents.querySuggestSuccess,{completions:a}),[2,l.map(a,function(e,n){return{html:t.suggestiontHtml(e),text:e.expression,index:t.INDEX-n/a.length,partial:t.isPartialMatch(e),executableConfidence:e.executableConfidence}})]}})})},Object.defineProperty(t.prototype,"tab",{get:function(){var t=this.omnibox.getBindings().queryStateModel.get(c.QUERY_STATE_ATTRIBUTES.T);if(h.Utils.isNonEmptyString(t))return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locale",{get:function(){return String.locale},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchHub",{get:function(){return this.omnibox.getBindings().componentOptionsModel.get(u.ComponentOptionsModel.attributesEnum.searchHub)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pipeline",{get:function(){return this.omnibox.getBindings().searchInterface.options.pipeline},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enableWordCompletion",{get:function(){return this.omnibox.options.enableSearchAsYouType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.omnibox.getBindings().searchInterface.getQueryContext()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this.omnibox.options.numberOfSuggestions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionsHistory",{get:function(){var t=new f.history.HistoryStore,e=t.getHistory();return null==e?[]:e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezone",{get:function(){return this.omnibox.getBindings().searchInterface.options.timezone},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visitorId",{get:function(){return p.Cookie.get("visitorId")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isGuestUser",{get:function(){return this.omnibox.getBindings().queryController.getEndpoint().options.isGuestUser},enumerable:!0,configurable:!0}),t.INDEX=60,t}();e.QuerySuggestAddon=g;var d=function(){function t(){}return t.prototype.getSuggestion=function(){return Promise.resolve([])},t}();e.VoidQuerySuggestAddon=d},621:function(t,e){},622:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(){function t(){}return t.resize=function(t,e){var n=this,r=this.getSearchbox(t),i=this.getElementsToResize(t),o=this.getInput(t),u="height: "+e+"px; line-height: "+e+"px;",s="height: "+e+"px",a="height: "+(e-2)+"px;";this.applyStyle(r,u),this.applyStyle(o,a),i.forEach(function(t){n.applyStyle(t,s)})},t.applyStyle=function(t,e){t.style.cssText+=e},t.getSearchbox=function(t){return r.$$(t).find(".CoveoOmnibox")||r.$$(t).find(".CoveoQuerybox")},t.getElementsToResize=function(t){return[r.$$(t).find(".CoveoSearchButton"),r.$$(r.$$(t).find(".magic-box-input")).find("input"),r.$$(t).find(".magic-box-icon"),r.$$(t).find(".magic-box-clear"),r.$$(t).find(".magic-box-underlay")]},t.getInput=function(t){return r.$$(t).find(".magic-box-input")},t}();e.SearchBoxResize=i}});