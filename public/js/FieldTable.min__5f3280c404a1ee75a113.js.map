{"version":3,"sources":["FieldTable.min__5f3280c404a1ee75a113.js","./src/ui/FieldValue/FieldValue.ts","./src/ui/FieldTable/FieldTable.ts","./src/ui/Facet/FacetUtils.ts","./src/ui/FieldValue/IFieldValueCompatibleFacet.ts"],"names":["webpackJsonpCoveo__temporary","118","module","exports","__webpack_require__","showOnlyWithHelper","helpers","options","__extends","this","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","value","element","bindings","result","fieldValueClassId","FieldValue","ID","ComponentOptions","initOptions","simpleOptions","helper","normalizeHelperAndOptions","resolveResult","Assert","exists","TemplateFieldsEvaluator","evaluateFieldsToMatch","conditions","getValue","initialize","parentElement","removeChild","_this","values","loadedValueFromComponent","isArray","splitValues","isString","map","split","separator","v","trim","toString","appendValuesToDom","textCaption","prependTextCaptionToDom","Utils","getFieldValue","field","isObject","renderOneValue","$$","el","toRender","getCaption","TemplateHelpers","getHelper","call","getHelperOptions","logger","warn","keys","getHelpers","fullDateStr","getFullDate","setAttribute","StringUtils","capitalizeFirstLetter","htmlValue","innerHTML","appendChild","document","createTextNode","bindEventOnValue","getValueContainer","helperOptions","toFilter","toKeep","filter","optionKey","optionDefinition","contains","omit","key","inlineOptions","loadStringOption","isNonEmptyString","extend","eval","date","fullDateOptions","useLongDateFormat","useTodayYesterdayAndTomorrow","useWeekdayIfThisWeek","omitYearIfCurrentOne","DateUtils","dateToString","Date","parseInt","dateTimeToString","each","index","undefined","length","displaySeparator","renderTextCaption","className","escape","elem","prepend","addClass","originalFacetValue","renderedFacetValue","bindFacets","getFacets","facet","caption","getCaptionForStringValue","FacetUtils","tryToGetTranslatedCaption","facets","ComponentsTypes","getAllFacetsFromSearchInterface","searchInterface","isFacetFieldValueCompatible","disabled","facetsWithMatchingId","id","isValueSelected","find","hasSelectedValue","selectAction","handleFacetSelection","buildClickableElement","isSelected","label","l","AccessibleButton","withTitle","withElement","withSelectAction","build","forEach","deselectValue","selectValue","executeQuery","queryController","deferExecuteQuery","beforeExecuteQuery","usageAnalytics","logSearchEvent","analyticsActionCauseList","documentField","facetId","facetField","facetValue","toLowerCase","doExport","exportGlobally","buildFieldOption","defaultValue","required","buildStringOption","postProcessing","buildBooleanOption","depend","buildHelperOption","buildObjectOption","subOptions","text","target","class","format","decimals","buildNumberOption","min","symbol","includeTimeIfToday","includeTimeIfThisWeek","alwaysIncludeTime","predefinedFormat","companyDomain","me","lengthLimit","truncateName","alt","height","width","srcTemplate","precision","base","isMilliseconds","buildLocalizedStringOption","buildFieldConditionOption","Component","Initialization","registerAutoCreateComponent","253","ValueRow","initComponentOptions","FieldTable","rows","findAll","e","detach","isTogglable","toggleContainer","uniqueId","buildToggle","insertBefore","toggleButtonInsideTable","get","toggleButton","getAttribute","set","expanded","enumerable","configurable","toggle","anim","isExpanded","minimize","expand","toggleCaption","textContent","expandedTitle","SVGDom","addClassToSVGInContainer","toggleButtonSVGContainer","slideToggle","minimizedTitle","removeClassFromSVGInContainer","updateToggleHeight","updateToggleContainerHeight","allowMinimization","ariaControls","SVGIcons","icons","arrowDown","arrowUp","minimizedByDefault","QueryUtils","hasExcerpt","requestAnimationFrame","toggleAction","withOwner","bind","withLabel","on","visible","style","display","containerHeight","offsetHeight","removeClass","toggleContainerHeight","scrollHeight","localizedString","toLocaleString","valueContainer","createElement","substr","parent","39","getRegexToUseForFacetSearch","ignoreAccent","RegExp","stringToRegex","getDisplayValueFromValueCaption","valueCaption","returnValue","getValuesToUseForSearchInFacet","original","ret","regex","facetSearchIgnoreAccents","_","chain","pairs","pair","test","match","push","isStratusAgnosticField","FileTypes","getFileTypeCaptions","range","month","monthToString","buildFacetSearchPattern","escapeRegexCharacter","join","needAnotherFacetSearch","currentSearchLength","newSearchLength","oldSearchLength","desiredSearchLength","addNoStateCssClassToFacetValues","container","getSelected","noStates","noState","found","getFileType","getObjectType","isMonthFieldValue","asInt","isNaN","534","614"],"mappings":"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","file":"FieldTable.min__5f3280c404a1ee75a113.js","sourcesContent":["webpackJsonpCoveo__temporary([27,38],{\n\n/***/ 118:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar underscore_1 = __webpack_require__(0);\r\nvar GlobalExports_1 = __webpack_require__(3);\r\nvar Assert_1 = __webpack_require__(5);\r\nvar Strings_1 = __webpack_require__(6);\r\nvar AccessibleButton_1 = __webpack_require__(15);\r\nvar DateUtils_1 = __webpack_require__(32);\r\nvar Dom_1 = __webpack_require__(1);\r\nvar StringUtils_1 = __webpack_require__(22);\r\nvar Utils_1 = __webpack_require__(4);\r\nvar AnalyticsActionListMeta_1 = __webpack_require__(10);\r\nvar Component_1 = __webpack_require__(7);\r\nvar ComponentOptions_1 = __webpack_require__(8);\r\nvar Initialization_1 = __webpack_require__(2);\r\nvar FacetUtils_1 = __webpack_require__(39);\r\nvar TemplateFieldsEvaluator_1 = __webpack_require__(132);\r\nvar TemplateHelpers_1 = __webpack_require__(115);\r\nvar IFieldValueCompatibleFacet_1 = __webpack_require__(534);\r\nvar ComponentsTypes_1 = __webpack_require__(45);\r\nfunction showOnlyWithHelper(helpers, options) {\r\n    if (options == null) {\r\n        options = {};\r\n    }\r\n    options.helpers = helpers;\r\n    return options;\r\n}\r\n/**\r\n * The FieldValue component displays the value of a field associated to its parent search result. It is normally usable\r\n * within a {@link FieldTable}.\r\n *\r\n * This component is a result template component (see [Result Templates](https://docs.coveo.com/en/413/)).\r\n *\r\n * A common use of this component is to display a specific field value which also happens to be an existing\r\n * {@link Facet.options.field}. When the user clicks on the FieldValue component, it activates the corresponding Facet.\r\n */\r\nvar FieldValue = /** @class */ (function (_super) {\r\n    __extends(FieldValue, _super);\r\n    /**\r\n     * Creates a new FieldValue.\r\n     * @param element The HTMLElement on which to instantiate the component.\r\n     * @param options The options for the FieldValue component.\r\n     * @param bindings The bindings that the component requires to function normally. If not set, these will be\r\n     * automatically resolved (with a slower execution time).\r\n     * @param result The result to associate the component with.\r\n     */\r\n    function FieldValue(element, options, bindings, result, fieldValueClassId) {\r\n        if (fieldValueClassId === void 0) { fieldValueClassId = FieldValue.ID; }\r\n        var _this = _super.call(this, element, fieldValueClassId, bindings) || this;\r\n        _this.element = element;\r\n        _this.options = options;\r\n        _this.result = result;\r\n        _this.options = ComponentOptions_1.ComponentOptions.initOptions(element, FieldValue.simpleOptions, options, FieldValue.ID);\r\n        if (_this.options.helper != null) {\r\n            _this.normalizeHelperAndOptions();\r\n        }\r\n        _this.result = _this.result || _this.resolveResult();\r\n        Assert_1.Assert.exists(_this.result);\r\n        if (TemplateFieldsEvaluator_1.TemplateFieldsEvaluator.evaluateFieldsToMatch(_this.options.conditions, _this.result) && _this.getValue()) {\r\n            _this.initialize();\r\n        }\r\n        else if (_this.element.parentElement != null) {\r\n            _this.element.parentElement.removeChild(_this.element);\r\n        }\r\n        return _this;\r\n    }\r\n    FieldValue.prototype.initialize = function () {\r\n        var loadedValueFromComponent = this.getValue();\r\n        var values;\r\n        if (underscore_1.isArray(loadedValueFromComponent)) {\r\n            values = loadedValueFromComponent;\r\n        }\r\n        else if (this.options.splitValues) {\r\n            if (underscore_1.isString(loadedValueFromComponent)) {\r\n                values = underscore_1.map(loadedValueFromComponent.split(this.options.separator), function (v) {\r\n                    return v.trim();\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            loadedValueFromComponent = loadedValueFromComponent.toString();\r\n            values = [loadedValueFromComponent];\r\n        }\r\n        this.appendValuesToDom(values);\r\n        if (this.options.textCaption != null) {\r\n            this.prependTextCaptionToDom();\r\n        }\r\n    };\r\n    /**\r\n     * Gets the current FieldValue from the current {@link IQueryResult}.\r\n     *\r\n     * @returns {any} The current FieldValue or `null` if value is and `Object`.\r\n     */\r\n    FieldValue.prototype.getValue = function () {\r\n        var value = Utils_1.Utils.getFieldValue(this.result, this.options.field);\r\n        if (!underscore_1.isArray(value) && underscore_1.isObject(value)) {\r\n            value = null;\r\n        }\r\n        return value;\r\n    };\r\n    /**\r\n     * Renders a value to HTML using all of the current FieldValue component options.\r\n     * @param value The value to render.\r\n     * @returns {HTMLElement} The element containing the rendered value.\r\n     */\r\n    FieldValue.prototype.renderOneValue = function (value) {\r\n        var element = Dom_1.$$('span').el;\r\n        var toRender = this.getCaption(value);\r\n        if (this.options.helper) {\r\n            // Try to resolve and execute version 2 of each helper function if available\r\n            var helper = TemplateHelpers_1.TemplateHelpers.getHelper(this.options.helper + \"v2\") || TemplateHelpers_1.TemplateHelpers.getHelper(\"\" + this.options.helper);\r\n            if (Utils_1.Utils.exists(helper)) {\r\n                toRender = helper.call(this, value, this.getHelperOptions());\r\n            }\r\n            else {\r\n                this.logger.warn(\"Helper \" + this.options.helper + \" is not found in available helpers. The list of supported helpers is :\", underscore_1.keys(TemplateHelpers_1.TemplateHelpers.getHelpers()));\r\n            }\r\n            var fullDateStr = this.getFullDate(value, this.options.helper);\r\n            if (fullDateStr) {\r\n                element.setAttribute('title', fullDateStr);\r\n            }\r\n            if (this.options.helper == 'date' || this.options.helper == 'dateTime' || this.options.helper == 'emailDateTime') {\r\n                toRender = StringUtils_1.StringUtils.capitalizeFirstLetter(toRender);\r\n            }\r\n        }\r\n        if (this.options.htmlValue) {\r\n            element.innerHTML = toRender;\r\n        }\r\n        else {\r\n            element.appendChild(document.createTextNode(toRender));\r\n        }\r\n        this.bindEventOnValue(element, value, toRender);\r\n        return element;\r\n    };\r\n    FieldValue.prototype.getValueContainer = function () {\r\n        return this.element;\r\n    };\r\n    FieldValue.prototype.normalizeHelperAndOptions = function () {\r\n        var _this = this;\r\n        this.options = ComponentOptions_1.ComponentOptions.initOptions(this.element, FieldValue.helperOptions, this.options, FieldValue.ID);\r\n        var toFilter = underscore_1.keys(FieldValue.options.helperOptions['subOptions']);\r\n        var toKeep = underscore_1.filter(toFilter, function (optionKey) {\r\n            var optionDefinition = FieldValue.options.helperOptions['subOptions'][optionKey];\r\n            if (optionDefinition) {\r\n                var helpers = optionDefinition.helpers;\r\n                return helpers != null && underscore_1.contains(helpers, _this.options.helper);\r\n            }\r\n            return false;\r\n        });\r\n        this.options.helperOptions = underscore_1.omit(this.options.helperOptions, function (value, key) {\r\n            return !underscore_1.contains(toKeep, key);\r\n        });\r\n    };\r\n    FieldValue.prototype.getHelperOptions = function () {\r\n        var inlineOptions = ComponentOptions_1.ComponentOptions.loadStringOption(this.element, 'helperOptions', {});\r\n        if (Utils_1.Utils.isNonEmptyString(inlineOptions)) {\r\n            return underscore_1.extend({}, this.options.helperOptions, eval('(' + inlineOptions + ')'));\r\n        }\r\n        return this.options.helperOptions;\r\n    };\r\n    FieldValue.prototype.getFullDate = function (date, helper) {\r\n        var fullDateOptions = {\r\n            useLongDateFormat: true,\r\n            useTodayYesterdayAndTomorrow: false,\r\n            useWeekdayIfThisWeek: false,\r\n            omitYearIfCurrentOne: false\r\n        };\r\n        if (helper == 'date') {\r\n            return DateUtils_1.DateUtils.dateToString(new Date(parseInt(date)), fullDateOptions);\r\n        }\r\n        else if (helper == 'dateTime' || helper == 'emailDateTime') {\r\n            return DateUtils_1.DateUtils.dateTimeToString(new Date(parseInt(date)), fullDateOptions);\r\n        }\r\n        return '';\r\n    };\r\n    FieldValue.prototype.appendValuesToDom = function (values) {\r\n        var _this = this;\r\n        underscore_1.each(values, function (value, index) {\r\n            if (value != undefined) {\r\n                _this.getValueContainer().appendChild(_this.renderOneValue(value));\r\n                if (index !== values.length - 1) {\r\n                    _this.getValueContainer().appendChild(document.createTextNode(_this.options.displaySeparator));\r\n                }\r\n            }\r\n        });\r\n    };\r\n    FieldValue.prototype.renderTextCaption = function () {\r\n        var element = Dom_1.$$('span', { className: 'coveo-field-caption' }, underscore_1.escape(this.options.textCaption));\r\n        return element.el;\r\n    };\r\n    FieldValue.prototype.prependTextCaptionToDom = function () {\r\n        var elem = this.getValueContainer();\r\n        Dom_1.$$(elem).prepend(this.renderTextCaption());\r\n        // Add a class to the container so the value and the caption wrap together.\r\n        Dom_1.$$(elem).addClass('coveo-with-label');\r\n    };\r\n    FieldValue.prototype.bindEventOnValue = function (element, originalFacetValue, renderedFacetValue) {\r\n        this.bindFacets(element, originalFacetValue, renderedFacetValue);\r\n    };\r\n    FieldValue.prototype.getCaption = function (value) {\r\n        for (var _i = 0, _a = this.getFacets(); _i < _a.length; _i++) {\r\n            var facet = _a[_i];\r\n            var caption = facet.getCaptionForStringValue(value);\r\n            if (caption) {\r\n                return caption;\r\n            }\r\n        }\r\n        return FacetUtils_1.FacetUtils.tryToGetTranslatedCaption(this.options.field, value);\r\n    };\r\n    FieldValue.prototype.getFacets = function () {\r\n        var _this = this;\r\n        var facets = ComponentsTypes_1.ComponentsTypes.getAllFacetsFromSearchInterface(this.searchInterface)\r\n            .filter(IFieldValueCompatibleFacet_1.isFacetFieldValueCompatible)\r\n            .filter(function (facet) { return !facet.disabled; });\r\n        var facetsWithMatchingId = facets.filter(function (facet) { return facet.options.id === _this.options.facet; });\r\n        if (facetsWithMatchingId.length) {\r\n            return facetsWithMatchingId;\r\n        }\r\n        return facets.filter(function (facet) { return facet.options.field === _this.options.field; });\r\n    };\r\n    FieldValue.prototype.bindFacets = function (element, originalFacetValue, renderedFacetValue) {\r\n        var _this = this;\r\n        var facets = this.getFacets();\r\n        if (!facets.length) {\r\n            return;\r\n        }\r\n        var isValueSelected = !!underscore_1.find(facets, function (facet) { return facet.hasSelectedValue(originalFacetValue); });\r\n        var selectAction = function () { return _this.handleFacetSelection(isValueSelected, facets, originalFacetValue); };\r\n        this.buildClickableElement(element, isValueSelected, renderedFacetValue, selectAction);\r\n    };\r\n    FieldValue.prototype.buildClickableElement = function (element, isSelected, value, selectAction) {\r\n        var label = isSelected ? Strings_1.l('RemoveFilterOn', value) : Strings_1.l('FilterOn', value);\r\n        new AccessibleButton_1.AccessibleButton().withTitle(label).withElement(element).withSelectAction(selectAction).build();\r\n        if (isSelected) {\r\n            Dom_1.$$(element).addClass('coveo-selected');\r\n        }\r\n        Dom_1.$$(element).addClass('coveo-clickable');\r\n    };\r\n    FieldValue.prototype.handleFacetSelection = function (isValueSelected, facets, value) {\r\n        facets.forEach(function (facet) {\r\n            isValueSelected ? facet.deselectValue(value) : facet.selectValue(value);\r\n        });\r\n        this.executeQuery(value);\r\n    };\r\n    FieldValue.prototype.executeQuery = function (value) {\r\n        var _this = this;\r\n        this.queryController.deferExecuteQuery({\r\n            beforeExecuteQuery: function () {\r\n                return _this.usageAnalytics.logSearchEvent(AnalyticsActionListMeta_1.analyticsActionCauseList.documentField, {\r\n                    facetId: _this.options.facet,\r\n                    facetField: _this.options.field.toString(),\r\n                    facetValue: value.toLowerCase()\r\n                });\r\n            }\r\n        });\r\n    };\r\n    FieldValue.ID = 'FieldValue';\r\n    FieldValue.doExport = function () {\r\n        GlobalExports_1.exportGlobally({\r\n            FieldValue: FieldValue\r\n        });\r\n    };\r\n    /**\r\n     * The options for the component\r\n     * @componentOptions\r\n     */\r\n    FieldValue.options = {\r\n        /**\r\n         * Specifies the field that the FieldValue should display.\r\n         *\r\n         * Specifying a value for this parameter is required in order for the FieldValue component to work.\r\n         */\r\n        field: ComponentOptions_1.ComponentOptions.buildFieldOption({ defaultValue: '@field', required: true }),\r\n        /**\r\n         * Specifies the {@link Facet} component to toggle when the end user clicks the FieldValue.\r\n         *\r\n         * Default value is the value of {@link FieldValue.options.field}.\r\n         *\r\n         * **Note:**\r\n         * > If the target {@link Facet.options.id} is is not the same as its {@link Facet.options.field}), you must specify\r\n         * > this option manually in order to link to the correct Facet.\r\n         */\r\n        facet: ComponentOptions_1.ComponentOptions.buildStringOption({ postProcessing: function (value, options) { return value || options.field; } }),\r\n        /**\r\n         * Specifies whether the content to display is an HTML element.\r\n         *\r\n         * Default value is `false`.\r\n         */\r\n        htmlValue: ComponentOptions_1.ComponentOptions.buildBooleanOption({ defaultValue: false }),\r\n        /**\r\n         * Specifies whether to split the FieldValue at each {@link FieldValue.options.separator}.\r\n         *\r\n         * This is useful for splitting groups using a {@link Facet.options.field}.\r\n         *\r\n         * When this option is `true`, the displayed values are split by the {@link FieldValue.options.displaySeparator}.\r\n         *\r\n         * Default value is `false`.\r\n         */\r\n        splitValues: ComponentOptions_1.ComponentOptions.buildBooleanOption({ defaultValue: false }),\r\n        /**\r\n         * If {@link FieldValue.options.splitValues} is `true`, specifies the separator string which separates multi-value\r\n         * fields in the index.\r\n         *\r\n         * See {@link FieldValue.options.displaySeparator}.\r\n         *\r\n         * Default value is `\";\"`.\r\n         */\r\n        separator: ComponentOptions_1.ComponentOptions.buildStringOption({ depend: 'splitValues', defaultValue: ';' }),\r\n        /**\r\n         * If {@link FieldValue.options.splitValues} is `true`, specifies the string to use when displaying multi-value\r\n         * fields in the UI.\r\n         *\r\n         * The component will insert this string between each value it displays from a multi-value field.\r\n         *\r\n         * See also {@link FieldValue.options.separator}.\r\n         *\r\n         * Default value is `\", \"`.\r\n         */\r\n        displaySeparator: ComponentOptions_1.ComponentOptions.buildStringOption({ depend: 'splitValues', defaultValue: ', ' }),\r\n        /**\r\n         * Specifies the helper that the FieldValue should use to display its content.\r\n         *\r\n         * While several helpers exist by default (see {@link ICoreHelpers}), it is also possible for you to create your own\r\n         * custom helpers (see {@link TemplateHelpers}).\r\n         */\r\n        helper: ComponentOptions_1.ComponentOptions.buildHelperOption(),\r\n        /**\r\n         * Specifies the options to call on the specified helper.\r\n         */\r\n        helperOptions: ComponentOptions_1.ComponentOptions.buildObjectOption({\r\n            subOptions: {\r\n                text: ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(['anchor'])),\r\n                target: ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(['anchor'])),\r\n                class: ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(['anchor'])),\r\n                format: ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(['number'])),\r\n                decimals: ComponentOptions_1.ComponentOptions.buildNumberOption(showOnlyWithHelper(['currency'], { min: 0 })),\r\n                symbol: ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(['currency'])),\r\n                useTodayYesterdayAndTomorrow: ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(['date', 'dateTime', 'emailDateTime', 'time'], { defaultValue: true })),\r\n                useWeekdayIfThisWeek: ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(['date', 'dateTime', 'emailDateTime', 'time'], { defaultValue: true })),\r\n                omitYearIfCurrentOne: ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(['date', 'dateTime', 'emailDateTime', 'time'], { defaultValue: true })),\r\n                useLongDateFormat: ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(['date', 'dateTime', 'emailDateTime', 'time'], { defaultValue: false })),\r\n                includeTimeIfToday: ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(['date', 'dateTime', 'emailDateTime', 'time'], { defaultValue: true })),\r\n                includeTimeIfThisWeek: ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(['date', 'dateTime', 'emailDateTime', 'time'], { defaultValue: true })),\r\n                alwaysIncludeTime: ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(['date', 'dateTime', 'emailDateTime', 'time'], { defaultValue: false })),\r\n                predefinedFormat: ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(['date', 'dateTime', 'emailDateTime', 'time'])),\r\n                companyDomain: ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(['email'])),\r\n                me: ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(['email'])),\r\n                lengthLimit: ComponentOptions_1.ComponentOptions.buildNumberOption(showOnlyWithHelper(['email'], { min: 1 })),\r\n                truncateName: ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(['email'])),\r\n                alt: ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(['image'])),\r\n                height: ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(['image'])),\r\n                width: ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(['image'])),\r\n                srcTemplate: ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(['image'])),\r\n                precision: ComponentOptions_1.ComponentOptions.buildNumberOption(showOnlyWithHelper(['size'], { min: 0, defaultValue: 2 })),\r\n                base: ComponentOptions_1.ComponentOptions.buildNumberOption(showOnlyWithHelper(['size'], { min: 0, defaultValue: 0 })),\r\n                isMilliseconds: ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(['timeSpan'])),\r\n                length: ComponentOptions_1.ComponentOptions.buildNumberOption(showOnlyWithHelper(['shorten', 'shortenPath', 'shortenUri'], { defaultValue: 200 }))\r\n            }\r\n        }),\r\n        /**\r\n         * Specifies a caption to display before the value.\r\n         *\r\n         * Default value is `undefined`.\r\n         *\r\n         * @availablesince [January 2017 Release (v1.1865.9)](https://docs.coveo.com/en/396/#january-2017-release-v118659)\r\n         */\r\n        textCaption: ComponentOptions_1.ComponentOptions.buildLocalizedStringOption(),\r\n        /**\r\n         * A field-based condition that must be satisfied by the query result item for the component to be rendered.\r\n         *\r\n         * Note: This option uses a distinctive markup configuration syntax allowing multiple conditions to be expressed. Its underlying logic is the same as that of the field value conditions mechanism used by result templates.\r\n         *\r\n         * **Examples:**\r\n         * Render the component if the query result item's @documenttype field value is Article or Documentation.\r\n         * ```html\r\n         * <div class=\"CoveoFieldValue\" data-field=\"@author\" data-condition-field-documenttype=\"Article, Documentation\"></div>\r\n         * ```\r\n         * Render the component if the query result item's @documenttype field value is anything but Case.\r\n         * ```html\r\n         * <div class=\"CoveoFieldValue\" data-field=\"@author\" data-condition-field-not-documenttype=\"Case\"></div>\r\n         * ```\r\n         * Render the component if the query result item's @documenttype field value is Article, and if its @author field value is anything but Anonymous.\r\n         * ```html\r\n         * <div class=\"CoveoFieldValue\" data-field=\"@author\" data-condition-field-documenttype=\"Article\" data-condition-field-not-author=\"Anonymous\"></div>\r\n         * ```\r\n         * Default value is `undefined`.\r\n         */\r\n        conditions: ComponentOptions_1.ComponentOptions.buildFieldConditionOption()\r\n    };\r\n    FieldValue.simpleOptions = underscore_1.omit(FieldValue.options, 'helperOptions');\r\n    FieldValue.helperOptions = {\r\n        helperOptions: FieldValue.options.helperOptions\r\n    };\r\n    return FieldValue;\r\n}(Component_1.Component));\r\nexports.FieldValue = FieldValue;\r\nInitialization_1.Initialization.registerAutoCreateComponent(FieldValue);\r\n\n\n/***/ }),\n\n/***/ 253:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__webpack_require__(614);\r\nvar underscore_1 = __webpack_require__(0);\r\nvar GlobalExports_1 = __webpack_require__(3);\r\nvar Strings_1 = __webpack_require__(6);\r\nvar AccessibleButton_1 = __webpack_require__(15);\r\nvar Dom_1 = __webpack_require__(1);\r\nvar QueryUtils_1 = __webpack_require__(21);\r\nvar SVGDom_1 = __webpack_require__(16);\r\nvar SVGIcons_1 = __webpack_require__(12);\r\nvar Component_1 = __webpack_require__(7);\r\nvar ComponentOptions_1 = __webpack_require__(8);\r\nvar Initialization_1 = __webpack_require__(2);\r\nvar FieldValue_1 = __webpack_require__(118);\r\n/**\r\n * The FieldTable component displays a set of {@link FieldValue} components in a table that can optionally be\r\n * expandable and minimizable. This component automatically takes care of not displaying empty field values.\r\n *\r\n * This component is a result template component (see [Result Templates](https://docs.coveo.com/en/413/)).\r\n *\r\n * **Example:**\r\n *\r\n * ```\r\n * // This is the FieldTable component itself, which holds a list of table rows.\r\n * // Each row is a FieldValue component.\r\n * <table class='CoveoFieldTable'>\r\n *    // Items\r\n *    <tr data-field='@sysdate' data-caption='Date' data-helper='dateTime' />\r\n *    <tr data-field='@sysauthor' data-caption='Author' />\r\n *    <tr data-field='@clickuri' data-html-value='true' data-caption='URL' data-helper='anchor' data-helper-options='{text: \\\"<%= raw.syssource %>\\\" , target:\\\"_blank\\\"}'>\r\n * </table>\r\n * ```\r\n */\r\nvar FieldTable = /** @class */ (function (_super) {\r\n    __extends(FieldTable, _super);\r\n    /**\r\n     * Creates a new FieldTable.\r\n     * @param element The HTMLElement on which to instantiate the component.\r\n     * @param options The options for the FieldTable component.\r\n     * @param bindings The bindings that the component requires to function normally. If not set, these will be\r\n     * automatically resolved (with a slower execution time).\r\n     * @param result The result to associate the component with.\r\n     */\r\n    function FieldTable(element, options, bindings, result) {\r\n        var _this = _super.call(this, element, ValueRow.ID, bindings) || this;\r\n        _this.element = element;\r\n        _this.options = options;\r\n        _this.result = result;\r\n        _this.options = ComponentOptions_1.ComponentOptions.initComponentOptions(element, FieldTable, options);\r\n        var rows = Dom_1.$$(_this.element).findAll('tr[data-field]');\r\n        underscore_1.each(rows, function (e) {\r\n            new ValueRow(e, {}, bindings, result);\r\n        });\r\n        if (Dom_1.$$(_this.element).find('tr') == null) {\r\n            Dom_1.$$(element).detach();\r\n        }\r\n        if (_this.isTogglable()) {\r\n            var className = 'coveo-field-table-toggle-container';\r\n            _this.toggleContainer = Dom_1.$$('div', { className: className, id: underscore_1.uniqueId(className) }).el;\r\n            _this.buildToggle();\r\n            Dom_1.$$(_this.toggleContainer).insertBefore(_this.element);\r\n            _this.toggleContainer.appendChild(_this.element);\r\n            _this.toggleContainer.appendChild(_this.toggleButtonInsideTable);\r\n        }\r\n        return _this;\r\n    }\r\n    Object.defineProperty(FieldTable.prototype, \"isExpanded\", {\r\n        get: function () {\r\n            return !this.toggleButton || this.toggleButton.getAttribute('aria-expanded') === 'true';\r\n        },\r\n        set: function (expanded) {\r\n            if (this.toggleButton) {\r\n                this.toggleButton.setAttribute('aria-expanded', expanded.toString());\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Toggles between expanding (showing) and minimizing (collapsing) the FieldTable.\r\n     *\r\n     * @param anim Specifies whether to show a sliding animation when toggling the display of the FieldTable.\r\n     */\r\n    FieldTable.prototype.toggle = function (anim) {\r\n        if (anim === void 0) { anim = false; }\r\n        this.isExpanded ? this.minimize(anim) : this.expand(anim);\r\n    };\r\n    /**\r\n     * Expands (shows) the FieldTable,\r\n     * @param anim Specifies whether to show a sliding animation when expanding the FieldTable.\r\n     */\r\n    FieldTable.prototype.expand = function (anim) {\r\n        if (anim === void 0) { anim = false; }\r\n        if (this.isTogglable()) {\r\n            this.isExpanded = true;\r\n            this.toggleCaption.textContent = this.options.expandedTitle;\r\n            SVGDom_1.SVGDom.addClassToSVGInContainer(this.toggleButtonSVGContainer, 'coveo-opened');\r\n            SVGDom_1.SVGDom.addClassToSVGInContainer(this.toggleButtonInsideTable, 'coveo-opened');\r\n            anim ? this.slideToggle(true) : this.slideToggle(true, false);\r\n        }\r\n    };\r\n    /**\r\n     * Minimizes (collapses) the FieldTable.\r\n     * @param anim Specifies whether to show a sliding animation when minimizing the FieldTable.\r\n     */\r\n    FieldTable.prototype.minimize = function (anim) {\r\n        if (anim === void 0) { anim = false; }\r\n        if (this.isTogglable()) {\r\n            this.isExpanded = false;\r\n            this.toggleCaption.textContent = this.options.minimizedTitle;\r\n            SVGDom_1.SVGDom.removeClassFromSVGInContainer(this.toggleButtonSVGContainer, 'coveo-opened');\r\n            SVGDom_1.SVGDom.removeClassFromSVGInContainer(this.toggleButtonInsideTable, 'coveo-opened');\r\n            anim ? this.slideToggle(false) : this.slideToggle(false, false);\r\n        }\r\n    };\r\n    /**\r\n     * Updates the toggle height if the content was dynamically resized, so that the expanding and minimizing animation\r\n     * can match the new content size.\r\n     */\r\n    FieldTable.prototype.updateToggleHeight = function () {\r\n        this.updateToggleContainerHeight();\r\n        this.isExpanded ? this.expand() : this.minimize();\r\n    };\r\n    FieldTable.prototype.isTogglable = function () {\r\n        if (this.options.allowMinimization) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    FieldTable.prototype.buildToggle = function () {\r\n        var _this = this;\r\n        this.toggleCaption = Dom_1.$$('span', {\r\n            className: 'coveo-field-table-toggle-caption'\r\n        }).el;\r\n        this.toggleButton = Dom_1.$$('div', {\r\n            className: 'coveo-field-table-toggle coveo-field-table-toggle-down',\r\n            ariaControls: this.toggleContainer.id\r\n        }).el;\r\n        this.toggleButtonSVGContainer = Dom_1.$$('span', null, SVGIcons_1.SVGIcons.icons.arrowDown).el;\r\n        SVGDom_1.SVGDom.addClassToSVGInContainer(this.toggleButtonSVGContainer, 'coveo-field-table-toggle-down-svg');\r\n        this.toggleButton.appendChild(this.toggleCaption);\r\n        this.toggleButton.appendChild(this.toggleButtonSVGContainer);\r\n        Dom_1.$$(this.toggleButton).insertBefore(this.element);\r\n        this.toggleButtonInsideTable = Dom_1.$$('span', { className: 'coveo-field-table-toggle coveo-field-table-toggle-up' }, SVGIcons_1.SVGIcons.icons.arrowUp).el;\r\n        SVGDom_1.SVGDom.addClassToSVGInContainer(this.toggleButtonInsideTable, 'coveo-field-table-toggle-up-svg');\r\n        if (this.options.minimizedByDefault === true) {\r\n            this.isExpanded = false;\r\n        }\r\n        else if (this.options.minimizedByDefault === false) {\r\n            this.isExpanded = true;\r\n        }\r\n        else {\r\n            this.isExpanded = !QueryUtils_1.QueryUtils.hasExcerpt(this.result);\r\n        }\r\n        requestAnimationFrame(function () { return _this.updateToggleHeight(); });\r\n        var toggleAction = function () { return _this.toggle(true); };\r\n        new AccessibleButton_1.AccessibleButton()\r\n            .withElement(this.toggleButton)\r\n            .withSelectAction(function () { return toggleAction(); })\r\n            .withOwner(this.bind)\r\n            .withLabel(Strings_1.l('Details'))\r\n            .build();\r\n        Dom_1.$$(this.toggleButtonInsideTable).on('click', toggleAction);\r\n    };\r\n    FieldTable.prototype.slideToggle = function (visible, anim) {\r\n        if (visible === void 0) { visible = true; }\r\n        if (anim === void 0) { anim = true; }\r\n        if (!anim) {\r\n            Dom_1.$$(this.toggleContainer).addClass('coveo-no-transition');\r\n        }\r\n        if (visible) {\r\n            this.toggleContainer.style.display = 'block';\r\n            this.toggleContainer.style.height = this.containerHeight;\r\n        }\r\n        else {\r\n            this.toggleContainer.style.height = '0';\r\n        }\r\n        if (!anim) {\r\n            this.toggleContainer.offsetHeight; // Force reflow\r\n            Dom_1.$$(this.toggleContainer).removeClass('coveo-no-transition');\r\n        }\r\n    };\r\n    Object.defineProperty(FieldTable.prototype, \"containerHeight\", {\r\n        get: function () {\r\n            if (!this.toggleContainerHeight) {\r\n                this.updateToggleContainerHeight();\r\n            }\r\n            return this.toggleContainerHeight + 'px';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FieldTable.prototype.updateToggleContainerHeight = function () {\r\n        this.toggleContainerHeight = this.toggleContainer.scrollHeight;\r\n    };\r\n    FieldTable.ID = 'FieldTable';\r\n    FieldTable.doExport = function () {\r\n        GlobalExports_1.exportGlobally({\r\n            FieldTable: FieldTable,\r\n            FieldValue: FieldValue_1.FieldValue\r\n        });\r\n    };\r\n    /**\r\n     * The options for the component\r\n     * @componentOptions\r\n     */\r\n    FieldTable.options = {\r\n        /**\r\n         * Specifies whether to allow the minimization (collapsing) of the FieldTable.\r\n         *\r\n         * If you set this option to `false`, the component will not create the **Minimize** / **Expand** toggle links.\r\n         *\r\n         * See also {@link FieldTable.options.expandedTitle}, {@link FieldTable.options.minimizedTitle} and\r\n         * {@link FieldTable.options.minimizedByDefault}.\r\n         *\r\n         * Default value is `true`.\r\n         */\r\n        allowMinimization: ComponentOptions_1.ComponentOptions.buildBooleanOption({ defaultValue: true }),\r\n        /**\r\n         * If {@link FieldTable.options.allowMinimization} is `true`, specifies the caption to show on the **Minimize** link\r\n         * (the link that appears when the FieldTable is expanded).\r\n         *\r\n         * Default value is `\"Details\"`.\r\n         */\r\n        expandedTitle: ComponentOptions_1.ComponentOptions.buildLocalizedStringOption({\r\n            localizedString: function () { return Strings_1.l('Details'); },\r\n            depend: 'allowMinimization'\r\n        }),\r\n        /**\r\n         * If {@link FieldTable.options.allowMinimization} is `true`, specifies the caption to show on the **Expand** link\r\n         * (the link that appears when the FieldTable is minimized).\r\n         *\r\n         * Default value is `\"Details\"`.\r\n         */\r\n        minimizedTitle: ComponentOptions_1.ComponentOptions.buildLocalizedStringOption({\r\n            localizedString: function () { return Strings_1.l('Details'); },\r\n            depend: 'allowMinimization'\r\n        }),\r\n        /**\r\n         * If {@link FieldTable.options.allowMinimization} is `true`, specifies whether to minimize the table by default.\r\n         *\r\n         * Default value is `undefined`, and the FieldTable will collapse by default if the result it is associated with has\r\n         * a non-empty excerpt.\r\n         */\r\n        minimizedByDefault: ComponentOptions_1.ComponentOptions.buildBooleanOption({ depend: 'allowMinimization' })\r\n    };\r\n    return FieldTable;\r\n}(Component_1.Component));\r\nexports.FieldTable = FieldTable;\r\nInitialization_1.Initialization.registerAutoCreateComponent(FieldTable);\r\nvar ValueRow = /** @class */ (function (_super) {\r\n    __extends(ValueRow, _super);\r\n    function ValueRow(element, options, bindings, result) {\r\n        var _this = _super.call(this, element, options, bindings, result, ValueRow.ID) || this;\r\n        _this.element = element;\r\n        _this.options = options;\r\n        _this.result = result;\r\n        _this.options = ComponentOptions_1.ComponentOptions.initComponentOptions(element, ValueRow, options);\r\n        var caption = Dom_1.$$('th').el;\r\n        caption.appendChild(document.createTextNode(_this.options.caption.toLocaleString()));\r\n        _this.element.insertBefore(caption, _this.getValueContainer());\r\n        return _this;\r\n    }\r\n    ValueRow.prototype.getValueContainer = function () {\r\n        if (this.valueContainer == null) {\r\n            this.valueContainer = document.createElement('td');\r\n            this.element.appendChild(this.valueContainer);\r\n        }\r\n        return this.valueContainer;\r\n    };\r\n    ValueRow.ID = 'ValueRow';\r\n    ValueRow.options = {\r\n        caption: ComponentOptions_1.ComponentOptions.buildStringOption({\r\n            postProcessing: function (value, options) { return value || options.field.substr(1); }\r\n        })\r\n    };\r\n    ValueRow.parent = FieldValue_1.FieldValue;\r\n    return ValueRow;\r\n}(FieldValue_1.FieldValue));\r\n\n\n/***/ }),\n\n/***/ 39:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/// <reference path='Facet.ts' />\r\nvar StringUtils_1 = __webpack_require__(22);\r\nvar QueryUtils_1 = __webpack_require__(21);\r\nvar FileTypes_1 = __webpack_require__(113);\r\nvar DateUtils_1 = __webpack_require__(32);\r\nvar Utils_1 = __webpack_require__(4);\r\nvar Dom_1 = __webpack_require__(1);\r\nvar _ = __webpack_require__(0);\r\nvar Strings_1 = __webpack_require__(6);\r\nvar FacetUtils = /** @class */ (function () {\r\n    function FacetUtils() {\r\n    }\r\n    FacetUtils.getRegexToUseForFacetSearch = function (value, ignoreAccent) {\r\n        return new RegExp(StringUtils_1.StringUtils.stringToRegex(value, ignoreAccent), 'i');\r\n    };\r\n    FacetUtils.getDisplayValueFromValueCaption = function (value, field, valueCaption) {\r\n        var returnValue = this.tryToGetTranslatedCaption(field, value);\r\n        return valueCaption[value] || returnValue;\r\n    };\r\n    FacetUtils.getValuesToUseForSearchInFacet = function (original, facet) {\r\n        var ret = [original];\r\n        var regex = this.getRegexToUseForFacetSearch(original, facet.options.facetSearchIgnoreAccents);\r\n        if (facet.options.valueCaption) {\r\n            _.chain(facet.options.valueCaption)\r\n                .pairs()\r\n                .filter(function (pair) {\r\n                return regex.test(pair[1]);\r\n            })\r\n                .each(function (match) {\r\n                ret.push(match[0]);\r\n            });\r\n            if (QueryUtils_1.QueryUtils.isStratusAgnosticField(facet.options.field, '@objecttype') ||\r\n                QueryUtils_1.QueryUtils.isStratusAgnosticField(facet.options.field, '@filetype')) {\r\n                _.each(FileTypes_1.FileTypes.getFileTypeCaptions(), function (value, key) {\r\n                    if (!(key in facet.options.valueCaption) && regex.test(value)) {\r\n                        ret.push(key);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        else if (QueryUtils_1.QueryUtils.isStratusAgnosticField(facet.options.field, '@objecttype') ||\r\n            QueryUtils_1.QueryUtils.isStratusAgnosticField(facet.options.field, '@filetype')) {\r\n            _.each(_.filter(_.pairs(FileTypes_1.FileTypes.getFileTypeCaptions()), function (pair) {\r\n                return regex.test(pair[1]);\r\n            }), function (match) {\r\n                ret.push(match[0]);\r\n            });\r\n        }\r\n        else if (QueryUtils_1.QueryUtils.isStratusAgnosticField(facet.options.field, '@month')) {\r\n            _.each(_.range(1, 13), function (month) {\r\n                if (regex.test(DateUtils_1.DateUtils.monthToString(month - 1))) {\r\n                    ret.push(('0' + month.toString()).substr(-2));\r\n                }\r\n            });\r\n        }\r\n        return ret;\r\n    };\r\n    FacetUtils.buildFacetSearchPattern = function (values) {\r\n        values = _.map(values, function (value) {\r\n            return Utils_1.Utils.escapeRegexCharacter(value);\r\n        });\r\n        values[0] = '.*' + values[0] + '.*';\r\n        return values.join('|');\r\n    };\r\n    FacetUtils.needAnotherFacetSearch = function (currentSearchLength, newSearchLength, oldSearchLength, desiredSearchLength) {\r\n        // Something was removed (currentSearch < newSearch)\r\n        // && we might want to display more facet search result(currentSearch < desiredSearch)\r\n        // && the new query returned more stuff than the old one so there's still more results(currentSearchLength > oldLength)\r\n        return currentSearchLength < newSearchLength && currentSearchLength < desiredSearchLength && currentSearchLength > oldSearchLength;\r\n    };\r\n    FacetUtils.addNoStateCssClassToFacetValues = function (facet, container) {\r\n        // This takes care of adding the correct css class on each facet value checkbox (empty white box) if at least one value is selected in that facet\r\n        if (facet.values.getSelected().length != 0) {\r\n            var noStates = Dom_1.$$(container).findAll('li:not(.coveo-selected)');\r\n            _.each(noStates, function (noState) {\r\n                Dom_1.$$(noState).addClass('coveo-no-state');\r\n            });\r\n        }\r\n    };\r\n    FacetUtils.tryToGetTranslatedCaption = function (field, value) {\r\n        var found;\r\n        if (QueryUtils_1.QueryUtils.isStratusAgnosticField(field.toLowerCase(), '@filetype')) {\r\n            found = FileTypes_1.FileTypes.getFileType(value).caption;\r\n        }\r\n        else if (QueryUtils_1.QueryUtils.isStratusAgnosticField(field.toLowerCase(), '@objecttype')) {\r\n            found = FileTypes_1.FileTypes.getObjectType(value).caption;\r\n        }\r\n        else if (FacetUtils.isMonthFieldValue(field, value)) {\r\n            var month = parseInt(value, 10);\r\n            found = DateUtils_1.DateUtils.monthToString(month - 1);\r\n        }\r\n        else {\r\n            found = Strings_1.l(value);\r\n        }\r\n        return found != undefined && Utils_1.Utils.isNonEmptyString(found) ? found : value;\r\n    };\r\n    FacetUtils.isMonthFieldValue = function (field, value) {\r\n        if (!QueryUtils_1.QueryUtils.isStratusAgnosticField(field.toLowerCase(), '@month')) {\r\n            return false;\r\n        }\r\n        var asInt = parseInt(value, 10);\r\n        if (isNaN(asInt)) {\r\n            return false;\r\n        }\r\n        if (asInt < 1 || asInt > 12) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    return FacetUtils;\r\n}());\r\nexports.FacetUtils = FacetUtils;\r\n\n\n/***/ }),\n\n/***/ 534:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction isFacetFieldValueCompatible(facet) {\r\n    return !!facet['isFieldValueCompatible'];\r\n}\r\nexports.isFacetFieldValueCompatible = isFacetFieldValueCompatible;\r\n\n\n/***/ }),\n\n/***/ 614:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// FieldTable.min__5f3280c404a1ee75a113.js","import { contains, each, escape, extend, filter, find, isArray, isObject, isString, keys, map, omit } from 'underscore';\r\nimport { exportGlobally } from '../../GlobalExports';\r\nimport { Assert } from '../../misc/Assert';\r\nimport { IQueryResult } from '../../rest/QueryResult';\r\nimport { l } from '../../strings/Strings';\r\nimport { AccessibleButton } from '../../utils/AccessibleButton';\r\nimport { DateUtils, IDateToStringOptions } from '../../utils/DateUtils';\r\nimport { $$ } from '../../utils/Dom';\r\nimport { StringUtils } from '../../utils/StringUtils';\r\nimport { Utils } from '../../utils/Utils';\r\nimport { analyticsActionCauseList } from '../Analytics/AnalyticsActionListMeta';\r\nimport { Component } from '../Base/Component';\r\nimport { IComponentBindings } from '../Base/ComponentBindings';\r\nimport { ComponentOptions } from '../Base/ComponentOptions';\r\nimport { IComponentOptionsObjectOptionArgs, IFieldConditionOption, IFieldOption } from '../Base/IComponentOptions';\r\nimport { Initialization } from '../Base/Initialization';\r\nimport { FacetUtils } from '../Facet/FacetUtils';\r\nimport { TemplateFieldsEvaluator } from '../Templates/TemplateFieldsEvaluator';\r\nimport { TemplateHelpers } from '../Templates/TemplateHelpers';\r\nimport { IFieldValueCompatibleFacet, isFacetFieldValueCompatible } from './IFieldValueCompatibleFacet';\r\nimport { ComponentsTypes } from '../../utils/ComponentsTypes';\r\n\r\nexport interface IFieldValueOptions {\r\n  field?: IFieldOption;\r\n  facet?: string;\r\n  dynamicFacet?: string;\r\n  htmlValue?: boolean;\r\n  helper?: string;\r\n  helperOptions?: { [key: string]: any };\r\n  splitValues?: boolean;\r\n  separator?: string;\r\n  displaySeparator?: string;\r\n  textCaption?: string;\r\n  conditions?: IFieldConditionOption[];\r\n}\r\n\r\nexport interface IAnalyticsFieldValueMeta {\r\n  facetId: string;\r\n  facetField: string;\r\n  facetValue?: string;\r\n  facetTitle?: string;\r\n}\r\n\r\nfunction showOnlyWithHelper<T>(helpers: string[], options?: T): T {\r\n  if (options == null) {\r\n    options = <any>{};\r\n  }\r\n  (<any>options).helpers = helpers;\r\n  return options;\r\n}\r\n\r\n/**\r\n * The FieldValue component displays the value of a field associated to its parent search result. It is normally usable\r\n * within a {@link FieldTable}.\r\n *\r\n * This component is a result template component (see [Result Templates](https://docs.coveo.com/en/413/)).\r\n *\r\n * A common use of this component is to display a specific field value which also happens to be an existing\r\n * {@link Facet.options.field}. When the user clicks on the FieldValue component, it activates the corresponding Facet.\r\n */\r\nexport class FieldValue extends Component {\r\n  static ID = 'FieldValue';\r\n\r\n  static doExport = () => {\r\n    exportGlobally({\r\n      FieldValue: FieldValue\r\n    });\r\n  };\r\n\r\n  /**\r\n   * The options for the component\r\n   * @componentOptions\r\n   */\r\n  static options: IFieldValueOptions = {\r\n    /**\r\n     * Specifies the field that the FieldValue should display.\r\n     *\r\n     * Specifying a value for this parameter is required in order for the FieldValue component to work.\r\n     */\r\n    field: ComponentOptions.buildFieldOption({ defaultValue: '@field', required: true }),\r\n\r\n    /**\r\n     * Specifies the {@link Facet} component to toggle when the end user clicks the FieldValue.\r\n     *\r\n     * Default value is the value of {@link FieldValue.options.field}.\r\n     *\r\n     * **Note:**\r\n     * > If the target {@link Facet.options.id} is is not the same as its {@link Facet.options.field}), you must specify\r\n     * > this option manually in order to link to the correct Facet.\r\n     */\r\n    facet: ComponentOptions.buildStringOption({ postProcessing: (value, options) => value || options.field }),\r\n\r\n    /**\r\n     * Specifies whether the content to display is an HTML element.\r\n     *\r\n     * Default value is `false`.\r\n     */\r\n    htmlValue: ComponentOptions.buildBooleanOption({ defaultValue: false }),\r\n\r\n    /**\r\n     * Specifies whether to split the FieldValue at each {@link FieldValue.options.separator}.\r\n     *\r\n     * This is useful for splitting groups using a {@link Facet.options.field}.\r\n     *\r\n     * When this option is `true`, the displayed values are split by the {@link FieldValue.options.displaySeparator}.\r\n     *\r\n     * Default value is `false`.\r\n     */\r\n    splitValues: ComponentOptions.buildBooleanOption({ defaultValue: false }),\r\n\r\n    /**\r\n     * If {@link FieldValue.options.splitValues} is `true`, specifies the separator string which separates multi-value\r\n     * fields in the index.\r\n     *\r\n     * See {@link FieldValue.options.displaySeparator}.\r\n     *\r\n     * Default value is `\";\"`.\r\n     */\r\n    separator: ComponentOptions.buildStringOption({ depend: 'splitValues', defaultValue: ';' }),\r\n\r\n    /**\r\n     * If {@link FieldValue.options.splitValues} is `true`, specifies the string to use when displaying multi-value\r\n     * fields in the UI.\r\n     *\r\n     * The component will insert this string between each value it displays from a multi-value field.\r\n     *\r\n     * See also {@link FieldValue.options.separator}.\r\n     *\r\n     * Default value is `\", \"`.\r\n     */\r\n    displaySeparator: ComponentOptions.buildStringOption({ depend: 'splitValues', defaultValue: ', ' }),\r\n\r\n    /**\r\n     * Specifies the helper that the FieldValue should use to display its content.\r\n     *\r\n     * While several helpers exist by default (see {@link ICoreHelpers}), it is also possible for you to create your own\r\n     * custom helpers (see {@link TemplateHelpers}).\r\n     */\r\n    helper: ComponentOptions.buildHelperOption(),\r\n\r\n    /**\r\n     * Specifies the options to call on the specified helper.\r\n     */\r\n    helperOptions: ComponentOptions.buildObjectOption(<IComponentOptionsObjectOptionArgs>{\r\n      subOptions: {\r\n        text: ComponentOptions.buildStringOption(showOnlyWithHelper(['anchor'])),\r\n        target: ComponentOptions.buildStringOption(showOnlyWithHelper(['anchor'])),\r\n        class: ComponentOptions.buildStringOption(showOnlyWithHelper(['anchor'])),\r\n\r\n        format: ComponentOptions.buildStringOption(showOnlyWithHelper(['number'])),\r\n\r\n        decimals: ComponentOptions.buildNumberOption(showOnlyWithHelper(['currency'], { min: 0 })),\r\n        symbol: ComponentOptions.buildStringOption(showOnlyWithHelper(['currency'])),\r\n\r\n        useTodayYesterdayAndTomorrow: ComponentOptions.buildBooleanOption(\r\n          showOnlyWithHelper(['date', 'dateTime', 'emailDateTime', 'time'], { defaultValue: true })\r\n        ),\r\n        useWeekdayIfThisWeek: ComponentOptions.buildBooleanOption(\r\n          showOnlyWithHelper(['date', 'dateTime', 'emailDateTime', 'time'], { defaultValue: true })\r\n        ),\r\n        omitYearIfCurrentOne: ComponentOptions.buildBooleanOption(\r\n          showOnlyWithHelper(['date', 'dateTime', 'emailDateTime', 'time'], { defaultValue: true })\r\n        ),\r\n        useLongDateFormat: ComponentOptions.buildBooleanOption(\r\n          showOnlyWithHelper(['date', 'dateTime', 'emailDateTime', 'time'], { defaultValue: false })\r\n        ),\r\n        includeTimeIfToday: ComponentOptions.buildBooleanOption(\r\n          showOnlyWithHelper(['date', 'dateTime', 'emailDateTime', 'time'], { defaultValue: true })\r\n        ),\r\n        includeTimeIfThisWeek: ComponentOptions.buildBooleanOption(\r\n          showOnlyWithHelper(['date', 'dateTime', 'emailDateTime', 'time'], { defaultValue: true })\r\n        ),\r\n        alwaysIncludeTime: ComponentOptions.buildBooleanOption(\r\n          showOnlyWithHelper(['date', 'dateTime', 'emailDateTime', 'time'], { defaultValue: false })\r\n        ),\r\n        predefinedFormat: ComponentOptions.buildStringOption(showOnlyWithHelper(['date', 'dateTime', 'emailDateTime', 'time'])),\r\n\r\n        companyDomain: ComponentOptions.buildStringOption(showOnlyWithHelper(['email'])),\r\n        me: ComponentOptions.buildStringOption(showOnlyWithHelper(['email'])),\r\n        lengthLimit: ComponentOptions.buildNumberOption(showOnlyWithHelper(['email'], { min: 1 })),\r\n        truncateName: ComponentOptions.buildBooleanOption(showOnlyWithHelper(['email'])),\r\n\r\n        alt: ComponentOptions.buildStringOption(showOnlyWithHelper(['image'])),\r\n        height: ComponentOptions.buildStringOption(showOnlyWithHelper(['image'])),\r\n        width: ComponentOptions.buildStringOption(showOnlyWithHelper(['image'])),\r\n        srcTemplate: ComponentOptions.buildStringOption(showOnlyWithHelper(['image'])),\r\n\r\n        precision: ComponentOptions.buildNumberOption(showOnlyWithHelper(['size'], { min: 0, defaultValue: 2 })),\r\n        base: ComponentOptions.buildNumberOption(showOnlyWithHelper(['size'], { min: 0, defaultValue: 0 })),\r\n        isMilliseconds: ComponentOptions.buildBooleanOption(showOnlyWithHelper(['timeSpan'])),\r\n\r\n        length: ComponentOptions.buildNumberOption(showOnlyWithHelper(['shorten', 'shortenPath', 'shortenUri'], { defaultValue: 200 }))\r\n      }\r\n    }),\r\n\r\n    /**\r\n     * Specifies a caption to display before the value.\r\n     *\r\n     * Default value is `undefined`.\r\n     *\r\n     * @availablesince [January 2017 Release (v1.1865.9)](https://docs.coveo.com/en/396/#january-2017-release-v118659)\r\n     */\r\n    textCaption: ComponentOptions.buildLocalizedStringOption(),\r\n\r\n    /**\r\n     * A field-based condition that must be satisfied by the query result item for the component to be rendered.\r\n     *\r\n     * Note: This option uses a distinctive markup configuration syntax allowing multiple conditions to be expressed. Its underlying logic is the same as that of the field value conditions mechanism used by result templates.\r\n     *\r\n     * **Examples:**\r\n     * Render the component if the query result item's @documenttype field value is Article or Documentation.\r\n     * ```html\r\n     * <div class=\"CoveoFieldValue\" data-field=\"@author\" data-condition-field-documenttype=\"Article, Documentation\"></div>\r\n     * ```\r\n     * Render the component if the query result item's @documenttype field value is anything but Case.\r\n     * ```html\r\n     * <div class=\"CoveoFieldValue\" data-field=\"@author\" data-condition-field-not-documenttype=\"Case\"></div>\r\n     * ```\r\n     * Render the component if the query result item's @documenttype field value is Article, and if its @author field value is anything but Anonymous.\r\n     * ```html\r\n     * <div class=\"CoveoFieldValue\" data-field=\"@author\" data-condition-field-documenttype=\"Article\" data-condition-field-not-author=\"Anonymous\"></div>\r\n     * ```\r\n     * Default value is `undefined`.\r\n     */\r\n    conditions: ComponentOptions.buildFieldConditionOption()\r\n  };\r\n\r\n  static simpleOptions = omit(FieldValue.options, 'helperOptions');\r\n\r\n  static helperOptions = <any>{\r\n    helperOptions: FieldValue.options.helperOptions\r\n  };\r\n\r\n  /**\r\n   * Creates a new FieldValue.\r\n   * @param element The HTMLElement on which to instantiate the component.\r\n   * @param options The options for the FieldValue component.\r\n   * @param bindings The bindings that the component requires to function normally. If not set, these will be\r\n   * automatically resolved (with a slower execution time).\r\n   * @param result The result to associate the component with.\r\n   */\r\n  constructor(\r\n    public element: HTMLElement,\r\n    public options: IFieldValueOptions,\r\n    bindings?: IComponentBindings,\r\n    public result?: IQueryResult,\r\n    fieldValueClassId: string = FieldValue.ID\r\n  ) {\r\n    super(element, fieldValueClassId, bindings);\r\n\r\n    this.options = ComponentOptions.initOptions(element, FieldValue.simpleOptions, options, FieldValue.ID);\r\n\r\n    if (this.options.helper != null) {\r\n      this.normalizeHelperAndOptions();\r\n    }\r\n\r\n    this.result = this.result || this.resolveResult();\r\n    Assert.exists(this.result);\r\n\r\n    if (TemplateFieldsEvaluator.evaluateFieldsToMatch(this.options.conditions, this.result) && this.getValue()) {\r\n      this.initialize();\r\n    } else if (this.element.parentElement != null) {\r\n      this.element.parentElement.removeChild(this.element);\r\n    }\r\n  }\r\n\r\n  private initialize() {\r\n    let loadedValueFromComponent = this.getValue();\r\n    let values: string[];\r\n\r\n    if (isArray(loadedValueFromComponent)) {\r\n      values = loadedValueFromComponent;\r\n    } else if (this.options.splitValues) {\r\n      if (isString(loadedValueFromComponent)) {\r\n        values = map(loadedValueFromComponent.split(this.options.separator), (v: string) => {\r\n          return v.trim();\r\n        });\r\n      }\r\n    } else {\r\n      loadedValueFromComponent = loadedValueFromComponent.toString();\r\n      values = [loadedValueFromComponent];\r\n    }\r\n    this.appendValuesToDom(values);\r\n    if (this.options.textCaption != null) {\r\n      this.prependTextCaptionToDom();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Gets the current FieldValue from the current {@link IQueryResult}.\r\n   *\r\n   * @returns {any} The current FieldValue or `null` if value is and `Object`.\r\n   */\r\n  public getValue() {\r\n    let value = Utils.getFieldValue(this.result, <string>this.options.field);\r\n    if (!isArray(value) && isObject(value)) {\r\n      value = null;\r\n    }\r\n    return value;\r\n  }\r\n\r\n  /**\r\n   * Renders a value to HTML using all of the current FieldValue component options.\r\n   * @param value The value to render.\r\n   * @returns {HTMLElement} The element containing the rendered value.\r\n   */\r\n  public renderOneValue(value: string): HTMLElement {\r\n    const element = $$('span').el;\r\n    let toRender = this.getCaption(value);\r\n\r\n    if (this.options.helper) {\r\n      // Try to resolve and execute version 2 of each helper function if available\r\n      const helper = TemplateHelpers.getHelper(`${this.options.helper}v2`) || TemplateHelpers.getHelper(`${this.options.helper}`);\r\n\r\n      if (Utils.exists(helper)) {\r\n        toRender = helper.call(this, value, this.getHelperOptions());\r\n      } else {\r\n        this.logger.warn(\r\n          `Helper ${this.options.helper} is not found in available helpers. The list of supported helpers is :`,\r\n          keys(TemplateHelpers.getHelpers())\r\n        );\r\n      }\r\n\r\n      const fullDateStr = this.getFullDate(value, this.options.helper);\r\n      if (fullDateStr) {\r\n        element.setAttribute('title', fullDateStr);\r\n      }\r\n      if (this.options.helper == 'date' || this.options.helper == 'dateTime' || this.options.helper == 'emailDateTime') {\r\n        toRender = StringUtils.capitalizeFirstLetter(toRender);\r\n      }\r\n    }\r\n\r\n    if (this.options.htmlValue) {\r\n      element.innerHTML = toRender;\r\n    } else {\r\n      element.appendChild(document.createTextNode(toRender));\r\n    }\r\n    this.bindEventOnValue(element, value, toRender);\r\n    return element;\r\n  }\r\n\r\n  protected getValueContainer() {\r\n    return this.element;\r\n  }\r\n\r\n  private normalizeHelperAndOptions() {\r\n    this.options = ComponentOptions.initOptions(this.element, FieldValue.helperOptions, this.options, FieldValue.ID);\r\n    const toFilter = keys(FieldValue.options.helperOptions['subOptions']);\r\n    const toKeep = filter(toFilter, optionKey => {\r\n      const optionDefinition = FieldValue.options.helperOptions['subOptions'][optionKey];\r\n      if (optionDefinition) {\r\n        const helpers = optionDefinition.helpers;\r\n        return helpers != null && contains(helpers, this.options.helper);\r\n      }\r\n      return false;\r\n    });\r\n    this.options.helperOptions = omit(this.options.helperOptions, (value, key) => {\r\n      return !contains(toKeep, key);\r\n    });\r\n  }\r\n\r\n  private getHelperOptions() {\r\n    const inlineOptions = ComponentOptions.loadStringOption(this.element, 'helperOptions', {});\r\n    if (Utils.isNonEmptyString(inlineOptions)) {\r\n      return extend({}, this.options.helperOptions, eval('(' + inlineOptions + ')'));\r\n    }\r\n    return this.options.helperOptions;\r\n  }\r\n\r\n  private getFullDate(date: string, helper: string) {\r\n    const fullDateOptions: IDateToStringOptions = {\r\n      useLongDateFormat: true,\r\n      useTodayYesterdayAndTomorrow: false,\r\n      useWeekdayIfThisWeek: false,\r\n      omitYearIfCurrentOne: false\r\n    };\r\n\r\n    if (helper == 'date') {\r\n      return DateUtils.dateToString(new Date(parseInt(date)), fullDateOptions);\r\n    } else if (helper == 'dateTime' || helper == 'emailDateTime') {\r\n      return DateUtils.dateTimeToString(new Date(parseInt(date)), fullDateOptions);\r\n    }\r\n    return '';\r\n  }\r\n\r\n  private appendValuesToDom(values: string[]): void {\r\n    each(values, (value, index) => {\r\n      if (value != undefined) {\r\n        this.getValueContainer().appendChild(this.renderOneValue(value));\r\n        if (index !== values.length - 1) {\r\n          this.getValueContainer().appendChild(document.createTextNode(this.options.displaySeparator));\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private renderTextCaption(): HTMLElement {\r\n    const element = $$('span', { className: 'coveo-field-caption' }, escape(this.options.textCaption));\r\n    return element.el;\r\n  }\r\n\r\n  protected prependTextCaptionToDom(): void {\r\n    const elem = this.getValueContainer();\r\n    $$(elem).prepend(this.renderTextCaption());\r\n    // Add a class to the container so the value and the caption wrap together.\r\n    $$(elem).addClass('coveo-with-label');\r\n  }\r\n\r\n  private bindEventOnValue(element: HTMLElement, originalFacetValue: string, renderedFacetValue: string) {\r\n    this.bindFacets(element, originalFacetValue, renderedFacetValue);\r\n  }\r\n\r\n  private getCaption(value: string) {\r\n    for (let facet of this.getFacets()) {\r\n      const caption = facet.getCaptionForStringValue(value);\r\n      if (caption) {\r\n        return caption;\r\n      }\r\n    }\r\n    return FacetUtils.tryToGetTranslatedCaption(this.options.field as string, value);\r\n  }\r\n\r\n  private getFacets() {\r\n    const facets = ComponentsTypes.getAllFacetsFromSearchInterface(this.searchInterface)\r\n      .filter(isFacetFieldValueCompatible)\r\n      .filter(facet => !facet.disabled);\r\n\r\n    const facetsWithMatchingId = facets.filter(facet => facet.options.id === this.options.facet);\r\n    if (facetsWithMatchingId.length) {\r\n      return facetsWithMatchingId;\r\n    }\r\n    return facets.filter(facet => facet.options.field === this.options.field);\r\n  }\r\n\r\n  private bindFacets(element: HTMLElement, originalFacetValue: string, renderedFacetValue: string) {\r\n    const facets = this.getFacets();\r\n\r\n    if (!facets.length) {\r\n      return;\r\n    }\r\n\r\n    const isValueSelected = !!find(facets, facet => facet.hasSelectedValue(originalFacetValue));\r\n    const selectAction = () => this.handleFacetSelection(isValueSelected, facets, originalFacetValue);\r\n    this.buildClickableElement(element, isValueSelected, renderedFacetValue, selectAction);\r\n  }\r\n\r\n  private buildClickableElement(element: HTMLElement, isSelected: boolean, value: string, selectAction: () => void) {\r\n    const label = isSelected ? l('RemoveFilterOn', value) : l('FilterOn', value);\r\n    new AccessibleButton().withTitle(label).withElement(element).withSelectAction(selectAction).build();\r\n\r\n    if (isSelected) {\r\n      $$(element).addClass('coveo-selected');\r\n    }\r\n    $$(element).addClass('coveo-clickable');\r\n  }\r\n\r\n  private handleFacetSelection(isValueSelected: boolean, facets: IFieldValueCompatibleFacet[], value: string) {\r\n    facets.forEach(facet => {\r\n      isValueSelected ? facet.deselectValue(value) : facet.selectValue(value);\r\n    });\r\n\r\n    this.executeQuery(value);\r\n  }\r\n\r\n  private executeQuery(value: string) {\r\n    this.queryController.deferExecuteQuery({\r\n      beforeExecuteQuery: () =>\r\n        this.usageAnalytics.logSearchEvent<IAnalyticsFieldValueMeta>(analyticsActionCauseList.documentField, {\r\n          facetId: this.options.facet,\r\n          facetField: this.options.field.toString(),\r\n          facetValue: value.toLowerCase()\r\n        })\r\n    });\r\n  }\r\n}\r\n\r\nInitialization.registerAutoCreateComponent(FieldValue);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/FieldValue/FieldValue.ts","import 'styling/_FieldTable';\r\nimport { each, uniqueId } from 'underscore';\r\nimport { exportGlobally } from '../../GlobalExports';\r\nimport { IQueryResult } from '../../rest/QueryResult';\r\nimport { l } from '../../strings/Strings';\r\nimport { AccessibleButton } from '../../utils/AccessibleButton';\r\nimport { $$ } from '../../utils/Dom';\r\nimport { QueryUtils } from '../../utils/QueryUtils';\r\nimport { SVGDom } from '../../utils/SVGDom';\r\nimport { SVGIcons } from '../../utils/SVGIcons';\r\nimport { Component } from '../Base/Component';\r\nimport { IComponentBindings } from '../Base/ComponentBindings';\r\nimport { ComponentOptions } from '../Base/ComponentOptions';\r\nimport { Initialization } from '../Base/Initialization';\r\nimport { FieldValue, IFieldValueOptions } from '../FieldValue/FieldValue';\r\n\r\nexport interface IFieldTableOptions {\r\n  allowMinimization: boolean;\r\n  expandedTitle: string;\r\n  minimizedTitle: string;\r\n  minimizedByDefault: boolean;\r\n}\r\n\r\n/**\r\n * The FieldTable component displays a set of {@link FieldValue} components in a table that can optionally be\r\n * expandable and minimizable. This component automatically takes care of not displaying empty field values.\r\n *\r\n * This component is a result template component (see [Result Templates](https://docs.coveo.com/en/413/)).\r\n *\r\n * **Example:**\r\n *\r\n * ```\r\n * // This is the FieldTable component itself, which holds a list of table rows.\r\n * // Each row is a FieldValue component.\r\n * <table class='CoveoFieldTable'>\r\n *    // Items\r\n *    <tr data-field='@sysdate' data-caption='Date' data-helper='dateTime' />\r\n *    <tr data-field='@sysauthor' data-caption='Author' />\r\n *    <tr data-field='@clickuri' data-html-value='true' data-caption='URL' data-helper='anchor' data-helper-options='{text: \\\"<%= raw.syssource %>\\\" , target:\\\"_blank\\\"}'>\r\n * </table>\r\n * ```\r\n */\r\nexport class FieldTable extends Component {\r\n  static ID = 'FieldTable';\r\n\r\n  static doExport = () => {\r\n    exportGlobally({\r\n      FieldTable: FieldTable,\r\n      FieldValue: FieldValue\r\n    });\r\n  };\r\n\r\n  /**\r\n   * The options for the component\r\n   * @componentOptions\r\n   */\r\n  static options: IFieldTableOptions = {\r\n    /**\r\n     * Specifies whether to allow the minimization (collapsing) of the FieldTable.\r\n     *\r\n     * If you set this option to `false`, the component will not create the **Minimize** / **Expand** toggle links.\r\n     *\r\n     * See also {@link FieldTable.options.expandedTitle}, {@link FieldTable.options.minimizedTitle} and\r\n     * {@link FieldTable.options.minimizedByDefault}.\r\n     *\r\n     * Default value is `true`.\r\n     */\r\n    allowMinimization: ComponentOptions.buildBooleanOption({ defaultValue: true }),\r\n\r\n    /**\r\n     * If {@link FieldTable.options.allowMinimization} is `true`, specifies the caption to show on the **Minimize** link\r\n     * (the link that appears when the FieldTable is expanded).\r\n     *\r\n     * Default value is `\"Details\"`.\r\n     */\r\n    expandedTitle: ComponentOptions.buildLocalizedStringOption({\r\n      localizedString: () => l('Details'),\r\n      depend: 'allowMinimization'\r\n    }),\r\n\r\n    /**\r\n     * If {@link FieldTable.options.allowMinimization} is `true`, specifies the caption to show on the **Expand** link\r\n     * (the link that appears when the FieldTable is minimized).\r\n     *\r\n     * Default value is `\"Details\"`.\r\n     */\r\n    minimizedTitle: ComponentOptions.buildLocalizedStringOption({\r\n      localizedString: () => l('Details'),\r\n      depend: 'allowMinimization'\r\n    }),\r\n\r\n    /**\r\n     * If {@link FieldTable.options.allowMinimization} is `true`, specifies whether to minimize the table by default.\r\n     *\r\n     * Default value is `undefined`, and the FieldTable will collapse by default if the result it is associated with has\r\n     * a non-empty excerpt.\r\n     */\r\n    minimizedByDefault: ComponentOptions.buildBooleanOption({ depend: 'allowMinimization' })\r\n  };\r\n  private toggleButton: HTMLElement;\r\n  private toggleCaption: HTMLElement;\r\n  private toggleButtonSVGContainer: HTMLElement;\r\n  private toggleButtonInsideTable: HTMLElement;\r\n  private toggleContainer: HTMLElement;\r\n  private toggleContainerHeight: number;\r\n\r\n  /**\r\n   * Creates a new FieldTable.\r\n   * @param element The HTMLElement on which to instantiate the component.\r\n   * @param options The options for the FieldTable component.\r\n   * @param bindings The bindings that the component requires to function normally. If not set, these will be\r\n   * automatically resolved (with a slower execution time).\r\n   * @param result The result to associate the component with.\r\n   */\r\n  constructor(\r\n    public element: HTMLElement,\r\n    public options?: IFieldTableOptions,\r\n    bindings?: IComponentBindings,\r\n    public result?: IQueryResult\r\n  ) {\r\n    super(element, ValueRow.ID, bindings);\r\n    this.options = ComponentOptions.initComponentOptions(element, FieldTable, options);\r\n\r\n    var rows = $$(this.element).findAll('tr[data-field]');\r\n    each(rows, (e: HTMLElement) => {\r\n      new ValueRow(e, {}, bindings, result);\r\n    });\r\n\r\n    if ($$(this.element).find('tr') == null) {\r\n      $$(element).detach();\r\n    }\r\n\r\n    if (this.isTogglable()) {\r\n      const className = 'coveo-field-table-toggle-container';\r\n      this.toggleContainer = $$('div', { className, id: uniqueId(className) }).el;\r\n      this.buildToggle();\r\n      $$(this.toggleContainer).insertBefore(this.element);\r\n      this.toggleContainer.appendChild(this.element);\r\n      this.toggleContainer.appendChild(this.toggleButtonInsideTable);\r\n    }\r\n  }\r\n\r\n  public get isExpanded() {\r\n    return !this.toggleButton || this.toggleButton.getAttribute('aria-expanded') === 'true';\r\n  }\r\n\r\n  public set isExpanded(expanded: boolean) {\r\n    if (this.toggleButton) {\r\n      this.toggleButton.setAttribute('aria-expanded', expanded.toString());\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggles between expanding (showing) and minimizing (collapsing) the FieldTable.\r\n   *\r\n   * @param anim Specifies whether to show a sliding animation when toggling the display of the FieldTable.\r\n   */\r\n  public toggle(anim = false) {\r\n    this.isExpanded ? this.minimize(anim) : this.expand(anim);\r\n  }\r\n\r\n  /**\r\n   * Expands (shows) the FieldTable,\r\n   * @param anim Specifies whether to show a sliding animation when expanding the FieldTable.\r\n   */\r\n  public expand(anim = false) {\r\n    if (this.isTogglable()) {\r\n      this.isExpanded = true;\r\n      this.toggleCaption.textContent = this.options.expandedTitle;\r\n      SVGDom.addClassToSVGInContainer(this.toggleButtonSVGContainer, 'coveo-opened');\r\n      SVGDom.addClassToSVGInContainer(this.toggleButtonInsideTable, 'coveo-opened');\r\n      anim ? this.slideToggle(true) : this.slideToggle(true, false);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Minimizes (collapses) the FieldTable.\r\n   * @param anim Specifies whether to show a sliding animation when minimizing the FieldTable.\r\n   */\r\n  public minimize(anim = false) {\r\n    if (this.isTogglable()) {\r\n      this.isExpanded = false;\r\n      this.toggleCaption.textContent = this.options.minimizedTitle;\r\n      SVGDom.removeClassFromSVGInContainer(this.toggleButtonSVGContainer, 'coveo-opened');\r\n      SVGDom.removeClassFromSVGInContainer(this.toggleButtonInsideTable, 'coveo-opened');\r\n      anim ? this.slideToggle(false) : this.slideToggle(false, false);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Updates the toggle height if the content was dynamically resized, so that the expanding and minimizing animation\r\n   * can match the new content size.\r\n   */\r\n  public updateToggleHeight() {\r\n    this.updateToggleContainerHeight();\r\n    this.isExpanded ? this.expand() : this.minimize();\r\n  }\r\n\r\n  protected isTogglable() {\r\n    if (this.options.allowMinimization) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private buildToggle() {\r\n    this.toggleCaption = $$('span', {\r\n      className: 'coveo-field-table-toggle-caption'\r\n    }).el;\r\n\r\n    this.toggleButton = $$('div', {\r\n      className: 'coveo-field-table-toggle coveo-field-table-toggle-down',\r\n      ariaControls: this.toggleContainer.id\r\n    }).el;\r\n    this.toggleButtonSVGContainer = $$('span', null, SVGIcons.icons.arrowDown).el;\r\n    SVGDom.addClassToSVGInContainer(this.toggleButtonSVGContainer, 'coveo-field-table-toggle-down-svg');\r\n    this.toggleButton.appendChild(this.toggleCaption);\r\n    this.toggleButton.appendChild(this.toggleButtonSVGContainer);\r\n    $$(this.toggleButton).insertBefore(this.element);\r\n\r\n    this.toggleButtonInsideTable = $$(\r\n      'span',\r\n      { className: 'coveo-field-table-toggle coveo-field-table-toggle-up' },\r\n      SVGIcons.icons.arrowUp\r\n    ).el;\r\n    SVGDom.addClassToSVGInContainer(this.toggleButtonInsideTable, 'coveo-field-table-toggle-up-svg');\r\n\r\n    if (this.options.minimizedByDefault === true) {\r\n      this.isExpanded = false;\r\n    } else if (this.options.minimizedByDefault === false) {\r\n      this.isExpanded = true;\r\n    } else {\r\n      this.isExpanded = !QueryUtils.hasExcerpt(this.result);\r\n    }\r\n\r\n    requestAnimationFrame(() => this.updateToggleHeight());\r\n\r\n    const toggleAction = () => this.toggle(true);\r\n\r\n    new AccessibleButton()\r\n      .withElement(this.toggleButton)\r\n      .withSelectAction(() => toggleAction())\r\n      .withOwner(this.bind)\r\n      .withLabel(l('Details'))\r\n      .build();\r\n\r\n    $$(this.toggleButtonInsideTable).on('click', toggleAction);\r\n  }\r\n\r\n  private slideToggle(visible: boolean = true, anim: boolean = true) {\r\n    if (!anim) {\r\n      $$(this.toggleContainer).addClass('coveo-no-transition');\r\n    }\r\n\r\n    if (visible) {\r\n      this.toggleContainer.style.display = 'block';\r\n      this.toggleContainer.style.height = this.containerHeight;\r\n    } else {\r\n      this.toggleContainer.style.height = '0';\r\n    }\r\n    if (!anim) {\r\n      this.toggleContainer.offsetHeight; // Force reflow\r\n      $$(this.toggleContainer).removeClass('coveo-no-transition');\r\n    }\r\n  }\r\n\r\n  private get containerHeight() {\r\n    if (!this.toggleContainerHeight) {\r\n      this.updateToggleContainerHeight();\r\n    }\r\n\r\n    return this.toggleContainerHeight + 'px';\r\n  }\r\n\r\n  private updateToggleContainerHeight() {\r\n    this.toggleContainerHeight = this.toggleContainer.scrollHeight;\r\n  }\r\n}\r\n\r\nInitialization.registerAutoCreateComponent(FieldTable);\r\n\r\nexport interface IValueRowOptions extends IFieldValueOptions {\r\n  caption?: string;\r\n}\r\n\r\nclass ValueRow extends FieldValue {\r\n  static ID = 'ValueRow';\r\n  static options: IValueRowOptions = {\r\n    caption: ComponentOptions.buildStringOption({\r\n      postProcessing: (value, options) => value || options.field.substr(1)\r\n    })\r\n  };\r\n\r\n  static parent = FieldValue;\r\n  private valueContainer: HTMLElement;\r\n\r\n  constructor(public element: HTMLElement, public options: IValueRowOptions, bindings?: IComponentBindings, public result?: IQueryResult) {\r\n    super(element, options, bindings, result, ValueRow.ID);\r\n    this.options = ComponentOptions.initComponentOptions(element, ValueRow, options);\r\n\r\n    var caption = $$('th').el;\r\n    caption.appendChild(document.createTextNode(this.options.caption.toLocaleString()));\r\n    this.element.insertBefore(caption, this.getValueContainer());\r\n  }\r\n\r\n  protected getValueContainer() {\r\n    if (this.valueContainer == null) {\r\n      this.valueContainer = document.createElement('td');\r\n      this.element.appendChild(this.valueContainer);\r\n    }\r\n    return this.valueContainer;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/FieldTable/FieldTable.ts","/// <reference path='Facet.ts' />\r\nimport { StringUtils } from '../../utils/StringUtils';\r\nimport { QueryUtils } from '../../utils/QueryUtils';\r\nimport { FileTypes } from '../Misc/FileTypes';\r\nimport { DateUtils } from '../../utils/DateUtils';\r\nimport { Utils } from '../../utils/Utils';\r\nimport { $$ } from '../../utils/Dom';\r\nimport * as _ from 'underscore';\r\nimport FacetModuleDefinition = require('./Facet');\r\nimport { l } from '../../strings/Strings';\r\n\r\nexport class FacetUtils {\r\n  static getRegexToUseForFacetSearch(value: string, ignoreAccent: boolean) {\r\n    return new RegExp(StringUtils.stringToRegex(value, ignoreAccent), 'i');\r\n  }\r\n\r\n  static getDisplayValueFromValueCaption(value: string, field: string, valueCaption: Record<string, string>) {\r\n    const returnValue = this.tryToGetTranslatedCaption(field, value);\r\n    return valueCaption[value] || returnValue;\r\n  }\r\n\r\n  static getValuesToUseForSearchInFacet(original: string, facet: FacetModuleDefinition.Facet): string[] {\r\n    let ret = [original];\r\n    let regex = this.getRegexToUseForFacetSearch(original, facet.options.facetSearchIgnoreAccents);\r\n    if (facet.options.valueCaption) {\r\n      _.chain(facet.options.valueCaption)\r\n        .pairs()\r\n        .filter(pair => {\r\n          return regex.test(pair[1]);\r\n        })\r\n        .each(match => {\r\n          ret.push(match[0]);\r\n        });\r\n      if (\r\n        QueryUtils.isStratusAgnosticField(<string>facet.options.field, '@objecttype') ||\r\n        QueryUtils.isStratusAgnosticField(<string>facet.options.field, '@filetype')\r\n      ) {\r\n        _.each(FileTypes.getFileTypeCaptions(), (value: string, key: string) => {\r\n          if (!(key in facet.options.valueCaption) && regex.test(value)) {\r\n            ret.push(key);\r\n          }\r\n        });\r\n      }\r\n    } else if (\r\n      QueryUtils.isStratusAgnosticField(<string>facet.options.field, '@objecttype') ||\r\n      QueryUtils.isStratusAgnosticField(<string>facet.options.field, '@filetype')\r\n    ) {\r\n      _.each(\r\n        _.filter(_.pairs(FileTypes.getFileTypeCaptions()), pair => {\r\n          return regex.test(pair[1]);\r\n        }),\r\n        match => {\r\n          ret.push(match[0]);\r\n        }\r\n      );\r\n    } else if (QueryUtils.isStratusAgnosticField(<string>facet.options.field, '@month')) {\r\n      _.each(_.range(1, 13), month => {\r\n        if (regex.test(DateUtils.monthToString(month - 1))) {\r\n          ret.push(('0' + month.toString()).substr(-2));\r\n        }\r\n      });\r\n    }\r\n    return ret;\r\n  }\r\n\r\n  static buildFacetSearchPattern(values: string[]) {\r\n    values = _.map(values, value => {\r\n      return Utils.escapeRegexCharacter(value);\r\n    });\r\n    values[0] = '.*' + values[0] + '.*';\r\n    return values.join('|');\r\n  }\r\n\r\n  static needAnotherFacetSearch(\r\n    currentSearchLength: number,\r\n    newSearchLength: number,\r\n    oldSearchLength: number,\r\n    desiredSearchLength: number\r\n  ) {\r\n    // Something was removed (currentSearch < newSearch)\r\n    // && we might want to display more facet search result(currentSearch < desiredSearch)\r\n    // && the new query returned more stuff than the old one so there's still more results(currentSearchLength > oldLength)\r\n    return currentSearchLength < newSearchLength && currentSearchLength < desiredSearchLength && currentSearchLength > oldSearchLength;\r\n  }\r\n\r\n  static addNoStateCssClassToFacetValues(facet: FacetModuleDefinition.Facet, container: HTMLElement) {\r\n    // This takes care of adding the correct css class on each facet value checkbox (empty white box) if at least one value is selected in that facet\r\n    if (facet.values.getSelected().length != 0) {\r\n      let noStates = $$(container).findAll('li:not(.coveo-selected)');\r\n      _.each(noStates, noState => {\r\n        $$(noState).addClass('coveo-no-state');\r\n      });\r\n    }\r\n  }\r\n\r\n  static tryToGetTranslatedCaption(field: string, value: string) {\r\n    let found: string;\r\n\r\n    if (QueryUtils.isStratusAgnosticField(field.toLowerCase(), '@filetype')) {\r\n      found = FileTypes.getFileType(value).caption;\r\n    } else if (QueryUtils.isStratusAgnosticField(field.toLowerCase(), '@objecttype')) {\r\n      found = FileTypes.getObjectType(value).caption;\r\n    } else if (FacetUtils.isMonthFieldValue(field, value)) {\r\n      const month = parseInt(value, 10);\r\n      found = DateUtils.monthToString(month - 1);\r\n    } else {\r\n      found = l(value);\r\n    }\r\n    return found != undefined && Utils.isNonEmptyString(found) ? found : value;\r\n  }\r\n\r\n  static isMonthFieldValue(field: string, value: string) {\r\n    if (!QueryUtils.isStratusAgnosticField(field.toLowerCase(), '@month')) {\r\n      return false;\r\n    }\r\n\r\n    const asInt = parseInt(value, 10);\r\n\r\n    if (isNaN(asInt)) {\r\n      return false;\r\n    }\r\n\r\n    if (asInt < 1 || asInt > 12) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/Facet/FacetUtils.ts","import { Component } from '../Base/Component';\r\n\r\nexport function isFacetFieldValueCompatible(facet: Component): facet is IFieldValueCompatibleFacet {\r\n  return !!facet['isFieldValueCompatible'];\r\n}\r\n\r\nexport interface IFieldValueCompatibleFacet extends Component {\r\n  isFieldValueCompatible: boolean;\r\n  hasSelectedValue(value: string): boolean;\r\n  selectValue(value: string): void;\r\n  deselectValue(value: string): void;\r\n  getCaptionForStringValue(value: string): string;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/FieldValue/IFieldValueCompatibleFacet.ts"],"sourceRoot":""}