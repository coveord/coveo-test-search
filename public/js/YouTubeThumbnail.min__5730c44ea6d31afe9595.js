webpackJsonpCoveo__temporary([28,61],{182:function(t,e,o){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=o(26),s=o(3),l=o(1),r=o(14),u=o(12),c=o(4),p=o(7),a=o(8),h=o(2),d=o(29),f=o(90),m=o(499),b=function(t){function e(o,n,s,d,b){void 0===b&&(b=i.ModalBox);var v=t.call(this,o,e.ID,s)||this;v.element=o,v.options=n,v.bindings=s,v.result=d,v.options=a.ComponentOptions.initComponentOptions(o,e,n),v.resultLink=l.$$("a",{className:p.Component.computeCssClassName(f.ResultLink)});var y=l.$$("div",{className:"coveo-youtube-thumbnail-container"});v.resultLink.append(y.el);var O=l.$$("img",{src:c.Utils.getFieldValue(v.result,"ytthumbnailurl"),className:"coveo-youtube-thumbnail-img",alt:v.result.title,title:v.result.title});O.el.style.width=v.options.width,O.el.style.height=v.options.height,O.el.onerror=function(){var t=l.$$("div",{},u.SVGIcons.icons.video).el;r.SVGDom.addStyleToSVGInContainer(t,{width:v.options.width}),l.$$(O).remove(),y.append(t)},y.append(O.el);var g=l.$$("span",{className:"coveo-youtube-thumbnail-play-button"});return y.append(g.el),l.$$(v.element).append(v.resultLink.el),h.Initialization.automaticallyCreateComponentsInsideResult(o,d,{ResultLink:v.options.embed?{onClick:function(){return v.openYoutubeIframe()}}:null}),v.modalbox=new m.AccessibleModal("coveo-youtube-player",o.ownerDocument.body,b,{overlayClose:!0}),v}return n(e,t),e.prototype.openResultLink=function(){d.get(this.resultLink.el).openLinkAsConfigured()},e.prototype.openYoutubeIframe=function(){var t=this,e=l.$$("iframe",{src:"https://www.youtube.com/embed/"+this.extractVideoId()+"?autoplay=1",allowfullscreen:"allowfullscreen",width:"100%",height:"100%",title:this.result.title}),o=l.$$("div");o.append(e.el),this.modalbox.openResult(this.result,{showDate:!0,title:this.result.title},this.bindings,o.el,function(){return!0}),l.$$(l.$$(this.modalbox.wrapper).find(".coveo-quickview-close-button")).on("click",function(){t.modalbox.close()})},e.prototype.extractVideoId=function(){return this.result.clickUri.split("watch?v=")[1]},e.ID="YouTubeThumbnail",e.doExport=function(){s.exportGlobally({YouTubeThumbnail:e})},e.options={width:a.ComponentOptions.buildStringOption({defaultValue:"200px"}),height:a.ComponentOptions.buildStringOption({defaultValue:"112px"}),embed:a.ComponentOptions.buildBooleanOption({defaultValue:!0})},e}(p.Component);e.YouTubeThumbnail=b,h.Initialization.registerAutoCreateComponent(b)},499:function(t,e,o){"use strict";var n=this&&this.__assign||Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++){e=arguments[o];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t};Object.defineProperty(e,"__esModule",{value:!0});var i=o(26),s=o(552),l=o(6),r=o(1),u=o(25),c=o(22),p=function(){function t(t,e,o,s){void 0===o&&(o=i.ModalBox),void 0===s&&(s={}),this.className=t,this.ownerBody=e,this.modalboxModule=o,this.options=n({sizeMod:"big"},s)}return Object.defineProperty(t.prototype,"isOpen",{get:function(){return!!this.focusTrap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.activeModal&&this.activeModal.modalBox},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this.activeModal&&this.activeModal.content},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapper",{get:function(){return this.activeModal&&this.activeModal.wrapper},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerElement",{get:function(){return this.element&&this.element.querySelector(".coveo-modal-header h1")},enumerable:!0,configurable:!0}),t.prototype.openResult=function(t,e,o,n,i){this.isOpen||(this.openModalAndTrap(c.DomUtils.getQuickviewHeader(t,e,o).el,n,i),this.makeAccessible(e.title||t.title))},t.prototype.open=function(t,e,o){this.isOpen||(this.openModalAndTrap(t,e,o),this.makeAccessible())},t.prototype.openModalAndTrap=function(t,e,o){var n=this;this.initiallyFocusedElement=document.activeElement,this.activeModal=this.modalboxModule.open(e,{title:t,className:this.className,validation:function(){return n.onModalClose(),o()},body:this.ownerBody,sizeMod:this.options.sizeMod,overlayClose:this.options.overlayClose}),this.focusTrap=new s.FocusTrap(this.element)},t.prototype.close=function(){this.isOpen&&(this.activeModal.close(),this.activeModal=null)},t.prototype.makeAccessible=function(t){this.element.setAttribute("aria-modal","true"),t&&this.headerElement.setAttribute("aria-label",t),this.makeCloseButtonAccessible()},t.prototype.makeCloseButtonAccessible=function(){var t=this.element.querySelector(".coveo-small-close");t.setAttribute("aria-label",l.l("Close")),t.setAttribute("role","button"),t.tabIndex=0,t.focus(),r.$$(t).on("keyup",u.KeyboardUtils.keypressAction(u.KEYBOARD.ENTER,function(){return t.click()}))},t.prototype.onModalClose=function(){this.focusTrap.disable(),this.focusTrap=null,this.initiallyFocusedElement&&document.body.contains(this.initiallyFocusedElement)&&this.initiallyFocusedElement.focus()},t}();e.AccessibleModal=p},517:function(t,e){},552:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(31),i=o(0),s=o(1),l=function(){function t(t){this.container=t,this.hiddenElements=[],this.enable()}return Object.defineProperty(t.prototype,"focusableElements",{get:function(){return i.sortBy(this.container.querySelectorAll("[tabindex]"),function(t){return t.tabIndex})},enumerable:!0,configurable:!0}),t.prototype.disable=function(){document.removeEventListener("focusin",this.focusInEvent),document.removeEventListener("focusout",this.focusOutEvent),this.showHiddenElements(),this.enabled=!1},t.prototype.enable=function(){var t=this;document.addEventListener("focusin",this.focusInEvent=function(e){return t.onFocusIn(e)}),document.addEventListener("focusout",this.focusOutEvent=function(e){return t.onFocusOut(e)}),this.hideAllExcept(this.container),this.enabled=!0},t.prototype.showHiddenElements=function(){for(;this.hiddenElements.length;)this.hiddenElements.pop().removeAttribute("aria-hidden")},t.prototype.hideElement=function(t){t.getAttribute("aria-hidden")||(this.hiddenElements.push(t),t.setAttribute("aria-hidden",""+!0))},t.prototype.hideSiblings=function(t){var e=this,o=t.parentElement;o&&i.without(s.$$(o).children(),t).forEach(function(t){e.hideElement(t)})},t.prototype.hideAllExcept=function(t){this.hideSiblings(t);var e=t.parentElement;e&&e!==document.body&&this.hideAllExcept(e)},t.prototype.getFocusableSibling=function(t,e){void 0===e&&(e=!1);var o=this.focusableElements,n=o.indexOf(t);return-1===n?null:o[(n+(e?-1:1)+o.length)%o.length]},t.prototype.focusSibling=function(t,e){void 0===e&&(e=!1);var o=this.getFocusableSibling(t,e);o&&o.focus()},t.prototype.focusFirstElement=function(){var t=this.focusableElements;t.length&&t[0].focus()},t.prototype.elementIsBefore=function(t,e){return!!e&&t.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_PRECEDING},t.prototype.onLosingFocus=function(t,e){var o=this;n.Defer.defer(function(){o.enabled&&(o.enabled=!1,t&&o.focusIsAllowed(t)?o.focusSibling(t,o.elementIsBefore(t,e)):o.focusFirstElement(),o.enabled=!0)})},t.prototype.focusIsAllowed=function(t){return this.container.contains(t)},t.prototype.elementIsInPage=function(t){return t&&t!==document.body.parentElement},t.prototype.onFocusIn=function(t){if(this.enabled){var e=t.relatedTarget;if(!this.elementIsInPage(e)){var o=t.target;this.elementIsInPage(o)&&(this.focusIsAllowed(o)||this.onLosingFocus(null,o))}}},t.prototype.onFocusOut=function(t){if(this.enabled){var e=t.relatedTarget;this.elementIsInPage(e)&&(e&&this.focusIsAllowed(e)||this.onLosingFocus(t.target,e))}},t}();e.FocusTrap=l},90:function(t,e,o){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=o(7),s=o(8),l=o(27),r=o(10),u=o(28),c=o(67),p=o(23),a=o(178),h=o(2),d=o(21),f=o(5),m=o(4),b=o(31),v=o(1),y=o(113),O=o(19),g=o(0),k=o(3);o(517);var w=o(17),E=function(t){function e(o,n,i,u,c){var a=t.call(this,o,e.ID,i)||this;if(a.element=o,a.options=n,a.bindings=i,a.result=u,a.os=c,a.logOpenDocument=g.debounce(function(){a.queryController.saveLastQuery();var t=v.$$(a.element).getAttribute("href");void 0!=t&&""!=t||(t=a.result.clickUri),a.usageAnalytics.logClickEvent(r.analyticsActionCauseList.documentOpen,{documentURL:t,documentTitle:a.result.title,author:m.Utils.getFieldValue(a.result,"author")},a.result,a.root),b.Defer.flush()},1500,!0),a.options=s.ComponentOptions.initComponentOptions(o,e,n),a.options=g.extend({},a.options,a.componentOptionsModel.get(l.ComponentOptionsModel.attributesEnum.resultLink)),a.result=u||a.resolveResult(),null==a.options.openQuickview&&(a.options.openQuickview="ExchangeCrawler"==u.raw.connectortype&&p.DeviceUtils.isMobileDevice()),a.element.setAttribute("tabindex","0"),f.Assert.exists(a.componentOptionsModel),f.Assert.exists(a.result),!a.quickviewShouldBeOpened()){var h=g.once(function(){return a.logOpenDocument()});v.$$(o).on(["contextmenu","click","mousedown","mouseup"],h);var d;v.$$(o).on("touchstart",function(){d=window.setTimeout(h,1e3)}),v.$$(o).on("touchend",function(){d&&clearTimeout(d)})}return a.renderUri(o,u),a.bindEventToOpen(),a}return n(e,t),e.prototype.renderUri=function(t,e){if(/^\s*$/.test(this.element.innerHTML)){var o=this.getDisplayedTitle();this.element.innerHTML=o,this.element.title||(this.element.title=o)}},e.prototype.openLink=function(t){void 0===t&&(t=!0),t&&this.logOpenDocument(),window.location.href=this.getResultUri()},e.prototype.openLinkInNewWindow=function(t){void 0===t&&(t=!0),t&&this.logOpenDocument(),window.open(this.getResultUri(),"_blank")},e.prototype.openLinkInOutlook=function(t){void 0===t&&(t=!0),this.hasOutlookField()&&(t&&this.logOpenDocument(),this.openLink())},e.prototype.openLinkAsConfigured=function(t){void 0===t&&(t=!0),this.toExecuteOnOpen&&(t&&this.logOpenDocument(),this.toExecuteOnOpen())},e.prototype.bindEventToOpen=function(){return this.bindOnClickIfNotUndefined()||this.bindOpenQuickviewIfNotUndefined()||this.setHrefIfNotAlready()||this.openLinkThatIsNotAnAnchor()},e.prototype.getDisplayedTitle=function(){if(this.options.titleTemplate){var t=O.StringUtils.buildStringTemplateFromResult(this.options.titleTemplate,this.result);return t?y.StreamHighlightUtils.highlightStreamText(t,this.result.termsToHighlight,this.result.phrasesToHighlight):this.result.clickUri}return this.result.title?c.HighlightUtils.highlightString(this.result.title,this.result.titleHighlights,null,"coveo-highlight"):this.result.clickUri},e.prototype.bindOnClickIfNotUndefined=function(){var t=this;return void 0!=this.options.onClick&&(this.toExecuteOnOpen=function(e){t.options.onClick.call(t,e,t.result)},(new w.AccessibleButton).withElement(this.element).withLabel(this.result.title).withSelectAction(function(e){return t.toExecuteOnOpen(e)}).build(),!0)},e.prototype.bindOpenQuickviewIfNotUndefined=function(){var t=this;return!!this.quickviewShouldBeOpened()&&(this.toExecuteOnOpen=function(){v.$$(t.bindings.resultElement).trigger(u.ResultListEvents.openQuickview)},v.$$(this.element).on("click",function(e){e.preventDefault(),t.toExecuteOnOpen()}),!0)},e.prototype.openLinkThatIsNotAnAnchor=function(){var t=this;return!this.elementIsAnAnchor()&&(this.toExecuteOnOpen=function(){t.options.alwaysOpenInNewWindow?t.options.openInOutlook?t.openLinkInOutlook():t.openLinkInNewWindow():t.openLink()},v.$$(this.element).on("click",function(){t.toExecuteOnOpen()}),!0)},e.prototype.setHrefIfNotAlready=function(){return!(!this.elementIsAnAnchor()||m.Utils.isNonEmptyString(v.$$(this.element).getAttribute("href")))&&(v.$$(this.element).setAttribute("href",this.getResultUri()),!this.options.alwaysOpenInNewWindow||this.options.openInOutlook&&this.hasOutlookField()||v.$$(this.element).setAttribute("target","_blank"),!0)},e.prototype.getResultUri=function(){return this.options.hrefTemplate?O.StringUtils.buildStringTemplateFromResult(this.options.hrefTemplate,this.result):(void 0==this.options.field&&this.options.openInOutlook&&this.setField(),void 0!=this.options.field?m.Utils.getFieldValue(this.result,this.options.field):this.result.clickUri)},e.prototype.elementIsAnAnchor=function(){return"A"==this.element.tagName},e.prototype.setField=function(){var t=m.Utils.exists(this.os)?this.os:a.OSUtils.get();t==a.OS_NAME.MACOSX&&this.hasOutlookField()?this.options.field="@outlookformacuri":t==a.OS_NAME.WINDOWS&&this.hasOutlookField()&&(this.options.field="@outlookuri")},e.prototype.hasOutlookField=function(){var t=m.Utils.exists(this.os)?this.os:a.OSUtils.get();return t==a.OS_NAME.MACOSX&&void 0!=this.result.raw.outlookformacuri||t==a.OS_NAME.WINDOWS&&void 0!=this.result.raw.outlookuri},e.prototype.isUriThatMustBeOpenedInQuickview=function(){return 0==this.result.clickUri.toLowerCase().indexOf("ldap://")},e.prototype.quickviewShouldBeOpened=function(){return(this.options.openQuickview||this.isUriThatMustBeOpenedInQuickview())&&d.QueryUtils.hasHTMLVersion(this.result)},e.ID="ResultLink",e.doExport=function(){k.exportGlobally({ResultLink:e})},e.options={field:s.ComponentOptions.buildFieldOption(),openInOutlook:s.ComponentOptions.buildBooleanOption({defaultValue:!1}),openQuickview:s.ComponentOptions.buildBooleanOption({defaultValue:!1}),alwaysOpenInNewWindow:s.ComponentOptions.buildBooleanOption({defaultValue:!1}),hrefTemplate:s.ComponentOptions.buildStringOption(),titleTemplate:s.ComponentOptions.buildStringOption(),onClick:s.ComponentOptions.buildCustomOption(function(){return null})},e}(i.Component);e.ResultLink=E,h.Initialization.registerAutoCreateComponent(E)}});