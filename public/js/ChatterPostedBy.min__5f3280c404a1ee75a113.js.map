{"version":3,"sources":["ChatterPostedBy.min__5f3280c404a1ee75a113.js","./src/utils/ChatterUtils.ts","./src/ui/ChatterPostedBy/ChatterPostedBy.ts"],"names":["webpackJsonpCoveo__temporary","224","module","exports","__webpack_require__","Object","defineProperty","value","buildURI","objectURI","objectId","newObjectId","replace","bindClickEventToElement","element","openInPrimaryTab","openInSubTab","ChatterUtils","244","__extends","this","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","options","bindings","result","ChatterPostedBy","ID","ComponentOptions","initComponentOptions","Utils","getFieldValue","from","$$","text","useFromInstead","l","append","el","renderLink","enablePostedOn","isNullOrUndefined","onUser","toLowerCase","onFeed","content","outerHTML","innerHTML","_this","id","link","href","clickUri","doExport","exportGlobally","buildBooleanOption","defaultValue","fields","Component","Initialization","registerAutoCreateComponent"],"mappings":"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","file":"ChatterPostedBy.min__5f3280c404a1ee75a113.js","sourcesContent":["webpackJsonpCoveo__temporary([48],{\n\n/***/ 224:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ChatterUtils = /** @class */ (function () {\r\n    function ChatterUtils() {\r\n    }\r\n    ChatterUtils.buildURI = function (objectURI, objectId, newObjectId) {\r\n        return objectURI.replace(objectId, newObjectId);\r\n    };\r\n    ChatterUtils.bindClickEventToElement = function (element, openInPrimaryTab, openInSubTab) {\r\n        return element;\r\n    };\r\n    return ChatterUtils;\r\n}());\r\nexports.ChatterUtils = ChatterUtils;\r\n\n\n/***/ }),\n\n/***/ 244:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Component_1 = __webpack_require__(7);\r\nvar ComponentOptions_1 = __webpack_require__(8);\r\nvar ChatterUtils_1 = __webpack_require__(224);\r\nvar Initialization_1 = __webpack_require__(2);\r\nvar Strings_1 = __webpack_require__(6);\r\nvar Utils_1 = __webpack_require__(4);\r\nvar Dom_1 = __webpack_require__(1);\r\nvar GlobalExports_1 = __webpack_require__(3);\r\nvar ChatterPostedBy = /** @class */ (function (_super) {\r\n    __extends(ChatterPostedBy, _super);\r\n    function ChatterPostedBy(element, options, bindings, result) {\r\n        var _this = _super.call(this, element, ChatterPostedBy.ID, bindings) || this;\r\n        _this.element = element;\r\n        _this.options = options;\r\n        _this.bindings = bindings;\r\n        _this.result = result;\r\n        _this.options = ComponentOptions_1.ComponentOptions.initComponentOptions(element, ChatterPostedBy, options);\r\n        if (Utils_1.Utils.getFieldValue(_this.result, 'sfcreatedbyname') != null) {\r\n            var from = Dom_1.$$('span');\r\n            from.text((_this.options.useFromInstead ? Strings_1.l('From') : Strings_1.l('PostedBy')) + \" \");\r\n            Dom_1.$$(element).append(from.el);\r\n            Dom_1.$$(element).append(_this.renderLink(Utils_1.Utils.getFieldValue(_this.result, 'sfcreatedbyname'), Utils_1.Utils.getFieldValue(_this.result, 'sfcreatedbyid')));\r\n            if (_this.options.enablePostedOn &&\r\n                !Utils_1.Utils.isNullOrUndefined(Utils_1.Utils.getFieldValue(_this.result, 'sfparentname')) &&\r\n                !Utils_1.Utils.isNullOrUndefined(Utils_1.Utils.getFieldValue(_this.result, 'sfparentid'))) {\r\n                // Post on user's wall\r\n                if (!Utils_1.Utils.isNullOrUndefined(Utils_1.Utils.getFieldValue(_this.result, 'sfuserid')) &&\r\n                    Utils_1.Utils.getFieldValue(_this.result, 'sfuserid') != Utils_1.Utils.getFieldValue(_this.result, 'sfinsertedbyid')) {\r\n                    var onFeed = Dom_1.$$('span');\r\n                    var content = \" \" + Strings_1.l('OnFeed', _this.renderLink(Utils_1.Utils.getFieldValue(_this.result, 'sfparentname'), Utils_1.Utils.getFieldValue(_this.result, 'sfparentid')).outerHTML);\r\n                    onFeed.el.innerHTML = content;\r\n                    Dom_1.$$(element).append(onFeed.el);\r\n                }\r\n                else if (Utils_1.Utils.isNullOrUndefined(Utils_1.Utils.getFieldValue(_this.result, 'sfuserid'))) {\r\n                    var onUser = Dom_1.$$('span');\r\n                    onUser.text(\" \" + Strings_1.l('On').toLowerCase() + \" \");\r\n                    Dom_1.$$(element).append(onUser.el);\r\n                    Dom_1.$$(element).append(_this.renderLink(Utils_1.Utils.getFieldValue(_this.result, 'sfparentname'), Utils_1.Utils.getFieldValue(_this.result, 'sfparentid')));\r\n                }\r\n            }\r\n        }\r\n        return _this;\r\n    }\r\n    ChatterPostedBy.prototype.renderLink = function (text, id) {\r\n        var link = Dom_1.$$('a', {\r\n            href: ChatterUtils_1.ChatterUtils.buildURI(this.result.clickUri, Utils_1.Utils.getFieldValue(this.result, 'sffeeditemid'), id)\r\n        });\r\n        link.text(text);\r\n        return ChatterUtils_1.ChatterUtils.bindClickEventToElement(link.el, this.options.openInPrimaryTab, this.options.openInSubTab);\r\n    };\r\n    ChatterPostedBy.ID = 'ChatterPostedBy';\r\n    ChatterPostedBy.doExport = function () {\r\n        GlobalExports_1.exportGlobally({\r\n            ChatterPostedBy: ChatterPostedBy\r\n        });\r\n    };\r\n    ChatterPostedBy.options = {\r\n        enablePostedOn: ComponentOptions_1.ComponentOptions.buildBooleanOption({ defaultValue: true }),\r\n        useFromInstead: ComponentOptions_1.ComponentOptions.buildBooleanOption({ defaultValue: false }),\r\n        openInPrimaryTab: ComponentOptions_1.ComponentOptions.buildBooleanOption({ defaultValue: false }),\r\n        openInSubTab: ComponentOptions_1.ComponentOptions.buildBooleanOption({ defaultValue: true })\r\n    };\r\n    ChatterPostedBy.fields = ['sfcreatedbyname', 'sfcreatedbyid', 'sffeeditemid', 'sfuserid', 'sfinsertedbyid', 'sfparentid', 'sfparentname'];\r\n    return ChatterPostedBy;\r\n}(Component_1.Component));\r\nexports.ChatterPostedBy = ChatterPostedBy;\r\nInitialization_1.Initialization.registerAutoCreateComponent(ChatterPostedBy);\r\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// ChatterPostedBy.min__5f3280c404a1ee75a113.js","export class ChatterUtils {\r\n  static buildURI(objectURI: string, objectId: string, newObjectId: string) {\r\n    return objectURI.replace(objectId, newObjectId);\r\n  }\r\n\r\n  static bindClickEventToElement(element: HTMLElement, openInPrimaryTab: boolean, openInSubTab: boolean) {\r\n    return element;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/ChatterUtils.ts","import { Component } from '../Base/Component';\r\nimport { ComponentOptions } from '../Base/ComponentOptions';\r\nimport { IResultsComponentBindings } from '../Base/ResultsComponentBindings';\r\nimport { IQueryResult } from '../../rest/QueryResult';\r\nimport { ChatterUtils } from '../../utils/ChatterUtils';\r\nimport { Initialization } from '../Base/Initialization';\r\nimport { l } from '../../strings/Strings';\r\nimport { Utils } from '../../utils/Utils';\r\nimport { $$ } from '../../utils/Dom';\r\nimport { exportGlobally } from '../../GlobalExports';\r\n\r\nexport interface IChatterPostedByOption {\r\n  enablePostedOn: boolean;\r\n  useFromInstead: boolean;\r\n  openInPrimaryTab: boolean;\r\n  openInSubTab: boolean;\r\n}\r\n\r\nexport class ChatterPostedBy extends Component {\r\n  static ID = 'ChatterPostedBy';\r\n\r\n  static doExport = () => {\r\n    exportGlobally({\r\n      ChatterPostedBy: ChatterPostedBy\r\n    });\r\n  };\r\n\r\n  static options: IChatterPostedByOption = {\r\n    enablePostedOn: ComponentOptions.buildBooleanOption({ defaultValue: true }),\r\n    useFromInstead: ComponentOptions.buildBooleanOption({ defaultValue: false }),\r\n    openInPrimaryTab: ComponentOptions.buildBooleanOption({ defaultValue: false }),\r\n    openInSubTab: ComponentOptions.buildBooleanOption({ defaultValue: true })\r\n  };\r\n\r\n  static fields = ['sfcreatedbyname', 'sfcreatedbyid', 'sffeeditemid', 'sfuserid', 'sfinsertedbyid', 'sfparentid', 'sfparentname'];\r\n\r\n  constructor(\r\n    public element: HTMLElement,\r\n    public options?: IChatterPostedByOption,\r\n    public bindings?: IResultsComponentBindings,\r\n    public result?: IQueryResult\r\n  ) {\r\n    super(element, ChatterPostedBy.ID, bindings);\r\n    this.options = ComponentOptions.initComponentOptions(element, ChatterPostedBy, options);\r\n\r\n    if (Utils.getFieldValue(this.result, 'sfcreatedbyname') != null) {\r\n      let from = $$('span');\r\n      from.text(`${this.options.useFromInstead ? l('From') : l('PostedBy')} `);\r\n      $$(element).append(from.el);\r\n      $$(element).append(\r\n        this.renderLink(Utils.getFieldValue(this.result, 'sfcreatedbyname'), Utils.getFieldValue(this.result, 'sfcreatedbyid'))\r\n      );\r\n\r\n      if (\r\n        this.options.enablePostedOn &&\r\n        !Utils.isNullOrUndefined(Utils.getFieldValue(this.result, 'sfparentname')) &&\r\n        !Utils.isNullOrUndefined(Utils.getFieldValue(this.result, 'sfparentid'))\r\n      ) {\r\n        // Post on user's wall\r\n        if (\r\n          !Utils.isNullOrUndefined(Utils.getFieldValue(this.result, 'sfuserid')) &&\r\n          Utils.getFieldValue(this.result, 'sfuserid') != Utils.getFieldValue(this.result, 'sfinsertedbyid')\r\n        ) {\r\n          let onFeed = $$('span');\r\n          let content = ` ${l(\r\n            'OnFeed',\r\n            this.renderLink(Utils.getFieldValue(this.result, 'sfparentname'), Utils.getFieldValue(this.result, 'sfparentid')).outerHTML\r\n          )}`;\r\n          onFeed.el.innerHTML = content;\r\n          $$(element).append(onFeed.el);\r\n        } else if (Utils.isNullOrUndefined(Utils.getFieldValue(this.result, 'sfuserid'))) {\r\n          let onUser = $$('span');\r\n          onUser.text(` ${l('On').toLowerCase()} `);\r\n          $$(element).append(onUser.el);\r\n          $$(element).append(\r\n            this.renderLink(Utils.getFieldValue(this.result, 'sfparentname'), Utils.getFieldValue(this.result, 'sfparentid'))\r\n          );\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private renderLink(text: string, id: string): HTMLElement {\r\n    let link = $$('a', {\r\n      href: ChatterUtils.buildURI(this.result.clickUri, Utils.getFieldValue(this.result, 'sffeeditemid'), id)\r\n    });\r\n    link.text(text);\r\n    return ChatterUtils.bindClickEventToElement(link.el, this.options.openInPrimaryTab, this.options.openInSubTab);\r\n  }\r\n}\r\n\r\nInitialization.registerAutoCreateComponent(ChatterPostedBy);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/ChatterPostedBy/ChatterPostedBy.ts"],"sourceRoot":""}