webpackJsonpCoveo__temporary([18],{173:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function n(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}function i(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},pt))}}function o(t){var e={};return t&&"[object Function]"===e.toString.call(t)}function r(t,e){if(1!==t.nodeType)return[];var n=getComputedStyle(t,null);return e?n[e]:n}function a(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function s(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=r(t),n=e.overflow,i=e.overflowX;return/(auto|scroll|overlay)/.test(n+e.overflowY+i)?t:s(a(t))}function u(t){return 11===t?mt:10===t?vt:mt||vt}function l(t){if(!t)return document.documentElement;for(var e=u(10)?document.body:null,n=t.offsetParent;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TD","TABLE"].indexOf(n.nodeName)&&"static"===r(n,"position")?l(n):n:t?t.ownerDocument.documentElement:document.documentElement}function c(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||l(t.firstElementChild)===t)}function p(t){return null!==t.parentNode?p(t.parentNode):t}function d(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,o=n?e:t,r=document.createRange();r.setStart(i,0),r.setEnd(o,0);var a=r.commonAncestorContainer;if(t!==a&&e!==a||i.contains(o))return c(a)?a:l(a);var s=p(t);return s.host?d(s.host,e):d(t,p(e).host)}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",i=t.nodeName;if("BODY"===i||"HTML"===i){var o=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||o)[n]}return t[n]}function h(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=f(e,"top"),o=f(e,"left"),r=n?-1:1;return t.top+=i*r,t.bottom+=i*r,t.left+=o*r,t.right+=o*r,t}function m(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+i+"Width"],10)}function v(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],u(10)?n["offset"+t]+i["margin"+("Height"===t?"Top":"Left")]+i["margin"+("Height"===t?"Bottom":"Right")]:0)}function g(){var t=document.body,e=document.documentElement,n=u(10)&&getComputedStyle(e);return{height:v("Height",t,e,n),width:v("Width",t,e,n)}}function w(t){return bt({},t,{right:t.left+t.width,bottom:t.top+t.height})}function y(t){var e={};try{if(u(10)){e=t.getBoundingClientRect();var n=f(t,"top"),i=f(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var o={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},a="HTML"===t.nodeName?g():{},s=a.width||t.clientWidth||o.right-o.left,l=a.height||t.clientHeight||o.bottom-o.top,c=t.offsetWidth-s,p=t.offsetHeight-l;if(c||p){var d=r(t);c-=m(d,"x"),p-=m(d,"y"),o.width-=c,o.height-=p}return w(o)}function b(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=u(10),o="HTML"===e.nodeName,a=y(t),l=y(e),c=s(t),p=r(e),d=parseFloat(p.borderTopWidth,10),f=parseFloat(p.borderLeftWidth,10);n&&"HTML"===e.nodeName&&(l.top=Math.max(l.top,0),l.left=Math.max(l.left,0));var m=w({top:a.top-l.top-d,left:a.left-l.left-f,width:a.width,height:a.height});if(m.marginTop=0,m.marginLeft=0,!i&&o){var v=parseFloat(p.marginTop,10),g=parseFloat(p.marginLeft,10);m.top-=d-v,m.bottom-=d-v,m.left-=f-g,m.right-=f-g,m.marginTop=v,m.marginLeft=g}return(i&&!n?e.contains(c):e===c&&"BODY"!==c.nodeName)&&(m=h(m,e)),m}function k(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=b(t,n),o=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:f(n),s=e?0:f(n,"left");return w({top:a-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:o,height:r})}function E(t){var e=t.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===r(t,"position")||E(a(t)))}function O(t){if(!t||!t.parentElement||u())return document.documentElement;for(var e=t.parentElement;e&&"none"===r(e,"transform");)e=e.parentElement;return e||document.documentElement}function C(t,e,n,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},u=o?O(t):d(t,e);if("viewport"===i)r=k(u,o);else{var l=void 0;"scrollParent"===i?(l=s(a(e)),"BODY"===l.nodeName&&(l=t.ownerDocument.documentElement)):l="window"===i?t.ownerDocument.documentElement:i;var c=b(l,u,o);if("HTML"!==l.nodeName||E(u))r=c;else{var p=g(),f=p.height,h=p.width;r.top+=c.top-c.marginTop,r.bottom=f+c.top,r.left+=c.left-c.marginLeft,r.right=h+c.left}}return r.left+=n,r.top+=n,r.right-=n,r.bottom-=n,r}function T(t){return t.width*t.height}function x(t,e,n,i,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=C(n,i,r,o),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},u=Object.keys(s).map(function(t){return bt({key:t},s[t],{area:T(s[t])})}).sort(function(t,e){return e.area-t.area}),l=u.filter(function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight}),c=l.length>0?l[0].key:u[0].key,p=t.split("-")[1];return c+(p?"-"+p:"")}function I(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return b(n,i?O(e):d(e,n),i)}function D(t){var e=getComputedStyle(t),n=parseFloat(e.marginTop)+parseFloat(e.marginBottom),i=parseFloat(e.marginLeft)+parseFloat(e.marginRight);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function P(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function N(t,e,n){n=n.split("-")[0];var i=D(t),o={width:i.width,height:i.height},r=-1!==["right","left"].indexOf(n),a=r?"top":"left",s=r?"left":"top",u=r?"height":"width",l=r?"width":"height";return o[a]=e[a]+e[u]/2-i[u]/2,o[s]=n===s?e[s]-i[l]:e[P(s)],o}function $(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function L(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var i=$(t,function(t){return t[e]===n});return t.indexOf(i)}function _(t,e,n){return(void 0===n?t:t.slice(0,L(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&o(n)&&(e.offsets.popper=w(e.offsets.popper),e.offsets.reference=w(e.offsets.reference),e=n(e,t))}),e}function H(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=I(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=x(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=N(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=_(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function M(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function A(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var o=e[i],r=o?""+o+n:t;if(void 0!==document.body.style[r])return r}return null}function S(){return this.state.isDestroyed=!0,M(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[A("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Q(t){var e=t.ownerDocument;return e?e.defaultView:window}function B(t,e,n,i){var o="BODY"===t.nodeName,r=o?t.ownerDocument.defaultView:t;r.addEventListener(e,n,{passive:!0}),o||B(s(r.parentNode),e,n,i),i.push(r)}function F(t,e,n,i){n.updateBound=i,Q(t).addEventListener("resize",n.updateBound,{passive:!0});var o=s(t);return B(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function j(){this.state.eventsEnabled||(this.state=F(this.reference,this.options,this.state,this.scheduleUpdate))}function q(t,e){return Q(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function W(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=q(this.reference,this.state))}function U(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function R(t,e){Object.keys(e).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&U(e[n])&&(i="px"),t.style[n]=e[n]+i})}function V(t,e){Object.keys(e).forEach(function(n){!1!==e[n]?t.setAttribute(n,e[n]):t.removeAttribute(n)})}function G(t){return R(t.instance.popper,t.styles),V(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&R(t.arrowElement,t.arrowStyles),t}function z(t,e,n,i,o){var r=I(o,e,t,n.positionFixed),a=x(n.placement,r,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),R(e,{position:n.positionFixed?"fixed":"absolute"}),n}function Y(t,e){var n=e.x,i=e.y,o=t.offsets.popper,r=$(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==r?r:e.gpuAcceleration,s=l(t.instance.popper),u=y(s),c={position:o.position},p={left:Math.floor(o.left),top:Math.round(o.top),bottom:Math.round(o.bottom),right:Math.floor(o.right)},d="bottom"===n?"top":"bottom",f="right"===i?"left":"right",h=A("transform"),m=void 0,v=void 0;if(v="bottom"===d?-u.height+p.bottom:p.top,m="right"===f?-u.width+p.right:p.left,a&&h)c[h]="translate3d("+m+"px, "+v+"px, 0)",c[d]=0,c[f]=0,c.willChange="transform";else{var g="bottom"===d?-1:1,w="right"===f?-1:1;c[d]=v*g,c[f]=m*w,c.willChange=d+", "+f}var b={"x-placement":t.placement};return t.attributes=bt({},b,t.attributes),t.styles=bt({},c,t.styles),t.arrowStyles=bt({},t.offsets.arrow,t.arrowStyles),t}function K(t,e,n){var i=$(t,function(t){return t.name===e}),o=!!i&&t.some(function(t){return t.name===n&&t.enabled&&t.order<i.order});if(!o){var r="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return o}function X(t,e){var n;if(!K(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var o=t.placement.split("-")[0],a=t.offsets,s=a.popper,u=a.reference,l=-1!==["left","right"].indexOf(o),c=l?"height":"width",p=l?"Top":"Left",d=p.toLowerCase(),f=l?"left":"top",h=l?"bottom":"right",m=D(i)[c];u[h]-m<s[d]&&(t.offsets.popper[d]-=s[d]-(u[h]-m)),u[d]+m>s[h]&&(t.offsets.popper[d]+=u[d]+m-s[h]),t.offsets.popper=w(t.offsets.popper);var v=u[d]+u[c]/2-m/2,g=r(t.instance.popper),y=parseFloat(g["margin"+p],10),b=parseFloat(g["border"+p+"Width"],10),k=v-t.offsets.popper[d]-y-b;return k=Math.max(Math.min(s[c]-m,k),0),t.arrowElement=i,t.offsets.arrow=(n={},yt(n,d,Math.round(k)),yt(n,f,""),n),t}function J(t){return"end"===t?"start":"start"===t?"end":t}function Z(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Et.indexOf(t),i=Et.slice(n+1).concat(Et.slice(0,n));return e?i.reverse():i}function tt(t,e){if(M(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=C(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],o=P(i),r=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case Ot.FLIP:a=[i,o];break;case Ot.CLOCKWISE:a=Z(i);break;case Ot.COUNTERCLOCKWISE:a=Z(i,!0);break;default:a=e.behavior}return a.forEach(function(s,u){if(i!==s||a.length===u+1)return t;i=t.placement.split("-")[0],o=P(i);var l=t.offsets.popper,c=t.offsets.reference,p=Math.floor,d="left"===i&&p(l.right)>p(c.left)||"right"===i&&p(l.left)<p(c.right)||"top"===i&&p(l.bottom)>p(c.top)||"bottom"===i&&p(l.top)<p(c.bottom),f=p(l.left)<p(n.left),h=p(l.right)>p(n.right),m=p(l.top)<p(n.top),v=p(l.bottom)>p(n.bottom),g="left"===i&&f||"right"===i&&h||"top"===i&&m||"bottom"===i&&v,w=-1!==["top","bottom"].indexOf(i),y=!!e.flipVariations&&(w&&"start"===r&&f||w&&"end"===r&&h||!w&&"start"===r&&m||!w&&"end"===r&&v);(d||g||y)&&(t.flipped=!0,(d||g)&&(i=a[u+1]),y&&(r=J(r)),t.placement=i+(r?"-"+r:""),t.offsets.popper=bt({},t.offsets.popper,N(t.instance.popper,t.offsets.reference,t.placement)),t=_(t.instance.modifiers,t,"flip"))}),t}function et(t){var e=t.offsets,n=e.popper,i=e.reference,o=t.placement.split("-")[0],r=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",u=a?"left":"top",l=a?"width":"height";return n[s]<r(i[u])&&(t.offsets.popper[u]=r(i[u])-n[l]),n[u]>r(i[s])&&(t.offsets.popper[u]=r(i[s])),t}function nt(t,e,n,i){var o=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+o[1],a=o[2];if(!r)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=i}return w(s)[e]/100*r}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r}return r}function it(t,e,n,i){var o=[0,0],r=-1!==["right","left"].indexOf(i),a=t.split(/(\+|\-)/).map(function(t){return t.trim()}),s=a.indexOf($(a,function(t){return-1!==t.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,l=-1!==s?[a.slice(0,s).concat([a[s].split(u)[0]]),[a[s].split(u)[1]].concat(a.slice(s+1))]:[a];return l=l.map(function(t,i){var o=(1===i?!r:r)?"height":"width",a=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)},[]).map(function(t){return nt(t,o,e,n)})}),l.forEach(function(t,e){t.forEach(function(n,i){U(n)&&(o[e]+=n*("-"===t[i-1]?-1:1))})}),o}function ot(t,e){var n=e.offset,i=t.placement,o=t.offsets,r=o.popper,a=o.reference,s=i.split("-")[0],u=void 0;return u=U(+n)?[+n,0]:it(n,r,a,s),"left"===s?(r.top+=u[0],r.left-=u[1]):"right"===s?(r.top+=u[0],r.left+=u[1]):"top"===s?(r.left+=u[0],r.top-=u[1]):"bottom"===s&&(r.left+=u[0],r.top+=u[1]),t.popper=r,t}function rt(t,e){var n=e.boundariesElement||l(t.instance.popper);t.instance.reference===n&&(n=l(n));var i=A("transform"),o=t.instance.popper.style,r=o.top,a=o.left,s=o[i];o.top="",o.left="",o[i]="";var u=C(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);o.top=r,o.left=a,o[i]=s,e.boundaries=u;var c=e.priority,p=t.offsets.popper,d={primary:function(t){var n=p[t];return p[t]<u[t]&&!e.escapeWithReference&&(n=Math.max(p[t],u[t])),yt({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=p[n];return p[t]>u[t]&&!e.escapeWithReference&&(i=Math.min(p[n],u[t]-("right"===t?p.width:p.height))),yt({},n,i)}};return c.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";p=bt({},p,d[e](t))}),t.offsets.popper=p,t}function at(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var o=t.offsets,r=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",l=s?"width":"height",c={start:yt({},u,r[u]),end:yt({},u,r[u]+r[l]-a[l])};t.offsets.popper=bt({},a,c[i])}return t}function st(t){if(!K(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=$(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function ut(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,o=i.popper,r=i.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=r[n]-(s?o[a?"width":"height"]:0),t.placement=P(e),t.offsets.popper=w(o),t}for(var lt="undefined"!=typeof window&&"undefined"!=typeof document,ct=["Edge","Trident","Firefox"],pt=0,dt=0;dt<ct.length;dt+=1)if(lt&&navigator.userAgent.indexOf(ct[dt])>=0){pt=1;break}var ft=lt&&window.Promise,ht=ft?n:i,mt=lt&&!(!window.MSInputMethodContext||!document.documentMode),vt=lt&&/MSIE 10/.test(navigator.userAgent),gt=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},wt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),yt=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},bt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},kt=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Et=kt.slice(3),Ot={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},Ct={shift:{order:100,enabled:!0,fn:at},offset:{order:200,enabled:!0,fn:ot,offset:0},preventOverflow:{order:300,enabled:!0,fn:rt,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:et},arrow:{order:500,enabled:!0,fn:X,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:tt,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:ut},hide:{order:800,enabled:!0,fn:st},computeStyle:{order:850,enabled:!0,fn:Y,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:G,onLoad:z,gpuAcceleration:void 0}},Tt={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Ct},xt=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};gt(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=ht(this.update.bind(this)),this.options=bt({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(bt({},t.Defaults.modifiers,r.modifiers)).forEach(function(e){i.options.modifiers[e]=bt({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return bt({name:t},i.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&o(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return wt(t,[{key:"update",value:function(){return H.call(this)}},{key:"destroy",value:function(){return S.call(this)}},{key:"enableEventListeners",value:function(){return j.call(this)}},{key:"disableEventListeners",value:function(){return W.call(this)}}]),t}();xt.Utils=("undefined"!=typeof window?window:t).PopperUtils,xt.placements=kt,xt.Defaults=Tt,e.default=xt}.call(e,n(86))},226:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.quickviewLoaded="quickviewLoaded",t.openQuickview="openQuickview",t}();e.QuickviewEvents=i},232:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((i=i.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,r&&(a=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(r,n[1])).done)return a;switch(r=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,r=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],r=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,r,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var s=n(226),u=n(5),l=n(1),c=n(4),p=n(7),d=n(8),f=n(2),h=n(643),m=n(644),v=n(645),g=n(0),w=n(648),y=n(649);e.HIGHLIGHT_PREFIX="CoveoHighlight";var b=function(t){function e(n,i,o,r){var a=t.call(this,n,e.ID,o)||this;return a.element=n,a.options=i,a.result=r,a.options=d.ComponentOptions.initComponentOptions(n,e,i),a.result=r||a.resolveResult(),u.Assert.exists(a.result),a}return i(e,t),e.prototype.createDom=function(){var t=l.$$("div",{className:"coveo-quickview-document"});this.element.appendChild(t.el),this.header=new m.QuickviewDocumentHeader,this.iframe=new h.QuickviewDocumentIframe,t.append(this.header.el),t.append(this.iframe.el)},e.prototype.open=function(){return r(this,void 0,void 0,function(){var t,e,n,i,o,r,s,u,s,l=this;return a(this,function(a){switch(a.label){case 0:this.ensureDom(),t=(new Date).getTime(),e=this.initialTermsToHighlight,this.triggerOpenQuickViewEvent({termsToHighlight:e}),n=this.wereTermsToHighlightModified(e),n&&this.handleTermsToHighlight(e,this.query),a.label=1;case 1:return a.trys.push([1,4,,6]),[4,this.queryController.getEndpoint().getDocumentHtml(this.result.uniqueId,{queryObject:this.query,requestedOutputSize:this.options.maximumDocumentSize})];case 2:return i=a.sent(),[4,this.iframe.render(i,this.result.title)];case 3:return a.sent(),o=new v.QuickviewDocumentWords(this.iframe,this.result),r=new y.QuickviewDocumentPreviewBar(this.iframe,o),g.each(o.words,function(t){var e=new w.QuickviewDocumentWordButton(t,r,l.iframe);l.header.addWord(e)}),s=(new Date).getTime(),this.triggerQuickviewLoaded(s-t),[3,6];case 4:return u=a.sent(),[4,this.iframe.renderError(u)];case 5:return a.sent(),s=(new Date).getTime(),this.triggerQuickviewLoaded(s-t),[3,6];case 6:return[2]}})})},Object.defineProperty(e.prototype,"initialTermsToHighlight",{get:function(){return g.keys(this.result.termsToHighlight)},enumerable:!0,configurable:!0}),e.prototype.triggerOpenQuickViewEvent=function(t){l.$$(this.root).trigger(s.QuickviewEvents.openQuickview,t)},Object.defineProperty(e.prototype,"query",{get:function(){return o({},this.queryController.getLastQuery())},enumerable:!0,configurable:!0}),e.prototype.triggerQuickviewLoaded=function(t){l.$$(this.element).trigger(s.QuickviewEvents.quickviewLoaded,{duration:t})},e.prototype.handleTermsToHighlight=function(t,e){var n=this;for(var i in this.result.termsToHighlight)delete this.result.termsToHighlight[i];var o="";g.each(t,function(t){o+=t+" ",n.result.termsToHighlight[t]=[t]}),o=o.substring(0,o.length-1),e.q=o},e.prototype.wereTermsToHighlightModified=function(t){return!c.Utils.arrayEqual(t,this.initialTermsToHighlight)},e.ID="QuickviewDocument",e.options={maximumDocumentSize:d.ComponentOptions.buildNumberOption({defaultValue:0,min:0})},e}(p.Component);e.QuickviewDocument=b,f.Initialization.registerAutoCreateComponent(b)},267:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,r&&(a=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(r,n[1])).done)return a;switch(r=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,r=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],r=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,r,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var a=n(173);n(641);var s=n(226),u=n(30),l=n(25),c=n(3),p=n(13),d=n(6),f=n(16),h=n(1),m=n(94),v=n(22),g=n(15),w=n(12),y=n(4),b=n(10),k=n(7),E=n(8),O=n(49),C=n(2),T=n(61),x=n(642),I=n(232),D=n(124),P=function(t){function e(n,i,o,r,a){void 0===a&&(a=l.ModalBox);var s=t.call(this,n,e.ID,o)||this;return s.element=n,s.options=i,s.bindings=o,s.result=r,s.options=E.ComponentOptions.initComponentOptions(n,e,i),null==s.options.contentTemplate&&(s.options.contentTemplate=new x.DefaultQuickviewTemplate),/^\s*$/.test(s.element.innerHTML)&&s.buildContent(),s.bindClick(r),s.bindings.resultElement&&s.bind.on(s.bindings.resultElement,u.ResultListEvents.openQuickview,function(t){t&&t.stopPropagation(),s.open()}),s.modalbox=new D.AccessibleModal("coveo-quick-view",s.searchInterface.options.modalContainer,a),s}return i(e,t),e.prototype.buildContent=function(){var t=this.buildIcon(),e=this.buildCaption(),n=h.$$("div");n.append(t),n.append(e),h.$$(this.element).append(n.el),this.buildTooltipIfNotInCardLayout(t,e)},e.prototype.buildIcon=function(){var t=h.$$("div",{className:"coveo-icon-for-quickview"},w.SVGIcons.icons.quickview).el;return g.SVGDom.addClassToSVGInContainer(t,"coveo-icon-for-quickview-svg"),t},e.prototype.buildCaption=function(){return h.$$("div",{className:"coveo-caption-for-icon"},"Quickview".toLocaleString()).el},e.prototype.buildTooltipIfNotInCardLayout=function(t,e){if(!this.resultsAreInCardLayout){var n=h.$$("div").el;e.appendChild(n),this.buildPopper(t,e,n)}},Object.defineProperty(e.prototype,"resultsAreInCardLayout",{get:function(){return"card"===this.queryStateModel.get(p.QueryStateModel.attributesEnum.layout)},enumerable:!0,configurable:!0}),e.prototype.buildPopper=function(t,e,n){var i=new a.default(t,e,{placement:this.options.tooltipPlacement,modifiers:{preventOverflow:{boundariesElement:h.$$(this.root).el,padding:0},arrow:{element:n},offset:{offset:"0,8"}},eventsEnabled:!1});h.$$(this.element).on("mouseover",function(){i.update()})},e.prototype.open=function(){var t=this;if(!this.modalbox.isOpen){e.resultCurrentlyBeingRendered=this.result,document.activeElement&&document.activeElement instanceof HTMLElement&&h.$$(document.activeElement).trigger("blur");var n=this.prepareOpenQuickviewObject();return this.createModalBox(n).then(function(){t.bindQuickviewEvents(n),t.animateAndOpen(),t.logUsageAnalyticsEvent(),t.queryStateModel.set(p.QueryStateModel.attributesEnum.quickview,t.getHashId()),e.resultCurrentlyBeingRendered=null})}},e.prototype.close=function(){this.modalbox.isOpen&&this.modalbox.close()},e.prototype.getHashId=function(){return this.result.queryUid+"."+this.result.index+"."+v.StringUtils.hashCode(this.result.uniqueId)},e.prototype.logUsageAnalyticsEvent=function(){this.usageAnalytics.logClickEvent(b.analyticsActionCauseList.documentQuickview,{author:y.Utils.getFieldValue(this.result,"author"),documentURL:this.result.clickUri,documentTitle:this.result.title},this.result,this.element)},e.prototype.bindClick=function(t){var e=this;if(void 0===t.hasHtmlVersion||t.hasHtmlVersion||this.options.alwaysShow){var n=function(){return e.open()};(new f.AccessibleButton).withElement(this.element).withSelectAction(n).withLabel(d.l("Quickview")).withOwner(this.bind).build()}else this.element.style.display="none"},e.prototype.bindQuickviewEvents=function(t){var e=this;h.$$(this.modalbox.content).on(s.QuickviewEvents.quickviewLoaded,function(){return o(e,void 0,void 0,function(){var e;return r(this,function(n){switch(n.label){case 0:return[4,t.loadingAnimation];case 1:return e=n.sent(),h.$$(e).remove(),[2]}})})})},e.prototype.animateAndOpen=function(){var t=h.$$(this.modalbox.element).find("."+k.Component.computeCssClassName(I.QuickviewDocument));t&&C.Initialization.dispatchNamedMethodCallOrComponentCreation("open",t,null)},e.prototype.createModalBox=function(t){var e=this,n=h.$$("div");return n.addClass("coveo-computed-modal-box-content"),t.content.then(function(t){return n.append(t.el),e.modalbox.openResult({result:e.result,options:{showDate:e.options.showDate,title:e.options.title},bindings:e.bindings,content:n.el,validation:function(){return e.closeQuickview(),!0},origin:e.element}),n})},e.prototype.prepareOpenQuickviewObject=function(){var t=this.options.loadingAnimation;return{loadingAnimation:t,content:this.prepareQuickviewContent(t)}},e.prototype.prepareQuickviewContent=function(t){return o(this,void 0,void 0,function(){var e,n,i,o,a=this;return r(this,function(r){switch(r.label){case 0:return[4,this.instantiateTemplateToDom()];case 1:return e=r.sent(),n=this.searchInterface.options,i={options:n,bindings:this.getBindings(),result:this.result},[4,C.Initialization.automaticallyCreateComponentsInside(e.el,i).initResult];case 2:return r.sent(),o=function(){return void 0!=e.find("."+k.Component.computeCssClassName(I.QuickviewDocument))&&a.options.enableLoadingAnimation},o()&&(t instanceof HTMLElement?e.prepend(t):t instanceof Promise&&t.then(function(t){e.prepend(t)})),[2,e]}})})},e.prototype.instantiateTemplateToDom=function(){return o(this,void 0,void 0,function(){var t,e;return r(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,3,6]),[4,this.options.contentTemplate.instantiateToElement(this.result)];case 1:return t=n.sent(),[3,6];case 2:return e=n.sent(),this.logger.warn(e),[3,6];case 3:return t?[3,5]:(this.logger.warn("An unexpected error happened while trying to render a custom template quickview, fallbacking on default quickview template...",this.options.contentTemplate),[4,(new x.DefaultQuickviewTemplate).instantiateToElement(this.result)]);case 4:t=n.sent(),n.label=5;case 5:return[7];case 6:return[2,h.$$(t)]}})})},e.prototype.closeQuickview=function(){this.queryStateModel.set(p.QueryStateModel.attributesEnum.quickview,"")},e.ID="Quickview",e.doExport=function(){c.exportGlobally({Quickview:e,QuickviewDocument:I.QuickviewDocument})},e.options={alwaysShow:E.ComponentOptions.buildBooleanOption({defaultValue:!1}),title:E.ComponentOptions.buildStringOption(),showDate:E.ComponentOptions.buildBooleanOption({defaultValue:!0}),enableLoadingAnimation:E.ComponentOptions.buildBooleanOption({defaultValue:!0}),contentTemplate:T.TemplateComponentOptions.buildTemplateOption({selectorAttr:"data-template-selector",idAttr:"data-template-id"}),loadingAnimation:E.ComponentOptions.buildOption(O.ComponentOptionsType.NONE,function(t){var e=t.getAttribute("data-loading-animation-selector");if(null!=e){var n=h.$$(document.documentElement).find(e);if(null!=n)return h.$$(n).detach(),n}var i=t.getAttribute("data-loading-animation-template-id");if(null!=i){var o=T.TemplateComponentOptions.loadResultTemplateFromId(i);if(o)return o.instantiateToElement(void 0,{checkCondition:!1})}return m.DomUtils.getBasicLoadingAnimation()}),tooltipPlacement:E.ComponentOptions.buildCustomOption(function(t){return t},{defaultValue:"bottom"})},e.resultCurrentlyBeingRendered=null,e}(k.Component);e.Quickview=P,C.Initialization.registerAutoCreateComponent(P)},641:function(t,e){},642:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(27),r=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.instantiateToString=function(t){return'<div class="coveo-quick-view-full-height"><div class="CoveoQuickviewDocument"></div></div>'},e}(o.Template);e.DefaultQuickviewTemplate=r},643:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(19),r=n(1),a=function(){function t(){this.el=this.buildIFrame().el}return Object.defineProperty(t.prototype,"iframeHTMLElement",{get:function(){return this.iframeElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"document",{get:function(){return this.iframeElement.contentWindow.document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"body",{get:function(){return this.document.body},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return this.iframeElement.contentWindow},enumerable:!0,configurable:!0}),t.prototype.isNewQuickviewDocument=function(){var t=r.$$(this.document.head).find("meta[name='generator']");return t&&"pdf2htmlEX"==t.getAttribute("content")},t.prototype.render=function(t,e){var n=this;return this.quickviewIsClosedByEndUser()?Promise.reject(null):new Promise(function(i,o){n.iframeElement.onload=function(){i(n.iframeElement)},n.addClientSideTweaksToIFrameStyling(t),n.writeToIFrame(t),n.iframeElement.title=e})},t.prototype.renderError=function(t){var e=this;return this.quickviewIsClosedByEndUser()?Promise.reject(null):new Promise(function(n,i){var a="";switch(t.status){case 400:a=o.l("NoQuickview");break;default:a=o.l("OoopsError")}var s=document.implementation.createHTMLDocument();s.body.style.fontFamily="Arimo, 'Helvetica Neue', Helvetica, Arial, sans-serif",r.$$(s.body).text(a),e.writeToIFrame(s),n(e.iframeElement)})},t.prototype.quickviewIsClosedByEndUser=function(){return null==this.iframeElement.contentDocument},t.prototype.buildIFrame=function(){var t=r.$$("iframe",{sandbox:"allow-popups allow-same-origin allow-top-navigation",src:"about:blank"});this.iframeElement=t.el;var e=r.$$("div",{className:"coveo-iframeWrapper"});return e.append(t.el),e},t.prototype.writeToIFrame=function(t){this.allowDocumentLinkToEscapeSandbox(t),this.document.open(),this.document.write(t.getElementsByTagName("html")[0].outerHTML),this.document.close()},t.prototype.allowDocumentLinkToEscapeSandbox=function(t){i.each(r.$$(t.body).findAll("a"),function(t){t.setAttribute("target","_top")})},t.prototype.addClientSideTweaksToIFrameStyling=function(t){var e=r.$$("style",{type:"text/css"}).el,n="\n      html pre {\n        white-space: pre-wrap;\n        word-wrap: break-word;\n      }\n      body, html {\n        font-family: Arimo, 'Helvetica Neue', Helvetica, Arial, sans-serif; -webkit-text-size-adjust: none;\n      }\n      "+(o.DeviceUtils.isIos()?"\n      body, html {\n        height: 1px !important;\n        min-height: 100%;\n        width: 1px !important;\n        min-width: 100%;\n        overflow: scroll;\n        margin: auto\n      }\n      ":"")+"\n      ";o.DeviceUtils.isIos()&&(r.$$(this.iframeElement).setAttribute("scrolling","no"),this.iframeElement.parentElement.style.margin="0 0 5px 5px"),e.appendChild(document.createTextNode(n)),t.head.appendChild(e)},t}();e.QuickviewDocumentIframe=a},644:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=function(){function t(){this.el=this.buildHeader().el}return t.prototype.addWord=function(t){this.el.appendChild(t.el)},t.prototype.buildHeader=function(){return i.$$("div",{className:"coveo-quickview-header"})},t}();e.QuickviewDocumentHeader=o},645:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(0),r=n(646),a=n(232),s=function(){function t(t,e){this.iframe=t,this.result=e,this.words={},this.scanDocument()}return t.prototype.scanDocument=function(){var t=this;o.each(i.$$(this.iframe.body).findAll('[id^="'+a.HIGHLIGHT_PREFIX+'"]'),function(e,n){var i=new r.QuickviewDocumentWord(t.result);if(i.doCompleteInitialScanForKeywordInDocument(e),i.text){var o=t.words[i.indexIdentifier];o?(o.addElement(e),o.occurrence==i.occurrence&&(o.text+=i.text)):t.words[i.indexIdentifier]=i}})},t}();e.QuickviewDocumentWords=s},646:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(19),r=n(9),a=n(1),s=n(232),u=n(647),l=function(){function t(t){this.result=t,this.count=0,this.elements=[],this.currentNavigationPosition=-1,this.logger=new r.Logger(this)}return t.prototype.addElement=function(t){this.count++,this.elements.push(t)},t.prototype.navigateForward=function(){return this.currentNavigationPosition++,this.currentNavigationPosition>=this.elements.length&&(this.currentNavigationPosition=0),this.highlightNavigation(),this.putElementIntoView(),this.elements[this.currentNavigationPosition]},t.prototype.navigateBackward=function(){return this.currentNavigationPosition--,this.currentNavigationPosition<0&&(this.currentNavigationPosition=this.elements.length-1),this.highlightNavigation(),this.putElementIntoView(),this.elements[this.currentNavigationPosition]},t.prototype.navigateTo=function(t){return this.currentNavigationPosition=t,(this.currentNavigationPosition<0||this.currentNavigationPosition>=this.elements.length)&&(this.currentNavigationPosition=0,this.logger.warn("Invalid position in quickview navigation: "+t)),this.highlightNavigation(),this.elements[this.currentNavigationPosition]},t.prototype.doCompleteInitialScanForKeywordInDocument=function(t){var e=this.parseKeywordIdentifier(t);e&&(this.indexIdentifier=e.keywordIdentifier,this.occurrence=e.keywordOccurrencesInDocument,this.indexTermPart=e.keywordTermPart,this.text=this.getText(t),this.color=new u.QuickviewDocumentWordColor(t.style.backgroundColor),this.addElement(t))},t.prototype.isTaggedWord=function(t){return"coveotaggedword"==t.nodeName.toLowerCase()},t.prototype.highlightNavigation=function(){var t=this,e=this.elements[this.currentNavigationPosition],n=i.without(this.elements,e);e.style.color=this.color.htmlColor,e.style.backgroundColor=this.color.invert(),n.forEach(function(e){e.style.color="",e.style.backgroundColor=t.color.htmlColor})},t.prototype.putElementIntoView=function(){this.elements[this.currentNavigationPosition].scrollIntoView()},t.prototype.getText=function(t){var e=this.getHighlightedInnerText(t);return this.resolveOriginalTerm(e)},t.prototype.resolveOriginalTerm=function(t){var e=this;return this.result&&this.result.termsToHighlight?i.find(i.keys(this.result.termsToHighlight),function(n){var r=o.StringUtils.equalsCaseInsensitive(n,t),a=void 0!=i.find(e.result.termsToHighlight[n],function(e){return o.StringUtils.equalsCaseInsensitive(e,t)});return r||a})||t:t},t.prototype.getHighlightedInnerText=function(t){if(!this.isTaggedWord(t))return a.$$(t).text()||"";var e=a.$$(t).children();return e.length>=1?a.$$(i.first(e)).text()||"":""},t.prototype.parseKeywordIdentifier=function(t){var e=t.id.substr(s.HIGHLIGHT_PREFIX.length+1).match(/^([0-9]+)\.([0-9]+)\.([0-9]+)$/);return!e||e.length<=3?null:{keywordIdentifier:e[1],keywordOccurrencesInDocument:parseInt(e[2],10),keywordTermPart:parseInt(e[3],10)}},t}();e.QuickviewDocumentWord=l},647:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(139),o=function(){function t(t){this.htmlColor=t;var e=t.match(/\d+/g);e&&(this.r=parseInt(e[0],10),this.g=parseInt(e[1],10),this.b=parseInt(e[2],10))}return t.prototype.invert=function(){return"rgb("+(255-this.r)+", "+(255-this.g)+", "+(255-this.b)+")"},t.prototype.saturate=function(){var t=i.ColorUtils.rgbToHsv(this.r,this.g,this.b);t[1]*=2,t[1]>1&&(t[1]=1);var e=i.ColorUtils.hsvToRgb(t[0],t[1],t[2]);return"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},t}();e.QuickviewDocumentWordColor=o},648:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=function(){function t(t,e,n){this.word=t,this.previewBar=e,this.iframe=n,this.el=this.render()}return t.prototype.render=function(){var t=i.$$("span",{className:"coveo-term-for-quickview"});return t.append(this.buildName().el),t.append(this.renderArrow("up").el),t.append(this.renderArrow("down").el),t.el.style.backgroundColor=this.word.color.htmlColor,t.el.style.borderColor=this.word.color.saturate(),t.el},t.prototype.buildName=function(){var t=this,e=i.$$("span",{className:"coveo-term-for-quickview-name"},this.word.text+" ("+this.word.count+")");return e.on("click",function(){return t.navigate(!1)}),e},t.prototype.navigate=function(t){var e;if(t?(e=this.word.navigateBackward(),this.previewBar.navigateBackward(this.word)):(e=this.word.navigateForward(),this.previewBar.navigateForward(this.word)),this.iframe.isNewQuickviewDocument()){var n=i.$$(e).closest(".pc");i.$$(n).addClass("opened")}e.scrollIntoView()},t.prototype.renderArrow=function(t){var e=this,n=i.$$("span",{className:"coveo-term-for-quickview-"+t+"-arrow"}),o=i.$$("span",{className:"coveo-term-for-quickview-"+t+"-arrow-icon"});return n.append(o.el),n.on("click",function(){return e.navigate("up"==t)}),n},t}();e.QuickviewDocumentWordButton=o},649:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(0),r=n(9),a=function(){function t(t,e){this.iframe=t,this.words=e,this.wordIndicators=new Map,this.logger=new r.Logger(this),this.renderPreviewBar()}return t.prototype.navigateForward=function(t){var e=this.wordIndicators.get(t);return e?(e.position++,e.position>=e.indicators.length&&(e.position=0),this.highlightNavigation(t),e.indicators[e.position]):(this.logger.warn("Invalid navigation for given word.",t),null)},t.prototype.navigateBackward=function(t){var e=this.wordIndicators.get(t);return e?(e.position--,e.position<0&&(e.position=e.indicators.length-1),this.highlightNavigation(t),e.indicators[e.position]):(this.logger.warn("Invalid navigation for the given word.",t),null)},t.prototype.navigateTo=function(t,e){var n=this.wordIndicators.get(e);return n?(n.position=t,(n.position<0||n.position>=n.indicators.length)&&(this.logger.warn("Invalid navigation for the given position: "+t),n.position=0),this.highlightNavigation(e),n.indicators[n.position]):(this.logger.warn("Invalid navigation for the given word",e),null)},t.prototype.highlightNavigation=function(t){var e=this,n=this.wordIndicators.get(t),i=n.indicators[n.position],r=o.without(n.indicators,i);i.style.backgroundColor=t.color.invert(),i.style.border="1px solid "+t.color.invert(),r.forEach(function(n){return e.defaultStyleColor(n,t)})},t.prototype.renderPreviewBar=function(){var t=this,e=i.$$("div");e.el.style.width="15px",e.el.style.position="fixed",e.el.style.top="0",e.el.style.right="0px",e.el.style.height="100%",this.iframe.body.appendChild(e.el),o.each(this.words.words,function(n){o.each(n.elements,function(i){var o=t.renderWordPositionIndicator(i,n).el;t.wordIndicators.has(n)?t.wordIndicators.get(n).indicators.push(o):t.wordIndicators.set(n,{indicators:[o],position:-1}),e.append(o)}),t.handleOverlappingIndicators(n)})},t.prototype.renderWordPositionIndicator=function(t,e){var n=new i.Doc(this.iframe.document).height(),o=t.getBoundingClientRect().top,r=i.$$("div");return r.el.style.position="absolute",r.el.style.top=o/n*100+"%",r.el.style.width="100%",r.el.style.height="1px",this.defaultStyleColor(r.el,e),r},t.prototype.defaultStyleColor=function(t,e){t.style.border="1px solid "+e.color.saturate(),t.style.backgroundColor=e.color.htmlColor},t.prototype.handleOverlappingIndicators=function(t){for(var e=this.wordIndicators.get(t).indicators,n=0;n<e.length;n++)!function(t){var n=o.chain(e).without(e[t]).find(function(n){return n.style.top==e[t].style.top}).value();n&&(i.$$(e[t]).remove(),e[t]=n)}(n)},t}();e.QuickviewDocumentPreviewBar=a}});
//# sourceMappingURL=Quickview.min__fef926a3d249213fcc09.js.map