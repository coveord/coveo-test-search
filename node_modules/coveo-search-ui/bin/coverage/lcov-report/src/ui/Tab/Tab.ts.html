<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/ui/Tab/Tab.ts</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../../prettify.css">
    <link rel="stylesheet" href="../../../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header high">
    <h1>Code coverage report for <span class="entity">src/ui/Tab/Tab.ts</span></h1>
    <h2>
        Statements: <span class="metric">94.17% <small>(113 / 120)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">90.91% <small>(40 / 44)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">80% <small>(20 / 25)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">94.5% <small>(103 / 109)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; <a href="index.html">src/ui/Tab/</a> &#187; Tab.ts</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">42</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">41</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">41</span>
<span class="cline-any cline-yes">41</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">41</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">41</span>
<span class="cline-any cline-yes">41</span>
<span class="cline-any cline-yes">41</span>
<span class="cline-any cline-yes">41</span>
<span class="cline-any cline-yes">41</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">22</span>
<span class="cline-any cline-yes">22</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">22</span>
<span class="cline-any cline-yes">22</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">66</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">66</span>
<span class="cline-any cline-yes">66</span>
<span class="cline-any cline-yes">66</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">66</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">41</span>
<span class="cline-any cline-yes">41</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">41</span>
<span class="cline-any cline-yes">41</span>
<span class="cline-any cline-yes">41</span>
<span class="cline-any cline-yes">41</span>
<span class="cline-any cline-yes">41</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">36</span>
<span class="cline-any cline-yes">36</span>
<span class="cline-any cline-yes">36</span>
<span class="cline-any cline-yes">24</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">24</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">24</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">24</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">24</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">34</span>
<span class="cline-any cline-yes">34</span>
<span class="cline-any cline-yes">26</span>
<span class="cline-any cline-yes">26</span>
<span class="cline-any cline-yes">26</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">70</span>
<span class="cline-any cline-yes">70</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">26</span>
<span class="cline-any cline-yes">26</span>
<span class="cline-any cline-yes">26</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">26</span>
<span class="cline-any cline-yes">66</span>
<span class="cline-any cline-yes">31</span>
<span class="cline-any cline-yes">31</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">35</span>
<span class="cline-any cline-yes">35</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">26</span>
<span class="cline-any cline-yes">31</span>
<span class="cline-any cline-yes">35</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">132</span>
<span class="cline-any cline-yes">72</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">66</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">66</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">66</span>
<span class="cline-any cline-yes">72</span>
<span class="cline-any cline-yes">72</span>
<span class="cline-any cline-yes">36</span>
<span class="cline-any cline-yes">16</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">20</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">66</span>
<span class="cline-any cline-yes">66</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">import {ResponsiveTabs} from '../ResponsiveComponents/ResponsiveTabs.ts';
import {Component} from '../Base/Component';
import {ComponentOptions} from '../Base/ComponentOptions';
import {IComponentBindings} from '../Base/ComponentBindings';
import {MODEL_EVENTS, IAttributeChangedEventArg} from '../../models/Model';
import {QueryEvents, IBuildingQueryEventArgs} from '../../events/QueryEvents';
import {QueryStateModel, QUERY_STATE_ATTRIBUTES} from '../../models/QueryStateModel';
import {analyticsActionCauseList, IAnalyticsInterfaceChange} from '../Analytics/AnalyticsActionListMeta';
import {SearchEndpoint} from '../../rest/SearchEndpoint';
import {Initialization} from '../Base/Initialization';
import {Utils} from '../../utils/Utils';
import {Assert} from '../../misc/Assert';
import {$$} from '../../utils/Dom';
&nbsp;
export interface ITabOptions {
  expression?: string;
  constant?: boolean;
  id?: string;
  icon?: string;
  caption?: string;
  sort?: string;
  endpoint?: SearchEndpoint;
  enableDuplicateFiltering?: boolean;
  pipeline?: string;
  maximumAge?: number;
  enableResponsiveMode?: boolean;
}
&nbsp;
/**
 * This component is a bar allowing users to select a search interface.
 *
 * The component attaches itself to an div element and is in charge of adding an advanced expression to the query and thus, modify the outgoing query in order to refine the results in relation to the selected tab.
 *
 * It also allows to hide and show different parts of the UI. In order to do so, each component of the UI can specify whether or not it wishes to be included or excluded from a specific tab.
 *
 * # Including and excluding other HTML components
 *
 * You can hide/show specific HTML components, based on the currently selected search tab by adding the following attributes:
 *
 * * `&lt;div data-tab="foobar"&gt;` -&gt; Include this element only in the tab with the id 'foobar'.
 *
 * * `&lt;div data-tab-not="foobar"&gt;` -&gt; DO NOT include this element in the tab id 'foobar'.
 *
 * * `&lt;div data-tab="foobar,somethingelse"&gt;` -&gt; Include this element only in the tab with the id 'foobar' or 'somethingelse'.
 *
 * # Setting a new endpoint for a tab
 * A tab can use a custom endpoint when performing a query. First, you need to make sure that the endpoint exists in the array of Coveo.SearchEndpoint.endpoints.
 *
 * ```
 * Coveo.SearchEndpoint.endpoints["specialEndpoint"] = new Coveo.SearchEndpoint({
 *     restUri : 'https://somewhere.com/rest/search'
 * })
 *
 * [...]
 *
 * &lt;div class='CoveoTab' data-endpoint='specialEndpoint'&gt;&lt;/div&gt;
 *
 * ```
 */
export class Tab extends Component {
  static ID = 'Tab';
&nbsp;
  /**
   * The options for a Tab
   * @componentOptions
   */
  static options: ITabOptions = {
    /**
     * The unique ID for a tab.&lt;br/&gt;
     * This is mandatory and required for the tab to function properly
     */
    id: ComponentOptions.buildStringOption({ required: true }),
    /**
     * The caption for the tab.&lt;br/&gt;
     * This is mandatory and required for the tab to function properly
     */
    caption: ComponentOptions.buildLocalizedStringOption({ required: true }),
    /**
     * Specify an icon for the tab.&lt;br/&gt;
     * This options is mostly kept for legacy reason. Do not use one if not needed.
     */
    icon: ComponentOptions.buildIconOption(),
    /**
     * Specifies an advanced expression / filter that this tab adds to any outgoing query.&lt;br/&gt;
     * eg : @objecttype==Message.&lt;br/&gt;
     * This is optional, normally a "All Content" tab would not set any filter on the query.
     */
    expression: ComponentOptions.buildStringOption(),
    /**
     * Specifies the endpoint that a tab should point to when performing query inside that tab.&lt;br/&gt;
     * This is optional, by default the tab will use the "default" endpoint
     */
    endpoint: ComponentOptions.buildCustomOption(<span class="fstat-no" title="function not covered" >(endpoint)</span> =&gt; <span class="cstat-no" title="statement not covered" >endpoint != null ? SearchEndpoint.endpoints[endpoint] : null)</span>,
    /**
     * Specifies the default sort when this tab is selected. A {@link Sort} Component configured with the same specified parameter needs to be in the interface in order for this this option to function properly.&lt;br/&gt;
     * eg : relevancy / date descending&lt;br/&gt;
     * Optional, by default the normal {@link Sort} component behavior will operate
     */
    sort: ComponentOptions.buildStringOption(),
    /**
     * Specifies whether the filter expression should be included in the constant part of the query.&lt;br/&gt;
     * The constant part of the query is specially optimized by the index to execute faster, but you must be careful not to include dynamic query expressions otherwise the cache would lose its efficiency.&lt;br/&gt;
     * By default, this option is set to true.
     */
    constant: ComponentOptions.buildBooleanOption({ defaultValue: true }),
    /**
     * Specifies whether to filter duplicates on the search results.&lt;br/&gt;
     * The default value is false.
     */
    enableDuplicateFiltering: ComponentOptions.buildBooleanOption({ defaultValue: false }),
    /**
     * Specifies the name of the query pipeline to use for the queries, in the Coveo platform ( Query Pipeline in the cloud admin).&lt;br/&gt;
     * If not specified, the default value is null, in which case pipeline selection conditions defined in a Coveo Cloud organization apply.
     */
    pipeline: ComponentOptions.buildStringOption(),
    /**
     * Specifies the maximum age in milliseconds that cached query results can have in order to be used (instead of performing a new query on the index).&lt;br/&gt;
     * The cache is located in the Coveo Search API (which resides between the index and search interface).&lt;br/&gt;
     * If cached results are available but are older than the specified age, a new query will be performed on the index.&lt;br/&gt;
     * By default, this is left undefined and the Coveo Search API will decide the cache duration.
     */
    maximumAge: ComponentOptions.buildNumberOption(),
    /**
     * Specifies if the responsive mode should be enabled for the tabs. Responsive mode will make the overflowing tabs dissapear and instead
     * be availaible using a dropdown button. Responsive tabs are enabled when tabs overflow or when the width of the search interface
     * becomes too small. 
     * 
     * Disabling reponsive mode for one tab will disable it for all tabs.
     * Therefore, this options only needs to be set on one tab to be effective.
     * The default value is `true`.
     */
    enableResponsiveMode: ComponentOptions.buildBooleanOption({ defaultValue: true })
&nbsp;
  };
&nbsp;
  private isFirstQuery = true;
&nbsp;
  /**
   * Create a new Tab. Bind on buildingQuery event as well as on click of the element
   * @param element The HTMLElement on which to create a new tab. Normally a div
   * @param options
   * @param bindings
   */
  constructor(public element: HTMLElement, public options?: ITabOptions, bindings?: IComponentBindings) {
    super(element, Tab.ID, bindings);
&nbsp;
    this.options = ComponentOptions.initComponentOptions(element, Tab, options);
&nbsp;
    this.bind.onRootElement(QueryEvents.buildingQuery, (args: IBuildingQueryEventArgs) =&gt; this.handleBuildingQuery(args));
    this.bind.onQueryState(MODEL_EVENTS.CHANGE_ONE, QUERY_STATE_ATTRIBUTES.T, (args: IAttributeChangedEventArg) =&gt; this.handleQueryStateChanged(args));
    this.bind.on(element, 'click', <span class="fstat-no" title="function not covered" >(e: Event)</span> =&gt; <span class="cstat-no" title="statement not covered" >this.handleClick())</span>;
    this.render();
    ResponsiveTabs.init(this.root, this, this.options);
  }
&nbsp;
  /**
   * Select the current tab.&lt;br/&gt;
   * Trigger a query and log an analytics event.
   */
  public select() {
    <span class="missing-if-branch" title="else path not taken" >E</span>if (!this.disabled) {
      this.queryStateModel.setMultiple({
        t: this.options.id,
        sort: this.options.sort || QueryStateModel.defaultAttributes.sort
      });
      this.usageAnalytics.logSearchEvent&lt;IAnalyticsInterfaceChange&gt;(analyticsActionCauseList.interfaceChange, { interfaceChangeTo: this.options.id });
      this.queryController.executeQuery();
    }
  }
&nbsp;
  /**
   * Check if the given HTMLElement is included or not in this tab
   * @param element The element to verify
   * @returns {boolean}
   */
  public isElementIncludedInTab(element: HTMLElement): boolean {
    Assert.exists(element);
&nbsp;
    var includedTabs = this.splitListOfTabs(element.getAttribute('data-tab'));
    var excludedTabs = this.splitListOfTabs(element.getAttribute('data-tab-not'));
    Assert.check(!(includedTabs.length != 0 &amp;&amp; excludedTabs.length != 0), 'You cannot both explicity include and exclude an element from tabs');
&nbsp;
    return (includedTabs.length != 0 &amp;&amp; _.indexOf(includedTabs, this.options.id) != -1) ||
      (excludedTabs.length != 0 &amp;&amp; _.indexOf(excludedTabs, this.options.id) == -1) ||
      (includedTabs.length == 0 &amp;&amp; excludedTabs.length == 0);
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  private handleClick() {</span>
<span class="cstat-no" title="statement not covered" >    this.select();</span>
  }
&nbsp;
  private render() {
    var icon = this.options.icon;
    if (Utils.isNonEmptyString(icon)) {
      var icnSpan = document.createElement('span');
      $$(icnSpan).addClass(['coveo-icon', icon]);
      this.element.insertBefore(icnSpan, this.element.firstChild);
    }
&nbsp;
    var caption = this.options.caption;
    <span class="missing-if-branch" title="else path not taken" >E</span>if (Utils.isNonEmptyString(caption)) {
      var captionP = document.createElement('p');
      $$(captionP).text(caption);
      this.element.appendChild(captionP);
    }
  }
&nbsp;
  protected handleBuildingQuery(data: IBuildingQueryEventArgs) {
    Assert.exists(data);
    this.isFirstQuery = false;
    if (!this.disabled &amp;&amp; this.isSelected()) {
      data.queryBuilder.tab = this.options.id;
&nbsp;
      if (Utils.isNonEmptyString(this.options.expression)) {
        if (this.options.constant) {
          data.queryBuilder.constantExpression.add(this.options.expression);
        } else {
          data.queryBuilder.advancedExpression.add(this.options.expression);
        }
      }
&nbsp;
      if (this.options.enableDuplicateFiltering) {
        data.queryBuilder.enableDuplicateFiltering = true;
      }
&nbsp;
      if (this.options.pipeline != null) {
        data.queryBuilder.pipeline = this.options.pipeline;
      }
&nbsp;
      if (this.options.maximumAge != null) {
        data.queryBuilder.maximumAge = this.options.maximumAge;
      }
    }
  }
&nbsp;
  private handleQueryStateChanged(data: IAttributeChangedEventArg) {
    Assert.exists(data);
    if (!this.disabled &amp;&amp; this.isSelected()) {
      $$(this.element).addClass('coveo-selected')
      this.queryController.setEndpoint(this.options.endpoint);
      this.showAndHideAppropriateElements();
    } else {
      $$(this.element).removeClass('coveo-selected');
    }
  }
&nbsp;
  protected isSelected(): boolean {
    var activeTab = this.queryStateModel.get(QueryStateModel.attributesEnum.t);
    return activeTab == this.options.id;
  }
&nbsp;
  private showAndHideAppropriateElements() {
    var showElements = [];
    var hideElements = [];
&nbsp;
    _.each($$(this.root).findAll('[data-tab],[data-tab-not]'), (element) =&gt; {
      if (this.isElementIncludedInTab(element)) {
        this.toggleAllComponentsUnder(element, true);
        showElements.push(element);
      } else {
        this.toggleAllComponentsUnder(element, false);
        hideElements.push(element);
      }
    });
&nbsp;
    $$(this.root).one(QueryEvents.querySuccess, () =&gt; {
      _.each(showElements, (elem) =&gt; $$(elem).removeClass('coveo-tab-disabled'));
      _.each(hideElements, (elem) =&gt; $$(elem).addClass('coveo-tab-disabled'));
    })
  }
&nbsp;
  private splitListOfTabs(value: string): string[] {
    if (Utils.exists(value)) {
      return _.map(value.split(','), (tab) =&gt; Utils.trim(tab));
    } else {
      return [];
    }
  }
&nbsp;
  private toggleAllComponentsUnder(element: HTMLElement, enable: boolean) {
    Assert.exists(element);
&nbsp;
    var togglePossibleComponent = (possibleComponent: HTMLElement) =&gt; {
      var possibleCmp = Component.get(possibleComponent, undefined, true);
      if (possibleCmp) {
        if (enable) {
          possibleCmp.enable();
        } else {
          possibleCmp.disable();
        }
      }
    }
&nbsp;
    togglePossibleComponent(element);
    _.each($$(element).findAll('*'), (el) =&gt; {
      togglePossibleComponent(el);
    })
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  public enable() {</span>
<span class="cstat-no" title="statement not covered" >    super.enable();</span>
<span class="cstat-no" title="statement not covered" >    this.element.style.display = '';</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  public disable() {</span>
<span class="cstat-no" title="statement not covered" >    super.disable();</span>
<span class="cstat-no" title="statement not covered" >    this.element.style.display = 'none';</span>
  }
}
&nbsp;
Initialization.registerAutoCreateComponent(Tab);
&nbsp;</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Fri Sep 23 2016 17:38:56 GMT+0000 (UTC)</div>
</div>
<script src="../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../sorter.js"></script>
</body>
</html>
