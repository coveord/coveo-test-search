<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/utils/DomUtils.ts</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../prettify.css">
    <link rel="stylesheet" href="../../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header medium">
    <h1>Code coverage report for <span class="entity">src/utils/DomUtils.ts</span></h1>
    <h2>
        Statements: <span class="metric">53.19% <small>(25 / 47)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">0% <small>(0 / 6)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">66.67% <small>(4 / 6)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">52.17% <small>(24 / 46)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../index.html">All files</a> &#187; <a href="index.html">src/utils/</a> &#187; DomUtils.ts</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">177</span>
<span class="cline-any cline-yes">177</span>
<span class="cline-any cline-yes">177</span>
<span class="cline-any cline-yes">177</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">177</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">39</span>
<span class="cline-any cline-yes">39</span>
<span class="cline-any cline-yes">39</span>
<span class="cline-any cline-yes">39</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">import {$$, Dom} from './Dom';
import {IQueryResult} from '../rest/QueryResult'
import {IResultsComponentBindings} from '../ui/Base/ResultsComponentBindings'
import {DateUtils} from './DateUtils'
import {FileTypes} from '../ui/Misc/FileTypes'
import {Utils} from './Utils';
import {StringUtils} from './StringUtils';
&nbsp;
export class DomUtils {
<span class="fstat-no" title="function not covered" >  static getPopUpCloseButton(captionForClose: string, captionForReminder: string)</span>: string {
<span class="cstat-no" title="statement not covered" >    var container = document.createElement('span');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var closeButton = document.createElement('span');</span>
<span class="cstat-no" title="statement not covered" >    $$(closeButton).addClass('coveo-close-button');</span>
<span class="cstat-no" title="statement not covered" >    container.appendChild(closeButton);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var iconClose = document.createElement('span');</span>
<span class="cstat-no" title="statement not covered" >    $$(iconClose).addClass('coveo-icon');</span>
<span class="cstat-no" title="statement not covered" >    $$(iconClose).addClass('coveo-sprites-quickview-close');</span>
<span class="cstat-no" title="statement not covered" >    closeButton.appendChild(iconClose);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    $$(closeButton).text(captionForClose);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var closeReminder = document.createElement('span');</span>
<span class="cstat-no" title="statement not covered" >    $$(closeReminder).addClass('coveo-pop-up-reminder');</span>
<span class="cstat-no" title="statement not covered" >    $$(closeReminder).text(captionForReminder);</span>
<span class="cstat-no" title="statement not covered" >    container.appendChild(closeReminder);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    return container.outerHTML;</span>
  }
&nbsp;
  static getBasicLoadingAnimation() {
    var loadDotClass = 'coveo-loading-dot';
    var dom = document.createElement('div');
    dom.className = 'coveo-first-loading-animation';
    dom.innerHTML = `&lt;div class='coveo-logo' &gt;&lt;/div&gt;
    &lt;div class='coveo-loading-container'&gt;
      &lt;div class='${loadDotClass}'&gt;&lt;/div&gt;
      &lt;div class='${loadDotClass}'&gt;&lt;/div&gt;
      &lt;div class='${loadDotClass}'&gt;&lt;/div&gt;
      &lt;div class='${loadDotClass}'&gt;&lt;/div&gt;
    &lt;/div&gt;`;
    return dom;
  }
&nbsp;
  static highlightElement(initialString: string, valueToSearch: string): string {
    var regex = new RegExp(Utils.escapeRegexCharacter(valueToSearch), 'i');
    var firstChar = initialString.search(regex);
    var lastChar = firstChar + valueToSearch.length;
    return `${StringUtils.htmlEncode(initialString.slice(0, firstChar))}&lt;span class='coveo-highlight'&gt;${StringUtils.htmlEncode(initialString.slice(firstChar, lastChar))}&lt;/span&gt;${StringUtils.htmlEncode(initialString.slice(lastChar))}`;
  }
&nbsp;
  static getLoadingSpinner(): HTMLElement {
    let loading = $$('div');
    loading.addClass('coveo-loading-spinner');
    return loading.el;
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  static getQuickviewHeader(result: IQueryResult, options: { showDate: boolean; title: string }, bindings: IResultsComponentBindings)</span>: Dom {
<span class="cstat-no" title="statement not covered" >    var date = '';</span>
<span class="cstat-no" title="statement not covered" >    if (options.showDate) {</span>
<span class="cstat-no" title="statement not covered" >      date = DateUtils.dateTimeToString(new Date(result.raw.date));</span>
    }
<span class="cstat-no" title="statement not covered" >    var fileType = FileTypes.get(result);</span>
<span class="cstat-no" title="statement not covered" >    var header = $$('div');</span>
<span class="cstat-no" title="statement not covered" >    header.el.innerHTML = `&lt;div class='coveo-quickview-right-header'&gt;</span>
        &lt;span class='coveo-quickview-time'&gt;${date}&lt;/span&gt;
        &lt;span class='coveo-quickview-close-button'&gt;
          &lt;span class='coveo-icon coveo-sprites-common-clear'&gt;&lt;/span&gt;
        &lt;/span&gt;
      &lt;/div&gt;
      &lt;div class='coveo-quickview-left-header'&gt;
        &lt;span class='coveo-quickview-icon coveo-small ${fileType.icon}'&gt;&lt;/span&gt;
        &lt;span class='coveo-quickview-pop-up-reminder'&gt; ${options.title || ''}&lt;/span&gt;
      &lt;/div&gt;`;
<span class="cstat-no" title="statement not covered" >    new Coveo[Coveo['Salesforce'] ? 'SalesforceResultLink' : 'ResultLink'](header.find('.coveo-quickview-pop-up-reminder'), undefined, bindings, result);</span>
<span class="cstat-no" title="statement not covered" >    return header;</span>
  }
}
&nbsp;</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Fri Sep 23 2016 17:38:56 GMT+0000 (UTC)</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
