{"src/Index.ts":{"path":"src/Index.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":138,"column":0}},"2":{"start":{"line":1,"column":0},"end":{"line":1,"column":30}},"3":{"start":{"line":2,"column":0},"end":{"line":2,"column":30}},"4":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"5":{"start":{"line":4,"column":0},"end":{"line":4,"column":32}},"6":{"start":{"line":5,"column":0},"end":{"line":5,"column":31}},"7":{"start":{"line":6,"column":0},"end":{"line":6,"column":37}},"8":{"start":{"line":7,"column":0},"end":{"line":7,"column":32}},"9":{"start":{"line":8,"column":0},"end":{"line":8,"column":32}},"10":{"start":{"line":9,"column":0},"end":{"line":9,"column":35}},"11":{"start":{"line":12,"column":0},"end":{"line":12,"column":55}},"12":{"start":{"line":12,"column":8},"end":{"line":12,"column":55}},"13":{"start":{"line":13,"column":0},"end":{"line":13,"column":96}},"14":{"start":{"line":13,"column":8},"end":{"line":13,"column":23}},"15":{"start":{"line":13,"column":25},"end":{"line":13,"column":96}},"16":{"start":{"line":14,"column":0},"end":{"line":14,"column":51}},"17":{"start":{"line":14,"column":8},"end":{"line":14,"column":51}},"18":{"start":{"line":15,"column":0},"end":{"line":15,"column":51}},"19":{"start":{"line":15,"column":8},"end":{"line":15,"column":51}},"20":{"start":{"line":16,"column":0},"end":{"line":16,"column":69}},"21":{"start":{"line":16,"column":8},"end":{"line":16,"column":69}},"22":{"start":{"line":17,"column":0},"end":{"line":17,"column":99}},"23":{"start":{"line":17,"column":8},"end":{"line":17,"column":99}},"24":{"start":{"line":18,"column":0},"end":{"line":18,"column":80}},"25":{"start":{"line":18,"column":8},"end":{"line":18,"column":80}},"26":{"start":{"line":19,"column":0},"end":{"line":19,"column":71}},"27":{"start":{"line":19,"column":8},"end":{"line":19,"column":71}},"28":{"start":{"line":20,"column":0},"end":{"line":20,"column":71}},"29":{"start":{"line":20,"column":8},"end":{"line":20,"column":71}},"30":{"start":{"line":21,"column":0},"end":{"line":21,"column":91}},"31":{"start":{"line":21,"column":8},"end":{"line":21,"column":91}},"32":{"start":{"line":22,"column":0},"end":{"line":22,"column":73}},"33":{"start":{"line":22,"column":8},"end":{"line":22,"column":73}},"34":{"start":{"line":23,"column":0},"end":{"line":23,"column":48}},"35":{"start":{"line":23,"column":8},"end":{"line":23,"column":48}},"36":{"start":{"line":24,"column":0},"end":{"line":24,"column":60}},"37":{"start":{"line":24,"column":8},"end":{"line":24,"column":60}},"38":{"start":{"line":25,"column":0},"end":{"line":25,"column":51}},"39":{"start":{"line":25,"column":8},"end":{"line":25,"column":51}},"40":{"start":{"line":26,"column":0},"end":{"line":26,"column":54}},"41":{"start":{"line":26,"column":8},"end":{"line":26,"column":54}},"42":{"start":{"line":27,"column":0},"end":{"line":27,"column":39}},"43":{"start":{"line":27,"column":8},"end":{"line":27,"column":39}},"44":{"start":{"line":28,"column":0},"end":{"line":28,"column":51}},"45":{"start":{"line":28,"column":8},"end":{"line":28,"column":51}},"46":{"start":{"line":29,"column":0},"end":{"line":29,"column":71}},"47":{"start":{"line":29,"column":8},"end":{"line":29,"column":71}},"48":{"start":{"line":30,"column":0},"end":{"line":30,"column":55}},"49":{"start":{"line":30,"column":8},"end":{"line":30,"column":55}},"50":{"start":{"line":31,"column":0},"end":{"line":31,"column":47}},"51":{"start":{"line":31,"column":8},"end":{"line":31,"column":47}},"52":{"start":{"line":32,"column":0},"end":{"line":32,"column":49}},"53":{"start":{"line":32,"column":8},"end":{"line":32,"column":49}},"54":{"start":{"line":33,"column":0},"end":{"line":33,"column":63}},"55":{"start":{"line":33,"column":8},"end":{"line":33,"column":63}},"56":{"start":{"line":34,"column":0},"end":{"line":34,"column":63}},"57":{"start":{"line":34,"column":8},"end":{"line":34,"column":18}},"58":{"start":{"line":34,"column":20},"end":{"line":34,"column":63}},"59":{"start":{"line":35,"column":0},"end":{"line":35,"column":69}},"60":{"start":{"line":35,"column":8},"end":{"line":35,"column":69}},"61":{"start":{"line":36,"column":0},"end":{"line":36,"column":51}},"62":{"start":{"line":36,"column":8},"end":{"line":36,"column":51}},"63":{"start":{"line":37,"column":0},"end":{"line":37,"column":71}},"64":{"start":{"line":37,"column":8},"end":{"line":37,"column":71}},"65":{"start":{"line":38,"column":0},"end":{"line":38,"column":40}},"66":{"start":{"line":38,"column":8},"end":{"line":38,"column":40}},"67":{"start":{"line":39,"column":0},"end":{"line":39,"column":57}},"68":{"start":{"line":39,"column":8},"end":{"line":39,"column":57}},"69":{"start":{"line":40,"column":0},"end":{"line":40,"column":54}},"70":{"start":{"line":40,"column":8},"end":{"line":40,"column":54}},"71":{"start":{"line":41,"column":0},"end":{"line":41,"column":39}},"72":{"start":{"line":41,"column":8},"end":{"line":41,"column":39}},"73":{"start":{"line":42,"column":0},"end":{"line":42,"column":57}},"74":{"start":{"line":42,"column":8},"end":{"line":42,"column":57}},"75":{"start":{"line":43,"column":0},"end":{"line":43,"column":54}},"76":{"start":{"line":43,"column":8},"end":{"line":43,"column":54}},"77":{"start":{"line":44,"column":0},"end":{"line":44,"column":91}},"78":{"start":{"line":44,"column":8},"end":{"line":44,"column":91}},"79":{"start":{"line":45,"column":0},"end":{"line":45,"column":45}},"80":{"start":{"line":45,"column":8},"end":{"line":45,"column":45}},"81":{"start":{"line":46,"column":0},"end":{"line":46,"column":54}},"82":{"start":{"line":46,"column":8},"end":{"line":46,"column":54}},"83":{"start":{"line":47,"column":0},"end":{"line":47,"column":36}},"84":{"start":{"line":47,"column":8},"end":{"line":47,"column":36}},"85":{"start":{"line":48,"column":0},"end":{"line":48,"column":51}},"86":{"start":{"line":48,"column":8},"end":{"line":48,"column":51}},"87":{"start":{"line":49,"column":0},"end":{"line":49,"column":60}},"88":{"start":{"line":49,"column":8},"end":{"line":49,"column":60}},"89":{"start":{"line":50,"column":0},"end":{"line":50,"column":51}},"90":{"start":{"line":50,"column":8},"end":{"line":50,"column":51}},"91":{"start":{"line":51,"column":0},"end":{"line":51,"column":54}},"92":{"start":{"line":51,"column":8},"end":{"line":51,"column":54}},"93":{"start":{"line":52,"column":0},"end":{"line":52,"column":57}},"94":{"start":{"line":52,"column":8},"end":{"line":52,"column":57}},"95":{"start":{"line":53,"column":0},"end":{"line":53,"column":63}},"96":{"start":{"line":53,"column":8},"end":{"line":53,"column":63}},"97":{"start":{"line":54,"column":0},"end":{"line":54,"column":45}},"98":{"start":{"line":54,"column":8},"end":{"line":54,"column":45}},"99":{"start":{"line":55,"column":0},"end":{"line":55,"column":57}},"100":{"start":{"line":55,"column":8},"end":{"line":55,"column":57}},"101":{"start":{"line":56,"column":0},"end":{"line":56,"column":75}},"102":{"start":{"line":56,"column":8},"end":{"line":56,"column":75}},"103":{"start":{"line":57,"column":0},"end":{"line":57,"column":42}},"104":{"start":{"line":57,"column":8},"end":{"line":57,"column":42}},"105":{"start":{"line":58,"column":0},"end":{"line":58,"column":67}},"106":{"start":{"line":58,"column":8},"end":{"line":58,"column":67}},"107":{"start":{"line":59,"column":0},"end":{"line":59,"column":63}},"108":{"start":{"line":59,"column":8},"end":{"line":59,"column":63}},"109":{"start":{"line":60,"column":0},"end":{"line":60,"column":75}},"110":{"start":{"line":60,"column":8},"end":{"line":60,"column":75}},"111":{"start":{"line":61,"column":0},"end":{"line":61,"column":63}},"112":{"start":{"line":61,"column":8},"end":{"line":61,"column":63}},"113":{"start":{"line":62,"column":0},"end":{"line":62,"column":54}},"114":{"start":{"line":62,"column":8},"end":{"line":62,"column":54}},"115":{"start":{"line":63,"column":0},"end":{"line":63,"column":54}},"116":{"start":{"line":63,"column":8},"end":{"line":63,"column":54}},"117":{"start":{"line":64,"column":0},"end":{"line":64,"column":44}},"118":{"start":{"line":64,"column":8},"end":{"line":64,"column":44}},"119":{"start":{"line":65,"column":0},"end":{"line":65,"column":60}},"120":{"start":{"line":65,"column":8},"end":{"line":65,"column":60}},"121":{"start":{"line":66,"column":0},"end":{"line":66,"column":72}},"122":{"start":{"line":66,"column":8},"end":{"line":66,"column":72}},"123":{"start":{"line":67,"column":0},"end":{"line":67,"column":99}},"124":{"start":{"line":67,"column":8},"end":{"line":67,"column":99}},"125":{"start":{"line":68,"column":0},"end":{"line":68,"column":33}},"126":{"start":{"line":68,"column":8},"end":{"line":68,"column":33}},"127":{"start":{"line":69,"column":0},"end":{"line":69,"column":45}},"128":{"start":{"line":69,"column":8},"end":{"line":69,"column":45}},"129":{"start":{"line":70,"column":0},"end":{"line":70,"column":63}},"130":{"start":{"line":70,"column":8},"end":{"line":70,"column":63}},"131":{"start":{"line":71,"column":0},"end":{"line":71,"column":60}},"132":{"start":{"line":71,"column":8},"end":{"line":71,"column":60}},"133":{"start":{"line":72,"column":0},"end":{"line":72,"column":39}},"134":{"start":{"line":72,"column":8},"end":{"line":72,"column":39}},"135":{"start":{"line":73,"column":0},"end":{"line":73,"column":48}},"136":{"start":{"line":73,"column":8},"end":{"line":73,"column":48}},"137":{"start":{"line":74,"column":0},"end":{"line":74,"column":54}},"138":{"start":{"line":74,"column":8},"end":{"line":74,"column":54}},"139":{"start":{"line":75,"column":0},"end":{"line":75,"column":36}},"140":{"start":{"line":75,"column":8},"end":{"line":75,"column":36}},"141":{"start":{"line":76,"column":0},"end":{"line":76,"column":52}},"142":{"start":{"line":76,"column":8},"end":{"line":76,"column":52}},"143":{"start":{"line":77,"column":0},"end":{"line":77,"column":48}},"144":{"start":{"line":77,"column":8},"end":{"line":77,"column":48}},"145":{"start":{"line":78,"column":0},"end":{"line":78,"column":66}},"146":{"start":{"line":78,"column":8},"end":{"line":78,"column":66}},"147":{"start":{"line":79,"column":0},"end":{"line":79,"column":76}},"148":{"start":{"line":79,"column":8},"end":{"line":79,"column":76}},"149":{"start":{"line":80,"column":0},"end":{"line":80,"column":66}},"150":{"start":{"line":80,"column":8},"end":{"line":80,"column":66}},"151":{"start":{"line":81,"column":0},"end":{"line":81,"column":49}},"152":{"start":{"line":81,"column":8},"end":{"line":81,"column":49}},"153":{"start":{"line":82,"column":0},"end":{"line":82,"column":68}},"154":{"start":{"line":82,"column":8},"end":{"line":82,"column":68}},"155":{"start":{"line":83,"column":0},"end":{"line":83,"column":84}},"156":{"start":{"line":83,"column":8},"end":{"line":83,"column":84}},"157":{"start":{"line":84,"column":0},"end":{"line":84,"column":72}},"158":{"start":{"line":84,"column":8},"end":{"line":84,"column":72}},"159":{"start":{"line":85,"column":0},"end":{"line":85,"column":90}},"160":{"start":{"line":85,"column":8},"end":{"line":85,"column":90}},"161":{"start":{"line":86,"column":0},"end":{"line":86,"column":63}},"162":{"start":{"line":86,"column":8},"end":{"line":86,"column":63}},"163":{"start":{"line":87,"column":0},"end":{"line":87,"column":78}},"164":{"start":{"line":87,"column":8},"end":{"line":87,"column":78}},"165":{"start":{"line":88,"column":0},"end":{"line":88,"column":78}},"166":{"start":{"line":88,"column":8},"end":{"line":88,"column":23}},"167":{"start":{"line":88,"column":25},"end":{"line":88,"column":78}},"168":{"start":{"line":89,"column":0},"end":{"line":89,"column":75}},"169":{"start":{"line":89,"column":8},"end":{"line":89,"column":75}},"170":{"start":{"line":90,"column":0},"end":{"line":90,"column":54}},"171":{"start":{"line":90,"column":8},"end":{"line":90,"column":54}},"172":{"start":{"line":91,"column":0},"end":{"line":91,"column":78}},"173":{"start":{"line":91,"column":8},"end":{"line":91,"column":78}},"174":{"start":{"line":92,"column":0},"end":{"line":92,"column":69}},"175":{"start":{"line":92,"column":8},"end":{"line":92,"column":69}},"176":{"start":{"line":93,"column":0},"end":{"line":93,"column":50}},"177":{"start":{"line":93,"column":8},"end":{"line":93,"column":50}},"178":{"start":{"line":94,"column":0},"end":{"line":94,"column":58}},"179":{"start":{"line":94,"column":8},"end":{"line":94,"column":58}},"180":{"start":{"line":95,"column":0},"end":{"line":95,"column":66}},"181":{"start":{"line":95,"column":8},"end":{"line":95,"column":66}},"182":{"start":{"line":96,"column":0},"end":{"line":96,"column":56}},"183":{"start":{"line":96,"column":8},"end":{"line":96,"column":56}},"184":{"start":{"line":97,"column":0},"end":{"line":97,"column":60}},"185":{"start":{"line":97,"column":8},"end":{"line":97,"column":60}},"186":{"start":{"line":98,"column":0},"end":{"line":98,"column":74}},"187":{"start":{"line":98,"column":8},"end":{"line":98,"column":74}},"188":{"start":{"line":99,"column":0},"end":{"line":99,"column":36}},"189":{"start":{"line":99,"column":8},"end":{"line":99,"column":36}},"190":{"start":{"line":100,"column":0},"end":{"line":100,"column":63}},"191":{"start":{"line":100,"column":8},"end":{"line":100,"column":63}},"192":{"start":{"line":101,"column":0},"end":{"line":101,"column":76}},"193":{"start":{"line":101,"column":8},"end":{"line":101,"column":76}},"194":{"start":{"line":102,"column":0},"end":{"line":102,"column":120}},"195":{"start":{"line":102,"column":30},"end":{"line":102,"column":120}},"196":{"start":{"line":103,"column":0},"end":{"line":103,"column":66}},"197":{"start":{"line":103,"column":8},"end":{"line":103,"column":66}},"198":{"start":{"line":104,"column":0},"end":{"line":104,"column":87}},"199":{"start":{"line":104,"column":8},"end":{"line":104,"column":87}},"200":{"start":{"line":105,"column":0},"end":{"line":105,"column":69}},"201":{"start":{"line":105,"column":8},"end":{"line":105,"column":69}},"202":{"start":{"line":106,"column":0},"end":{"line":106,"column":60}},"203":{"start":{"line":106,"column":8},"end":{"line":106,"column":60}},"204":{"start":{"line":107,"column":0},"end":{"line":107,"column":50}},"205":{"start":{"line":107,"column":8},"end":{"line":107,"column":50}},"206":{"start":{"line":113,"column":0},"end":{"line":136,"column":2}},"207":{"start":{"line":114,"column":2},"end":{"line":120,"column":3}},"208":{"start":{"line":115,"column":4},"end":{"line":115,"column":27}},"209":{"start":{"line":117,"column":4},"end":{"line":119,"column":6}},"210":{"start":{"line":118,"column":6},"end":{"line":118,"column":35}},"211":{"start":{"line":121,"column":2},"end":{"line":135,"column":3}},"212":{"start":{"line":122,"column":4},"end":{"line":133,"column":6}},"213":{"start":{"line":123,"column":6},"end":{"line":127,"column":7}},"214":{"start":{"line":124,"column":8},"end":{"line":126,"column":9}},"215":{"start":{"line":125,"column":10},"end":{"line":125,"column":22}},"216":{"start":{"line":128,"column":6},"end":{"line":130,"column":7}},"217":{"start":{"line":129,"column":8},"end":{"line":129,"column":29}},"218":{"start":{"line":132,"column":6},"end":{"line":132,"column":91}},"219":{"start":{"line":134,"column":4},"end":{"line":134,"column":36}},"220":{"start":{"line":137,"column":0},"end":{"line":137,"column":10}}},"fnMap":{"1":{"name":"(anonymous_9)","line":113,"loc":{"start":{"line":113,"column":14},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_10)","line":117,"loc":{"start":{"line":117,"column":25},"end":{"line":117,"column":27}}},"3":{"name":"(anonymous_11)","line":122,"loc":{"start":{"line":122,"column":20},"end":{"line":122,"column":34}}},"4":{"name":"__","line":128,"loc":{"start":{"line":128,"column":6},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":2},"end":{"line":114,"column":1}},{"start":{"line":114,"column":2},"end":{"line":114,"column":1}}]},"2":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":2},"end":{"line":121,"column":1}},{"start":{"line":121,"column":2},"end":{"line":121,"column":1}}]},"3":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":8},"end":{"line":124,"column":7}},{"start":{"line":124,"column":8},"end":{"line":124,"column":7}}]},"4":{"line":132,"type":"cond-expr","locations":[{"start":{"line":132,"column":33},"end":{"line":132,"column":49}},{"start":{"line":132,"column":53},"end":{"line":132,"column":89}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1,"146":1,"147":1,"148":1,"149":1,"150":1,"151":1,"152":1,"153":1,"154":1,"155":1,"156":1,"157":1,"158":1,"159":1,"160":1,"161":1,"162":1,"163":1,"164":1,"165":1,"166":1,"167":1,"168":1,"169":1,"170":1,"171":1,"172":1,"173":1,"174":1,"175":1,"176":1,"177":1,"178":1,"179":1,"180":1,"181":1,"182":1,"183":1,"184":1,"185":1,"186":1,"187":1,"188":1,"189":1,"190":1,"191":1,"192":1,"193":1,"194":1,"195":1,"196":1,"197":1,"198":1,"199":1,"200":1,"201":1,"202":1,"203":1,"204":1,"205":1,"206":1,"207":1,"208":0,"209":1,"210":191,"211":1,"212":1,"213":0,"214":0,"215":0,"216":1,"217":0,"218":0,"219":1,"220":1},"b":{"1":[0,1],"2":[1,0],"3":[0,0],"4":[0,0]},"f":{"1":1,"2":191,"3":0,"4":0},"code":"export * from './BaseModules';\nexport * from './MiscModules';\nexport * from './RestModules';\nexport * from './EventsModules';\nexport * from './UtilsModules';\nexport * from './ControllersModules';\nexport * from './ModelsModules';\nexport * from './UIBaseModules';\nexport * from './TemplatesModules';\n\n// UI\nexport {CoreHelpers} from './ui/Templates/CoreHelpers';\nexport {SearchInterface, StandaloneSearchInterface} from './ui/SearchInterface/SearchInterface';\nexport {Aggregate} from './ui/Aggregate/Aggregate';\nexport {Analytics} from './ui/Analytics/Analytics';\nexport {PendingSearchEvent} from './ui/Analytics/PendingSearchEvent';\nexport {PendingSearchAsYouTypeSearchEvent} from './ui/Analytics/PendingSearchAsYouTypeSearchEvent';\nexport {analyticsActionCauseList} from './ui/Analytics/AnalyticsActionListMeta';\nexport {NoopAnalyticsClient} from './ui/Analytics/NoopAnalyticsClient';\nexport {LiveAnalyticsClient} from './ui/Analytics/LiveAnalyticsClient';\nexport {RecommendationAnalyticsClient} from './ui/Analytics/RecommendationAnalyticsClient';\nexport {MultiAnalyticsClient} from './ui/Analytics/MultiAnalyticsClient';\nexport {Querybox} from './ui/Querybox/Querybox';\nexport {SearchButton} from './ui/SearchButton/SearchButton';\nexport {Searchbox} from './ui/Searchbox/Searchbox';\nexport {Breadcrumb} from './ui/Breadcrumb/Breadcrumb';\nexport {Facet} from './ui/Facet/Facet';\nexport {FacetHeader} from './ui/Facet/FacetHeader';\nexport {FacetSearchValuesList} from './ui/Facet/FacetSearchValuesList';\nexport {FacetSettings} from './ui/Facet/FacetSettings';\nexport {FacetSort} from './ui/Facet/FacetSort';\nexport {FacetUtils} from './ui/Facet/FacetUtils';\nexport {FacetValueElement} from './ui/Facet/FacetValueElement';\nexport {FacetValue, FacetValues} from './ui/Facet/FacetValues';\nexport {ValueElementRenderer} from './ui/Facet/ValueElementRenderer';\nexport {FacetSearch} from './ui/Facet/FacetSearch';\nexport {FacetSearchParameters} from './ui/Facet/FacetSearchParameters';\nexport {Slider} from './ui/Misc/Slider';\nexport {FacetSlider} from './ui/FacetSlider/FacetSlider';\nexport {FacetRange} from './ui/FacetRange/FacetRange';\nexport {Pager} from './ui/Pager/Pager';\nexport {ResultsPerPage} from './ui/Pager/ResultsPerPage';\nexport {ResultList} from './ui/ResultList/ResultList';\nexport {DefaultRecommendationTemplate} from './ui/Templates/DefaultRecommendationTemplate';\nexport {Excerpt} from './ui/Excerpt/Excerpt';\nexport {ResultLink} from './ui/ResultLink/ResultLink';\nexport {Icon} from './ui/Icon/Icon';\nexport {Thumbnail} from './ui/Thumbnail/Thumbnail';\nexport {PrintableUri} from './ui/PrintableUri/PrintableUri';\nexport {Quickview} from './ui/Quickview/Quickview';\nexport {DidYouMean} from './ui/DidYouMean/DidYouMean';\nexport {ErrorReport} from './ui/ErrorReport/ErrorReport';\nexport {ExportToExcel} from './ui/ExportToExcel/ExportToExcel';\nexport {Folding} from './ui/Folding/Folding';\nexport {HiddenQuery} from './ui/HiddenQuery/HiddenQuery';\nexport {HierarchicalFacet} from './ui/HierarchicalFacet/HierarchicalFacet';\nexport {Matrix} from './ui/Matrix/Matrix';\nexport {QuickviewDocument} from './ui/Quickview/QuickviewDocument';\nexport {YouTubeThumbnail} from './ui/YouTube/YouTubeThumbnail';\nexport {ResultAttachments} from './ui/ResultAttachments/ResultAttachments';\nexport {ResultFolding} from './ui/ResultFolding/ResultFolding';\nexport {FieldTable} from './ui/FieldTable/FieldTable';\nexport {FieldValue} from './ui/FieldTable/FieldValue';\nexport {Badge} from './ui/FieldTable/Badge';\nexport {ResultRating} from './ui/ResultRating/ResultRating';\nexport {PreferencesPanel} from './ui/PreferencesPanel/PreferencesPanel';\nexport {ResultsFiltersPreferences} from './ui/ResultsFiltersPreferences/ResultsFiltersPreferences';\nexport {Tab} from './ui/Tab/Tab';\nexport {Omnibox} from './ui/Omnibox/Omnibox';\nexport {QueryDuration} from './ui/QueryDuration/QueryDuration';\nexport {QuerySummary} from './ui/QuerySummary/QuerySummary';\nexport {Debug} from './ui/Debug/Debug';\nexport {Settings} from './ui/Settings/Settings';\nexport {ShareQuery} from './ui/ShareQuery/ShareQuery';\nexport {Sort} from './ui/Sort/Sort';\nexport {SortCriteria} from './ui/Sort/SortCriteria';\nexport {Triggers} from './ui/Triggers/Triggers';\nexport {Recommendation} from './ui/Recommendation/Recommendation';\nexport {RecommendationQuery} from './ui/Recommendation/RecommendationQuery';\nexport {TemplateLoader} from './ui/TemplateLoader/TemplateLoader';\nexport {Template} from './ui/Templates/Template';\nexport {SuggestionForOmnibox} from './ui/Misc/SuggestionForOmnibox';\nexport {AnalyticsSuggestions} from './ui/AnalyticsSuggestions/AnalyticsSuggestions';\nexport {FieldSuggestions} from './ui/FieldSuggestions/FieldSuggestions';\nexport {AuthenticationProvider} from './ui/AuthenticationProvider/AuthenticationProvider';\nexport {ResultTagging} from './ui/ResultTagging/ResultTagging';\nexport {ResultsPreferences} from './ui/ResultsPreferences/ResultsPreferences';\nexport {PipelineContext, context} from './ui/PipelineContext/PipelineContext';\nexport {OmniboxResultList} from './ui/OmniboxResultList/OmniboxResultList';\nexport {CurrentTab} from './ui/CurrentTab/CurrentTab';\nexport {QueryboxQueryParameters} from './ui/Querybox/QueryboxQueryParameters';\nexport {ImageResultList} from './ui/ImageResultList/ImageResultList';\nexport {CoveoJQuery} from './ui/Base/CoveoJQuery';\nexport {jQueryInstance as $} from './ui/Base/CoveoJQuery';\nexport {underscoreInstance as _} from './ui/Base/CoveoUnderscore';\nexport {FollowItem} from './ui/SearchAlerts/FollowItem';\nexport {SearchAlerts} from './ui/SearchAlerts/SearchAlerts';\nexport {SearchAlertsMessage} from './ui/SearchAlerts/SearchAlertsMessage';\nexport {Text} from './ui/Text/Text';\nexport {FoldingForThread} from './ui/Folding/FoldingForThread';\nexport {ResponsiveFacets} from './ui/ResponsiveComponents/ResponsiveFacets';\nexport {IResponsiveComponent, ResponsiveComponentsManager} from './ui/ResponsiveComponents/ResponsiveComponentsManager';\nexport {ChatterLikedBy} from './ui/ChatterLikedBy/ChatterLikedBy';\nexport {ChatterPostAttachment} from './ui/ChatterPostAttachment/ChatterPostAttachment';\nexport {ChatterPostedBy} from './ui/ChatterPostedBy/ChatterPostedBy';\nexport {ChatterTopic} from './ui/ChatterTopic/ChatterTopic';\nexport {ChatterUtils} from './utils/ChatterUtils';\n\n// Webpack output a library target with a temporary name.\n// This is to allow end user to put CoveoJsSearch.Dependencie.js before or after the main CoveoJsSearch.js, without breaking\n// This code swap the current module to the \"real\" Coveo variable.\n\nlet swapVar = () => {\n  if (window['Coveo'] == undefined) {\n    window['Coveo'] = this;\n  } else {\n    _.each(_.keys(this), (k) => {\n      window['Coveo'][k] = this[k];\n    })\n  }\n  if (window['__extends'] == undefined) {\n    var __extends = function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) {\n          d[p] = b[p];\n        }\n      }\n      function __() {\n        this.constructor = d;\n      }\n\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n    window['__extends'] = __extends;\n  }\n};\nswapVar();\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Index.ts\n **/","l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"113":1,"114":1,"115":0,"117":1,"118":191,"121":1,"122":1,"123":0,"124":0,"125":0,"128":1,"129":0,"132":0,"134":1,"137":1}},"src/BaseModules.ts":{"path":"src/BaseModules.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":58}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":18}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":69}},"4":{"start":{"line":3,"column":8},"end":{"line":3,"column":69}},"5":{"start":{"line":4,"column":0},"end":{"line":4,"column":41}},"6":{"start":{"line":5,"column":0},"end":{"line":5,"column":7}},"7":{"start":{"line":6,"column":0},"end":{"line":6,"column":63}},"8":{"start":{"line":7,"column":0},"end":{"line":7,"column":22}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":39}},"10":{"start":{"line":10,"column":8},"end":{"line":10,"column":39}},"11":{"start":{"line":11,"column":0},"end":{"line":11,"column":53}},"12":{"start":{"line":11,"column":8},"end":{"line":11,"column":53}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":38}}},"fnMap":{},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1},"b":{},"f":{},"code":"import {defaultLanguage} from './strings/DefaultLanguage';\ndefaultLanguage();\nexport {setLanguageAfterPageLoaded} from './strings/DefaultLanguage';\nimport {shim} from './misc/PromisesShim';\nshim();\nimport {customEventPolyfill} from './misc/CustomEventPolyfill';\ncustomEventPolyfill();\n\n// MISC\nexport {version} from './misc/Version';\nexport {SearchEndpoint} from './rest/SearchEndpoint';\nexport * from './ExternalModulesShim';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/BaseModules.ts\n **/","l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"10":1,"11":1,"12":1}},"src/strings/DefaultLanguage.ts":{"path":"src/strings/DefaultLanguage.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":39}},"2":{"start":{"line":2,"column":1},"end":{"line":7,"column":1}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":16}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":62}},"5":{"start":{"line":4,"column":28},"end":{"line":4,"column":60}},"6":{"start":{"line":5,"column":2},"end":{"line":5,"column":62}},"7":{"start":{"line":5,"column":28},"end":{"line":5,"column":60}},"8":{"start":{"line":6,"column":2},"end":{"line":6,"column":14}},"9":{"start":{"line":8,"column":2},"end":{"line":438,"column":3}},"10":{"start":{"line":439,"column":0},"end":{"line":462,"column":6}},"11":{"start":{"line":440,"column":0},"end":{"line":462,"column":5}},"12":{"start":{"line":442,"column":4},"end":{"line":451,"column":6}},"13":{"start":{"line":444,"column":8},"end":{"line":444,"column":68}},"14":{"start":{"line":445,"column":2},"end":{"line":445,"column":45}},"15":{"start":{"line":446,"column":2},"end":{"line":446,"column":54}},"16":{"start":{"line":447,"column":2},"end":{"line":447,"column":26}},"17":{"start":{"line":448,"column":2},"end":{"line":448,"column":33}},"18":{"start":{"line":449,"column":2},"end":{"line":449,"column":25}},"19":{"start":{"line":454,"column":4},"end":{"line":462,"column":4}},"20":{"start":{"line":456,"column":8},"end":{"line":456,"column":68}},"21":{"start":{"line":457,"column":2},"end":{"line":457,"column":45}},"22":{"start":{"line":458,"column":2},"end":{"line":458,"column":54}},"23":{"start":{"line":459,"column":2},"end":{"line":459,"column":26}},"24":{"start":{"line":460,"column":2},"end":{"line":460,"column":33}},"25":{"start":{"line":461,"column":2},"end":{"line":461,"column":25}},"26":{"start":{"line":439,"column":16},"end":{"line":462,"column":6}},"27":{"start":{"line":463,"column":0},"end":{"line":469,"column":26}},"28":{"start":{"line":464,"column":2},"end":{"line":464,"column":62}},"29":{"start":{"line":465,"column":2},"end":{"line":465,"column":45}},"30":{"start":{"line":466,"column":2},"end":{"line":466,"column":54}},"31":{"start":{"line":467,"column":2},"end":{"line":467,"column":26}},"32":{"start":{"line":468,"column":2},"end":{"line":468,"column":33}},"33":{"start":{"line":469,"column":2},"end":{"line":469,"column":25}},"34":{"start":{"line":463,"column":16},"end":{"line":469,"column":26}}},"fnMap":{"1":{"name":"(anonymous_186)","line":2,"loc":{"start":{"line":2,"column":13},"end":{"line":2,"column":32}}},"2":{"name":"defaultLanguage","line":439,"loc":{"start":{"line":439,"column":0},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_188)","line":442,"loc":{"start":{"line":442,"column":6},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_189)","line":454,"loc":{"start":{"line":454,"column":50},"end":{"line":454,"column":64}}},"5":{"name":"setLanguageAfterPageLoaded","line":463,"loc":{"start":{"line":463,"column":0},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":440,"type":"if","locations":[{"start":{"line":440,"column":0},"end":{"line":440,"column":-1}},{"start":{"line":440,"column":0},"end":{"line":440,"column":-1}}]},"2":{"line":440,"type":"binary-expr","locations":[{"start":{"line":440,"column":4},"end":{"line":440,"column":28}},{"start":{"line":440,"column":32},"end":{"line":440,"column":59}},{"start":{"line":440,"column":63},"end":{"line":440,"column":98}}]},"3":{"line":444,"type":"binary-expr","locations":[{"start":{"line":444,"column":22},"end":{"line":444,"column":39}},{"start":{"line":444,"column":44},"end":{"line":444,"column":66}}]},"4":{"line":456,"type":"binary-expr","locations":[{"start":{"line":456,"column":22},"end":{"line":456,"column":39}},{"start":{"line":456,"column":44},"end":{"line":456,"column":66}}]},"5":{"line":464,"type":"binary-expr","locations":[{"start":{"line":464,"column":16},"end":{"line":464,"column":33}},{"start":{"line":464,"column":38},"end":{"line":464,"column":60}}]}},"s":{"1":1,"2":1,"3":2,"4":2,"5":429,"6":2,"7":858,"8":2,"9":1,"10":1,"11":2,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":2,"20":2,"21":2,"22":2,"23":2,"24":2,"25":2,"26":1,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1},"b":{"1":[0,2],"2":[2,0,0],"3":[0,0],"4":[2,1],"5":[0,0]},"f":{"1":2,"2":2,"3":0,"4":2,"5":0},"code":"import * as Globalize from 'globalize';\n\tvar merge = function(obj1, obj2) {\n\t\tvar obj3 = {};\n\t\tfor(var attrname in obj1){obj3[attrname] = obj1[attrname]; }\n\t\tfor(var attrname in obj2){obj3[attrname] = obj2[attrname]; }\n\t\treturn obj3;\n}\n  var dict = {\n      \"Unknown\": \"Unknown\",\n      \"And\": \"AND\",\n      \"Authenticating\": \"Authenticating {0}...\",\n      \"Clear\": \"Clear {0}\",\n      \"CompleteQuery\": \"Complete Query\",\n      \"Exclude\": \"Exclude {0}\",\n      \"EnterTag\": \"Add Tag\",\n      \"Next\": \"Next\",\n      \"Last\": \"Last\",\n      \"Link\": \"Link\",\n      \"Or\": \"OR\",\n      \"Previous\": \"Previous\",\n      \"QueryDidntMatchAnyDocuments\": \"Your query did not match any documents.\",\n      \"QueryException\": \"Your query has an error: {0}.\",\n      \"Me\": \"Me\",\n      \"Remove\": \"Remove\",\n      \"Search\": \"Search\",\n      \"SearchFor\": \"Search for {0}\",\n      \"ShareQuery\": \"Share Query\",\n      \"Preferences\": \"Preferences\",\n      \"LinkOpeningSettings\": \"Link Opening Settings\",\n      \"Reauthenticate\": \"Reauthenticate {0}\",\n      \"ResultsFilteringExpression\": \"Results Filtering Expressions\",\n      \"FiltersInYourPreferences\": \"Filters in your preferences\",\n      \"Create\": \"Create\",\n      \"SearchIn\": \"Search in {0}\",\n      \"Seconds\": \"in {0} second<pl>s</pl>\",\n      \"ShowingResultsOf\": \"Result<pl>s</pl> {0}<pl>-{1}</pl> of {2}\",\n      \"SwitchTo\": \"Switch to {0}\",\n      \"Unexclude\": \"Unexclude {0}\",\n      \"ClearAllFilters\": \"Clear All Filters\",\n      \"SkipLogin\": \"Skip login\",\n      \"LoginInProgress\": \"Login in progress, please wait ...\",\n      \"Login\": \"Log In\",\n      \"GetStarted\": \"Get Started\",\n      \"More\": \"More\",\n      \"NMore\": \"{0} more...\",\n      \"Less\": \"Fewer\",\n      \"Settings\": \"Settings\",\n      \"Score\": \"Score\",\n      \"ScoreDescription\": \"The score is computed from the number of occurrences as well as from the position in the result set.\",\n      \"Occurrences\": \"Occurrences\",\n      \"OccurrencesDescription\": \"Sort by number of occurrences, with values having the highest number appearing first.\",\n      \"Label\": \"Label\",\n      \"Of\": \"of\",\n      \"LabelDescription\": \"Sort alphabetically on the field values.\",\n      \"Value\": \"Value\",\n      \"ValueDescription\": \"Sort on the values of the first computed field\",\n      \"AlphaAscending\": \"Value Ascending\",\n      \"AlphaDescending\": \"Value Descending\",\n      \"ChiSquare\": \"Chi Square\",\n      \"Nosort\": \"No Sort\",\n      \"RelativeFrequency\": \"Relative Frequency\",\n      \"RelativeFrequencyDescription\": \"Sort based on the relative frequency of values. Less common values will appear higher.\",\n      \"DateDistribution\": \"Date distribution\",\n      \"Custom\": \"Custom\",\n      \"CustomDescription\": \"Sort based on a custom order\",\n      \"ComputedField\": \"Computed Field\",\n      \"Ascending\": \"Ascending\",\n      \"Descending\": \"Descending\",\n      \"noResultFor\": \"No results for {0}\",\n      \"autoCorrectedQueryTo\": \"Query was automatically corrected to {0}\",\n      \"didYouMean\": \"Did you mean: {0}\",\n      \"SuggestedResults\": \"Suggested Results\",\n      \"SuggestedQueries\": \"Suggested Queries\",\n      \"MostRelevantItems\": \"Most relevant items:\",\n      \"AllItems\": \"All items:\",\n      \"ShowLess\": \"Show less\",\n      \"ShowMore\": \"Show more\",\n      \"HideFacet\": \"Hide Facet\",\n      \"ShowFacet\": \"Show Facet\",\n      \"AndOthers\": \"and {0} other<pl>s</pl>\",\n      \"Others\": \"{0} other<pl>s</pl>\",\n      \"MostRelevantPosts\": \"Most Relevant Posts:\",\n      \"CompleteThread\": \"Complete Thread:\",\n      \"ShowCompleteThread\": \"Show Complete Thread\",\n      \"ShowOnlyTopMatchingPosts\": \"Show Only Top Matching Posts\",\n      \"MostRelevantReplies\": \"Most Relevant Replies:\",\n      \"AllConversation\": \"All Conversation:\",\n      \"ShowAllConversation\": \"Show All Conversation\",\n      \"ShowAllReplies\": \"Show All Replies\",\n      \"ShowOnlyMostRelevantReplies\": \"Show Only Most Relevant Replies\",\n      \"Close\": \"Close\",\n      \"Open\": \"Open\",\n      \"OpenInOutlookWhenPossible\": \"Open in Outlook (when possible)\",\n      \"AlwaysOpenInNewWindow\": \"Always open results in new window\",\n      \"Quickview\": \"Quick View\",\n      \"NoQuickview\": \"The Quick View for this document is unavailable\",\n      \"ErrorReport\": \"Error Report\",\n      \"OopsError\": \"Something went wrong.\",\n      \"ProblemPersists\": \"If the problem persists contact the administrator.\",\n      \"GoBack\": \"Go Back\",\n      \"Reset\": \"Reset\",\n      \"Retry\": \"Retry\",\n      \"MoreInfo\": \"More Information\",\n      \"Username\": \"Username\",\n      \"Password\": \"Password\",\n      \"PostedBy\": \"Posted by\",\n      \"CannotConnect\": \"Cannot connect to the server address.\",\n      \"BadUserPass\": \"Password does not match with username.\",\n      \"PleaseEnterYourCredentials\": \"Please enter your credentials for {0}.\",\n      \"PleaseEnterYourSearchPage\": \"Please enter your search page URL\",\n      \"Collapse\": \"Collapse\",\n      \"Collapsable\": \"Collapsible\",\n      \"Expand\": \"Expand\",\n      \"Today\": \"Today\",\n      \"Yesterday\": \"Yesterday\",\n      \"Tomorrow\": \"Tomorrow\",\n      \"Duration\": \"Duration: {0}\",\n      \"IndexDuration\": \"Index Duration: {0}\",\n      \"ProxyDuration\": \"Proxy Duration: {0}\",\n      \"ClientDuration\": \"Client Duration: {0}\",\n      \"Unavailable\": \"Unavailable\",\n      \"Reply\": \"Reply\",\n      \"ReplyAll\": \"Reply All\",\n      \"Forward\": \"Forward\",\n      \"From\": \"From\",\n      \"Caption\": \"Caption\",\n      \"Expression\": \"Expression\",\n      \"Tab\": \"Tab\",\n      \"Tabs\": \"Tabs\",\n      \"EnterExpressionName\": \"Enter expression name\",\n      \"EnterExpressionToFilterWith\": \"Enter expression to filter results with\",\n      \"SelectTab\": \"Select Tab\",\n      \"SelectAll\": \"Select All\",\n      \"PageUrl\": \"Search page URL\",\n      \"ErrorSavingToDevice\": \"Error while saving the information to your device\",\n      \"ErrorReadingFromDevice\": \"Error while reading the information from your device\",\n      \"AppIntro\": \"Speak with a product specialist who can answer your questions about Coveo and help you decide which Coveo solution is right for you. Or, try a live demo !\",\n      \"TryDemo\": \"Try the demo\",\n      \"ContactUs\": \"Contact us\",\n      \"NewToCoveo\": \"New to Coveo?\",\n      \"LetUsHelpGetStarted\": \"Let us help you get started\",\n      \"LikesThis\": \"{0} like<sn>s</sn> this.\",\n      \"CannotConnectSearchPage\": \"Cannot connect to your search page\",\n      \"AreYouSureDeleteFilter\": \"Are you sure you want to delete the filter {0} with the expression {1}\",\n      \"OnlineHelp\": \"Online Help\",\n      \"Done\": \"Done\",\n      \"SaveFacetState\": \"Save this facet state\",\n      \"ClearFacetState\": \"Clear facet state\",\n      \"DisplayingTheOnlyMessage\": \"Displaying the only message in this conversation\",\n      \"NoNetworkConnection\": \"No network connection\",\n      \"UnknownConnection\": \"Unknown connection\",\n      \"EthernetConnection\": \"Ethernet connection\",\n      \"WiFi\": \"WiFi connection\",\n      \"CELL\": \"Cellular connection\",\n      \"CELL_2G\": \"Cellular 2G connection\",\n      \"CELL_3G\": \"Cellular 3G connection\",\n      \"CELL_4G\": \"Cellular 4G connection\",\n      \"Relevance\": \"Relevance\",\n      \"Date\": \"Date\",\n      \"Amount\": \"Amount\",\n      \"QueryExceptionNoException\": \"No exception\",\n      \"QueryExceptionInvalidSyntax\": \"Invalid syntax\",\n      \"QueryExceptionInvalidCustomField\": \"Invalid custom field\",\n      \"QueryExceptionInvalidDate\": \"Invalid date\",\n      \"QueryExceptionInvalidExactPhrase\": \"Invalid exact phrase\",\n      \"QueryExceptionInvalidDateOp\": \"Invalid date operator\",\n      \"QueryExceptionInvalidNear\": \"Invalid NEAR operator\",\n      \"QueryExceptionInvalidWeightedNear\": \"Invalid weighted NEAR\",\n      \"QueryExceptionInvalidTerm\": \"Invalid term\",\n      \"QueryExceptionTooManyTerms\": \"Too many terms\",\n      \"QueryExceptionWildcardTooGeneral\": \"Wildcard too general\",\n      \"QueryExceptionInvalidSortField\": \"Invalid sort field\",\n      \"QueryExceptionInvalidSmallStringOp\": \"Invalid small string operator\",\n      \"QueryExceptionRequestedResultsMax\": \"Requested results maximum\",\n      \"QueryExceptionAggregatedMirrorDead\": \"Aggregated mirror is offline\",\n      \"QueryExceptionAggregatedMirrorQueryTimeOut\": \"Aggregated mirror query timeout\",\n      \"QueryExceptionAggregatedMirrorInvalidBuildNumber\": \"Aggregated mirror invalid build number\",\n      \"QueryExceptionAggregatedMirrorCannotConnect\": \"Aggregated mirror cannot connect\",\n      \"QueryExceptionNotEnoughLeadingCharsWildcard\": \"Not enough leading character wildcard\",\n      \"QueryExceptionSecurityInverterNotFound\": \"Security inverter not found\",\n      \"QueryExceptionSecurityInverterAccessDenied\": \"Security inverter access denied\",\n      \"QueryExceptionAggregatedMirrorCannotImpersonate\": \"Aggregated mirror cannot impersonate\",\n      \"QueryExceptionUnexpected\": \"Unexpected\",\n      \"QueryExceptionAccessDenied\": \"Access denied\",\n      \"QueryExceptionSuperUserTokenInvalid\": \"Super user token invalid\",\n      \"QueryExceptionSuperUserTokenExpired\": \"Super user token is expired\",\n      \"QueryExceptionLicenseQueriesExpired\": \"Queries license expired\",\n      \"QueryExceptionLicenseSuperUserTokenNotSupported\": \"License super user token not supported\",\n      \"QueryExceptionInvalidSession\": \"Invalid session\",\n      \"QueryExceptionInvalidDocument\": \"Invalid document\",\n      \"QueryExceptionSearchDisabled\": \"Search disabled\",\n      \"FileType\": \"File type\",\n      \"ShowAttachment\": \"Show attachment\",\n      \"OnFeed\": \"on {0}'s feed.\",\n      \"Author\": \"Author\",\n      \"NoTitle\": \"No title\",\n      \"CurrentSelections\": \"Current selections\",\n      \"AllContent\": \"All content\",\n      \"CancelLastAction\": \"Cancel last action\",\n      \"SearchTips\": \"Search tips\",\n      \"CheckSpelling\": \"Check the spelling of your keywords.\",\n      \"TryUsingFewerKeywords\": \"Try using fewer, different or more general keywords.\",\n      \"SelectFewerFilters\": \"Select fewer filters to broaden your search.\",\n      \"Document\": \"Document\",\n      \"Time\": \"Time\",\n      \"StartDate\": \"Start Date\",\n      \"StartTime\": \"Start Time\",\n      \"DurationTitle\": \"Duration\",\n      \"UserQuery\": \"User query\",\n      \"ShowUserActions\": \"Show User Actions\",\n      \"NoData\": \"No data available\",\n      \"EventType\": \"Event type\",\n      \"GoToFullSearch\": \"Full search\",\n      \"GoToEdition\": \"Customize Panel\",\n      \"RemoveContext\": \"Remove context\",\n      \"BoxAttachToCase\": \"Attach to case\",\n      \"AttachToCase\": \"Attach to case\",\n      \"Attach\": \"Attach\",\n      \"Attached\": \"Attached\",\n      \"Detach\": \"Detach\",\n      \"Details\": \"Details\",\n      \"AdditionalFilters\": \"Additional filters\",\n      \"SelectNonContextualSearch\": \"Remove the context from the current record to broaden your search\",\n      \"CopyPasteToSupport\": \"Copy paste this message to Coveo Support team for more information.\",\n      \"FollowQueryDescription\": \"Alert me for changes to the search results of this query.\",\n      \"SearchAlerts_Panel\": \"Manage Alerts\",\n      \"SearchAlerts_PanelDescription\": \"View and manage your search alerts.\",\n      \"SearchAlerts_PanelNoSearchAlerts\": \"You have no subscriptions.\",\n      \"SearchAlerts_Fail\": \"The Search Alerts service is currently unavailable.\",\n      \"SearchAlerts_Type\": \"Type\",\n      \"SearchAlerts_Content\": \"Content\",\n      \"SearchAlerts_Actions\": \"Action\",\n      \"EmptyQuery\": \"&lt;empty&gt;\",\n      \"SearchAlerts_Type_followQuery\": \"Query\",\n      \"SearchAlerts_Type_followDocument\": \"Item\",\n      \"SearchAlerts_unFollowing\": \"Stop Following\",\n      \"SearchAlerts_follow\": \"Follow\",\n      \"SearchAlerts_followed\": \"Followed\",\n      \"SearchAlerts_followQuery\": \"Follow Query\",\n      \"Subscription_StopFollowingQuery\": \"Stop Following Query\",\n      \"SearchAlerts_Frequency\": \"When\",\n      \"SubscriptionsManageSubscriptions\": \"Manage Alerts\",\n      \"SubscriptionsMessageFollowQuery\": \"You will receive alerts when the query <b>{0}</b> returns new or updated items.\",\n      \"SubscriptionsMessageFollow\": \"You will receive alerts for changes to the item <b>{0}</b>.\",\n      \"Expiration\": \"Expiration\",\n      \"Daily\": \"Daily\",\n      \"Monday\": \"Monday\",\n      \"Tuesday\": \"Tuesday\",\n      \"Wednesday\": \"Wednesday\",\n      \"Thursday\": \"Thursday\",\n      \"Friday\": \"Friday\",\n      \"Saturday\": \"Saturday\",\n      \"Sunday\": \"Sunday\",\n      \"StartTypingCaseForSuggestions\": \"Describe your problem to see possible solutions\",\n      \"ExportToExcel\": \"Export to Excel\",\n      \"ExportToExcelDescription\": \"Export search results to Excel\",\n      \"CaseCreationNoResults\": \"No recommended solutions were found\",\n      \"SortBy\": \"Sort by\",\n      \"BoxCreateArticle\": \"Create Article\",\n      \"Facets\": \"Facets\",\n      \"objecttype_people\": \"People\",\n      \"objecttype_message\": \"Message\",\n      \"objecttype_feed\": \"RSS Feed\",\n      \"objecttype_thread\": \"Thread\",\n      \"objecttype_file\": \"File\",\n      \"objecttype_board\": \"\",\n      \"objecttype_category\": \"\",\n      \"objecttype_account\": \"Account\",\n      \"objecttype_campaign\": \"Campaign\",\n      \"objecttype_case\": \"Case\",\n      \"objecttype_contact\": \"Contact\",\n      \"objecttype_contract\": \"Contract\",\n      \"objecttype_event\": \"Event\",\n      \"objecttype_lead\": \"Lead\",\n      \"objecttype_solution\": \"Solution\",\n      \"objecttype_task\": \"Task\",\n      \"objecttype_user\": \"User\",\n      \"objecttype_attachment\": \"Attachment\",\n      \"objecttype_casecomment\": \"Case Comment\",\n      \"objecttype_opportunity\": \"Opportunity\",\n      \"objecttype_feeditem\": \"Chatter\",\n      \"objecttype_feedcomment\": \"Chatter\",\n      \"objecttype_note\": \"Note\",\n      \"objecttype_product\": \"Product\",\n      \"objecttype_partner\": \"Partner\",\n      \"objecttype_kbdocumentation\": \"Documentation\",\n      \"objecttype_kbtechnicalarticle\": \"Documentation\",\n      \"objecttype_kbsolution\": \"Solution\",\n      \"objecttype_kbknowledgearticle\": \"Knowledge Article\",\n      \"objecttype_kbattachment\": \"Attachment\",\n      \"filetype_html\": \"HTML File\",\n      \"filetype_wiki\": \"Wiki\",\n      \"filetype_webscraperwebpage\": \"Web page\",\n      \"filetype_image\": \"Image\",\n      \"filetype_folder\": \"Folder\",\n      \"filetype_txt\": \"Text\",\n      \"filetype_zip\": \"Zip File\",\n      \"filetype_pdf\": \"PDF File\",\n      \"filetype_xml\": \"XML File\",\n      \"filetype_doc\": \"Document\",\n      \"filetype_xls\": \"Spreadsheet Document\",\n      \"filetype_ppt\": \"Presentation Document\",\n      \"filetype_video\": \"Video\",\n      \"filetype_youtube\": \"YouTube video\",\n      \"filetype_saleforceitem\": \"Salesforce\",\n      \"filetype_exchangemessage\": \"Message\",\n      \"filetype_exchangeappointment\": \"Appointment\",\n      \"filetype_exchangenote\": \"Note\",\n      \"filetype_exchangetask\": \"Task\",\n      \"filetype_exchangeperson\": \"Exchange user\",\n      \"filetype_activedirperson\": \"Active Directory user\",\n      \"filetype_exchangeactivity\": \"Activity\",\n      \"filetype_exchangecalendarmessage\": \"Calendar message\",\n      \"filetype_exchangedocument\": \"Exchange document\",\n      \"filetype_exchangerssfeed\": \"RSS Feed\",\n      \"filetype_exchangejunkmessage\": \"Junk email\",\n      \"filetype_exchangeofficecom\": \"Communications\",\n      \"filetype_lithiummessage\": \"Message\",\n      \"filetype_lithiumthread\": \"Thread\",\n      \"filetype_lithiumboard\": \"Board\",\n      \"filetype_lithiumcategory\": \"Category\",\n      \"filetype_lithiumcommunity\": \"Community\",\n      \"filetype_spportal\": \"Portal\",\n      \"filetype_spsite\": \"Site\",\n      \"filetype_spuserprofile\": \"SharePoint User\",\n      \"filetype_sparea\": \"Area\",\n      \"filetype_spannouncement\": \"Announcement\",\n      \"filetype_spannouncementlist\": \"Announcements\",\n      \"filetype_spcontact\": \"Contact\",\n      \"filetype_spcontactlist\": \"Contacts\",\n      \"filetype_spcustomlist\": \"Custom Lists\",\n      \"filetype_spdiscussionboard\": \"Discussion Board\",\n      \"filetype_spdiscussionboardlist\": \"Discussion Boards\",\n      \"filetype_spdocumentlibrarylist\": \"Document Library\",\n      \"filetype_spevent\": \"Event\",\n      \"filetype_speventlist\": \"Events\",\n      \"filetype_spformlibrarylist\": \"Form Library\",\n      \"filetype_spissue\": \"Issue\",\n      \"filetype_spissuelist\": \"Issues\",\n      \"filetype_splink\": \"Link\",\n      \"filetype_splinklist\": \"Links\",\n      \"filetype_sppicturelibrarylist\": \"Picture Library\",\n      \"filetype_spsurvey\": \"Survey\",\n      \"filetype_spsurveylist\": \"Surveys\",\n      \"filetype_sptask\": \"Task\",\n      \"filetype_sptasklist\": \"Tasks\",\n      \"filetype_spagenda\": \"Agenda\",\n      \"filetype_spagendalist\": \"Agendas\",\n      \"filetype_spattendee\": \"Attendee\",\n      \"filetype_spattendeelist\": \"Attendees\",\n      \"filetype_spcustomgridlist\": \"Custom Grids\",\n      \"filetype_spdecision\": \"Decision\",\n      \"filetype_spdecisionlist\": \"Decisions\",\n      \"filetype_spobjective\": \"Objective\",\n      \"filetype_spobjectivelist\": \"Objectives\",\n      \"filetype_sptextbox\": \"Textbox\",\n      \"filetype_sptextboxlist\": \"Textbox list\",\n      \"filetype_spthingstobring\": \"Thing To Bring\",\n      \"filetype_spthingstobringlist\": \"Things To Bring\",\n      \"filetype_sparealisting\": \"Area Listing\",\n      \"filetype_spmeetingserie\": \"Meeting series\",\n      \"filetype_spmeetingserielist\": \"Meeting Series List\",\n      \"filetype_spsitedirectory\": \"Site Directory Item\",\n      \"filetype_spsitedirectorylist\": \"Site Directory\",\n      \"filetype_spdatasource\": \"Data Source\",\n      \"filetype_spdatasourcelist\": \"Data Source List\",\n      \"filetype_splisttemplatecataloglist\": \"List Template Catalog List\",\n      \"filetype_spwebpartcataloglist\": \"WebPart catalog list\",\n      \"filetype_spwebtemplatecataloglist\": \"Web Template Catalog List\",\n      \"filetype_spworkspacepagelist\": \"Workspace Page List\",\n      \"filetype_spunknownlist\": \"Custom List\",\n      \"filetype_spadministratortask\": \"Administrator Task\",\n      \"filetype_spadministratortasklist\": \"Administrator Tasks\",\n      \"filetype_spareadocumentlibrarylist\": \"Area Document Library\",\n      \"filetype_spblogcategory\": \"Blog Category\",\n      \"filetype_spblogcategorylist\": \"Blog Category\",\n      \"filetype_spblogcomment\": \"Blog Comment\",\n      \"filetype_spblogcommentlist\": \"Blog Comments\",\n      \"filetype_spblogpost\": \"Blog Post\",\n      \"filetype_spblogpostlist\": \"Blog Posts\",\n      \"filetype_spdataconnectionlibrarylist\": \"Data Connection Library\",\n      \"filetype_spdistributiongroup\": \"Distribution Group\",\n      \"filetype_spdistributiongrouplist\": \"Distribution Groups\",\n      \"filetype_spipfslist\": \"InfoPath Form Servers\",\n      \"filetype_spkeyperformanceindicator\": \"Key Performance Indicator\",\n      \"filetype_spkeyperformanceindicatorlist\": \"Key Performance Indicators\",\n      \"filetype_splanguagesandtranslator\": \"Languages and Translator\",\n      \"filetype_splanguagesandtranslatorlist\": \"Languages and Translators\",\n      \"filetype_spmasterpagescataloglist\": \"Master Pages Library\",\n      \"filetype_spnocodeworkflowlibrarylist\": \"No Code Workflow Library\",\n      \"filetype_spprojecttask\": \"Project Task\",\n      \"filetype_spprojecttasklist\": \"Project Tasks\",\n      \"filetype_sppublishingpageslibrarylist\": \"Page Library\",\n      \"filetype_spreportdocumentlibrarylist\": \"Report Document Library\",\n      \"filetype_spreportlibrarylist\": \"Report Library\",\n      \"filetype_spslidelibrarylist\": \"Slide Library\",\n      \"filetype_sptab\": \"Tabs\",\n      \"filetype_sptablist\": \"Tabs List\",\n      \"filetype_sptranslationmanagementlibrarylist\": \"Translation Management Library\",\n      \"filetype_spuserinformation\": \"User Information\",\n      \"filetype_spuserinformationlist\": \"User Information List\",\n      \"filetype_spwikipagelibrarylist\": \"Wiki Page Library\",\n      \"filetype_spworkflowhistory\": \"Workflow History\",\n      \"filetype_spworkflowhistorylist\": \"Workflow Histories\",\n      \"filetype_spworkflowprocess\": \"Custom Workflow Process\",\n      \"filetype_spworkflowprocesslist\": \"Custom Workflow Processes\",\n      \"filetype_sppublishingimageslibrarylist\": \"Publishing Image Library\",\n      \"filetype_spcirculation\": \"Circulation\",\n      \"filetype_spcirculationlist\": \"Circulations\",\n      \"filetype_spdashboardslibrarylist\": \"Dashboard Library\",\n      \"filetype_spdataconnectionforperformancepointlibrarylist\": \"Data Connection for Performance Point Library\",\n      \"filetype_sphealthreport\": \"Health Report\",\n      \"filetype_sphealthreportlist\": \"Health Reports\",\n      \"filetype_sphealthrule\": \"Health Rule\",\n      \"filetype_sphealthrulelist\": \"Health Rules\",\n      \"filetype_spimedictionary\": \"IME Dictionary\",\n      \"filetype_spimedictionarylist\": \"IME Dictionaries\",\n      \"filetype_spperformancepointcontent\": \"Performance Point Content\",\n      \"filetype_spperformancepointcontentlist\": \"Performance Point Contents\",\n      \"filetype_spphonecallmemo\": \"Phone Call Memo\",\n      \"filetype_spphonecallmemolist\": \"Phone Call Memos\",\n      \"filetype_sprecordlibrarylist\": \"Record Library\",\n      \"filetype_spresource\": \"Resource\",\n      \"filetype_spresourcelist\": \"Resources\",\n      \"filetype_spprocessdiagramslibrarylist\": \"Process Diagram Library\",\n      \"filetype_spsitethemeslibrarylist\": \"Site Theme Library\",\n      \"filetype_spsolutionslibrarylist\": \"Solution Library\",\n      \"filetype_spwfpublibrarylist\": \"WFPUB Library\",\n      \"filetype_spwhereabout\": \"Whereabout\",\n      \"filetype_spwhereaboutlist\": \"Whereabouts\",\n      \"filetype_spdocumentlink\": \"Link to a Document\",\n      \"filetype_spdocumentset\": \"Document Set\",\n      \"filetype_spmicrofeedpost\": \"Microfeed Post\",\n      \"filetype_spmicrofeedlist\": \"Microfeed\",\n      \"filetype_splistfolder\": \"List Folder\",\n      \"filetype_youtubevideo\": \"YouTube video\",\n      \"filetype_youtubeplaylistitem\": \"YouTube playlist item\",\n  }\nexport function defaultLanguage() {\nif( window['$'] != undefined && window['$'].fn != undefined && window['$'].fn.jquery != undefined ) { \n\n    $(function(){\n\n        var locales = String[\"locales\"] || (String[\"locales\"] = {});\n  locales[\"en\"] = merge(locales[\"en\"], dict);\n  String[\"toLocaleString\"].call(this, { \"en\": dict });\n  String[\"locale\"] = \"en\";\n  String[\"defaultLocale\"] = \"en\";\n  Globalize.culture(\"en\") \n\n    })\n\n  } else {\n    document.addEventListener('DOMContentLoaded', function(event){\n\n        var locales = String[\"locales\"] || (String[\"locales\"] = {});\n  locales[\"en\"] = merge(locales[\"en\"], dict);\n  String[\"toLocaleString\"].call(this, { \"en\": dict });\n  String[\"locale\"] = \"en\";\n  String[\"defaultLocale\"] = \"en\";\n  Globalize.culture(\"en\")\n  })}}\nexport function setLanguageAfterPageLoaded() {\n  var locales = String[\"locales\"] || (String[\"locales\"] = {});\n  locales[\"en\"] = merge(locales[\"en\"], dict);\n  String[\"toLocaleString\"].call(this, { \"en\": dict });\n  String[\"locale\"] = \"en\";\n  String[\"defaultLocale\"] = \"en\";\n  Globalize.culture(\"en\")}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/strings/DefaultLanguage.ts\n **/","l":{"1":1,"2":1,"3":2,"4":429,"5":858,"6":2,"8":1,"439":1,"440":2,"442":0,"444":0,"445":0,"446":0,"447":0,"448":0,"449":0,"454":2,"456":2,"457":2,"458":2,"459":2,"460":2,"461":2,"463":1,"464":0,"465":0,"466":0,"467":0,"468":0,"469":0}},"src/misc/PromisesShim.ts":{"path":"src/misc/PromisesShim.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":36}},"2":{"start":{"line":3,"column":0},"end":{"line":41,"column":1}},"3":{"start":{"line":5,"column":2},"end":{"line":16,"column":3}},"4":{"start":{"line":6,"column":4},"end":{"line":6,"column":39}},"5":{"start":{"line":7,"column":4},"end":{"line":15,"column":7}},"6":{"start":{"line":8,"column":6},"end":{"line":10,"column":9}},"7":{"start":{"line":9,"column":8},"end":{"line":9,"column":21}},"8":{"start":{"line":12,"column":6},"end":{"line":14,"column":9}},"9":{"start":{"line":13,"column":8},"end":{"line":13,"column":21}},"10":{"start":{"line":18,"column":2},"end":{"line":24,"column":3}},"11":{"start":{"line":19,"column":4},"end":{"line":23,"column":6}},"12":{"start":{"line":20,"column":6},"end":{"line":22,"column":11}},"13":{"start":{"line":21,"column":8},"end":{"line":21,"column":17}},"14":{"start":{"line":26,"column":2},"end":{"line":32,"column":3}},"15":{"start":{"line":27,"column":4},"end":{"line":31,"column":5}},"16":{"start":{"line":28,"column":6},"end":{"line":28,"column":75}},"17":{"start":{"line":29,"column":6},"end":{"line":29,"column":25}},"18":{"start":{"line":30,"column":6},"end":{"line":30,"column":18}},"19":{"start":{"line":34,"column":2},"end":{"line":40,"column":3}},"20":{"start":{"line":35,"column":4},"end":{"line":39,"column":5}},"21":{"start":{"line":36,"column":6},"end":{"line":36,"column":76}},"22":{"start":{"line":37,"column":6},"end":{"line":37,"column":25}},"23":{"start":{"line":38,"column":6},"end":{"line":38,"column":18}},"24":{"start":{"line":3,"column":16},"end":{"line":41,"column":1}}},"fnMap":{"1":{"name":"shim","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"finallyPolyfill","line":5,"loc":{"start":{"line":5,"column":33},"end":{"line":5,"column":66}}},"3":{"name":"(anonymous_244)","line":7,"loc":{"start":{"line":7,"column":21},"end":{"line":7,"column":36}}},"4":{"name":"(anonymous_245)","line":8,"loc":{"start":{"line":8,"column":50},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_246)","line":11,"loc":{"start":{"line":11,"column":7},"end":{"line":11,"column":23}}},"6":{"name":"(anonymous_247)","line":12,"loc":{"start":{"line":12,"column":50},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_248)","line":18,"loc":{"start":{"line":18,"column":21},"end":{"line":18,"column":26}}},"8":{"name":"(anonymous_249)","line":19,"loc":{"start":{"line":19,"column":20},"end":{"line":19,"column":33}}},"9":{"name":"(anonymous_250)","line":20,"loc":{"start":{"line":20,"column":17},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_251)","line":27,"loc":{"start":{"line":27,"column":32},"end":{"line":27,"column":65}}},"11":{"name":"(anonymous_252)","line":35,"loc":{"start":{"line":35,"column":32},"end":{"line":35,"column":65}}}},"branchMap":{"1":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":2},"end":{"line":26,"column":1}},{"start":{"line":26,"column":2},"end":{"line":26,"column":1}}]},"2":{"line":28,"type":"cond-expr","locations":[{"start":{"line":28,"column":36},"end":{"line":28,"column":68}},{"start":{"line":28,"column":71},"end":{"line":28,"column":75}}]},"3":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":2},"end":{"line":34,"column":1}},{"start":{"line":34,"column":2},"end":{"line":34,"column":1}}]},"4":{"line":36,"type":"cond-expr","locations":[{"start":{"line":36,"column":36},"end":{"line":36,"column":69}},{"start":{"line":36,"column":72},"end":{"line":36,"column":76}}]}},"s":{"1":1,"2":1,"3":3,"4":60,"5":60,"6":55,"7":55,"8":1,"9":1,"10":3,"11":2,"12":0,"13":0,"14":3,"15":1,"16":1,"17":1,"18":1,"19":3,"20":1,"21":1,"22":1,"23":1,"24":1},"b":{"1":[1,2],"2":[1,0],"3":[1,2],"4":[1,0]},"f":{"1":3,"2":60,"3":55,"4":55,"5":1,"6":1,"7":2,"8":0,"9":0,"10":1,"11":1},"code":"import {Promise} from 'es6-promise';\n\nexport function shim() {\n\n  Promise.prototype['finally'] = function finallyPolyfill(callback) {\n    let constructor = this.constructor;\n    return this.then(function (value) {\n      return constructor.resolve(callback()).then(function () {\n        return value;\n      });\n    }, function (reason) {\n      return constructor.resolve(callback()).then(function () {\n        throw reason;\n      });\n    });\n  }\n\n  let rethrowError = (self) => {\n    self.then(null, function (err) {\n      setTimeout(function () {\n        throw err\n      }, 0)\n    })\n  }\n\n  if (typeof Promise.prototype['done'] !== 'function') {\n    Promise.prototype['done'] = function (onFulfilled, onRejected) {\n      let self = arguments.length ? this.then.apply(this, arguments) : this\n      rethrowError(self);\n      return this;\n    }\n  }\n\n  if (typeof Promise.prototype['fail'] !== 'function') {\n    Promise.prototype['fail'] = function (onFulfilled, onRejected) {\n      let self = arguments.length ? this.catch.apply(this, arguments) : this\n      rethrowError(self);\n      return this;\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/misc/PromisesShim.ts\n **/","l":{"1":1,"3":1,"5":3,"6":60,"7":60,"8":55,"9":55,"12":1,"13":1,"18":3,"19":2,"20":0,"21":0,"26":3,"27":1,"28":1,"29":1,"30":1,"34":3,"35":1,"36":1,"37":1,"38":1}},"src/misc/CustomEventPolyfill.ts":{"path":"src/misc/CustomEventPolyfill.ts","statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":21,"column":1}},"2":{"start":{"line":6,"column":2},"end":{"line":8,"column":3}},"3":{"start":{"line":7,"column":4},"end":{"line":7,"column":11}},"4":{"start":{"line":10,"column":2},"end":{"line":15,"column":3}},"5":{"start":{"line":11,"column":4},"end":{"line":11,"column":80}},"6":{"start":{"line":12,"column":4},"end":{"line":12,"column":58}},"7":{"start":{"line":13,"column":4},"end":{"line":13,"column":89}},"8":{"start":{"line":14,"column":4},"end":{"line":14,"column":23}},"9":{"start":{"line":18,"column":2},"end":{"line":18,"column":56}},"10":{"start":{"line":20,"column":8},"end":{"line":20,"column":42}},"11":{"start":{"line":4,"column":16},"end":{"line":21,"column":1}}},"fnMap":{"1":{"name":"customEventPolyfill","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_350)","line":10,"loc":{"start":{"line":10,"column":20},"end":{"line":10,"column":34}}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":2},"end":{"line":6,"column":1}},{"start":{"line":6,"column":2},"end":{"line":6,"column":1}}]},"2":{"line":11,"type":"binary-expr","locations":[{"start":{"line":11,"column":13},"end":{"line":11,"column":19}},{"start":{"line":11,"column":23},"end":{"line":11,"column":79}}]}},"s":{"1":1,"2":1,"3":0,"4":1,"5":1712,"6":1712,"7":1712,"8":1712,"9":1,"10":1,"11":1},"b":{"1":[0,1],"2":[1712,9]},"f":{"1":1,"2":1712},"code":"\n// CustomEvent polyfill from MDN\n// https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent#Polyfill\nexport function customEventPolyfill() {\n  // window.CustomEvent is missing from the definitions\n  if (typeof (<any>window).CustomEvent === 'function') {\n    return;\n  }\n\n  let CustomEvent = (event, params) => {\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n    let customEvent = document.createEvent('CustomEvent');\n    customEvent.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return customEvent;\n  }\n\n  // window.Event is specific to IE\n  CustomEvent.prototype = (<any>window).Event.prototype;\n\n  (<any>window).CustomEvent = CustomEvent;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/misc/CustomEventPolyfill.ts\n **/","l":{"4":1,"6":1,"7":0,"10":1,"11":1712,"12":1712,"13":1712,"14":1712,"18":1,"20":1}},"src/misc/Version.ts":{"path":"src/misc/Version.ts","statementMap":{"1":{"start":{"line":1,"column":11},"end":{"line":5,"column":2}}},"fnMap":{},"branchMap":{},"s":{"1":1},"b":{},"f":{},"code":"export var version = {\n  'lib': '1.1276.19',\n  'product': '1.1276.19',\n  'supportedApiVersion': 2\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/misc/Version.ts\n **/","l":{"1":1}},"src/rest/SearchEndpoint.ts":{"path":"src/rest/SearchEndpoint.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":113}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":38}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":38}},"4":{"start":{"line":10,"column":0},"end":{"line":10,"column":40}},"5":{"start":{"line":20,"column":0},"end":{"line":20,"column":44}},"6":{"start":{"line":21,"column":0},"end":{"line":21,"column":78}},"7":{"start":{"line":22,"column":0},"end":{"line":22,"column":47}},"8":{"start":{"line":23,"column":0},"end":{"line":23,"column":46}},"9":{"start":{"line":24,"column":0},"end":{"line":24,"column":37}},"10":{"start":{"line":25,"column":0},"end":{"line":25,"column":36}},"11":{"start":{"line":27,"column":0},"end":{"line":38,"column":1}},"12":{"start":{"line":29,"column":2},"end":{"line":29,"column":25}},"13":{"start":{"line":30,"column":2},"end":{"line":30,"column":48}},"14":{"start":{"line":31,"column":2},"end":{"line":31,"column":29}},"15":{"start":{"line":37,"column":2},"end":{"line":37,"column":31}},"16":{"start":{"line":38,"column":0},"end":{"line":38,"column":1}},"17":{"start":{"line":27,"column":13},"end":{"line":38,"column":1}},"18":{"start":{"line":47,"column":0},"end":{"line":835,"column":1}},"19":{"start":{"line":138,"column":2},"end":{"line":160,"column":3}},"20":{"start":{"line":138,"column":21},"end":{"line":138,"column":53}},"21":{"start":{"line":139,"column":4},"end":{"line":139,"column":27}},"22":{"start":{"line":140,"column":4},"end":{"line":140,"column":35}},"23":{"start":{"line":146,"column":4},"end":{"line":146,"column":60}},"24":{"start":{"line":147,"column":4},"end":{"line":147,"column":123}},"25":{"start":{"line":148,"column":4},"end":{"line":148,"column":81}},"26":{"start":{"line":151,"column":4},"end":{"line":153,"column":5}},"27":{"start":{"line":152,"column":6},"end":{"line":152,"column":53}},"28":{"start":{"line":154,"column":4},"end":{"line":156,"column":5}},"29":{"start":{"line":155,"column":6},"end":{"line":155,"column":26}},"30":{"start":{"line":157,"column":4},"end":{"line":157,"column":59}},"31":{"start":{"line":158,"column":4},"end":{"line":158,"column":35}},"32":{"start":{"line":159,"column":4},"end":{"line":159,"column":32}},"33":{"start":{"line":61,"column":9},"end":{"line":76,"column":3}},"34":{"start":{"line":62,"column":4},"end":{"line":75,"column":5}},"35":{"start":{"line":64,"column":6},"end":{"line":67,"column":24}},"36":{"start":{"line":71,"column":6},"end":{"line":74,"column":24}},"37":{"start":{"line":85,"column":9},"end":{"line":95,"column":3}},"38":{"start":{"line":85,"column":71},"end":{"line":85,"column":130}},"39":{"start":{"line":86,"column":4},"end":{"line":90,"column":6}},"40":{"start":{"line":92,"column":4},"end":{"line":92,"column":74}},"41":{"start":{"line":94,"column":4},"end":{"line":94,"column":112}},"42":{"start":{"line":103,"column":9},"end":{"line":110,"column":3}},"43":{"start":{"line":104,"column":4},"end":{"line":107,"column":21}},"44":{"start":{"line":109,"column":4},"end":{"line":109,"column":113}},"45":{"start":{"line":112,"column":9},"end":{"line":119,"column":3}},"46":{"start":{"line":113,"column":4},"end":{"line":117,"column":7}},"47":{"start":{"line":114,"column":6},"end":{"line":116,"column":7}},"48":{"start":{"line":115,"column":8},"end":{"line":115,"column":27}},"49":{"start":{"line":118,"column":4},"end":{"line":118,"column":18}},"50":{"start":{"line":121,"column":9},"end":{"line":125,"column":3}},"51":{"start":{"line":122,"column":4},"end":{"line":122,"column":62}},"52":{"start":{"line":123,"column":4},"end":{"line":123,"column":64}},"53":{"start":{"line":124,"column":4},"end":{"line":124,"column":39}},"54":{"start":{"line":162,"column":9},"end":{"line":164,"column":3}},"55":{"start":{"line":163,"column":4},"end":{"line":163,"column":32}},"56":{"start":{"line":170,"column":9},"end":{"line":172,"column":3}},"57":{"start":{"line":171,"column":4},"end":{"line":171,"column":33}},"58":{"start":{"line":178,"column":9},"end":{"line":180,"column":3}},"59":{"start":{"line":179,"column":4},"end":{"line":179,"column":41}},"60":{"start":{"line":193,"column":9},"end":{"line":206,"column":3}},"61":{"start":{"line":194,"column":4},"end":{"line":194,"column":61}},"62":{"start":{"line":195,"column":4},"end":{"line":195,"column":72}},"63":{"start":{"line":197,"column":4},"end":{"line":197,"column":36}},"64":{"start":{"line":199,"column":4},"end":{"line":203,"column":5}},"65":{"start":{"line":200,"column":6},"end":{"line":200,"column":77}},"66":{"start":{"line":201,"column":11},"end":{"line":203,"column":5}},"67":{"start":{"line":202,"column":6},"end":{"line":202,"column":71}},"68":{"start":{"line":204,"column":4},"end":{"line":204,"column":55}},"69":{"start":{"line":205,"column":4},"end":{"line":205,"column":26}},"70":{"start":{"line":212,"column":9},"end":{"line":214,"column":3}},"71":{"start":{"line":213,"column":4},"end":{"line":213,"column":32}},"72":{"start":{"line":227,"column":9},"end":{"line":256,"column":3}},"73":{"start":{"line":227,"column":2},"end":{"line":256,"column":3}},"74":{"start":{"line":228,"column":4},"end":{"line":228,"column":25}},"75":{"start":{"line":230,"column":4},"end":{"line":230,"column":35}},"76":{"start":{"line":232,"column":4},"end":{"line":232,"column":53}},"77":{"start":{"line":234,"column":4},"end":{"line":255,"column":6}},"78":{"start":{"line":235,"column":6},"end":{"line":235,"column":64}},"79":{"start":{"line":239,"column":6},"end":{"line":241,"column":7}},"80":{"start":{"line":240,"column":8},"end":{"line":240,"column":31}},"81":{"start":{"line":242,"column":6},"end":{"line":244,"column":7}},"82":{"start":{"line":243,"column":8},"end":{"line":243,"column":64}},"83":{"start":{"line":249,"column":6},"end":{"line":251,"column":7}},"84":{"start":{"line":250,"column":8},"end":{"line":250,"column":52}},"85":{"start":{"line":252,"column":6},"end":{"line":252,"column":121}},"86":{"start":{"line":253,"column":6},"end":{"line":253,"column":67}},"87":{"start":{"line":254,"column":6},"end":{"line":254,"column":21}},"88":{"start":{"line":268,"column":9},"end":{"line":282,"column":3}},"89":{"start":{"line":269,"column":4},"end":{"line":269,"column":61}},"90":{"start":{"line":270,"column":4},"end":{"line":270,"column":72}},"91":{"start":{"line":272,"column":4},"end":{"line":272,"column":61}},"92":{"start":{"line":273,"column":4},"end":{"line":273,"column":72}},"93":{"start":{"line":275,"column":4},"end":{"line":277,"column":5}},"94":{"start":{"line":276,"column":6},"end":{"line":276,"column":72}},"95":{"start":{"line":279,"column":4},"end":{"line":279,"column":47}},"96":{"start":{"line":281,"column":4},"end":{"line":281,"column":67}},"97":{"start":{"line":299,"column":9},"end":{"line":312,"column":3}},"98":{"start":{"line":299,"column":2},"end":{"line":312,"column":3}},"99":{"start":{"line":300,"column":4},"end":{"line":300,"column":36}},"100":{"start":{"line":302,"column":4},"end":{"line":302,"column":85}},"101":{"start":{"line":303,"column":4},"end":{"line":303,"column":72}},"102":{"start":{"line":305,"column":4},"end":{"line":305,"column":124}},"103":{"start":{"line":307,"column":4},"end":{"line":307,"column":64}},"104":{"start":{"line":308,"column":4},"end":{"line":311,"column":6}},"105":{"start":{"line":309,"column":6},"end":{"line":309,"column":75}},"106":{"start":{"line":310,"column":6},"end":{"line":310,"column":21}},"107":{"start":{"line":324,"column":9},"end":{"line":338,"column":3}},"108":{"start":{"line":325,"column":4},"end":{"line":325,"column":44}},"109":{"start":{"line":327,"column":4},"end":{"line":327,"column":61}},"110":{"start":{"line":328,"column":4},"end":{"line":328,"column":72}},"111":{"start":{"line":330,"column":4},"end":{"line":330,"column":81}},"112":{"start":{"line":331,"column":4},"end":{"line":331,"column":72}},"113":{"start":{"line":333,"column":4},"end":{"line":333,"column":92}},"114":{"start":{"line":334,"column":4},"end":{"line":334,"column":72}},"115":{"start":{"line":337,"column":4},"end":{"line":337,"column":121}},"116":{"start":{"line":350,"column":9},"end":{"line":355,"column":3}},"117":{"start":{"line":351,"column":4},"end":{"line":351,"column":85}},"118":{"start":{"line":352,"column":4},"end":{"line":352,"column":72}},"119":{"start":{"line":354,"column":4},"end":{"line":354,"column":57}},"120":{"start":{"line":368,"column":9},"end":{"line":376,"column":3}},"121":{"start":{"line":369,"column":4},"end":{"line":369,"column":85}},"122":{"start":{"line":370,"column":4},"end":{"line":370,"column":72}},"123":{"start":{"line":372,"column":4},"end":{"line":375,"column":9}},"124":{"start":{"line":374,"column":8},"end":{"line":374,"column":27}},"125":{"start":{"line":389,"column":9},"end":{"line":398,"column":3}},"126":{"start":{"line":390,"column":4},"end":{"line":390,"column":44}},"127":{"start":{"line":392,"column":4},"end":{"line":392,"column":85}},"128":{"start":{"line":393,"column":4},"end":{"line":393,"column":72}},"129":{"start":{"line":395,"column":4},"end":{"line":395,"column":81}},"130":{"start":{"line":397,"column":4},"end":{"line":397,"column":57}},"131":{"start":{"line":410,"column":9},"end":{"line":418,"column":3}},"132":{"start":{"line":411,"column":4},"end":{"line":411,"column":61}},"133":{"start":{"line":412,"column":4},"end":{"line":412,"column":72}},"134":{"start":{"line":414,"column":4},"end":{"line":414,"column":81}},"135":{"start":{"line":415,"column":4},"end":{"line":415,"column":72}},"136":{"start":{"line":416,"column":4},"end":{"line":416,"column":60}},"137":{"start":{"line":417,"column":4},"end":{"line":417,"column":67}},"138":{"start":{"line":423,"column":9},"end":{"line":431,"column":3}},"139":{"start":{"line":423,"column":2},"end":{"line":431,"column":3}},"140":{"start":{"line":424,"column":4},"end":{"line":424,"column":27}},"141":{"start":{"line":426,"column":4},"end":{"line":430,"column":8}},"142":{"start":{"line":428,"column":8},"end":{"line":428,"column":84}},"143":{"start":{"line":429,"column":8},"end":{"line":429,"column":27}},"144":{"start":{"line":443,"column":9},"end":{"line":455,"column":3}},"145":{"start":{"line":443,"column":2},"end":{"line":455,"column":3}},"146":{"start":{"line":444,"column":4},"end":{"line":444,"column":27}},"147":{"start":{"line":446,"column":4},"end":{"line":446,"column":37}},"148":{"start":{"line":448,"column":4},"end":{"line":448,"column":54}},"149":{"start":{"line":450,"column":4},"end":{"line":454,"column":8}},"150":{"start":{"line":452,"column":8},"end":{"line":452,"column":84}},"151":{"start":{"line":453,"column":8},"end":{"line":453,"column":26}},"152":{"start":{"line":466,"column":9},"end":{"line":472,"column":3}},"153":{"start":{"line":467,"column":4},"end":{"line":467,"column":39}},"154":{"start":{"line":469,"column":4},"end":{"line":471,"column":6}},"155":{"start":{"line":470,"column":6},"end":{"line":470,"column":25}},"156":{"start":{"line":483,"column":9},"end":{"line":487,"column":3}},"157":{"start":{"line":484,"column":4},"end":{"line":484,"column":43}},"158":{"start":{"line":486,"column":4},"end":{"line":486,"column":56}},"159":{"start":{"line":499,"column":9},"end":{"line":507,"column":3}},"160":{"start":{"line":500,"column":4},"end":{"line":500,"column":57}},"161":{"start":{"line":502,"column":4},"end":{"line":502,"column":43}},"162":{"start":{"line":504,"column":4},"end":{"line":506,"column":6}},"163":{"start":{"line":505,"column":6},"end":{"line":505,"column":18}},"164":{"start":{"line":519,"column":9},"end":{"line":527,"column":3}},"165":{"start":{"line":520,"column":4},"end":{"line":520,"column":59}},"166":{"start":{"line":522,"column":4},"end":{"line":522,"column":44}},"167":{"start":{"line":524,"column":4},"end":{"line":526,"column":6}},"168":{"start":{"line":525,"column":6},"end":{"line":525,"column":18}},"169":{"start":{"line":539,"column":9},"end":{"line":545,"column":3}},"170":{"start":{"line":540,"column":4},"end":{"line":540,"column":58}},"171":{"start":{"line":542,"column":4},"end":{"line":542,"column":37}},"172":{"start":{"line":544,"column":4},"end":{"line":544,"column":72}},"173":{"start":{"line":559,"column":9},"end":{"line":565,"column":3}},"174":{"start":{"line":560,"column":4},"end":{"line":560,"column":37}},"175":{"start":{"line":562,"column":4},"end":{"line":562,"column":65}},"176":{"start":{"line":564,"column":4},"end":{"line":564,"column":58}},"177":{"start":{"line":581,"column":9},"end":{"line":604,"column":3}},"178":{"start":{"line":581,"column":2},"end":{"line":604,"column":3}},"179":{"start":{"line":582,"column":4},"end":{"line":586,"column":5}},"180":{"start":{"line":583,"column":6},"end":{"line":585,"column":8}},"181":{"start":{"line":584,"column":8},"end":{"line":584,"column":16}},"182":{"start":{"line":587,"column":4},"end":{"line":602,"column":5}},"183":{"start":{"line":588,"column":6},"end":{"line":588,"column":57}},"184":{"start":{"line":590,"column":6},"end":{"line":590,"column":87}},"185":{"start":{"line":591,"column":6},"end":{"line":601,"column":9}},"186":{"start":{"line":592,"column":8},"end":{"line":592,"column":45}},"187":{"start":{"line":593,"column":8},"end":{"line":593,"column":20}},"188":{"start":{"line":598,"column":8},"end":{"line":600,"column":9}},"189":{"start":{"line":599,"column":10},"end":{"line":599,"column":18}},"190":{"start":{"line":603,"column":4},"end":{"line":603,"column":41}},"191":{"start":{"line":618,"column":9},"end":{"line":626,"column":3}},"192":{"start":{"line":619,"column":4},"end":{"line":619,"column":42}},"193":{"start":{"line":621,"column":4},"end":{"line":621,"column":62}},"194":{"start":{"line":623,"column":4},"end":{"line":623,"column":38}},"195":{"start":{"line":625,"column":4},"end":{"line":625,"column":58}},"196":{"start":{"line":640,"column":9},"end":{"line":644,"column":3}},"197":{"start":{"line":641,"column":4},"end":{"line":641,"column":38}},"198":{"start":{"line":643,"column":4},"end":{"line":643,"column":58}},"199":{"start":{"line":646,"column":9},"end":{"line":648,"column":3}},"200":{"start":{"line":647,"column":4},"end":{"line":647,"column":62}},"201":{"start":{"line":650,"column":12},"end":{"line":652,"column":3}},"202":{"start":{"line":651,"column":4},"end":{"line":651,"column":51}},"203":{"start":{"line":654,"column":17},"end":{"line":656,"column":3}},"204":{"start":{"line":655,"column":4},"end":{"line":655,"column":61}},"205":{"start":{"line":658,"column":17},"end":{"line":660,"column":3}},"206":{"start":{"line":659,"column":4},"end":{"line":659,"column":64}},"207":{"start":{"line":662,"column":10},"end":{"line":664,"column":3}},"208":{"start":{"line":663,"column":4},"end":{"line":663,"column":30}},"209":{"start":{"line":666,"column":10},"end":{"line":676,"column":3}},"210":{"start":{"line":667,"column":4},"end":{"line":667,"column":26}},"211":{"start":{"line":668,"column":4},"end":{"line":668,"column":35}},"212":{"start":{"line":669,"column":4},"end":{"line":669,"column":40}},"213":{"start":{"line":671,"column":4},"end":{"line":673,"column":5}},"214":{"start":{"line":672,"column":6},"end":{"line":672,"column":40}},"215":{"start":{"line":674,"column":4},"end":{"line":674,"column":16}},"216":{"start":{"line":675,"column":4},"end":{"line":675,"column":15}},"217":{"start":{"line":678,"column":9},"end":{"line":687,"column":3}},"218":{"start":{"line":679,"column":4},"end":{"line":679,"column":26}},"219":{"start":{"line":680,"column":4},"end":{"line":680,"column":79}},"220":{"start":{"line":681,"column":4},"end":{"line":683,"column":5}},"221":{"start":{"line":682,"column":6},"end":{"line":682,"column":18}},"222":{"start":{"line":684,"column":4},"end":{"line":684,"column":40}},"223":{"start":{"line":685,"column":4},"end":{"line":685,"column":16}},"224":{"start":{"line":686,"column":4},"end":{"line":686,"column":15}},"225":{"start":{"line":691,"column":10},"end":{"line":699,"column":3}},"226":{"start":{"line":692,"column":4},"end":{"line":692,"column":35}},"227":{"start":{"line":694,"column":4},"end":{"line":696,"column":5}},"228":{"start":{"line":695,"column":6},"end":{"line":695,"column":86}},"229":{"start":{"line":698,"column":4},"end":{"line":698,"column":23}},"230":{"start":{"line":701,"column":10},"end":{"line":714,"column":3}},"231":{"start":{"line":702,"column":4},"end":{"line":702,"column":44}},"232":{"start":{"line":703,"column":4},"end":{"line":703,"column":35}},"233":{"start":{"line":705,"column":4},"end":{"line":707,"column":5}},"234":{"start":{"line":706,"column":6},"end":{"line":706,"column":97}},"235":{"start":{"line":709,"column":4},"end":{"line":711,"column":5}},"236":{"start":{"line":710,"column":6},"end":{"line":710,"column":80}},"237":{"start":{"line":713,"column":4},"end":{"line":713,"column":23}},"238":{"start":{"line":716,"column":10},"end":{"line":736,"column":3}},"239":{"start":{"line":720,"column":4},"end":{"line":720,"column":35}},"240":{"start":{"line":721,"column":4},"end":{"line":733,"column":5}},"241":{"start":{"line":722,"column":6},"end":{"line":726,"column":9}},"242":{"start":{"line":723,"column":8},"end":{"line":725,"column":9}},"243":{"start":{"line":724,"column":10},"end":{"line":724,"column":77}},"244":{"start":{"line":728,"column":6},"end":{"line":730,"column":9}},"245":{"start":{"line":729,"column":8},"end":{"line":729,"column":78}},"246":{"start":{"line":731,"column":11},"end":{"line":733,"column":5}},"247":{"start":{"line":732,"column":6},"end":{"line":732,"column":57}},"248":{"start":{"line":735,"column":4},"end":{"line":735,"column":23}},"249":{"start":{"line":738,"column":10},"end":{"line":755,"column":3}},"250":{"start":{"line":739,"column":4},"end":{"line":739,"column":44}},"251":{"start":{"line":740,"column":4},"end":{"line":740,"column":71}},"252":{"start":{"line":741,"column":4},"end":{"line":741,"column":65}},"253":{"start":{"line":743,"column":4},"end":{"line":745,"column":5}},"254":{"start":{"line":744,"column":6},"end":{"line":744,"column":48}},"255":{"start":{"line":747,"column":4},"end":{"line":749,"column":5}},"256":{"start":{"line":748,"column":6},"end":{"line":748,"column":111}},"257":{"start":{"line":751,"column":4},"end":{"line":753,"column":5}},"258":{"start":{"line":752,"column":6},"end":{"line":752,"column":84}},"259":{"start":{"line":754,"column":4},"end":{"line":754,"column":23}},"260":{"start":{"line":757,"column":10},"end":{"line":787,"column":3}},"261":{"start":{"line":757,"column":2},"end":{"line":787,"column":3}},"262":{"start":{"line":757,"column":97},"end":{"line":757,"column":118}},"263":{"start":{"line":758,"column":4},"end":{"line":758,"column":61}},"264":{"start":{"line":759,"column":4},"end":{"line":759,"column":64}},"265":{"start":{"line":760,"column":4},"end":{"line":760,"column":52}},"266":{"start":{"line":762,"column":4},"end":{"line":786,"column":8}},"267":{"start":{"line":764,"column":8},"end":{"line":766,"column":9}},"268":{"start":{"line":765,"column":16},"end":{"line":765,"column":66}},"269":{"start":{"line":767,"column":8},"end":{"line":767,"column":28}},"270":{"start":{"line":769,"column":8},"end":{"line":785,"column":9}},"271":{"start":{"line":770,"column":10},"end":{"line":776,"column":14}},"272":{"start":{"line":772,"column":14},"end":{"line":772,"column":78}},"273":{"start":{"line":775,"column":14},"end":{"line":775,"column":69}},"274":{"start":{"line":777,"column":15},"end":{"line":785,"column":9}},"275":{"start":{"line":780,"column":10},"end":{"line":782,"column":13}},"276":{"start":{"line":781,"column":12},"end":{"line":781,"column":22}},"277":{"start":{"line":784,"column":10},"end":{"line":784,"column":65}},"278":{"start":{"line":789,"column":10},"end":{"line":797,"column":3}},"279":{"start":{"line":790,"column":4},"end":{"line":796,"column":5}},"280":{"start":{"line":791,"column":6},"end":{"line":791,"column":75}},"281":{"start":{"line":792,"column":11},"end":{"line":796,"column":5}},"282":{"start":{"line":793,"column":6},"end":{"line":793,"column":42}},"283":{"start":{"line":795,"column":6},"end":{"line":795,"column":69}},"284":{"start":{"line":799,"column":10},"end":{"line":801,"column":3}},"285":{"start":{"line":800,"column":4},"end":{"line":800,"column":107}},"286":{"start":{"line":803,"column":10},"end":{"line":815,"column":3}},"287":{"start":{"line":803,"column":2},"end":{"line":815,"column":3}},"288":{"start":{"line":804,"column":4},"end":{"line":804,"column":54}},"289":{"start":{"line":805,"column":4},"end":{"line":814,"column":8}},"290":{"start":{"line":806,"column":6},"end":{"line":806,"column":37}},"291":{"start":{"line":807,"column":6},"end":{"line":807,"column":39}},"292":{"start":{"line":808,"column":6},"end":{"line":808,"column":34}},"293":{"start":{"line":809,"column":6},"end":{"line":809,"column":19}},"294":{"start":{"line":812,"column":8},"end":{"line":812,"column":61}},"295":{"start":{"line":813,"column":8},"end":{"line":813,"column":17}},"296":{"start":{"line":817,"column":10},"end":{"line":822,"column":3}},"297":{"start":{"line":818,"column":4},"end":{"line":820,"column":5}},"298":{"start":{"line":819,"column":6},"end":{"line":819,"column":42}},"299":{"start":{"line":821,"column":4},"end":{"line":821,"column":15}},"300":{"start":{"line":824,"column":10},"end":{"line":826,"column":3}},"301":{"start":{"line":825,"column":4},"end":{"line":825,"column":45}},"302":{"start":{"line":828,"column":10},"end":{"line":830,"column":3}},"303":{"start":{"line":829,"column":4},"end":{"line":829,"column":25}},"304":{"start":{"line":832,"column":10},"end":{"line":834,"column":3}},"305":{"start":{"line":833,"column":4},"end":{"line":833,"column":25}},"306":{"start":{"line":54,"column":9},"end":{"line":54,"column":65}},"307":{"start":{"line":191,"column":2},"end":{"line":192,"column":21}},"308":{"start":{"line":224,"column":2},"end":{"line":226,"column":23}},"309":{"start":{"line":266,"column":2},"end":{"line":267,"column":21}},"310":{"start":{"line":295,"column":2},"end":{"line":298,"column":30}},"311":{"start":{"line":322,"column":2},"end":{"line":323,"column":21}},"312":{"start":{"line":347,"column":2},"end":{"line":349,"column":23}},"313":{"start":{"line":365,"column":2},"end":{"line":367,"column":23}},"314":{"start":{"line":386,"column":2},"end":{"line":388,"column":27}},"315":{"start":{"line":408,"column":2},"end":{"line":409,"column":21}},"316":{"start":{"line":420,"column":2},"end":{"line":422,"column":23}},"317":{"start":{"line":440,"column":2},"end":{"line":442,"column":23}},"318":{"start":{"line":463,"column":2},"end":{"line":465,"column":23}},"319":{"start":{"line":480,"column":2},"end":{"line":482,"column":23}},"320":{"start":{"line":496,"column":2},"end":{"line":498,"column":23}},"321":{"start":{"line":516,"column":2},"end":{"line":518,"column":23}},"322":{"start":{"line":536,"column":2},"end":{"line":538,"column":23}},"323":{"start":{"line":554,"column":2},"end":{"line":558,"column":23}},"324":{"start":{"line":576,"column":2},"end":{"line":580,"column":23}},"325":{"start":{"line":613,"column":2},"end":{"line":617,"column":23}},"326":{"start":{"line":635,"column":2},"end":{"line":639,"column":23}},"327":{"start":{"line":835,"column":0},"end":{"line":835,"column":1}},"328":{"start":{"line":47,"column":13},"end":{"line":835,"column":1}},"329":{"start":{"line":856,"column":0},"end":{"line":882,"column":1}},"330":{"start":{"line":857,"column":2},"end":{"line":881,"column":3}},"331":{"start":{"line":858,"column":4},"end":{"line":858,"column":42}},"332":{"start":{"line":859,"column":4},"end":{"line":859,"column":60}},"333":{"start":{"line":861,"column":4},"end":{"line":878,"column":6}},"334":{"start":{"line":861,"column":33},"end":{"line":861,"column":47}},"335":{"start":{"line":862,"column":6},"end":{"line":862,"column":40}},"336":{"start":{"line":863,"column":6},"end":{"line":875,"column":7}},"337":{"start":{"line":864,"column":8},"end":{"line":864,"column":37}},"338":{"start":{"line":866,"column":8},"end":{"line":873,"column":10}},"339":{"start":{"line":874,"column":8},"end":{"line":874,"column":36}},"340":{"start":{"line":876,"column":6},"end":{"line":876,"column":52}},"341":{"start":{"line":877,"column":6},"end":{"line":877,"column":20}},"342":{"start":{"line":880,"column":4},"end":{"line":880,"column":22}},"343":{"start":{"line":888,"column":0},"end":{"line":914,"column":1}},"344":{"start":{"line":889,"column":2},"end":{"line":913,"column":3}},"345":{"start":{"line":890,"column":4},"end":{"line":890,"column":42}},"346":{"start":{"line":891,"column":4},"end":{"line":891,"column":60}},"347":{"start":{"line":893,"column":4},"end":{"line":910,"column":6}},"348":{"start":{"line":893,"column":33},"end":{"line":893,"column":47}},"349":{"start":{"line":894,"column":6},"end":{"line":894,"column":48}},"350":{"start":{"line":895,"column":6},"end":{"line":907,"column":7}},"351":{"start":{"line":896,"column":8},"end":{"line":896,"column":37}},"352":{"start":{"line":898,"column":8},"end":{"line":905,"column":10}},"353":{"start":{"line":906,"column":8},"end":{"line":906,"column":36}},"354":{"start":{"line":908,"column":6},"end":{"line":908,"column":52}},"355":{"start":{"line":909,"column":6},"end":{"line":909,"column":20}},"356":{"start":{"line":912,"column":4},"end":{"line":912,"column":22}},"357":{"start":{"line":920,"column":0},"end":{"line":946,"column":1}},"358":{"start":{"line":921,"column":2},"end":{"line":945,"column":3}},"359":{"start":{"line":922,"column":4},"end":{"line":922,"column":42}},"360":{"start":{"line":923,"column":4},"end":{"line":923,"column":60}},"361":{"start":{"line":925,"column":4},"end":{"line":942,"column":6}},"362":{"start":{"line":925,"column":33},"end":{"line":925,"column":47}},"363":{"start":{"line":926,"column":6},"end":{"line":939,"column":7}},"364":{"start":{"line":927,"column":8},"end":{"line":927,"column":50}},"365":{"start":{"line":929,"column":8},"end":{"line":937,"column":10}},"366":{"start":{"line":938,"column":8},"end":{"line":938,"column":36}},"367":{"start":{"line":940,"column":6},"end":{"line":940,"column":52}},"368":{"start":{"line":941,"column":6},"end":{"line":941,"column":20}},"369":{"start":{"line":944,"column":4},"end":{"line":944,"column":22}},"370":{"start":{"line":952,"column":0},"end":{"line":977,"column":1}},"371":{"start":{"line":953,"column":2},"end":{"line":976,"column":3}},"372":{"start":{"line":954,"column":4},"end":{"line":954,"column":42}},"373":{"start":{"line":955,"column":4},"end":{"line":955,"column":60}},"374":{"start":{"line":957,"column":4},"end":{"line":973,"column":6}},"375":{"start":{"line":957,"column":33},"end":{"line":957,"column":47}},"376":{"start":{"line":958,"column":6},"end":{"line":970,"column":7}},"377":{"start":{"line":959,"column":8},"end":{"line":959,"column":40}},"378":{"start":{"line":961,"column":8},"end":{"line":968,"column":10}},"379":{"start":{"line":969,"column":8},"end":{"line":969,"column":36}},"380":{"start":{"line":971,"column":6},"end":{"line":971,"column":52}},"381":{"start":{"line":972,"column":6},"end":{"line":972,"column":20}},"382":{"start":{"line":975,"column":4},"end":{"line":975,"column":22}},"383":{"start":{"line":983,"column":0},"end":{"line":1008,"column":1}},"384":{"start":{"line":984,"column":2},"end":{"line":1007,"column":3}},"385":{"start":{"line":985,"column":4},"end":{"line":985,"column":42}},"386":{"start":{"line":986,"column":4},"end":{"line":986,"column":60}},"387":{"start":{"line":988,"column":4},"end":{"line":1004,"column":6}},"388":{"start":{"line":988,"column":33},"end":{"line":988,"column":47}},"389":{"start":{"line":989,"column":6},"end":{"line":1001,"column":7}},"390":{"start":{"line":990,"column":8},"end":{"line":990,"column":47}},"391":{"start":{"line":992,"column":8},"end":{"line":999,"column":10}},"392":{"start":{"line":1000,"column":8},"end":{"line":1000,"column":36}},"393":{"start":{"line":1002,"column":6},"end":{"line":1002,"column":52}},"394":{"start":{"line":1003,"column":6},"end":{"line":1003,"column":20}},"395":{"start":{"line":1006,"column":4},"end":{"line":1006,"column":22}},"396":{"start":{"line":1013,"column":0},"end":{"line":1039,"column":1}},"397":{"start":{"line":1013,"column":26},"end":{"line":1013,"column":59}},"398":{"start":{"line":1014,"column":2},"end":{"line":1038,"column":3}},"399":{"start":{"line":1015,"column":4},"end":{"line":1015,"column":42}},"400":{"start":{"line":1016,"column":4},"end":{"line":1016,"column":60}},"401":{"start":{"line":1018,"column":4},"end":{"line":1035,"column":6}},"402":{"start":{"line":1018,"column":33},"end":{"line":1018,"column":47}},"403":{"start":{"line":1019,"column":6},"end":{"line":1019,"column":56}},"404":{"start":{"line":1020,"column":6},"end":{"line":1032,"column":7}},"405":{"start":{"line":1021,"column":8},"end":{"line":1021,"column":92}},"406":{"start":{"line":1023,"column":8},"end":{"line":1030,"column":10}},"407":{"start":{"line":1031,"column":8},"end":{"line":1031,"column":36}},"408":{"start":{"line":1033,"column":6},"end":{"line":1033,"column":52}},"409":{"start":{"line":1034,"column":6},"end":{"line":1034,"column":20}},"410":{"start":{"line":1037,"column":4},"end":{"line":1037,"column":22}}},"fnMap":{"1":{"name":"(anonymous_355)","line":27,"loc":{"start":{"line":27,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_357)","line":47,"loc":{"start":{"line":47,"column":0},"end":{"line":null,"column":-1}}},"3":{"name":"SearchEndpoint","line":138,"loc":{"start":{"line":138,"column":2},"end":{"line":138,"column":53}}},"4":{"name":"(anonymous_359)","line":154,"loc":{"start":{"line":154,"column":20},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_360)","line":61,"loc":{"start":{"line":61,"column":2},"end":{"line":61,"column":70}}},"6":{"name":"(anonymous_361)","line":85,"loc":{"start":{"line":85,"column":2},"end":{"line":85,"column":169}}},"7":{"name":"(anonymous_362)","line":103,"loc":{"start":{"line":103,"column":2},"end":{"line":103,"column":102}}},"8":{"name":"(anonymous_363)","line":112,"loc":{"start":{"line":112,"column":2},"end":{"line":112,"column":67}}},"9":{"name":"(anonymous_364)","line":113,"loc":{"start":{"line":113,"column":27},"end":{"line":113,"column":31}}},"10":{"name":"(anonymous_365)","line":121,"loc":{"start":{"line":121,"column":2},"end":{"line":121,"column":89}}},"11":{"name":"(anonymous_366)","line":162,"loc":{"start":{"line":162,"column":2},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_367)","line":170,"loc":{"start":{"line":170,"column":2},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_368)","line":178,"loc":{"start":{"line":178,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_369)","line":193,"loc":{"start":{"line":193,"column":2},"end":{"line":193,"column":166}}},"15":{"name":"(anonymous_370)","line":212,"loc":{"start":{"line":212,"column":2},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_371)","line":227,"loc":{"start":{"line":227,"column":2},"end":{"line":227,"column":103}}},"17":{"name":"(anonymous_372)","line":234,"loc":{"start":{"line":234,"column":61},"end":{"line":234,"column":85}}},"18":{"name":"(anonymous_373)","line":268,"loc":{"start":{"line":268,"column":2},"end":{"line":268,"column":142}}},"19":{"name":"(anonymous_374)","line":299,"loc":{"start":{"line":299,"column":2},"end":{"line":299,"column":146}}},"20":{"name":"(anonymous_375)","line":308,"loc":{"start":{"line":308,"column":48},"end":{"line":308,"column":56}}},"21":{"name":"(anonymous_376)","line":324,"loc":{"start":{"line":324,"column":2},"end":{"line":324,"column":152}}},"22":{"name":"(anonymous_377)","line":350,"loc":{"start":{"line":350,"column":2},"end":{"line":350,"column":119}}},"23":{"name":"(anonymous_378)","line":368,"loc":{"start":{"line":368,"column":2},"end":{"line":368,"column":123}}},"24":{"name":"(anonymous_379)","line":373,"loc":{"start":{"line":373,"column":12},"end":{"line":373,"column":17}}},"25":{"name":"(anonymous_380)","line":389,"loc":{"start":{"line":389,"column":2},"end":{"line":389,"column":121}}},"26":{"name":"(anonymous_381)","line":410,"loc":{"start":{"line":410,"column":2},"end":{"line":410,"column":122}}},"27":{"name":"(anonymous_382)","line":423,"loc":{"start":{"line":423,"column":2},"end":{"line":423,"column":132}}},"28":{"name":"(anonymous_383)","line":427,"loc":{"start":{"line":427,"column":12},"end":{"line":427,"column":17}}},"29":{"name":"(anonymous_384)","line":443,"loc":{"start":{"line":443,"column":2},"end":{"line":443,"column":131}}},"30":{"name":"(anonymous_385)","line":451,"loc":{"start":{"line":451,"column":12},"end":{"line":451,"column":17}}},"31":{"name":"(anonymous_386)","line":466,"loc":{"start":{"line":466,"column":2},"end":{"line":466,"column":92}}},"32":{"name":"(anonymous_387)","line":469,"loc":{"start":{"line":469,"column":67},"end":{"line":469,"column":72}}},"33":{"name":"(anonymous_388)","line":483,"loc":{"start":{"line":483,"column":2},"end":{"line":483,"column":92}}},"34":{"name":"(anonymous_389)","line":499,"loc":{"start":{"line":499,"column":2},"end":{"line":499,"column":125}}},"35":{"name":"(anonymous_390)","line":504,"loc":{"start":{"line":504,"column":53},"end":{"line":null,"column":-1}}},"36":{"name":"(anonymous_391)","line":519,"loc":{"start":{"line":519,"column":2},"end":{"line":519,"column":126}}},"37":{"name":"(anonymous_392)","line":524,"loc":{"start":{"line":524,"column":53},"end":{"line":null,"column":-1}}},"38":{"name":"(anonymous_393)","line":539,"loc":{"start":{"line":539,"column":2},"end":{"line":539,"column":140}}},"39":{"name":"(anonymous_394)","line":559,"loc":{"start":{"line":559,"column":2},"end":{"line":559,"column":119}}},"40":{"name":"(anonymous_395)","line":581,"loc":{"start":{"line":581,"column":2},"end":{"line":581,"column":113}}},"41":{"name":"(anonymous_396)","line":583,"loc":{"start":{"line":583,"column":25},"end":{"line":583,"column":41}}},"42":{"name":"(anonymous_397)","line":591,"loc":{"start":{"line":591,"column":41},"end":{"line":591,"column":51}}},"43":{"name":"(anonymous_398)","line":594,"loc":{"start":{"line":594,"column":15},"end":{"line":594,"column":28}}},"44":{"name":"(anonymous_399)","line":618,"loc":{"start":{"line":618,"column":2},"end":{"line":618,"column":129}}},"45":{"name":"(anonymous_400)","line":640,"loc":{"start":{"line":640,"column":2},"end":{"line":640,"column":129}}},"46":{"name":"(anonymous_401)","line":646,"loc":{"start":{"line":646,"column":2},"end":{"line":null,"column":-1}}},"47":{"name":"(anonymous_402)","line":650,"loc":{"start":{"line":650,"column":2},"end":{"line":null,"column":-1}}},"48":{"name":"(anonymous_403)","line":654,"loc":{"start":{"line":654,"column":2},"end":{"line":null,"column":-1}}},"49":{"name":"(anonymous_404)","line":658,"loc":{"start":{"line":658,"column":2},"end":{"line":null,"column":-1}}},"50":{"name":"(anonymous_405)","line":662,"loc":{"start":{"line":662,"column":2},"end":{"line":null,"column":-1}}},"51":{"name":"(anonymous_406)","line":666,"loc":{"start":{"line":666,"column":2},"end":{"line":666,"column":35}}},"52":{"name":"(anonymous_407)","line":678,"loc":{"start":{"line":678,"column":2},"end":{"line":678,"column":42}}},"53":{"name":"(anonymous_408)","line":691,"loc":{"start":{"line":691,"column":2},"end":{"line":691,"column":43}}},"54":{"name":"(anonymous_409)","line":701,"loc":{"start":{"line":701,"column":2},"end":{"line":701,"column":65}}},"55":{"name":"(anonymous_410)","line":716,"loc":{"start":{"line":716,"column":2},"end":{"line":716,"column":71}}},"56":{"name":"(anonymous_411)","line":722,"loc":{"start":{"line":722,"column":104},"end":{"line":722,"column":108}}},"57":{"name":"(anonymous_412)","line":728,"loc":{"start":{"line":728,"column":34},"end":{"line":728,"column":45}}},"58":{"name":"(anonymous_413)","line":738,"loc":{"start":{"line":738,"column":2},"end":{"line":738,"column":87}}},"59":{"name":"(anonymous_414)","line":757,"loc":{"start":{"line":757,"column":2},"end":{"line":757,"column":118}}},"60":{"name":"(anonymous_415)","line":763,"loc":{"start":{"line":763,"column":12},"end":{"line":763,"column":43}}},"61":{"name":"(anonymous_416)","line":768,"loc":{"start":{"line":768,"column":15},"end":{"line":768,"column":38}}},"62":{"name":"(anonymous_417)","line":771,"loc":{"start":{"line":771,"column":18},"end":{"line":null,"column":-1}}},"63":{"name":"(anonymous_418)","line":774,"loc":{"start":{"line":774,"column":19},"end":{"line":null,"column":-1}}},"64":{"name":"(anonymous_419)","line":780,"loc":{"start":{"line":780,"column":18},"end":{"line":null,"column":-1}}},"65":{"name":"(anonymous_420)","line":789,"loc":{"start":{"line":789,"column":2},"end":{"line":789,"column":59}}},"66":{"name":"(anonymous_421)","line":799,"loc":{"start":{"line":799,"column":2},"end":{"line":null,"column":-1}}},"67":{"name":"(anonymous_422)","line":803,"loc":{"start":{"line":803,"column":2},"end":{"line":null,"column":-1}}},"68":{"name":"(anonymous_423)","line":805,"loc":{"start":{"line":805,"column":48},"end":{"line":805,"column":62}}},"69":{"name":"(anonymous_424)","line":811,"loc":{"start":{"line":811,"column":13},"end":{"line":811,"column":20}}},"70":{"name":"(anonymous_425)","line":817,"loc":{"start":{"line":817,"column":2},"end":{"line":817,"column":41}}},"71":{"name":"(anonymous_426)","line":824,"loc":{"start":{"line":824,"column":2},"end":{"line":824,"column":38}}},"72":{"name":"(anonymous_427)","line":828,"loc":{"start":{"line":828,"column":2},"end":{"line":828,"column":62}}},"73":{"name":"(anonymous_428)","line":832,"loc":{"start":{"line":832,"column":2},"end":{"line":832,"column":51}}},"74":{"name":"path","line":856,"loc":{"start":{"line":856,"column":0},"end":{"line":856,"column":26}}},"75":{"name":"(anonymous_430)","line":857,"loc":{"start":{"line":857,"column":9},"end":{"line":857,"column":88}}},"76":{"name":"(anonymous_431)","line":861,"loc":{"start":{"line":861,"column":23},"end":{"line":null,"column":-1}}},"77":{"name":"alertsPath","line":888,"loc":{"start":{"line":888,"column":0},"end":{"line":888,"column":32}}},"78":{"name":"(anonymous_433)","line":889,"loc":{"start":{"line":889,"column":9},"end":{"line":889,"column":88}}},"79":{"name":"(anonymous_434)","line":893,"loc":{"start":{"line":893,"column":23},"end":{"line":null,"column":-1}}},"80":{"name":"requestDataType","line":920,"loc":{"start":{"line":920,"column":0},"end":{"line":920,"column":37}}},"81":{"name":"(anonymous_436)","line":921,"loc":{"start":{"line":921,"column":9},"end":{"line":921,"column":88}}},"82":{"name":"(anonymous_437)","line":925,"loc":{"start":{"line":925,"column":23},"end":{"line":null,"column":-1}}},"83":{"name":"method","line":952,"loc":{"start":{"line":952,"column":0},"end":{"line":952,"column":27}}},"84":{"name":"(anonymous_439)","line":953,"loc":{"start":{"line":953,"column":9},"end":{"line":953,"column":88}}},"85":{"name":"(anonymous_440)","line":957,"loc":{"start":{"line":957,"column":23},"end":{"line":null,"column":-1}}},"86":{"name":"responseType","line":983,"loc":{"start":{"line":983,"column":0},"end":{"line":983,"column":34}}},"87":{"name":"(anonymous_442)","line":984,"loc":{"start":{"line":984,"column":9},"end":{"line":984,"column":88}}},"88":{"name":"(anonymous_443)","line":988,"loc":{"start":{"line":988,"column":23},"end":{"line":null,"column":-1}}},"89":{"name":"accessTokenInUrl","line":1013,"loc":{"start":{"line":1013,"column":0},"end":{"line":1013,"column":59}}},"90":{"name":"(anonymous_445)","line":1014,"loc":{"start":{"line":1014,"column":9},"end":{"line":1014,"column":88}}},"91":{"name":"(anonymous_446)","line":1018,"loc":{"start":{"line":1018,"column":23},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":147,"type":"binary-expr","locations":[{"start":{"line":147,"column":31},"end":{"line":147,"column":75}},{"start":{"line":147,"column":79},"end":{"line":147,"column":122}}]},"2":{"line":151,"type":"if","locations":[{"start":{"line":151,"column":4},"end":{"line":151,"column":3}},{"start":{"line":151,"column":4},"end":{"line":151,"column":3}}]},"3":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":4},"end":{"line":62,"column":3}},{"start":{"line":62,"column":4},"end":{"line":62,"column":3}}]},"4":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":71},"end":{"line":85,"column":70}},{"start":{"line":85,"column":71},"end":{"line":85,"column":70}}]},"5":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":6},"end":{"line":114,"column":5}},{"start":{"line":114,"column":6},"end":{"line":114,"column":5}}]},"6":{"line":199,"type":"if","locations":[{"start":{"line":199,"column":4},"end":{"line":199,"column":3}},{"start":{"line":199,"column":4},"end":{"line":199,"column":3}}]},"7":{"line":201,"type":"if","locations":[{"start":{"line":201,"column":11},"end":{"line":201,"column":10}},{"start":{"line":201,"column":11},"end":{"line":201,"column":10}}]},"8":{"line":239,"type":"if","locations":[{"start":{"line":239,"column":6},"end":{"line":239,"column":5}},{"start":{"line":239,"column":6},"end":{"line":239,"column":5}}]},"9":{"line":242,"type":"if","locations":[{"start":{"line":242,"column":6},"end":{"line":242,"column":5}},{"start":{"line":242,"column":6},"end":{"line":242,"column":5}}]},"10":{"line":249,"type":"if","locations":[{"start":{"line":249,"column":6},"end":{"line":249,"column":5}},{"start":{"line":249,"column":6},"end":{"line":249,"column":5}}]},"11":{"line":275,"type":"if","locations":[{"start":{"line":275,"column":4},"end":{"line":275,"column":3}},{"start":{"line":275,"column":4},"end":{"line":275,"column":3}}]},"12":{"line":395,"type":"binary-expr","locations":[{"start":{"line":395,"column":29},"end":{"line":395,"column":52}},{"start":{"line":395,"column":56},"end":{"line":395,"column":80}}]},"13":{"line":582,"type":"if","locations":[{"start":{"line":582,"column":4},"end":{"line":582,"column":3}},{"start":{"line":582,"column":4},"end":{"line":582,"column":3}}]},"14":{"line":587,"type":"if","locations":[{"start":{"line":587,"column":4},"end":{"line":587,"column":3}},{"start":{"line":587,"column":4},"end":{"line":587,"column":3}}]},"15":{"line":588,"type":"binary-expr","locations":[{"start":{"line":588,"column":45},"end":{"line":588,"column":49}},{"start":{"line":588,"column":53},"end":{"line":588,"column":54}}]},"16":{"line":598,"type":"if","locations":[{"start":{"line":598,"column":8},"end":{"line":598,"column":7}},{"start":{"line":598,"column":8},"end":{"line":598,"column":7}}]},"17":{"line":671,"type":"if","locations":[{"start":{"line":671,"column":4},"end":{"line":671,"column":3}},{"start":{"line":671,"column":4},"end":{"line":671,"column":3}}]},"18":{"line":680,"type":"binary-expr","locations":[{"start":{"line":680,"column":14},"end":{"line":680,"column":42}},{"start":{"line":680,"column":46},"end":{"line":680,"column":78}}]},"19":{"line":681,"type":"if","locations":[{"start":{"line":681,"column":4},"end":{"line":681,"column":3}},{"start":{"line":681,"column":4},"end":{"line":681,"column":3}}]},"20":{"line":694,"type":"if","locations":[{"start":{"line":694,"column":4},"end":{"line":694,"column":3}},{"start":{"line":694,"column":4},"end":{"line":694,"column":3}}]},"21":{"line":709,"type":"if","locations":[{"start":{"line":709,"column":4},"end":{"line":709,"column":3}},{"start":{"line":709,"column":4},"end":{"line":709,"column":3}}]},"22":{"line":709,"type":"binary-expr","locations":[{"start":{"line":709,"column":8},"end":{"line":709,"column":19}},{"start":{"line":709,"column":23},"end":{"line":709,"column":60}},{"start":{"line":709,"column":64},"end":{"line":709,"column":102}}]},"23":{"line":721,"type":"if","locations":[{"start":{"line":721,"column":4},"end":{"line":721,"column":3}},{"start":{"line":721,"column":4},"end":{"line":721,"column":3}}]},"24":{"line":723,"type":"if","locations":[{"start":{"line":723,"column":8},"end":{"line":723,"column":7}},{"start":{"line":723,"column":8},"end":{"line":723,"column":7}}]},"25":{"line":731,"type":"if","locations":[{"start":{"line":731,"column":11},"end":{"line":731,"column":10}},{"start":{"line":731,"column":11},"end":{"line":731,"column":10}}]},"26":{"line":743,"type":"if","locations":[{"start":{"line":743,"column":4},"end":{"line":743,"column":3}},{"start":{"line":743,"column":4},"end":{"line":743,"column":3}}]},"27":{"line":743,"type":"binary-expr","locations":[{"start":{"line":743,"column":8},"end":{"line":743,"column":25}},{"start":{"line":743,"column":29},"end":{"line":743,"column":52}}]},"28":{"line":747,"type":"if","locations":[{"start":{"line":747,"column":4},"end":{"line":747,"column":3}},{"start":{"line":747,"column":4},"end":{"line":747,"column":3}}]},"29":{"line":751,"type":"if","locations":[{"start":{"line":751,"column":4},"end":{"line":751,"column":3}},{"start":{"line":751,"column":4},"end":{"line":751,"column":3}}]},"30":{"line":757,"type":"if","locations":[{"start":{"line":757,"column":97},"end":{"line":757,"column":96}},{"start":{"line":757,"column":97},"end":{"line":757,"column":96}}]},"31":{"line":764,"type":"if","locations":[{"start":{"line":764,"column":8},"end":{"line":764,"column":7}},{"start":{"line":764,"column":8},"end":{"line":764,"column":7}}]},"32":{"line":764,"type":"binary-expr","locations":[{"start":{"line":764,"column":12},"end":{"line":764,"column":25}},{"start":{"line":764,"column":35},"end":{"line":764,"column":64}}]},"33":{"line":769,"type":"if","locations":[{"start":{"line":769,"column":8},"end":{"line":769,"column":7}},{"start":{"line":769,"column":8},"end":{"line":769,"column":7}}]},"34":{"line":769,"type":"binary-expr","locations":[{"start":{"line":769,"column":12},"end":{"line":769,"column":26}},{"start":{"line":769,"column":30},"end":{"line":769,"column":56}},{"start":{"line":769,"column":60},"end":{"line":769,"column":109}}]},"35":{"line":777,"type":"if","locations":[{"start":{"line":777,"column":15},"end":{"line":777,"column":14}},{"start":{"line":777,"column":15},"end":{"line":777,"column":14}}]},"36":{"line":777,"type":"binary-expr","locations":[{"start":{"line":777,"column":19},"end":{"line":777,"column":40}},{"start":{"line":777,"column":44},"end":{"line":777,"column":62}}]},"37":{"line":790,"type":"if","locations":[{"start":{"line":790,"column":4},"end":{"line":790,"column":3}},{"start":{"line":790,"column":4},"end":{"line":790,"column":3}}]},"38":{"line":792,"type":"if","locations":[{"start":{"line":792,"column":11},"end":{"line":792,"column":10}},{"start":{"line":792,"column":11},"end":{"line":792,"column":10}}]},"39":{"line":792,"type":"binary-expr","locations":[{"start":{"line":792,"column":15},"end":{"line":792,"column":33}},{"start":{"line":792,"column":37},"end":{"line":792,"column":63}}]},"40":{"line":800,"type":"binary-expr","locations":[{"start":{"line":800,"column":11},"end":{"line":800,"column":59}},{"start":{"line":800,"column":63},"end":{"line":800,"column":106}}]},"41":{"line":818,"type":"if","locations":[{"start":{"line":818,"column":4},"end":{"line":818,"column":3}},{"start":{"line":818,"column":4},"end":{"line":818,"column":3}}]},"42":{"line":863,"type":"if","locations":[{"start":{"line":863,"column":6},"end":{"line":863,"column":5}},{"start":{"line":863,"column":6},"end":{"line":863,"column":5}}]},"43":{"line":895,"type":"if","locations":[{"start":{"line":895,"column":6},"end":{"line":895,"column":5}},{"start":{"line":895,"column":6},"end":{"line":895,"column":5}}]},"44":{"line":926,"type":"if","locations":[{"start":{"line":926,"column":6},"end":{"line":926,"column":5}},{"start":{"line":926,"column":6},"end":{"line":926,"column":5}}]},"45":{"line":958,"type":"if","locations":[{"start":{"line":958,"column":6},"end":{"line":958,"column":5}},{"start":{"line":958,"column":6},"end":{"line":958,"column":5}}]},"46":{"line":989,"type":"if","locations":[{"start":{"line":989,"column":6},"end":{"line":989,"column":5}},{"start":{"line":989,"column":6},"end":{"line":989,"column":5}}]},"47":{"line":1013,"type":"if","locations":[{"start":{"line":1013,"column":26},"end":{"line":1013,"column":25}},{"start":{"line":1013,"column":26},"end":{"line":1013,"column":25}}]},"48":{"line":1020,"type":"if","locations":[{"start":{"line":1020,"column":6},"end":{"line":1020,"column":5}},{"start":{"line":1020,"column":6},"end":{"line":1020,"column":5}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":2,"12":32,"13":32,"14":32,"15":32,"16":1,"17":1,"18":33,"19":1,"20":32,"21":32,"22":32,"23":32,"24":32,"25":32,"26":32,"27":0,"28":32,"29":0,"30":32,"31":32,"32":32,"33":1,"34":1,"35":0,"36":1,"37":1,"38":2,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":6,"47":9,"48":1,"49":6,"50":1,"51":2,"52":2,"53":2,"54":1,"55":0,"56":1,"57":21,"58":1,"59":4,"60":1,"61":11,"62":11,"63":11,"64":11,"65":4,"66":7,"67":4,"68":11,"69":11,"70":1,"71":1,"72":1,"73":2,"74":2,"75":2,"76":2,"77":2,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":0,"85":1,"86":1,"87":1,"88":1,"89":6,"90":6,"91":6,"92":6,"93":6,"94":6,"95":6,"96":6,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":5,"109":5,"110":5,"111":5,"112":5,"113":5,"114":5,"115":5,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":7,"133":7,"134":7,"135":7,"136":7,"137":7,"138":1,"139":0,"140":0,"141":0,"142":0,"143":0,"144":1,"145":1,"146":1,"147":1,"148":1,"149":1,"150":1,"151":1,"152":1,"153":1,"154":1,"155":1,"156":1,"157":1,"158":1,"159":1,"160":1,"161":1,"162":1,"163":1,"164":1,"165":1,"166":1,"167":1,"168":1,"169":1,"170":1,"171":1,"172":1,"173":1,"174":1,"175":1,"176":1,"177":1,"178":2,"179":2,"180":0,"181":0,"182":2,"183":1,"184":1,"185":1,"186":1,"187":1,"188":0,"189":0,"190":2,"191":1,"192":1,"193":1,"194":1,"195":1,"196":1,"197":1,"198":1,"199":1,"200":0,"201":1,"202":32,"203":1,"204":32,"205":1,"206":1,"207":1,"208":0,"209":1,"210":62,"211":62,"212":62,"213":62,"214":62,"215":62,"216":62,"217":1,"218":9,"219":9,"220":9,"221":0,"222":9,"223":9,"224":9,"225":1,"226":35,"227":35,"228":33,"229":35,"230":1,"231":61,"232":61,"233":61,"234":114,"235":61,"236":0,"237":61,"238":1,"239":11,"240":11,"241":6,"242":54,"243":6,"244":6,"245":0,"246":5,"247":0,"248":11,"249":1,"250":16,"251":16,"252":16,"253":16,"254":0,"255":16,"256":0,"257":16,"258":0,"259":16,"260":1,"261":16,"262":32,"263":16,"264":16,"265":16,"266":16,"267":15,"268":1,"269":15,"270":1,"271":0,"272":0,"273":0,"274":1,"275":0,"276":0,"277":1,"278":1,"279":1,"280":0,"281":1,"282":0,"283":1,"284":1,"285":1,"286":1,"287":0,"288":0,"289":0,"290":0,"291":0,"292":0,"293":0,"294":0,"295":0,"296":1,"297":71,"298":0,"299":71,"300":1,"301":71,"302":1,"303":1,"304":1,"305":0,"306":1,"307":1,"308":1,"309":1,"310":1,"311":1,"312":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"320":1,"321":1,"322":1,"323":1,"324":1,"325":1,"326":1,"327":1,"328":1,"329":1,"330":16,"331":16,"332":16,"333":16,"334":104,"335":41,"336":41,"337":0,"338":41,"339":41,"340":41,"341":41,"342":16,"343":1,"344":4,"345":4,"346":4,"347":4,"348":10,"349":5,"350":5,"351":0,"352":5,"353":5,"354":5,"355":5,"356":4,"357":1,"358":4,"359":4,"360":4,"361":4,"362":20,"363":5,"364":5,"365":0,"366":0,"367":5,"368":5,"369":4,"370":1,"371":16,"372":16,"373":16,"374":16,"375":67,"376":17,"377":17,"378":0,"379":0,"380":17,"381":17,"382":16,"383":1,"384":16,"385":16,"386":16,"387":16,"388":67,"389":17,"390":17,"391":0,"392":0,"393":17,"394":17,"395":16,"396":1,"397":14,"398":9,"399":9,"400":9,"401":9,"402":174,"403":35,"404":35,"405":35,"406":0,"407":0,"408":35,"409":35,"410":9},"b":{"1":[32,0],"2":[0,32],"3":[0,1],"4":[1,0],"5":[1,8],"6":[4,7],"7":[4,3],"8":[1,0],"9":[1,0],"10":[0,1],"11":[6,0],"12":[1,1],"13":[0,2],"14":[1,1],"15":[1,0],"16":[0,0],"17":[62,0],"18":[9,9],"19":[0,9],"20":[33,2],"21":[0,61],"22":[61,61,0],"23":[6,5],"24":[6,48],"25":[0,5],"26":[0,16],"27":[16,16],"28":[0,16],"29":[0,16],"30":[16,0],"31":[1,14],"32":[15,13],"33":[0,1],"34":[1,1,0],"35":[0,1],"36":[1,0],"37":[0,1],"38":[0,1],"39":[1,0],"40":[1,1],"41":[0,71],"42":[0,41],"43":[0,5],"44":[5,0],"45":[17,0],"46":[17,0],"47":[5,4],"48":[35,0]},"f":{"1":33,"2":1,"3":32,"4":0,"5":1,"6":1,"7":1,"8":6,"9":9,"10":2,"11":0,"12":21,"13":4,"14":11,"15":1,"16":2,"17":1,"18":6,"19":1,"20":1,"21":5,"22":1,"23":1,"24":1,"25":1,"26":7,"27":0,"28":0,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":2,"41":0,"42":1,"43":0,"44":1,"45":1,"46":0,"47":32,"48":32,"49":1,"50":0,"51":62,"52":9,"53":35,"54":61,"55":11,"56":54,"57":0,"58":16,"59":16,"60":15,"61":1,"62":0,"63":0,"64":0,"65":1,"66":1,"67":0,"68":0,"69":0,"70":71,"71":71,"72":1,"73":0,"74":16,"75":16,"76":41,"77":4,"78":4,"79":5,"80":4,"81":4,"82":5,"83":16,"84":16,"85":17,"86":16,"87":16,"88":17,"89":9,"90":9,"91":35},"code":"import {ISearchEndpointOptions, ISearchEndpoint, IViewAsHtmlOptions} from './SearchEndpointInterface';\nimport {EndpointCaller, IEndpointCallParameters, ISuccessResponse, IErrorResponse} from '../rest/EndpointCaller';\nimport {IEndpointCallOptions} from '../rest/SearchEndpointInterface';\nimport {IStringMap} from './GenericParam';\nimport {Logger} from '../misc/Logger';\nimport {Assert} from '../misc/Assert';\nimport {IQuery} from '../rest/Query';\nimport {IQueryResults} from '../rest/QueryResults';\nimport {IQueryResult} from '../rest/QueryResult';\nimport {version} from '../misc/Version';\nimport {IListFieldValuesRequest} from '../rest/ListFieldValuesRequest';\nimport {IIndexFieldValue} from '../rest/FieldValue';\nimport {IFieldDescription} from '../rest/FieldDescription';\nimport {IListFieldsResult} from '../rest/ListFieldsResult';\nimport {IExtension} from '../rest/Extension';\nimport {IRatingRequest} from '../rest/RatingRequest';\nimport {ITaggingRequest} from '../rest/TaggingRequest';\nimport {IRevealQuerySuggestRequest, IRevealQuerySuggestResponse} from '../rest/RevealQuerySuggest';\nimport {ISubscriptionRequest, ISubscription} from '../rest/Subscription';\nimport {AjaxError} from '../rest/AjaxError';\nimport {MissingAuthenticationError} from '../rest/MissingAuthenticationError';\nimport {QueryUtils} from '../utils/QueryUtils';\nimport {QueryError} from '../rest/QueryError';\nimport {Utils} from '../utils/Utils';\nimport {Promise} from 'es6-promise';\n\nexport class DefaultSearchEndpointOptions implements ISearchEndpointOptions {\n  restUri: string;\n  version: string = 'v2';\n  queryStringArguments: IStringMap<string> = {};\n  anonymous: boolean = false;\n  accessToken: string;\n  renewAccessToken: () => Promise<string>;\n  username: string;\n  password: string;\n  searchAlertsUri: string;\n  isGuestUser: boolean = false;\n}\n\n/**\n * A search endpoint allows to execute letious actions against the Coveo Search API and index.<br/>\n * For example, you can search, list field values, get the quickview content for a document, etc.<br/>\n * Any actions that you execute using this class will not trigger a full query cycle for the Coveo components.<br/>\n * This is because this class will not trigger any query events directly.<br/>\n * If you wish to execute a query that all components will react to (and trigger the corresponding query events), use the {@link QueryController}\n */\nexport class SearchEndpoint implements ISearchEndpoint {\n\n  /**\n   * A map of all the initialized endpoint.<br/>\n   * eg : Coveo.SearchEndpoint.endpoints['default'] will return the default endpoint that was created at initialization\n   * @type {{}}\n   */\n  static endpoints: { [endpoint: string]: SearchEndpoint; } = {};\n\n  /**\n   * Configure an endpoint that will point to a Coveo Cloud index, which contains a set of public sources with no security on them.<br/>\n   * Used for demo purposes and ease of setup.\n   * @param otherOptions A set of additional options to use when configuring this endpoint\n   */\n  static configureSampleEndpoint(otherOptions?: ISearchEndpointOptions) {\n    if (SearchEndpoint.isUseLocalArgumentPresent()) {\n      // This is a handy flag to quickly test a local search API and alerts\n      SearchEndpoint.endpoints['default'] = new SearchEndpoint(_.extend({\n        restUri: 'http://localhost:8100/rest/search',\n        searchAlertsUri: 'http://localhost:8088/rest/search/alerts/'\n      }, otherOptions));\n    } else {\n      // This OAuth token points to the organization used for samples.\n      // It contains a set of harmless content sources.\n      SearchEndpoint.endpoints['default'] = new SearchEndpoint(_.extend({\n        restUri: 'https://cloudplatform.coveo.com/rest/search',\n        accessToken: '52d806a2-0f64-4390-a3f2-e0f41a4a73ec'\n      }, otherOptions));\n    }\n  }\n\n  /**\n   * Configure an endpoint to a Coveo Cloud index.\n   * @param organization The organization id of your Coveo cloud index\n   * @param token The token to use to execute query. If null, you will most probably need to login when querying.\n   * @param uri The uri of your cloud Search API. By default, will point to the production environment\n   * @param otherOptions A set of additional options to use when configuring this endpoint\n   */\n  static configureCloudEndpoint(organization?: string, token?: string, uri: string = 'https://cloudplatform.coveo.com/rest/search', otherOptions?: ISearchEndpointOptions) {\n    let options: ISearchEndpointOptions = {\n      restUri: uri,\n      accessToken: token,\n      queryStringArguments: { organizationId: organization }\n    };\n\n    let merged = SearchEndpoint.mergeConfigOptions(options, otherOptions);\n\n    SearchEndpoint.endpoints['default'] = new SearchEndpoint(SearchEndpoint.removeUndefinedConfigOption(merged))\n  }\n\n  /**\n   * Configure an endpoint to a Coveo on premise index.\n   * @param uri The uri of your Coveo Search API endpoint. eg : http://myserver:8080/rest/search\n   * @param token The token to use to execute query. If null, you will most probably need to login when querying (unless the search api is configured using advanced auth options, like windows auth or claims)\n   * @param otherOptions A set of additional options to use when configuring this endpoint\n   */\n  static configureOnPremiseEndpoint(uri: string, token?: string, otherOptions?: ISearchEndpointOptions) {\n    let merged = SearchEndpoint.mergeConfigOptions({\n      restUri: uri,\n      accessToken: token\n    }, otherOptions);\n\n    SearchEndpoint.endpoints['default'] = new SearchEndpoint(SearchEndpoint.removeUndefinedConfigOption(merged));\n  }\n\n  static removeUndefinedConfigOption(config: ISearchEndpointOptions) {\n    _.each(_.keys(config), (key) => {\n      if (config[key] == undefined) {\n        delete config[key];\n      }\n    });\n    return config;\n  }\n\n  static mergeConfigOptions(first: ISearchEndpointOptions, second: ISearchEndpointOptions): ISearchEndpointOptions {\n    first = SearchEndpoint.removeUndefinedConfigOption(first);\n    second = SearchEndpoint.removeUndefinedConfigOption(second);\n    return _.extend({}, first, second);\n  }\n\n  public logger: Logger;\n  public isRedirecting: boolean;\n  protected caller: EndpointCaller;\n  private onUnload: (...args: any[]) => void;\n\n  /**\n   * Create a new SearchEndpoint.<br/>\n   * Will use a set of sane default options, and merge them with the options parameter.<br/>\n   * Will create an {@link EndpointCaller} and use it to communicate with the endpoint internally\n   * @param options\n   */\n  constructor(public options?: ISearchEndpointOptions) {\n    Assert.exists(options);\n    Assert.exists(options.restUri);\n\n    // For backward compatibility, we set anonymous to true when an access token\n    // is specified on a page loaded through the filesystem. This causes withCredentials\n    // to NOT be set, allowing those pages to work with non Windows/Basic/Cookie\n    // authentication. If anonymous is explicitly set to false, we'll use withCredentials.\n    let defaultOptions = new DefaultSearchEndpointOptions();\n    defaultOptions.anonymous = window.location.href.indexOf('file://') == 0 && Utils.isNonEmptyString(options.accessToken);\n    this.options = <ISearchEndpointOptions>_.extend({}, defaultOptions, options);\n\n    // Forward any debug=1 query argument to the REST API to ease debugging\n    if (SearchEndpoint.isDebugArgumentPresent()) {\n      this.options.queryStringArguments['debug'] = 1;\n    }\n    this.onUnload = () => {\n      this.handleUnload();\n    }\n    window.addEventListener('beforeunload', this.onUnload);\n    this.logger = new Logger(this);\n    this.createEndpointCaller();\n  }\n\n  public reset() {\n    this.createEndpointCaller();\n  }\n\n  /**\n   * Return the base uri of the endpoint to perform search\n   * @returns {string}\n   */\n  public getBaseUri(): string {\n    return this.buildBaseUri('');\n  }\n\n  /**\n   * Return the base uri of the endpoint for search alert\n   * @returns {string}\n   */\n  public getBaseAlertsUri(): string {\n    return this.buildSearchAlertsUri('');\n  }\n\n  /**\n   * Get the uri that can be used to authenticate against the given provider\n   * @param provider The provider name\n   * @param returnUri The uri at which to return after the authentication is completed\n   * @param message The message for authentication\n   * @param callOptions Additional set of options to use for this call.\n   * @param callParams Options injected by the applied decorators.\n   * @returns {string}\n   */\n  @path('/login/')\n  @accessTokenInUrl()\n  public getAuthenticationProviderUri(provider: string, returnUri?: string, message?: string, callOptions?: IEndpointCallOptions, callParams?: IEndpointCallParameters): string {\n    let queryString = this.buildBaseQueryString(callOptions);\n    callParams.queryString = callParams.queryString.concat(queryString);\n\n    callParams.url += provider + '?'\n\n    if (Utils.isNonEmptyString(returnUri)) {\n      callParams.url += 'redirectUri=' + encodeURIComponent(returnUri) + '&';\n    } else if (Utils.isNonEmptyString(message)) {\n      callParams.url += 'message=' + encodeURIComponent(message) + '&';\n    }\n    callParams.url += callParams.queryString.join('&');\n    return callParams.url;\n  }\n\n  /**\n   * is the search endpoint using jsonp internally to communicate with Search API\n   * @returns {boolean}\n   */\n  public isJsonp(): boolean {\n    return this.caller.useJsonp;\n  }\n\n  /**\n   * Perform a search on the index and returns a Promise of {@link IQueryResults}.<br/>\n   * Will modify the query results slightly, by adding additional information on each results (an id, the state object, etc.)\n   * @param query The query to execute. Typically, the query object is built using a {@link QueryBuilder}\n   * @param callOptions Additional set of options to use for this call.\n   * @param callParams Options injected by the applied decorators.\n   * @returns {Promise<IQueryResults>}\n   */\n  @path('/')\n  @method('POST')\n  @responseType('text')\n  public search(query: IQuery, callOptions?: IEndpointCallOptions, callParams?: IEndpointCallParameters): Promise<IQueryResults> {\n    Assert.exists(query);\n\n    callParams.requestData = query;\n\n    this.logger.info('Performing REST query', query);\n\n    return this.performOneCall(callParams, callOptions).then((results?: IQueryResults) => {\n      this.logger.info('REST query successful', results, query);\n\n      // Version check\n      // If the SearchAPI doesn't give us any apiVersion info, we assume version 1 (before apiVersion was implemented)\n      if (results.apiVersion == null) {\n        results.apiVersion = 1;\n      }\n      if (results.apiVersion < version.supportedApiVersion) {\n        this.logger.error('Please update your REST Search API');\n      }\n\n      // If the server specified no search ID generated one using the client-side\n      // GUID generator. We prefer server generated guids to allow tracking a query\n      // all the way from the analytics to the logs.\n      if (Utils.isNullOrEmptyString(results.searchUid)) {\n        results.searchUid = QueryUtils.createGuid();\n      }\n      QueryUtils.setIndexAndUidOnQueryResults(query, results, results.searchUid, results.pipeline, results.splitTestRun);\n      QueryUtils.setTermsToHighlightOnQueryResults(query, results);\n      return results;\n    })\n  }\n  /**\n   * Get a link/uri to download a set of results, for a given query, to an xlsx format.<br/>\n   * Note : This does not download automatically the documents, merely provide an url at which to download them.\n   * @param query The query for which to get the xlsx documents\n   * @param numberOfResults The number of results that should be downloaded\n   * @param callOptions Additional set of options to use for this call.\n   * @param callParams Options injected by the applied decorators.\n   * @returns {string}\n   */\n  @path('/')\n  @accessTokenInUrl()\n  public getExportToExcelLink(query: IQuery, numberOfResults: number, callOptions?: IEndpointCallOptions, callParams?: IEndpointCallParameters): string {\n    let queryString = this.buildBaseQueryString(callOptions);\n    callParams.queryString = callParams.queryString.concat(queryString);\n\n    queryString = this.buildCompleteQueryString(null, query);\n    callParams.queryString = callParams.queryString.concat(queryString);\n\n    if (numberOfResults != null) {\n      callParams.queryString.push('numberOfResults=' + numberOfResults);\n    }\n\n    callParams.queryString.push('format=xlsx');\n\n    return callParams.url + '?' + callParams.queryString.join('&');\n  }\n\n  /**\n   * Get the raw datastream for a given document. This is typically used to get a thumbnail for a document.<br/>\n   * Return an array buffer : <br/>\n   * eg : let rawBinary = String.fromCharCode.apply(null, new Uint8Array(response));<br/>\n   * img.setAttribute('src', 'data:image/png;base64,' + btoa(rawBinary));\n   * @param documentUniqueId Typically the {@link IQueryResult.uniqueId} on each result\n   * @param dataStreamType Normally : '$Thumbnail'\n   * @param callOptions Additional set of options to use for this call.\n   * @param callParams Options injected by the applied decorators.\n   * @returns {Promise<TResult>|Promise<U>}\n   */\n  @path('/datastream')\n  @accessTokenInUrl()\n  @method('GET')\n  @responseType('arraybuffer')\n  public getRawDataStream(documentUniqueId: string, dataStreamType: string, callOptions?: IViewAsHtmlOptions, callParams?: IEndpointCallParameters): Promise<ArrayBuffer> {\n    Assert.exists(documentUniqueId);\n\n    let queryString = this.buildViewAsHtmlQueryString(documentUniqueId, callOptions);\n    callParams.queryString = callParams.queryString.concat(queryString);\n\n    this.logger.info('Performing REST query for datastream ' + dataStreamType + ' on document uniqueID' + documentUniqueId);\n\n    callParams.queryString.push('dataStream=' + dataStreamType);\n    return this.performOneCall(callParams).then((results) => {\n      this.logger.info('REST query successful', results, documentUniqueId);\n      return results;\n    })\n  }\n\n  /**\n   * Return an url that will allow to see the datastream for a given document. This is typically used to get a thumbnail for a document.<br/>\n   * @param documentUniqueID Typically the {@link IQueryResult.uniqueId} on each result\n   * @param dataStreamType Normally : '$Thumbnail'\n   * @param callOptions Additional set of options to use for this call.\n   * @param callParams Options injected by the applied decorators.\n   * @returns {string}\n   */\n  @path('/datastream')\n  @accessTokenInUrl()\n  public getViewAsDatastreamUri(documentUniqueID: string, dataStreamType: string, callOptions?: IViewAsHtmlOptions, callParams?: IEndpointCallParameters): string {\n    callOptions = _.extend({}, callOptions);\n\n    let queryString = this.buildBaseQueryString(callOptions);\n    callParams.queryString = callParams.queryString.concat(queryString);\n\n    queryString = this.buildViewAsHtmlQueryString(documentUniqueID, callOptions);\n    callParams.queryString = callParams.queryString.concat(queryString);\n\n    queryString = this.buildCompleteQueryString(callOptions.query, callOptions.queryObject);\n    callParams.queryString = callParams.queryString.concat(queryString);\n\n\n    return callParams.url + '?' + callParams.queryString.join('&') + '&dataStream=' + encodeURIComponent(dataStreamType);\n  }\n\n  /**\n   * Return a single document, using it's uniqueId\n   * @param documentUniqueID Typically the {@link IQueryResult.uniqueId} on each result\n   * @param callOptions Additional set of options to use for this call.\n   * @param callParams Options injected by the applied decorators.\n   * @returns {Promise<IQueryResult>}\n   */\n  @path('/document')\n  @method('GET')\n  @responseType('text')\n  public getDocument(documentUniqueID: string, callOptions?: IEndpointCallOptions, callParams?: IEndpointCallParameters): Promise<IQueryResult> {\n    let queryString = this.buildViewAsHtmlQueryString(documentUniqueID, callOptions);\n    callParams.queryString = callParams.queryString.concat(queryString);\n\n    return this.performOneCall<IQueryResult>(callParams);\n  }\n\n  /**\n   * Return the content for a single document, as text.<br/>\n   * Think : quickview\n   * @param documentUniqueID Typically the {@link IQueryResult.uniqueId} on each result\n   * @param callOptions Additional set of options to use for this call.\n   * @param callParams Options injected by the applied decorators.\n   * @returns {Promise<string>}\n   */\n  @path('/text')\n  @method('GET')\n  @responseType('text')\n  public getDocumentText(documentUniqueID: string, callOptions?: IEndpointCallOptions, callParams?: IEndpointCallParameters): Promise<string> {\n    let queryString = this.buildViewAsHtmlQueryString(documentUniqueID, callOptions);\n    callParams.queryString = callParams.queryString.concat(queryString);\n\n    return this.performOneCall<{ content: string, duration: number }>(callParams)\n      .then((data) => {\n        return data.content\n      });\n  }\n\n  /**\n   * Return the content for a single document, as an HTMLDocument.<br/>\n   * Think : quickview\n   * @param documentUniqueID Typically the {@link IQueryResult.uniqueId} on each result\n   * @param callOptions Additional set of options to use for this call.\n   * @param callParams Options injected by the applied decorators.\n   * @returns {Promise<HTMLDocument>}\n   */\n  @path('/html')\n  @method('POST')\n  @responseType('document')\n  public getDocumentHtml(documentUniqueID: string, callOptions?: IViewAsHtmlOptions, callParams?: IEndpointCallParameters): Promise<HTMLDocument> {\n    callOptions = _.extend({}, callOptions);\n\n    let queryString = this.buildViewAsHtmlQueryString(documentUniqueID, callOptions);\n    callParams.queryString = callParams.queryString.concat(queryString);\n\n    callParams.requestData = callOptions.queryObject || { q: callOptions.query };\n\n    return this.performOneCall<HTMLDocument>(callParams);\n  }\n\n  /**\n   * Return an url that will allow to see a single document content, as HTML.<br/>\n   * Think : quickview\n   * @param documentUniqueID Typically the {@link IQueryResult.uniqueId} on each result\n   * @param callOptions Additional set of options to use for this call.\n   * @param callParams Options injected by the applied decorators.\n   * @returns {string}\n   */\n  @path('/html')\n  @accessTokenInUrl()\n  public getViewAsHtmlUri(documentUniqueID: string, callOptions?: IViewAsHtmlOptions, callParams?: IEndpointCallParameters): string {\n    let queryString = this.buildBaseQueryString(callOptions);\n    callParams.queryString = callParams.queryString.concat(queryString);\n\n    queryString = this.buildViewAsHtmlQueryString(documentUniqueID, callOptions);\n    callParams.queryString = callParams.queryString.concat(queryString);\n    callParams.queryString = _.uniq(callParams.queryString);\n    return callParams.url + '?' + callParams.queryString.join('&');\n  }\n\n  @path('/values')\n  @method('POST')\n  @responseType('text')\n  public batchFieldValues(request: IListFieldValuesRequest, callOptions?: IEndpointCallOptions, callParams?: IEndpointCallParameters): Promise<IIndexFieldValue[]> {\n    Assert.exists(request);\n\n    return this.performOneCall<any>(callParams)\n      .then((data) => {\n        this.logger.info('REST list field values successful', data.values, request);\n        return data.values;\n      })\n  }\n\n  /**\n   * List the possible values for a given request\n   * @param request The request for which to list the possible field values\n   * @param callOptions Additional set of options to use for this call.\n   * @param callParams Options injected by the applied decorators.\n   * @returns {Promise<TResult>|Promise<U>}\n   */\n  @path('/values')\n  @method('POST')\n  @responseType('text')\n  public listFieldValues(request: IListFieldValuesRequest, callOptions?: IEndpointCallOptions, callParams?: IEndpointCallParameters): Promise<IIndexFieldValue[]> {\n    Assert.exists(request);\n\n    callParams.requestData = request;\n\n    this.logger.info('Listing field values', request);\n\n    return this.performOneCall<any>(callParams)\n      .then((data) => {\n        this.logger.info('REST list field values successful', data.values, request);\n        return data.values\n      })\n  }\n\n  /**\n   * List all fields for the index, and return an array of their description\n   * @param callOptions Additional set of options to use for this call.\n   * @param callParams Options injected by the applied decorators.\n   * @returns {Promise<TResult>|Promise<U>}\n   */\n  @path('/fields')\n  @method('GET')\n  @responseType('text')\n  public listFields(callOptions?: IEndpointCallOptions, callParams?: IEndpointCallParameters): Promise<IFieldDescription[]> {\n    this.logger.info('Listing fields');\n\n    return this.performOneCall<IListFieldsResult>(callParams).then((data) => {\n      return data.fields;\n    })\n  }\n\n  /**\n   * List all available query extensions for the search endpoint\n   * @param callOptions Additional set of options to use for this call.\n   * @param callParams Options injected by the applied decorators.\n   * @returns {Promise<IExtension[]>}\n   */\n  @path('/extensions')\n  @method('GET')\n  @responseType('text')\n  public extensions(callOptions?: IEndpointCallOptions, callParams?: IEndpointCallParameters): Promise<IExtension[]> {\n    this.logger.info('Listing extensions');\n\n    return this.performOneCall<IExtension[]>(callParams)\n  }\n\n  /**\n   * Allow to rate a single document in the index (granted that collaborative rating is enabled on your index)\n   * @param ratingRequest Document id and rating\n   * @param callOptions Additional set of options to use for this call.\n   * @param callParams Options injected by the applied decorators.\n   * @returns {Promise<boolean>|Promise<T>}\n   */\n  @path('/rating')\n  @method('POST')\n  @responseType('text')\n  public rateDocument(ratingRequest: IRatingRequest, callOptions?: IEndpointCallOptions, callParams?: IEndpointCallParameters): Promise<boolean> {\n    this.logger.info('Rating a document', ratingRequest);\n\n    callParams.requestData = ratingRequest;\n\n    return this.performOneCall<any>(callParams).then(() => {\n      return true;\n    })\n  }\n\n  /**\n   * Allow to tag a single document\n   * @param taggingRequest Document id and tag action to perform\n   * @param callOptions Additional set of options to use for this call.\n   * @param callParams Options injected by the applied decorators.\n   * @returns {Promise<boolean>|Promise<T>}\n   */\n  @path('/tag')\n  @method('POST')\n  @responseType('text')\n  public tagDocument(taggingRequest: ITaggingRequest, callOptions?: IEndpointCallOptions, callParams?: IEndpointCallParameters): Promise<boolean> {\n    this.logger.info('Tagging a document', taggingRequest);\n\n    callParams.requestData = taggingRequest;\n\n    return this.performOneCall<any>(callParams).then(() => {\n      return true;\n    })\n  }\n\n  /**\n   * Return a list of reveal query suggestions, based on the given request\n   * @param request query and number of suggestions to return\n   * @param callOptions Additional set of options to use for this call.\n   * @param callParams Options injected by the applied decorators.\n   * @returns {Promise<IRevealQuerySuggestResponse>}\n   */\n  @path('/querySuggest')\n  @method('GET')\n  @responseType('text')\n  public getRevealQuerySuggest(request: IRevealQuerySuggestRequest, callOptions?: IEndpointCallOptions, callParams?: IEndpointCallParameters): Promise<IRevealQuerySuggestResponse> {\n    this.logger.info('Get Reveal Query Suggest', request);\n\n    callParams.requestData = request;\n\n    return this.performOneCall<IRevealQuerySuggestResponse>(callParams);\n  }\n\n  /**\n   * Allow to follow a document or a query on the search alerts service\n   * @param request\n   * @param callOptions Additional set of options to use for this call.\n   * @param callParams Options injected by the applied decorators.\n   * @returns {Promise<ISubscription>}\n   */\n  @alertsPath('/subscriptions')\n  @accessTokenInUrl('accessToken')\n  @method('POST')\n  @requestDataType('application/json')\n  @responseType('text')\n  public follow(request: ISubscriptionRequest, callOptions?: IEndpointCallOptions, callParams?: IEndpointCallParameters): Promise<ISubscription> {\n    callParams.requestData = request;\n\n    this.logger.info('Following a document or a query', request);\n\n    return this.performOneCall<ISubscription>(callParams);\n  }\n\n  private currentListSubscriptions: Promise<ISubscription[]>;\n\n  /**\n   * Return a Promise of array of current subscriptions\n   * @param page The page of the subsctiptions\n   * @param callOptions Additional set of options to use for this call.\n   * @param callParams Options injected by the applied decorators.\n   * @returns {any}\n   */\n  @alertsPath('/subscriptions')\n  @accessTokenInUrl('accessToken')\n  @method('GET')\n  @requestDataType('application/json')\n  @responseType('text')\n  public listSubscriptions(page: number, callOptions?: IEndpointCallOptions, callParams?: IEndpointCallParameters) {\n    if (this.options.isGuestUser) {\n      return new Promise((resolve, reject) => {\n        reject()\n      })\n    }\n    if (this.currentListSubscriptions == null) {\n      callParams.queryString.push('page=' + (page || 0));\n\n      this.currentListSubscriptions = this.performOneCall<ISubscription[]>(callParams);\n      this.currentListSubscriptions.then((data: any) => {\n        this.currentListSubscriptions = null;\n        return data;\n      }).catch((e: AjaxError) => {\n        // Trap 503 error, as the listSubscription call is called on every page initialization\n        // to check for current subscriptions. By default, the search alert service is not enabled for most organization\n        // Don't want to pollute the console with un-needed noise and confusion\n        if (e.status != 503) {\n          throw e;\n        }\n      });\n    }\n    return this.currentListSubscriptions;\n  }\n\n  /**\n   * Update a subscription with new parameters\n   * @param subscription The subscription to update with new parameters\n   * @param callOptions Additional set of options to use for this call.\n   * @param callParams Options injected by the applied decorators.\n   * @returns {Promise<ISubscription>}\n   */\n  @alertsPath('/subscriptions/')\n  @accessTokenInUrl('accessToken')\n  @method('PUT')\n  @requestDataType('application/json')\n  @responseType('text')\n  public updateSubscription(subscription: ISubscription, callOptions?: IEndpointCallOptions, callParams?: IEndpointCallParameters): Promise<ISubscription> {\n    callParams.requestData = subscription;\n\n    this.logger.info('Updating a subscription', subscription);\n\n    callParams.url += subscription.id;\n\n    return this.performOneCall<ISubscription>(callParams);\n  }\n\n  /**\n   * Delete a subscription\n   * @param subscription The subscription to delete\n   * @param callOptions Additional set of options to use for this call.\n   * @param callParams Options injected by the applied decorators.\n   * @returns {Promise<ISubscription>}\n   */\n  @alertsPath('/subscriptions/')\n  @accessTokenInUrl('accessToken')\n  @method('DELETE')\n  @requestDataType('application/json')\n  @responseType('text')\n  public deleteSubscription(subscription: ISubscription, callOptions?: IEndpointCallOptions, callParams?: IEndpointCallParameters): Promise<ISubscription> {\n    callParams.url += subscription.id;\n\n    return this.performOneCall<ISubscription>(callParams);\n  }\n\n  public nuke() {\n    window.removeEventListener('beforeunload', this.onUnload);\n  }\n\n  protected createEndpointCaller() {\n    this.caller = new EndpointCaller(this.options);\n  }\n\n  private static isDebugArgumentPresent(): boolean {\n    return /[?&]debug=1([&]|$)/.test(window.location.search);\n  }\n\n  private static isUseLocalArgumentPresent(): boolean {\n    return /[?&]useLocal=1([&]|$)/.test(window.location.search);\n  }\n\n  private handleUnload() {\n    this.isRedirecting = true;\n  }\n\n  private buildBaseUri(path: string): string {\n    Assert.isString(path);\n    let uri = this.options.restUri;\n    uri = this.removeTrailingSlash(uri);\n\n    if (Utils.isNonEmptyString(this.options.version)) {\n      uri += '/' + this.options.version;\n    }\n    uri += path;\n    return uri;\n  }\n\n  public buildSearchAlertsUri(path: string): string {\n    Assert.isString(path);\n    let uri = this.options.searchAlertsUri || this.options.restUri + '/alerts';\n    if (uri == null) {\n      return null;\n    }\n    uri = this.removeTrailingSlash(uri);\n    uri += path;\n    return uri;\n  }\n\n  // see https://github.com/palantir/tslint/issues/1421\n  // tslint:disable-next-line:no-unused-variable\n  private buildAccessToken(tokenKey: string): string[] {\n    let queryString: string[] = [];\n\n    if (Utils.isNonEmptyString(this.options.accessToken)) {\n      queryString.push(tokenKey + '=' + encodeURIComponent(this.options.accessToken));\n    }\n\n    return queryString;\n  }\n\n  private buildBaseQueryString(callOptions?: IEndpointCallOptions): string[] {\n    callOptions = _.extend({}, callOptions);\n    let queryString: string[] = [];\n\n    for (let name in this.options.queryStringArguments) {\n      queryString.push(name + '=' + encodeURIComponent(this.options.queryStringArguments[name]));\n    }\n\n    if (callOptions && _.isArray(callOptions.authentication) && callOptions.authentication.length != 0) {\n      queryString.push('authentication=' + callOptions.authentication.join(','))\n    }\n\n    return queryString;\n  }\n\n  private buildCompleteQueryString(query?: string, queryObject?: IQuery): string[] {\n    // In an ideal parallel reality, the entire query used in the 'search' call is used here.\n    // In this reality however, we must support GET calls (ex: GET /html) for CORS/JSONP/IE reasons.\n    // Therefore, we cherry-pick parts of the query to include in a 'query string' instead of a body payload.\n    let queryString: string[] = [];\n    if (queryObject) {\n      _.each(['q', 'aq', 'cq', 'dq', 'searchHub', 'tab', 'language', 'pipeline', 'lowercaseOperators'], (key) => {\n        if (queryObject[key]) {\n          queryString.push(key + '=' + encodeURIComponent(queryObject[key]));\n        }\n      });\n\n      _.each(queryObject.context, (value, key) => {\n        queryString.push('context[' + key + ']=' + encodeURIComponent(value));\n      });\n    } else if (query) {\n      queryString.push('q=' + encodeURIComponent(query));\n    }\n\n    return queryString;\n  }\n\n  private buildViewAsHtmlQueryString(uniqueId: string, callOptions?: IViewAsHtmlOptions): string[] {\n    callOptions = _.extend({}, callOptions);\n    let queryString: string[] = this.buildBaseQueryString(callOptions);\n    queryString.push('uniqueId=' + encodeURIComponent(uniqueId));\n\n    if (callOptions.query || callOptions.queryObject) {\n      queryString.push('enableNavigation=true');\n    }\n\n    if (callOptions.requestedOutputSize) {\n      queryString.push('requestedOutputSize=' + encodeURIComponent(callOptions.requestedOutputSize.toString()))\n    }\n\n    if (callOptions.contentType) {\n      queryString.push('contentType=' + encodeURIComponent(callOptions.contentType))\n    }\n    return queryString;\n  }\n\n  private performOneCall<T>(params: IEndpointCallParameters, callOptions?: IEndpointCallOptions, autoRenewToken = true): Promise<T> {\n    let queryString = this.buildBaseQueryString(callOptions);\n    params.queryString = params.queryString.concat(queryString);\n    params.queryString = _.uniq(params.queryString);\n\n    return this.caller.call(params)\n      .then((response?: ISuccessResponse<T>) => {\n        if (response.data && (<any>response.data).clientDuration) {\n          (<any>response.data).clientDuration = response.duration;\n        }\n        return response.data\n      }).catch((error?: IErrorResponse) => {\n        if (autoRenewToken && this.canRenewAccessToken() && this.isAccessTokenExpiredStatus(error.statusCode)) {\n          this.renewAccessToken()\n            .then(() => {\n              return this.performOneCall(params, callOptions, autoRenewToken);\n            })\n            .catch(() => {\n              return Promise.reject(this.handleErrorResponse(error));\n            })\n        } else if (error.statusCode == 0 && this.isRedirecting) {\n          // The page is getting redirected\n          // Set timeout on return with empty string, since it does not really matter\n          _.defer(function () {\n            return '';\n          });\n        } else {\n          return Promise.reject(this.handleErrorResponse(error));\n        }\n      })\n  }\n\n  private handleErrorResponse(errorResponse: IErrorResponse): Error {\n    if (this.isMissingAuthenticationProviderStatus(errorResponse.statusCode)) {\n      return new MissingAuthenticationError(errorResponse.data['provider'])\n    } else if (errorResponse.data && errorResponse.data.message) {\n      return new QueryError(errorResponse)\n    } else {\n      return new AjaxError('Request Error', errorResponse.statusCode)\n    }\n  }\n\n  private canRenewAccessToken(): boolean {\n    return Utils.isNonEmptyString(this.options.accessToken) && _.isFunction(this.options.renewAccessToken);\n  }\n\n  private renewAccessToken(): Promise<string> | Promise<any> {\n    this.logger.info('Renewing expired access token');\n    return this.options.renewAccessToken().then((token: string) => {\n      Assert.isNonEmptyString(token);\n      this.options.accessToken = token;\n      this.createEndpointCaller();\n      return token;\n    })\n      .catch((e: any) => {\n        this.logger.error('Failed to renew access token', e);\n        return e;\n      })\n  }\n\n  private removeTrailingSlash(uri: string) {\n    if (this.hasTrailingSlash(uri)) {\n      uri = uri.substr(0, uri.length - 1);\n    }\n    return uri;\n  }\n\n  private hasTrailingSlash(uri: string) {\n    return uri.charAt(uri.length - 1) == '/';\n  }\n\n  private isMissingAuthenticationProviderStatus(status: number): boolean {\n    return status == 402;\n  }\n\n  private isAccessTokenExpiredStatus(status: number): boolean {\n    return status == 419;\n  }\n}\n\n\n/**\n * It's taken for granted that methods using decorators have :\n * {@link IEndpointCallOptions} as their second to last parameter\n * {@link IEndpointCallParameters} as their last parameter\n * The default parameters for each member of the injected {@link IEndpointCallParameters} are the following:\n * url: '',\n * queryString: [],\n * requestData: {},\n * requestDataType: undefined,\n * method: '',\n * responseType: '',\n * errorsAsSuccess: false\n */\n\n/**\n * Add the base url\n * @param path The path to append to the url\n */\nfunction path(path: string) {\n  return function (target: Object, key: string, descriptor: TypedPropertyDescriptor<any>) {\n    let originalMethod = descriptor.value;\n    let nbParams = target[key].prototype.constructor.length;\n\n    descriptor.value = function (...args: any[]) {\n      let uri = this.buildBaseUri(path);\n      if (args[nbParams - 1]) {\n        args[nbParams - 1].url = uri;\n      } else {\n        let params: IEndpointCallParameters = {\n          url: uri,\n          queryString: [],\n          requestData: {},\n          method: '',\n          responseType: '',\n          errorsAsSuccess: false\n        };\n        args[nbParams - 1] = params;\n      }\n      let result = originalMethod.apply(this, args);\n      return result;\n    };\n\n    return descriptor;\n  }\n}\n\n/**\n * Add the alert url\n * @param path The path to append to the url\n */\nfunction alertsPath(path: string) {\n  return function (target: Object, key: string, descriptor: TypedPropertyDescriptor<any>) {\n    let originalMethod = descriptor.value;\n    let nbParams = target[key].prototype.constructor.length;\n\n    descriptor.value = function (...args: any[]) {\n      let uri = this.buildSearchAlertsUri(path);\n      if (args[nbParams - 1]) {\n        args[nbParams - 1].url = uri;\n      } else {\n        let params: IEndpointCallParameters = {\n          url: uri,\n          queryString: [],\n          requestData: {},\n          method: '',\n          responseType: '',\n          errorsAsSuccess: false\n        };\n        args[nbParams - 1] = params;\n      }\n      let result = originalMethod.apply(this, args);\n      return result;\n    };\n\n    return descriptor;\n  }\n}\n\n/**\n * Set the request data type\n * @param type The type to set\n */\nfunction requestDataType(type: string) {\n  return function (target: Object, key: string, descriptor: TypedPropertyDescriptor<any>) {\n    let originalMethod = descriptor.value;\n    let nbParams = target[key].prototype.constructor.length;\n\n    descriptor.value = function (...args: any[]) {\n      if (args[nbParams - 1]) {\n        args[nbParams - 1].requestDataType = type;\n      } else {\n        let params: IEndpointCallParameters = {\n          url: '',\n          queryString: [],\n          requestData: {},\n          requestDataType: type,\n          method: '',\n          responseType: '',\n          errorsAsSuccess: false\n        };\n        args[nbParams - 1] = params;\n      }\n      let result = originalMethod.apply(this, args);\n      return result;\n    };\n\n    return descriptor;\n  }\n}\n\n/**\n * Set the request data type\n * @param met The type to set\n */\nfunction method(met: string) {\n  return function (target: Object, key: string, descriptor: TypedPropertyDescriptor<any>) {\n    let originalMethod = descriptor.value;\n    let nbParams = target[key].prototype.constructor.length;\n\n    descriptor.value = function (...args: any[]) {\n      if (args[nbParams - 1]) {\n        args[nbParams - 1].method = met;\n      } else {\n        let params: IEndpointCallParameters = {\n          url: '',\n          queryString: [],\n          requestData: {},\n          method: met,\n          responseType: '',\n          errorsAsSuccess: false\n        };\n        args[nbParams - 1] = params;\n      }\n      let result = originalMethod.apply(this, args);\n      return result;\n    };\n\n    return descriptor;\n  }\n}\n\n/**\n * Set the response type\n * @param resp The response type to set\n */\nfunction responseType(resp: string) {\n  return function (target: Object, key: string, descriptor: TypedPropertyDescriptor<any>) {\n    let originalMethod = descriptor.value;\n    let nbParams = target[key].prototype.constructor.length;\n\n    descriptor.value = function (...args: any[]) {\n      if (args[nbParams - 1]) {\n        args[nbParams - 1].responseType = resp;\n      } else {\n        let params: IEndpointCallParameters = {\n          url: '',\n          queryString: [],\n          requestData: {},\n          method: '',\n          responseType: resp,\n          errorsAsSuccess: false\n        };\n        args[nbParams - 1] = params;\n      }\n      let result = originalMethod.apply(this, args);\n      return result;\n    };\n\n    return descriptor;\n  }\n}\n\n/**\n * Add the accessToken to the query string arguments\n */\nfunction accessTokenInUrl(tokenKey: string = 'access_token') {\n  return function (target: Object, key: string, descriptor: TypedPropertyDescriptor<any>) {\n    let originalMethod = descriptor.value;\n    let nbParams = target[key].prototype.constructor.length;\n\n    descriptor.value = function (...args: any[]) {\n      let queryString = this.buildAccessToken(tokenKey);\n      if (args[nbParams - 1]) {\n        args[nbParams - 1].queryString = args[nbParams - 1].queryString.concat(queryString);\n      } else {\n        let params: IEndpointCallParameters = {\n          url: '',\n          queryString: queryString,\n          requestData: {},\n          method: '',\n          responseType: '',\n          errorsAsSuccess: false\n        };\n        args[nbParams - 1] = params;\n      }\n      let result = originalMethod.apply(this, args);\n      return result;\n    };\n\n    return descriptor;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/rest/SearchEndpoint.ts\n **/","l":{"2":1,"5":1,"6":1,"10":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"27":2,"29":32,"30":32,"31":32,"37":32,"38":1,"47":33,"54":1,"61":1,"62":1,"64":0,"71":1,"85":2,"86":1,"92":1,"94":1,"103":1,"104":1,"109":1,"112":1,"113":6,"114":9,"115":1,"118":6,"121":1,"122":2,"123":2,"124":2,"138":32,"139":32,"140":32,"146":32,"147":32,"148":32,"151":32,"152":0,"154":32,"155":0,"157":32,"158":32,"159":32,"162":1,"163":0,"170":1,"171":21,"178":1,"179":4,"191":1,"193":1,"194":11,"195":11,"197":11,"199":11,"200":4,"201":7,"202":4,"204":11,"205":11,"212":1,"213":1,"224":1,"227":2,"228":2,"230":2,"232":2,"234":2,"235":1,"239":1,"240":1,"242":1,"243":1,"249":1,"250":0,"252":1,"253":1,"254":1,"266":1,"268":1,"269":6,"270":6,"272":6,"273":6,"275":6,"276":6,"279":6,"281":6,"295":1,"299":1,"300":1,"302":1,"303":1,"305":1,"307":1,"308":1,"309":1,"310":1,"322":1,"324":1,"325":5,"327":5,"328":5,"330":5,"331":5,"333":5,"334":5,"337":5,"347":1,"350":1,"351":1,"352":1,"354":1,"365":1,"368":1,"369":1,"370":1,"372":1,"374":1,"386":1,"389":1,"390":1,"392":1,"393":1,"395":1,"397":1,"408":1,"410":1,"411":7,"412":7,"414":7,"415":7,"416":7,"417":7,"420":1,"423":1,"424":0,"426":0,"428":0,"429":0,"440":1,"443":1,"444":1,"446":1,"448":1,"450":1,"452":1,"453":1,"463":1,"466":1,"467":1,"469":1,"470":1,"480":1,"483":1,"484":1,"486":1,"496":1,"499":1,"500":1,"502":1,"504":1,"505":1,"516":1,"519":1,"520":1,"522":1,"524":1,"525":1,"536":1,"539":1,"540":1,"542":1,"544":1,"554":1,"559":1,"560":1,"562":1,"564":1,"576":1,"581":2,"582":2,"583":0,"584":0,"587":2,"588":1,"590":1,"591":1,"592":1,"593":1,"598":0,"599":0,"603":2,"613":1,"618":1,"619":1,"621":1,"623":1,"625":1,"635":1,"640":1,"641":1,"643":1,"646":1,"647":0,"650":1,"651":32,"654":1,"655":32,"658":1,"659":1,"662":1,"663":0,"666":1,"667":62,"668":62,"669":62,"671":62,"672":62,"674":62,"675":62,"678":1,"679":9,"680":9,"681":9,"682":0,"684":9,"685":9,"686":9,"691":1,"692":35,"694":35,"695":33,"698":35,"701":1,"702":61,"703":61,"705":61,"706":114,"709":61,"710":0,"713":61,"716":1,"720":11,"721":11,"722":6,"723":54,"724":6,"728":6,"729":0,"731":5,"732":0,"735":11,"738":1,"739":16,"740":16,"741":16,"743":16,"744":0,"747":16,"748":0,"751":16,"752":0,"754":16,"757":32,"758":16,"759":16,"760":16,"762":16,"764":15,"765":1,"767":15,"769":1,"770":0,"772":0,"775":0,"777":1,"780":0,"781":0,"784":1,"789":1,"790":1,"791":0,"792":1,"793":0,"795":1,"799":1,"800":1,"803":1,"804":0,"805":0,"806":0,"807":0,"808":0,"809":0,"812":0,"813":0,"817":1,"818":71,"819":0,"821":71,"824":1,"825":71,"828":1,"829":1,"832":1,"833":0,"835":1,"856":1,"857":16,"858":16,"859":16,"861":104,"862":41,"863":41,"864":0,"866":41,"874":41,"876":41,"877":41,"880":16,"888":1,"889":4,"890":4,"891":4,"893":10,"894":5,"895":5,"896":0,"898":5,"906":5,"908":5,"909":5,"912":4,"920":1,"921":4,"922":4,"923":4,"925":20,"926":5,"927":5,"929":0,"938":0,"940":5,"941":5,"944":4,"952":1,"953":16,"954":16,"955":16,"957":67,"958":17,"959":17,"961":0,"969":0,"971":17,"972":17,"975":16,"983":1,"984":16,"985":16,"986":16,"988":67,"989":17,"990":17,"992":0,"1000":0,"1002":17,"1003":17,"1006":16,"1013":14,"1014":9,"1015":9,"1016":9,"1018":174,"1019":35,"1020":35,"1021":35,"1023":0,"1031":0,"1033":35,"1034":35,"1037":9}},"src/rest/EndpointCaller.ts":{"path":"src/rest/EndpointCaller.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":38}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":38}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":48}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":49}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":37}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":36}},"7":{"start":{"line":152,"column":0},"end":{"line":156,"column":1}},"8":{"start":{"line":153,"column":2},"end":{"line":153,"column":37}},"9":{"start":{"line":154,"column":2},"end":{"line":154,"column":57}},"10":{"start":{"line":155,"column":2},"end":{"line":155,"column":33}},"11":{"start":{"line":171,"column":0},"end":{"line":501,"column":1}},"12":{"start":{"line":186,"column":2},"end":{"line":188,"column":3}},"13":{"start":{"line":186,"column":14},"end":{"line":186,"column":57}},"14":{"start":{"line":186,"column":21},"end":{"line":186,"column":57}},"15":{"start":{"line":180,"column":9},"end":{"line":180,"column":26}},"16":{"start":{"line":187,"column":4},"end":{"line":187,"column":35}},"17":{"start":{"line":199,"column":9},"end":{"line":228,"column":3}},"18":{"start":{"line":200,"column":4},"end":{"line":207,"column":6}},"19":{"start":{"line":209,"column":4},"end":{"line":209,"column":62}},"20":{"start":{"line":210,"column":4},"end":{"line":210,"column":51}},"21":{"start":{"line":212,"column":4},"end":{"line":212,"column":103}},"22":{"start":{"line":214,"column":4},"end":{"line":214,"column":130}},"23":{"start":{"line":215,"column":4},"end":{"line":215,"column":51}},"24":{"start":{"line":216,"column":4},"end":{"line":216,"column":52}},"25":{"start":{"line":217,"column":4},"end":{"line":227,"column":5}},"26":{"start":{"line":218,"column":6},"end":{"line":224,"column":7}},"27":{"start":{"line":219,"column":8},"end":{"line":219,"column":78}},"28":{"start":{"line":220,"column":13},"end":{"line":224,"column":7}},"29":{"start":{"line":221,"column":8},"end":{"line":221,"column":57}},"30":{"start":{"line":223,"column":8},"end":{"line":223,"column":52}},"31":{"start":{"line":226,"column":6},"end":{"line":226,"column":50}},"32":{"start":{"line":238,"column":9},"end":{"line":329,"column":3}},"33":{"start":{"line":238,"column":2},"end":{"line":329,"column":3}},"34":{"start":{"line":238,"column":66},"end":{"line":238,"column":87}},"35":{"start":{"line":239,"column":4},"end":{"line":328,"column":6}},"36":{"start":{"line":240,"column":6},"end":{"line":240,"column":48}},"37":{"start":{"line":246,"column":6},"end":{"line":246,"column":23}},"38":{"start":{"line":248,"column":6},"end":{"line":321,"column":8}},"39":{"start":{"line":249,"column":8},"end":{"line":320,"column":9}},"40":{"start":{"line":250,"column":10},"end":{"line":250,"column":22}},"41":{"start":{"line":251,"column":10},"end":{"line":251,"column":48}},"42":{"start":{"line":254,"column":10},"end":{"line":258,"column":11}},"43":{"start":{"line":255,"column":12},"end":{"line":255,"column":99}},"44":{"start":{"line":256,"column":17},"end":{"line":258,"column":11}},"45":{"start":{"line":257,"column":12},"end":{"line":257,"column":131}},"46":{"start":{"line":260,"column":10},"end":{"line":268,"column":11}},"47":{"start":{"line":261,"column":12},"end":{"line":261,"column":34}},"48":{"start":{"line":262,"column":17},"end":{"line":268,"column":11}},"49":{"start":{"line":263,"column":12},"end":{"line":263,"column":97}},"50":{"start":{"line":264,"column":12},"end":{"line":264,"column":73}},"51":{"start":{"line":266,"column":12},"end":{"line":266,"column":114}},"52":{"start":{"line":267,"column":12},"end":{"line":267,"column":85}},"53":{"start":{"line":279,"column":15},"end":{"line":320,"column":9}},"54":{"start":{"line":280,"column":10},"end":{"line":280,"column":45}},"55":{"start":{"line":282,"column":10},"end":{"line":286,"column":11}},"56":{"start":{"line":283,"column":12},"end":{"line":283,"column":55}},"57":{"start":{"line":285,"column":12},"end":{"line":285,"column":49}},"58":{"start":{"line":287,"column":15},"end":{"line":320,"column":9}},"59":{"start":{"line":288,"column":10},"end":{"line":288,"column":45}},"60":{"start":{"line":289,"column":10},"end":{"line":289,"column":19}},"61":{"start":{"line":290,"column":10},"end":{"line":309,"column":11}},"62":{"start":{"line":292,"column":14},"end":{"line":292,"column":45}},"63":{"start":{"line":295,"column":14},"end":{"line":301,"column":15}},"64":{"start":{"line":296,"column":16},"end":{"line":300,"column":17}},"65":{"start":{"line":297,"column":18},"end":{"line":297,"column":42}},"66":{"start":{"line":302,"column":14},"end":{"line":302,"column":20}},"67":{"start":{"line":304,"column":14},"end":{"line":304,"column":126}},"68":{"start":{"line":305,"column":14},"end":{"line":305,"column":20}},"69":{"start":{"line":307,"column":14},"end":{"line":307,"column":45}},"70":{"start":{"line":308,"column":14},"end":{"line":308,"column":20}},"71":{"start":{"line":311,"column":10},"end":{"line":313,"column":11}},"72":{"start":{"line":312,"column":12},"end":{"line":312,"column":124}},"73":{"start":{"line":315,"column":10},"end":{"line":319,"column":11}},"74":{"start":{"line":316,"column":12},"end":{"line":316,"column":96}},"75":{"start":{"line":318,"column":12},"end":{"line":318,"column":79}},"76":{"start":{"line":323,"column":6},"end":{"line":323,"column":48}},"77":{"start":{"line":324,"column":6},"end":{"line":326,"column":7}},"78":{"start":{"line":325,"column":8},"end":{"line":325,"column":97}},"79":{"start":{"line":327,"column":6},"end":{"line":327,"column":107}},"80":{"start":{"line":337,"column":9},"end":{"line":376,"column":3}},"81":{"start":{"line":337,"column":2},"end":{"line":376,"column":3}},"82":{"start":{"line":338,"column":4},"end":{"line":375,"column":6}},"83":{"start":{"line":339,"column":6},"end":{"line":339,"column":59}},"84":{"start":{"line":343,"column":6},"end":{"line":345,"column":7}},"85":{"start":{"line":344,"column":8},"end":{"line":344,"column":89}},"86":{"start":{"line":347,"column":6},"end":{"line":347,"column":48}},"87":{"start":{"line":348,"column":6},"end":{"line":350,"column":7}},"88":{"start":{"line":349,"column":8},"end":{"line":349,"column":96}},"89":{"start":{"line":351,"column":6},"end":{"line":351,"column":107}},"90":{"start":{"line":353,"column":6},"end":{"line":356,"column":8}},"91":{"start":{"line":354,"column":8},"end":{"line":354,"column":102}},"92":{"start":{"line":355,"column":8},"end":{"line":355,"column":92}},"93":{"start":{"line":358,"column":6},"end":{"line":361,"column":8}},"94":{"start":{"line":359,"column":8},"end":{"line":359,"column":102}},"95":{"start":{"line":360,"column":8},"end":{"line":360,"column":55}},"96":{"start":{"line":364,"column":6},"end":{"line":364,"column":117}},"97":{"start":{"line":364,"column":39},"end":{"line":364,"column":116}},"98":{"start":{"line":365,"column":6},"end":{"line":365,"column":119}},"99":{"start":{"line":365,"column":40},"end":{"line":365,"column":118}},"100":{"start":{"line":368,"column":6},"end":{"line":374,"column":9}},"101":{"start":{"line":369,"column":8},"end":{"line":373,"column":9}},"102":{"start":{"line":370,"column":10},"end":{"line":370,"column":32}},"103":{"start":{"line":372,"column":10},"end":{"line":372,"column":83}},"104":{"start":{"line":384,"column":9},"end":{"line":402,"column":3}},"105":{"start":{"line":384,"column":2},"end":{"line":402,"column":3}},"106":{"start":{"line":385,"column":4},"end":{"line":401,"column":6}},"107":{"start":{"line":386,"column":6},"end":{"line":386,"column":111}},"108":{"start":{"line":390,"column":6},"end":{"line":392,"column":7}},"109":{"start":{"line":391,"column":8},"end":{"line":391,"column":89}},"110":{"start":{"line":394,"column":6},"end":{"line":394,"column":37}},"111":{"start":{"line":396,"column":6},"end":{"line":400,"column":9}},"112":{"start":{"line":398,"column":32},"end":{"line":398,"column":115}},"113":{"start":{"line":399,"column":21},"end":{"line":399,"column":72}},"114":{"start":{"line":404,"column":10},"end":{"line":408,"column":3}},"115":{"start":{"line":405,"column":4},"end":{"line":405,"column":48}},"116":{"start":{"line":406,"column":4},"end":{"line":406,"column":25}},"117":{"start":{"line":407,"column":4},"end":{"line":407,"column":21}},"118":{"start":{"line":410,"column":10},"end":{"line":425,"column":3}},"119":{"start":{"line":411,"column":4},"end":{"line":411,"column":24}},"120":{"start":{"line":413,"column":4},"end":{"line":413,"column":30}},"121":{"start":{"line":414,"column":4},"end":{"line":422,"column":7}},"122":{"start":{"line":415,"column":6},"end":{"line":421,"column":7}},"123":{"start":{"line":416,"column":8},"end":{"line":420,"column":9}},"124":{"start":{"line":417,"column":10},"end":{"line":417,"column":77}},"125":{"start":{"line":419,"column":10},"end":{"line":419,"column":72}},"126":{"start":{"line":424,"column":4},"end":{"line":424,"column":18}},"127":{"start":{"line":427,"column":10},"end":{"line":429,"column":3}},"128":{"start":{"line":428,"column":4},"end":{"line":428,"column":57}},"129":{"start":{"line":431,"column":10},"end":{"line":437,"column":3}},"130":{"start":{"line":432,"column":4},"end":{"line":436,"column":5}},"131":{"start":{"line":433,"column":6},"end":{"line":433,"column":66}},"132":{"start":{"line":435,"column":6},"end":{"line":435,"column":53}},"133":{"start":{"line":439,"column":10},"end":{"line":447,"column":3}},"134":{"start":{"line":440,"column":4},"end":{"line":443,"column":6}},"135":{"start":{"line":445,"column":4},"end":{"line":445,"column":68}},"136":{"start":{"line":446,"column":4},"end":{"line":446,"column":26}},"137":{"start":{"line":449,"column":10},"end":{"line":456,"column":3}},"138":{"start":{"line":450,"column":4},"end":{"line":453,"column":6}},"139":{"start":{"line":454,"column":4},"end":{"line":454,"column":72}},"140":{"start":{"line":455,"column":4},"end":{"line":455,"column":22}},"141":{"start":{"line":458,"column":10},"end":{"line":464,"column":3}},"142":{"start":{"line":459,"column":4},"end":{"line":459,"column":27}},"143":{"start":{"line":460,"column":4},"end":{"line":462,"column":5}},"144":{"start":{"line":461,"column":6},"end":{"line":461,"column":24}},"145":{"start":{"line":463,"column":4},"end":{"line":463,"column":86}},"146":{"start":{"line":466,"column":10},"end":{"line":468,"column":3}},"147":{"start":{"line":467,"column":4},"end":{"line":467,"column":38}},"148":{"start":{"line":470,"column":10},"end":{"line":472,"column":3}},"149":{"start":{"line":471,"column":4},"end":{"line":471,"column":53}},"150":{"start":{"line":474,"column":10},"end":{"line":476,"column":3}},"151":{"start":{"line":475,"column":4},"end":{"line":475,"column":59}},"152":{"start":{"line":478,"column":10},"end":{"line":492,"column":3}},"153":{"start":{"line":479,"column":4},"end":{"line":491,"column":5}},"154":{"start":{"line":480,"column":6},"end":{"line":488,"column":7}},"155":{"start":{"line":481,"column":8},"end":{"line":485,"column":9}},"156":{"start":{"line":482,"column":10},"end":{"line":482,"column":34}},"157":{"start":{"line":484,"column":10},"end":{"line":484,"column":27}},"158":{"start":{"line":487,"column":8},"end":{"line":487,"column":25}},"159":{"start":{"line":490,"column":6},"end":{"line":490,"column":18}},"160":{"start":{"line":494,"column":10},"end":{"line":500,"column":3}},"161":{"start":{"line":495,"column":4},"end":{"line":499,"column":5}},"162":{"start":{"line":496,"column":6},"end":{"line":496,"column":56}},"163":{"start":{"line":498,"column":6},"end":{"line":498,"column":19}},"164":{"start":{"line":501,"column":0},"end":{"line":501,"column":1}},"165":{"start":{"line":171,"column":13},"end":{"line":501,"column":1}}},"fnMap":{"1":{"name":"(anonymous_449)","line":152,"loc":{"start":{"line":152,"column":0},"end":{"line":152,"column":25}}},"2":{"name":"(anonymous_450)","line":171,"loc":{"start":{"line":171,"column":0},"end":{"line":null,"column":-1}}},"3":{"name":"EndpointCaller","line":186,"loc":{"start":{"line":186,"column":2},"end":{"line":186,"column":57}}},"4":{"name":"(anonymous_452)","line":199,"loc":{"start":{"line":199,"column":2},"end":{"line":199,"column":48}}},"5":{"name":"(anonymous_453)","line":238,"loc":{"start":{"line":238,"column":2},"end":{"line":238,"column":87}}},"6":{"name":"(anonymous_454)","line":239,"loc":{"start":{"line":239,"column":23},"end":{"line":239,"column":39}}},"7":{"name":"(anonymous_455)","line":248,"loc":{"start":{"line":248,"column":42},"end":{"line":248,"column":45}}},"8":{"name":"(anonymous_456)","line":337,"loc":{"start":{"line":337,"column":2},"end":{"line":337,"column":64}}},"9":{"name":"(anonymous_457)","line":338,"loc":{"start":{"line":338,"column":23},"end":{"line":338,"column":39}}},"10":{"name":"(anonymous_458)","line":353,"loc":{"start":{"line":353,"column":30},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_459)","line":358,"loc":{"start":{"line":358,"column":31},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_460)","line":364,"loc":{"start":{"line":364,"column":33},"end":{"line":364,"column":38}}},"13":{"name":"(anonymous_461)","line":365,"loc":{"start":{"line":365,"column":34},"end":{"line":365,"column":39}}},"14":{"name":"(anonymous_462)","line":368,"loc":{"start":{"line":368,"column":14},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_463)","line":384,"loc":{"start":{"line":384,"column":2},"end":{"line":384,"column":59}}},"16":{"name":"(anonymous_464)","line":385,"loc":{"start":{"line":385,"column":23},"end":{"line":385,"column":39}}},"17":{"name":"(anonymous_465)","line":398,"loc":{"start":{"line":398,"column":17},"end":{"line":398,"column":27}}},"18":{"name":"(anonymous_466)","line":399,"loc":{"start":{"line":399,"column":15},"end":{"line":399,"column":20}}},"19":{"name":"(anonymous_467)","line":404,"loc":{"start":{"line":404,"column":2},"end":{"line":404,"column":30}}},"20":{"name":"(anonymous_468)","line":410,"loc":{"start":{"line":410,"column":2},"end":{"line":410,"column":64}}},"21":{"name":"(anonymous_469)","line":414,"loc":{"start":{"line":414,"column":17},"end":{"line":414,"column":28}}},"22":{"name":"(anonymous_470)","line":427,"loc":{"start":{"line":427,"column":2},"end":{"line":427,"column":61}}},"23":{"name":"(anonymous_471)","line":431,"loc":{"start":{"line":431,"column":2},"end":{"line":431,"column":111}}},"24":{"name":"(anonymous_472)","line":439,"loc":{"start":{"line":439,"column":2},"end":{"line":439,"column":73}}},"25":{"name":"(anonymous_473)","line":449,"loc":{"start":{"line":449,"column":2},"end":{"line":449,"column":87}}},"26":{"name":"(anonymous_474)","line":458,"loc":{"start":{"line":458,"column":2},"end":{"line":458,"column":69}}},"27":{"name":"(anonymous_475)","line":466,"loc":{"start":{"line":466,"column":2},"end":{"line":null,"column":-1}}},"28":{"name":"(anonymous_476)","line":470,"loc":{"start":{"line":470,"column":2},"end":{"line":null,"column":-1}}},"29":{"name":"(anonymous_477)","line":474,"loc":{"start":{"line":474,"column":2},"end":{"line":474,"column":44}}},"30":{"name":"(anonymous_478)","line":478,"loc":{"start":{"line":478,"column":2},"end":{"line":478,"column":64}}},"31":{"name":"(anonymous_479)","line":494,"loc":{"start":{"line":494,"column":2},"end":{"line":494,"column":39}}}},"branchMap":{"1":{"line":153,"type":"binary-expr","locations":[{"start":{"line":153,"column":11},"end":{"line":153,"column":32}},{"start":{"line":153,"column":36},"end":{"line":153,"column":37}}]},"2":{"line":154,"type":"binary-expr","locations":[{"start":{"line":154,"column":21},"end":{"line":154,"column":52}},{"start":{"line":154,"column":56},"end":{"line":154,"column":57}}]},"3":{"line":155,"type":"binary-expr","locations":[{"start":{"line":155,"column":9},"end":{"line":155,"column":28}},{"start":{"line":155,"column":32},"end":{"line":155,"column":33}}]},"4":{"line":152,"type":"binary-expr","locations":[{"start":{"line":152,"column":5},"end":{"line":152,"column":25}},{"start":{"line":152,"column":5},"end":{"line":152,"column":25}}]},"5":{"line":186,"type":"if","locations":[{"start":{"line":186,"column":14},"end":{"line":186,"column":13}},{"start":{"line":186,"column":14},"end":{"line":186,"column":13}}]},"6":{"line":202,"type":"cond-expr","locations":[{"start":{"line":202,"column":44},"end":{"line":202,"column":92}},{"start":{"line":202,"column":95},"end":{"line":202,"column":113}}]},"7":{"line":204,"type":"binary-expr","locations":[{"start":{"line":204,"column":23},"end":{"line":204,"column":45}},{"start":{"line":204,"column":49},"end":{"line":204,"column":101}}]},"8":{"line":212,"type":"binary-expr","locations":[{"start":{"line":212,"column":23},"end":{"line":212,"column":70}},{"start":{"line":212,"column":76},"end":{"line":212,"column":101}}]},"9":{"line":214,"type":"cond-expr","locations":[{"start":{"line":214,"column":52},"end":{"line":214,"column":72}},{"start":{"line":214,"column":76},"end":{"line":214,"column":127}}]},"10":{"line":214,"type":"cond-expr","locations":[{"start":{"line":214,"column":115},"end":{"line":214,"column":120}},{"start":{"line":214,"column":123},"end":{"line":214,"column":127}}]},"11":{"line":216,"type":"binary-expr","locations":[{"start":{"line":216,"column":26},"end":{"line":216,"column":37}},{"start":{"line":216,"column":41},"end":{"line":216,"column":51}}]},"12":{"line":217,"type":"if","locations":[{"start":{"line":217,"column":4},"end":{"line":217,"column":3}},{"start":{"line":217,"column":4},"end":{"line":217,"column":3}}]},"13":{"line":218,"type":"if","locations":[{"start":{"line":218,"column":6},"end":{"line":218,"column":5}},{"start":{"line":218,"column":6},"end":{"line":218,"column":5}}]},"14":{"line":218,"type":"binary-expr","locations":[{"start":{"line":218,"column":10},"end":{"line":218,"column":32}},{"start":{"line":218,"column":36},"end":{"line":218,"column":50}}]},"15":{"line":220,"type":"if","locations":[{"start":{"line":220,"column":13},"end":{"line":220,"column":12}},{"start":{"line":220,"column":13},"end":{"line":220,"column":12}}]},"16":{"line":238,"type":"if","locations":[{"start":{"line":238,"column":66},"end":{"line":238,"column":65}},{"start":{"line":238,"column":66},"end":{"line":238,"column":65}}]},"17":{"line":249,"type":"if","locations":[{"start":{"line":249,"column":8},"end":{"line":249,"column":7}},{"start":{"line":249,"column":8},"end":{"line":249,"column":7}}]},"18":{"line":249,"type":"binary-expr","locations":[{"start":{"line":249,"column":12},"end":{"line":249,"column":68}},{"start":{"line":249,"column":72},"end":{"line":249,"column":77}}]},"19":{"line":254,"type":"if","locations":[{"start":{"line":254,"column":10},"end":{"line":254,"column":9}},{"start":{"line":254,"column":10},"end":{"line":254,"column":9}}]},"20":{"line":256,"type":"if","locations":[{"start":{"line":256,"column":17},"end":{"line":256,"column":16}},{"start":{"line":256,"column":17},"end":{"line":256,"column":16}}]},"21":{"line":256,"type":"binary-expr","locations":[{"start":{"line":256,"column":21},"end":{"line":256,"column":42}},{"start":{"line":256,"column":46},"end":{"line":256,"column":67}}]},"22":{"line":260,"type":"if","locations":[{"start":{"line":260,"column":10},"end":{"line":260,"column":9}},{"start":{"line":260,"column":10},"end":{"line":260,"column":9}}]},"23":{"line":262,"type":"if","locations":[{"start":{"line":262,"column":17},"end":{"line":262,"column":16}},{"start":{"line":262,"column":17},"end":{"line":262,"column":16}}]},"24":{"line":279,"type":"if","locations":[{"start":{"line":279,"column":15},"end":{"line":279,"column":14}},{"start":{"line":279,"column":15},"end":{"line":279,"column":14}}]},"25":{"line":282,"type":"if","locations":[{"start":{"line":282,"column":10},"end":{"line":282,"column":9}},{"start":{"line":282,"column":10},"end":{"line":282,"column":9}}]},"26":{"line":287,"type":"if","locations":[{"start":{"line":287,"column":15},"end":{"line":287,"column":14}},{"start":{"line":287,"column":15},"end":{"line":287,"column":14}}]},"27":{"line":291,"type":"switch","locations":[{"start":{"line":291,"column":12},"end":{"line":302,"column":20}},{"start":{"line":303,"column":12},"end":{"line":305,"column":20}},{"start":{"line":306,"column":12},"end":{"line":308,"column":20}}]},"28":{"line":295,"type":"if","locations":[{"start":{"line":295,"column":14},"end":{"line":295,"column":13}},{"start":{"line":295,"column":14},"end":{"line":295,"column":13}}]},"29":{"line":295,"type":"binary-expr","locations":[{"start":{"line":295,"column":18},"end":{"line":295,"column":40}},{"start":{"line":295,"column":44},"end":{"line":295,"column":79}}]},"30":{"line":311,"type":"if","locations":[{"start":{"line":311,"column":10},"end":{"line":311,"column":9}},{"start":{"line":311,"column":10},"end":{"line":311,"column":9}}]},"31":{"line":315,"type":"if","locations":[{"start":{"line":315,"column":10},"end":{"line":315,"column":9}},{"start":{"line":315,"column":10},"end":{"line":315,"column":9}}]},"32":{"line":324,"type":"if","locations":[{"start":{"line":324,"column":6},"end":{"line":324,"column":5}},{"start":{"line":324,"column":6},"end":{"line":324,"column":5}}]},"33":{"line":343,"type":"if","locations":[{"start":{"line":343,"column":6},"end":{"line":343,"column":5}},{"start":{"line":343,"column":6},"end":{"line":343,"column":5}}]},"34":{"line":348,"type":"if","locations":[{"start":{"line":348,"column":6},"end":{"line":348,"column":5}},{"start":{"line":348,"column":6},"end":{"line":348,"column":5}}]},"35":{"line":369,"type":"if","locations":[{"start":{"line":369,"column":8},"end":{"line":369,"column":7}},{"start":{"line":369,"column":8},"end":{"line":369,"column":7}}]},"36":{"line":390,"type":"if","locations":[{"start":{"line":390,"column":6},"end":{"line":390,"column":5}},{"start":{"line":390,"column":6},"end":{"line":390,"column":5}}]},"37":{"line":415,"type":"if","locations":[{"start":{"line":415,"column":6},"end":{"line":415,"column":5}},{"start":{"line":415,"column":6},"end":{"line":415,"column":5}}]},"38":{"line":416,"type":"if","locations":[{"start":{"line":416,"column":8},"end":{"line":416,"column":7}},{"start":{"line":416,"column":8},"end":{"line":416,"column":7}}]},"39":{"line":432,"type":"if","locations":[{"start":{"line":432,"column":4},"end":{"line":432,"column":3}},{"start":{"line":432,"column":4},"end":{"line":432,"column":3}}]},"40":{"line":460,"type":"if","locations":[{"start":{"line":460,"column":4},"end":{"line":460,"column":3}},{"start":{"line":460,"column":4},"end":{"line":460,"column":3}}]},"41":{"line":463,"type":"cond-expr","locations":[{"start":{"line":463,"column":43},"end":{"line":463,"column":79}},{"start":{"line":463,"column":82},"end":{"line":463,"column":84}}]},"42":{"line":475,"type":"binary-expr","locations":[{"start":{"line":475,"column":11},"end":{"line":475,"column":24}},{"start":{"line":475,"column":28},"end":{"line":475,"column":40}},{"start":{"line":475,"column":44},"end":{"line":475,"column":58}}]},"43":{"line":479,"type":"if","locations":[{"start":{"line":479,"column":4},"end":{"line":479,"column":3}},{"start":{"line":479,"column":4},"end":{"line":479,"column":3}}]},"44":{"line":479,"type":"binary-expr","locations":[{"start":{"line":479,"column":8},"end":{"line":479,"column":27}},{"start":{"line":479,"column":31},"end":{"line":479,"column":76}}]},"45":{"line":480,"type":"if","locations":[{"start":{"line":480,"column":6},"end":{"line":480,"column":5}},{"start":{"line":480,"column":6},"end":{"line":480,"column":5}}]},"46":{"line":495,"type":"if","locations":[{"start":{"line":495,"column":4},"end":{"line":495,"column":3}},{"start":{"line":495,"column":4},"end":{"line":495,"column":3}}]},"47":{"line":495,"type":"binary-expr","locations":[{"start":{"line":495,"column":8},"end":{"line":495,"column":12}},{"start":{"line":495,"column":16},"end":{"line":495,"column":31}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":2,"8":1,"9":1,"10":1,"11":1,"12":1,"13":82,"14":74,"15":74,"16":74,"17":1,"18":34,"19":34,"20":34,"21":34,"22":34,"23":34,"24":34,"25":34,"26":34,"27":34,"28":0,"29":0,"30":0,"31":0,"32":1,"33":34,"34":34,"35":34,"36":34,"37":34,"38":34,"39":86,"40":34,"41":34,"42":34,"43":23,"44":11,"45":1,"46":34,"47":11,"48":23,"49":7,"50":7,"51":16,"52":16,"53":52,"54":26,"55":26,"56":24,"57":2,"58":26,"59":26,"60":26,"61":26,"62":4,"63":4,"64":0,"65":0,"66":4,"67":20,"68":20,"69":2,"70":2,"71":26,"72":4,"73":26,"74":24,"75":2,"76":34,"77":34,"78":11,"79":34,"80":1,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":1,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":1,"115":34,"116":34,"117":34,"118":1,"119":27,"120":27,"121":27,"122":118,"123":65,"124":6,"125":59,"126":27,"127":1,"128":16,"129":1,"130":24,"131":1,"132":23,"133":1,"134":23,"135":23,"136":23,"137":1,"138":3,"139":3,"140":3,"141":1,"142":34,"143":34,"144":4,"145":34,"146":1,"147":0,"148":1,"149":34,"150":1,"151":53,"152":1,"153":24,"154":22,"155":14,"156":14,"157":0,"158":8,"159":2,"160":1,"161":24,"162":1,"163":23,"164":1,"165":1},"b":{"1":[1,0],"2":[1,0],"3":[1,0],"4":[1,1],"5":[8,66],"6":[0,34],"7":[34,26],"8":[34,0],"9":[34,0],"10":[0,0],"11":[34,34],"12":[34,0],"13":[34,0],"14":[34,0],"15":[0,0],"16":[0,34],"17":[34,52],"18":[86,34],"19":[23,11],"20":[1,10],"21":[11,1],"22":[11,23],"23":[7,16],"24":[26,26],"25":[24,2],"26":[26,0],"27":[4,20,2],"28":[0,4],"29":[4,4],"30":[4,22],"31":[24,2],"32":[11,23],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[65,53],"38":[6,59],"39":[1,23],"40":[4,30],"41":[24,10],"42":[53,53,5],"43":[22,2],"44":[24,24],"45":[14,8],"46":[1,23],"47":[24,22]},"f":{"1":1,"2":1,"3":74,"4":34,"5":34,"6":34,"7":86,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":34,"20":27,"21":118,"22":16,"23":24,"24":23,"25":3,"26":34,"27":0,"28":34,"29":53,"30":24,"31":24},"code":"import {IStringMap} from '../rest/GenericParam';\nimport {Logger} from '../misc/Logger';\nimport {Assert} from '../misc/Assert';\nimport {TimeSpan} from '../utils/TimeSpanUtils';\nimport {DeviceUtils} from '../utils/DeviceUtils';\nimport {Utils} from '../utils/Utils';\nimport {Promise} from 'es6-promise';\n\ndeclare var XDomainRequest;\n\n/**\n * Parameters that can be used when calling an {@link EndpointCaller}\n */\nexport interface IEndpointCallParameters {\n  /**\n   * Url to target\n   */\n  url: string;\n  /**\n   * Array of query string params.<br/>\n   * eg: ['foo=1','bar=2']\n   */\n  queryString: string[];\n  /**\n   * Body of the request.<br/>\n   * key -> value map (JSON)\n   */\n  requestData: IStringMap<any>;\n  /**\n   * Request data type.<br/>\n   * eg: \"application/json\", \"application/x-www-form-urlencoded; charset=\\\"UTF-8\\\"\"\n   */\n  requestDataType?: string;\n  /**\n   * Or HTTP verb : GET, POST, PUT, etc.\n   */\n  method: string;\n  /**\n   * responseType of the request.</br>\n   * eg: \"text\", \"arraybuffer\" etc.\n   */\n  responseType: string;\n  /**\n   * Flag to specify if the endpoint should return different type of error as actual 200 success for the browser, but with the error code/message contained in the response.\n   */\n  errorsAsSuccess: boolean;\n}\n\n/**\n * Information about a request\n */\nexport interface IRequestInfo<T> {\n  /**\n   * Url that was requested\n   */\n  url: string;\n  /**\n   * The query string parameters that were used for this request\n   */\n  queryString: string[];\n  /**\n   * The data that was sent for this request\n   */\n  requestData: IStringMap<any>;\n  /**\n   * The requestDataType that was used for this request\n   */\n  requestDataType: string;\n  /**\n   * The timestamp at which the request started\n   */\n  begun: Date;\n  /**\n   * The method that was used for this request\n   */\n  method: string;\n}\n\n/**\n * A generic response\n */\nexport interface IResponse<T> {\n  /**\n   * Data of the response\n   */\n  data?: T;\n}\n\n/**\n * A generic success response\n */\nexport interface ISuccessResponse<T> extends IResponse<T> {\n  /**\n   * The time that the successfull response took to complete\n   */\n  duration: number;\n  /**\n   * Data of the response\n   */\n  data: T;\n}\n\n/**\n * An error response\n */\nexport interface IErrorResponse extends IResponse<IStringMap<any>> {\n  /**\n   * Status code for the error\n   */\n  statusCode: number;\n  /**\n   * Data about the error\n   */\n  data?: {\n    /**\n     * Message for the error\n     */\n    message?: string;\n    /**\n     * Type of the error\n     */\n    type?: string;\n    /**\n     * A report provided by the search api\n     */\n    executionReport?: string;\n    [key: string]: any;\n  };\n}\n\n/**\n * Possible options when creating a {@link EndpointCaller}\n */\nexport interface IEndpointCallerOptions {\n  /**\n   * The access token to use for this endpoint.\n   */\n  accessToken?: string;\n  /**\n   * The username to use to log into this endpoint. Used for basic auth.<br/>\n   * Not used if accessToken is provided.\n   */\n  username?: string;\n  /**\n   * The password to use to log into this endpoint. Used for basic auth.<br/>\n   * Not used if accessToken is provided.\n   */\n  password?: string;\n}\n\n// In ie8, XMLHttpRequest has no status property, so let's use this enum instead\nenum XMLHttpRequestStatus {\n  OPENED = XMLHttpRequest.OPENED || 1,\n  HEADERS_RECEIVED = XMLHttpRequest.HEADERS_RECEIVED || 2,\n  DONE = XMLHttpRequest.DONE || 4\n}\n\n/**\n * This class is in charge of calling an endpoint (eg: a {@link SearchEndpoint}).\n *\n * This means it's only uses to execute an XMLHttpRequest (for example), massage the response and check if there are errors.\n *\n * Will execute the call and return a Promise.\n *\n * Call using one of those options :\n *\n * * XMLHttpRequest for recent browser that support CORS, or if the endpoint is on the same origin.\n * * XDomainRequest for older IE browser that do not support CORS.\n * * Jsonp if all else fails, or is explicitly enabled.\n */\nexport class EndpointCaller {\n  public logger: Logger;\n\n  /**\n   * Set this property to true to enable Jsonp call to the endpoint.<br/>\n   * Be aware that jsonp is \"easier\" to setup endpoint wise, but has a lot of drawback and limitation for the client code.<br/>\n   * Default to false.\n   * @type {boolean}\n   */\n  public useJsonp = false;\n\n  /**\n   * Create a new EndpointCaller.\n   * @param options Specify the authentication that will be used for this endpoint. Not needed if the endpoint is public and has no authentication\n   */\n  constructor(public options: IEndpointCallerOptions = {}) {\n    this.logger = new Logger(this);\n  }\n\n  /**\n   * Generic call to the endpoint using the provided {@link IEndpointCallParameters}.<br/>\n   * Internally, will decide which method to use to call the endpoint :<br/>\n   * -- XMLHttpRequest for recent browser that support CORS, or if the endpoint is on the same origin.<br/>\n   * -- XDomainRequest for older IE browser that do not support CORS.<br/>\n   * -- Jsonp if all else fails, or is explicitly enabled.\n   * @param params The parameters to use for the call\n   * @returns {any} A promise of the given type\n   */\n  public call<T>(params: IEndpointCallParameters): Promise<ISuccessResponse<T>> {\n    var requestInfo: IRequestInfo<T> = {\n      url: params.url,\n      queryString: params.errorsAsSuccess ? params.queryString.concat(['errorsAsSuccess=1']) : params.queryString,\n      requestData: params.requestData,\n      requestDataType: params.requestDataType || 'application/x-www-form-urlencoded; charset=\"UTF-8\"',\n      begun: new Date(),\n      method: params.method\n    };\n\n    this.logger.trace('Performing REST request', requestInfo);\n    var urlObject = this.parseURL(requestInfo.url);\n    // In IE8, hostname and port return \"\" when we are on the same domain.\n    var isLocalHost = (window.location.hostname === urlObject.hostname) || (urlObject.hostname === '');\n\n    var currentPort = (window.location.port != '' ? window.location.port : (window.location.protocol == 'https:' ? '443' : '80'));\n    var isSamePort = currentPort == urlObject.port;\n    var isCrossOrigin = !(isLocalHost && isSamePort)\n    if (!this.useJsonp) {\n      if (this.isCORSSupported() || !isCrossOrigin) {\n        return this.callUsingXMLHttpRequest(requestInfo, params.responseType);\n      } else if (this.isXDomainRequestSupported()) {\n        return this.callUsingXDomainRequest(requestInfo);\n      } else {\n        return this.callUsingAjaxJsonP(requestInfo);\n      }\n    } else {\n      return this.callUsingAjaxJsonP(requestInfo);\n    }\n  }\n\n  /**\n   * Call the endpoint using XMLHttpRequest. Used internally by {@link EndpointCaller.call}.<br/>\n   * Will try internally to handle error if it can.<br/>\n   * Promise will otherwise fail with the error type.\n   * @param requestInfo The info about the request\n   * @param responseType The responseType. Default to text. https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseType\n   * @returns {Promise<T>|Promise}\n   */\n  public callUsingXMLHttpRequest<T>(requestInfo: IRequestInfo<T>, responseType = 'text'): Promise<ISuccessResponse<T>> {\n    return new Promise((resolve, reject) => {\n      var xmlHttpRequest = new XMLHttpRequest();\n\n      // Beware, most stuff must be set on the event that says the request is OPENED.\n      // Otherwise it'll bork on some browsers. Gotta love standards.\n\n      // This sent variable allowed to remove the second call of onreadystatechange with the state OPENED in IE11\n      var sent = false;\n\n      xmlHttpRequest.onreadystatechange = (ev) => {\n        if (xmlHttpRequest.readyState == XMLHttpRequestStatus.OPENED && !sent) {\n          sent = true;\n          xmlHttpRequest.withCredentials = true;\n\n          // Set authentication depending on what we're using\n          if (this.options.accessToken) {\n            xmlHttpRequest.setRequestHeader('Authorization', 'Bearer ' + this.options.accessToken);\n          } else if (this.options.username && this.options.password) {\n            xmlHttpRequest.setRequestHeader('Authorization', 'Basic ' + btoa(this.options.username + ':' + this.options.password));\n          }\n\n          if (requestInfo.method == 'GET') {\n            xmlHttpRequest.send();\n          } else if (requestInfo.requestDataType.indexOf('application/json') === 0) {\n            xmlHttpRequest.setRequestHeader('Content-Type', 'application/json; charset=\"UTF-8\"');\n            xmlHttpRequest.send(JSON.stringify(requestInfo.requestData));\n          } else {\n            xmlHttpRequest.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=\"UTF-8\"');\n            xmlHttpRequest.send(this.convertJsonToFormBody(requestInfo.requestData));\n          }\n\n          // The \"responseType\" varies if the request is a success or not.\n          // Therefore we postpone setting \"responseType\" until we know if the\n          // request is a success or not. Doing so, we avoid this potential\n          // error in Chrome:\n          //\n          //   Uncaught InvalidStateError: Failed to read the 'responseText'\n          //   property from 'XMLHttpRequest': The value is only accessible if\n          //   the object's 'responseType' is '' or 'text' (was 'document').\n          //\n        } else if (xmlHttpRequest.readyState == XMLHttpRequestStatus.HEADERS_RECEIVED) {\n          var status = xmlHttpRequest.status;\n\n          if (this.isSuccessHttpStatus(status)) {\n            xmlHttpRequest.responseType = responseType;\n          } else {\n            xmlHttpRequest.responseType = 'text';\n          }\n        } else if (xmlHttpRequest.readyState == XMLHttpRequestStatus.DONE) {\n          var status = xmlHttpRequest.status;\n          var data;\n          switch (responseType) {\n            case 'json':\n              data = xmlHttpRequest.response;\n              // Work around a bug in IE11 where responseType jsonis not supported : the response comes back as a plain string\n              // Force the json parse manually\n              if (responseType == 'json' && DeviceUtils.getDeviceName() == 'IE') {\n                try {\n                  data = JSON.parse(data);\n                } catch (e) {\n                  // Do nothing, it probably means the data was JSON already\n                }\n              }\n              break;\n            case 'text':\n              data = this.tryParseResponseText(xmlHttpRequest.responseText, xmlHttpRequest.getResponseHeader('Content-Type'));\n              break;\n            default:\n              data = xmlHttpRequest.response;\n              break;\n          }\n\n          if (data == undefined) {\n            data = this.tryParseResponseText(xmlHttpRequest.responseText, xmlHttpRequest.getResponseHeader('Content-Type'));\n          }\n\n          if (this.isSuccessHttpStatus(status)) {\n            this.handleSuccessfulResponseThatMightBeAnError(requestInfo, data, resolve, reject);\n          } else {\n            this.handleError(requestInfo, xmlHttpRequest.status, data, reject);\n          }\n        }\n      };\n\n      var queryString = requestInfo.queryString;\n      if (requestInfo.method == 'GET') {\n        queryString = queryString.concat(this.convertJsonToQueryString(requestInfo.requestData));\n      }\n      xmlHttpRequest.open(requestInfo.method, this.combineUrlAndQueryString(requestInfo.url, queryString));\n    })\n  }\n\n  /**\n   * Call the endpoint using XDomainRequest https://msdn.microsoft.com/en-us/library/cc288060(v=vs.85).aspx<br/>\n   * Used for IE8/9\n   * @param requestInfo The info about the request\n   * @returns {Promise<T>|Promise}\n   */\n  public callUsingXDomainRequest<T>(requestInfo: IRequestInfo<T>): Promise<IResponse<T>> {\n    return new Promise((resolve, reject) => {\n      var queryString = requestInfo.queryString.concat([]);\n\n      // XDomainRequest don't support including stuff in the header, so we must\n      // put the access token in the query string if we have one.\n      if (this.options.accessToken) {\n        queryString.push('access_token=' + encodeURIComponent(this.options.accessToken));\n      }\n\n      var xDomainRequest = new XDomainRequest();\n      if (requestInfo.method == 'GET') {\n        queryString = queryString.concat(this.convertJsonToQueryString(requestInfo.requestData))\n      }\n      xDomainRequest.open(requestInfo.method, this.combineUrlAndQueryString(requestInfo.url, queryString));\n\n      xDomainRequest.onload = () => {\n        var data = this.tryParseResponseText(xDomainRequest.responseText, xDomainRequest.contentType);\n        this.handleSuccessfulResponseThatMightBeAnError(requestInfo, data, resolve, reject);\n      };\n\n      xDomainRequest.onerror = () => {\n        var data = this.tryParseResponseText(xDomainRequest.responseText, xDomainRequest.contentType);\n        this.handleError(requestInfo, 0, data, reject);\n      };\n\n      // We must set those functions otherwise it will sometime fail in IE\n      xDomainRequest.ontimeout = () => this.logger.error('Request timeout', xDomainRequest, requestInfo.requestData);\n      xDomainRequest.onprogress = () => this.logger.trace('Request progress', xDomainRequest, requestInfo.requestData);\n\n      // We must open the request in a separate thread, for obscure reasons\n      _.defer(() => {\n        if (requestInfo.method == 'GET') {\n          xDomainRequest.send();\n        } else {\n          xDomainRequest.send(this.convertJsonToFormBody(requestInfo.requestData));\n        }\n      });\n    })\n  }\n\n  /**\n   * Call the endpoint using Jsonp https://en.wikipedia.org/wiki/JSONP<br/>\n   * Should be used for dev only, or for very special setup as using jsonp has a lot of drawbacks.\n   * @param requestInfo The info about the request\n   * @returns {Promise<T>|Promise}\n   */\n  public callUsingAjaxJsonP<T>(requestInfo: IRequestInfo<T>): Promise<IResponse<T>> {\n    return new Promise((resolve, reject) => {\n      var queryString = requestInfo.queryString.concat(this.convertJsonToQueryString(requestInfo.requestData));\n\n      // JSONP don't support including stuff in the header, so we must\n      // put the access token in the query string if we have one.\n      if (this.options.accessToken) {\n        queryString.push('access_token=' + encodeURIComponent(this.options.accessToken));\n      }\n\n      queryString.push('callback=?');\n\n      $['jsonp']({\n        url: this.combineUrlAndQueryString(requestInfo.url, queryString),\n        success: (data: any) => this.handleSuccessfulResponseThatMightBeAnError(requestInfo, data, resolve, reject),\n        error: () => this.handleError(requestInfo, 0, undefined, reject)\n      });\n    })\n  }\n\n  private parseURL(url: string) {\n    var urlObject = document.createElement('a');\n    urlObject.href = url;\n    return urlObject;\n  }\n\n  private convertJsonToQueryString(json: { [key: string]: any; }): string[] {\n    Assert.exists(json);\n\n    var result: string[] = [];\n    _.each(json, (value, key) => {\n      if (value != null) {\n        if (_.isObject(value)) {\n          result.push(key + '=' + encodeURIComponent(JSON.stringify(value)));\n        } else {\n          result.push(key + '=' + encodeURIComponent(value.toString()));\n        }\n      }\n    });\n\n    return result;\n  }\n\n  private convertJsonToFormBody(json: { [key: string]: any; }): string {\n    return this.convertJsonToQueryString(json).join('&');\n  }\n\n  private handleSuccessfulResponseThatMightBeAnError<T>(requestInfo: IRequestInfo<T>, data: any, success, error) {\n    if (this.isErrorResponseBody(data)) {\n      this.handleError(requestInfo, data.statusCode, data, error);\n    } else {\n      this.handleSuccess(requestInfo, data, success);\n    }\n  }\n\n  private handleSuccess<T>(requestInfo: IRequestInfo<T>, data: T, success) {\n    var querySuccess: ISuccessResponse<T> = {\n      duration: TimeSpan.fromDates(requestInfo.begun, new Date()).getMilliseconds(),\n      data: data\n    };\n\n    this.logger.trace('REST request successful', data, requestInfo);\n    success(querySuccess);\n  }\n\n  private handleError<T>(requestInfo: IRequestInfo<T>, status: number, data: any, error) {\n    var queryError: IErrorResponse = {\n      statusCode: status,\n      data: data\n    };\n    this.logger.error('REST request failed', status, data, requestInfo);\n    error(queryError);\n  }\n\n  private combineUrlAndQueryString(url: String, queryString: string[]): string {\n    var questionMark = '?';\n    if (url.match(/\\?$/)) {\n      questionMark = '';\n    }\n    return url + (queryString.length > 0 ? questionMark + queryString.join('&') : '');\n  }\n\n  private isXDomainRequestSupported(): boolean {\n    return 'XDomainRequest' in window;\n  }\n\n  private isCORSSupported(): boolean {\n    return 'withCredentials' in new XMLHttpRequest();\n  }\n\n  private isSuccessHttpStatus(status: number): boolean {\n    return status >= 200 && status < 300 || status === 304;\n  }\n\n  private tryParseResponseText(json: string, contentType: string): any {\n    if (contentType != null && contentType.indexOf('application/json') != -1) {\n      if (Utils.isNonEmptyString(json)) {\n        try {\n          return JSON.parse(json);\n        } catch (ex) {\n          return undefined;\n        }\n      } else {\n        return undefined;\n      }\n    } else {\n      return json;\n    }\n  }\n\n  private isErrorResponseBody(data: any): boolean {\n    if (data && data.statusCode) {\n      return !this.isSuccessHttpStatus(data.statusCode);\n    } else {\n      return false;\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/rest/EndpointCaller.ts\n **/","l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"152":2,"153":1,"154":1,"155":1,"171":1,"180":74,"186":82,"187":74,"199":1,"200":34,"209":34,"210":34,"212":34,"214":34,"215":34,"216":34,"217":34,"218":34,"219":34,"220":0,"221":0,"223":0,"226":0,"238":34,"239":34,"240":34,"246":34,"248":34,"249":86,"250":34,"251":34,"254":34,"255":23,"256":11,"257":1,"260":34,"261":11,"262":23,"263":7,"264":7,"266":16,"267":16,"279":52,"280":26,"282":26,"283":24,"285":2,"287":26,"288":26,"289":26,"290":26,"292":4,"295":4,"296":0,"297":0,"302":4,"304":20,"305":20,"307":2,"308":2,"311":26,"312":4,"315":26,"316":24,"318":2,"323":34,"324":34,"325":11,"327":34,"337":1,"338":0,"339":0,"343":0,"344":0,"347":0,"348":0,"349":0,"351":0,"353":0,"354":0,"355":0,"358":0,"359":0,"360":0,"364":0,"365":0,"368":0,"369":0,"370":0,"372":0,"384":1,"385":0,"386":0,"390":0,"391":0,"394":0,"396":0,"398":0,"399":0,"404":1,"405":34,"406":34,"407":34,"410":1,"411":27,"413":27,"414":27,"415":118,"416":65,"417":6,"419":59,"424":27,"427":1,"428":16,"431":1,"432":24,"433":1,"435":23,"439":1,"440":23,"445":23,"446":23,"449":1,"450":3,"454":3,"455":3,"458":1,"459":34,"460":34,"461":4,"463":34,"466":1,"467":0,"470":1,"471":34,"474":1,"475":53,"478":1,"479":24,"480":22,"481":14,"482":14,"484":0,"487":8,"490":2,"494":1,"495":24,"496":1,"498":23,"501":1}},"src/misc/Logger.ts":{"path":"src/misc/Logger.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":45,"column":1}},"2":{"start":{"line":3,"column":2},"end":{"line":44,"column":4}},"3":{"start":{"line":48,"column":0},"end":{"line":109,"column":1}},"4":{"start":{"line":59,"column":2},"end":{"line":60,"column":3}},"5":{"start":{"line":59,"column":22},"end":{"line":59,"column":32}},"6":{"start":{"line":62,"column":2},"end":{"line":66,"column":3}},"7":{"start":{"line":62,"column":8},"end":{"line":62,"column":23}},"8":{"start":{"line":63,"column":4},"end":{"line":65,"column":5}},"9":{"start":{"line":64,"column":6},"end":{"line":64,"column":31}},"10":{"start":{"line":68,"column":2},"end":{"line":72,"column":3}},"11":{"start":{"line":68,"column":8},"end":{"line":68,"column":23}},"12":{"start":{"line":69,"column":4},"end":{"line":71,"column":5}},"13":{"start":{"line":70,"column":6},"end":{"line":70,"column":31}},"14":{"start":{"line":74,"column":2},"end":{"line":78,"column":3}},"15":{"start":{"line":74,"column":7},"end":{"line":74,"column":22}},"16":{"start":{"line":75,"column":4},"end":{"line":77,"column":5}},"17":{"start":{"line":76,"column":6},"end":{"line":76,"column":30}},"18":{"start":{"line":80,"column":2},"end":{"line":84,"column":3}},"19":{"start":{"line":80,"column":7},"end":{"line":80,"column":22}},"20":{"start":{"line":81,"column":4},"end":{"line":83,"column":5}},"21":{"start":{"line":82,"column":6},"end":{"line":82,"column":30}},"22":{"start":{"line":86,"column":2},"end":{"line":90,"column":3}},"23":{"start":{"line":86,"column":8},"end":{"line":86,"column":23}},"24":{"start":{"line":87,"column":4},"end":{"line":89,"column":5}},"25":{"start":{"line":88,"column":6},"end":{"line":88,"column":31}},"26":{"start":{"line":92,"column":10},"end":{"line":100,"column":3}},"27":{"start":{"line":93,"column":4},"end":{"line":99,"column":5}},"28":{"start":{"line":94,"column":6},"end":{"line":94,"column":53}},"29":{"start":{"line":95,"column":6},"end":{"line":98,"column":7}},"30":{"start":{"line":96,"column":8},"end":{"line":96,"column":42}},"31":{"start":{"line":97,"column":8},"end":{"line":97,"column":39}},"32":{"start":{"line":102,"column":9},"end":{"line":104,"column":3}},"33":{"start":{"line":103,"column":4},"end":{"line":103,"column":32}},"34":{"start":{"line":106,"column":9},"end":{"line":108,"column":3}},"35":{"start":{"line":107,"column":4},"end":{"line":107,"column":34}},"36":{"start":{"line":49,"column":9},"end":{"line":49,"column":19}},"37":{"start":{"line":50,"column":9},"end":{"line":50,"column":19}},"38":{"start":{"line":51,"column":9},"end":{"line":51,"column":18}},"39":{"start":{"line":52,"column":9},"end":{"line":52,"column":18}},"40":{"start":{"line":53,"column":9},"end":{"line":53,"column":19}},"41":{"start":{"line":54,"column":9},"end":{"line":54,"column":21}},"42":{"start":{"line":56,"column":9},"end":{"line":56,"column":29}},"43":{"start":{"line":57,"column":9},"end":{"line":57,"column":31}},"44":{"start":{"line":109,"column":0},"end":{"line":109,"column":1}},"45":{"start":{"line":48,"column":13},"end":{"line":109,"column":1}}},"fnMap":{"1":{"name":"(anonymous_481)","line":4,"loc":{"start":{"line":4,"column":9},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_482)","line":6,"loc":{"start":{"line":6,"column":11},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_483)","line":8,"loc":{"start":{"line":8,"column":10},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_484)","line":10,"loc":{"start":{"line":10,"column":10},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_485)","line":12,"loc":{"start":{"line":12,"column":11},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_486)","line":14,"loc":{"start":{"line":14,"column":12},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_487)","line":16,"loc":{"start":{"line":16,"column":11},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_488)","line":18,"loc":{"start":{"line":18,"column":11},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_489)","line":20,"loc":{"start":{"line":20,"column":9},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_490)","line":22,"loc":{"start":{"line":22,"column":12},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_491)","line":24,"loc":{"start":{"line":24,"column":11},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_492)","line":26,"loc":{"start":{"line":26,"column":20},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_493)","line":28,"loc":{"start":{"line":28,"column":14},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_494)","line":30,"loc":{"start":{"line":30,"column":31},"end":{"line":30,"column":53}}},"15":{"name":"(anonymous_495)","line":32,"loc":{"start":{"line":32,"column":13},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_496)","line":34,"loc":{"start":{"line":34,"column":16},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_497)","line":36,"loc":{"start":{"line":36,"column":12},"end":{"line":null,"column":-1}}},"18":{"name":"(anonymous_498)","line":38,"loc":{"start":{"line":38,"column":10},"end":{"line":null,"column":-1}}},"19":{"name":"(anonymous_499)","line":40,"loc":{"start":{"line":40,"column":13},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_500)","line":42,"loc":{"start":{"line":42,"column":11},"end":{"line":null,"column":-1}}},"21":{"name":"(anonymous_501)","line":48,"loc":{"start":{"line":48,"column":0},"end":{"line":null,"column":-1}}},"22":{"name":"Logger","line":59,"loc":{"start":{"line":59,"column":2},"end":{"line":59,"column":32}}},"23":{"name":"(anonymous_503)","line":62,"loc":{"start":{"line":62,"column":2},"end":{"line":null,"column":-1}}},"24":{"name":"(anonymous_504)","line":68,"loc":{"start":{"line":68,"column":2},"end":{"line":null,"column":-1}}},"25":{"name":"(anonymous_505)","line":74,"loc":{"start":{"line":74,"column":2},"end":{"line":null,"column":-1}}},"26":{"name":"(anonymous_506)","line":80,"loc":{"start":{"line":80,"column":2},"end":{"line":null,"column":-1}}},"27":{"name":"(anonymous_507)","line":86,"loc":{"start":{"line":86,"column":2},"end":{"line":null,"column":-1}}},"28":{"name":"(anonymous_508)","line":92,"loc":{"start":{"line":92,"column":2},"end":{"line":92,"column":41}}},"29":{"name":"(anonymous_509)","line":102,"loc":{"start":{"line":102,"column":2},"end":{"line":null,"column":-1}}},"30":{"name":"(anonymous_510)","line":106,"loc":{"start":{"line":106,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":0},"end":{"line":2,"column":1}},{"start":{"line":2,"column":0},"end":{"line":2,"column":1}}]},"2":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":4},"end":{"line":63,"column":3}},{"start":{"line":63,"column":4},"end":{"line":63,"column":3}}]},"3":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":4},"end":{"line":69,"column":3}},{"start":{"line":69,"column":4},"end":{"line":69,"column":3}}]},"4":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":4},"end":{"line":75,"column":3}},{"start":{"line":75,"column":4},"end":{"line":75,"column":3}}]},"5":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":4},"end":{"line":81,"column":3}},{"start":{"line":81,"column":4},"end":{"line":81,"column":3}}]},"6":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":4},"end":{"line":87,"column":3}},{"start":{"line":87,"column":4},"end":{"line":87,"column":3}}]},"7":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":4},"end":{"line":93,"column":3}},{"start":{"line":93,"column":4},"end":{"line":93,"column":3}}]},"8":{"line":93,"type":"binary-expr","locations":[{"start":{"line":93,"column":8},"end":{"line":93,"column":25}},{"start":{"line":93,"column":29},"end":{"line":93,"column":40}}]},"9":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":6},"end":{"line":95,"column":5}},{"start":{"line":95,"column":6},"end":{"line":95,"column":5}}]}},"s":{"1":1,"2":0,"3":1,"4":1,"5":2769,"6":1,"7":3119,"8":821,"9":0,"10":1,"11":937,"12":454,"13":0,"14":1,"15":745,"16":306,"17":0,"18":1,"19":78,"20":27,"21":0,"22":1,"23":117,"24":37,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1},"b":{"1":[0,1],"2":[0,821],"3":[0,454],"4":[0,306],"5":[0,27],"6":[0,37],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":2769,"23":821,"24":454,"25":306,"26":27,"27":37,"28":0,"29":0,"30":1},"code":"// Ensure that we're not going to get console is undefined error in IE8-9\nif (!window['console']) {\n  console = {\n    log: function () {\n    },\n    debug: function () {\n    },\n    info: function () {\n    },\n    warn: function () {\n    },\n    error: function () {\n    },\n    assert: function () {\n    },\n    clear: function () {\n    },\n    count: function () {\n    },\n    dir: function () {\n    },\n    dirxml: function () {\n    },\n    group: function () {\n    },\n    groupCollapsed: function () {\n    },\n    groupEnd: function () {\n    },\n    msIsIndependentlyComposed: function (element: any): any {\n    },\n    profile: function () {\n    },\n    profileEnd: function () {\n    },\n    select: function () {\n    },\n    time: function () {\n    },\n    timeEnd: function () {\n    },\n    trace: function () {\n    }\n  };\n}\n\n\nexport class Logger {\n  static TRACE = 1;\n  static DEBUG = 2;\n  static INFO = 3;\n  static WARN = 4;\n  static ERROR = 5;\n  static NOTHING = 6;\n\n  static level = Logger.INFO;\n  static executionTime = false;\n\n  constructor(private owner: any) {\n  }\n\n  trace(...stuff: any[]) {\n    if (Logger.level <= Logger.TRACE) {\n      this.log('TRACE', stuff);\n    }\n  }\n\n  debug(...stuff: any[]) {\n    if (Logger.level <= Logger.DEBUG) {\n      this.log('DEBUG', stuff);\n    }\n  }\n\n  info(...stuff: any[]) {\n    if (Logger.level <= Logger.INFO) {\n      this.log('INFO', stuff);\n    }\n  }\n\n  warn(...stuff: any[]) {\n    if (Logger.level <= Logger.WARN) {\n      this.log('WARN', stuff);\n    }\n  }\n\n  error(...stuff: any[]) {\n    if (Logger.level <= Logger.ERROR) {\n      this.log('ERROR', stuff);\n    }\n  }\n\n  private log(level: string, stuff: any[]) {\n    if (window['console'] && console.log) {\n      console.log([level, this.owner].concat(stuff));\n      if (Logger.executionTime) {\n        console.timeEnd('Execution time');\n        console.time('Execution time');\n      }\n    }\n  }\n\n  static enable() {\n    Logger.level = Logger.TRACE;\n  }\n\n  static disable() {\n    Logger.level = Logger.NOTHING;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/misc/Logger.ts\n **/","l":{"2":1,"3":0,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"56":1,"57":1,"59":2769,"62":3119,"63":821,"64":0,"68":937,"69":454,"70":0,"74":745,"75":306,"76":0,"80":78,"81":27,"82":0,"86":117,"87":37,"88":0,"92":1,"93":0,"94":0,"95":0,"96":0,"97":0,"102":1,"103":0,"106":1,"107":1,"109":1}},"src/misc/Assert.ts":{"path":"src/misc/Assert.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":38}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":37}},"3":{"start":{"line":4,"column":0},"end":{"line":88,"column":1}},"4":{"start":{"line":21,"column":9},"end":{"line":23,"column":3}},"5":{"start":{"line":22,"column":4},"end":{"line":22,"column":35}},"6":{"start":{"line":25,"column":9},"end":{"line":29,"column":3}},"7":{"start":{"line":26,"column":4},"end":{"line":28,"column":5}},"8":{"start":{"line":27,"column":6},"end":{"line":27,"column":27}},"9":{"start":{"line":31,"column":9},"end":{"line":33,"column":3}},"10":{"start":{"line":32,"column":4},"end":{"line":32,"column":71}},"11":{"start":{"line":35,"column":9},"end":{"line":37,"column":3}},"12":{"start":{"line":36,"column":4},"end":{"line":36,"column":76}},"13":{"start":{"line":39,"column":9},"end":{"line":41,"column":3}},"14":{"start":{"line":40,"column":4},"end":{"line":40,"column":61}},"15":{"start":{"line":43,"column":9},"end":{"line":45,"column":3}},"16":{"start":{"line":44,"column":4},"end":{"line":44,"column":66}},"17":{"start":{"line":47,"column":9},"end":{"line":49,"column":3}},"18":{"start":{"line":48,"column":4},"end":{"line":48,"column":89}},"19":{"start":{"line":51,"column":9},"end":{"line":53,"column":3}},"20":{"start":{"line":52,"column":4},"end":{"line":52,"column":84}},"21":{"start":{"line":55,"column":9},"end":{"line":57,"column":3}},"22":{"start":{"line":56,"column":4},"end":{"line":56,"column":63}},"23":{"start":{"line":59,"column":9},"end":{"line":63,"column":3}},"24":{"start":{"line":60,"column":4},"end":{"line":60,"column":33}},"25":{"start":{"line":61,"column":4},"end":{"line":61,"column":35}},"26":{"start":{"line":62,"column":4},"end":{"line":62,"column":78}},"27":{"start":{"line":65,"column":9},"end":{"line":67,"column":3}},"28":{"start":{"line":66,"column":4},"end":{"line":66,"column":85}},"29":{"start":{"line":69,"column":9},"end":{"line":71,"column":3}},"30":{"start":{"line":70,"column":4},"end":{"line":70,"column":63}},"31":{"start":{"line":73,"column":9},"end":{"line":75,"column":3}},"32":{"start":{"line":74,"column":4},"end":{"line":74,"column":94}},"33":{"start":{"line":77,"column":9},"end":{"line":79,"column":3}},"34":{"start":{"line":78,"column":4},"end":{"line":78,"column":104}},"35":{"start":{"line":81,"column":9},"end":{"line":83,"column":3}},"36":{"start":{"line":82,"column":4},"end":{"line":82,"column":95}},"37":{"start":{"line":85,"column":9},"end":{"line":87,"column":3}},"38":{"start":{"line":86,"column":4},"end":{"line":86,"column":105}},"39":{"start":{"line":5,"column":17},"end":{"line":5,"column":47}},"40":{"start":{"line":7,"column":9},"end":{"line":19,"column":4}},"41":{"start":{"line":8,"column":4},"end":{"line":8,"column":54}},"42":{"start":{"line":10,"column":4},"end":{"line":12,"column":5}},"43":{"start":{"line":11,"column":6},"end":{"line":11,"column":22}},"44":{"start":{"line":14,"column":4},"end":{"line":18,"column":5}},"45":{"start":{"line":15,"column":6},"end":{"line":15,"column":53}},"46":{"start":{"line":17,"column":6},"end":{"line":17,"column":65}},"47":{"start":{"line":88,"column":0},"end":{"line":88,"column":1}},"48":{"start":{"line":4,"column":13},"end":{"line":88,"column":1}},"49":{"start":{"line":90,"column":0},"end":{"line":97,"column":1}},"50":{"start":{"line":91,"column":2},"end":{"line":92,"column":3}},"51":{"start":{"line":91,"column":21},"end":{"line":91,"column":36}},"52":{"start":{"line":94,"column":2},"end":{"line":96,"column":3}},"53":{"start":{"line":95,"column":4},"end":{"line":95,"column":24}},"54":{"start":{"line":97,"column":0},"end":{"line":97,"column":1}},"55":{"start":{"line":90,"column":13},"end":{"line":97,"column":1}}},"fnMap":{"1":{"name":"(anonymous_513)","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_515)","line":21,"loc":{"start":{"line":21,"column":2},"end":{"line":21,"column":30}}},"3":{"name":"(anonymous_516)","line":25,"loc":{"start":{"line":25,"column":2},"end":{"line":25,"column":51}}},"4":{"name":"(anonymous_517)","line":31,"loc":{"start":{"line":31,"column":2},"end":{"line":31,"column":29}}},"5":{"name":"(anonymous_518)","line":35,"loc":{"start":{"line":35,"column":2},"end":{"line":35,"column":32}}},"6":{"name":"(anonymous_519)","line":39,"loc":{"start":{"line":39,"column":2},"end":{"line":39,"column":24}}},"7":{"name":"(anonymous_520)","line":43,"loc":{"start":{"line":43,"column":2},"end":{"line":43,"column":27}}},"8":{"name":"(anonymous_521)","line":47,"loc":{"start":{"line":47,"column":2},"end":{"line":47,"column":24}}},"9":{"name":"(anonymous_522)","line":51,"loc":{"start":{"line":51,"column":2},"end":{"line":51,"column":31}}},"10":{"name":"(anonymous_523)","line":55,"loc":{"start":{"line":55,"column":2},"end":{"line":55,"column":26}}},"11":{"name":"(anonymous_524)","line":59,"loc":{"start":{"line":59,"column":2},"end":{"line":59,"column":52}}},"12":{"name":"(anonymous_525)","line":65,"loc":{"start":{"line":65,"column":2},"end":{"line":65,"column":37}}},"13":{"name":"(anonymous_526)","line":69,"loc":{"start":{"line":69,"column":2},"end":{"line":69,"column":26}}},"14":{"name":"(anonymous_527)","line":73,"loc":{"start":{"line":73,"column":2},"end":{"line":73,"column":54}}},"15":{"name":"(anonymous_528)","line":77,"loc":{"start":{"line":77,"column":2},"end":{"line":77,"column":62}}},"16":{"name":"(anonymous_529)","line":81,"loc":{"start":{"line":81,"column":2},"end":{"line":81,"column":55}}},"17":{"name":"(anonymous_530)","line":85,"loc":{"start":{"line":85,"column":2},"end":{"line":85,"column":63}}},"18":{"name":"(anonymous_531)","line":7,"loc":{"start":{"line":7,"column":26},"end":{"line":7,"column":43}}},"19":{"name":"(anonymous_532)","line":90,"loc":{"start":{"line":90,"column":0},"end":{"line":null,"column":-1}}},"20":{"name":"PreconditionFailedException","line":91,"loc":{"start":{"line":91,"column":2},"end":{"line":91,"column":36}}},"21":{"name":"(anonymous_534)","line":94,"loc":{"start":{"line":94,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":4},"end":{"line":26,"column":3}},{"start":{"line":26,"column":4},"end":{"line":26,"column":3}}]},"2":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":3}},{"start":{"line":10,"column":4},"end":{"line":10,"column":3}}]},"3":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":8},"end":{"line":10,"column":25}},{"start":{"line":10,"column":29},"end":{"line":10,"column":42}}]},"4":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":14,"column":3}},{"start":{"line":14,"column":4},"end":{"line":14,"column":3}}]}},"s":{"1":1,"2":1,"3":2,"4":1,"5":27,"6":1,"7":161556,"8":26,"9":1,"10":0,"11":1,"12":280,"13":1,"14":0,"15":1,"16":272,"17":1,"18":128887,"19":1,"20":174,"21":1,"22":547,"23":1,"24":90,"25":90,"26":90,"27":1,"28":29217,"29":1,"30":8,"31":1,"32":0,"33":1,"34":196,"35":1,"36":0,"37":1,"38":0,"39":1,"40":1,"41":27,"42":27,"43":27,"44":27,"45":15,"46":12,"47":1,"48":1,"49":1,"50":1,"51":27,"52":1,"53":0,"54":1,"55":1},"b":{"1":[26,161530],"2":[27,0],"3":[27,27],"4":[15,12]},"f":{"1":1,"2":27,"3":161556,"4":0,"5":280,"6":0,"7":272,"8":128887,"9":174,"10":547,"11":90,"12":29217,"13":8,"14":0,"15":196,"16":0,"17":0,"18":27,"19":1,"20":27,"21":0},"code":"import {Logger} from '../misc/Logger';\nimport {Utils} from '../utils/Utils';\n\nexport class Assert {\n  private static logger = new Logger('Assert');\n\n  static failureHandler = (message?: string) => {\n    Assert.logger.error('Assertion Failed!', message);\n\n    if (window['console'] && console.trace) {\n      console.trace();\n    }\n\n    if (Utils.isNonEmptyString(message)) {\n      throw new PreconditionFailedException(message);\n    } else {\n      throw new PreconditionFailedException('Assertion Failed!');\n    }\n  };\n\n  static fail(message?: string) {\n    Assert.failureHandler(message);\n  }\n\n  static check(condition: boolean, message?: string) {\n    if (!condition) {\n      Assert.fail(message);\n    }\n  }\n\n  static isUndefined(obj: any) {\n    Assert.check(Utils.isUndefined(obj), 'Value should be undefined.');\n  }\n\n  static isNotUndefined(obj: any) {\n    Assert.check(!Utils.isUndefined(obj), 'Value should not be undefined.');\n  }\n\n  static isNull(obj: any) {\n    Assert.check(Utils.isNull(obj), 'Value should be null.');\n  }\n\n  static isNotNull(obj: any) {\n    Assert.check(!Utils.isNull(obj), 'Value should not be null.');\n  }\n\n  static exists(obj: any) {\n    Assert.check(!Utils.isNullOrUndefined(obj), 'Value should not be null or undefined');\n  }\n\n  static doesNotExists(obj: any) {\n    Assert.check(Utils.isNullOrUndefined(obj), 'Value should be null or undefined');\n  }\n\n  static isString(obj: any) {\n    Assert.check(_.isString(obj), 'Value should be a string.');\n  }\n\n  static stringStartsWith(str: string, start: string) {\n    Assert.isNonEmptyString(str);\n    Assert.isNonEmptyString(start);\n    Assert.check(str.indexOf(start) == 0, 'Value should start with ' + start);\n  }\n\n  static isNonEmptyString(str: string) {\n    Assert.check(Utils.isNonEmptyString(str), 'Value should be a non-empty string.');\n  }\n\n  static isNumber(obj: any) {\n    Assert.check(_.isNumber(obj), 'Value should be a number.');\n  }\n\n  static isLargerThan(expected: number, actual: number) {\n    Assert.check(actual > expected, 'Value ' + actual + ' should be larger than ' + expected);\n  }\n\n  static isLargerOrEqualsThan(expected: number, actual: number) {\n    Assert.check(actual >= expected, 'Value ' + actual + ' should be larger or equal than ' + expected);\n  }\n\n  static isSmallerThan(expected: number, actual: number) {\n    Assert.check(actual < expected, 'Value ' + actual + ' should be smaller than ' + expected);\n  }\n\n  static isSmallerOrEqualsThan(expected: number, actual: number) {\n    Assert.check(actual <= expected, 'Value ' + actual + ' should be smaller or equal than ' + expected);\n  }\n}\n\nexport class PreconditionFailedException {\n  constructor(public message: string) {\n  }\n\n  toString() {\n    return this.message;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/misc/Assert.ts\n **/","l":{"1":1,"2":1,"4":2,"5":1,"7":1,"8":27,"10":27,"11":27,"14":27,"15":15,"17":12,"21":1,"22":27,"25":1,"26":161556,"27":26,"31":1,"32":0,"35":1,"36":280,"39":1,"40":0,"43":1,"44":272,"47":1,"48":128887,"51":1,"52":174,"55":1,"56":547,"59":1,"60":90,"61":90,"62":90,"65":1,"66":29217,"69":1,"70":8,"73":1,"74":0,"77":1,"78":196,"81":1,"82":0,"85":1,"86":0,"88":1,"90":1,"91":27,"94":1,"95":0,"97":1}},"src/utils/Utils.ts":{"path":"src/utils/Utils.ts","statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":46}},"2":{"start":{"line":5,"column":0},"end":{"line":364,"column":1}},"3":{"start":{"line":6,"column":9},"end":{"line":8,"column":3}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":37}},"5":{"start":{"line":10,"column":9},"end":{"line":12,"column":3}},"6":{"start":{"line":11,"column":4},"end":{"line":11,"column":24}},"7":{"start":{"line":14,"column":9},"end":{"line":16,"column":3}},"8":{"start":{"line":15,"column":4},"end":{"line":15,"column":55}},"9":{"start":{"line":18,"column":9},"end":{"line":20,"column":3}},"10":{"start":{"line":19,"column":4},"end":{"line":19,"column":41}},"11":{"start":{"line":22,"column":9},"end":{"line":24,"column":3}},"12":{"start":{"line":23,"column":4},"end":{"line":23,"column":38}},"13":{"start":{"line":26,"column":9},"end":{"line":28,"column":3}},"14":{"start":{"line":27,"column":4},"end":{"line":27,"column":41}},"15":{"start":{"line":30,"column":9},"end":{"line":32,"column":3}},"16":{"start":{"line":31,"column":4},"end":{"line":31,"column":72}},"17":{"start":{"line":34,"column":9},"end":{"line":36,"column":3}},"18":{"start":{"line":35,"column":4},"end":{"line":35,"column":41}},"19":{"start":{"line":38,"column":9},"end":{"line":40,"column":3}},"20":{"start":{"line":39,"column":4},"end":{"line":39,"column":40}},"21":{"start":{"line":42,"column":9},"end":{"line":44,"column":3}},"22":{"start":{"line":43,"column":4},"end":{"line":43,"column":55}},"23":{"start":{"line":46,"column":9},"end":{"line":48,"column":3}},"24":{"start":{"line":47,"column":4},"end":{"line":47,"column":44}},"25":{"start":{"line":50,"column":9},"end":{"line":52,"column":3}},"26":{"start":{"line":51,"column":4},"end":{"line":51,"column":39}},"27":{"start":{"line":54,"column":9},"end":{"line":60,"column":3}},"28":{"start":{"line":55,"column":4},"end":{"line":59,"column":5}},"29":{"start":{"line":56,"column":6},"end":{"line":56,"column":40}},"30":{"start":{"line":58,"column":6},"end":{"line":58,"column":53}},"31":{"start":{"line":62,"column":9},"end":{"line":68,"column":3}},"32":{"start":{"line":63,"column":4},"end":{"line":67,"column":5}},"33":{"start":{"line":64,"column":6},"end":{"line":64,"column":31}},"34":{"start":{"line":66,"column":6},"end":{"line":66,"column":23}},"35":{"start":{"line":70,"column":9},"end":{"line":76,"column":3}},"36":{"start":{"line":71,"column":4},"end":{"line":75,"column":5}},"37":{"start":{"line":72,"column":6},"end":{"line":72,"column":29}},"38":{"start":{"line":74,"column":6},"end":{"line":74,"column":23}},"39":{"start":{"line":78,"column":9},"end":{"line":80,"column":3}},"40":{"start":{"line":79,"column":4},"end":{"line":79,"column":77}},"41":{"start":{"line":82,"column":9},"end":{"line":99,"column":3}},"42":{"start":{"line":83,"column":4},"end":{"line":98,"column":5}},"43":{"start":{"line":84,"column":6},"end":{"line":95,"column":7}},"44":{"start":{"line":88,"column":10},"end":{"line":88,"column":22}},"45":{"start":{"line":92,"column":10},"end":{"line":92,"column":23}},"46":{"start":{"line":94,"column":10},"end":{"line":94,"column":27}},"47":{"start":{"line":97,"column":6},"end":{"line":97,"column":23}},"48":{"start":{"line":101,"column":9},"end":{"line":106,"column":3}},"49":{"start":{"line":102,"column":4},"end":{"line":104,"column":5}},"50":{"start":{"line":103,"column":6},"end":{"line":103,"column":18}},"51":{"start":{"line":105,"column":4},"end":{"line":105,"column":43}},"52":{"start":{"line":108,"column":9},"end":{"line":118,"column":3}},"53":{"start":{"line":109,"column":4},"end":{"line":109,"column":17}},"54":{"start":{"line":110,"column":4},"end":{"line":116,"column":5}},"55":{"start":{"line":111,"column":6},"end":{"line":115,"column":7}},"56":{"start":{"line":112,"column":8},"end":{"line":112,"column":31}},"57":{"start":{"line":114,"column":8},"end":{"line":114,"column":64}},"58":{"start":{"line":117,"column":4},"end":{"line":117,"column":24}},"59":{"start":{"line":120,"column":9},"end":{"line":124,"column":3}},"60":{"start":{"line":121,"column":4},"end":{"line":123,"column":7}},"61":{"start":{"line":122,"column":6},"end":{"line":122,"column":38}},"62":{"start":{"line":126,"column":9},"end":{"line":135,"column":3}},"63":{"start":{"line":126,"column":50},"end":{"line":126,"column":75}},"64":{"start":{"line":127,"column":4},"end":{"line":134,"column":5}},"65":{"start":{"line":128,"column":6},"end":{"line":128,"column":39}},"66":{"start":{"line":130,"column":6},"end":{"line":130,"column":35}},"67":{"start":{"line":131,"column":6},"end":{"line":133,"column":9}},"68":{"start":{"line":132,"column":8},"end":{"line":132,"column":94}},"69":{"start":{"line":137,"column":9},"end":{"line":139,"column":3}},"70":{"start":{"line":138,"column":4},"end":{"line":138,"column":33}},"71":{"start":{"line":142,"column":9},"end":{"line":144,"column":3}},"72":{"start":{"line":143,"column":4},"end":{"line":143,"column":41}},"73":{"start":{"line":146,"column":9},"end":{"line":149,"column":3}},"74":{"start":{"line":147,"column":4},"end":{"line":147,"column":62}},"75":{"start":{"line":148,"column":4},"end":{"line":148,"column":15}},"76":{"start":{"line":151,"column":9},"end":{"line":168,"column":3}},"77":{"start":{"line":153,"column":4},"end":{"line":153,"column":29}},"78":{"start":{"line":156,"column":4},"end":{"line":166,"column":5}},"79":{"start":{"line":157,"column":6},"end":{"line":157,"column":45}},"80":{"start":{"line":158,"column":6},"end":{"line":158,"column":36}},"81":{"start":{"line":160,"column":6},"end":{"line":165,"column":7}},"82":{"start":{"line":161,"column":8},"end":{"line":161,"column":102}},"83":{"start":{"line":161,"column":66},"end":{"line":161,"column":100}},"84":{"start":{"line":162,"column":8},"end":{"line":164,"column":9}},"85":{"start":{"line":163,"column":10},"end":{"line":163,"column":38}},"86":{"start":{"line":167,"column":4},"end":{"line":167,"column":17}},"87":{"start":{"line":170,"column":9},"end":{"line":203,"column":3}},"88":{"start":{"line":173,"column":4},"end":{"line":175,"column":5}},"89":{"start":{"line":174,"column":6},"end":{"line":174,"column":23}},"90":{"start":{"line":176,"column":4},"end":{"line":176,"column":28}},"91":{"start":{"line":177,"column":4},"end":{"line":179,"column":5}},"92":{"start":{"line":178,"column":6},"end":{"line":178,"column":28}},"93":{"start":{"line":180,"column":4},"end":{"line":182,"column":5}},"94":{"start":{"line":181,"column":6},"end":{"line":181,"column":23}},"95":{"start":{"line":185,"column":4},"end":{"line":187,"column":5}},"96":{"start":{"line":186,"column":6},"end":{"line":186,"column":41}},"97":{"start":{"line":189,"column":4},"end":{"line":189,"column":42}},"98":{"start":{"line":190,"column":4},"end":{"line":190,"column":25}},"99":{"start":{"line":191,"column":4},"end":{"line":196,"column":5}},"100":{"start":{"line":192,"column":6},"end":{"line":192,"column":63}},"101":{"start":{"line":193,"column":6},"end":{"line":195,"column":7}},"102":{"start":{"line":194,"column":8},"end":{"line":194,"column":25}},"103":{"start":{"line":197,"column":4},"end":{"line":197,"column":64}},"104":{"start":{"line":199,"column":4},"end":{"line":201,"column":5}},"105":{"start":{"line":200,"column":6},"end":{"line":200,"column":61}},"106":{"start":{"line":202,"column":4},"end":{"line":202,"column":17}},"107":{"start":{"line":205,"column":9},"end":{"line":232,"column":3}},"108":{"start":{"line":205,"column":30},"end":{"line":205,"column":86}},"109":{"start":{"line":206,"column":4},"end":{"line":206,"column":15}},"110":{"start":{"line":207,"column":4},"end":{"line":207,"column":31}},"111":{"start":{"line":208,"column":4},"end":{"line":208,"column":21}},"112":{"start":{"line":209,"column":4},"end":{"line":213,"column":6}},"113":{"start":{"line":210,"column":6},"end":{"line":210,"column":70}},"114":{"start":{"line":211,"column":6},"end":{"line":211,"column":21}},"115":{"start":{"line":212,"column":6},"end":{"line":212,"column":41}},"116":{"start":{"line":214,"column":4},"end":{"line":231,"column":6}},"117":{"start":{"line":215,"column":6},"end":{"line":215,"column":37}},"118":{"start":{"line":216,"column":6},"end":{"line":218,"column":7}},"119":{"start":{"line":217,"column":8},"end":{"line":217,"column":23}},"120":{"start":{"line":219,"column":6},"end":{"line":219,"column":46}},"121":{"start":{"line":220,"column":6},"end":{"line":220,"column":21}},"122":{"start":{"line":221,"column":6},"end":{"line":221,"column":23}},"123":{"start":{"line":222,"column":6},"end":{"line":229,"column":7}},"124":{"start":{"line":223,"column":8},"end":{"line":223,"column":30}},"125":{"start":{"line":224,"column":8},"end":{"line":224,"column":23}},"126":{"start":{"line":225,"column":8},"end":{"line":225,"column":23}},"127":{"start":{"line":226,"column":8},"end":{"line":226,"column":43}},"128":{"start":{"line":227,"column":13},"end":{"line":229,"column":7}},"129":{"start":{"line":228,"column":8},"end":{"line":228,"column":47}},"130":{"start":{"line":230,"column":6},"end":{"line":230,"column":20}},"131":{"start":{"line":234,"column":9},"end":{"line":273,"column":3}},"132":{"start":{"line":235,"column":4},"end":{"line":237,"column":5}},"133":{"start":{"line":236,"column":6},"end":{"line":236,"column":18}},"134":{"start":{"line":238,"column":4},"end":{"line":238,"column":32}},"135":{"start":{"line":239,"column":4},"end":{"line":239,"column":38}},"136":{"start":{"line":240,"column":4},"end":{"line":271,"column":5}},"137":{"start":{"line":241,"column":6},"end":{"line":241,"column":27}},"138":{"start":{"line":242,"column":6},"end":{"line":242,"column":43}},"139":{"start":{"line":243,"column":6},"end":{"line":253,"column":8}},"140":{"start":{"line":244,"column":8},"end":{"line":252,"column":9}},"141":{"start":{"line":245,"column":10},"end":{"line":245,"column":30}},"142":{"start":{"line":246,"column":15},"end":{"line":252,"column":9}},"143":{"start":{"line":247,"column":10},"end":{"line":247,"column":54}},"144":{"start":{"line":249,"column":10},"end":{"line":251,"column":11}},"145":{"start":{"line":250,"column":12},"end":{"line":250,"column":31}},"146":{"start":{"line":255,"column":6},"end":{"line":259,"column":7}},"147":{"start":{"line":256,"column":8},"end":{"line":258,"column":10}},"148":{"start":{"line":257,"column":10},"end":{"line":257,"column":37}},"149":{"start":{"line":260,"column":6},"end":{"line":270,"column":8}},"150":{"start":{"line":261,"column":8},"end":{"line":269,"column":9}},"151":{"start":{"line":262,"column":10},"end":{"line":262,"column":34}},"152":{"start":{"line":264,"column":10},"end":{"line":268,"column":11}},"153":{"start":{"line":265,"column":12},"end":{"line":265,"column":36}},"154":{"start":{"line":267,"column":12},"end":{"line":267,"column":67}},"155":{"start":{"line":272,"column":4},"end":{"line":272,"column":19}},"156":{"start":{"line":275,"column":9},"end":{"line":277,"column":3}},"157":{"start":{"line":275,"column":34},"end":{"line":275,"column":70}},"158":{"start":{"line":276,"column":4},"end":{"line":276,"column":130}},"159":{"start":{"line":279,"column":9},"end":{"line":282,"column":3}},"160":{"start":{"line":280,"column":4},"end":{"line":280,"column":100}},"161":{"start":{"line":281,"column":4},"end":{"line":281,"column":28}},"162":{"start":{"line":284,"column":9},"end":{"line":304,"column":3}},"163":{"start":{"line":285,"column":4},"end":{"line":285,"column":24}},"164":{"start":{"line":286,"column":4},"end":{"line":286,"column":34}},"165":{"start":{"line":287,"column":4},"end":{"line":303,"column":5}},"166":{"start":{"line":287,"column":11},"end":{"line":303,"column":5}},"167":{"start":{"line":287,"column":21},"end":{"line":287,"column":35}},"168":{"start":{"line":288,"column":6},"end":{"line":302,"column":7}},"169":{"start":{"line":289,"column":8},"end":{"line":291,"column":17}},"170":{"start":{"line":290,"column":10},"end":{"line":290,"column":25}},"171":{"start":{"line":292,"column":8},"end":{"line":295,"column":11}},"172":{"start":{"line":293,"column":10},"end":{"line":293,"column":33}},"173":{"start":{"line":294,"column":10},"end":{"line":294,"column":35}},"174":{"start":{"line":296,"column":13},"end":{"line":302,"column":7}},"175":{"start":{"line":297,"column":8},"end":{"line":297,"column":30}},"176":{"start":{"line":298,"column":8},"end":{"line":301,"column":17}},"177":{"start":{"line":299,"column":10},"end":{"line":299,"column":33}},"178":{"start":{"line":300,"column":10},"end":{"line":300,"column":25}},"179":{"start":{"line":306,"column":9},"end":{"line":319,"column":3}},"180":{"start":{"line":307,"column":4},"end":{"line":307,"column":28}},"181":{"start":{"line":308,"column":4},"end":{"line":308,"column":40}},"182":{"start":{"line":309,"column":4},"end":{"line":317,"column":5}},"183":{"start":{"line":310,"column":6},"end":{"line":310,"column":20}},"184":{"start":{"line":311,"column":6},"end":{"line":313,"column":7}},"185":{"start":{"line":312,"column":8},"end":{"line":312,"column":37}},"186":{"start":{"line":314,"column":6},"end":{"line":316,"column":7}},"187":{"start":{"line":315,"column":8},"end":{"line":315,"column":52}},"188":{"start":{"line":318,"column":4},"end":{"line":318,"column":16}},"189":{"start":{"line":321,"column":9},"end":{"line":323,"column":3}},"190":{"start":{"line":322,"column":4},"end":{"line":322,"column":87}},"191":{"start":{"line":322,"column":54},"end":{"line":322,"column":85}},"192":{"start":{"line":326,"column":9},"end":{"line":337,"column":3}},"193":{"start":{"line":327,"column":4},"end":{"line":336,"column":5}},"194":{"start":{"line":328,"column":6},"end":{"line":328,"column":64}},"195":{"start":{"line":329,"column":11},"end":{"line":336,"column":5}},"196":{"start":{"line":330,"column":6},"end":{"line":330,"column":57}},"197":{"start":{"line":331,"column":6},"end":{"line":331,"column":29}},"198":{"start":{"line":332,"column":6},"end":{"line":332,"column":26}},"199":{"start":{"line":333,"column":6},"end":{"line":333,"column":20}},"200":{"start":{"line":335,"column":6},"end":{"line":335,"column":45}},"201":{"start":{"line":339,"column":9},"end":{"line":349,"column":3}},"202":{"start":{"line":339,"column":2},"end":{"line":349,"column":3}},"203":{"start":{"line":340,"column":4},"end":{"line":348,"column":6}},"204":{"start":{"line":341,"column":6},"end":{"line":347,"column":7}},"205":{"start":{"line":342,"column":8},"end":{"line":342,"column":30}},"206":{"start":{"line":343,"column":13},"end":{"line":347,"column":7}},"207":{"start":{"line":344,"column":8},"end":{"line":344,"column":30}},"208":{"start":{"line":346,"column":8},"end":{"line":346,"column":46}},"209":{"start":{"line":351,"column":9},"end":{"line":363,"column":3}},"210":{"start":{"line":351,"column":2},"end":{"line":363,"column":3}},"211":{"start":{"line":352,"column":4},"end":{"line":362,"column":6}},"212":{"start":{"line":353,"column":6},"end":{"line":361,"column":7}},"213":{"start":{"line":354,"column":8},"end":{"line":360,"column":9}},"214":{"start":{"line":355,"column":10},"end":{"line":355,"column":32}},"215":{"start":{"line":356,"column":15},"end":{"line":360,"column":9}},"216":{"start":{"line":357,"column":10},"end":{"line":357,"column":32}},"217":{"start":{"line":359,"column":10},"end":{"line":359,"column":48}},"218":{"start":{"line":364,"column":0},"end":{"line":364,"column":1}},"219":{"start":{"line":5,"column":13},"end":{"line":364,"column":1}}},"fnMap":{"1":{"name":"(anonymous_537)","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_539)","line":6,"loc":{"start":{"line":6,"column":2},"end":{"line":6,"column":29}}},"3":{"name":"(anonymous_540)","line":10,"loc":{"start":{"line":10,"column":2},"end":{"line":10,"column":24}}},"4":{"name":"(anonymous_541)","line":14,"loc":{"start":{"line":14,"column":2},"end":{"line":14,"column":35}}},"5":{"name":"(anonymous_542)","line":18,"loc":{"start":{"line":18,"column":2},"end":{"line":18,"column":24}}},"6":{"name":"(anonymous_543)","line":22,"loc":{"start":{"line":22,"column":2},"end":{"line":22,"column":36}}},"7":{"name":"(anonymous_544)","line":26,"loc":{"start":{"line":26,"column":2},"end":{"line":26,"column":35}}},"8":{"name":"(anonymous_545)","line":30,"loc":{"start":{"line":30,"column":2},"end":{"line":30,"column":40}}},"9":{"name":"(anonymous_546)","line":34,"loc":{"start":{"line":34,"column":2},"end":{"line":34,"column":37}}},"10":{"name":"(anonymous_547)","line":38,"loc":{"start":{"line":38,"column":2},"end":{"line":38,"column":34}}},"11":{"name":"(anonymous_548)","line":42,"loc":{"start":{"line":42,"column":2},"end":{"line":42,"column":56}}},"12":{"name":"(anonymous_549)","line":46,"loc":{"start":{"line":46,"column":2},"end":{"line":46,"column":33}}},"13":{"name":"(anonymous_550)","line":50,"loc":{"start":{"line":50,"column":2},"end":{"line":50,"column":30}}},"14":{"name":"(anonymous_551)","line":54,"loc":{"start":{"line":54,"column":2},"end":{"line":54,"column":31}}},"15":{"name":"(anonymous_552)","line":62,"loc":{"start":{"line":62,"column":2},"end":{"line":62,"column":43}}},"16":{"name":"(anonymous_553)","line":70,"loc":{"start":{"line":70,"column":2},"end":{"line":70,"column":45}}},"17":{"name":"(anonymous_554)","line":78,"loc":{"start":{"line":78,"column":2},"end":{"line":78,"column":44}}},"18":{"name":"(anonymous_555)","line":82,"loc":{"start":{"line":82,"column":2},"end":{"line":82,"column":47}}},"19":{"name":"(anonymous_556)","line":101,"loc":{"start":{"line":101,"column":2},"end":{"line":101,"column":27}}},"20":{"name":"(anonymous_557)","line":108,"loc":{"start":{"line":108,"column":2},"end":{"line":108,"column":42}}},"21":{"name":"(anonymous_558)","line":120,"loc":{"start":{"line":120,"column":2},"end":{"line":120,"column":45}}},"22":{"name":"(anonymous_559)","line":121,"loc":{"start":{"line":121,"column":42},"end":{"line":121,"column":62}}},"23":{"name":"(anonymous_560)","line":126,"loc":{"start":{"line":126,"column":2},"end":{"line":126,"column":75}}},"24":{"name":"(anonymous_561)","line":131,"loc":{"start":{"line":131,"column":27},"end":{"line":131,"column":40}}},"25":{"name":"(anonymous_562)","line":137,"loc":{"start":{"line":137,"column":2},"end":{"line":137,"column":47}}},"26":{"name":"(anonymous_563)","line":142,"loc":{"start":{"line":142,"column":2},"end":{"line":142,"column":35}}},"27":{"name":"(anonymous_564)","line":146,"loc":{"start":{"line":146,"column":2},"end":{"line":146,"column":41}}},"28":{"name":"(anonymous_565)","line":151,"loc":{"start":{"line":151,"column":2},"end":{"line":151,"column":60}}},"29":{"name":"(anonymous_566)","line":161,"loc":{"start":{"line":161,"column":49},"end":{"line":161,"column":61}}},"30":{"name":"(anonymous_567)","line":170,"loc":{"start":{"line":170,"column":2},"end":{"line":170,"column":57}}},"31":{"name":"(anonymous_568)","line":205,"loc":{"start":{"line":205,"column":2},"end":{"line":205,"column":103}}},"32":{"name":"(anonymous_569)","line":209,"loc":{"start":{"line":209,"column":16},"end":{"line":null,"column":-1}}},"33":{"name":"(anonymous_570)","line":214,"loc":{"start":{"line":214,"column":11},"end":{"line":null,"column":-1}}},"34":{"name":"(anonymous_571)","line":234,"loc":{"start":{"line":234,"column":2},"end":{"line":234,"column":31}}},"35":{"name":"(anonymous_572)","line":243,"loc":{"start":{"line":243,"column":18},"end":{"line":243,"column":28}}},"36":{"name":"(anonymous_573)","line":256,"loc":{"start":{"line":256,"column":31},"end":{"line":256,"column":35}}},"37":{"name":"(anonymous_574)","line":260,"loc":{"start":{"line":260,"column":26},"end":{"line":260,"column":30}}},"38":{"name":"(anonymous_575)","line":275,"loc":{"start":{"line":275,"column":2},"end":{"line":275,"column":70}}},"39":{"name":"(anonymous_576)","line":279,"loc":{"start":{"line":279,"column":2},"end":{"line":279,"column":31}}},"40":{"name":"(anonymous_577)","line":284,"loc":{"start":{"line":284,"column":2},"end":{"line":284,"column":46}}},"41":{"name":"(anonymous_578)","line":287,"loc":{"start":{"line":287,"column":11},"end":{"line":null,"column":-1}}},"42":{"name":"(anonymous_579)","line":289,"loc":{"start":{"line":289,"column":29},"end":{"line":null,"column":-1}}},"43":{"name":"(anonymous_580)","line":292,"loc":{"start":{"line":292,"column":39},"end":{"line":null,"column":-1}}},"44":{"name":"(anonymous_581)","line":298,"loc":{"start":{"line":298,"column":29},"end":{"line":null,"column":-1}}},"45":{"name":"(anonymous_582)","line":306,"loc":{"start":{"line":306,"column":2},"end":{"line":306,"column":32}}},"46":{"name":"(anonymous_583)","line":321,"loc":{"start":{"line":321,"column":2},"end":{"line":321,"column":38}}},"47":{"name":"(anonymous_584)","line":322,"loc":{"start":{"line":322,"column":47},"end":{"line":322,"column":49}}},"48":{"name":"(anonymous_585)","line":326,"loc":{"start":{"line":326,"column":2},"end":{"line":326,"column":29}}},"49":{"name":"(anonymous_586)","line":339,"loc":{"start":{"line":339,"column":2},"end":{"line":339,"column":40}}},"50":{"name":"(anonymous_587)","line":340,"loc":{"start":{"line":340,"column":24},"end":{"line":340,"column":27}}},"51":{"name":"(anonymous_588)","line":351,"loc":{"start":{"line":351,"column":2},"end":{"line":351,"column":72}}},"52":{"name":"(anonymous_589)","line":352,"loc":{"start":{"line":352,"column":24},"end":{"line":352,"column":27}}}},"branchMap":{"1":{"line":15,"type":"binary-expr","locations":[{"start":{"line":15,"column":11},"end":{"line":15,"column":33}},{"start":{"line":15,"column":37},"end":{"line":15,"column":54}}]},"2":{"line":23,"type":"cond-expr","locations":[{"start":{"line":23,"column":29},"end":{"line":23,"column":32}},{"start":{"line":23,"column":35},"end":{"line":23,"column":37}}]},"3":{"line":27,"type":"cond-expr","locations":[{"start":{"line":27,"column":19},"end":{"line":27,"column":35}},{"start":{"line":27,"column":38},"end":{"line":27,"column":40}}]},"4":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":11},"end":{"line":31,"column":39}},{"start":{"line":31,"column":43},"end":{"line":31,"column":71}}]},"5":{"line":35,"type":"binary-expr","locations":[{"start":{"line":35,"column":11},"end":{"line":35,"column":26}},{"start":{"line":35,"column":30},"end":{"line":35,"column":40}}]},"6":{"line":47,"type":"binary-expr","locations":[{"start":{"line":47,"column":11},"end":{"line":47,"column":25}},{"start":{"line":47,"column":29},"end":{"line":47,"column":43}}]},"7":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":4},"end":{"line":55,"column":3}},{"start":{"line":55,"column":4},"end":{"line":55,"column":3}}]},"8":{"line":58,"type":"binary-expr","locations":[{"start":{"line":58,"column":13},"end":{"line":58,"column":16}},{"start":{"line":58,"column":20},"end":{"line":58,"column":32}},{"start":{"line":58,"column":36},"end":{"line":58,"column":53}}]},"9":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":4},"end":{"line":63,"column":3}},{"start":{"line":63,"column":4},"end":{"line":63,"column":3}}]},"10":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":4},"end":{"line":71,"column":3}},{"start":{"line":71,"column":4},"end":{"line":71,"column":3}}]},"11":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":4},"end":{"line":83,"column":3}},{"start":{"line":83,"column":4},"end":{"line":83,"column":3}}]},"12":{"line":85,"type":"switch","locations":[{"start":{"line":85,"column":8},"end":{"line":85,"column":20}},{"start":{"line":86,"column":8},"end":{"line":86,"column":17}},{"start":{"line":87,"column":8},"end":{"line":88,"column":22}},{"start":{"line":89,"column":8},"end":{"line":89,"column":21}},{"start":{"line":90,"column":8},"end":{"line":90,"column":17}},{"start":{"line":91,"column":8},"end":{"line":92,"column":23}},{"start":{"line":93,"column":8},"end":{"line":94,"column":27}}]},"13":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":4},"end":{"line":102,"column":3}},{"start":{"line":102,"column":4},"end":{"line":102,"column":3}}]},"14":{"line":111,"type":"if","locations":[{"start":{"line":111,"column":6},"end":{"line":111,"column":5}},{"start":{"line":111,"column":6},"end":{"line":111,"column":5}}]},"15":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":50},"end":{"line":126,"column":49}},{"start":{"line":126,"column":50},"end":{"line":126,"column":49}}]},"16":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":4},"end":{"line":127,"column":3}},{"start":{"line":127,"column":4},"end":{"line":127,"column":3}}]},"17":{"line":132,"type":"binary-expr","locations":[{"start":{"line":132,"column":15},"end":{"line":132,"column":47}},{"start":{"line":132,"column":51},"end":{"line":132,"column":93}}]},"18":{"line":156,"type":"if","locations":[{"start":{"line":156,"column":4},"end":{"line":156,"column":3}},{"start":{"line":156,"column":4},"end":{"line":156,"column":3}}]},"19":{"line":160,"type":"if","locations":[{"start":{"line":160,"column":6},"end":{"line":160,"column":5}},{"start":{"line":160,"column":6},"end":{"line":160,"column":5}}]},"20":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":8},"end":{"line":162,"column":7}},{"start":{"line":162,"column":8},"end":{"line":162,"column":7}}]},"21":{"line":173,"type":"if","locations":[{"start":{"line":173,"column":4},"end":{"line":173,"column":3}},{"start":{"line":173,"column":4},"end":{"line":173,"column":3}}]},"22":{"line":177,"type":"if","locations":[{"start":{"line":177,"column":4},"end":{"line":177,"column":3}},{"start":{"line":177,"column":4},"end":{"line":177,"column":3}}]},"23":{"line":180,"type":"if","locations":[{"start":{"line":180,"column":4},"end":{"line":180,"column":3}},{"start":{"line":180,"column":4},"end":{"line":180,"column":3}}]},"24":{"line":185,"type":"if","locations":[{"start":{"line":185,"column":4},"end":{"line":185,"column":3}},{"start":{"line":185,"column":4},"end":{"line":185,"column":3}}]},"25":{"line":193,"type":"if","locations":[{"start":{"line":193,"column":6},"end":{"line":193,"column":5}},{"start":{"line":193,"column":6},"end":{"line":193,"column":5}}]},"26":{"line":199,"type":"if","locations":[{"start":{"line":199,"column":4},"end":{"line":199,"column":3}},{"start":{"line":199,"column":4},"end":{"line":199,"column":3}}]},"27":{"line":205,"type":"if","locations":[{"start":{"line":205,"column":30},"end":{"line":205,"column":29}},{"start":{"line":205,"column":30},"end":{"line":205,"column":29}}]},"28":{"line":210,"type":"cond-expr","locations":[{"start":{"line":210,"column":45},"end":{"line":210,"column":46}},{"start":{"line":210,"column":49},"end":{"line":210,"column":69}}]},"29":{"line":216,"type":"if","locations":[{"start":{"line":216,"column":6},"end":{"line":216,"column":5}},{"start":{"line":216,"column":6},"end":{"line":216,"column":5}}]},"30":{"line":216,"type":"binary-expr","locations":[{"start":{"line":216,"column":10},"end":{"line":216,"column":19}},{"start":{"line":216,"column":23},"end":{"line":216,"column":48}}]},"31":{"line":222,"type":"if","locations":[{"start":{"line":222,"column":6},"end":{"line":222,"column":5}},{"start":{"line":222,"column":6},"end":{"line":222,"column":5}}]},"32":{"line":227,"type":"if","locations":[{"start":{"line":227,"column":13},"end":{"line":227,"column":12}},{"start":{"line":227,"column":13},"end":{"line":227,"column":12}}]},"33":{"line":227,"type":"binary-expr","locations":[{"start":{"line":227,"column":17},"end":{"line":227,"column":25}},{"start":{"line":227,"column":29},"end":{"line":227,"column":55}}]},"34":{"line":235,"type":"if","locations":[{"start":{"line":235,"column":4},"end":{"line":235,"column":3}},{"start":{"line":235,"column":4},"end":{"line":235,"column":3}}]},"35":{"line":239,"type":"binary-expr","locations":[{"start":{"line":239,"column":19},"end":{"line":239,"column":26}},{"start":{"line":239,"column":30},"end":{"line":239,"column":32}},{"start":{"line":239,"column":36},"end":{"line":239,"column":38}}]},"36":{"line":240,"type":"if","locations":[{"start":{"line":240,"column":4},"end":{"line":240,"column":3}},{"start":{"line":240,"column":4},"end":{"line":240,"column":3}}]},"37":{"line":241,"type":"binary-expr","locations":[{"start":{"line":241,"column":15},"end":{"line":241,"column":21}},{"start":{"line":241,"column":25},"end":{"line":241,"column":27}}]},"38":{"line":244,"type":"if","locations":[{"start":{"line":244,"column":8},"end":{"line":244,"column":7}},{"start":{"line":244,"column":8},"end":{"line":244,"column":7}}]},"39":{"line":246,"type":"if","locations":[{"start":{"line":246,"column":15},"end":{"line":246,"column":14}},{"start":{"line":246,"column":15},"end":{"line":246,"column":14}}]},"40":{"line":249,"type":"if","locations":[{"start":{"line":249,"column":10},"end":{"line":249,"column":9}},{"start":{"line":249,"column":10},"end":{"line":249,"column":9}}]},"41":{"line":255,"type":"if","locations":[{"start":{"line":255,"column":6},"end":{"line":255,"column":5}},{"start":{"line":255,"column":6},"end":{"line":255,"column":5}}]},"42":{"line":255,"type":"binary-expr","locations":[{"start":{"line":255,"column":10},"end":{"line":255,"column":16}},{"start":{"line":255,"column":20},"end":{"line":255,"column":46}}]},"43":{"line":261,"type":"if","locations":[{"start":{"line":261,"column":8},"end":{"line":261,"column":7}},{"start":{"line":261,"column":8},"end":{"line":261,"column":7}}]},"44":{"line":261,"type":"binary-expr","locations":[{"start":{"line":261,"column":12},"end":{"line":261,"column":40}},{"start":{"line":261,"column":44},"end":{"line":261,"column":53}}]},"45":{"line":264,"type":"if","locations":[{"start":{"line":264,"column":10},"end":{"line":264,"column":9}},{"start":{"line":264,"column":10},"end":{"line":264,"column":9}}]},"46":{"line":275,"type":"if","locations":[{"start":{"line":275,"column":34},"end":{"line":275,"column":33}},{"start":{"line":275,"column":34},"end":{"line":275,"column":33}}]},"47":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":6},"end":{"line":288,"column":5}},{"start":{"line":288,"column":6},"end":{"line":288,"column":5}}]},"48":{"line":296,"type":"if","locations":[{"start":{"line":296,"column":13},"end":{"line":296,"column":12}},{"start":{"line":296,"column":13},"end":{"line":296,"column":12}}]},"49":{"line":314,"type":"if","locations":[{"start":{"line":314,"column":6},"end":{"line":314,"column":5}},{"start":{"line":314,"column":6},"end":{"line":314,"column":5}}]},"50":{"line":327,"type":"if","locations":[{"start":{"line":327,"column":4},"end":{"line":327,"column":3}},{"start":{"line":327,"column":4},"end":{"line":327,"column":3}}]},"51":{"line":329,"type":"if","locations":[{"start":{"line":329,"column":11},"end":{"line":329,"column":10}},{"start":{"line":329,"column":11},"end":{"line":329,"column":10}}]},"52":{"line":329,"type":"binary-expr","locations":[{"start":{"line":329,"column":15},"end":{"line":329,"column":50}},{"start":{"line":329,"column":54},"end":{"line":329,"column":91}}]},"53":{"line":341,"type":"if","locations":[{"start":{"line":341,"column":6},"end":{"line":341,"column":5}},{"start":{"line":341,"column":6},"end":{"line":341,"column":5}}]},"54":{"line":341,"type":"binary-expr","locations":[{"start":{"line":341,"column":10},"end":{"line":341,"column":38}},{"start":{"line":341,"column":42},"end":{"line":341,"column":51}}]},"55":{"line":343,"type":"if","locations":[{"start":{"line":343,"column":13},"end":{"line":343,"column":12}},{"start":{"line":343,"column":13},"end":{"line":343,"column":12}}]},"56":{"line":353,"type":"if","locations":[{"start":{"line":353,"column":6},"end":{"line":353,"column":5}},{"start":{"line":353,"column":6},"end":{"line":353,"column":5}}]},"57":{"line":354,"type":"if","locations":[{"start":{"line":354,"column":8},"end":{"line":354,"column":7}},{"start":{"line":354,"column":8},"end":{"line":354,"column":7}}]},"58":{"line":354,"type":"binary-expr","locations":[{"start":{"line":354,"column":12},"end":{"line":354,"column":40}},{"start":{"line":354,"column":44},"end":{"line":354,"column":53}}]},"59":{"line":356,"type":"if","locations":[{"start":{"line":356,"column":15},"end":{"line":356,"column":14}},{"start":{"line":356,"column":15},"end":{"line":356,"column":14}}]}},"s":{"1":1,"2":2,"3":1,"4":157043,"5":1,"6":138734,"7":1,"8":156619,"9":1,"10":5089,"11":1,"12":3,"13":1,"14":299,"15":1,"16":954,"17":1,"18":39033,"19":1,"20":101,"21":1,"22":6,"23":1,"24":779,"25":1,"26":3,"27":1,"28":1,"29":1,"30":0,"31":1,"32":3,"33":3,"34":0,"35":1,"36":1,"37":1,"38":0,"39":1,"40":0,"41":1,"42":6174,"43":4,"44":4,"45":0,"46":0,"47":6170,"48":1,"49":178,"50":0,"51":178,"52":1,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":1,"60":1,"61":0,"62":1,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":1,"70":1,"71":1,"72":161,"73":1,"74":64,"75":64,"76":1,"77":619,"78":619,"79":75,"80":75,"81":75,"82":75,"83":1377,"84":75,"85":0,"86":619,"87":1,"88":102,"89":0,"90":102,"91":102,"92":102,"93":102,"94":0,"95":102,"96":0,"97":102,"98":102,"99":102,"100":0,"101":0,"102":0,"103":102,"104":102,"105":38,"106":102,"107":1,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":1,"132":1455,"133":1447,"134":1455,"135":1455,"136":1455,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":1455,"147":1455,"148":14,"149":1455,"150":1573,"151":1569,"152":4,"153":3,"154":1,"155":1455,"156":1,"157":0,"158":0,"159":1,"160":0,"161":0,"162":1,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":1,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":1,"190":1495,"191":0,"192":1,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":1,"202":2,"203":2,"204":3,"205":2,"206":1,"207":0,"208":1,"209":1,"210":1,"211":1,"212":21,"213":1,"214":0,"215":1,"216":0,"217":1,"218":1,"219":1},"b":{"1":[156619,138462],"2":[3,0],"3":[299,0],"4":[954,298],"5":[39033,30463],"6":[779,482],"7":[1,0],"8":[0,0,0],"9":[3,0],"10":[1,0],"11":[4,6170],"12":[4,4,4,0,0,0,0],"13":[0,178],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[75,544],"19":[75,0],"20":[0,75],"21":[0,102],"22":[102,0],"23":[0,102],"24":[0,102],"25":[0,0],"26":[38,64],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[1447,8],"35":[1455,0,1455],"36":[0,1455],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[1455,0],"42":[1455,1455],"43":[1569,4],"44":[1573,4],"45":[3,1],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[2,1],"54":[3,1],"55":[0,1],"56":[1,20],"57":[0,1],"58":[1,1],"59":[0,1]},"f":{"1":1,"2":157043,"3":138734,"4":156619,"5":5089,"6":3,"7":299,"8":954,"9":39033,"10":101,"11":6,"12":779,"13":3,"14":1,"15":3,"16":1,"17":0,"18":6174,"19":178,"20":0,"21":1,"22":0,"23":0,"24":0,"25":1,"26":161,"27":64,"28":619,"29":1377,"30":102,"31":0,"32":0,"33":0,"34":1455,"35":0,"36":14,"37":1573,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":1495,"47":0,"48":0,"49":2,"50":3,"51":1,"52":21},"code":"import {IQueryResult} from '../rest/QueryResult';\n\nconst isCoveoFieldRegex = /^@[a-zA-Z0-9_\\.]+$/\n\nexport class Utils {\n  static isUndefined(obj: any): boolean {\n    return typeof obj == 'undefined';\n  }\n\n  static isNull(obj: any): boolean {\n    return obj === null;\n  }\n\n  static isNullOrUndefined(obj: any): boolean {\n    return Utils.isUndefined(obj) || Utils.isNull(obj);\n  }\n\n  static exists(obj: any): boolean {\n    return !Utils.isNullOrUndefined(obj);\n  }\n\n  static toNotNullString(str: string): string {\n    return _.isString(str) ? str : '';\n  }\n\n  static anyTypeToString(value: any): string {\n    return value ? value.toString() : '';\n  }\n\n  static isNullOrEmptyString(str: string): boolean {\n    return Utils.isNullOrUndefined(str) || !Utils.isNonEmptyString(str);\n  }\n\n  static isNonEmptyString(str: string): boolean {\n    return _.isString(str) && str !== '';\n  }\n\n  static isEmptyString(str: string): boolean {\n    return !Utils.isNonEmptyString(str);\n  }\n\n  static stringStartsWith(str: string, startWith: string): boolean {\n    return str.slice(0, startWith.length) == startWith;\n  }\n\n  static isNonEmptyArray(obj: any): boolean {\n    return _.isArray(obj) && obj.length > 0;\n  }\n\n  static isEmptyArray(obj: any): boolean {\n    return !Utils.isNonEmptyArray(obj);\n  }\n\n  static isHtmlElement(obj: any): boolean {\n    if (window['HTMLElement'] != undefined) {\n      return obj instanceof HTMLElement;\n    } else { // IE 8 FIX\n      return obj && obj.nodeType && obj.nodeType == 1\n    }\n  }\n\n  static parseIntIfNotUndefined(str: string): number {\n    if (Utils.isNonEmptyString(str)) {\n      return parseInt(str, 10);\n    } else {\n      return undefined;\n    }\n  }\n\n  static parseFloatIfNotUndefined(str: string): number {\n    if (Utils.isNonEmptyString(str)) {\n      return parseFloat(str);\n    } else {\n      return undefined;\n    }\n  }\n\n  static round(num: number, decimals: number) {\n    return Math.round(num * Math.pow(10, decimals)) / Math.pow(10, decimals);\n  }\n\n  static parseBooleanIfNotUndefined(str: string): boolean {\n    if (Utils.isNonEmptyString(str)) {\n      switch (str.toLowerCase()) {\n        case 'true':\n        case '1':\n        case 'yes':\n          return true;\n        case 'false':\n        case '0':\n        case 'no':\n          return false;\n        default:\n          return undefined;\n      }\n    } else {\n      return undefined;\n    }\n  }\n\n  static trim(value: string): string {\n    if (value == null) {\n      return null;\n    }\n    return value.replace(/^\\s+|\\s+$/g, '');\n  }\n\n  static encodeHTMLEntities(rawStr: string) {\n    let ret = [];\n    for (let i = rawStr.length - 1; i >= 0; i--) {\n      if (/^[a-z0-9]/i.test(rawStr[i])) {\n        ret.unshift(rawStr[i]);\n      } else {\n        ret.unshift(['&#', rawStr.charCodeAt(i), ';'].join(''));\n      }\n    }\n    return ret.join('');\n  }\n\n  static decodeHTMLEntities(rawString: string) {\n    return rawString.replace(/&#(\\d+);/g, function (match, dec) {\n      return String.fromCharCode(dec);\n    });\n  }\n\n  static arrayEqual(array1: any[], array2: any[], sameOrder: boolean = true): boolean {\n    if (sameOrder) {\n      return _.isEqual(array1, array2);\n    } else {\n      let arrays = [array1, array2]\n      return _.all(arrays, (array: any[]) => {\n        return array.length == arrays[0].length && _.difference(array, arrays[0]).length == 0;\n      });\n    }\n  }\n\n  static objectEqual(obj1: Object, obj2: Object): boolean {\n    return _.isEqual(obj1, obj2);\n  }\n\n\n  static isCoveoField(field: string): boolean {\n    return isCoveoFieldRegex.test(field);\n  }\n\n  static escapeRegexCharacter(str: string) {\n    let ret = str.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n    return ret;\n  }\n\n  static getCaseInsensitiveProperty(object: {}, name: string): any {\n    // First try using a fast case-sensitive lookup\n    let value = object[name];\n\n    // Then try a fast case-sensitive lookup with lowercase name\n    if (value == null) {\n      let lowerCaseName = name.toLowerCase();\n      value = object[lowerCaseName];\n      // Then try a slow scanning of all the properties\n      if (value == null) {\n        let matchingKey = _.find(_.keys(object), (key: string) => key.toLowerCase() == lowerCaseName);\n        if (matchingKey != null) {\n          value = object[matchingKey];\n        }\n      }\n    }\n    return value;\n  }\n\n  static getFieldValue(result: IQueryResult, name: string): any {\n    // Be as forgiving as possible about the field name, since we expect\n    // user provided values.\n    if (name == null) {\n      return undefined;\n    }\n    name = Utils.trim(name);\n    if (name[0] == '@') {\n      name = name.substr(1);\n    }\n    if (name == '') {\n      return undefined;\n    }\n\n    // At this point the name should be well formed\n    if (!Utils.isCoveoField('@' + name)) {\n      throw `Not a valid field : ${name}`\n    }\n    // Handle namespace field values of the form sf.Foo.Bar\n    let parts = name.split('.').reverse();\n    let obj = result.raw;\n    while (parts.length > 1) {\n      obj = Utils.getCaseInsensitiveProperty(obj, parts.pop());\n      if (Utils.isUndefined(obj)) {\n        return undefined;\n      }\n    }\n    let value = Utils.getCaseInsensitiveProperty(obj, parts[0]);\n    // If still nothing, look at the root of the result\n    if (value == null) {\n      value = Utils.getCaseInsensitiveProperty(result, name);\n    }\n    return value;\n  }\n\n  static throttle(func, wait, options: { leading?: boolean; trailing?: boolean; } = {}, context?, args?) {\n    let result;\n    let timeout: number = null;\n    let previous = 0;\n    let later = function () {\n      previous = options.leading === false ? 0 : new Date().getTime();\n      timeout = null;\n      result = func.apply(context, args);\n    };\n    return function () {\n      let now = new Date().getTime();\n      if (!previous && options.leading === false) {\n        previous = now;\n      }\n      let remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0) {\n        clearTimeout(timeout);\n        timeout = null;\n        previous = now;\n        result = func.apply(context, args);\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  }\n\n  static extendDeep(target, src): {} {\n    if (!target) {\n      target = {};\n    }\n    let isArray = _.isArray(src)\n    let toReturn = isArray && [] || {}\n    if (isArray) {\n      target = target || []\n      toReturn = toReturn['concat'](target)\n      _.each(src, (e, i, obj) => {\n        if (typeof target[i] === 'undefined') {\n          toReturn[i] = <any>e\n        } else if (typeof e === 'object') {\n          toReturn[i] = Utils.extendDeep(target[i], e)\n        } else {\n          if (target.indexOf(e) === -1) {\n            toReturn['push'](e)\n          }\n        }\n      })\n    } else {\n      if (target && typeof target === 'object') {\n        _.each(_.keys(target), (key) => {\n          toReturn[key] = target[key]\n        })\n      }\n      _.each(_.keys(src), (key) => {\n        if (typeof src[key] !== 'object' || !src[key]) {\n          toReturn[key] = src[key]\n        } else {\n          if (!target[key]) {\n            toReturn[key] = src[key]\n          } else {\n            toReturn[key] = Utils.extendDeep(target[key], src[key])\n          }\n        }\n      })\n    }\n    return toReturn\n  }\n\n  static getQueryStringValue(key, queryString = window.location.search) {\n    return queryString.replace(new RegExp('^(?:.*[&\\\\?]' + key.replace(/[\\.\\+\\*]/g, '\\\\$&') + '(?:\\\\=([^&]*))?)?.*$', 'i'), '$1');\n  }\n\n  static isValidUrl(str: string): boolean {\n    let regexp = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/\n    return regexp.test(str);\n  }\n\n  static debounce(func: Function, wait: number) {\n    let timeout: number;\n    let stackTraceTimeout: number;\n    return function (...args: any[]) {\n      if (timeout == null) {\n        timeout = setTimeout(() => {\n          timeout = null;\n        }, wait);\n        stackTraceTimeout = setTimeout(() => {\n          func.apply(this, args);\n          stackTraceTimeout = null;\n        });\n      } else if (stackTraceTimeout == null) {\n        clearTimeout(timeout);\n        timeout = setTimeout(() => {\n          func.apply(this, args);\n          timeout = null;\n        }, wait);\n      }\n    }\n  }\n\n  static readCookie(name: string) {\n    let nameEQ = name + '=';\n    let ca = document.cookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n      let c = ca[i];\n      while (c.charAt(0) == ' ') {\n        c = c.substring(1, c.length);\n      }\n      if (c.indexOf(nameEQ) == 0) {\n        return c.substring(nameEQ.length, c.length);\n      }\n    }\n    return null;\n  }\n\n  static toDashCase(camelCased: string) {\n    return camelCased.replace(/([a-z][A-Z])/g, (g) => g[0] + '-' + g[1].toLowerCase());\n  }\n\n  // Based on http://stackoverflow.com/a/8412989\n  static parseXml(xml: string): XMLDocument {\n    if (typeof DOMParser != 'undefined') {\n      return (new DOMParser()).parseFromString(xml, 'text/xml');\n    } else if (typeof ActiveXObject != 'undefined' && new ActiveXObject('Microsoft.XMLDOM')) {\n      var xmlDoc = new ActiveXObject('Microsoft.XMLDOM');\n      xmlDoc.async = 'false';\n      xmlDoc.loadXML(xml);\n      return xmlDoc;\n    } else {\n      throw new Error('No XML parser found');\n    }\n  }\n\n  static copyObject<T>(target: T, src: T) {\n    _.each(_.keys(src), key => {\n      if (typeof src[key] !== 'object' || !src[key]) {\n        target[key] = src[key]\n      } else if (!target[key]) {\n        target[key] = src[key]\n      } else {\n        this.copyObject(target[key], src[key])\n      }\n    })\n  }\n\n  static copyObjectAttributes<T>(target: T, src: T, attributes: string[]) {\n    _.each(_.keys(src), key => {\n      if (_.contains(attributes, key)) {\n        if (typeof src[key] !== 'object' || !src[key]) {\n          target[key] = src[key]\n        } else if (!target[key]) {\n          target[key] = src[key]\n        } else {\n          this.copyObject(target[key], src[key])\n        }\n      }\n    })\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/Utils.ts\n **/","l":{"3":1,"5":2,"6":1,"7":157043,"10":1,"11":138734,"14":1,"15":156619,"18":1,"19":5089,"22":1,"23":3,"26":1,"27":299,"30":1,"31":954,"34":1,"35":39033,"38":1,"39":101,"42":1,"43":6,"46":1,"47":779,"50":1,"51":3,"54":1,"55":1,"56":1,"58":0,"62":1,"63":3,"64":3,"66":0,"70":1,"71":1,"72":1,"74":0,"78":1,"79":0,"82":1,"83":6174,"84":4,"88":4,"92":0,"94":0,"97":6170,"101":1,"102":178,"103":0,"105":178,"108":1,"109":0,"110":0,"111":0,"112":0,"114":0,"117":0,"120":1,"121":1,"122":0,"126":1,"127":0,"128":0,"130":0,"131":0,"132":0,"137":1,"138":1,"142":1,"143":161,"146":1,"147":64,"148":64,"151":1,"153":619,"156":619,"157":75,"158":75,"160":75,"161":1377,"162":75,"163":0,"167":619,"170":1,"173":102,"174":0,"176":102,"177":102,"178":102,"180":102,"181":0,"185":102,"186":0,"189":102,"190":102,"191":102,"192":0,"193":0,"194":0,"197":102,"199":102,"200":38,"202":102,"205":1,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"214":0,"215":0,"216":0,"217":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"230":0,"234":1,"235":1455,"236":1447,"238":1455,"239":1455,"240":1455,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"249":0,"250":0,"255":1455,"256":1455,"257":14,"260":1455,"261":1573,"262":1569,"264":4,"265":3,"267":1,"272":1455,"275":1,"276":0,"279":1,"280":0,"281":0,"284":1,"285":0,"286":0,"287":0,"288":0,"289":0,"290":0,"292":0,"293":0,"294":0,"296":0,"297":0,"298":0,"299":0,"300":0,"306":1,"307":0,"308":0,"309":0,"310":0,"311":0,"312":0,"314":0,"315":0,"318":0,"321":1,"322":1495,"326":1,"327":0,"328":0,"329":0,"330":0,"331":0,"332":0,"333":0,"335":0,"339":2,"340":2,"341":3,"342":2,"343":1,"344":0,"346":1,"351":1,"352":1,"353":21,"354":1,"355":0,"356":1,"357":0,"359":1,"364":1}},"src/utils/TimeSpanUtils.ts":{"path":"src/utils/TimeSpanUtils.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":38}},"2":{"start":{"line":7,"column":0},"end":{"line":63,"column":1}},"3":{"start":{"line":10,"column":2},"end":{"line":16,"column":3}},"4":{"start":{"line":10,"column":28},"end":{"line":10,"column":49}},"5":{"start":{"line":11,"column":4},"end":{"line":15,"column":5}},"6":{"start":{"line":12,"column":6},"end":{"line":12,"column":31}},"7":{"start":{"line":14,"column":6},"end":{"line":14,"column":38}},"8":{"start":{"line":18,"column":2},"end":{"line":20,"column":3}},"9":{"start":{"line":19,"column":4},"end":{"line":19,"column":29}},"10":{"start":{"line":22,"column":2},"end":{"line":24,"column":3}},"11":{"start":{"line":23,"column":4},"end":{"line":23,"column":41}},"12":{"start":{"line":26,"column":2},"end":{"line":28,"column":3}},"13":{"start":{"line":27,"column":4},"end":{"line":27,"column":34}},"14":{"start":{"line":30,"column":2},"end":{"line":32,"column":3}},"15":{"start":{"line":31,"column":4},"end":{"line":31,"column":34}},"16":{"start":{"line":34,"column":2},"end":{"line":36,"column":3}},"17":{"start":{"line":35,"column":4},"end":{"line":35,"column":32}},"18":{"start":{"line":38,"column":2},"end":{"line":40,"column":3}},"19":{"start":{"line":39,"column":4},"end":{"line":39,"column":30}},"20":{"start":{"line":42,"column":2},"end":{"line":56,"column":3}},"21":{"start":{"line":43,"column":4},"end":{"line":43,"column":44}},"22":{"start":{"line":44,"column":4},"end":{"line":44,"column":53}},"23":{"start":{"line":45,"column":4},"end":{"line":45,"column":53}},"24":{"start":{"line":46,"column":4},"end":{"line":46,"column":50}},"25":{"start":{"line":47,"column":4},"end":{"line":51,"column":5}},"26":{"start":{"line":48,"column":6},"end":{"line":48,"column":23}},"27":{"start":{"line":50,"column":6},"end":{"line":50,"column":75}},"28":{"start":{"line":52,"column":4},"end":{"line":52,"column":81}},"29":{"start":{"line":53,"column":4},"end":{"line":53,"column":81}},"30":{"start":{"line":54,"column":4},"end":{"line":54,"column":100}},"31":{"start":{"line":55,"column":4},"end":{"line":55,"column":18}},"32":{"start":{"line":58,"column":9},"end":{"line":62,"column":3}},"33":{"start":{"line":59,"column":4},"end":{"line":59,"column":24}},"34":{"start":{"line":60,"column":4},"end":{"line":60,"column":22}},"35":{"start":{"line":61,"column":4},"end":{"line":61,"column":55}},"36":{"start":{"line":63,"column":0},"end":{"line":63,"column":1}},"37":{"start":{"line":7,"column":13},"end":{"line":63,"column":1}}},"fnMap":{"1":{"name":"(anonymous_591)","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"TimeSpan","line":10,"loc":{"start":{"line":10,"column":2},"end":{"line":10,"column":49}}},"3":{"name":"(anonymous_593)","line":18,"loc":{"start":{"line":18,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_594)","line":22,"loc":{"start":{"line":22,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_595)","line":26,"loc":{"start":{"line":26,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_596)","line":30,"loc":{"start":{"line":30,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_597)","line":34,"loc":{"start":{"line":34,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_598)","line":38,"loc":{"start":{"line":38,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_599)","line":42,"loc":{"start":{"line":42,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_600)","line":58,"loc":{"start":{"line":58,"column":2},"end":{"line":58,"column":39}}}},"branchMap":{"1":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":28},"end":{"line":10,"column":27}},{"start":{"line":10,"column":28},"end":{"line":10,"column":27}}]},"2":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":11,"column":3}},{"start":{"line":11,"column":4},"end":{"line":11,"column":3}}]},"3":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":4},"end":{"line":47,"column":3}},{"start":{"line":47,"column":4},"end":{"line":47,"column":3}}]},"4":{"line":50,"type":"cond-expr","locations":[{"start":{"line":50,"column":33},"end":{"line":50,"column":55}},{"start":{"line":50,"column":58},"end":{"line":50,"column":74}}]},"5":{"line":52,"type":"cond-expr","locations":[{"start":{"line":52,"column":35},"end":{"line":52,"column":59}},{"start":{"line":52,"column":62},"end":{"line":52,"column":80}}]},"6":{"line":53,"type":"cond-expr","locations":[{"start":{"line":53,"column":35},"end":{"line":53,"column":59}},{"start":{"line":53,"column":62},"end":{"line":53,"column":80}}]},"7":{"line":54,"type":"cond-expr","locations":[{"start":{"line":54,"column":38},"end":{"line":54,"column":55}},{"start":{"line":54,"column":58},"end":{"line":54,"column":60}}]}},"s":{"1":1,"2":1,"3":1,"4":72,"5":36,"6":36,"7":0,"8":1,"9":36,"10":1,"11":13,"12":1,"13":13,"14":1,"15":13,"16":1,"17":13,"18":1,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":36,"34":36,"35":36,"36":1,"37":1},"b":{"1":[36,0],"2":[36,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":1,"2":36,"3":36,"4":13,"5":13,"6":13,"7":13,"8":0,"9":0,"10":36},"code":"import {Assert} from '../misc/Assert';\n\nexport interface ITimeSpanUtilsOptions {\n  isMilliseconds: boolean;\n}\n\nexport class TimeSpan {\n  private milliseconds: number;\n\n  constructor(time: number, isMilliseconds = true) {\n    if (isMilliseconds) {\n      this.milliseconds = time;\n    } else {\n      this.milliseconds = time * 1000;\n    }\n  }\n\n  getMilliseconds() {\n    return this.milliseconds;\n  }\n\n  getSeconds() {\n    return this.getMilliseconds() / 1000;\n  }\n\n  getMinutes() {\n    return this.getSeconds() / 60;\n  }\n\n  getHours() {\n    return this.getMinutes() / 60;\n  }\n\n  getDays() {\n    return this.getHours() / 24;\n  }\n\n  getWeeks() {\n    return this.getDays() / 7;\n  }\n\n  getHHMMSS(): string {\n    var hours = Math.floor(this.getHours());\n    var minutes = Math.floor(this.getMinutes()) % 60;\n    var seconds = Math.floor(this.getSeconds()) % 60;\n    var hoursString, minutesString, secondsString;\n    if (hours == 0) {\n      hoursString = '';\n    } else {\n      hoursString = hours < 10 ? '0' + hours.toString() : hours.toString();\n    }\n    minutesString = minutes < 10 ? '0' + minutes.toString() : minutes.toString();\n    secondsString = seconds < 10 ? '0' + seconds.toString() : seconds.toString();\n    var hhmmss = (hoursString != '' ? hoursString + ':' : '') + minutesString + ':' + secondsString;\n    return hhmmss;\n  }\n\n  static fromDates(from: Date, to: Date): TimeSpan {\n    Assert.exists(from);\n    Assert.exists(to);\n    return new TimeSpan(to.valueOf() - from.valueOf());\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/TimeSpanUtils.ts\n **/","l":{"1":1,"7":1,"10":72,"11":36,"12":36,"14":0,"18":1,"19":36,"22":1,"23":13,"26":1,"27":13,"30":1,"31":13,"34":1,"35":13,"38":1,"39":0,"42":1,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"50":0,"52":0,"53":0,"54":0,"55":0,"58":1,"59":36,"60":36,"61":36,"63":1}},"src/utils/DeviceUtils.ts":{"path":"src/utils/DeviceUtils.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":106}},"2":{"start":{"line":4,"column":0},"end":{"line":77,"column":1}},"3":{"start":{"line":5,"column":9},"end":{"line":44,"column":3}},"4":{"start":{"line":6,"column":4},"end":{"line":6,"column":40}},"5":{"start":{"line":7,"column":4},"end":{"line":9,"column":5}},"6":{"start":{"line":8,"column":6},"end":{"line":8,"column":23}},"7":{"start":{"line":10,"column":4},"end":{"line":12,"column":5}},"8":{"start":{"line":11,"column":6},"end":{"line":11,"column":26}},"9":{"start":{"line":13,"column":4},"end":{"line":15,"column":5}},"10":{"start":{"line":14,"column":6},"end":{"line":14,"column":22}},"11":{"start":{"line":16,"column":4},"end":{"line":18,"column":5}},"12":{"start":{"line":17,"column":6},"end":{"line":17,"column":20}},"13":{"start":{"line":19,"column":4},"end":{"line":21,"column":5}},"14":{"start":{"line":20,"column":6},"end":{"line":20,"column":20}},"15":{"start":{"line":22,"column":4},"end":{"line":24,"column":5}},"16":{"start":{"line":23,"column":6},"end":{"line":23,"column":26}},"17":{"start":{"line":25,"column":4},"end":{"line":27,"column":5}},"18":{"start":{"line":26,"column":6},"end":{"line":26,"column":25}},"19":{"start":{"line":28,"column":4},"end":{"line":30,"column":5}},"20":{"start":{"line":29,"column":6},"end":{"line":29,"column":22}},"21":{"start":{"line":31,"column":4},"end":{"line":33,"column":5}},"22":{"start":{"line":32,"column":6},"end":{"line":32,"column":18}},"23":{"start":{"line":34,"column":4},"end":{"line":36,"column":5}},"24":{"start":{"line":35,"column":6},"end":{"line":35,"column":21}},"25":{"start":{"line":37,"column":4},"end":{"line":39,"column":5}},"26":{"start":{"line":38,"column":6},"end":{"line":38,"column":23}},"27":{"start":{"line":40,"column":4},"end":{"line":42,"column":5}},"28":{"start":{"line":41,"column":6},"end":{"line":41,"column":22}},"29":{"start":{"line":43,"column":4},"end":{"line":43,"column":20}},"30":{"start":{"line":46,"column":9},"end":{"line":48,"column":3}},"31":{"start":{"line":47,"column":4},"end":{"line":47,"column":52}},"32":{"start":{"line":50,"column":9},"end":{"line":53,"column":3}},"33":{"start":{"line":51,"column":4},"end":{"line":51,"column":49}},"34":{"start":{"line":52,"column":4},"end":{"line":52,"column":82}},"35":{"start":{"line":55,"column":9},"end":{"line":61,"column":3}},"36":{"start":{"line":56,"column":4},"end":{"line":56,"column":50}},"37":{"start":{"line":57,"column":4},"end":{"line":59,"column":5}},"38":{"start":{"line":58,"column":6},"end":{"line":58,"column":19}},"39":{"start":{"line":60,"column":4},"end":{"line":60,"column":49}},"40":{"start":{"line":63,"column":9},"end":{"line":65,"column":3}},"41":{"start":{"line":64,"column":4},"end":{"line":64,"column":18}},"42":{"start":{"line":67,"column":9},"end":{"line":72,"column":3}},"43":{"start":{"line":68,"column":4},"end":{"line":70,"column":5}},"44":{"start":{"line":69,"column":6},"end":{"line":69,"column":17}},"45":{"start":{"line":71,"column":4},"end":{"line":71,"column":44}},"46":{"start":{"line":74,"column":9},"end":{"line":76,"column":3}},"47":{"start":{"line":75,"column":4},"end":{"line":75,"column":45}},"48":{"start":{"line":77,"column":0},"end":{"line":77,"column":1}},"49":{"start":{"line":4,"column":13},"end":{"line":77,"column":1}}},"fnMap":{"1":{"name":"(anonymous_602)","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_604)","line":5,"loc":{"start":{"line":5,"column":2},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_605)","line":46,"loc":{"start":{"line":46,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_606)","line":50,"loc":{"start":{"line":50,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_607)","line":55,"loc":{"start":{"line":55,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_608)","line":63,"loc":{"start":{"line":63,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_609)","line":67,"loc":{"start":{"line":67,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_610)","line":74,"loc":{"start":{"line":74,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":4},"end":{"line":7,"column":3}},{"start":{"line":7,"column":4},"end":{"line":7,"column":3}}]},"2":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":3}},{"start":{"line":10,"column":4},"end":{"line":10,"column":3}}]},"3":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":4},"end":{"line":13,"column":3}},{"start":{"line":13,"column":4},"end":{"line":13,"column":3}}]},"4":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":4},"end":{"line":16,"column":3}},{"start":{"line":16,"column":4},"end":{"line":16,"column":3}}]},"5":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":3}},{"start":{"line":19,"column":4},"end":{"line":19,"column":3}}]},"6":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":4},"end":{"line":22,"column":3}},{"start":{"line":22,"column":4},"end":{"line":22,"column":3}}]},"7":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":4},"end":{"line":25,"column":3}},{"start":{"line":25,"column":4},"end":{"line":25,"column":3}}]},"8":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":4},"end":{"line":28,"column":3}},{"start":{"line":28,"column":4},"end":{"line":28,"column":3}}]},"9":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":4},"end":{"line":31,"column":3}},{"start":{"line":31,"column":4},"end":{"line":31,"column":3}}]},"10":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":8},"end":{"line":31,"column":32}},{"start":{"line":31,"column":36},"end":{"line":31,"column":63}}]},"11":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":4},"end":{"line":34,"column":3}},{"start":{"line":34,"column":4},"end":{"line":34,"column":3}}]},"12":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":4},"end":{"line":37,"column":3}},{"start":{"line":37,"column":4},"end":{"line":37,"column":3}}]},"13":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":4},"end":{"line":40,"column":3}},{"start":{"line":40,"column":4},"end":{"line":40,"column":3}}]},"14":{"line":52,"type":"binary-expr","locations":[{"start":{"line":52,"column":11},"end":{"line":52,"column":33}},{"start":{"line":52,"column":37},"end":{"line":52,"column":57}},{"start":{"line":52,"column":61},"end":{"line":52,"column":81}}]},"15":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":4},"end":{"line":57,"column":3}},{"start":{"line":57,"column":4},"end":{"line":57,"column":3}}]},"16":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":4},"end":{"line":68,"column":3}},{"start":{"line":68,"column":4},"end":{"line":68,"column":3}}]},"17":{"line":68,"type":"binary-expr","locations":[{"start":{"line":68,"column":8},"end":{"line":68,"column":37}},{"start":{"line":68,"column":41},"end":{"line":68,"column":69}}]}},"s":{"1":1,"2":2,"3":1,"4":50,"5":50,"6":0,"7":50,"8":0,"9":50,"10":0,"11":50,"12":0,"13":50,"14":0,"15":50,"16":0,"17":50,"18":0,"19":50,"20":0,"21":50,"22":0,"23":50,"24":0,"25":50,"26":0,"27":50,"28":50,"29":0,"30":1,"31":0,"32":1,"33":0,"34":0,"35":1,"36":6,"37":6,"38":6,"39":0,"40":1,"41":617,"42":1,"43":0,"44":0,"45":0,"46":1,"47":0,"48":1,"49":1},"b":{"1":[0,50],"2":[0,50],"3":[0,50],"4":[0,50],"5":[0,50],"6":[0,50],"7":[0,50],"8":[0,50],"9":[0,50],"10":[50,50],"11":[0,50],"12":[0,50],"13":[50,0],"14":[0,0,0],"15":[6,0],"16":[0,0],"17":[0,0]},"f":{"1":1,"2":50,"3":0,"4":0,"5":6,"6":617,"7":0,"8":0},"code":"// Not sure about this : In year 2033 who's to say that this list won't be 50 pages long !\nconst mobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n\nexport class DeviceUtils {\n  static getDeviceName(): string {\n    var userAgent = navigator.userAgent;\n    if (userAgent.match(/Android/i)) {\n      return 'Android';\n    }\n    if (userAgent.match(/BlackBerry/i)) {\n      return 'BlackBerry';\n    }\n    if (userAgent.match(/iPhone/i)) {\n      return 'iPhone';\n    }\n    if (userAgent.match(/iPad/i)) {\n      return 'iPad';\n    }\n    if (userAgent.match(/iPod/i)) {\n      return 'iPod';\n    }\n    if (userAgent.match(/Opera Mini/i)) {\n      return 'Opera Mini';\n    }\n    if (userAgent.match(/IEMobile/i)) {\n      return 'IE Mobile';\n    }\n    if (userAgent.match(/Chrome/i)) {\n      return 'Chrome';\n    }\n    if (userAgent.match(/MSIE/i) || userAgent.match(/Trident/i)) {\n      return 'IE';\n    }\n    if (userAgent.match(/Opera/i)) {\n      return 'Opera';\n    }\n    if (userAgent.match(/Firefox/i)) {\n      return 'Firefox';\n    }\n    if (userAgent.match(/Safari/i)) {\n      return 'Safari';\n    }\n    return 'Others';\n  }\n\n  static isAndroid() {\n    return DeviceUtils.getDeviceName() == 'Android';\n  }\n\n  static isIos() {\n    var deviceName = DeviceUtils.getDeviceName();\n    return deviceName == 'iPhone' || deviceName == 'iPad' || deviceName == 'iPod';\n  }\n\n  static isIE8or9(): boolean {\n    var myNav = navigator.userAgent.toLowerCase();\n    if (myNav.indexOf('msie') == -1) {\n      return false;\n    }\n    return parseInt(myNav.split('msie')[1]) < 10;\n  }\n\n  static isMobileDevice() {\n    return mobile;\n  }\n\n  static isSmallScreenWidth() {\n    if (window['clientWidth'] != null && window['clientWidth'] <= 480) {\n      return true\n    }\n    return document.body.clientWidth <= 480;\n  }\n\n  static isSmallScreenHeight() {\n    return document.body.clientHeight <= 640;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/DeviceUtils.ts\n **/","l":{"2":1,"4":2,"5":1,"6":50,"7":50,"8":0,"10":50,"11":0,"13":50,"14":0,"16":50,"17":0,"19":50,"20":0,"22":50,"23":0,"25":50,"26":0,"28":50,"29":0,"31":50,"32":0,"34":50,"35":0,"37":50,"38":0,"40":50,"41":50,"43":0,"46":1,"47":0,"50":1,"51":0,"52":0,"55":1,"56":6,"57":6,"58":6,"60":0,"63":1,"64":617,"67":1,"68":0,"69":0,"71":0,"74":1,"75":0,"77":1}},"src/rest/AjaxError.ts":{"path":"src/rest/AjaxError.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":38}},"2":{"start":{"line":4,"column":0},"end":{"line":13,"column":1}},"3":{"start":{"line":8,"column":2},"end":{"line":12,"column":3}},"4":{"start":{"line":8,"column":21},"end":{"line":8,"column":36}},"5":{"start":{"line":8,"column":45},"end":{"line":8,"column":59}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":27}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":26}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":66}},"9":{"start":{"line":13,"column":0},"end":{"line":13,"column":1}},"10":{"start":{"line":4,"column":13},"end":{"line":13,"column":1}}},"fnMap":{"1":{"name":"(anonymous_612)","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"AjaxError","line":8,"loc":{"start":{"line":8,"column":2},"end":{"line":8,"column":59}}}},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"b":{},"f":{"1":1,"2":1},"code":"import {Assert} from '../misc/Assert';\nimport {IEndpointError} from '../rest/EndpointError';\n\nexport class AjaxError implements IEndpointError {\n  public type;\n  public name;\n\n  constructor(public message: string, public status: number) {\n    Assert.exists(message);\n    Assert.exists(status);\n    this.name = this.type = 'Ajax Error (status: ' + status + ')';\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/rest/AjaxError.ts\n **/","l":{"1":1,"4":1,"8":1,"9":1,"10":1,"11":1,"13":1}},"src/rest/MissingAuthenticationError.ts":{"path":"src/rest/MissingAuthenticationError.ts","statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":12,"column":1}},"2":{"start":{"line":9,"column":2},"end":{"line":11,"column":3}},"3":{"start":{"line":9,"column":21},"end":{"line":9,"column":37}},"4":{"start":{"line":6,"column":9},"end":{"line":6,"column":40}},"5":{"start":{"line":10,"column":4},"end":{"line":10,"column":92}},"6":{"start":{"line":12,"column":0},"end":{"line":12,"column":1}},"7":{"start":{"line":3,"column":13},"end":{"line":12,"column":1}}},"fnMap":{"1":{"name":"(anonymous_615)","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"MissingAuthenticationError","line":9,"loc":{"start":{"line":9,"column":2},"end":{"line":9,"column":37}}}},"branchMap":{},"s":{"1":1,"2":1,"3":5,"4":5,"5":5,"6":1,"7":1},"b":{},"f":{"1":1,"2":5},"code":"import {IEndpointError} from './EndpointError';\n\nexport class MissingAuthenticationError implements IEndpointError {\n  public type: string;\n  public message: string;\n  public isMissingAuthentication = true;\n  public name: string;\n\n  constructor(public provider: string) {\n    this.name = this.type = this.message = `Missing Authentication (provider: ${provider})`;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/rest/MissingAuthenticationError.ts\n **/","l":{"3":1,"6":5,"9":5,"10":5,"12":1}},"src/utils/QueryUtils.ts":{"path":"src/utils/QueryUtils.ts","statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":38}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":37}},"3":{"start":{"line":9,"column":0},"end":{"line":189,"column":1}},"4":{"start":{"line":10,"column":9},"end":{"line":12,"column":3}},"5":{"start":{"line":11,"column":4},"end":{"line":11,"column":162}},"6":{"start":{"line":15,"column":9},"end":{"line":21,"column":3}},"7":{"start":{"line":17,"column":4},"end":{"line":20,"column":7}},"8":{"start":{"line":18,"column":6},"end":{"line":18,"column":73}},"9":{"start":{"line":19,"column":6},"end":{"line":19,"column":28}},"10":{"start":{"line":23,"column":9},"end":{"line":34,"column":3}},"11":{"start":{"line":24,"column":4},"end":{"line":24,"column":33}},"12":{"start":{"line":25,"column":4},"end":{"line":25,"column":32}},"13":{"start":{"line":26,"column":4},"end":{"line":32,"column":6}},"14":{"start":{"line":27,"column":6},"end":{"line":27,"column":33}},"15":{"start":{"line":28,"column":6},"end":{"line":30,"column":7}},"16":{"start":{"line":29,"column":8},"end":{"line":29,"column":24}},"17":{"start":{"line":31,"column":6},"end":{"line":31,"column":17}},"18":{"start":{"line":33,"column":4},"end":{"line":33,"column":139}},"19":{"start":{"line":36,"column":9},"end":{"line":38,"column":3}},"20":{"start":{"line":37,"column":4},"end":{"line":37,"column":61}},"21":{"start":{"line":40,"column":9},"end":{"line":42,"column":3}},"22":{"start":{"line":41,"column":4},"end":{"line":41,"column":59}},"23":{"start":{"line":44,"column":9},"end":{"line":52,"column":3}},"24":{"start":{"line":45,"column":4},"end":{"line":45,"column":25}},"25":{"start":{"line":46,"column":4},"end":{"line":46,"column":27}},"26":{"start":{"line":47,"column":4},"end":{"line":47,"column":34}},"27":{"start":{"line":48,"column":4},"end":{"line":48,"column":67}},"28":{"start":{"line":49,"column":4},"end":{"line":49,"column":67}},"29":{"start":{"line":50,"column":4},"end":{"line":50,"column":75}},"30":{"start":{"line":51,"column":4},"end":{"line":51,"column":76}},"31":{"start":{"line":51,"column":67},"end":{"line":51,"column":74}},"32":{"start":{"line":54,"column":9},"end":{"line":57,"column":3}},"33":{"start":{"line":55,"column":4},"end":{"line":55,"column":91}},"34":{"start":{"line":56,"column":4},"end":{"line":56,"column":95}},"35":{"start":{"line":59,"column":9},"end":{"line":62,"column":3}},"36":{"start":{"line":59,"column":35},"end":{"line":59,"column":58}},"37":{"start":{"line":60,"column":4},"end":{"line":60,"column":25}},"38":{"start":{"line":61,"column":4},"end":{"line":61,"column":33}},"39":{"start":{"line":64,"column":9},"end":{"line":66,"column":3}},"40":{"start":{"line":65,"column":4},"end":{"line":65,"column":75}},"41":{"start":{"line":68,"column":9},"end":{"line":70,"column":3}},"42":{"start":{"line":69,"column":4},"end":{"line":69,"column":81}},"43":{"start":{"line":72,"column":9},"end":{"line":74,"column":3}},"44":{"start":{"line":73,"column":4},"end":{"line":73,"column":77}},"45":{"start":{"line":76,"column":9},"end":{"line":78,"column":3}},"46":{"start":{"line":77,"column":4},"end":{"line":77,"column":75}},"47":{"start":{"line":80,"column":9},"end":{"line":82,"column":3}},"48":{"start":{"line":81,"column":4},"end":{"line":81,"column":63}},"49":{"start":{"line":84,"column":9},"end":{"line":87,"column":3}},"50":{"start":{"line":85,"column":4},"end":{"line":85,"column":25}},"51":{"start":{"line":86,"column":4},"end":{"line":86,"column":167}},"52":{"start":{"line":89,"column":9},"end":{"line":92,"column":3}},"53":{"start":{"line":90,"column":4},"end":{"line":90,"column":25}},"54":{"start":{"line":91,"column":4},"end":{"line":91,"column":47}},"55":{"start":{"line":94,"column":9},"end":{"line":97,"column":3}},"56":{"start":{"line":95,"column":4},"end":{"line":95,"column":25}},"57":{"start":{"line":96,"column":4},"end":{"line":96,"column":34}},"58":{"start":{"line":99,"column":9},"end":{"line":102,"column":3}},"59":{"start":{"line":100,"column":4},"end":{"line":100,"column":25}},"60":{"start":{"line":101,"column":4},"end":{"line":101,"column":47}},"61":{"start":{"line":104,"column":9},"end":{"line":107,"column":3}},"62":{"start":{"line":105,"column":4},"end":{"line":105,"column":25}},"63":{"start":{"line":106,"column":4},"end":{"line":106,"column":133}},"64":{"start":{"line":109,"column":9},"end":{"line":112,"column":3}},"65":{"start":{"line":110,"column":4},"end":{"line":110,"column":25}},"66":{"start":{"line":111,"column":4},"end":{"line":111,"column":77}},"67":{"start":{"line":114,"column":9},"end":{"line":125,"column":3}},"68":{"start":{"line":115,"column":4},"end":{"line":115,"column":35}},"69":{"start":{"line":116,"column":4},"end":{"line":116,"column":40}},"70":{"start":{"line":117,"column":4},"end":{"line":117,"column":38}},"71":{"start":{"line":118,"column":4},"end":{"line":118,"column":50}},"72":{"start":{"line":120,"column":4},"end":{"line":124,"column":5}},"73":{"start":{"line":121,"column":6},"end":{"line":121,"column":77}},"74":{"start":{"line":123,"column":6},"end":{"line":123,"column":117}},"75":{"start":{"line":123,"column":61},"end":{"line":123,"column":99}},"76":{"start":{"line":127,"column":9},"end":{"line":140,"column":3}},"77":{"start":{"line":128,"column":4},"end":{"line":128,"column":35}},"78":{"start":{"line":129,"column":4},"end":{"line":129,"column":40}},"79":{"start":{"line":130,"column":4},"end":{"line":130,"column":50}},"80":{"start":{"line":132,"column":4},"end":{"line":132,"column":23}},"81":{"start":{"line":133,"column":4},"end":{"line":137,"column":5}},"82":{"start":{"line":134,"column":6},"end":{"line":134,"column":75}},"83":{"start":{"line":136,"column":6},"end":{"line":136,"column":115}},"84":{"start":{"line":136,"column":59},"end":{"line":136,"column":97}},"85":{"start":{"line":139,"column":4},"end":{"line":139,"column":34}},"86":{"start":{"line":142,"column":9},"end":{"line":150,"column":3}},"87":{"start":{"line":143,"column":4},"end":{"line":143,"column":47}},"88":{"start":{"line":144,"column":4},"end":{"line":148,"column":5}},"89":{"start":{"line":145,"column":6},"end":{"line":145,"column":31}},"90":{"start":{"line":147,"column":6},"end":{"line":147,"column":31}},"91":{"start":{"line":149,"column":4},"end":{"line":149,"column":15}},"92":{"start":{"line":152,"column":9},"end":{"line":155,"column":3}},"93":{"start":{"line":153,"column":4},"end":{"line":153,"column":34}},"94":{"start":{"line":154,"column":4},"end":{"line":154,"column":58}},"95":{"start":{"line":157,"column":16},"end":{"line":162,"column":3}},"96":{"start":{"line":158,"column":4},"end":{"line":161,"column":6}},"97":{"start":{"line":159,"column":6},"end":{"line":159,"column":62}},"98":{"start":{"line":160,"column":6},"end":{"line":160,"column":52}},"99":{"start":{"line":164,"column":16},"end":{"line":172,"column":3}},"100":{"start":{"line":165,"column":4},"end":{"line":165,"column":29}},"101":{"start":{"line":166,"column":4},"end":{"line":168,"column":6}},"102":{"start":{"line":167,"column":6},"end":{"line":167,"column":30}},"103":{"start":{"line":169,"column":4},"end":{"line":171,"column":5}},"104":{"start":{"line":170,"column":6},"end":{"line":170,"column":44}},"105":{"start":{"line":175,"column":16},"end":{"line":177,"column":3}},"106":{"start":{"line":176,"column":4},"end":{"line":176,"column":154}},"107":{"start":{"line":179,"column":16},"end":{"line":187,"column":3}},"108":{"start":{"line":180,"column":4},"end":{"line":180,"column":43}},"109":{"start":{"line":181,"column":4},"end":{"line":181,"column":64}},"110":{"start":{"line":182,"column":4},"end":{"line":182,"column":62}},"111":{"start":{"line":183,"column":4},"end":{"line":185,"column":5}},"112":{"start":{"line":184,"column":6},"end":{"line":184,"column":137}},"113":{"start":{"line":186,"column":4},"end":{"line":186,"column":17}},"114":{"start":{"line":189,"column":0},"end":{"line":189,"column":1}},"115":{"start":{"line":9,"column":13},"end":{"line":189,"column":1}}},"fnMap":{"1":{"name":"(anonymous_619)","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_621)","line":10,"loc":{"start":{"line":10,"column":2},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_622)","line":15,"loc":{"start":{"line":15,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_623)","line":17,"loc":{"start":{"line":17,"column":67},"end":{"line":17,"column":78}}},"5":{"name":"(anonymous_624)","line":23,"loc":{"start":{"line":23,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_625)","line":26,"loc":{"start":{"line":26,"column":13},"end":{"line":26,"column":26}}},"7":{"name":"(anonymous_626)","line":36,"loc":{"start":{"line":36,"column":2},"end":{"line":36,"column":72}}},"8":{"name":"(anonymous_627)","line":40,"loc":{"start":{"line":40,"column":2},"end":{"line":40,"column":69}}},"9":{"name":"(anonymous_628)","line":44,"loc":{"start":{"line":44,"column":2},"end":{"line":44,"column":133}}},"10":{"name":"(anonymous_629)","line":51,"loc":{"start":{"line":51,"column":61},"end":{"line":51,"column":66}}},"11":{"name":"(anonymous_630)","line":54,"loc":{"start":{"line":54,"column":2},"end":{"line":54,"column":80}}},"12":{"name":"(anonymous_631)","line":59,"loc":{"start":{"line":59,"column":2},"end":{"line":59,"column":58}}},"13":{"name":"(anonymous_632)","line":64,"loc":{"start":{"line":64,"column":2},"end":{"line":64,"column":42}}},"14":{"name":"(anonymous_633)","line":68,"loc":{"start":{"line":68,"column":2},"end":{"line":68,"column":48}}},"15":{"name":"(anonymous_634)","line":72,"loc":{"start":{"line":72,"column":2},"end":{"line":72,"column":44}}},"16":{"name":"(anonymous_635)","line":76,"loc":{"start":{"line":76,"column":2},"end":{"line":76,"column":42}}},"17":{"name":"(anonymous_636)","line":80,"loc":{"start":{"line":80,"column":2},"end":{"line":80,"column":40}}},"18":{"name":"(anonymous_637)","line":84,"loc":{"start":{"line":84,"column":2},"end":{"line":84,"column":43}}},"19":{"name":"(anonymous_638)","line":89,"loc":{"start":{"line":89,"column":2},"end":{"line":89,"column":35}}},"20":{"name":"(anonymous_639)","line":94,"loc":{"start":{"line":94,"column":2},"end":{"line":94,"column":33}}},"21":{"name":"(anonymous_640)","line":99,"loc":{"start":{"line":99,"column":2},"end":{"line":99,"column":35}}},"22":{"name":"(anonymous_641)","line":104,"loc":{"start":{"line":104,"column":2},"end":{"line":104,"column":34}}},"23":{"name":"(anonymous_642)","line":109,"loc":{"start":{"line":109,"column":2},"end":{"line":109,"column":52}}},"24":{"name":"(anonymous_643)","line":114,"loc":{"start":{"line":114,"column":2},"end":{"line":114,"column":79}}},"25":{"name":"(anonymous_644)","line":123,"loc":{"start":{"line":123,"column":52},"end":{"line":123,"column":56}}},"26":{"name":"(anonymous_645)","line":127,"loc":{"start":{"line":127,"column":2},"end":{"line":127,"column":69}}},"27":{"name":"(anonymous_646)","line":136,"loc":{"start":{"line":136,"column":50},"end":{"line":136,"column":54}}},"28":{"name":"(anonymous_647)","line":142,"loc":{"start":{"line":142,"column":2},"end":{"line":142,"column":58}}},"29":{"name":"(anonymous_648)","line":152,"loc":{"start":{"line":152,"column":2},"end":{"line":152,"column":44}}},"30":{"name":"(anonymous_649)","line":157,"loc":{"start":{"line":157,"column":2},"end":{"line":157,"column":115}}},"31":{"name":"(anonymous_650)","line":158,"loc":{"start":{"line":158,"column":28},"end":{"line":158,"column":49}}},"32":{"name":"(anonymous_651)","line":164,"loc":{"start":{"line":164,"column":2},"end":{"line":164,"column":86}}},"33":{"name":"(anonymous_652)","line":166,"loc":{"start":{"line":166,"column":32},"end":{"line":166,"column":52}}},"34":{"name":"(anonymous_653)","line":175,"loc":{"start":{"line":175,"column":2},"end":{"line":175,"column":44}}},"35":{"name":"(anonymous_654)","line":179,"loc":{"start":{"line":179,"column":2},"end":{"line":179,"column":82}}}},"branchMap":{"1":{"line":11,"type":"cond-expr","locations":[{"start":{"line":11,"column":96},"end":{"line":11,"column":127}},{"start":{"line":11,"column":130},"end":{"line":11,"column":161}}]},"2":{"line":11,"type":"binary-expr","locations":[{"start":{"line":11,"column":12},"end":{"line":11,"column":42}},{"start":{"line":11,"column":46},"end":{"line":11,"column":92}}]},"3":{"line":18,"type":"cond-expr","locations":[{"start":{"line":18,"column":53},"end":{"line":18,"column":54}},{"start":{"line":18,"column":58},"end":{"line":18,"column":71}}]},"4":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":35},"end":{"line":59,"column":34}},{"start":{"line":59,"column":35},"end":{"line":59,"column":34}}]},"5":{"line":81,"type":"binary-expr","locations":[{"start":{"line":81,"column":11},"end":{"line":81,"column":38}},{"start":{"line":81,"column":42},"end":{"line":81,"column":62}}]},"6":{"line":86,"type":"cond-expr","locations":[{"start":{"line":86,"column":130},"end":{"line":86,"column":133}},{"start":{"line":86,"column":136},"end":{"line":86,"column":166}}]},"7":{"line":86,"type":"binary-expr","locations":[{"start":{"line":86,"column":11},"end":{"line":86,"column":41}},{"start":{"line":86,"column":46},"end":{"line":86,"column":75}},{"start":{"line":86,"column":79},"end":{"line":86,"column":126}}]},"8":{"line":120,"type":"if","locations":[{"start":{"line":120,"column":4},"end":{"line":120,"column":3}},{"start":{"line":120,"column":4},"end":{"line":120,"column":3}}]},"9":{"line":133,"type":"if","locations":[{"start":{"line":133,"column":4},"end":{"line":133,"column":3}},{"start":{"line":133,"column":4},"end":{"line":133,"column":3}}]},"10":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":4},"end":{"line":144,"column":3}},{"start":{"line":144,"column":4},"end":{"line":144,"column":3}}]},"11":{"line":154,"type":"binary-expr","locations":[{"start":{"line":154,"column":39},"end":{"line":154,"column":50}},{"start":{"line":154,"column":54},"end":{"line":154,"column":56}}]},"12":{"line":160,"type":"cond-expr","locations":[{"start":{"line":160,"column":29},"end":{"line":160,"column":43}},{"start":{"line":160,"column":46},"end":{"line":160,"column":51}}]},"13":{"line":169,"type":"if","locations":[{"start":{"line":169,"column":4},"end":{"line":169,"column":3}},{"start":{"line":169,"column":4},"end":{"line":169,"column":3}}]},"14":{"line":176,"type":"binary-expr","locations":[{"start":{"line":176,"column":11},"end":{"line":176,"column":145}},{"start":{"line":176,"column":149},"end":{"line":176,"column":153}}]},"15":{"line":176,"type":"binary-expr","locations":[{"start":{"line":176,"column":31},"end":{"line":176,"column":108}},{"start":{"line":176,"column":112},"end":{"line":176,"column":118}}]},"16":{"line":183,"type":"if","locations":[{"start":{"line":183,"column":4},"end":{"line":183,"column":3}},{"start":{"line":183,"column":4},"end":{"line":183,"column":3}}]},"17":{"line":183,"type":"binary-expr","locations":[{"start":{"line":183,"column":8},"end":{"line":183,"column":26}},{"start":{"line":183,"column":30},"end":{"line":183,"column":47}}]}},"s":{"1":1,"2":1,"3":2,"4":1,"5":11294,"6":1,"7":0,"8":0,"9":0,"10":1,"11":11294,"12":11294,"13":11294,"14":90352,"15":90352,"16":6011,"17":90352,"18":11294,"19":1,"20":0,"21":1,"22":297,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":10,"32":1,"33":1,"34":1,"35":1,"36":20,"37":10,"38":10,"39":1,"40":0,"41":1,"42":0,"43":1,"44":1,"45":1,"46":9,"47":1,"48":181,"49":1,"50":75,"51":75,"52":1,"53":20,"54":20,"55":1,"56":20,"57":20,"58":1,"59":75,"60":75,"61":1,"62":23,"63":23,"64":1,"65":20,"66":20,"67":1,"68":41,"69":41,"70":41,"71":41,"72":41,"73":23,"74":18,"75":42,"76":1,"77":4,"78":4,"79":4,"80":4,"81":4,"82":0,"83":4,"84":10,"85":4,"86":1,"87":0,"88":0,"89":0,"90":0,"91":0,"92":1,"93":4,"94":4,"95":1,"96":6,"97":60,"98":60,"99":1,"100":357,"101":357,"102":0,"103":357,"104":0,"105":1,"106":16,"107":1,"108":675,"109":675,"110":675,"111":675,"112":675,"113":0,"114":1,"115":1},"b":{"1":[11294,0],"2":[11294,11294],"3":[0,0],"4":[10,0],"5":[181,181],"6":[55,20],"7":[75,23,20],"8":[23,18],"9":[0,4],"10":[0,0],"11":[4,4],"12":[10,50],"13":[0,357],"14":[16,16],"15":[16,16],"16":[675,0],"17":[675,675]},"f":{"1":1,"2":11294,"3":0,"4":0,"5":11294,"6":90352,"7":0,"8":297,"9":1,"10":10,"11":1,"12":10,"13":0,"14":0,"15":1,"16":9,"17":181,"18":75,"19":20,"20":20,"21":75,"22":23,"23":20,"24":41,"25":42,"26":4,"27":10,"28":0,"29":4,"30":6,"31":60,"32":357,"33":0,"34":16,"35":675},"code":"import {IQueryResults} from '../rest/QueryResults';\nimport {IQueryResult} from '../rest/QueryResult';\nimport {IQuery} from '../rest/Query';\nimport {Assert} from '../misc/Assert';\nimport {Utils} from '../utils/Utils';\n\ndeclare let crypto: Crypto;\n\nexport class QueryUtils {\n  static createGuid(): string {\n    return (typeof (crypto) != 'undefined' && typeof (crypto.getRandomValues) != 'undefined') ? QueryUtils.generateWithCrypto() : QueryUtils.generateWithRandom();\n  }\n\n  // This method is a fallback as it's generate a lot of collisions in Chrome.\n  static generateWithRandom(): string {\n    // http://stackoverflow.com/a/2117523\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      let r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n      return v.toString(16);\n    });\n  }\n\n  static generateWithCrypto(): string {\n    let buf = new Uint16Array(8);\n    crypto.getRandomValues(buf);\n    let S4 = function (num) {\n      let ret = num.toString(16);\n      while (ret.length < 4) {\n        ret = '0' + ret;\n      }\n      return ret;\n    };\n    return (S4(buf[0]) + S4(buf[1]) + '-' + S4(buf[2]) + '-' + S4(buf[3]) + '-' + S4(buf[4]) + '-' + S4(buf[5]) + S4(buf[6]) + S4(buf[7]));\n  }\n\n  static setStateObjectOnQueryResults(state: any, results: IQueryResults) {\n    QueryUtils.setPropertyOnResults(results, 'state', state);\n  }\n\n  static setStateObjectOnQueryResult(state: any, result: IQueryResult) {\n    QueryUtils.setPropertyOnResult(result, 'state', state);\n  }\n\n  static setIndexAndUidOnQueryResults(query: IQuery, results: IQueryResults, queryUid: string, pipeline: string, splitTestRun: string) {\n    Assert.exists(query);\n    Assert.exists(results);\n    let index = query.firstResult;\n    QueryUtils.setPropertyOnResults(results, 'queryUid', queryUid);\n    QueryUtils.setPropertyOnResults(results, 'pipeline', pipeline);\n    QueryUtils.setPropertyOnResults(results, 'splitTestRun', splitTestRun);\n    QueryUtils.setPropertyOnResults(results, 'index', index, () => ++index);\n  }\n\n  static setTermsToHighlightOnQueryResults(query: IQuery, results: IQueryResults) {\n    QueryUtils.setPropertyOnResults(results, 'termsToHighlight', results.termsToHighlight);\n    QueryUtils.setPropertyOnResults(results, 'phrasesToHighlight', results.phrasesToHighlight);\n  }\n\n  static splitFlags(flags: string, delimiter: string = ';') {\n    Assert.exists(flags);\n    return flags.split(delimiter)\n  }\n\n  static isAttachment(result: IQueryResult) {\n    return _.contains(QueryUtils.splitFlags(result.flags), 'IsAttachment');\n  }\n\n  static containsAttachment(result: IQueryResult) {\n    return _.contains(QueryUtils.splitFlags(result.flags), 'ContainsAttachment');\n  }\n\n  static hasHTMLVersion(result: IQueryResult) {\n    return _.contains(QueryUtils.splitFlags(result.flags), 'HasHtmlVersion');\n  }\n\n  static hasThumbnail(result: IQueryResult) {\n    return _.contains(QueryUtils.splitFlags(result.flags), 'HasThumbnail');\n  }\n\n  static hasExcerpt(result: IQueryResult) {\n    return result.excerpt != undefined && result.excerpt != '';\n  }\n\n  static quoteAndEscapeIfNeeded(str: string): string {\n    Assert.isString(str);\n    return QueryUtils.isAtomicString(str) || (QueryUtils.isRangeString(str) || QueryUtils.isRangeWithoutOuterBoundsString(str)) ? str : QueryUtils.quoteAndEscape(str);\n  }\n\n  static quoteAndEscape(str: string): string {\n    Assert.isString(str);\n    return `\"${QueryUtils.escapeString(str)}\"`;\n  }\n\n  static escapeString(str: string): string {\n    Assert.isString(str);\n    return str.replace(/\"/g, ' ');\n  }\n\n  static isAtomicString(str: string): boolean {\n    Assert.isString(str);\n    return /^\\d+(\\.\\d+)?$|^[\\d\\w]+$/.test(str);\n  }\n\n  static isRangeString(str: string): boolean {\n    Assert.isString(str);\n    return /^\\d+(\\.\\d+)?\\.\\.\\d+(\\.\\d+)?$|^\\d{4}\\/\\d{2}\\/\\d{2}@\\d{2}:\\d{2}:\\d{2}\\.\\.\\d{4}\\/\\d{2}\\/\\d{2}@\\d{2}:\\d{2}:\\d{2}$/.test(str);\n  }\n\n  static isRangeWithoutOuterBoundsString(str: string): boolean {\n    Assert.isString(str);\n    return /^\\d+(\\.\\d+)?$|^\\d{4}\\/\\d{2}\\/\\d{2}@\\d{2}:\\d{2}:\\d{2}$/.test(str);\n  }\n\n  static buildFieldExpression(field: string, operator: string, values: string[]) {\n    Assert.isNonEmptyString(field);\n    Assert.stringStartsWith(field, '@');\n    Assert.isNonEmptyString(operator);\n    Assert.isLargerOrEqualsThan(1, values.length);\n\n    if (values.length == 1) {\n      return field + operator + QueryUtils.quoteAndEscapeIfNeeded(values[0]);\n    } else {\n      return field + operator + '(' + _.map(values, (str) => QueryUtils.quoteAndEscapeIfNeeded(str)).join(',') + ')';\n    }\n  }\n\n  static buildFieldNotEqualExpression(field: string, values: string[]) {\n    Assert.isNonEmptyString(field);\n    Assert.stringStartsWith(field, '@');\n    Assert.isLargerOrEqualsThan(1, values.length);\n\n    let filter: string;\n    if (values.length == 1) {\n      filter = field + '==' + QueryUtils.quoteAndEscapeIfNeeded(values[0]);\n    } else {\n      filter = field + '==' + '(' + _.map(values, (str) => QueryUtils.quoteAndEscapeIfNeeded(str)).join(',') + ')';\n    }\n\n    return '(NOT ' + filter + ')';\n  }\n\n  static mergeQueryString(url: string, queryString: string) {\n    let queryStringPosition = url.indexOf('?');\n    if (queryStringPosition != -1) {\n      url += '&' + queryString;\n    } else {\n      url += '?' + queryString;\n    }\n    return url;\n  }\n\n  static mergePath(url: string, path: string) {\n    let urlSplit = url.split('?');\n    return urlSplit[0] + path + '?' + (urlSplit[1] || '');\n  }\n\n  public static setPropertyOnResults(results: IQueryResults, property: string, value: any, afterOneLoop?: () => any) {\n    _.each(results.results, (result: IQueryResult) => {\n      QueryUtils.setPropertyOnResult(result, property, value);\n      value = afterOneLoop ? afterOneLoop() : value;\n    })\n  }\n\n  public static setPropertyOnResult(result: IQueryResult, property: string, value: any) {\n    result[property] = value;\n    _.each(result.childResults, (child: IQueryResult) => {\n      child[property] = value;\n    })\n    if (!Utils.isNullOrUndefined(result.parentResult)) {\n      result.parentResult[property] = value;\n    }\n  }\n\n  // http://stackoverflow.com/a/11582513\n  public static getUrlParameter(name: string): string {\n    return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.search) || [, ''])[1].replace(/\\+/g, '%20')) || null;\n  }\n\n  public static isStratusAgnosticField(fieldToVerify: string, fieldToMatch: string): boolean {\n    let checkForSystem = /^(@?)(sys)?(.*)/i\n    let matchFieldToVerify = checkForSystem.exec(fieldToVerify);\n    let matchFieldToMatch = checkForSystem.exec(fieldToMatch);\n    if (matchFieldToVerify && matchFieldToMatch) {\n      return (matchFieldToVerify[1] + matchFieldToVerify[3]).toLowerCase() == (matchFieldToMatch[1] + matchFieldToMatch[3]).toLowerCase()\n    }\n    return false;\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/QueryUtils.ts\n **/","l":{"4":1,"5":1,"9":2,"10":1,"11":11294,"15":1,"17":0,"18":0,"19":0,"23":1,"24":11294,"25":11294,"26":11294,"27":90352,"28":90352,"29":6011,"31":90352,"33":11294,"36":1,"37":0,"40":1,"41":297,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":10,"54":1,"55":1,"56":1,"59":20,"60":10,"61":10,"64":1,"65":0,"68":1,"69":0,"72":1,"73":1,"76":1,"77":9,"80":1,"81":181,"84":1,"85":75,"86":75,"89":1,"90":20,"91":20,"94":1,"95":20,"96":20,"99":1,"100":75,"101":75,"104":1,"105":23,"106":23,"109":1,"110":20,"111":20,"114":1,"115":41,"116":41,"117":41,"118":41,"120":41,"121":23,"123":42,"127":1,"128":4,"129":4,"130":4,"132":4,"133":4,"134":0,"136":10,"139":4,"142":1,"143":0,"144":0,"145":0,"147":0,"149":0,"152":1,"153":4,"154":4,"157":1,"158":6,"159":60,"160":60,"164":1,"165":357,"166":357,"167":0,"169":357,"170":0,"175":1,"176":16,"179":1,"180":675,"181":675,"182":675,"183":675,"184":675,"186":0,"189":1}},"src/rest/QueryError.ts":{"path":"src/rest/QueryError.ts","statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":38}},"2":{"start":{"line":5,"column":0},"end":{"line":22,"column":1}},"3":{"start":{"line":12,"column":2},"end":{"line":21,"column":3}},"4":{"start":{"line":13,"column":4},"end":{"line":13,"column":43}},"5":{"start":{"line":14,"column":4},"end":{"line":14,"column":46}},"6":{"start":{"line":15,"column":4},"end":{"line":15,"column":52}},"7":{"start":{"line":16,"column":4},"end":{"line":16,"column":67}},"8":{"start":{"line":18,"column":4},"end":{"line":18,"column":33}},"9":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"10":{"start":{"line":20,"column":4},"end":{"line":20,"column":39}},"11":{"start":{"line":22,"column":0},"end":{"line":22,"column":1}},"12":{"start":{"line":5,"column":13},"end":{"line":22,"column":1}}},"fnMap":{"1":{"name":"(anonymous_656)","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"QueryError","line":12,"loc":{"start":{"line":12,"column":2},"end":{"line":12,"column":43}}}},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":5,"5":5,"6":5,"7":5,"8":5,"9":5,"10":5,"11":1,"12":1},"b":{},"f":{"1":1,"2":5},"code":"import {IEndpointError} from './EndpointError';\nimport {IErrorResponse} from './EndpointCaller';\nimport {Assert} from '../misc/Assert';\n\nexport class QueryError implements IEndpointError {\n  public status: number;\n  public message: string;\n  public type: string;\n  public queryExecutionReport: any;\n  public name: string;\n\n  constructor(errorResponse: IErrorResponse) {\n    this.status = errorResponse.statusCode;\n    this.message = errorResponse.data.message;\n    this.name = this.type = errorResponse.data.type;\n    this.queryExecutionReport = errorResponse.data.executionReport;\n\n    Assert.isNumber(this.status);\n    Assert.isNonEmptyString(this.message);\n    Assert.isNonEmptyString(this.type);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/rest/QueryError.ts\n **/","l":{"3":1,"5":1,"12":1,"13":5,"14":5,"15":5,"16":5,"18":5,"19":5,"20":5,"22":1}},"src/ExternalModulesShim.ts":{"path":"src/ExternalModulesShim.ts","statementMap":{"1":{"start":{"line":2,"column":13},"end":{"line":2,"column":104}},"2":{"start":{"line":3,"column":13},"end":{"line":3,"column":108}},"3":{"start":{"line":4,"column":13},"end":{"line":4,"column":95}}},"fnMap":{},"branchMap":{},"s":{"1":1,"2":1,"3":1},"b":{},"f":{},"code":"declare function require(moduleName: string): any;\nexport const ModalBox = require('exports?Coveo.ModalBox!../node_modules/modal-box/bin/ModalBox.min.js');\nexport const MagicBox = require('exports?Coveo.MagicBox!../node_modules/coveomagicbox/bin/MagicBox.min.js');\nexport const LocaleString = require('exports?window.String.toLocaleString!../lib/l10n.min.js');\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ExternalModulesShim.ts\n **/","l":{"2":1,"3":1,"4":1}},"src/MiscModules.ts":{"path":"src/MiscModules.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":37}},"2":{"start":{"line":1,"column":8},"end":{"line":1,"column":37}},"3":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"4":{"start":{"line":2,"column":8},"end":{"line":2,"column":35}},"5":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}},"6":{"start":{"line":3,"column":8},"end":{"line":3,"column":35}},"7":{"start":{"line":4,"column":0},"end":{"line":4,"column":33}},"8":{"start":{"line":4,"column":8},"end":{"line":4,"column":33}},"9":{"start":{"line":5,"column":0},"end":{"line":5,"column":37}},"10":{"start":{"line":5,"column":8},"end":{"line":5,"column":37}},"11":{"start":{"line":6,"column":0},"end":{"line":6,"column":39}},"12":{"start":{"line":6,"column":8},"end":{"line":6,"column":39}},"13":{"start":{"line":7,"column":0},"end":{"line":7,"column":36}},"14":{"start":{"line":7,"column":8},"end":{"line":7,"column":36}}},"fnMap":{},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1},"b":{},"f":{},"code":"export {Assert} from './misc/Assert';\nexport {Cache} from './misc/Cache';\nexport {Defer} from './misc/Defer';\nexport {L10N} from './misc/L10N';\nexport {Logger} from './misc/Logger';\nexport {Options} from './misc/Options';\nexport {l} from './strings/Strings';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/MiscModules.ts\n **/","l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1}},"src/misc/Cache.ts":{"path":"src/misc/Cache.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":18,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":3,"column":3}},"3":{"start":{"line":2,"column":21},"end":{"line":2,"column":41}},"4":{"start":{"line":5,"column":10},"end":{"line":5,"column":29}},"5":{"start":{"line":7,"column":9},"end":{"line":13,"column":3}},"6":{"start":{"line":8,"column":4},"end":{"line":12,"column":5}},"7":{"start":{"line":9,"column":6},"end":{"line":9,"column":28}},"8":{"start":{"line":11,"column":6},"end":{"line":11,"column":30}},"9":{"start":{"line":15,"column":9},"end":{"line":17,"column":3}},"10":{"start":{"line":16,"column":4},"end":{"line":16,"column":27}},"11":{"start":{"line":18,"column":0},"end":{"line":18,"column":1}},"12":{"start":{"line":1,"column":13},"end":{"line":18,"column":1}}},"fnMap":{"1":{"name":"(anonymous_975)","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Cache","line":2,"loc":{"start":{"line":2,"column":2},"end":{"line":2,"column":41}}},"3":{"name":"(anonymous_977)","line":7,"loc":{"start":{"line":7,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_978)","line":15,"loc":{"start":{"line":15,"column":2},"end":{"line":15,"column":25}}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":4},"end":{"line":8,"column":3}},{"start":{"line":8,"column":4},"end":{"line":8,"column":3}}]}},"s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":1,"10":0,"11":1,"12":1},"b":{"1":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0},"code":"export class Cache<Type> {\n  constructor(public onEmpty?: () => Type) {\n  }\n\n  private cache: Type[] = [];\n\n  public get(): Type {\n    if (this.cache.length == 0) {\n      return this.onEmpty();\n    } else {\n      return this.cache.pop();\n    }\n  }\n\n  public push(value: Type) {\n    this.cache.push(value);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/misc/Cache.ts\n **/","l":{"1":1,"2":1,"5":0,"7":1,"8":0,"9":0,"11":0,"15":1,"16":0,"18":1}},"src/misc/Defer.ts":{"path":"src/misc/Defer.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":32,"column":1}},"2":{"start":{"line":4,"column":9},"end":{"line":7,"column":3}},"3":{"start":{"line":5,"column":4},"end":{"line":5,"column":31}},"4":{"start":{"line":6,"column":4},"end":{"line":6,"column":16}},"5":{"start":{"line":9,"column":9},"end":{"line":12,"column":3}},"6":{"start":{"line":10,"column":4},"end":{"line":11,"column":5}},"7":{"start":{"line":14,"column":17},"end":{"line":20,"column":3}},"8":{"start":{"line":15,"column":4},"end":{"line":19,"column":7}},"9":{"start":{"line":16,"column":6},"end":{"line":18,"column":7}},"10":{"start":{"line":17,"column":8},"end":{"line":17,"column":20}},"11":{"start":{"line":22,"column":17},"end":{"line":31,"column":3}},"12":{"start":{"line":23,"column":4},"end":{"line":30,"column":5}},"13":{"start":{"line":24,"column":6},"end":{"line":24,"column":35}},"14":{"start":{"line":25,"column":6},"end":{"line":25,"column":48}},"15":{"start":{"line":26,"column":6},"end":{"line":26,"column":12}},"16":{"start":{"line":27,"column":6},"end":{"line":27,"column":40}},"17":{"start":{"line":29,"column":6},"end":{"line":29,"column":19}},"18":{"start":{"line":2,"column":17},"end":{"line":2,"column":32}},"19":{"start":{"line":32,"column":0},"end":{"line":32,"column":1}},"20":{"start":{"line":1,"column":13},"end":{"line":32,"column":1}}},"fnMap":{"1":{"name":"(anonymous_981)","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_983)","line":4,"loc":{"start":{"line":4,"column":2},"end":{"line":4,"column":31}}},"3":{"name":"(anonymous_984)","line":9,"loc":{"start":{"line":9,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_985)","line":14,"loc":{"start":{"line":14,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_986)","line":15,"loc":{"start":{"line":15,"column":12},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_987)","line":22,"loc":{"start":{"line":22,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":6},"end":{"line":16,"column":5}},{"start":{"line":16,"column":6},"end":{"line":16,"column":5}}]},"2":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":4},"end":{"line":23,"column":3}},{"start":{"line":23,"column":4},"end":{"line":23,"column":3}}]}},"s":{"1":2,"2":1,"3":101,"4":101,"5":1,"6":273,"7":1,"8":111,"9":109,"10":10,"11":1,"12":416,"13":101,"14":101,"15":101,"16":101,"17":315,"18":1,"19":1,"20":1},"b":{"1":[10,99],"2":[101,315]},"f":{"1":1,"2":101,"3":273,"4":111,"5":109,"6":416},"code":"export class Defer {\n  private static functions = [];\n\n  static defer(code: () => void) {\n    Defer.functions.push(code);\n    Defer.arm();\n  }\n\n  static flush() {\n    while (Defer.popOne()) {\n    }\n  }\n\n  private static arm() {\n    _.defer(() => {\n      if (Defer.popOne()) {\n        Defer.arm();\n      }\n    });\n  }\n\n  private static popOne() {\n    if (Defer.functions.length > 0) {\n      var fun = Defer.functions[0];\n      Defer.functions = _.rest(Defer.functions);\n      fun();\n      return Defer.functions.length > 0;\n    } else {\n      return false;\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/misc/Defer.ts\n **/","l":{"1":2,"2":1,"4":1,"5":101,"6":101,"9":1,"10":273,"14":1,"15":111,"16":109,"17":10,"22":1,"23":416,"24":101,"25":101,"26":101,"27":101,"29":315,"32":1}},"src/misc/L10N.ts":{"path":"src/misc/L10N.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":52}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":50}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":52}},"5":{"start":{"line":7,"column":11},"end":{"line":30,"column":1}},"6":{"start":{"line":8,"column":24},"end":{"line":8,"column":38}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":37}},"8":{"start":{"line":10,"column":4},"end":{"line":18,"column":5}},"9":{"start":{"line":11,"column":6},"end":{"line":11,"column":30}},"10":{"start":{"line":13,"column":6},"end":{"line":16,"column":7}},"11":{"start":{"line":14,"column":8},"end":{"line":14,"column":19}},"12":{"start":{"line":15,"column":8},"end":{"line":15,"column":45}},"13":{"start":{"line":17,"column":6},"end":{"line":17,"column":69}},"14":{"start":{"line":17,"column":31},"end":{"line":17,"column":67}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":17}},"16":{"start":{"line":22,"column":4},"end":{"line":22,"column":58}},"17":{"start":{"line":23,"column":4},"end":{"line":27,"column":5}},"18":{"start":{"line":24,"column":6},"end":{"line":24,"column":74}},"19":{"start":{"line":26,"column":6},"end":{"line":26,"column":74}},"20":{"start":{"line":28,"column":4},"end":{"line":28,"column":17}}},"fnMap":{"1":{"name":"(anonymous_990)","line":8,"loc":{"start":{"line":8,"column":10},"end":{"line":8,"column":22}}},"2":{"name":"(anonymous_991)","line":17,"loc":{"start":{"line":17,"column":19},"end":{"line":17,"column":26}}},"3":{"name":"(anonymous_992)","line":21,"loc":{"start":{"line":21,"column":14},"end":{"line":21,"column":53}}}},"branchMap":{"1":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":3}},{"start":{"line":10,"column":4},"end":{"line":10,"column":3}}]},"2":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":6},"end":{"line":13,"column":5}},{"start":{"line":13,"column":6},"end":{"line":13,"column":5}}]},"3":{"line":13,"type":"binary-expr","locations":[{"start":{"line":13,"column":10},"end":{"line":13,"column":27}},{"start":{"line":13,"column":31},"end":{"line":13,"column":47}}]},"4":{"line":22,"type":"cond-expr","locations":[{"start":{"line":22,"column":40},"end":{"line":22,"column":45}},{"start":{"line":22,"column":48},"end":{"line":22,"column":57}}]},"5":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":4},"end":{"line":23,"column":3}},{"start":{"line":23,"column":4},"end":{"line":23,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":3411,"7":2647,"8":2647,"9":709,"10":709,"11":35,"12":35,"13":709,"14":729,"15":2647,"16":35,"17":35,"18":24,"19":11,"20":35},"b":{"1":[709,1938],"2":[35,674],"3":[709,693],"4":[16,19],"5":[24,11]},"f":{"1":2647,"2":729,"3":35},"code":"import {LocaleString} from '../ExternalModulesShim';\n\nString.toLocaleString = LocaleString;\nconst pluralRegex = /<pl>(((?!<\\/pl>).)*)<\\/pl>/g;\nconst singularRegex = /<sn>(((?!<\\/sn>).)*)<\\/sn>/g;\n\nexport var L10N = {\n  format: (key: string, ...args: any[]) => {\n    let value = key.toLocaleString();\n    if (args.length > 0) {\n      let last = _.last(args);\n      // Last argument is either the count or a boolean forcing plural (true) or singular (false)\n      if (_.isBoolean(last) || _.isNumber(last)) {\n        args.pop();\n        value = L10N.formatPlSn(value, last);\n      }\n      _.each(args, (arg, i) => value = value.replace(`{${i}}`, arg));\n    }\n    return value;\n  },\n  formatPlSn: (value: string, count: number | boolean) => {\n    let isPlural = _.isBoolean(count) ? count : count > 1;\n    if (isPlural) {\n      value = value.replace(pluralRegex, '$1').replace(singularRegex, '');\n    } else {\n      value = value.replace(pluralRegex, '').replace(singularRegex, '$1');\n    }\n    return value;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/misc/L10N.ts\n **/","l":{"1":1,"3":1,"4":1,"5":1,"7":1,"8":3411,"9":2647,"10":2647,"11":709,"13":709,"14":35,"15":35,"17":729,"19":2647,"22":35,"23":35,"24":24,"26":11,"28":35}},"src/misc/Options.ts":{"path":"src/misc/Options.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":37}},"2":{"start":{"line":3,"column":0},"end":{"line":11,"column":1}},"3":{"start":{"line":4,"column":9},"end":{"line":6,"column":3}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":40}},"5":{"start":{"line":8,"column":9},"end":{"line":10,"column":3}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":58}},"7":{"start":{"line":11,"column":0},"end":{"line":11,"column":1}},"8":{"start":{"line":3,"column":13},"end":{"line":11,"column":1}}},"fnMap":{"1":{"name":"(anonymous_995)","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_997)","line":4,"loc":{"start":{"line":4,"column":2},"end":{"line":4,"column":29}}},"3":{"name":"(anonymous_998)","line":8,"loc":{"start":{"line":8,"column":2},"end":{"line":8,"column":33}}}},"branchMap":{},"s":{"1":1,"2":2,"3":1,"4":13,"5":1,"6":0,"7":1,"8":1},"b":{},"f":{"1":14,"2":13,"3":0},"code":"import {Utils} from '../utils/Utils';\n\nexport class Options {\n  public merge<T>(provided: T): T {\n    return _.extend({}, this, provided);\n  }\n\n  public mergeDeep<T>(provided: T): T {\n    return _.extend({}, Utils.extendDeep(this, provided));\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/misc/Options.ts\n **/","l":{"1":1,"3":2,"4":1,"5":13,"8":1,"9":0,"11":1}},"src/strings/Strings.ts":{"path":"src/strings/Strings.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":36}},"2":{"start":{"line":432,"column":0},"end":{"line":432,"column":82}},"3":{"start":{"line":432,"column":18},"end":{"line":432,"column":35}},"4":{"start":{"line":432,"column":39},"end":{"line":432,"column":80}},"5":{"start":{"line":432,"column":16},"end":{"line":432,"column":82}}},"fnMap":{"1":{"name":"l","line":432,"loc":{"start":{"line":432,"column":0},"end":{"line":null,"column":-1}}}},"branchMap":{},"s":{"1":1,"2":1,"3":5990,"4":2629,"5":1},"b":{},"f":{"1":2629},"code":"import { L10N } from '../misc/L10N';\nexport function l(str : \"Unknown\");\nexport function l(str : \"And\");\nexport function l(str : \"Authenticating\" , param0: string);\nexport function l(str : \"Clear\" , param0: string);\nexport function l(str : \"CompleteQuery\");\nexport function l(str : \"Exclude\" , param0: string);\nexport function l(str : \"EnterTag\");\nexport function l(str : \"Next\");\nexport function l(str : \"Last\");\nexport function l(str : \"Link\");\nexport function l(str : \"Or\");\nexport function l(str : \"Previous\");\nexport function l(str : \"QueryDidntMatchAnyDocuments\");\nexport function l(str : \"QueryException\" , param0: string);\nexport function l(str : \"Me\");\nexport function l(str : \"Remove\");\nexport function l(str : \"Search\");\nexport function l(str : \"SearchFor\" , param0: string);\nexport function l(str : \"ShareQuery\");\nexport function l(str : \"Preferences\");\nexport function l(str : \"LinkOpeningSettings\");\nexport function l(str : \"Reauthenticate\" , param0: string);\nexport function l(str : \"ResultsFilteringExpression\");\nexport function l(str : \"FiltersInYourPreferences\");\nexport function l(str : \"Create\");\nexport function l(str : \"SearchIn\" , param0: string);\nexport function l(str : \"Seconds\" , param0: string, count: number);\nexport function l(str : \"ShowingResultsOf\" , param0: string, param1: string, param2: string, count: number);\nexport function l(str : \"SwitchTo\" , param0: string);\nexport function l(str : \"Unexclude\" , param0: string);\nexport function l(str : \"ClearAllFilters\");\nexport function l(str : \"SkipLogin\");\nexport function l(str : \"LoginInProgress\");\nexport function l(str : \"Login\");\nexport function l(str : \"GetStarted\");\nexport function l(str : \"More\");\nexport function l(str : \"NMore\" , param0: string);\nexport function l(str : \"Less\");\nexport function l(str : \"Settings\");\nexport function l(str : \"Score\");\nexport function l(str : \"ScoreDescription\");\nexport function l(str : \"Occurrences\");\nexport function l(str : \"OccurrencesDescription\");\nexport function l(str : \"Label\");\nexport function l(str : \"Of\");\nexport function l(str : \"LabelDescription\");\nexport function l(str : \"Value\");\nexport function l(str : \"ValueDescription\");\nexport function l(str : \"AlphaAscending\");\nexport function l(str : \"AlphaDescending\");\nexport function l(str : \"ChiSquare\");\nexport function l(str : \"Nosort\");\nexport function l(str : \"RelativeFrequency\");\nexport function l(str : \"RelativeFrequencyDescription\");\nexport function l(str : \"DateDistribution\");\nexport function l(str : \"Custom\");\nexport function l(str : \"CustomDescription\");\nexport function l(str : \"ComputedField\");\nexport function l(str : \"Ascending\");\nexport function l(str : \"Descending\");\nexport function l(str : \"noResultFor\" , param0: string);\nexport function l(str : \"autoCorrectedQueryTo\" , param0: string);\nexport function l(str : \"didYouMean\" , param0: string);\nexport function l(str : \"SuggestedResults\");\nexport function l(str : \"SuggestedQueries\");\nexport function l(str : \"MostRelevantItems\");\nexport function l(str : \"AllItems\");\nexport function l(str : \"ShowLess\");\nexport function l(str : \"ShowMore\");\nexport function l(str : \"HideFacet\");\nexport function l(str : \"ShowFacet\");\nexport function l(str : \"AndOthers\" , param0: string, count: number);\nexport function l(str : \"Others\" , param0: string, count: number);\nexport function l(str : \"MostRelevantPosts\");\nexport function l(str : \"CompleteThread\");\nexport function l(str : \"ShowCompleteThread\");\nexport function l(str : \"ShowOnlyTopMatchingPosts\");\nexport function l(str : \"MostRelevantReplies\");\nexport function l(str : \"AllConversation\");\nexport function l(str : \"ShowAllConversation\");\nexport function l(str : \"ShowAllReplies\");\nexport function l(str : \"ShowOnlyMostRelevantReplies\");\nexport function l(str : \"Close\");\nexport function l(str : \"Open\");\nexport function l(str : \"OpenInOutlookWhenPossible\");\nexport function l(str : \"AlwaysOpenInNewWindow\");\nexport function l(str : \"Quickview\");\nexport function l(str : \"NoQuickview\");\nexport function l(str : \"ErrorReport\");\nexport function l(str : \"OopsError\");\nexport function l(str : \"ProblemPersists\");\nexport function l(str : \"GoBack\");\nexport function l(str : \"Reset\");\nexport function l(str : \"Retry\");\nexport function l(str : \"MoreInfo\");\nexport function l(str : \"Username\");\nexport function l(str : \"Password\");\nexport function l(str : \"PostedBy\");\nexport function l(str : \"CannotConnect\");\nexport function l(str : \"BadUserPass\");\nexport function l(str : \"PleaseEnterYourCredentials\" , param0: string);\nexport function l(str : \"PleaseEnterYourSearchPage\");\nexport function l(str : \"Collapse\");\nexport function l(str : \"Collapsable\");\nexport function l(str : \"Expand\");\nexport function l(str : \"Today\");\nexport function l(str : \"Yesterday\");\nexport function l(str : \"Tomorrow\");\nexport function l(str : \"Duration\" , param0: string);\nexport function l(str : \"IndexDuration\" , param0: string);\nexport function l(str : \"ProxyDuration\" , param0: string);\nexport function l(str : \"ClientDuration\" , param0: string);\nexport function l(str : \"Unavailable\");\nexport function l(str : \"Reply\");\nexport function l(str : \"ReplyAll\");\nexport function l(str : \"Forward\");\nexport function l(str : \"From\");\nexport function l(str : \"Caption\");\nexport function l(str : \"Expression\");\nexport function l(str : \"Tab\");\nexport function l(str : \"Tabs\");\nexport function l(str : \"EnterExpressionName\");\nexport function l(str : \"EnterExpressionToFilterWith\");\nexport function l(str : \"SelectTab\");\nexport function l(str : \"SelectAll\");\nexport function l(str : \"PageUrl\");\nexport function l(str : \"ErrorSavingToDevice\");\nexport function l(str : \"ErrorReadingFromDevice\");\nexport function l(str : \"AppIntro\");\nexport function l(str : \"TryDemo\");\nexport function l(str : \"ContactUs\");\nexport function l(str : \"NewToCoveo\");\nexport function l(str : \"LetUsHelpGetStarted\");\nexport function l(str : \"LikesThis\" , param0: string, count: number);\nexport function l(str : \"CannotConnectSearchPage\");\nexport function l(str : \"AreYouSureDeleteFilter\" , param0: string, param1: string);\nexport function l(str : \"OnlineHelp\");\nexport function l(str : \"Done\");\nexport function l(str : \"SaveFacetState\");\nexport function l(str : \"ClearFacetState\");\nexport function l(str : \"DisplayingTheOnlyMessage\");\nexport function l(str : \"NoNetworkConnection\");\nexport function l(str : \"UnknownConnection\");\nexport function l(str : \"EthernetConnection\");\nexport function l(str : \"WiFi\");\nexport function l(str : \"CELL\");\nexport function l(str : \"CELL_2G\");\nexport function l(str : \"CELL_3G\");\nexport function l(str : \"CELL_4G\");\nexport function l(str : \"Relevance\");\nexport function l(str : \"Date\");\nexport function l(str : \"Amount\");\nexport function l(str : \"QueryExceptionNoException\");\nexport function l(str : \"QueryExceptionInvalidSyntax\");\nexport function l(str : \"QueryExceptionInvalidCustomField\");\nexport function l(str : \"QueryExceptionInvalidDate\");\nexport function l(str : \"QueryExceptionInvalidExactPhrase\");\nexport function l(str : \"QueryExceptionInvalidDateOp\");\nexport function l(str : \"QueryExceptionInvalidNear\");\nexport function l(str : \"QueryExceptionInvalidWeightedNear\");\nexport function l(str : \"QueryExceptionInvalidTerm\");\nexport function l(str : \"QueryExceptionTooManyTerms\");\nexport function l(str : \"QueryExceptionWildcardTooGeneral\");\nexport function l(str : \"QueryExceptionInvalidSortField\");\nexport function l(str : \"QueryExceptionInvalidSmallStringOp\");\nexport function l(str : \"QueryExceptionRequestedResultsMax\");\nexport function l(str : \"QueryExceptionAggregatedMirrorDead\");\nexport function l(str : \"QueryExceptionAggregatedMirrorQueryTimeOut\");\nexport function l(str : \"QueryExceptionAggregatedMirrorInvalidBuildNumber\");\nexport function l(str : \"QueryExceptionAggregatedMirrorCannotConnect\");\nexport function l(str : \"QueryExceptionNotEnoughLeadingCharsWildcard\");\nexport function l(str : \"QueryExceptionSecurityInverterNotFound\");\nexport function l(str : \"QueryExceptionSecurityInverterAccessDenied\");\nexport function l(str : \"QueryExceptionAggregatedMirrorCannotImpersonate\");\nexport function l(str : \"QueryExceptionUnexpected\");\nexport function l(str : \"QueryExceptionAccessDenied\");\nexport function l(str : \"QueryExceptionSuperUserTokenInvalid\");\nexport function l(str : \"QueryExceptionSuperUserTokenExpired\");\nexport function l(str : \"QueryExceptionLicenseQueriesExpired\");\nexport function l(str : \"QueryExceptionLicenseSuperUserTokenNotSupported\");\nexport function l(str : \"QueryExceptionInvalidSession\");\nexport function l(str : \"QueryExceptionInvalidDocument\");\nexport function l(str : \"QueryExceptionSearchDisabled\");\nexport function l(str : \"FileType\");\nexport function l(str : \"ShowAttachment\");\nexport function l(str : \"OnFeed\" , param0: string);\nexport function l(str : \"Author\");\nexport function l(str : \"NoTitle\");\nexport function l(str : \"CurrentSelections\");\nexport function l(str : \"AllContent\");\nexport function l(str : \"CancelLastAction\");\nexport function l(str : \"SearchTips\");\nexport function l(str : \"CheckSpelling\");\nexport function l(str : \"TryUsingFewerKeywords\");\nexport function l(str : \"SelectFewerFilters\");\nexport function l(str : \"Document\");\nexport function l(str : \"Time\");\nexport function l(str : \"StartDate\");\nexport function l(str : \"StartTime\");\nexport function l(str : \"DurationTitle\");\nexport function l(str : \"UserQuery\");\nexport function l(str : \"ShowUserActions\");\nexport function l(str : \"NoData\");\nexport function l(str : \"EventType\");\nexport function l(str : \"GoToFullSearch\");\nexport function l(str : \"GoToEdition\");\nexport function l(str : \"RemoveContext\");\nexport function l(str : \"BoxAttachToCase\");\nexport function l(str : \"AttachToCase\");\nexport function l(str : \"Attach\");\nexport function l(str : \"Attached\");\nexport function l(str : \"Detach\");\nexport function l(str : \"Details\");\nexport function l(str : \"AdditionalFilters\");\nexport function l(str : \"SelectNonContextualSearch\");\nexport function l(str : \"CopyPasteToSupport\");\nexport function l(str : \"FollowQueryDescription\");\nexport function l(str : \"SearchAlerts_Panel\");\nexport function l(str : \"SearchAlerts_PanelDescription\");\nexport function l(str : \"SearchAlerts_PanelNoSearchAlerts\");\nexport function l(str : \"SearchAlerts_Fail\");\nexport function l(str : \"SearchAlerts_Type\");\nexport function l(str : \"SearchAlerts_Content\");\nexport function l(str : \"SearchAlerts_Actions\");\nexport function l(str : \"EmptyQuery\");\nexport function l(str : \"SearchAlerts_Type_followQuery\");\nexport function l(str : \"SearchAlerts_Type_followDocument\");\nexport function l(str : \"SearchAlerts_unFollowing\");\nexport function l(str : \"SearchAlerts_follow\");\nexport function l(str : \"SearchAlerts_followed\");\nexport function l(str : \"SearchAlerts_followQuery\");\nexport function l(str : \"Subscription_StopFollowingQuery\");\nexport function l(str : \"SearchAlerts_Frequency\");\nexport function l(str : \"SubscriptionsManageSubscriptions\");\nexport function l(str : \"SubscriptionsMessageFollowQuery\" , param0: string);\nexport function l(str : \"SubscriptionsMessageFollow\" , param0: string);\nexport function l(str : \"Expiration\");\nexport function l(str : \"Daily\");\nexport function l(str : \"Monday\");\nexport function l(str : \"Tuesday\");\nexport function l(str : \"Wednesday\");\nexport function l(str : \"Thursday\");\nexport function l(str : \"Friday\");\nexport function l(str : \"Saturday\");\nexport function l(str : \"Sunday\");\nexport function l(str : \"StartTypingCaseForSuggestions\");\nexport function l(str : \"ExportToExcel\");\nexport function l(str : \"ExportToExcelDescription\");\nexport function l(str : \"CaseCreationNoResults\");\nexport function l(str : \"SortBy\");\nexport function l(str : \"BoxCreateArticle\");\nexport function l(str : \"Facets\");\nexport function l(str : \"objecttype_people\");\nexport function l(str : \"objecttype_message\");\nexport function l(str : \"objecttype_feed\");\nexport function l(str : \"objecttype_thread\");\nexport function l(str : \"objecttype_file\");\nexport function l(str : \"objecttype_board\");\nexport function l(str : \"objecttype_category\");\nexport function l(str : \"objecttype_account\");\nexport function l(str : \"objecttype_campaign\");\nexport function l(str : \"objecttype_case\");\nexport function l(str : \"objecttype_contact\");\nexport function l(str : \"objecttype_contract\");\nexport function l(str : \"objecttype_event\");\nexport function l(str : \"objecttype_lead\");\nexport function l(str : \"objecttype_solution\");\nexport function l(str : \"objecttype_task\");\nexport function l(str : \"objecttype_user\");\nexport function l(str : \"objecttype_attachment\");\nexport function l(str : \"objecttype_casecomment\");\nexport function l(str : \"objecttype_opportunity\");\nexport function l(str : \"objecttype_feeditem\");\nexport function l(str : \"objecttype_feedcomment\");\nexport function l(str : \"objecttype_note\");\nexport function l(str : \"objecttype_product\");\nexport function l(str : \"objecttype_partner\");\nexport function l(str : \"objecttype_kbdocumentation\");\nexport function l(str : \"objecttype_kbtechnicalarticle\");\nexport function l(str : \"objecttype_kbsolution\");\nexport function l(str : \"objecttype_kbknowledgearticle\");\nexport function l(str : \"objecttype_kbattachment\");\nexport function l(str : \"filetype_html\");\nexport function l(str : \"filetype_wiki\");\nexport function l(str : \"filetype_webscraperwebpage\");\nexport function l(str : \"filetype_image\");\nexport function l(str : \"filetype_folder\");\nexport function l(str : \"filetype_txt\");\nexport function l(str : \"filetype_zip\");\nexport function l(str : \"filetype_pdf\");\nexport function l(str : \"filetype_xml\");\nexport function l(str : \"filetype_doc\");\nexport function l(str : \"filetype_xls\");\nexport function l(str : \"filetype_ppt\");\nexport function l(str : \"filetype_video\");\nexport function l(str : \"filetype_youtube\");\nexport function l(str : \"filetype_saleforceitem\");\nexport function l(str : \"filetype_exchangemessage\");\nexport function l(str : \"filetype_exchangeappointment\");\nexport function l(str : \"filetype_exchangenote\");\nexport function l(str : \"filetype_exchangetask\");\nexport function l(str : \"filetype_exchangeperson\");\nexport function l(str : \"filetype_activedirperson\");\nexport function l(str : \"filetype_exchangeactivity\");\nexport function l(str : \"filetype_exchangecalendarmessage\");\nexport function l(str : \"filetype_exchangedocument\");\nexport function l(str : \"filetype_exchangerssfeed\");\nexport function l(str : \"filetype_exchangejunkmessage\");\nexport function l(str : \"filetype_exchangeofficecom\");\nexport function l(str : \"filetype_lithiummessage\");\nexport function l(str : \"filetype_lithiumthread\");\nexport function l(str : \"filetype_lithiumboard\");\nexport function l(str : \"filetype_lithiumcategory\");\nexport function l(str : \"filetype_lithiumcommunity\");\nexport function l(str : \"filetype_spportal\");\nexport function l(str : \"filetype_spsite\");\nexport function l(str : \"filetype_spuserprofile\");\nexport function l(str : \"filetype_sparea\");\nexport function l(str : \"filetype_spannouncement\");\nexport function l(str : \"filetype_spannouncementlist\");\nexport function l(str : \"filetype_spcontact\");\nexport function l(str : \"filetype_spcontactlist\");\nexport function l(str : \"filetype_spcustomlist\");\nexport function l(str : \"filetype_spdiscussionboard\");\nexport function l(str : \"filetype_spdiscussionboardlist\");\nexport function l(str : \"filetype_spdocumentlibrarylist\");\nexport function l(str : \"filetype_spevent\");\nexport function l(str : \"filetype_speventlist\");\nexport function l(str : \"filetype_spformlibrarylist\");\nexport function l(str : \"filetype_spissue\");\nexport function l(str : \"filetype_spissuelist\");\nexport function l(str : \"filetype_splink\");\nexport function l(str : \"filetype_splinklist\");\nexport function l(str : \"filetype_sppicturelibrarylist\");\nexport function l(str : \"filetype_spsurvey\");\nexport function l(str : \"filetype_spsurveylist\");\nexport function l(str : \"filetype_sptask\");\nexport function l(str : \"filetype_sptasklist\");\nexport function l(str : \"filetype_spagenda\");\nexport function l(str : \"filetype_spagendalist\");\nexport function l(str : \"filetype_spattendee\");\nexport function l(str : \"filetype_spattendeelist\");\nexport function l(str : \"filetype_spcustomgridlist\");\nexport function l(str : \"filetype_spdecision\");\nexport function l(str : \"filetype_spdecisionlist\");\nexport function l(str : \"filetype_spobjective\");\nexport function l(str : \"filetype_spobjectivelist\");\nexport function l(str : \"filetype_sptextbox\");\nexport function l(str : \"filetype_sptextboxlist\");\nexport function l(str : \"filetype_spthingstobring\");\nexport function l(str : \"filetype_spthingstobringlist\");\nexport function l(str : \"filetype_sparealisting\");\nexport function l(str : \"filetype_spmeetingserie\");\nexport function l(str : \"filetype_spmeetingserielist\");\nexport function l(str : \"filetype_spsitedirectory\");\nexport function l(str : \"filetype_spsitedirectorylist\");\nexport function l(str : \"filetype_spdatasource\");\nexport function l(str : \"filetype_spdatasourcelist\");\nexport function l(str : \"filetype_splisttemplatecataloglist\");\nexport function l(str : \"filetype_spwebpartcataloglist\");\nexport function l(str : \"filetype_spwebtemplatecataloglist\");\nexport function l(str : \"filetype_spworkspacepagelist\");\nexport function l(str : \"filetype_spunknownlist\");\nexport function l(str : \"filetype_spadministratortask\");\nexport function l(str : \"filetype_spadministratortasklist\");\nexport function l(str : \"filetype_spareadocumentlibrarylist\");\nexport function l(str : \"filetype_spblogcategory\");\nexport function l(str : \"filetype_spblogcategorylist\");\nexport function l(str : \"filetype_spblogcomment\");\nexport function l(str : \"filetype_spblogcommentlist\");\nexport function l(str : \"filetype_spblogpost\");\nexport function l(str : \"filetype_spblogpostlist\");\nexport function l(str : \"filetype_spdataconnectionlibrarylist\");\nexport function l(str : \"filetype_spdistributiongroup\");\nexport function l(str : \"filetype_spdistributiongrouplist\");\nexport function l(str : \"filetype_spipfslist\");\nexport function l(str : \"filetype_spkeyperformanceindicator\");\nexport function l(str : \"filetype_spkeyperformanceindicatorlist\");\nexport function l(str : \"filetype_splanguagesandtranslator\");\nexport function l(str : \"filetype_splanguagesandtranslatorlist\");\nexport function l(str : \"filetype_spmasterpagescataloglist\");\nexport function l(str : \"filetype_spnocodeworkflowlibrarylist\");\nexport function l(str : \"filetype_spprojecttask\");\nexport function l(str : \"filetype_spprojecttasklist\");\nexport function l(str : \"filetype_sppublishingpageslibrarylist\");\nexport function l(str : \"filetype_spreportdocumentlibrarylist\");\nexport function l(str : \"filetype_spreportlibrarylist\");\nexport function l(str : \"filetype_spslidelibrarylist\");\nexport function l(str : \"filetype_sptab\");\nexport function l(str : \"filetype_sptablist\");\nexport function l(str : \"filetype_sptranslationmanagementlibrarylist\");\nexport function l(str : \"filetype_spuserinformation\");\nexport function l(str : \"filetype_spuserinformationlist\");\nexport function l(str : \"filetype_spwikipagelibrarylist\");\nexport function l(str : \"filetype_spworkflowhistory\");\nexport function l(str : \"filetype_spworkflowhistorylist\");\nexport function l(str : \"filetype_spworkflowprocess\");\nexport function l(str : \"filetype_spworkflowprocesslist\");\nexport function l(str : \"filetype_sppublishingimageslibrarylist\");\nexport function l(str : \"filetype_spcirculation\");\nexport function l(str : \"filetype_spcirculationlist\");\nexport function l(str : \"filetype_spdashboardslibrarylist\");\nexport function l(str : \"filetype_spdataconnectionforperformancepointlibrarylist\");\nexport function l(str : \"filetype_sphealthreport\");\nexport function l(str : \"filetype_sphealthreportlist\");\nexport function l(str : \"filetype_sphealthrule\");\nexport function l(str : \"filetype_sphealthrulelist\");\nexport function l(str : \"filetype_spimedictionary\");\nexport function l(str : \"filetype_spimedictionarylist\");\nexport function l(str : \"filetype_spperformancepointcontent\");\nexport function l(str : \"filetype_spperformancepointcontentlist\");\nexport function l(str : \"filetype_spphonecallmemo\");\nexport function l(str : \"filetype_spphonecallmemolist\");\nexport function l(str : \"filetype_sprecordlibrarylist\");\nexport function l(str : \"filetype_spresource\");\nexport function l(str : \"filetype_spresourcelist\");\nexport function l(str : \"filetype_spprocessdiagramslibrarylist\");\nexport function l(str : \"filetype_spsitethemeslibrarylist\");\nexport function l(str : \"filetype_spsolutionslibrarylist\");\nexport function l(str : \"filetype_spwfpublibrarylist\");\nexport function l(str : \"filetype_spwhereabout\");\nexport function l(str : \"filetype_spwhereaboutlist\");\nexport function l(str : \"filetype_spdocumentlink\");\nexport function l(str : \"filetype_spdocumentset\");\nexport function l(str : \"filetype_spmicrofeedpost\");\nexport function l(str : \"filetype_spmicrofeedlist\");\nexport function l(str : \"filetype_splistfolder\");\nexport function l(str : \"filetype_youtubevideo\");\nexport function l(str : \"filetype_youtubeplaylistitem\");\nexport function l(...params : any[]);\nexport function l(...params : any[]) { return L10N.format.apply(this, arguments) };\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/strings/Strings.ts\n **/","l":{"1":1,"432":5990}},"src/RestModules.ts":{"path":"src/RestModules.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":59}},"2":{"start":{"line":1,"column":8},"end":{"line":1,"column":59}},"3":{"start":{"line":2,"column":0},"end":{"line":2,"column":53}},"4":{"start":{"line":2,"column":8},"end":{"line":2,"column":53}},"5":{"start":{"line":3,"column":0},"end":{"line":3,"column":45}},"6":{"start":{"line":3,"column":8},"end":{"line":3,"column":45}}},"fnMap":{},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"b":{},"f":{},"code":"export {AnalyticsEndpoint} from './rest/AnalyticsEndpoint';\nexport {EndpointCaller} from './rest/EndpointCaller';\nexport {QueryError} from './rest/QueryError';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/RestModules.ts\n **/","l":{"1":1,"2":1,"3":1}},"src/rest/AnalyticsEndpoint.ts":{"path":"src/rest/AnalyticsEndpoint.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":38}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":78}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":38}},"4":{"start":{"line":12,"column":0},"end":{"line":12,"column":47}},"5":{"start":{"line":13,"column":0},"end":{"line":13,"column":44}},"6":{"start":{"line":16,"column":0},"end":{"line":16,"column":36}},"7":{"start":{"line":24,"column":0},"end":{"line":169,"column":1}},"8":{"start":{"line":38,"column":2},"end":{"line":46,"column":3}},"9":{"start":{"line":38,"column":21},"end":{"line":38,"column":55}},"10":{"start":{"line":39,"column":4},"end":{"line":39,"column":35}},"11":{"start":{"line":41,"column":4},"end":{"line":43,"column":5}},"12":{"start":{"line":44,"column":4},"end":{"line":44,"column":68}},"13":{"start":{"line":45,"column":4},"end":{"line":45,"column":45}},"14":{"start":{"line":48,"column":9},"end":{"line":50,"column":3}},"15":{"start":{"line":49,"column":4},"end":{"line":49,"column":24}},"16":{"start":{"line":52,"column":9},"end":{"line":68,"column":3}},"17":{"start":{"line":52,"column":2},"end":{"line":68,"column":3}},"18":{"start":{"line":53,"column":4},"end":{"line":67,"column":6}},"19":{"start":{"line":54,"column":6},"end":{"line":66,"column":7}},"20":{"start":{"line":55,"column":8},"end":{"line":55,"column":42}},"21":{"start":{"line":57,"column":8},"end":{"line":57,"column":61}},"22":{"start":{"line":58,"column":8},"end":{"line":65,"column":13}},"23":{"start":{"line":60,"column":12},"end":{"line":60,"column":39}},"24":{"start":{"line":61,"column":12},"end":{"line":61,"column":34}},"25":{"start":{"line":64,"column":12},"end":{"line":64,"column":29}},"26":{"start":{"line":70,"column":9},"end":{"line":75,"column":3}},"27":{"start":{"line":71,"column":4},"end":{"line":74,"column":5}},"28":{"start":{"line":72,"column":6},"end":{"line":72,"column":72}},"29":{"start":{"line":73,"column":6},"end":{"line":73,"column":124}},"30":{"start":{"line":77,"column":9},"end":{"line":81,"column":3}},"31":{"start":{"line":78,"column":4},"end":{"line":78,"column":37}},"32":{"start":{"line":79,"column":4},"end":{"line":79,"column":75}},"33":{"start":{"line":80,"column":4},"end":{"line":80,"column":72}},"34":{"start":{"line":83,"column":9},"end":{"line":87,"column":3}},"35":{"start":{"line":84,"column":4},"end":{"line":84,"column":31}},"36":{"start":{"line":85,"column":4},"end":{"line":85,"column":68}},"37":{"start":{"line":86,"column":4},"end":{"line":86,"column":68}},"38":{"start":{"line":89,"column":9},"end":{"line":92,"column":3}},"39":{"start":{"line":90,"column":4},"end":{"line":90,"column":58}},"40":{"start":{"line":91,"column":4},"end":{"line":91,"column":54}},"41":{"start":{"line":94,"column":10},"end":{"line":127,"column":3}},"42":{"start":{"line":94,"column":2},"end":{"line":127,"column":3}},"43":{"start":{"line":95,"column":4},"end":{"line":95,"column":187}},"44":{"start":{"line":96,"column":4},"end":{"line":96,"column":25}},"45":{"start":{"line":98,"column":4},"end":{"line":100,"column":5}},"46":{"start":{"line":99,"column":6},"end":{"line":99,"column":51}},"47":{"start":{"line":101,"column":4},"end":{"line":103,"column":5}},"48":{"start":{"line":102,"column":6},"end":{"line":102,"column":81}},"49":{"start":{"line":107,"column":4},"end":{"line":126,"column":5}},"50":{"start":{"line":108,"column":6},"end":{"line":120,"column":9}},"51":{"start":{"line":117,"column":8},"end":{"line":117,"column":64}},"52":{"start":{"line":119,"column":8},"end":{"line":119,"column":48}},"53":{"start":{"line":121,"column":6},"end":{"line":121,"column":46}},"54":{"start":{"line":123,"column":6},"end":{"line":125,"column":9}},"55":{"start":{"line":124,"column":8},"end":{"line":124,"column":62}},"56":{"start":{"line":129,"column":10},"end":{"line":141,"column":3}},"57":{"start":{"line":130,"column":4},"end":{"line":130,"column":140}},"58":{"start":{"line":131,"column":4},"end":{"line":140,"column":6}},"59":{"start":{"line":139,"column":6},"end":{"line":139,"column":21}},"60":{"start":{"line":143,"column":10},"end":{"line":163,"column":3}},"61":{"start":{"line":144,"column":4},"end":{"line":144,"column":24}},"62":{"start":{"line":145,"column":4},"end":{"line":145,"column":26}},"63":{"start":{"line":147,"column":4},"end":{"line":153,"column":5}},"64":{"start":{"line":148,"column":6},"end":{"line":148,"column":36}},"65":{"start":{"line":149,"column":6},"end":{"line":149,"column":40}},"66":{"start":{"line":150,"column":11},"end":{"line":153,"column":5}},"67":{"start":{"line":151,"column":6},"end":{"line":151,"column":96}},"68":{"start":{"line":152,"column":6},"end":{"line":152,"column":100}},"69":{"start":{"line":155,"column":4},"end":{"line":157,"column":5}},"70":{"start":{"line":156,"column":6},"end":{"line":156,"column":29}},"71":{"start":{"line":158,"column":4},"end":{"line":160,"column":5}},"72":{"start":{"line":159,"column":6},"end":{"line":159,"column":80}},"73":{"start":{"line":162,"column":4},"end":{"line":162,"column":20}},"74":{"start":{"line":166,"column":10},"end":{"line":168,"column":3}},"75":{"start":{"line":167,"column":4},"end":{"line":167,"column":147}},"76":{"start":{"line":27,"column":9},"end":{"line":27,"column":68}},"77":{"start":{"line":28,"column":9},"end":{"line":28,"column":43}},"78":{"start":{"line":29,"column":9},"end":{"line":29,"column":46}},"79":{"start":{"line":30,"column":9},"end":{"line":30,"column":59}},"80":{"start":{"line":169,"column":0},"end":{"line":169,"column":1}},"81":{"start":{"line":24,"column":13},"end":{"line":169,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1004)","line":24,"loc":{"start":{"line":24,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"AnalyticsEndpoint","line":38,"loc":{"start":{"line":38,"column":2},"end":{"line":38,"column":55}}},"3":{"name":"(anonymous_1006)","line":48,"loc":{"start":{"line":48,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_1007)","line":52,"loc":{"start":{"line":52,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_1008)","line":53,"loc":{"start":{"line":53,"column":23},"end":{"line":53,"column":39}}},"6":{"name":"(anonymous_1009)","line":59,"loc":{"start":{"line":59,"column":16},"end":{"line":59,"column":57}}},"7":{"name":"(anonymous_1010)","line":63,"loc":{"start":{"line":63,"column":17},"end":{"line":63,"column":42}}},"8":{"name":"(anonymous_1011)","line":70,"loc":{"start":{"line":70,"column":2},"end":{"line":70,"column":54}}},"9":{"name":"(anonymous_1012)","line":77,"loc":{"start":{"line":77,"column":2},"end":{"line":77,"column":61}}},"10":{"name":"(anonymous_1013)","line":83,"loc":{"start":{"line":83,"column":2},"end":{"line":83,"column":50}}},"11":{"name":"(anonymous_1014)","line":89,"loc":{"start":{"line":89,"column":2},"end":{"line":89,"column":42}}},"12":{"name":"(anonymous_1015)","line":94,"loc":{"start":{"line":94,"column":2},"end":{"line":94,"column":70}}},"13":{"name":"(anonymous_1016)","line":116,"loc":{"start":{"line":116,"column":14},"end":{"line":116,"column":39}}},"14":{"name":"(anonymous_1017)","line":118,"loc":{"start":{"line":118,"column":17},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_1018)","line":123,"loc":{"start":{"line":123,"column":54},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_1019)","line":129,"loc":{"start":{"line":129,"column":2},"end":{"line":129,"column":67}}},"17":{"name":"(anonymous_1020)","line":138,"loc":{"start":{"line":138,"column":12},"end":{"line":138,"column":37}}},"18":{"name":"(anonymous_1021)","line":143,"loc":{"start":{"line":143,"column":2},"end":{"line":143,"column":111}}},"19":{"name":"(anonymous_1022)","line":166,"loc":{"start":{"line":166,"column":2},"end":{"line":166,"column":40}}}},"branchMap":{"1":{"line":42,"type":"cond-expr","locations":[{"start":{"line":42,"column":70},"end":{"line":42,"column":88}},{"start":{"line":42,"column":91},"end":{"line":42,"column":95}}]},"2":{"line":42,"type":"binary-expr","locations":[{"start":{"line":42,"column":20},"end":{"line":42,"column":38}},{"start":{"line":42,"column":42},"end":{"line":42,"column":66}}]},"3":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":6},"end":{"line":54,"column":5}},{"start":{"line":54,"column":6},"end":{"line":54,"column":5}}]},"4":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":4},"end":{"line":71,"column":3}},{"start":{"line":71,"column":4},"end":{"line":71,"column":3}}]},"5":{"line":95,"type":"binary-expr","locations":[{"start":{"line":95,"column":72},"end":{"line":95,"column":114}},{"start":{"line":95,"column":118},"end":{"line":95,"column":161}}]},"6":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":4},"end":{"line":98,"column":3}},{"start":{"line":98,"column":4},"end":{"line":98,"column":3}}]},"7":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":4},"end":{"line":101,"column":3}},{"start":{"line":101,"column":4},"end":{"line":101,"column":3}}]},"8":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":4},"end":{"line":107,"column":3}},{"start":{"line":107,"column":4},"end":{"line":107,"column":3}}]},"9":{"line":130,"type":"cond-expr","locations":[{"start":{"line":130,"column":74},"end":{"line":130,"column":130}},{"start":{"line":130,"column":133},"end":{"line":130,"column":139}}]},"10":{"line":130,"type":"binary-expr","locations":[{"start":{"line":130,"column":24},"end":{"line":130,"column":42}},{"start":{"line":130,"column":46},"end":{"line":130,"column":70}}]},"11":{"line":134,"type":"cond-expr","locations":[{"start":{"line":134,"column":47},"end":{"line":134,"column":103}},{"start":{"line":134,"column":106},"end":{"line":134,"column":108}}]},"12":{"line":147,"type":"if","locations":[{"start":{"line":147,"column":4},"end":{"line":147,"column":3}},{"start":{"line":147,"column":4},"end":{"line":147,"column":3}}]},"13":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":11},"end":{"line":150,"column":10}},{"start":{"line":150,"column":11},"end":{"line":150,"column":10}}]},"14":{"line":155,"type":"if","locations":[{"start":{"line":155,"column":4},"end":{"line":155,"column":3}},{"start":{"line":155,"column":4},"end":{"line":155,"column":3}}]},"15":{"line":158,"type":"if","locations":[{"start":{"line":158,"column":4},"end":{"line":158,"column":3}},{"start":{"line":158,"column":4},"end":{"line":158,"column":3}}]},"16":{"line":167,"type":"binary-expr","locations":[{"start":{"line":167,"column":49},"end":{"line":167,"column":91}},{"start":{"line":167,"column":95},"end":{"line":167,"column":138}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":32,"10":32,"11":32,"12":32,"13":32,"14":1,"15":6,"16":1,"17":1,"18":1,"19":1,"20":0,"21":1,"22":1,"23":1,"24":1,"25":0,"26":1,"27":2,"28":2,"29":2,"30":1,"31":2,"32":2,"33":2,"34":1,"35":0,"36":0,"37":0,"38":1,"39":1,"40":1,"41":1,"42":4,"43":4,"44":4,"45":4,"46":4,"47":4,"48":0,"49":4,"50":4,"51":2,"52":2,"53":4,"54":0,"55":0,"56":1,"57":2,"58":2,"59":2,"60":1,"61":2,"62":2,"63":2,"64":1,"65":1,"66":1,"67":1,"68":1,"69":2,"70":2,"71":2,"72":0,"73":2,"74":1,"75":2,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1},"b":{"1":[14,18],"2":[32,14],"3":[0,1],"4":[2,0],"5":[4,4],"6":[4,0],"7":[0,4],"8":[4,0],"9":[2,0],"10":[2,2],"11":[2,0],"12":[1,1],"13":[1,0],"14":[2,0],"15":[0,2],"16":[2,2]},"f":{"1":1,"2":32,"3":6,"4":1,"5":1,"6":1,"7":0,"8":2,"9":2,"10":0,"11":1,"12":4,"13":2,"14":2,"15":0,"16":2,"17":2,"18":2,"19":2},"code":"import {Logger} from '../misc/Logger';\nimport {EndpointCaller, IEndpointCallerOptions} from '../rest/EndpointCaller';\nimport {IAPIAnalyticsVisitResponseRest} from './APIAnalyticsVisitResponse';\nimport {IErrorResponse} from '../rest/EndpointCaller'\nimport {IAPIAnalyticsSearchEventsResponse} from '../rest/APIAnalyticsSearchEventsResponse';\nimport {ISearchEvent} from '../rest/SearchEvent';\nimport {IClickEvent} from '../rest/ClickEvent';\nimport {IAPIAnalyticsEventResponse} from './APIAnalyticsEventResponse';\nimport {Assert} from '../misc/Assert';\nimport {ICustomEvent} from './CustomEvent';\nimport {ITopQueries} from './TopQueries';\nimport {QueryUtils} from '../utils/QueryUtils';\nimport {Cookie} from '../utils/CookieUtils';\nimport {ISuccessResponse} from '../rest/EndpointCaller';\nimport {IStringMap} from '../rest/GenericParam';\nimport {Promise} from 'es6-promise';\n\nexport interface IAnalyticsEndpointOptions {\n  token: string;\n  serviceUrl: string;\n  organization: string;\n}\n\nexport class AnalyticsEndpoint {\n  logger: Logger;\n\n  static DEFAULT_ANALYTICS_URI = 'https://usageanalytics.coveo.com';\n  static DEFAULT_ANALYTICS_VERSION = 'v15';\n  static CUSTOM_ANALYTICS_VERSION = undefined;\n  static VISITOR_COOKIE_TIME = 10000 * 24 * 60 * 60 * 1000;\n\n  static pendingRequest: Promise<any>;\n\n  private visitId: string;\n  private organization: string;\n  public endpointCaller: EndpointCaller;\n\n  constructor(public options: IAnalyticsEndpointOptions) {\n    this.logger = new Logger(this);\n\n    var endpointCallerOptions: IEndpointCallerOptions = {\n      accessToken: (this.options.token && this.options.token != '') ? this.options.token : null\n    }\n    this.endpointCaller = new EndpointCaller(endpointCallerOptions);\n    this.organization = options.organization;\n  }\n\n  public getCurrentVisitId(): string {\n    return this.visitId;\n  }\n\n  public getCurrentVisitIdPromise(): Promise<string> {\n    return new Promise((resolve, reject) => {\n      if (this.getCurrentVisitId()) {\n        resolve(this.getCurrentVisitId());\n      } else {\n        var url = this.buildAnalyticsUrl('/analytics/visit');\n        this.getFromService<IAPIAnalyticsVisitResponseRest>(url, {})\n          .then((response: IAPIAnalyticsVisitResponseRest) => {\n            this.visitId = response.id;\n            resolve(this.visitId);\n          })\n          .catch((response: IErrorResponse) => {\n            reject(response);\n          });\n      }\n    })\n  }\n\n  public sendSearchEvents(searchEvents: ISearchEvent[]): Promise<IAPIAnalyticsSearchEventsResponse> {\n    if (searchEvents.length > 0) {\n      this.logger.info('Logging analytics search events', searchEvents);\n      return this.sendToService<ISearchEvent[], IAPIAnalyticsSearchEventsResponse>(searchEvents, 'searches', 'searchEvents')\n    }\n  }\n\n  public sendDocumentViewEvent(documentViewEvent: IClickEvent): Promise<IAPIAnalyticsEventResponse> {\n    Assert.exists(documentViewEvent);\n    this.logger.info('Logging analytics document view', documentViewEvent);\n    return this.sendToService(documentViewEvent, 'click', 'clickEvent');\n  }\n\n  public sendCustomEvent(customEvent: ICustomEvent) {\n    Assert.exists(customEvent);\n    this.logger.info('Logging analytics custom event', customEvent);\n    return this.sendToService(customEvent, 'custom', 'customEvent');\n  }\n\n  public getTopQueries(params: ITopQueries): Promise<string[]> {\n    var url = this.buildAnalyticsUrl('/stats/topQueries');\n    return this.getFromService<string[]>(url, params);\n  }\n\n  private sendToService<D, R>(data: D, path: string, paramName: string): Promise<R> {\n    var url = QueryUtils.mergePath(this.options.serviceUrl, '/rest/' + (AnalyticsEndpoint.CUSTOM_ANALYTICS_VERSION || AnalyticsEndpoint.DEFAULT_ANALYTICS_VERSION) + '/analytics/' + path);\n    var queryString = [];\n\n    if (this.organization) {\n      queryString.push('org=' + this.organization);\n    }\n    if (Cookie.get('visitorId')) {\n      queryString.push('visitor=' + encodeURIComponent(Cookie.get('visitorId')));\n    }\n\n    // We use pendingRequest because we don't want to have 2 request to analytics at the same time.\n    // Otherwise the cookie visitId won't be set correctly.\n    if (AnalyticsEndpoint.pendingRequest == null) {\n      AnalyticsEndpoint.pendingRequest = this.endpointCaller.call<R>({\n        errorsAsSuccess: false,\n        method: 'POST',\n        queryString: queryString,\n        requestData: data,\n        url: url,\n        responseType: 'text',\n        requestDataType: 'application/json'\n      }).then((res: ISuccessResponse<R>) => {\n        return this.handleAnalyticsEventResponse(<any>res.data);\n      }).finally(() => {\n        AnalyticsEndpoint.pendingRequest = null;\n      });\n      return AnalyticsEndpoint.pendingRequest;\n    } else {\n      return AnalyticsEndpoint.pendingRequest.finally(() => {\n        return this.sendToService<D, R>(data, path, paramName)\n      });\n    }\n  }\n\n  private getFromService<T>(url: string, params: IStringMap<string>): Promise<T> {\n    var paramsToSend = (this.options.token && this.options.token != '') ? _.extend({ 'access_token': this.options.token }, params) : params;\n    return this.endpointCaller.call<T>({\n      errorsAsSuccess: false,\n      method: 'GET',\n      queryString: this.options.organization ? ['org=' + encodeURIComponent(this.options.organization)] : [],\n      requestData: paramsToSend,\n      responseType: 'json',\n      url: url\n    }).then((res: ISuccessResponse<T>) => {\n      return res.data\n    })\n  }\n\n  private handleAnalyticsEventResponse(response: IAPIAnalyticsEventResponse | IAPIAnalyticsSearchEventsResponse) {\n    var visitId: string;\n    var visitorId: string;\n\n    if (response['visitId']) {\n      visitId = response['visitId'];\n      visitorId = response['visitorId'];\n    } else if (response['searchEventResponses']) {\n      visitId = (<IAPIAnalyticsEventResponse>_.first(response['searchEventResponses'])).visitId;\n      visitorId = (<IAPIAnalyticsEventResponse>_.first(response['searchEventResponses'])).visitorId;\n    }\n\n    if (visitId) {\n      this.visitId = visitId;\n    }\n    if (visitorId) {\n      Cookie.set('visitorId', visitorId, AnalyticsEndpoint.VISITOR_COOKIE_TIME);\n    }\n\n    return response;\n  }\n\n\n  private buildAnalyticsUrl(path: string) {\n    return this.options.serviceUrl + '/rest/' + (AnalyticsEndpoint.CUSTOM_ANALYTICS_VERSION || AnalyticsEndpoint.DEFAULT_ANALYTICS_VERSION) + path;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/rest/AnalyticsEndpoint.ts\n **/","l":{"1":1,"2":1,"9":1,"12":1,"13":1,"16":1,"24":1,"27":1,"28":1,"29":1,"30":1,"38":32,"39":32,"41":32,"44":32,"45":32,"48":1,"49":6,"52":1,"53":1,"54":1,"55":0,"57":1,"58":1,"60":1,"61":1,"64":0,"70":1,"71":2,"72":2,"73":2,"77":1,"78":2,"79":2,"80":2,"83":1,"84":0,"85":0,"86":0,"89":1,"90":1,"91":1,"94":4,"95":4,"96":4,"98":4,"99":4,"101":4,"102":0,"107":4,"108":4,"117":2,"119":2,"121":4,"123":0,"124":0,"129":1,"130":2,"131":2,"139":2,"143":1,"144":2,"145":2,"147":2,"148":1,"149":1,"150":1,"151":1,"152":1,"155":2,"156":2,"158":2,"159":0,"162":2,"166":1,"167":2,"169":1}},"src/utils/CookieUtils.ts":{"path":"src/utils/CookieUtils.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":65,"column":1}},"2":{"start":{"line":5,"column":9},"end":{"line":44,"column":3}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":83}},"4":{"start":{"line":8,"column":4},"end":{"line":14,"column":5}},"5":{"start":{"line":9,"column":6},"end":{"line":9,"column":24}},"6":{"start":{"line":10,"column":6},"end":{"line":10,"column":48}},"7":{"start":{"line":11,"column":6},"end":{"line":11,"column":50}},"8":{"start":{"line":13,"column":6},"end":{"line":13,"column":19}},"9":{"start":{"line":16,"column":4},"end":{"line":16,"column":29}},"10":{"start":{"line":17,"column":4},"end":{"line":43,"column":5}},"11":{"start":{"line":19,"column":6},"end":{"line":19,"column":80}},"12":{"start":{"line":30,"column":6},"end":{"line":30,"column":36}},"13":{"start":{"line":31,"column":6},"end":{"line":31,"column":26}},"14":{"start":{"line":32,"column":6},"end":{"line":32,"column":43}},"15":{"start":{"line":34,"column":6},"end":{"line":34,"column":98}},"16":{"start":{"line":38,"column":6},"end":{"line":42,"column":7}},"17":{"start":{"line":40,"column":8},"end":{"line":40,"column":28}},"18":{"start":{"line":41,"column":8},"end":{"line":41,"column":100}},"19":{"start":{"line":46,"column":9},"end":{"line":60,"column":3}},"20":{"start":{"line":47,"column":4},"end":{"line":47,"column":42}},"21":{"start":{"line":48,"column":4},"end":{"line":48,"column":40}},"22":{"start":{"line":49,"column":4},"end":{"line":58,"column":5}},"23":{"start":{"line":50,"column":6},"end":{"line":50,"column":20}},"24":{"start":{"line":51,"column":6},"end":{"line":53,"column":7}},"25":{"start":{"line":52,"column":8},"end":{"line":52,"column":37}},"26":{"start":{"line":55,"column":6},"end":{"line":57,"column":7}},"27":{"start":{"line":56,"column":8},"end":{"line":56,"column":52}},"28":{"start":{"line":59,"column":4},"end":{"line":59,"column":16}},"29":{"start":{"line":62,"column":9},"end":{"line":64,"column":3}},"30":{"start":{"line":63,"column":4},"end":{"line":63,"column":29}},"31":{"start":{"line":3,"column":17},"end":{"line":3,"column":43}},"32":{"start":{"line":65,"column":0},"end":{"line":65,"column":1}},"33":{"start":{"line":2,"column":13},"end":{"line":65,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1024)","line":2,"loc":{"start":{"line":2,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_1026)","line":5,"loc":{"start":{"line":5,"column":2},"end":{"line":5,"column":61}}},"3":{"name":"(anonymous_1027)","line":46,"loc":{"start":{"line":46,"column":2},"end":{"line":46,"column":25}}},"4":{"name":"(anonymous_1028)","line":62,"loc":{"start":{"line":62,"column":2},"end":{"line":62,"column":27}}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":4},"end":{"line":8,"column":3}},{"start":{"line":8,"column":4},"end":{"line":8,"column":3}}]},"2":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":3}},{"start":{"line":17,"column":4},"end":{"line":17,"column":3}}]},"3":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":6},"end":{"line":38,"column":5}},{"start":{"line":38,"column":6},"end":{"line":38,"column":5}}]},"4":{"line":38,"type":"binary-expr","locations":[{"start":{"line":38,"column":10},"end":{"line":38,"column":34}},{"start":{"line":38,"column":38},"end":{"line":38,"column":63}}]},"5":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":6},"end":{"line":55,"column":5}},{"start":{"line":55,"column":6},"end":{"line":55,"column":5}}]}},"s":{"1":2,"2":1,"3":2,"4":2,"5":0,"6":0,"7":0,"8":2,"9":2,"10":2,"11":2,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":6,"21":6,"22":6,"23":12,"24":12,"25":6,"26":12,"27":1,"28":5,"29":1,"30":0,"31":1,"32":1,"33":1},"b":{"1":[0,2],"2":[2,0],"3":[0,0],"4":[0,0],"5":[1,11]},"f":{"1":1,"2":2,"3":6,"4":0},"code":"// Code originally taken from : https://developers.livechatinc.com/blog/setting-cookies-to-subdomains-in-javascript/\nexport class Cookie {\n  private static prefix: string = 'coveo_';\n\n  static set(name: string, value: string, expiration?: number) {\n    let domain: string, domainParts: string[], date, expires: string, host: string;\n\n    if (expiration) {\n      date = new Date();\n      date.setTime(date.getTime() + expiration);\n      expires = '; expires=' + date.toGMTString();\n    } else {\n      expires = '';\n    }\n\n    host = location.hostname;\n    if (host.split('.').length === 1) {\n      // no '.' in a domain - it's localhost or something similar\n      document.cookie = this.prefix + name + '=' + value + expires + '; path=/';\n    } else {\n      // Remember the cookie on all subdomains.\n      //\n      // Start with trying to set cookie to the top domain.\n      // (example: if user is on foo.com, try to set\n      //  cookie to domain '.com')\n      //\n      // If the cookie will not be set, it means '.com'\n      // is a top level domain and we need to\n      // set the cookie to '.foo.com'\n      domainParts = host.split('.');\n      domainParts.shift();\n      domain = '.' + domainParts.join('.');\n\n      document.cookie = this.prefix + name + '=' + value + expires + '; path=/; domain=' + domain;\n\n      // check if cookie was successfuly set to the given domain\n      // (otherwise it was a Top-Level Domain)\n      if (Cookie.get(name) == null || Cookie.get(name) != value) {\n        // append '.' to current domain\n        domain = '.' + host;\n        document.cookie = this.prefix + name + '=' + value + expires + '; path=/; domain=' + domain;\n      }\n    }\n  }\n\n  static get(name: string) {\n    let nameEQ = this.prefix + name + '=';\n    let ca = document.cookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n      let c = ca[i];\n      while (c.charAt(0) == ' ') {\n        c = c.substring(1, c.length);\n      }\n\n      if (c.indexOf(nameEQ) == 0) {\n        return c.substring(nameEQ.length, c.length);\n      }\n    }\n    return null;\n  }\n\n  static erase(name: string) {\n    Cookie.set(name, '', -1);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/CookieUtils.ts\n **/","l":{"2":2,"3":1,"5":1,"6":2,"8":2,"9":0,"10":0,"11":0,"13":2,"16":2,"17":2,"19":2,"30":0,"31":0,"32":0,"34":0,"38":0,"40":0,"41":0,"46":1,"47":6,"48":6,"49":6,"50":12,"51":12,"52":6,"55":12,"56":1,"59":5,"62":1,"63":0,"65":1}},"src/EventsModules.ts":{"path":"src/EventsModules.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":57}},"2":{"start":{"line":1,"column":8},"end":{"line":1,"column":57}},"3":{"start":{"line":2,"column":0},"end":{"line":2,"column":59}},"4":{"start":{"line":2,"column":8},"end":{"line":2,"column":59}},"5":{"start":{"line":3,"column":0},"end":{"line":3,"column":49}},"6":{"start":{"line":3,"column":8},"end":{"line":3,"column":49}},"7":{"start":{"line":4,"column":0},"end":{"line":4,"column":69}},"8":{"start":{"line":4,"column":8},"end":{"line":4,"column":69}},"9":{"start":{"line":5,"column":0},"end":{"line":5,"column":67}},"10":{"start":{"line":5,"column":8},"end":{"line":5,"column":67}},"11":{"start":{"line":6,"column":0},"end":{"line":6,"column":53}},"12":{"start":{"line":6,"column":8},"end":{"line":6,"column":53}},"13":{"start":{"line":7,"column":0},"end":{"line":7,"column":71}},"14":{"start":{"line":7,"column":8},"end":{"line":7,"column":71}},"15":{"start":{"line":8,"column":0},"end":{"line":8,"column":49}},"16":{"start":{"line":8,"column":8},"end":{"line":8,"column":49}},"17":{"start":{"line":9,"column":0},"end":{"line":9,"column":59}},"18":{"start":{"line":9,"column":8},"end":{"line":9,"column":59}},"19":{"start":{"line":10,"column":0},"end":{"line":10,"column":62}},"20":{"start":{"line":10,"column":8},"end":{"line":10,"column":62}},"21":{"start":{"line":11,"column":0},"end":{"line":11,"column":55}},"22":{"start":{"line":11,"column":8},"end":{"line":11,"column":55}},"23":{"start":{"line":12,"column":0},"end":{"line":12,"column":51}},"24":{"start":{"line":12,"column":8},"end":{"line":12,"column":51}},"25":{"start":{"line":13,"column":0},"end":{"line":13,"column":89}},"26":{"start":{"line":13,"column":8},"end":{"line":13,"column":89}}},"fnMap":{},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1},"b":{},"f":{},"code":"export {AnalyticsEvents} from './events/AnalyticsEvents';\nexport {BreadcrumbEvents} from './events/BreadcrumbEvents';\nexport {DebugEvents} from './events/DebugEvents';\nexport {ImageResultListEvents} from './events/ImageResultListEvents';\nexport {InitializationEvents} from './events/InitializationEvents';\nexport {OmniboxEvents} from './events/OmniboxEvents';\nexport {PreferencesPanelEvents} from './events/PreferencesPanelEvents';\nexport {QueryEvents} from './events/QueryEvents';\nexport {ResultListEvents} from './events/ResultListEvents';\nexport {SearchAlertsEvents} from './events/SearchAlertEvents';\nexport {SettingsEvents} from './events/SettingsEvents';\nexport {SliderEvents} from './events/SliderEvents';\nexport {StandaloneSearchInterfaceEvents} from './events/StandaloneSearchInterfaceEvents';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/EventsModules.ts\n **/","l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1}},"src/events/AnalyticsEvents.ts":{"path":"src/events/AnalyticsEvents.ts","statementMap":{"1":{"start":{"line":35,"column":0},"end":{"line":40,"column":1}},"2":{"start":{"line":36,"column":16},"end":{"line":36,"column":53}},"3":{"start":{"line":37,"column":16},"end":{"line":37,"column":65}},"4":{"start":{"line":38,"column":16},"end":{"line":38,"column":53}},"5":{"start":{"line":39,"column":16},"end":{"line":39,"column":72}},"6":{"start":{"line":40,"column":0},"end":{"line":40,"column":1}},"7":{"start":{"line":35,"column":13},"end":{"line":40,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1031)","line":35,"loc":{"start":{"line":35,"column":0},"end":{"line":null,"column":-1}}}},"branchMap":{},"s":{"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"b":{},"f":{"1":1},"code":"import {IAPIDocumentViewEvent} from '../rest/APIDocumentViewEvent';\nimport {IAPISearchEvent} from '../rest/APISearchEvent';\nimport {IAPICustomEvent} from '../rest/APICustomEvent';\n\nexport interface IAnalyticsSearchEventsArgs {\n  searchEvents: IAPISearchEvent[];\n}\n\nexport interface IAnalyticsDocumentViewEventArgs {\n  documentViewEvent: IAPIDocumentViewEvent;\n}\n\nexport interface IAnalyticsCustomEventArgs {\n  customEvent: IAPICustomEvent;\n}\n\nexport interface IChangeAnalyticsCustomDataEventArgs extends IChangeableAnalyticsDataObject {\n  type: string;\n  metaObject: IChangeableAnalyticsMetaObject;\n  actionType: string;\n  actionCause: string;\n}\n\nexport interface IChangeableAnalyticsMetaObject {\n  [name: string]: string;\n}\n\nexport interface IChangeableAnalyticsDataObject {\n  originLevel1: string;\n  originLevel2: string;\n  originLevel3: string;\n  language: string;\n}\n\nexport class AnalyticsEvents {\n  public static searchEvent = 'analyticsSearchEvent';\n  public static documentViewEvent = 'analyticsDocumentViewEvent';\n  public static customEvent = 'analyticsCustomEvent';\n  public static changeAnalyticsCustomData = 'changeAnalyticsCustomData';\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/events/AnalyticsEvents.ts\n **/","l":{"35":2,"36":1,"37":1,"38":1,"39":1,"40":1}},"src/events/BreadcrumbEvents.ts":{"path":"src/events/BreadcrumbEvents.ts","statementMap":{"1":{"start":{"line":24,"column":0},"end":{"line":38,"column":1}},"2":{"start":{"line":30,"column":16},"end":{"line":30,"column":58}},"3":{"start":{"line":36,"column":16},"end":{"line":36,"column":52}},"4":{"start":{"line":37,"column":16},"end":{"line":37,"column":54}},"5":{"start":{"line":38,"column":0},"end":{"line":38,"column":1}},"6":{"start":{"line":24,"column":13},"end":{"line":38,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1034)","line":24,"loc":{"start":{"line":24,"column":0},"end":{"line":null,"column":-1}}}},"branchMap":{},"s":{"1":2,"2":1,"3":1,"4":1,"5":1,"6":1},"b":{},"f":{"1":1},"code":"/**\n * Represent an item to insert in the breadcrumb\n */\nexport interface IBreadcrumbItem {\n  /**\n   * The HTMLElement to insert in the breadcrumb\n   */\n  element: HTMLElement;\n}\n\n/**\n * Event triggered when populating the breadcrumb\n */\nexport interface IPopulateBreadcrumbEventArgs {\n  breadcrumbs: IBreadcrumbItem[];\n}\n\nexport interface IClearBreadcrumbEventArgs {\n}\n\n/**\n * This static class is there to contains the different string definition for all the events related to {@link Breadcrumb}.\n */\nexport class BreadcrumbEvents {\n  /**\n   * Triggered when the breadcrumb needs to update its content. External code can use this event to provide bits of HTML that should be included in the breadcrumb.\n   *\n   * All handlers bound to this event will receive a {@link IPopulateBreadcrumbEventArgs} as an argument.\n   */\n  public static populateBreadcrumb = 'populateBreadcrumb';\n  /**\n   * Triggered when the user clicks the Clear All button in the breadcrumb. When this event is raised, every filter that is included in the breadcrumb should be removed.\n   *\n   * This event does not provide custom event data.\n   */\n  public static clearBreadcrumb = 'clearBreadcrumb';\n  public static redrawBreadcrumb = 'redrawBreadcrumb';\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/events/BreadcrumbEvents.ts\n **/","l":{"24":2,"30":1,"36":1,"37":1,"38":1}},"src/events/DebugEvents.ts":{"path":"src/events/DebugEvents.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":1}},"2":{"start":{"line":2,"column":16},"end":{"line":2,"column":50}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":1}},"4":{"start":{"line":1,"column":13},"end":{"line":3,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1037)","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":null,"column":-1}}}},"branchMap":{},"s":{"1":2,"2":1,"3":1,"4":1},"b":{},"f":{"1":1},"code":"export class DebugEvents {\n  public static showDebugPanel = 'showDebugPanel';\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/events/DebugEvents.ts\n **/","l":{"1":2,"2":1,"3":1}},"src/events/ImageResultListEvents.ts":{"path":"src/events/ImageResultListEvents.ts","statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":1}},"2":{"start":{"line":6,"column":16},"end":{"line":6,"column":74}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":1}},"4":{"start":{"line":5,"column":13},"end":{"line":7,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1040)","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":null,"column":-1}}}},"branchMap":{},"s":{"1":2,"2":1,"3":1,"4":1},"b":{},"f":{"1":1},"code":"\nexport interface ICompletedImageResultsLayoutEventArgs {\n}\n\nexport class ImageResultListEvents {\n  public static imageResultsLayoutComplete = 'imageResultsLayoutComplete';\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/events/ImageResultListEvents.ts\n **/","l":{"5":2,"6":1,"7":1}},"src/events/InitializationEvents.ts":{"path":"src/events/InitializationEvents.ts","statementMap":{"1":{"start":{"line":7,"column":0},"end":{"line":13,"column":1}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":62}},"3":{"start":{"line":9,"column":16},"end":{"line":9,"column":80}},"4":{"start":{"line":10,"column":16},"end":{"line":10,"column":60}},"5":{"start":{"line":11,"column":16},"end":{"line":11,"column":60}},"6":{"start":{"line":12,"column":16},"end":{"line":12,"column":30}},"7":{"start":{"line":13,"column":0},"end":{"line":13,"column":1}},"8":{"start":{"line":7,"column":13},"end":{"line":13,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1043)","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":null,"column":-1}}}},"branchMap":{},"s":{"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"b":{},"f":{"1":1},"code":"export interface IBeforeInitializationEventArgs {\n}\n\nexport interface IAfterInitializationEventArgs {\n}\n\nexport class InitializationEvents {\n  public static beforeInitialization = 'beforeInitialization';\n  public static afterComponentsInitialization = 'afterComponentsInitialization';\n  public static restoreHistoryState = 'restoreHistoryState';\n  public static afterInitialization = 'afterInitialization';\n  public static nuke = 'nuke';\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/events/InitializationEvents.ts\n **/","l":{"7":2,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1}},"src/events/OmniboxEvents.ts":{"path":"src/events/OmniboxEvents.ts","statementMap":{"1":{"start":{"line":16,"column":0},"end":{"line":23,"column":1}},"2":{"start":{"line":17,"column":16},"end":{"line":17,"column":52}},"3":{"start":{"line":18,"column":16},"end":{"line":18,"column":44}},"4":{"start":{"line":19,"column":16},"end":{"line":19,"column":46}},"5":{"start":{"line":21,"column":16},"end":{"line":21,"column":74}},"6":{"start":{"line":22,"column":16},"end":{"line":22,"column":84}},"7":{"start":{"line":23,"column":0},"end":{"line":23,"column":1}},"8":{"start":{"line":16,"column":13},"end":{"line":23,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1046)","line":16,"loc":{"start":{"line":16,"column":0},"end":{"line":null,"column":-1}}}},"branchMap":{},"s":{"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"b":{},"f":{"1":1},"code":"import {IOmniboxData, IOmniboxDataRow} from '../ui/Omnibox/OmniboxInterface';\n\nexport interface IPopulateOmniboxEventArgs extends IOmniboxData {\n}\n\nexport interface IPopulateOmniboxEventRow extends IOmniboxDataRow {\n}\n\nexport interface IOmniboxPreprocessResultForQueryEventArgs {\n  result: Coveo.MagicBox.Result;\n}\n\nexport interface ICloseOmniboxEventArgs {\n}\n\nexport class OmniboxEvents {\n  public static populateOmnibox = 'populateOmnibox';\n  public static openOmnibox = 'openOmnibox';\n  public static closeOmnibox = 'closeOmnibox';\n\n  public static populateOmniboxSuggestions = 'populateOmniboxSuggestions';\n  public static omniboxPreprocessResultForQuery = 'omniboxPreprocessResultForQuery';\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/events/OmniboxEvents.ts\n **/","l":{"16":2,"17":1,"18":1,"19":1,"21":1,"22":1,"23":1}},"src/events/PreferencesPanelEvents.ts":{"path":"src/events/PreferencesPanelEvents.ts","statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":8,"column":1}},"2":{"start":{"line":6,"column":16},"end":{"line":6,"column":52}},"3":{"start":{"line":7,"column":16},"end":{"line":7,"column":74}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":1}},"5":{"start":{"line":5,"column":13},"end":{"line":8,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1049)","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":null,"column":-1}}}},"branchMap":{},"s":{"1":2,"2":1,"3":1,"4":1,"5":1},"b":{},"f":{"1":1},"code":"\nexport interface ISavePreferencesEventArgs {\n}\n\nexport class PreferencesPanelEvents {\n  public static savePreferences = 'savePreferences';\n  public static exitPreferencesWithoutSave = 'exitPreferencesWithoutSave';\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/events/PreferencesPanelEvents.ts\n **/","l":{"5":2,"6":1,"7":1,"8":1}},"src/events/QueryEvents.ts":{"path":"src/events/QueryEvents.ts","statementMap":{"1":{"start":{"line":219,"column":0},"end":{"line":319,"column":1}},"2":{"start":{"line":226,"column":16},"end":{"line":226,"column":38}},"3":{"start":{"line":235,"column":16},"end":{"line":235,"column":48}},"4":{"start":{"line":244,"column":16},"end":{"line":244,"column":56}},"5":{"start":{"line":251,"column":16},"end":{"line":251,"column":44}},"6":{"start":{"line":258,"column":16},"end":{"line":258,"column":62}},"7":{"start":{"line":265,"column":16},"end":{"line":265,"column":46}},"8":{"start":{"line":272,"column":16},"end":{"line":272,"column":54}},"9":{"start":{"line":281,"column":16},"end":{"line":281,"column":62}},"10":{"start":{"line":288,"column":16},"end":{"line":288,"column":42}},"11":{"start":{"line":299,"column":16},"end":{"line":299,"column":56}},"12":{"start":{"line":310,"column":16},"end":{"line":310,"column":64}},"13":{"start":{"line":317,"column":16},"end":{"line":317,"column":40}},"14":{"start":{"line":318,"column":16},"end":{"line":318,"column":60}},"15":{"start":{"line":319,"column":0},"end":{"line":319,"column":1}},"16":{"start":{"line":219,"column":13},"end":{"line":319,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1052)","line":219,"loc":{"start":{"line":219,"column":0},"end":{"line":null,"column":-1}}}},"branchMap":{},"s":{"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1},"b":{},"f":{"1":1},"code":"import {Component} from '../ui/Base/Component';\nimport {QueryBuilder} from '../ui/Base/QueryBuilder';\nimport {IQueryResults} from '../rest/QueryResults';\nimport {IQuery} from '../rest/Query';\nimport {ISearchEndpoint, IEndpointCallOptions} from '../rest/SearchEndpointInterface';\nimport {IEndpointError} from '../rest/EndpointError';\nimport {Promise} from 'es6-promise';\n\n/**\n * Argument sent to all handlers bound on {@link QueryEvents.newQuery}\n */\nexport interface INewQueryEventArgs {\n  /**\n   * Determine if the query is a \"search as you type\"\n   */\n  searchAsYouType: boolean;\n  /**\n   * If this property is set to true by any handlers, the query will not be executed.\n   */\n  cancel: boolean;\n  origin?: Component;\n}\n\n/**\n * Argument sent to all handlers bound on {@link QueryEvents.buildingQuery}\n */\nexport interface IBuildingQueryEventArgs {\n  /**\n   * Allow handlers to modify the query by using the {@link QueryBuilder}\n   */\n  queryBuilder: QueryBuilder;\n  /**\n   * Determine if the query is a \"search as you type\"\n   */\n  searchAsYouType: boolean;\n  /**\n   * If this property is set to true by any handlers, the query will not be executed.\n   */\n  cancel: boolean;\n}\n\n/**\n * Argument sent to all handlers bound on {@link QueryEvents.doneBuildingQuery}\n */\nexport interface IDoneBuildingQueryEventArgs {\n  /**\n   * Allow handlers to modify the query by using the {@link QueryBuilder}\n   */\n  queryBuilder: QueryBuilder;\n  /**\n   * Determine if the query is a \"search as you type\"\n   */\n  searchAsYouType: boolean;\n  /**\n   * If this property is set to true by any handlers, the query will not be executed.\n   */\n  cancel: boolean;\n}\n\n/**\n * Argument sent to all handlers bound on {@link QueryEvents.duringQuery}\n */\nexport interface IDuringQueryEventArgs {\n  /**\n   * The {@link QueryBuilder} that was used for the current query\n   */\n  queryBuilder: QueryBuilder;\n  /**\n   * The query that was just executed\n   */\n  query: IQuery;\n  /**\n   * A promises for the results that will be returned by the search API\n   */\n  promise: Promise<IQueryResults>;\n  /**\n   * Determine if the query is a \"search as you type\"\n   */\n  searchAsYouType: boolean;\n}\n\n/**\n * Argument sent to all handlers bound on {@link QueryEvents.querySuccess}\n */\nexport interface IQuerySuccessEventArgs {\n  /**\n   * The query that was just executed\n   */\n  query: IQuery;\n  /**\n   * The results returned by the query that was executed\n   */\n  results: IQueryResults;\n  /**\n   * The {@link QueryBuilder} that was used for the current query\n   */\n  queryBuilder: QueryBuilder;\n  /**\n   * Determine if the query is a \"search as you type\"\n   */\n  searchAsYouType: boolean;\n}\n\n/**\n * Argument sent to all handlers bound on {@link QueryEvents.fetchMoreSuccess}\n */\nexport interface IFetchMoreSuccessEventArgs {\n  /**\n   * The query that was just executed\n   */\n  query: IQuery;\n  /**\n   * The results returned by the query that was executed\n   */\n  results: IQueryResults;\n  /**\n   * The {@link QueryBuilder} that was used for the current query\n   */\n  queryBuilder: QueryBuilder;\n  /**\n   * Determine if the query is a \"search as you type\"\n   */\n  searchAsYouType: boolean;\n}\n\n/**\n * Argument sent to all handlers bound on {@link QueryEvents.queryError}\n */\nexport interface IQueryErrorEventArgs {\n  /**\n   * The {@link QueryBuilder} that was used for the current query\n   */\n  queryBuilder: QueryBuilder;\n  /**\n   * The endpoint on which the error happened.\n   */\n  endpoint: ISearchEndpoint;\n  /**\n   * The query that was just executed\n   */\n  query: IQuery;\n  /**\n   * The error info / message itself.\n   */\n  error: IEndpointError;\n  /**\n   * Determine if the query is a \"search as you type\"\n   */\n  searchAsYouType: boolean;\n}\n\n/**\n * Argument sent to all handlers bound on {@link QueryEvents.preprocessResults}\n */\nexport interface IPreprocessResultsEventArgs {\n  /**\n   * The {@link QueryBuilder} that was used for the current query\n   */\n  queryBuilder: QueryBuilder;\n  /**\n   * The query that was just executed\n   */\n  query: IQuery;\n  /**\n   * The results returned by the query that was executed\n   */\n  results: IQueryResults;\n  /**\n   * Determine if the query is a \"search as you type\"\n   */\n  searchAsYouType: boolean;\n}\n\n/**\n * Argument sent to all handlers bound on {@link QueryEvents.preprocessMoreResults}\n */\nexport interface IPreprocessMoreResultsEventArgs {\n  /**\n   * The results returned by the query that was executed\n   */\n  results: IQueryResults;\n}\n\n/**\n * Argument sent to all handlers bound on {@link QueryEvents.noResults}\n */\nexport interface INoResultsEventArgs {\n  /**\n   * The {@link QueryBuilder} that was used for the current query\n   */\n  queryBuilder: QueryBuilder;\n  /**\n   * The query that was just executed\n   */\n  query: IQuery;\n  /**\n   * The results returned by the query that was executed\n   */\n  results: IQueryResults;\n  /**\n   * Determine if the query is a \"search as you type\"\n   */\n  searchAsYouType: boolean;\n  /**\n   * If set to true by any handler, the last query will automatically be re-executed again.\n   */\n  retryTheQuery: boolean;\n}\n\nexport interface IBuildingCallOptionsEventArgs {\n  options: IEndpointCallOptions;\n}\n\n/**\n * This static class is there to contains the different string definition for all the events related to query.\n *\n * Note that these events will only be triggered when the {@link QueryController.executeQuery} method is used, either directly or by using {@link executeQuery}\n */\nexport class QueryEvents {\n  /**\n   * Triggered when a new query is launched.\n   *\n   * All handlers bound will receive {@link INewQueryEventArgs} as an argument\n   * @type {string}\n   */\n  public static newQuery = 'newQuery';\n  /**\n   * Triggered when the query is being built.\n   *\n   * This is typically where all components will contribute their part to the {@link IQuery} using the {@link QueryBuilder}\n   *\n   * All handlers bound will receive {@link IBuildingQueryEventArgs} as an argument\n   * @type {string}\n   */\n  public static buildingQuery = 'buildingQuery';\n  /**\n   * Triggered when the query is done being built.\n   *\n   * This is typically where the facet will add their {@link IGroupByRequest} to the {@link IQuery}.\n   *\n   * All handlers bound will receive {@link IDoneBuildingQueryEventArgs} as an argument\n   * @type {string}\n   */\n  public static doneBuildingQuery = 'doneBuildingQuery';\n  /**\n   * Triggered when the query is being executed on the search API.\n   *\n   * All handlers bound will receive {@link IDuringQueryEventArgs} as an argument\n   * @type {string}\n   */\n  public static duringQuery = 'duringQuery';\n  /**\n   * Triggered when more results is being fetched on the search API (think : Infinite scrolling, or pager).\n   *\n   * All handlers bound will receive {@link IDuringQueryEventArgs} as an argument\n   * @type {string}\n   */\n  public static duringFetchMoreQuery = 'duringFetchMoreQuery';\n  /**\n   * Triggered when a query successfully return from the search API.\n   *\n   * All handlers bound will receive {@link IQuerySuccessEventArgs} as an argument\n   * @type {string}\n   */\n  public static querySuccess = 'querySuccess';\n  /**\n   * Triggered when a more results were successfully returned from the search API. (think : Infinite scrolling, or page).\n   *\n   * All handlers bound will receive {@link IFetchMoreSuccessEventArgs} as an argument\n   * @type {string}\n   */\n  public static fetchMoreSuccess = 'fetchMoreSuccess';\n  /**\n   * Triggered after the main query success event has finished executing.\n   *\n   * This is typically where facet will process the {@link IGroupByResult} and render themselves.\n   *\n   * All handlers bound will receive {@link IQuerySuccessEventArgs} as an argument\n   * @type {string}\n   */\n  public static deferredQuerySuccess = 'deferredQuerySuccess';\n  /**\n   * Triggered when there was an error executing a query on the search API.\n   *\n   * All handlers bound will receive {@link IQueryErrorEventArgs} as an argument\n   * @type {string}\n   */\n  public static queryError = 'queryError';\n  /**\n   * Triggered before the {@link QueryEvents.querySuccess} event.\n   *\n   * This allow external code to modify the results before rendering them.\n   *\n   * For example, the {@link Folding} component might use this event to construct a coherent parent child relationship between query results.\n   *\n   * All handlers bound will receive {@link IPreprocessResultsEventArgs} as an argument\n   * @type {string}\n   */\n  public static preprocessResults = 'preprocessResults';\n  /**\n   * Triggered before the {@link QueryEvents.fetchMoreSuccess} event.\n   *\n   * This allow external code to modify the results before rendering them.\n   *\n   * For example, the {@link Folding} component might use this event to construct a coherent parent child relationship between query results.\n   *\n   * All handlers bound will receive {@link IPreprocessResultsEventArgs} as an argument\n   * @type {string}\n   */\n  public static preprocessMoreResults = 'preprocessMoreResults';\n  /**\n   * Triggered when there is no results for a particular query.\n   *\n   * All handlers bound will receive {@link INoResultsEventArgs} as an argument\n   * @type {string}\n   */\n  public static noResults = 'noResults';\n  public static buildingCallOptions = 'buildingCallOptions';\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/events/QueryEvents.ts\n **/","l":{"219":2,"226":1,"235":1,"244":1,"251":1,"258":1,"265":1,"272":1,"281":1,"288":1,"299":1,"310":1,"317":1,"318":1,"319":1}},"src/events/ResultListEvents.ts":{"path":"src/events/ResultListEvents.ts","statementMap":{"1":{"start":{"line":15,"column":0},"end":{"line":19,"column":1}},"2":{"start":{"line":16,"column":16},"end":{"line":16,"column":60}},"3":{"start":{"line":17,"column":16},"end":{"line":17,"column":58}},"4":{"start":{"line":18,"column":16},"end":{"line":18,"column":48}},"5":{"start":{"line":19,"column":0},"end":{"line":19,"column":1}},"6":{"start":{"line":15,"column":13},"end":{"line":19,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1055)","line":15,"loc":{"start":{"line":15,"column":0},"end":{"line":null,"column":-1}}}},"branchMap":{},"s":{"1":2,"2":1,"3":1,"4":1,"5":1,"6":1},"b":{},"f":{"1":1},"code":"import {IQueryResult} from '../rest/QueryResult';\n\nexport interface IDisplayedNewResultEventArgs {\n  result: IQueryResult;\n  item: HTMLElement;\n}\n\nexport interface IDisplayedNewResultsEventArgs {\n}\n\nexport interface IOpenQuickviewEventArgs {\n  termsToHighlight: any;\n}\n\nexport class ResultListEvents {\n  public static newResultsDisplayed = 'newResultsDisplayed';\n  public static newResultDisplayed = 'newResultDisplayed';\n  public static openQuickview = 'openQuickview';\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/events/ResultListEvents.ts\n **/","l":{"15":2,"16":1,"17":1,"18":1,"19":1}},"src/events/SearchAlertEvents.ts":{"path":"src/events/SearchAlertEvents.ts","statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":16,"column":1}},"2":{"start":{"line":13,"column":16},"end":{"line":13,"column":60}},"3":{"start":{"line":14,"column":16},"end":{"line":14,"column":60}},"4":{"start":{"line":15,"column":16},"end":{"line":15,"column":54}},"5":{"start":{"line":16,"column":0},"end":{"line":16,"column":1}},"6":{"start":{"line":12,"column":13},"end":{"line":16,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1058)","line":12,"loc":{"start":{"line":12,"column":0},"end":{"line":null,"column":-1}}}},"branchMap":{},"s":{"1":2,"2":1,"3":1,"4":1,"5":1,"6":1},"b":{},"f":{"1":1},"code":"import {ISubscription} from '../rest/Subscription';\n\nexport interface ISearchAlertsEventArgs {\n  subscription: ISubscription;\n  dom?: HTMLElement;\n}\n\nexport interface ISearchAlertsFailEventArgs {\n  dom?: HTMLElement;\n}\n\nexport class SearchAlertsEvents {\n  public static searchAlertsCreated = 'searchAlertsCreated';\n  public static searchAlertsDeleted = 'searchAlertsDeleted';\n  public static searchAlertsFail = 'searchAlertsFail';\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/events/SearchAlertEvents.ts\n **/","l":{"12":2,"13":1,"14":1,"15":1,"16":1}},"src/events/SettingsEvents.ts":{"path":"src/events/SettingsEvents.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":1}},"2":{"start":{"line":2,"column":16},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":1}},"4":{"start":{"line":1,"column":13},"end":{"line":3,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1061)","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":null,"column":-1}}}},"branchMap":{},"s":{"1":2,"2":1,"3":1,"4":1},"b":{},"f":{"1":1},"code":"export class SettingsEvents {\n  public static settingsPopulateMenu = 'settingsPopulateMenu';\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/events/SettingsEvents.ts\n **/","l":{"1":2,"2":1,"3":1}},"src/events/SliderEvents.ts":{"path":"src/events/SliderEvents.ts","statementMap":{"1":{"start":{"line":7,"column":0},"end":{"line":12,"column":1}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":42}},"3":{"start":{"line":9,"column":16},"end":{"line":9,"column":44}},"4":{"start":{"line":10,"column":16},"end":{"line":10,"column":38}},"5":{"start":{"line":11,"column":16},"end":{"line":11,"column":58}},"6":{"start":{"line":12,"column":0},"end":{"line":12,"column":1}},"7":{"start":{"line":7,"column":13},"end":{"line":12,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1064)","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":null,"column":-1}}}},"branchMap":{},"s":{"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"b":{},"f":{"1":1},"code":"export interface IGraphValueSelectedArgs {\n  start: any;\n  end: any;\n  value: any;\n}\n\nexport class SliderEvents {\n  public static startSlide = 'startSlide';\n  public static duringSlide = 'duringSlide';\n  public static endSlide = 'endSlide';\n  public static graphValueSelected = 'graphValueSelected';\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/events/SliderEvents.ts\n **/","l":{"7":2,"8":1,"9":1,"10":1,"11":1,"12":1}},"src/events/StandaloneSearchInterfaceEvents.ts":{"path":"src/events/StandaloneSearchInterfaceEvents.ts","statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":8,"column":1}},"2":{"start":{"line":7,"column":16},"end":{"line":7,"column":50}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":1}},"4":{"start":{"line":6,"column":13},"end":{"line":8,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1067)","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":null,"column":-1}}}},"branchMap":{},"s":{"1":2,"2":1,"3":1,"4":1},"b":{},"f":{"1":1},"code":"export interface IBeforeRedirectEventArgs {\n  searchPageUri: string;\n  cancel: boolean;\n}\n\nexport class StandaloneSearchInterfaceEvents {\n  public static beforeRedirect = 'beforeRedirect';\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/events/StandaloneSearchInterfaceEvents.ts\n **/","l":{"6":2,"7":1,"8":1}},"src/UtilsModules.ts":{"path":"src/UtilsModules.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":46}},"2":{"start":{"line":1,"column":8},"end":{"line":1,"column":46}},"3":{"start":{"line":2,"column":0},"end":{"line":2,"column":43}},"4":{"start":{"line":2,"column":8},"end":{"line":2,"column":43}},"5":{"start":{"line":3,"column":0},"end":{"line":3,"column":52}},"6":{"start":{"line":3,"column":8},"end":{"line":3,"column":52}},"7":{"start":{"line":4,"column":0},"end":{"line":4,"column":44}},"8":{"start":{"line":4,"column":8},"end":{"line":4,"column":44}},"9":{"start":{"line":5,"column":0},"end":{"line":5,"column":48}},"10":{"start":{"line":5,"column":8},"end":{"line":5,"column":48}},"11":{"start":{"line":6,"column":0},"end":{"line":6,"column":36}},"12":{"start":{"line":6,"column":8},"end":{"line":6,"column":11}},"13":{"start":{"line":6,"column":13},"end":{"line":6,"column":36}},"14":{"start":{"line":7,"column":0},"end":{"line":7,"column":42}},"15":{"start":{"line":7,"column":8},"end":{"line":7,"column":42}},"16":{"start":{"line":8,"column":0},"end":{"line":8,"column":60}},"17":{"start":{"line":8,"column":8},"end":{"line":8,"column":60}},"18":{"start":{"line":9,"column":0},"end":{"line":9,"column":46}},"19":{"start":{"line":9,"column":8},"end":{"line":9,"column":46}},"20":{"start":{"line":10,"column":0},"end":{"line":10,"column":68}},"21":{"start":{"line":10,"column":8},"end":{"line":10,"column":68}},"22":{"start":{"line":11,"column":0},"end":{"line":11,"column":44}},"23":{"start":{"line":11,"column":8},"end":{"line":11,"column":44}},"24":{"start":{"line":12,"column":0},"end":{"line":12,"column":70}},"25":{"start":{"line":12,"column":8},"end":{"line":12,"column":22}},"26":{"start":{"line":12,"column":24},"end":{"line":12,"column":70}},"27":{"start":{"line":13,"column":0},"end":{"line":13,"column":44}},"28":{"start":{"line":13,"column":8},"end":{"line":13,"column":44}},"29":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"30":{"start":{"line":14,"column":8},"end":{"line":14,"column":16}},"31":{"start":{"line":14,"column":18},"end":{"line":14,"column":62}},"32":{"start":{"line":15,"column":0},"end":{"line":15,"column":60}},"33":{"start":{"line":15,"column":8},"end":{"line":15,"column":60}},"34":{"start":{"line":16,"column":0},"end":{"line":16,"column":49}},"35":{"start":{"line":16,"column":8},"end":{"line":16,"column":15}},"36":{"start":{"line":16,"column":17},"end":{"line":16,"column":49}},"37":{"start":{"line":17,"column":0},"end":{"line":17,"column":46}},"38":{"start":{"line":17,"column":8},"end":{"line":17,"column":46}},"39":{"start":{"line":18,"column":0},"end":{"line":18,"column":46}},"40":{"start":{"line":18,"column":8},"end":{"line":18,"column":46}},"41":{"start":{"line":19,"column":0},"end":{"line":19,"column":66}},"42":{"start":{"line":19,"column":8},"end":{"line":19,"column":66}},"43":{"start":{"line":20,"column":0},"end":{"line":20,"column":48}},"44":{"start":{"line":20,"column":8},"end":{"line":20,"column":48}},"45":{"start":{"line":21,"column":0},"end":{"line":21,"column":47}},"46":{"start":{"line":21,"column":8},"end":{"line":21,"column":47}},"47":{"start":{"line":22,"column":0},"end":{"line":22,"column":36}},"48":{"start":{"line":22,"column":8},"end":{"line":22,"column":36}}},"fnMap":{},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1},"b":{},"f":{},"code":"export {ColorUtils} from './utils/ColorUtils';\nexport {Cookie} from './utils/CookieUtils';\nexport {CurrencyUtils} from './utils/CurrencyUtils';\nexport {DateUtils} from './utils/DateUtils';\nexport {DeviceUtils} from './utils/DeviceUtils';\nexport {Dom, $$} from './utils/Dom';\nexport {DomUtils} from './utils/DomUtils';\nexport {EmailActionsUtils} from './utils/EmailActionsUtils';\nexport {EmailUtils} from './utils/EmailUtils';\nexport {FeatureDetectionUtils} from './utils/FeatureDetectionUtils';\nexport {HashUtils} from './utils/HashUtils';\nexport {HighlightUtils, StringAndHoles} from './utils/HighlightUtils';\nexport {HTMLUtils} from './utils/HtmlUtils';\nexport {KEYBOARD, KeyboardUtils} from './utils/KeyboardUtils';\nexport {LocalStorageUtils} from './utils/LocalStorageUtils';\nexport {OSUtils, OS_NAME} from './utils/OSUtils';\nexport {PopupUtils} from './utils/PopupUtils';\nexport {QueryUtils} from './utils/QueryUtils';\nexport {StreamHighlightUtils} from './utils/StreamHighlightUtils';\nexport {StringUtils} from './utils/StringUtils';\nexport {TimeSpan} from './utils/TimeSpanUtils';\nexport {Utils} from './utils/Utils';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/UtilsModules.ts\n **/","l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1}},"src/utils/ColorUtils.ts":{"path":"src/utils/ColorUtils.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":63,"column":1}},"2":{"start":{"line":2,"column":9},"end":{"line":33,"column":3}},"3":{"start":{"line":3,"column":4},"end":{"line":3,"column":16}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":30}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":22}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":24}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":28}},"8":{"start":{"line":9,"column":4},"end":{"line":9,"column":34}},"9":{"start":{"line":11,"column":4},"end":{"line":30,"column":5}},"10":{"start":{"line":13,"column":8},"end":{"line":13,"column":28}},"11":{"start":{"line":14,"column":8},"end":{"line":14,"column":14}},"12":{"start":{"line":16,"column":8},"end":{"line":16,"column":28}},"13":{"start":{"line":17,"column":8},"end":{"line":17,"column":14}},"14":{"start":{"line":19,"column":8},"end":{"line":19,"column":28}},"15":{"start":{"line":20,"column":8},"end":{"line":20,"column":14}},"16":{"start":{"line":22,"column":8},"end":{"line":22,"column":28}},"17":{"start":{"line":23,"column":8},"end":{"line":23,"column":14}},"18":{"start":{"line":25,"column":8},"end":{"line":25,"column":28}},"19":{"start":{"line":26,"column":8},"end":{"line":26,"column":14}},"20":{"start":{"line":28,"column":8},"end":{"line":28,"column":28}},"21":{"start":{"line":29,"column":8},"end":{"line":29,"column":14}},"22":{"start":{"line":32,"column":4},"end":{"line":32,"column":75}},"23":{"start":{"line":35,"column":9},"end":{"line":62,"column":3}},"24":{"start":{"line":36,"column":4},"end":{"line":36,"column":42}},"25":{"start":{"line":37,"column":4},"end":{"line":38,"column":30}},"26":{"start":{"line":39,"column":4},"end":{"line":39,"column":22}},"27":{"start":{"line":41,"column":4},"end":{"line":41,"column":22}},"28":{"start":{"line":42,"column":4},"end":{"line":42,"column":31}},"29":{"start":{"line":44,"column":4},"end":{"line":59,"column":5}},"30":{"start":{"line":45,"column":6},"end":{"line":45,"column":12}},"31":{"start":{"line":47,"column":6},"end":{"line":57,"column":7}},"32":{"start":{"line":49,"column":10},"end":{"line":49,"column":44}},"33":{"start":{"line":50,"column":10},"end":{"line":50,"column":16}},"34":{"start":{"line":52,"column":10},"end":{"line":52,"column":30}},"35":{"start":{"line":53,"column":10},"end":{"line":53,"column":16}},"36":{"start":{"line":55,"column":10},"end":{"line":55,"column":30}},"37":{"start":{"line":56,"column":10},"end":{"line":56,"column":16}},"38":{"start":{"line":58,"column":6},"end":{"line":58,"column":13}},"39":{"start":{"line":61,"column":4},"end":{"line":61,"column":21}},"40":{"start":{"line":63,"column":0},"end":{"line":63,"column":1}},"41":{"start":{"line":1,"column":13},"end":{"line":63,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1071)","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_1073)","line":2,"loc":{"start":{"line":2,"column":2},"end":{"line":2,"column":25}}},"3":{"name":"(anonymous_1074)","line":35,"loc":{"start":{"line":35,"column":2},"end":{"line":35,"column":25}}}},"branchMap":{"1":{"line":12,"type":"switch","locations":[{"start":{"line":12,"column":6},"end":{"line":14,"column":14}},{"start":{"line":15,"column":6},"end":{"line":17,"column":14}},{"start":{"line":18,"column":6},"end":{"line":20,"column":14}},{"start":{"line":21,"column":6},"end":{"line":23,"column":14}},{"start":{"line":24,"column":6},"end":{"line":26,"column":14}},{"start":{"line":27,"column":6},"end":{"line":29,"column":14}}]},"2":{"line":42,"type":"cond-expr","locations":[{"start":{"line":42,"column":19},"end":{"line":42,"column":20}},{"start":{"line":42,"column":23},"end":{"line":42,"column":30}}]},"3":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":4},"end":{"line":44,"column":3}},{"start":{"line":44,"column":4},"end":{"line":44,"column":3}}]},"4":{"line":48,"type":"switch","locations":[{"start":{"line":48,"column":8},"end":{"line":50,"column":16}},{"start":{"line":51,"column":8},"end":{"line":53,"column":16}},{"start":{"line":54,"column":8},"end":{"line":56,"column":16}}]},"5":{"line":49,"type":"cond-expr","locations":[{"start":{"line":49,"column":37},"end":{"line":49,"column":38}},{"start":{"line":49,"column":41},"end":{"line":49,"column":42}}]}},"s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":1,"41":1},"b":{"1":[0,0,0,0,0,0],"2":[0,0],"3":[0,0],"4":[0,0,0],"5":[0,0]},"f":{"1":1,"2":0,"3":0},"code":"export class ColorUtils {\n  static hsvToRgb(h, s, v) {\n    var r, g, b;\n\n    var i = Math.floor(h * 6);\n    var f = h * 6 - i;\n    var p = v * (1 - s);\n    var q = v * (1 - f * s);\n    var t = v * (1 - (1 - f) * s);\n\n    switch (i % 6) {\n      case 0:\n        r = v, g = t, b = p;\n        break;\n      case 1:\n        r = q, g = v, b = p;\n        break;\n      case 2:\n        r = p, g = v, b = t;\n        break;\n      case 3:\n        r = p, g = q, b = v;\n        break;\n      case 4:\n        r = t, g = p, b = v;\n        break;\n      case 5:\n        r = v, g = p, b = q;\n        break;\n    }\n\n    return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\n  }\n\n  static rgbToHsv(r, g, b) {\n    r = r / 255, g = g / 255, b = b / 255;\n    var max = Math.max(r, g, b),\n      min = Math.min(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max == 0 ? 0 : d / max;\n\n    if (max == min) {\n      h = 0; // achromatic\n    } else {\n      switch (max) {\n        case r:\n          h = (g - b) / d + (g < b ? 6 : 0);\n          break;\n        case g:\n          h = (b - r) / d + 2;\n          break;\n        case b:\n          h = (r - g) / d + 4;\n          break;\n      }\n      h /= 6;\n    }\n\n    return [h, s, v];\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/ColorUtils.ts\n **/","l":{"1":2,"2":1,"3":0,"5":0,"6":0,"7":0,"8":0,"9":0,"11":0,"13":0,"14":0,"16":0,"17":0,"19":0,"20":0,"22":0,"23":0,"25":0,"26":0,"28":0,"29":0,"32":0,"35":1,"36":0,"37":0,"39":0,"41":0,"42":0,"44":0,"45":0,"47":0,"49":0,"50":0,"52":0,"53":0,"55":0,"56":0,"58":0,"61":0,"63":1}},"src/utils/CurrencyUtils.ts":{"path":"src/utils/CurrencyUtils.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":38}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":40}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"5":{"start":{"line":11,"column":0},"end":{"line":14,"column":1}},"6":{"start":{"line":11,"column":45},"end":{"line":11,"column":52}},"7":{"start":{"line":12,"column":2},"end":{"line":12,"column":23}},"8":{"start":{"line":14,"column":0},"end":{"line":14,"column":1}},"9":{"start":{"line":16,"column":0},"end":{"line":39,"column":1}},"10":{"start":{"line":17,"column":9},"end":{"line":38,"column":3}},"11":{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},"12":{"start":{"line":19,"column":6},"end":{"line":19,"column":16}},"13":{"start":{"line":21,"column":4},"end":{"line":21,"column":26}},"14":{"start":{"line":23,"column":4},"end":{"line":23,"column":27}},"15":{"start":{"line":25,"column":4},"end":{"line":25,"column":66}},"16":{"start":{"line":27,"column":4},"end":{"line":27,"column":61}},"17":{"start":{"line":28,"column":4},"end":{"line":28,"column":33}},"18":{"start":{"line":30,"column":4},"end":{"line":32,"column":5}},"19":{"start":{"line":31,"column":6},"end":{"line":31,"column":39}},"20":{"start":{"line":34,"column":4},"end":{"line":34,"column":73}},"21":{"start":{"line":35,"column":4},"end":{"line":35,"column":29}},"22":{"start":{"line":37,"column":4},"end":{"line":37,"column":15}},"23":{"start":{"line":39,"column":0},"end":{"line":39,"column":1}},"24":{"start":{"line":16,"column":13},"end":{"line":39,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1078)","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_1080)","line":16,"loc":{"start":{"line":16,"column":0},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_1082)","line":17,"loc":{"start":{"line":17,"column":2},"end":{"line":17,"column":75}}}},"branchMap":{"1":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":18,"column":3}},{"start":{"line":18,"column":4},"end":{"line":18,"column":3}}]},"2":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":4},"end":{"line":30,"column":3}},{"start":{"line":30,"column":4},"end":{"line":30,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":2,"6":1,"7":0,"8":1,"9":2,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":1,"2":1,"3":0},"code":"import {Assert} from '../misc/Assert';\nimport {Options} from '../misc/Options';\nimport {Utils} from '../utils/Utils';\nimport Globalize = require('globalize');\n\nexport interface ICurrencyToStringOptions {\n  decimals?: number;\n  symbol?: string;\n}\n\nclass DefaultCurrencyToStringOptions extends Options implements ICurrencyToStringOptions {\n  decimals: number = 0;\n  symbol: string;\n}\n\nexport class CurrencyUtils {\n  static currencyToString(value: number, options?: ICurrencyToStringOptions): string {\n    if (Utils.isNullOrUndefined(value)) {\n      return '';\n    }\n    value = Number(value);\n\n    Assert.isNumber(value);\n\n    options = new DefaultCurrencyToStringOptions().merge(options);\n\n    var currency = Globalize.culture().numberFormat.currency;\n    var backup = currency.symbol;\n\n    if (Utils.isNonEmptyString(options.symbol)) {\n      currency.symbol = options.symbol;\n    }\n\n    var str = Globalize.format(value, 'c' + options.decimals.toString());\n    currency.symbol = backup;\n\n    return str;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/CurrencyUtils.ts\n **/","l":{"1":1,"2":1,"3":1,"4":1,"11":2,"12":0,"14":1,"16":2,"17":1,"18":0,"19":0,"21":0,"23":0,"25":0,"27":0,"28":0,"30":0,"31":0,"34":0,"35":0,"37":0,"39":1}},"src/utils/DateUtils.ts":{"path":"src/utils/DateUtils.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":40}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":30}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":41}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"6":{"start":{"line":19,"column":0},"end":{"line":29,"column":1}},"7":{"start":{"line":19,"column":41},"end":{"line":19,"column":48}},"8":{"start":{"line":20,"column":2},"end":{"line":20,"column":25}},"9":{"start":{"line":21,"column":2},"end":{"line":21,"column":38}},"10":{"start":{"line":22,"column":2},"end":{"line":22,"column":30}},"11":{"start":{"line":23,"column":2},"end":{"line":23,"column":30}},"12":{"start":{"line":24,"column":2},"end":{"line":24,"column":28}},"13":{"start":{"line":25,"column":2},"end":{"line":25,"column":28}},"14":{"start":{"line":26,"column":2},"end":{"line":26,"column":31}},"15":{"start":{"line":27,"column":2},"end":{"line":27,"column":28}},"16":{"start":{"line":28,"column":2},"end":{"line":28,"column":39}},"17":{"start":{"line":29,"column":0},"end":{"line":29,"column":1}},"18":{"start":{"line":31,"column":0},"end":{"line":154,"column":1}},"19":{"start":{"line":35,"column":9},"end":{"line":45,"column":3}},"20":{"start":{"line":36,"column":4},"end":{"line":44,"column":5}},"21":{"start":{"line":37,"column":6},"end":{"line":37,"column":18}},"22":{"start":{"line":38,"column":11},"end":{"line":44,"column":5}},"23":{"start":{"line":39,"column":6},"end":{"line":39,"column":36}},"24":{"start":{"line":40,"column":11},"end":{"line":44,"column":5}},"25":{"start":{"line":41,"column":6},"end":{"line":41,"column":54}},"26":{"start":{"line":43,"column":6},"end":{"line":43,"column":23}},"27":{"start":{"line":47,"column":9},"end":{"line":49,"column":3}},"28":{"start":{"line":48,"column":4},"end":{"line":48,"column":73}},"29":{"start":{"line":51,"column":9},"end":{"line":56,"column":3}},"30":{"start":{"line":52,"column":4},"end":{"line":52,"column":43}},"31":{"start":{"line":53,"column":4},"end":{"line":53,"column":48}},"32":{"start":{"line":55,"column":4},"end":{"line":55,"column":19}},"33":{"start":{"line":58,"column":9},"end":{"line":104,"column":3}},"34":{"start":{"line":59,"column":4},"end":{"line":61,"column":5}},"35":{"start":{"line":60,"column":6},"end":{"line":60,"column":16}},"36":{"start":{"line":63,"column":4},"end":{"line":63,"column":62}},"37":{"start":{"line":65,"column":4},"end":{"line":65,"column":49}},"38":{"start":{"line":67,"column":4},"end":{"line":69,"column":5}},"39":{"start":{"line":68,"column":6},"end":{"line":68,"column":66}},"40":{"start":{"line":71,"column":4},"end":{"line":71,"column":56}},"41":{"start":{"line":72,"column":4},"end":{"line":84,"column":5}},"42":{"start":{"line":73,"column":6},"end":{"line":75,"column":7}},"43":{"start":{"line":74,"column":8},"end":{"line":74,"column":26}},"44":{"start":{"line":76,"column":6},"end":{"line":76,"column":58}},"45":{"start":{"line":77,"column":6},"end":{"line":79,"column":7}},"46":{"start":{"line":78,"column":8},"end":{"line":78,"column":29}},"47":{"start":{"line":80,"column":6},"end":{"line":80,"column":60}},"48":{"start":{"line":81,"column":6},"end":{"line":83,"column":7}},"49":{"start":{"line":82,"column":8},"end":{"line":82,"column":30}},"50":{"start":{"line":86,"column":4},"end":{"line":86,"column":81}},"51":{"start":{"line":87,"column":4},"end":{"line":93,"column":5}},"52":{"start":{"line":88,"column":6},"end":{"line":92,"column":7}},"53":{"start":{"line":89,"column":8},"end":{"line":89,"column":68}},"54":{"start":{"line":91,"column":8},"end":{"line":91,"column":68}},"55":{"start":{"line":95,"column":4},"end":{"line":97,"column":5}},"56":{"start":{"line":96,"column":6},"end":{"line":96,"column":45}},"57":{"start":{"line":99,"column":4},"end":{"line":101,"column":5}},"58":{"start":{"line":100,"column":6},"end":{"line":100,"column":45}},"59":{"start":{"line":103,"column":4},"end":{"line":103,"column":43}},"60":{"start":{"line":106,"column":9},"end":{"line":112,"column":3}},"61":{"start":{"line":107,"column":4},"end":{"line":109,"column":5}},"62":{"start":{"line":108,"column":6},"end":{"line":108,"column":16}},"63":{"start":{"line":111,"column":4},"end":{"line":111,"column":39}},"64":{"start":{"line":114,"column":9},"end":{"line":131,"column":3}},"65":{"start":{"line":115,"column":4},"end":{"line":117,"column":5}},"66":{"start":{"line":116,"column":6},"end":{"line":116,"column":16}},"67":{"start":{"line":119,"column":4},"end":{"line":119,"column":62}},"68":{"start":{"line":121,"column":4},"end":{"line":121,"column":56}},"69":{"start":{"line":122,"column":4},"end":{"line":122,"column":77}},"70":{"start":{"line":123,"column":4},"end":{"line":123,"column":57}},"71":{"start":{"line":124,"column":4},"end":{"line":124,"column":59}},"72":{"start":{"line":126,"column":4},"end":{"line":130,"column":5}},"73":{"start":{"line":127,"column":6},"end":{"line":127,"column":60}},"74":{"start":{"line":129,"column":6},"end":{"line":129,"column":22}},"75":{"start":{"line":133,"column":9},"end":{"line":136,"column":3}},"76":{"start":{"line":134,"column":4},"end":{"line":134,"column":37}},"77":{"start":{"line":135,"column":4},"end":{"line":135,"column":42}},"78":{"start":{"line":138,"column":9},"end":{"line":143,"column":3}},"79":{"start":{"line":139,"column":4},"end":{"line":141,"column":5}},"80":{"start":{"line":140,"column":6},"end":{"line":140,"column":35}},"81":{"start":{"line":142,"column":4},"end":{"line":142,"column":17}},"82":{"start":{"line":145,"column":9},"end":{"line":153,"column":3}},"83":{"start":{"line":146,"column":4},"end":{"line":148,"column":5}},"84":{"start":{"line":147,"column":6},"end":{"line":147,"column":16}},"85":{"start":{"line":150,"column":4},"end":{"line":152,"column":97}},"86":{"start":{"line":154,"column":0},"end":{"line":154,"column":1}},"87":{"start":{"line":31,"column":13},"end":{"line":154,"column":1}},"88":{"start":{"line":158,"column":0},"end":{"line":178,"column":1}},"89":{"start":{"line":159,"column":2},"end":{"line":177,"column":8}},"90":{"start":{"line":160,"column":4},"end":{"line":165,"column":5}},"91":{"start":{"line":161,"column":6},"end":{"line":163,"column":7}},"92":{"start":{"line":162,"column":8},"end":{"line":162,"column":26}},"93":{"start":{"line":164,"column":6},"end":{"line":164,"column":18}},"94":{"start":{"line":167,"column":4},"end":{"line":176,"column":6}},"95":{"start":{"line":168,"column":6},"end":{"line":175,"column":12}}},"fnMap":{"1":{"name":"(anonymous_1087)","line":19,"loc":{"start":{"line":19,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_1089)","line":31,"loc":{"start":{"line":31,"column":0},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_1091)","line":35,"loc":{"start":{"line":35,"column":2},"end":{"line":35,"column":46}}},"4":{"name":"(anonymous_1092)","line":47,"loc":{"start":{"line":47,"column":2},"end":{"line":47,"column":36}}},"5":{"name":"(anonymous_1093)","line":51,"loc":{"start":{"line":51,"column":2},"end":{"line":51,"column":52}}},"6":{"name":"(anonymous_1094)","line":58,"loc":{"start":{"line":58,"column":2},"end":{"line":58,"column":61}}},"7":{"name":"(anonymous_1095)","line":106,"loc":{"start":{"line":106,"column":2},"end":{"line":106,"column":64}}},"8":{"name":"(anonymous_1096)","line":114,"loc":{"start":{"line":114,"column":2},"end":{"line":114,"column":68}}},"9":{"name":"(anonymous_1097)","line":133,"loc":{"start":{"line":133,"column":2},"end":{"line":133,"column":36}}},"10":{"name":"(anonymous_1098)","line":138,"loc":{"start":{"line":138,"column":2},"end":{"line":138,"column":26}}},"11":{"name":"(anonymous_1099)","line":145,"loc":{"start":{"line":145,"column":2},"end":{"line":145,"column":41}}},"12":{"name":"(anonymous_1100)","line":159,"loc":{"start":{"line":159,"column":3},"end":{"line":null,"column":-1}}},"13":{"name":"pad","line":160,"loc":{"start":{"line":160,"column":4},"end":{"line":160,"column":21}}},"14":{"name":"(anonymous_1102)","line":167,"loc":{"start":{"line":167,"column":33},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":4},"end":{"line":36,"column":3}},{"start":{"line":36,"column":4},"end":{"line":36,"column":3}}]},"2":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":11},"end":{"line":38,"column":10}},{"start":{"line":38,"column":11},"end":{"line":38,"column":10}}]},"3":{"line":38,"type":"binary-expr","locations":[{"start":{"line":38,"column":15},"end":{"line":38,"column":28}},{"start":{"line":38,"column":32},"end":{"line":38,"column":52}}]},"4":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":11},"end":{"line":40,"column":10}},{"start":{"line":40,"column":11},"end":{"line":40,"column":10}}]},"5":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":4},"end":{"line":59,"column":3}},{"start":{"line":59,"column":4},"end":{"line":59,"column":3}}]},"6":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":4},"end":{"line":67,"column":3}},{"start":{"line":67,"column":4},"end":{"line":67,"column":3}}]},"7":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":4},"end":{"line":72,"column":3}},{"start":{"line":72,"column":4},"end":{"line":72,"column":3}}]},"8":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":6},"end":{"line":73,"column":5}},{"start":{"line":73,"column":6},"end":{"line":73,"column":5}}]},"9":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":6},"end":{"line":77,"column":5}},{"start":{"line":77,"column":6},"end":{"line":77,"column":5}}]},"10":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":6},"end":{"line":81,"column":5}},{"start":{"line":81,"column":6},"end":{"line":81,"column":5}}]},"11":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":4},"end":{"line":87,"column":3}},{"start":{"line":87,"column":4},"end":{"line":87,"column":3}}]},"12":{"line":87,"type":"binary-expr","locations":[{"start":{"line":87,"column":8},"end":{"line":87,"column":36}},{"start":{"line":87,"column":40},"end":{"line":87,"column":50}}]},"13":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":6},"end":{"line":88,"column":5}},{"start":{"line":88,"column":6},"end":{"line":88,"column":5}}]},"14":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":4},"end":{"line":95,"column":3}},{"start":{"line":95,"column":4},"end":{"line":95,"column":3}}]},"15":{"line":95,"type":"binary-expr","locations":[{"start":{"line":95,"column":8},"end":{"line":95,"column":36}},{"start":{"line":95,"column":40},"end":{"line":95,"column":86}}]},"16":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":4},"end":{"line":99,"column":3}},{"start":{"line":99,"column":4},"end":{"line":99,"column":3}}]},"17":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":4},"end":{"line":107,"column":3}},{"start":{"line":107,"column":4},"end":{"line":107,"column":3}}]},"18":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":4},"end":{"line":115,"column":3}},{"start":{"line":115,"column":4},"end":{"line":115,"column":3}}]},"19":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":4},"end":{"line":126,"column":3}},{"start":{"line":126,"column":4},"end":{"line":126,"column":3}}]},"20":{"line":126,"type":"binary-expr","locations":[{"start":{"line":126,"column":8},"end":{"line":126,"column":33}},{"start":{"line":126,"column":38},"end":{"line":126,"column":67}},{"start":{"line":126,"column":71},"end":{"line":126,"column":81}},{"start":{"line":126,"column":87},"end":{"line":126,"column":113}},{"start":{"line":126,"column":117},"end":{"line":126,"column":161}}]},"21":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":4},"end":{"line":139,"column":3}},{"start":{"line":139,"column":4},"end":{"line":139,"column":3}}]},"22":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":4},"end":{"line":146,"column":3}},{"start":{"line":146,"column":4},"end":{"line":146,"column":3}}]},"23":{"line":146,"type":"binary-expr","locations":[{"start":{"line":146,"column":8},"end":{"line":146,"column":37}},{"start":{"line":146,"column":41},"end":{"line":146,"column":68}}]},"24":{"line":158,"type":"if","locations":[{"start":{"line":158,"column":0},"end":{"line":158,"column":1}},{"start":{"line":158,"column":0},"end":{"line":158,"column":1}}]},"25":{"line":161,"type":"if","locations":[{"start":{"line":161,"column":6},"end":{"line":161,"column":5}},{"start":{"line":161,"column":6},"end":{"line":161,"column":5}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":2,"7":14,"8":13,"9":13,"10":13,"11":13,"12":13,"13":13,"14":13,"15":13,"16":13,"17":1,"18":2,"19":1,"20":3,"21":0,"22":3,"23":3,"24":0,"25":0,"26":0,"27":1,"28":26,"29":1,"30":6,"31":6,"32":6,"33":1,"34":8,"35":0,"36":8,"37":8,"38":8,"39":0,"40":8,"41":8,"42":3,"43":0,"44":3,"45":3,"46":0,"47":3,"48":3,"49":0,"50":8,"51":8,"52":0,"53":0,"54":0,"55":8,"56":0,"57":8,"58":5,"59":3,"60":1,"61":0,"62":0,"63":0,"64":1,"65":5,"66":0,"67":5,"68":5,"69":5,"70":5,"71":5,"72":5,"73":0,"74":5,"75":1,"76":0,"77":0,"78":1,"79":2,"80":2,"81":0,"82":1,"83":0,"84":0,"85":0,"86":1,"87":1,"88":1,"89":0,"90":1,"91":0,"92":0,"93":0,"94":0,"95":0},"b":{"1":[0,3],"2":[3,0],"3":[3,3],"4":[0,0],"5":[0,8],"6":[0,8],"7":[3,5],"8":[0,3],"9":[0,3],"10":[0,3],"11":[0,8],"12":[8,3],"13":[0,0],"14":[0,8],"15":[8,3],"16":[5,3],"17":[0,0],"18":[0,5],"19":[0,5],"20":[5,5,5,5,5],"21":[2,0],"22":[0,0],"23":[0,0],"24":[0,1],"25":[0,0]},"f":{"1":14,"2":1,"3":3,"4":26,"5":6,"6":8,"7":0,"8":5,"9":0,"10":2,"11":0,"12":0,"13":0,"14":0},"code":"import {Options} from '../misc/Options';\nimport {Utils} from './Utils';\nimport {l} from '../strings/Strings';\nimport {TimeSpan} from './TimeSpanUtils';\nimport Globalize = require('globalize');\n\nexport interface IDateToStringOptions {\n  now?: Date;\n  useTodayYesterdayAndTomorrow?: boolean;\n  useWeekdayIfThisWeek?: boolean;\n  omitYearIfCurrentOne?: boolean;\n  useLongDateFormat?: boolean;\n  includeTimeIfToday?: boolean;\n  includeTimeIfThisWeek?: boolean;\n  alwaysIncludeTime?: boolean;\n  predefinedFormat?: string;\n}\n\nclass DefaultDateToStringOptions extends Options implements IDateToStringOptions {\n  now: Date = new Date();\n  useTodayYesterdayAndTomorrow = true;\n  useWeekdayIfThisWeek = true;\n  omitYearIfCurrentOne = true;\n  useLongDateFormat = false;\n  includeTimeIfToday = true;\n  includeTimeIfThisWeek = true;\n  alwaysIncludeTime = false;\n  predefinedFormat: string = undefined;\n}\n\nexport class DateUtils {\n  static convertFromJsonDateIfNeeded(date: string): Date;\n  static convertFromJsonDateIfNeeded(date: number): Date;\n  static convertFromJsonDateIfNeeded(date: Date): Date;\n  static convertFromJsonDateIfNeeded(date: any): Date {\n    if (_.isDate(date)) {\n      return date;\n    } else if (date !== null && !isNaN(Number(date))) {\n      return new Date(Number(date));\n    } else if (_.isString(date)) {\n      return new Date(<string>date.replace('@', ' '));\n    } else {\n      return undefined;\n    }\n  }\n\n  static keepOnlyDatePart(date: Date): Date {\n    return new Date(date.getFullYear(), date.getMonth(), date.getDate());\n  }\n\n  static offsetDateByDays(date: Date, offset: number): Date {\n    var newDate = new Date(date.valueOf());\n    newDate.setDate(newDate.getDate() + offset);\n\n    return newDate;\n  }\n\n  static dateToString(d: Date, options?: IDateToStringOptions): string {\n    if (Utils.isNullOrUndefined(d)) {\n      return '';\n    }\n\n    options = new DefaultDateToStringOptions().merge(options);\n\n    var dateOnly = DateUtils.keepOnlyDatePart(d);\n\n    if (options.predefinedFormat) {\n      return Globalize.format(dateOnly, options.predefinedFormat);\n    }\n\n    var today = DateUtils.keepOnlyDatePart(options.now);\n    if (options.useTodayYesterdayAndTomorrow) {\n      if (dateOnly.valueOf() == today.valueOf()) {\n        return l('Today');\n      }\n      var tomorrow = DateUtils.offsetDateByDays(today, 1);\n      if (dateOnly.valueOf() == tomorrow.valueOf()) {\n        return l('Tomorrow');\n      }\n      var yesterday = DateUtils.offsetDateByDays(today, -1);\n      if (dateOnly.valueOf() == yesterday.valueOf()) {\n        return l('Yesterday');\n      }\n    }\n\n    var isThisWeek = Math.abs(TimeSpan.fromDates(dateOnly, today).getDays()) < 7;\n    if (options.useWeekdayIfThisWeek && isThisWeek) {\n      if (dateOnly.valueOf() > today.valueOf()) {\n        return l('Next') + ' ' + Globalize.format(dateOnly, 'dddd');\n      } else {\n        return l('Last') + ' ' + Globalize.format(dateOnly, 'dddd');\n      }\n    }\n\n    if (options.omitYearIfCurrentOne && dateOnly.getFullYear() === today.getFullYear()) {\n      return Globalize.format(dateOnly, 'M');\n    }\n\n    if (options.useLongDateFormat) {\n      return Globalize.format(dateOnly, 'D');\n    }\n\n    return Globalize.format(dateOnly, 'd');\n  }\n\n  static timeToString(date: Date, options?: IDateToStringOptions): string {\n    if (Utils.isNullOrUndefined(date)) {\n      return '';\n    }\n\n    return Globalize.format(date, 't');\n  }\n\n  static dateTimeToString(date: Date, options?: IDateToStringOptions): string {\n    if (Utils.isNullOrUndefined(date)) {\n      return '';\n    }\n\n    options = new DefaultDateToStringOptions().merge(options);\n\n    var today = DateUtils.keepOnlyDatePart(options.now);\n    var isThisWeek = Math.abs(TimeSpan.fromDates(date, today).getDays()) < 7;\n    var datePart = DateUtils.dateToString(date, options);\n    var dateWithoutTime = DateUtils.keepOnlyDatePart(date);\n\n    if (options.alwaysIncludeTime || (options.includeTimeIfThisWeek && isThisWeek) || (options.includeTimeIfToday && dateWithoutTime.valueOf() == today.valueOf())) {\n      return datePart + ', ' + DateUtils.timeToString(date);\n    } else {\n      return datePart;\n    }\n  }\n\n  static monthToString(month: number): string {\n    var date = new Date(1980, month);\n    return Globalize.format(date, 'MMMM');\n  }\n\n  static isValid(date: any) {\n    if (date instanceof Date) {\n      return !isNaN(date.getTime())\n    }\n    return false;\n  }\n\n  static timeBetween(from: Date, to: Date) {\n    if (Utils.isNullOrUndefined(from) || Utils.isNullOrUndefined(to)) {\n      return '';\n    }\n\n    return ('0' + ((to.getTime() - from.getTime()) / (1000 * 60 * 60)).toFixed()).slice(-2) +\n      ':' + ('0' + ((to.getTime() - from.getTime()) % (1000 * 60 * 60) / (1000 * 60)).toFixed()).slice(-2) +\n      ':' + ('0' + ((to.getTime() - from.getTime()) % (1000 * 60) / (1000)).toFixed()).slice(-2);\n  }\n}\n\n// Shim for IE8 Date.toISOString\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString\nif (!Date.prototype.toISOString) {\n  (function () {\n    function pad(nber) {\n      if (nber < 10) {\n        return '0' + nber;\n      }\n      return nber;\n    }\n\n    Date.prototype.toISOString = function () {\n      return this.getUTCFullYear() +\n        '-' + pad(this.getUTCMonth() + 1) +\n        '-' + pad(this.getUTCDate()) +\n        'T' + pad(this.getUTCHours()) +\n        ':' + pad(this.getUTCMinutes()) +\n        ':' + pad(this.getUTCSeconds()) +\n        '.' + (this.getUTCMilliseconds() / 1000).toFixed(3).slice(2, 5) +\n        'Z';\n    };\n  } ());\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/DateUtils.ts\n **/","l":{"1":1,"2":1,"3":1,"4":1,"5":1,"19":14,"20":13,"21":13,"22":13,"23":13,"24":13,"25":13,"26":13,"27":13,"28":13,"29":1,"31":2,"35":1,"36":3,"37":0,"38":3,"39":3,"40":0,"41":0,"43":0,"47":1,"48":26,"51":1,"52":6,"53":6,"55":6,"58":1,"59":8,"60":0,"63":8,"65":8,"67":8,"68":0,"71":8,"72":8,"73":3,"74":0,"76":3,"77":3,"78":0,"80":3,"81":3,"82":0,"86":8,"87":8,"88":0,"89":0,"91":0,"95":8,"96":0,"99":8,"100":5,"103":3,"106":1,"107":0,"108":0,"111":0,"114":1,"115":5,"116":0,"119":5,"121":5,"122":5,"123":5,"124":5,"126":5,"127":0,"129":5,"133":1,"134":0,"135":0,"138":1,"139":2,"140":2,"142":0,"145":1,"146":0,"147":0,"150":0,"154":1,"158":1,"159":0,"160":1,"161":0,"162":0,"164":0,"167":0,"168":0}},"src/utils/Dom.ts":{"path":"src/utils/Dom.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":37}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":38}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":38}},"4":{"start":{"line":16,"column":0},"end":{"line":666,"column":1}},"5":{"start":{"line":26,"column":2},"end":{"line":29,"column":3}},"6":{"start":{"line":27,"column":4},"end":{"line":27,"column":22}},"7":{"start":{"line":28,"column":4},"end":{"line":28,"column":17}},"8":{"start":{"line":41,"column":9},"end":{"line":64,"column":3}},"9":{"start":{"line":41,"column":53},"end":{"line":41,"column":99}},"10":{"start":{"line":42,"column":4},"end":{"line":42,"column":57}},"11":{"start":{"line":44,"column":4},"end":{"line":51,"column":5}},"12":{"start":{"line":45,"column":6},"end":{"line":50,"column":7}},"13":{"start":{"line":46,"column":8},"end":{"line":46,"column":44}},"14":{"start":{"line":48,"column":8},"end":{"line":48,"column":72}},"15":{"start":{"line":49,"column":8},"end":{"line":49,"column":44}},"16":{"start":{"line":53,"column":4},"end":{"line":61,"column":6}},"17":{"start":{"line":54,"column":6},"end":{"line":60,"column":7}},"18":{"start":{"line":55,"column":8},"end":{"line":55,"column":32}},"19":{"start":{"line":56,"column":13},"end":{"line":60,"column":7}},"20":{"start":{"line":57,"column":8},"end":{"line":57,"column":32}},"21":{"start":{"line":58,"column":13},"end":{"line":60,"column":7}},"22":{"start":{"line":59,"column":8},"end":{"line":59,"column":35}},"23":{"start":{"line":63,"column":4},"end":{"line":63,"column":16}},"24":{"start":{"line":71,"column":9},"end":{"line":73,"column":3}},"25":{"start":{"line":72,"column":4},"end":{"line":72,"column":33}},"26":{"start":{"line":80,"column":9},"end":{"line":85,"column":3}},"27":{"start":{"line":81,"column":4},"end":{"line":83,"column":5}},"28":{"start":{"line":82,"column":6},"end":{"line":82,"column":37}},"29":{"start":{"line":84,"column":4},"end":{"line":84,"column":71}},"30":{"start":{"line":92,"column":9},"end":{"line":102,"column":3}},"31":{"start":{"line":93,"column":4},"end":{"line":101,"column":5}},"32":{"start":{"line":94,"column":6},"end":{"line":98,"column":7}},"33":{"start":{"line":95,"column":8},"end":{"line":95,"column":32}},"34":{"start":{"line":96,"column":13},"end":{"line":98,"column":7}},"35":{"start":{"line":97,"column":8},"end":{"line":97,"column":34}},"36":{"start":{"line":100,"column":6},"end":{"line":100,"column":54}},"37":{"start":{"line":110,"column":9},"end":{"line":117,"column":3}},"38":{"start":{"line":111,"column":4},"end":{"line":111,"column":28}},"39":{"start":{"line":112,"column":4},"end":{"line":112,"column":42}},"40":{"start":{"line":113,"column":4},"end":{"line":115,"column":5}},"41":{"start":{"line":114,"column":6},"end":{"line":114,"column":45}},"42":{"start":{"line":116,"column":4},"end":{"line":116,"column":15}},"43":{"start":{"line":122,"column":9},"end":{"line":126,"column":3}},"44":{"start":{"line":123,"column":4},"end":{"line":125,"column":5}},"45":{"start":{"line":124,"column":6},"end":{"line":124,"column":46}},"46":{"start":{"line":131,"column":9},"end":{"line":133,"column":3}},"47":{"start":{"line":132,"column":4},"end":{"line":132,"column":44}},"48":{"start":{"line":138,"column":9},"end":{"line":140,"column":3}},"49":{"start":{"line":139,"column":4},"end":{"line":139,"column":36}},"50":{"start":{"line":145,"column":9},"end":{"line":147,"column":3}},"51":{"start":{"line":146,"column":4},"end":{"line":146,"column":35}},"52":{"start":{"line":154,"column":9},"end":{"line":168,"column":3}},"53":{"start":{"line":155,"column":4},"end":{"line":167,"column":5}},"54":{"start":{"line":156,"column":6},"end":{"line":160,"column":7}},"55":{"start":{"line":157,"column":8},"end":{"line":157,"column":20}},"56":{"start":{"line":159,"column":8},"end":{"line":159,"column":20}},"57":{"start":{"line":162,"column":6},"end":{"line":166,"column":7}},"58":{"start":{"line":163,"column":8},"end":{"line":163,"column":20}},"59":{"start":{"line":165,"column":8},"end":{"line":165,"column":20}},"60":{"start":{"line":174,"column":9},"end":{"line":176,"column":3}},"61":{"start":{"line":175,"column":4},"end":{"line":175,"column":38}},"62":{"start":{"line":183,"column":9},"end":{"line":185,"column":3}},"63":{"start":{"line":184,"column":4},"end":{"line":184,"column":38}},"64":{"start":{"line":192,"column":9},"end":{"line":194,"column":3}},"65":{"start":{"line":193,"column":4},"end":{"line":193,"column":56}},"66":{"start":{"line":201,"column":9},"end":{"line":218,"column":3}},"67":{"start":{"line":202,"column":4},"end":{"line":204,"column":5}},"68":{"start":{"line":203,"column":6},"end":{"line":203,"column":18}},"69":{"start":{"line":205,"column":4},"end":{"line":209,"column":5}},"70":{"start":{"line":206,"column":6},"end":{"line":208,"column":7}},"71":{"start":{"line":207,"column":8},"end":{"line":207,"column":20}},"72":{"start":{"line":211,"column":4},"end":{"line":215,"column":5}},"73":{"start":{"line":212,"column":6},"end":{"line":214,"column":7}},"74":{"start":{"line":213,"column":8},"end":{"line":213,"column":20}},"75":{"start":{"line":217,"column":4},"end":{"line":217,"column":17}},"76":{"start":{"line":225,"column":9},"end":{"line":248,"column":3}},"77":{"start":{"line":226,"column":4},"end":{"line":228,"column":5}},"78":{"start":{"line":227,"column":6},"end":{"line":227,"column":38}},"79":{"start":{"line":229,"column":4},"end":{"line":229,"column":41}},"80":{"start":{"line":230,"column":4},"end":{"line":243,"column":5}},"81":{"start":{"line":231,"column":6},"end":{"line":233,"column":7}},"82":{"start":{"line":232,"column":8},"end":{"line":232,"column":21}},"83":{"start":{"line":234,"column":6},"end":{"line":236,"column":7}},"84":{"start":{"line":235,"column":8},"end":{"line":235,"column":14}},"85":{"start":{"line":237,"column":6},"end":{"line":239,"column":7}},"86":{"start":{"line":238,"column":8},"end":{"line":238,"column":14}},"87":{"start":{"line":240,"column":6},"end":{"line":242,"column":7}},"88":{"start":{"line":241,"column":8},"end":{"line":241,"column":40}},"89":{"start":{"line":244,"column":4},"end":{"line":246,"column":5}},"90":{"start":{"line":245,"column":6},"end":{"line":245,"column":21}},"91":{"start":{"line":247,"column":4},"end":{"line":247,"column":21}},"92":{"start":{"line":254,"column":9},"end":{"line":256,"column":3}},"93":{"start":{"line":255,"column":4},"end":{"line":255,"column":50}},"94":{"start":{"line":262,"column":9},"end":{"line":273,"column":3}},"95":{"start":{"line":263,"column":4},"end":{"line":263,"column":18}},"96":{"start":{"line":264,"column":4},"end":{"line":264,"column":68}},"97":{"start":{"line":265,"column":4},"end":{"line":271,"column":5}},"98":{"start":{"line":266,"column":6},"end":{"line":270,"column":7}},"99":{"start":{"line":267,"column":8},"end":{"line":269,"column":9}},"100":{"start":{"line":268,"column":10},"end":{"line":268,"column":36}},"101":{"start":{"line":272,"column":4},"end":{"line":272,"column":16}},"102":{"start":{"line":275,"column":10},"end":{"line":283,"column":3}},"103":{"start":{"line":276,"column":4},"end":{"line":276,"column":50}},"104":{"start":{"line":277,"column":4},"end":{"line":281,"column":5}},"105":{"start":{"line":278,"column":6},"end":{"line":280,"column":7}},"106":{"start":{"line":279,"column":8},"end":{"line":279,"column":20}},"107":{"start":{"line":282,"column":4},"end":{"line":282,"column":17}},"108":{"start":{"line":290,"column":9},"end":{"line":292,"column":3}},"109":{"start":{"line":291,"column":4},"end":{"line":291,"column":68}},"110":{"start":{"line":299,"column":9},"end":{"line":305,"column":3}},"111":{"start":{"line":300,"column":4},"end":{"line":302,"column":5}},"112":{"start":{"line":301,"column":6},"end":{"line":301,"column":76}},"113":{"start":{"line":304,"column":4},"end":{"line":304,"column":75}},"114":{"start":{"line":312,"column":9},"end":{"line":314,"column":3}},"115":{"start":{"line":313,"column":4},"end":{"line":313,"column":39}},"116":{"start":{"line":322,"column":9},"end":{"line":336,"column":3}},"117":{"start":{"line":322,"column":2},"end":{"line":336,"column":3}},"118":{"start":{"line":323,"column":4},"end":{"line":335,"column":5}},"119":{"start":{"line":324,"column":6},"end":{"line":326,"column":8}},"120":{"start":{"line":325,"column":8},"end":{"line":325,"column":28}},"121":{"start":{"line":328,"column":6},"end":{"line":334,"column":7}},"122":{"start":{"line":329,"column":8},"end":{"line":333,"column":9}},"123":{"start":{"line":330,"column":10},"end":{"line":330,"column":47}},"124":{"start":{"line":332,"column":10},"end":{"line":332,"column":40}},"125":{"start":{"line":342,"column":9},"end":{"line":344,"column":3}},"126":{"start":{"line":343,"column":4},"end":{"line":343,"column":112}},"127":{"start":{"line":351,"column":9},"end":{"line":365,"column":3}},"128":{"start":{"line":352,"column":4},"end":{"line":364,"column":5}},"129":{"start":{"line":353,"column":6},"end":{"line":357,"column":7}},"130":{"start":{"line":354,"column":8},"end":{"line":354,"column":36}},"131":{"start":{"line":356,"column":8},"end":{"line":356,"column":33}},"132":{"start":{"line":359,"column":6},"end":{"line":363,"column":7}},"133":{"start":{"line":360,"column":8},"end":{"line":360,"column":33}},"134":{"start":{"line":362,"column":8},"end":{"line":362,"column":36}},"135":{"start":{"line":371,"column":9},"end":{"line":373,"column":3}},"136":{"start":{"line":372,"column":4},"end":{"line":372,"column":29}},"137":{"start":{"line":379,"column":9},"end":{"line":381,"column":3}},"138":{"start":{"line":380,"column":4},"end":{"line":380,"column":62}},"139":{"start":{"line":388,"column":9},"end":{"line":390,"column":3}},"140":{"start":{"line":389,"column":4},"end":{"line":389,"column":50}},"141":{"start":{"line":395,"column":9},"end":{"line":397,"column":3}},"142":{"start":{"line":396,"column":4},"end":{"line":396,"column":72}},"143":{"start":{"line":403,"column":9},"end":{"line":405,"column":3}},"144":{"start":{"line":404,"column":4},"end":{"line":404,"column":88}},"145":{"start":{"line":411,"column":9},"end":{"line":413,"column":3}},"146":{"start":{"line":412,"column":4},"end":{"line":412,"column":76}},"147":{"start":{"line":419,"column":9},"end":{"line":425,"column":3}},"148":{"start":{"line":420,"column":4},"end":{"line":424,"column":5}},"149":{"start":{"line":421,"column":6},"end":{"line":421,"column":71}},"150":{"start":{"line":423,"column":6},"end":{"line":423,"column":37}},"151":{"start":{"line":434,"column":9},"end":{"line":456,"column":3}},"152":{"start":{"line":434,"column":2},"end":{"line":456,"column":3}},"153":{"start":{"line":435,"column":4},"end":{"line":455,"column":5}},"154":{"start":{"line":436,"column":6},"end":{"line":438,"column":8}},"155":{"start":{"line":437,"column":8},"end":{"line":437,"column":32}},"156":{"start":{"line":440,"column":6},"end":{"line":440,"column":32}},"157":{"start":{"line":441,"column":6},"end":{"line":454,"column":7}},"158":{"start":{"line":442,"column":8},"end":{"line":442,"column":42}},"159":{"start":{"line":443,"column":13},"end":{"line":454,"column":7}},"160":{"start":{"line":444,"column":8},"end":{"line":446,"column":9}},"161":{"start":{"line":445,"column":10},"end":{"line":445,"column":34}},"162":{"start":{"line":447,"column":8},"end":{"line":450,"column":10}},"163":{"start":{"line":451,"column":8},"end":{"line":451,"column":50}},"164":{"start":{"line":452,"column":13},"end":{"line":454,"column":7}},"165":{"start":{"line":453,"column":8},"end":{"line":453,"column":48}},"166":{"start":{"line":466,"column":9},"end":{"line":478,"column":3}},"167":{"start":{"line":466,"column":2},"end":{"line":478,"column":3}},"168":{"start":{"line":467,"column":4},"end":{"line":477,"column":5}},"169":{"start":{"line":468,"column":6},"end":{"line":470,"column":8}},"170":{"start":{"line":469,"column":8},"end":{"line":469,"column":33}},"171":{"start":{"line":472,"column":6},"end":{"line":475,"column":7}},"172":{"start":{"line":473,"column":8},"end":{"line":473,"column":29}},"173":{"start":{"line":474,"column":8},"end":{"line":474,"column":36}},"174":{"start":{"line":476,"column":6},"end":{"line":476,"column":26}},"175":{"start":{"line":487,"column":9},"end":{"line":512,"column":3}},"176":{"start":{"line":487,"column":2},"end":{"line":512,"column":3}},"177":{"start":{"line":488,"column":4},"end":{"line":511,"column":5}},"178":{"start":{"line":489,"column":6},"end":{"line":491,"column":8}},"179":{"start":{"line":490,"column":8},"end":{"line":490,"column":33}},"180":{"start":{"line":493,"column":6},"end":{"line":493,"column":32}},"181":{"start":{"line":494,"column":6},"end":{"line":510,"column":7}},"182":{"start":{"line":495,"column":8},"end":{"line":495,"column":43}},"183":{"start":{"line":496,"column":13},"end":{"line":510,"column":7}},"184":{"start":{"line":497,"column":8},"end":{"line":497,"column":19}},"185":{"start":{"line":498,"column":8},"end":{"line":503,"column":10}},"186":{"start":{"line":499,"column":10},"end":{"line":502,"column":11}},"187":{"start":{"line":500,"column":12},"end":{"line":500,"column":20}},"188":{"start":{"line":501,"column":12},"end":{"line":501,"column":24}},"189":{"start":{"line":504,"column":8},"end":{"line":507,"column":9}},"190":{"start":{"line":505,"column":10},"end":{"line":505,"column":61}},"191":{"start":{"line":506,"column":10},"end":{"line":506,"column":38}},"192":{"start":{"line":508,"column":13},"end":{"line":510,"column":7}},"193":{"start":{"line":509,"column":8},"end":{"line":509,"column":49}},"194":{"start":{"line":519,"column":9},"end":{"line":530,"column":3}},"195":{"start":{"line":520,"column":4},"end":{"line":520,"column":30}},"196":{"start":{"line":521,"column":4},"end":{"line":529,"column":5}},"197":{"start":{"line":522,"column":6},"end":{"line":522,"column":37}},"198":{"start":{"line":523,"column":11},"end":{"line":529,"column":5}},"199":{"start":{"line":524,"column":6},"end":{"line":524,"column":73}},"200":{"start":{"line":525,"column":6},"end":{"line":525,"column":35}},"201":{"start":{"line":528,"column":6},"end":{"line":528,"column":71}},"202":{"start":{"line":536,"column":9},"end":{"line":538,"column":3}},"203":{"start":{"line":537,"column":4},"end":{"line":537,"column":62}},"204":{"start":{"line":544,"column":9},"end":{"line":553,"column":3}},"205":{"start":{"line":545,"column":4},"end":{"line":545,"column":34}},"206":{"start":{"line":546,"column":4},"end":{"line":551,"column":5}},"207":{"start":{"line":547,"column":6},"end":{"line":549,"column":7}},"208":{"start":{"line":548,"column":8},"end":{"line":548,"column":20}},"209":{"start":{"line":550,"column":6},"end":{"line":550,"column":29}},"210":{"start":{"line":552,"column":4},"end":{"line":552,"column":17}},"211":{"start":{"line":559,"column":9},"end":{"line":565,"column":3}},"212":{"start":{"line":560,"column":4},"end":{"line":560,"column":36}},"213":{"start":{"line":561,"column":4},"end":{"line":563,"column":5}},"214":{"start":{"line":562,"column":6},"end":{"line":562,"column":46}},"215":{"start":{"line":564,"column":4},"end":{"line":564,"column":18}},"216":{"start":{"line":571,"column":9},"end":{"line":599,"column":3}},"217":{"start":{"line":572,"column":4},"end":{"line":572,"column":43}},"218":{"start":{"line":573,"column":4},"end":{"line":573,"column":52}},"219":{"start":{"line":575,"column":4},"end":{"line":575,"column":31}},"220":{"start":{"line":576,"column":4},"end":{"line":578,"column":5}},"221":{"start":{"line":577,"column":6},"end":{"line":577,"column":47}},"222":{"start":{"line":580,"column":4},"end":{"line":580,"column":74}},"223":{"start":{"line":581,"column":4},"end":{"line":581,"column":76}},"224":{"start":{"line":582,"column":4},"end":{"line":582,"column":64}},"225":{"start":{"line":583,"column":4},"end":{"line":583,"column":67}},"226":{"start":{"line":585,"column":4},"end":{"line":588,"column":6}},"227":{"start":{"line":590,"column":4},"end":{"line":590,"column":52}},"228":{"start":{"line":591,"column":4},"end":{"line":591,"column":54}},"229":{"start":{"line":592,"column":4},"end":{"line":592,"column":49}},"230":{"start":{"line":593,"column":4},"end":{"line":593,"column":52}},"231":{"start":{"line":595,"column":4},"end":{"line":598,"column":6}},"232":{"start":{"line":606,"column":9},"end":{"line":618,"column":3}},"233":{"start":{"line":607,"column":4},"end":{"line":607,"column":44}},"234":{"start":{"line":609,"column":4},"end":{"line":612,"column":5}},"235":{"start":{"line":611,"column":6},"end":{"line":611,"column":62}},"236":{"start":{"line":614,"column":4},"end":{"line":616,"column":5}},"237":{"start":{"line":615,"column":6},"end":{"line":615,"column":38}},"238":{"start":{"line":617,"column":4},"end":{"line":617,"column":37}},"239":{"start":{"line":624,"column":9},"end":{"line":643,"column":3}},"240":{"start":{"line":626,"column":4},"end":{"line":628,"column":5}},"241":{"start":{"line":627,"column":6},"end":{"line":627,"column":33}},"242":{"start":{"line":631,"column":4},"end":{"line":631,"column":47}},"243":{"start":{"line":633,"column":4},"end":{"line":641,"column":5}},"244":{"start":{"line":634,"column":6},"end":{"line":634,"column":38}},"245":{"start":{"line":635,"column":6},"end":{"line":635,"column":40}},"246":{"start":{"line":637,"column":6},"end":{"line":640,"column":8}},"247":{"start":{"line":642,"column":4},"end":{"line":642,"column":16}},"248":{"start":{"line":648,"column":9},"end":{"line":650,"column":3}},"249":{"start":{"line":649,"column":4},"end":{"line":649,"column":31}},"250":{"start":{"line":655,"column":9},"end":{"line":657,"column":3}},"251":{"start":{"line":656,"column":4},"end":{"line":656,"column":32}},"252":{"start":{"line":659,"column":10},"end":{"line":664,"column":3}},"253":{"start":{"line":660,"column":4},"end":{"line":662,"column":5}},"254":{"start":{"line":661,"column":6},"end":{"line":661,"column":29}},"255":{"start":{"line":663,"column":4},"end":{"line":663,"column":17}},"256":{"start":{"line":17,"column":17},"end":{"line":17,"column":66}},"257":{"start":{"line":18,"column":17},"end":{"line":18,"column":50}},"258":{"start":{"line":31,"column":17},"end":{"line":31,"column":79}},"259":{"start":{"line":666,"column":0},"end":{"line":666,"column":1}},"260":{"start":{"line":16,"column":13},"end":{"line":666,"column":1}},"261":{"start":{"line":668,"column":0},"end":{"line":679,"column":1}},"262":{"start":{"line":669,"column":2},"end":{"line":670,"column":3}},"263":{"start":{"line":669,"column":21},"end":{"line":669,"column":32}},"264":{"start":{"line":672,"column":9},"end":{"line":674,"column":3}},"265":{"start":{"line":673,"column":4},"end":{"line":673,"column":32}},"266":{"start":{"line":676,"column":9},"end":{"line":678,"column":3}},"267":{"start":{"line":677,"column":4},"end":{"line":677,"column":31}},"268":{"start":{"line":679,"column":0},"end":{"line":679,"column":1}},"269":{"start":{"line":668,"column":13},"end":{"line":679,"column":1}},"270":{"start":{"line":681,"column":0},"end":{"line":694,"column":1}},"271":{"start":{"line":682,"column":2},"end":{"line":683,"column":3}},"272":{"start":{"line":682,"column":21},"end":{"line":682,"column":34}},"273":{"start":{"line":685,"column":9},"end":{"line":688,"column":3}},"274":{"start":{"line":686,"column":4},"end":{"line":686,"column":29}},"275":{"start":{"line":687,"column":4},"end":{"line":687,"column":58}},"276":{"start":{"line":690,"column":9},"end":{"line":693,"column":3}},"277":{"start":{"line":691,"column":4},"end":{"line":691,"column":29}},"278":{"start":{"line":692,"column":4},"end":{"line":692,"column":56}},"279":{"start":{"line":694,"column":0},"end":{"line":694,"column":1}},"280":{"start":{"line":681,"column":13},"end":{"line":694,"column":1}},"281":{"start":{"line":707,"column":0},"end":{"line":715,"column":1}},"282":{"start":{"line":707,"column":19},"end":{"line":707,"column":33}},"283":{"start":{"line":708,"column":2},"end":{"line":714,"column":3}},"284":{"start":{"line":709,"column":4},"end":{"line":709,"column":19}},"285":{"start":{"line":710,"column":9},"end":{"line":714,"column":3}},"286":{"start":{"line":711,"column":4},"end":{"line":711,"column":41}},"287":{"start":{"line":713,"column":4},"end":{"line":713,"column":55}},"288":{"start":{"line":707,"column":16},"end":{"line":715,"column":1}},"289":{"start":{"line":717,"column":0},"end":{"line":726,"column":1}},"290":{"start":{"line":718,"column":2},"end":{"line":718,"column":49}},"291":{"start":{"line":719,"column":2},"end":{"line":719,"column":30}},"292":{"start":{"line":722,"column":2},"end":{"line":724,"column":3}},"293":{"start":{"line":723,"column":4},"end":{"line":723,"column":39}},"294":{"start":{"line":725,"column":2},"end":{"line":725,"column":20}},"295":{"start":{"line":717,"column":16},"end":{"line":726,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1105)","line":16,"loc":{"start":{"line":16,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Dom","line":26,"loc":{"start":{"line":26,"column":2},"end":{"line":26,"column":29}}},"3":{"name":"(anonymous_1107)","line":41,"loc":{"start":{"line":41,"column":2},"end":{"line":41,"column":51}}},"4":{"name":"(anonymous_1108)","line":53,"loc":{"start":{"line":53,"column":21},"end":{"line":53,"column":55}}},"5":{"name":"(anonymous_1109)","line":71,"loc":{"start":{"line":71,"column":2},"end":{"line":71,"column":36}}},"6":{"name":"(anonymous_1110)","line":80,"loc":{"start":{"line":80,"column":2},"end":{"line":80,"column":29}}},"7":{"name":"(anonymous_1111)","line":92,"loc":{"start":{"line":92,"column":2},"end":{"line":92,"column":26}}},"8":{"name":"(anonymous_1112)","line":110,"loc":{"start":{"line":110,"column":2},"end":{"line":110,"column":43}}},"9":{"name":"(anonymous_1113)","line":122,"loc":{"start":{"line":122,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_1114)","line":131,"loc":{"start":{"line":131,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_1115)","line":138,"loc":{"start":{"line":138,"column":2},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_1116)","line":145,"loc":{"start":{"line":145,"column":2},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_1117)","line":154,"loc":{"start":{"line":154,"column":2},"end":{"line":154,"column":33}}},"14":{"name":"(anonymous_1118)","line":174,"loc":{"start":{"line":174,"column":2},"end":{"line":174,"column":34}}},"15":{"name":"(anonymous_1119)","line":183,"loc":{"start":{"line":183,"column":2},"end":{"line":183,"column":49}}},"16":{"name":"(anonymous_1120)","line":192,"loc":{"start":{"line":192,"column":2},"end":{"line":192,"column":30}}},"17":{"name":"(anonymous_1121)","line":201,"loc":{"start":{"line":201,"column":2},"end":{"line":201,"column":28}}},"18":{"name":"(anonymous_1122)","line":225,"loc":{"start":{"line":225,"column":2},"end":{"line":225,"column":34}}},"19":{"name":"(anonymous_1123)","line":254,"loc":{"start":{"line":254,"column":2},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_1124)","line":262,"loc":{"start":{"line":262,"column":2},"end":{"line":262,"column":34}}},"21":{"name":"(anonymous_1125)","line":275,"loc":{"start":{"line":275,"column":2},"end":{"line":275,"column":56}}},"22":{"name":"(anonymous_1126)","line":290,"loc":{"start":{"line":290,"column":2},"end":{"line":290,"column":33}}},"23":{"name":"(anonymous_1127)","line":299,"loc":{"start":{"line":299,"column":2},"end":{"line":299,"column":36}}},"24":{"name":"(anonymous_1128)","line":312,"loc":{"start":{"line":312,"column":2},"end":{"line":312,"column":26}}},"25":{"name":"(anonymous_1129)","line":322,"loc":{"start":{"line":322,"column":2},"end":{"line":322,"column":32}}},"26":{"name":"(anonymous_1130)","line":324,"loc":{"start":{"line":324,"column":24},"end":{"line":324,"column":37}}},"27":{"name":"(anonymous_1131)","line":342,"loc":{"start":{"line":342,"column":2},"end":{"line":342,"column":38}}},"28":{"name":"(anonymous_1132)","line":351,"loc":{"start":{"line":351,"column":2},"end":{"line":351,"column":55}}},"29":{"name":"(anonymous_1133)","line":371,"loc":{"start":{"line":371,"column":2},"end":{"line":371,"column":29}}},"30":{"name":"(anonymous_1134)","line":379,"loc":{"start":{"line":379,"column":2},"end":{"line":null,"column":-1}}},"31":{"name":"(anonymous_1135)","line":388,"loc":{"start":{"line":388,"column":2},"end":{"line":388,"column":35}}},"32":{"name":"(anonymous_1136)","line":395,"loc":{"start":{"line":395,"column":2},"end":{"line":null,"column":-1}}},"33":{"name":"(anonymous_1137)","line":403,"loc":{"start":{"line":403,"column":2},"end":{"line":403,"column":41}}},"34":{"name":"(anonymous_1138)","line":411,"loc":{"start":{"line":411,"column":2},"end":{"line":411,"column":42}}},"35":{"name":"(anonymous_1139)","line":419,"loc":{"start":{"line":419,"column":2},"end":{"line":419,"column":39}}},"36":{"name":"(anonymous_1140)","line":434,"loc":{"start":{"line":434,"column":2},"end":{"line":434,"column":67}}},"37":{"name":"(anonymous_1141)","line":436,"loc":{"start":{"line":436,"column":19},"end":{"line":436,"column":29}}},"38":{"name":"(anonymous_1142)","line":444,"loc":{"start":{"line":444,"column":17},"end":{"line":444,"column":32}}},"39":{"name":"(anonymous_1143)","line":466,"loc":{"start":{"line":466,"column":2},"end":{"line":466,"column":69}}},"40":{"name":"(anonymous_1144)","line":468,"loc":{"start":{"line":468,"column":19},"end":{"line":468,"column":29}}},"41":{"name":"(anonymous_1145)","line":472,"loc":{"start":{"line":472,"column":17},"end":{"line":472,"column":37}}},"42":{"name":"(anonymous_1146)","line":487,"loc":{"start":{"line":487,"column":2},"end":{"line":487,"column":68}}},"43":{"name":"(anonymous_1147)","line":489,"loc":{"start":{"line":489,"column":19},"end":{"line":489,"column":29}}},"44":{"name":"(anonymous_1148)","line":498,"loc":{"start":{"line":498,"column":41},"end":{"line":498,"column":101}}},"45":{"name":"(anonymous_1149)","line":519,"loc":{"start":{"line":519,"column":2},"end":{"line":519,"column":60}}},"46":{"name":"(anonymous_1150)","line":536,"loc":{"start":{"line":536,"column":2},"end":{"line":null,"column":-1}}},"47":{"name":"(anonymous_1151)","line":544,"loc":{"start":{"line":544,"column":2},"end":{"line":544,"column":41}}},"48":{"name":"(anonymous_1152)","line":559,"loc":{"start":{"line":559,"column":2},"end":{"line":559,"column":43}}},"49":{"name":"(anonymous_1153)","line":571,"loc":{"start":{"line":571,"column":2},"end":{"line":null,"column":-1}}},"50":{"name":"(anonymous_1154)","line":606,"loc":{"start":{"line":606,"column":2},"end":{"line":null,"column":-1}}},"51":{"name":"(anonymous_1155)","line":624,"loc":{"start":{"line":624,"column":2},"end":{"line":null,"column":-1}}},"52":{"name":"(anonymous_1156)","line":648,"loc":{"start":{"line":648,"column":2},"end":{"line":null,"column":-1}}},"53":{"name":"(anonymous_1157)","line":655,"loc":{"start":{"line":655,"column":2},"end":{"line":null,"column":-1}}},"54":{"name":"(anonymous_1158)","line":659,"loc":{"start":{"line":659,"column":2},"end":{"line":null,"column":-1}}},"55":{"name":"(anonymous_1159)","line":668,"loc":{"start":{"line":668,"column":0},"end":{"line":null,"column":-1}}},"56":{"name":"Win","line":669,"loc":{"start":{"line":669,"column":2},"end":{"line":669,"column":32}}},"57":{"name":"(anonymous_1161)","line":672,"loc":{"start":{"line":672,"column":2},"end":{"line":null,"column":-1}}},"58":{"name":"(anonymous_1162)","line":676,"loc":{"start":{"line":676,"column":2},"end":{"line":null,"column":-1}}},"59":{"name":"(anonymous_1163)","line":681,"loc":{"start":{"line":681,"column":0},"end":{"line":null,"column":-1}}},"60":{"name":"Doc","line":682,"loc":{"start":{"line":682,"column":2},"end":{"line":682,"column":34}}},"61":{"name":"(anonymous_1165)","line":685,"loc":{"start":{"line":685,"column":2},"end":{"line":null,"column":-1}}},"62":{"name":"(anonymous_1166)","line":690,"loc":{"start":{"line":690,"column":2},"end":{"line":null,"column":-1}}},"63":{"name":"$$","line":707,"loc":{"start":{"line":707,"column":0},"end":{"line":null,"column":-1}}},"64":{"name":"htmlToDom","line":717,"loc":{"start":{"line":717,"column":0},"end":{"line":717,"column":38}}}},"branchMap":{"1":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":6},"end":{"line":45,"column":5}},{"start":{"line":45,"column":6},"end":{"line":45,"column":5}}]},"2":{"line":48,"type":"cond-expr","locations":[{"start":{"line":48,"column":45},"end":{"line":48,"column":48}},{"start":{"line":48,"column":51},"end":{"line":48,"column":72}}]},"3":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":6},"end":{"line":54,"column":5}},{"start":{"line":54,"column":6},"end":{"line":54,"column":5}}]},"4":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":13},"end":{"line":56,"column":12}},{"start":{"line":56,"column":13},"end":{"line":56,"column":12}}]},"5":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":13},"end":{"line":58,"column":12}},{"start":{"line":58,"column":13},"end":{"line":58,"column":12}}]},"6":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":4},"end":{"line":81,"column":3}},{"start":{"line":81,"column":4},"end":{"line":81,"column":3}}]},"7":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":4},"end":{"line":93,"column":3}},{"start":{"line":93,"column":4},"end":{"line":93,"column":3}}]},"8":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":6},"end":{"line":94,"column":5}},{"start":{"line":94,"column":6},"end":{"line":94,"column":5}}]},"9":{"line":96,"type":"if","locations":[{"start":{"line":96,"column":13},"end":{"line":96,"column":12}},{"start":{"line":96,"column":13},"end":{"line":96,"column":12}}]},"10":{"line":100,"type":"binary-expr","locations":[{"start":{"line":100,"column":13},"end":{"line":100,"column":30}},{"start":{"line":100,"column":34},"end":{"line":100,"column":53}}]},"11":{"line":155,"type":"if","locations":[{"start":{"line":155,"column":4},"end":{"line":155,"column":3}},{"start":{"line":155,"column":4},"end":{"line":155,"column":3}}]},"12":{"line":156,"type":"if","locations":[{"start":{"line":156,"column":6},"end":{"line":156,"column":5}},{"start":{"line":156,"column":6},"end":{"line":156,"column":5}}]},"13":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":6},"end":{"line":162,"column":5}},{"start":{"line":162,"column":6},"end":{"line":162,"column":5}}]},"14":{"line":202,"type":"if","locations":[{"start":{"line":202,"column":4},"end":{"line":202,"column":3}},{"start":{"line":202,"column":4},"end":{"line":202,"column":3}}]},"15":{"line":205,"type":"if","locations":[{"start":{"line":205,"column":4},"end":{"line":205,"column":3}},{"start":{"line":205,"column":4},"end":{"line":205,"column":3}}]},"16":{"line":206,"type":"if","locations":[{"start":{"line":206,"column":6},"end":{"line":206,"column":5}},{"start":{"line":206,"column":6},"end":{"line":206,"column":5}}]},"17":{"line":211,"type":"if","locations":[{"start":{"line":211,"column":4},"end":{"line":211,"column":3}},{"start":{"line":211,"column":4},"end":{"line":211,"column":3}}]},"18":{"line":212,"type":"if","locations":[{"start":{"line":212,"column":6},"end":{"line":212,"column":5}},{"start":{"line":212,"column":6},"end":{"line":212,"column":5}}]},"19":{"line":226,"type":"if","locations":[{"start":{"line":226,"column":4},"end":{"line":226,"column":3}},{"start":{"line":226,"column":4},"end":{"line":226,"column":3}}]},"20":{"line":231,"type":"if","locations":[{"start":{"line":231,"column":6},"end":{"line":231,"column":5}},{"start":{"line":231,"column":6},"end":{"line":231,"column":5}}]},"21":{"line":234,"type":"if","locations":[{"start":{"line":234,"column":6},"end":{"line":234,"column":5}},{"start":{"line":234,"column":6},"end":{"line":234,"column":5}}]},"22":{"line":237,"type":"if","locations":[{"start":{"line":237,"column":6},"end":{"line":237,"column":5}},{"start":{"line":237,"column":6},"end":{"line":237,"column":5}}]},"23":{"line":240,"type":"if","locations":[{"start":{"line":240,"column":6},"end":{"line":240,"column":5}},{"start":{"line":240,"column":6},"end":{"line":240,"column":5}}]},"24":{"line":244,"type":"if","locations":[{"start":{"line":244,"column":4},"end":{"line":244,"column":3}},{"start":{"line":244,"column":4},"end":{"line":244,"column":3}}]},"25":{"line":266,"type":"if","locations":[{"start":{"line":266,"column":6},"end":{"line":266,"column":5}},{"start":{"line":266,"column":6},"end":{"line":266,"column":5}}]},"26":{"line":267,"type":"if","locations":[{"start":{"line":267,"column":8},"end":{"line":267,"column":7}},{"start":{"line":267,"column":8},"end":{"line":267,"column":7}}]},"27":{"line":267,"type":"binary-expr","locations":[{"start":{"line":267,"column":12},"end":{"line":267,"column":50}},{"start":{"line":267,"column":54},"end":{"line":267,"column":63}}]},"28":{"line":278,"type":"if","locations":[{"start":{"line":278,"column":6},"end":{"line":278,"column":5}},{"start":{"line":278,"column":6},"end":{"line":278,"column":5}}]},"29":{"line":300,"type":"if","locations":[{"start":{"line":300,"column":4},"end":{"line":300,"column":3}},{"start":{"line":300,"column":4},"end":{"line":300,"column":3}}]},"30":{"line":323,"type":"if","locations":[{"start":{"line":323,"column":4},"end":{"line":323,"column":3}},{"start":{"line":323,"column":4},"end":{"line":323,"column":3}}]},"31":{"line":328,"type":"if","locations":[{"start":{"line":328,"column":6},"end":{"line":328,"column":5}},{"start":{"line":328,"column":6},"end":{"line":328,"column":5}}]},"32":{"line":329,"type":"if","locations":[{"start":{"line":329,"column":8},"end":{"line":329,"column":7}},{"start":{"line":329,"column":8},"end":{"line":329,"column":7}}]},"33":{"line":352,"type":"if","locations":[{"start":{"line":352,"column":4},"end":{"line":352,"column":3}},{"start":{"line":352,"column":4},"end":{"line":352,"column":3}}]},"34":{"line":353,"type":"if","locations":[{"start":{"line":353,"column":6},"end":{"line":353,"column":5}},{"start":{"line":353,"column":6},"end":{"line":353,"column":5}}]},"35":{"line":359,"type":"if","locations":[{"start":{"line":359,"column":6},"end":{"line":359,"column":5}},{"start":{"line":359,"column":6},"end":{"line":359,"column":5}}]},"36":{"line":380,"type":"binary-expr","locations":[{"start":{"line":380,"column":11},"end":{"line":380,"column":56}},{"start":{"line":380,"column":60},"end":{"line":380,"column":62}}]},"37":{"line":396,"type":"binary-expr","locations":[{"start":{"line":396,"column":4},"end":{"line":396,"column":25}},{"start":{"line":396,"column":29},"end":{"line":396,"column":71}}]},"38":{"line":404,"type":"binary-expr","locations":[{"start":{"line":404,"column":4},"end":{"line":404,"column":22}},{"start":{"line":404,"column":26},"end":{"line":404,"column":87}}]},"39":{"line":412,"type":"binary-expr","locations":[{"start":{"line":412,"column":4},"end":{"line":412,"column":22}},{"start":{"line":412,"column":26},"end":{"line":412,"column":75}}]},"40":{"line":420,"type":"if","locations":[{"start":{"line":420,"column":4},"end":{"line":420,"column":3}},{"start":{"line":420,"column":4},"end":{"line":420,"column":3}}]},"41":{"line":435,"type":"if","locations":[{"start":{"line":435,"column":4},"end":{"line":435,"column":3}},{"start":{"line":435,"column":4},"end":{"line":435,"column":3}}]},"42":{"line":441,"type":"if","locations":[{"start":{"line":441,"column":6},"end":{"line":441,"column":5}},{"start":{"line":441,"column":6},"end":{"line":441,"column":5}}]},"43":{"line":443,"type":"if","locations":[{"start":{"line":443,"column":13},"end":{"line":443,"column":12}},{"start":{"line":443,"column":13},"end":{"line":443,"column":12}}]},"44":{"line":452,"type":"if","locations":[{"start":{"line":452,"column":13},"end":{"line":452,"column":12}},{"start":{"line":452,"column":13},"end":{"line":452,"column":12}}]},"45":{"line":467,"type":"if","locations":[{"start":{"line":467,"column":4},"end":{"line":467,"column":3}},{"start":{"line":467,"column":4},"end":{"line":467,"column":3}}]},"46":{"line":488,"type":"if","locations":[{"start":{"line":488,"column":4},"end":{"line":488,"column":3}},{"start":{"line":488,"column":4},"end":{"line":488,"column":3}}]},"47":{"line":494,"type":"if","locations":[{"start":{"line":494,"column":6},"end":{"line":494,"column":5}},{"start":{"line":494,"column":6},"end":{"line":494,"column":5}}]},"48":{"line":496,"type":"if","locations":[{"start":{"line":496,"column":13},"end":{"line":496,"column":12}},{"start":{"line":496,"column":13},"end":{"line":496,"column":12}}]},"49":{"line":499,"type":"if","locations":[{"start":{"line":499,"column":10},"end":{"line":499,"column":9}},{"start":{"line":499,"column":10},"end":{"line":499,"column":9}}]},"50":{"line":504,"type":"if","locations":[{"start":{"line":504,"column":8},"end":{"line":504,"column":7}},{"start":{"line":504,"column":8},"end":{"line":504,"column":7}}]},"51":{"line":508,"type":"if","locations":[{"start":{"line":508,"column":13},"end":{"line":508,"column":12}},{"start":{"line":508,"column":13},"end":{"line":508,"column":12}}]},"52":{"line":521,"type":"if","locations":[{"start":{"line":521,"column":4},"end":{"line":521,"column":3}},{"start":{"line":521,"column":4},"end":{"line":521,"column":3}}]},"53":{"line":523,"type":"if","locations":[{"start":{"line":523,"column":11},"end":{"line":523,"column":10}},{"start":{"line":523,"column":11},"end":{"line":523,"column":10}}]},"54":{"line":547,"type":"if","locations":[{"start":{"line":547,"column":6},"end":{"line":547,"column":5}},{"start":{"line":547,"column":6},"end":{"line":547,"column":5}}]},"55":{"line":561,"type":"if","locations":[{"start":{"line":561,"column":4},"end":{"line":561,"column":3}},{"start":{"line":561,"column":4},"end":{"line":561,"column":3}}]},"56":{"line":576,"type":"if","locations":[{"start":{"line":576,"column":4},"end":{"line":576,"column":3}},{"start":{"line":576,"column":4},"end":{"line":576,"column":3}}]},"57":{"line":582,"type":"cond-expr","locations":[{"start":{"line":582,"column":45},"end":{"line":582,"column":46}},{"start":{"line":582,"column":49},"end":{"line":582,"column":63}}]},"58":{"line":583,"type":"cond-expr","locations":[{"start":{"line":583,"column":47},"end":{"line":583,"column":48}},{"start":{"line":583,"column":51},"end":{"line":583,"column":66}}]},"59":{"line":592,"type":"cond-expr","locations":[{"start":{"line":592,"column":35},"end":{"line":592,"column":36}},{"start":{"line":592,"column":39},"end":{"line":592,"column":48}}]},"60":{"line":593,"type":"cond-expr","locations":[{"start":{"line":593,"column":37},"end":{"line":593,"column":38}},{"start":{"line":593,"column":41},"end":{"line":593,"column":51}}]},"61":{"line":609,"type":"binary-expr","locations":[{"start":{"line":609,"column":11},"end":{"line":609,"column":46}},{"start":{"line":609,"column":50},"end":{"line":609,"column":95}}]},"62":{"line":614,"type":"if","locations":[{"start":{"line":614,"column":4},"end":{"line":614,"column":3}},{"start":{"line":614,"column":4},"end":{"line":614,"column":3}}]},"63":{"line":626,"type":"if","locations":[{"start":{"line":626,"column":4},"end":{"line":626,"column":3}},{"start":{"line":626,"column":4},"end":{"line":626,"column":3}}]},"64":{"line":633,"type":"if","locations":[{"start":{"line":633,"column":4},"end":{"line":633,"column":3}},{"start":{"line":633,"column":4},"end":{"line":633,"column":3}}]},"65":{"line":633,"type":"binary-expr","locations":[{"start":{"line":633,"column":8},"end":{"line":633,"column":18}},{"start":{"line":633,"column":22},"end":{"line":633,"column":33}}]},"66":{"line":660,"type":"if","locations":[{"start":{"line":660,"column":4},"end":{"line":660,"column":3}},{"start":{"line":660,"column":4},"end":{"line":660,"column":3}}]},"67":{"line":708,"type":"if","locations":[{"start":{"line":708,"column":2},"end":{"line":708,"column":1}},{"start":{"line":708,"column":2},"end":{"line":708,"column":1}}]},"68":{"line":708,"type":"binary-expr","locations":[{"start":{"line":708,"column":6},"end":{"line":708,"column":23}},{"start":{"line":708,"column":27},"end":{"line":708,"column":49}}]},"69":{"line":710,"type":"if","locations":[{"start":{"line":710,"column":9},"end":{"line":710,"column":8}},{"start":{"line":710,"column":9},"end":{"line":710,"column":8}}]},"70":{"line":710,"type":"binary-expr","locations":[{"start":{"line":710,"column":13},"end":{"line":710,"column":30}},{"start":{"line":710,"column":35},"end":{"line":710,"column":55}}]},"71":{"line":722,"type":"if","locations":[{"start":{"line":722,"column":2},"end":{"line":722,"column":1}},{"start":{"line":722,"column":2},"end":{"line":722,"column":1}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":94390,"7":94390,"8":1,"9":10475,"10":9716,"11":9716,"12":7653,"13":5576,"14":2077,"15":2077,"16":9716,"17":759,"18":28,"19":731,"20":328,"21":403,"22":403,"23":9716,"24":1,"25":247,"26":1,"27":268,"28":3,"29":265,"30":1,"31":3849,"32":2720,"33":2720,"34":0,"35":0,"36":1129,"37":1,"38":20945,"39":20945,"40":20945,"41":1469,"42":20945,"43":1,"44":193,"45":227,"46":1,"47":0,"48":1,"49":222,"50":1,"51":517,"52":1,"53":362,"54":0,"55":0,"56":0,"57":362,"58":93,"59":269,"60":1,"61":316,"62":1,"63":261,"64":1,"65":1582,"66":1,"67":1041,"68":482,"69":559,"70":544,"71":25,"72":534,"73":3,"74":2,"75":532,"76":1,"77":490,"78":192,"79":490,"80":490,"81":649,"82":346,"83":649,"84":0,"85":649,"86":293,"87":356,"88":159,"89":490,"90":346,"91":144,"92":1,"93":0,"94":1,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":1,"103":0,"104":0,"105":0,"106":0,"107":0,"108":1,"109":20768,"110":1,"111":177,"112":177,"113":0,"114":1,"115":0,"116":1,"117":15219,"118":15219,"119":497,"120":1004,"121":14722,"122":13601,"123":7023,"124":6578,"125":1,"126":2421,"127":1,"128":2018,"129":4,"130":1,"131":3,"132":2014,"133":591,"134":1423,"135":1,"136":0,"137":1,"138":35244,"139":1,"140":35241,"141":1,"142":369,"143":1,"144":166,"145":1,"146":496,"147":1,"148":68,"149":61,"150":7,"151":1,"152":15650,"153":15650,"154":4,"155":12,"156":15646,"157":15646,"158":5729,"159":9917,"160":9917,"161":842,"162":9917,"163":9917,"164":0,"165":0,"166":1,"167":788,"168":788,"169":0,"170":0,"171":788,"172":211,"173":211,"174":788,"175":1,"176":249,"177":249,"178":2,"179":6,"180":247,"181":247,"182":44,"183":203,"184":203,"185":203,"186":1071164,"187":199,"188":199,"189":203,"190":199,"191":199,"192":0,"193":0,"194":1,"195":2659,"196":2659,"197":957,"198":1702,"199":1702,"200":1702,"201":0,"202":1,"203":5,"204":1,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":1,"212":5,"213":5,"214":5,"215":5,"216":1,"217":7,"218":7,"219":7,"220":7,"221":0,"222":7,"223":7,"224":7,"225":7,"226":7,"227":7,"228":7,"229":7,"230":7,"231":7,"232":1,"233":7,"234":7,"235":0,"236":7,"237":7,"238":0,"239":1,"240":35,"241":35,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":1,"249":17,"250":1,"251":112,"252":1,"253":18552,"254":6730,"255":11822,"256":1,"257":1,"258":1,"259":1,"260":1,"261":1,"262":1,"263":2,"264":1,"265":2,"266":1,"267":0,"268":1,"269":1,"270":1,"271":1,"272":2,"273":1,"274":2,"275":2,"276":1,"277":0,"278":0,"279":1,"280":1,"281":1,"282":195202,"283":94241,"284":1,"285":94240,"286":84733,"287":9507,"288":1,"289":1,"290":131,"291":131,"292":131,"293":117,"294":14,"295":1},"b":{"1":[5576,2077],"2":[582,1495],"3":[28,731],"4":[328,403],"5":[403,0],"6":[3,265],"7":[2720,1129],"8":[2720,0],"9":[0,0],"10":[1129,55],"11":[0,362],"12":[0,0],"13":[93,269],"14":[482,559],"15":[544,15],"16":[25,519],"17":[3,531],"18":[2,1],"19":[192,298],"20":[346,303],"21":[0,649],"22":[293,356],"23":[159,197],"24":[346,144],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[177,0],"30":[497,14722],"31":[13601,1121],"32":[7023,6578],"33":[4,2014],"34":[1,3],"35":[591,1423],"36":[35244,7220],"37":[369,250],"38":[166,166],"39":[496,176],"40":[61,7],"41":[4,15646],"42":[5729,9917],"43":[9917,0],"44":[0,0],"45":[0,788],"46":[2,247],"47":[44,203],"48":[203,0],"49":[199,1070965],"50":[199,4],"51":[0,0],"52":[957,1702],"53":[1702,0],"54":[0,0],"55":[5,0],"56":[0,7],"57":[7,0],"58":[7,0],"59":[7,0],"60":[7,0],"61":[7,0],"62":[7,0],"63":[35,0],"64":[0,0],"65":[0,0],"66":[6730,11822],"67":[1,94240],"68":[94241,88275],"69":[84733,9507],"70":[94240,88274],"71":[117,14]},"f":{"1":1,"2":94390,"3":9716,"4":759,"5":247,"6":268,"7":3849,"8":20945,"9":193,"10":0,"11":222,"12":517,"13":362,"14":316,"15":261,"16":1582,"17":1041,"18":490,"19":0,"20":0,"21":0,"22":20768,"23":177,"24":0,"25":15219,"26":1004,"27":2421,"28":2018,"29":0,"30":35244,"31":35241,"32":369,"33":166,"34":496,"35":68,"36":15650,"37":12,"38":842,"39":788,"40":0,"41":211,"42":249,"43":6,"44":1071164,"45":2659,"46":5,"47":0,"48":5,"49":7,"50":7,"51":35,"52":17,"53":112,"54":18552,"55":1,"56":2,"57":2,"58":0,"59":1,"60":2,"61":2,"62":0,"63":94241,"64":131},"code":"import {Utils} from '../utils/Utils';\nimport {Assert} from '../misc/Assert';\nimport {Logger} from '../misc/Logger';\n\nexport interface IOffset {\n  left: number;\n  top: number;\n}\n\n/**\n * This is essentially an helper class for dom manipulation.<br/>\n * This is intended to provide some basic functionality normally offered by jQuery.<br/>\n * To minimize the multiple jQuery conflict we have while integrating in various system, we implemented the very small subset that the framework needs.<br/>\n * See {@link $$}, which is a function that wraps this class constructor, for less verbose code.\n */\nexport class Dom {\n  private static CLASS_NAME_REGEX = /-?[_a-zA-Z]+[_a-zA-Z0-9-]*/g;\n  private static ONLY_WHITE_SPACE_REGEX = /^\\s*$/;\n\n  public el: HTMLElement;\n\n  /**\n   * Create a new Dom object with the given HTMLElement\n   * @param el The HTMLElement to wrap in a Dom object\n   */\n  constructor(el: HTMLElement) {\n    Assert.exists(el);\n    this.el = el;\n  }\n\n  private static handlers: { eventHandle: Function, fn: EventListener }[] = [];\n\n  /**\n   * Helper function to quickly create an HTMLElement\n   * @param type The type of the element (e.g. div, span)\n   * @param props The props (id, className, attributes) of the element<br/>\n   * Can be either specified in dashed-case strings ('my-attribute') or camelCased keys (myAttribute),\n   * the latter of which will automatically get replaced to dash-case.\n   * @param innerHTML The contents of the new HTMLElement, either in string form or as another HTMLElement\n   */\n  static createElement(type: string, props?: Object, ...children: Array<string | HTMLElement | Dom>): HTMLElement {\n    var elem: HTMLElement = document.createElement(type);\n\n    for (var key in props) {\n      if (key === 'className') {\n        elem.className = props['className'];\n      } else {\n        let attr = key.indexOf('-') !== -1 ? key : Utils.toDashCase(key)\n        elem.setAttribute(attr, props[key]);\n      }\n    }\n\n    _.each(children, (child: string | HTMLElement | Dom) => {\n      if (child instanceof HTMLElement) {\n        elem.appendChild(child);\n      } else if (_.isString(child)) {\n        elem.innerHTML += child;\n      } else if (child instanceof Dom) {\n        elem.appendChild(child.el);\n      }\n    })\n\n    return elem;\n  }\n\n  /**\n   * Adds the element to the children of the current element\n   * @param element The element to append\n   * @returns {string}\n   */\n  public append(element: HTMLElement) {\n    this.el.appendChild(element);\n  }\n\n  /**\n   * Get the css value of the specified property.<br/>\n   * @param property The property\n   * @returns {string}\n   */\n  public css(property: string): string {\n    if (this.el.style[property]) {\n      return this.el.style[property];\n    }\n    return window.getComputedStyle(this.el).getPropertyValue(property);\n  }\n\n  /**\n   * Get or set the text content of the HTMLElement.<br/>\n   * @param txt Optional. If given, this will set the text content of the element. If not, will return the text content.\n   * @returns {string}\n   */\n  public text(txt?: string): string {\n    if (txt) {\n      if (this.el.innerText != undefined) {\n        this.el.innerText = txt;\n      } else if (this.el.textContent != undefined) {\n        this.el.textContent = txt;\n      }\n    } else {\n      return this.el.innerText || this.el.textContent;\n    }\n  }\n\n  /**\n   * Performant way to transform a NodeList to an array of HTMLElement, for manipulation<br/>\n   * http://jsperf.com/nodelist-to-array/72\n   * @param nodeList a {NodeList} to convert to an array\n   * @returns {HTMLElement[]}\n   */\n  public nodeListToArray(nodeList: NodeList): HTMLElement[] {\n    var i = nodeList.length;\n    var arr: HTMLElement[] = new Array(i);\n    while (i--) {\n      arr[i] = <HTMLElement>nodeList.item(i);\n    }\n    return arr;\n  }\n\n  /**\n   * Empty (remove all child) from the element;\n   */\n  public empty(): void {\n    while (this.el.firstChild) {\n      this.el.removeChild(this.el.firstChild);\n    }\n  }\n\n  /**\n   * Empty the element and all childs from the dom;\n   */\n  public remove(): void {\n    this.el.parentNode.removeChild(this.el);\n  }\n\n  /**\n   * Show the element;\n   */\n  public show(): void {\n    this.el.style.display = 'block';\n  }\n\n  /**\n   * Hide the element;\n   */\n  public hide(): void {\n    this.el.style.display = 'none';\n  }\n\n  /**\n   * Toggle the element visibility.<br/>\n   * Optional visible parameter, if specified will set the element visibility\n   * @param visible Optional parameter to display or hide the element\n   */\n  public toggle(visible?: boolean): void {\n    if (visible === undefined) {\n      if (this.el.style.display == 'block') {\n        this.hide();\n      } else {\n        this.show();\n      }\n    } else {\n      if (visible) {\n        this.show();\n      } else {\n        this.hide();\n      }\n    }\n  }\n\n  /**\n   * Returns the value of the specified attribute.\n   * @param name The name of the attribute\n   */\n  public getAttribute(name: string): string {\n    return this.el.getAttribute(name);\n  }\n\n  /**\n   * Sets the value of the specified attribute.\n   * @param name The name of the attribute\n   * @param value The value to set\n   */\n  public setAttribute(name: string, value: string) {\n    this.el.setAttribute(name, value);\n  }\n\n  /**\n   * Find a child element, given a CSS selector\n   * @param selector A CSS selector, can be a .className or #id\n   * @returns {HTMLElement}\n   */\n  public find(selector: string): HTMLElement {\n    return <HTMLElement>this.el.querySelector(selector);\n  }\n\n  /**\n   * Check if the element match the selector.<br/>\n   * The selector can be a class, an id or a tag.<br/>\n   * Eg : .is('.foo') or .is('#foo') or .is('div').\n   */\n  public is(selector: string): boolean {\n    if (this.el.tagName.toLowerCase() == selector.toLowerCase()) {\n      return true;\n    }\n    if (selector[0] == '.') {\n      if (this.hasClass(selector.substr(1))) {\n        return true;\n      }\n    }\n\n    if (selector[0] == '#') {\n      if (this.el.getAttribute('id') == selector.substr(1)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  /**\n   * Get the first element that matches the classname by testing the element itself and traversing up through its ancestors in the DOM tree.<br/>\n   * Stops at the body of the document\n   * @param className A CSS classname\n   */\n  public closest(className: string): HTMLElement {\n    if (className.indexOf('.') == 0) {\n      className = className.substr(1);\n    }\n    var current = this.el, found = false;\n    while (!found) {\n      if ($$(current).hasClass(className)) {\n        found = true;\n      }\n      if (current.tagName.toLowerCase() == 'body') {\n        break;\n      }\n      if (current.parentElement == null) {\n        break;\n      }\n      if (!found) {\n        current = current.parentElement;\n      }\n    }\n    if (found) {\n      return current;\n    }\n    return undefined;\n  }\n\n  /**\n   * Return all children\n   * @returns {HTMLElement[]}\n   */\n  public children(): HTMLElement[] {\n    return this.nodeListToArray(this.el.children);\n  }\n\n  /**\n   * Return all siblings\n   * @returns {HTMLElement[]}\n   */\n  public siblings(selector: string): HTMLElement[] {\n    let sibs = [];\n    let currentElement = <HTMLElement>this.el.parentNode.firstChild;\n    for (; currentElement; currentElement = <HTMLElement>currentElement.nextSibling) {\n      if (currentElement != this.el) {\n        if (this.matches(currentElement, selector) || !selector) {\n          sibs.push(currentElement);\n        }\n      }\n    }\n    return sibs;\n  }\n\n  private matches(element: HTMLElement, selector: string) {\n    var all = document.querySelectorAll(selector);\n    for (var i = 0; i < all.length; i++) {\n      if (all[i] === element) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Find all children that match the given CSS selector\n   * @param selector A CSS selector, can be a .className\n   * @returns {HTMLElement[]}\n   */\n  public findAll(selector: string): HTMLElement[] {\n    return this.nodeListToArray(this.el.querySelectorAll(selector));\n  }\n\n  /**\n   * Find the child elements using a className\n   * @param className Class of the childs elements to find\n   * @returns {HTMLElement[]}\n   */\n  public findClass(className: string): HTMLElement[] {\n    if ('getElementsByClassName' in this.el) {\n      return this.nodeListToArray(this.el.getElementsByClassName(className))\n    }\n    // For ie 8\n    return this.nodeListToArray(this.el.querySelectorAll('.' + className));\n  }\n\n  /**\n   * Find an element using an ID\n   * @param id ID of the element to find\n   * @returns {HTMLElement}\n   */\n  public findId(id: string): HTMLElement {\n    return document.getElementById(id);\n  }\n\n  /**\n   * Add a class to the element. Takes care of not adding the same class if the element already has it.\n   * @param className Classname to add to the element\n   */\n  public addClass(classNames: string[]): void;\n  public addClass(className: string): void;\n  public addClass(className: any): void {\n    if (_.isArray(className)) {\n      _.each(className, (name: string) => {\n        this.addClass(name);\n      })\n    } else {\n      if (!this.hasClass(className)) {\n        if (this.el.className) {\n          this.el.className += ' ' + className;\n        } else {\n          this.el.className = className;\n        }\n      }\n    }\n  }\n\n  /**\n   * Remove the class on the element. Works even if the element does not possess the class.\n   * @param className Classname to remove on the the element\n   */\n  public removeClass(className: string): void {\n    this.el.className = this.el.className.replace(new RegExp(`(^|\\\\s)${className}(\\\\s|\\\\b)`, 'g'), '$1').trim();\n  }\n\n  /**\n   * Toggle the class on the element.\n   * @param className Classname to toggle\n   * @swtch If true, add the class regardless and if false, remove the class\n   */\n  public toggleClass(className: string, swtch?: boolean): void {\n    if (Utils.isNullOrUndefined(swtch)) {\n      if (this.hasClass(className)) {\n        this.removeClass(className);\n      } else {\n        this.addClass(className);\n      }\n    } else {\n      if (swtch) {\n        this.addClass(className);\n      } else {\n        this.removeClass(className);\n      }\n    }\n  }\n\n  /**\n   * Sets the inner html of the element\n   * @param html The html to set\n   */\n  public setHtml(html: string) {\n    this.el.innerHTML = html;\n  }\n\n  /**\n   * Return an array with all the classname on the element. Empty array if the element has not classname\n   * @returns {any|Array}\n   */\n  public getClass(): string[] {\n    return this.el.className.match(Dom.CLASS_NAME_REGEX) || []\n  }\n\n  /**\n   * Check if the element has the given class name\n   * @param className Classname to verify\n   * @returns {boolean}\n   */\n  public hasClass(className: string): boolean {\n    return _.contains(this.getClass(), className);\n  }\n\n  /**\n   * Detach the element from the DOM.\n   */\n  public detach(): void {\n    this.el.parentElement && this.el.parentElement.removeChild(this.el);\n  }\n\n  /**\n   * Insert the current node after the given reference node\n   * @param refNode\n   */\n  public insertAfter(refNode: HTMLElement): void {\n    refNode.parentNode && refNode.parentNode.insertBefore(this.el, refNode.nextSibling);\n  }\n\n  /**\n   * Insert the current node before the given reference node\n   * @param refNode\n   */\n  public insertBefore(refNode: HTMLElement): void {\n    refNode.parentNode && refNode.parentNode.insertBefore(this.el, refNode);\n  }\n\n  /**\n   * Insert the given node as the first child of the current node\n   * @param toPrepend\n   */\n  public prepend(toPrepend: HTMLElement) {\n    if (this.el.firstChild) {\n      new Dom(toPrepend).insertBefore(<HTMLElement>this.el.firstChild);\n    } else {\n      this.el.appendChild(toPrepend);\n    }\n  }\n\n  /**\n   * Bind an event handler on the element. Accepts either one (a string) or multiple (Array<String>) event type.<br/>\n   * @param types The {string} or {Array<String>} of types on which to bind an event handler\n   * @param eventHandle The function to execute when the event is triggered\n   */\n  public on(types: string[], eventHandle: (evt: Event, data: any) => void): void;\n  public on(type: string, eventHandle: (evt: Event, data: any) => void): void;\n  public on(type: any, eventHandle: (evt: Event, data: any) => void): void {\n    if (_.isArray(type)) {\n      _.each(type, (t: string) => {\n        this.on(t, eventHandle);\n      })\n    } else {\n      var jq = this.getJQuery();\n      if (jq) {\n        jq(this.el).on(type, eventHandle);\n      } else if (this.el.addEventListener) {\n        var fn = (e: CustomEvent) => {\n          eventHandle(e, e.detail)\n        }\n        Dom.handlers.push({\n          eventHandle: eventHandle,\n          fn: fn\n        })\n        this.el.addEventListener(type, fn, false);\n      } else if (this.el['on']) {\n        this.el['on']('on' + type, eventHandle);\n      }\n    }\n  }\n\n  /**\n   * Bind an event handler on the element. Accepts either one (a string) or multiple (Array<String>) event type.<br/>\n   * The event handler will execute only ONE time.\n   * @param types The {string} or {Array<String>} of types on which to bind an event handler\n   * @param eventHandle The function to execute when the event is triggered\n   */\n  public one(types: string[], eventHandle: (evt: Event, args?: any) => void): void;\n  public one(type: string, eventHandle: (evt: Event, args?: any) => void): void;\n  public one(type: any, eventHandle: (evt: Event, args?: any) => void): void {\n    if (_.isArray(type)) {\n      _.each(type, (t: string) => {\n        this.one(t, eventHandle);\n      })\n    } else {\n      var once = (e: Event, args: any) => {\n        this.off(type, once);\n        return eventHandle(e, args);\n      }\n      this.on(type, once);\n    }\n  }\n\n  /**\n   * Remove an event handler on the element. Accepts either one (a string) or multiple (Array<String>) event type.<br/>\n   * @param types The {string} or {Array<String>} of types on which to remove an event handler\n   * @param eventHandle The function to remove on the element\n   */\n  public off(types: string[], eventHandle: (evt: Event, arg?: any) => void): void;\n  public off(type: string, eventHandle: (evt: Event, arg?: any) => void): void;\n  public off(type: any, eventHandle: (evt: Event, arg?: any) => void): void {\n    if (_.isArray(type)) {\n      _.each(type, (t: string) => {\n        this.off(t, eventHandle);\n      })\n    } else {\n      var jq = this.getJQuery();\n      if (jq) {\n        jq(this.el).off(type, eventHandle);\n      } else if (this.el.removeEventListener) {\n        var idx = 0\n        var found = _.find(Dom.handlers, (handlerObj: { eventHandle: Function, fn: EventListener }, i) => {\n          if (handlerObj.eventHandle == eventHandle) {\n            idx = i;\n            return true;\n          }\n        })\n        if (found) {\n          this.el.removeEventListener(type, found.fn, false);\n          Dom.handlers.splice(idx, 1);\n        }\n      } else if (this.el['off']) {\n        this.el['off']('on' + type, eventHandle);\n      }\n    }\n  }\n\n  /**\n   * Trigger an event on the element.\n   * @param type The event type to trigger\n   * @param data\n   */\n  public trigger(type: string, data?: { [key: string]: any }): void {\n    var jq = this.getJQuery();\n    if (jq) {\n      jq(this.el).trigger(type, data)\n    } else if (CustomEvent !== undefined) {\n      var event = new CustomEvent(type, { detail: data, bubbles: true });\n      this.el.dispatchEvent(event);\n    } else {\n      // TODO Support for older browser ?\n      new Logger(this).error('CANNOT TRIGGER EVENT FOR OLDER BROWSER');\n    }\n  }\n\n  /**\n   * Check if the element is \"empty\" (has no innerHTML content). Whitespace is considered empty</br>\n   * @returns {boolean}\n   */\n  public isEmpty(): boolean {\n    return Dom.ONLY_WHITE_SPACE_REGEX.test(this.el.innerHTML);\n  }\n\n  /**\n   * Check if the element is a descendant of parent\n   * @param other\n   */\n  public isDescendant(parent: HTMLElement): boolean {\n    var node = this.el.parentNode;\n    while (node != null) {\n      if (node == parent) {\n        return true;\n      }\n      node = node.parentNode;\n    }\n    return false;\n  }\n\n  /**\n   * Replace the current element with the other element, then detach the current element\n   * @param otherElem\n   */\n  public replaceWith(otherElem: HTMLElement): void {\n    var parent = this.el.parentNode;\n    if (parent) {\n      new Dom(otherElem).insertAfter(this.el);\n    }\n    this.detach();\n  }\n\n  // based on http://api.jquery.com/position/\n  /**\n   * Return the position relative to the offset parent.\n   */\n  public position(): IOffset {\n    let offsetParent = this.offsetParent();\n    let parentOffset: IOffset = { top: 0, left: 0 };\n\n    let offset = this.offset();\n    if (!$$(offsetParent).is('html')) {\n      parentOffset = $$(offsetParent).offset();\n    }\n\n    let borderTopWidth = parseInt($$(offsetParent).css('borderTopWidth'));\n    let borderLeftWidth = parseInt($$(offsetParent).css('borderLeftWidth'));\n    borderTopWidth = isNaN(borderTopWidth) ? 0 : borderTopWidth;\n    borderLeftWidth = isNaN(borderLeftWidth) ? 0 : borderLeftWidth;\n\n    parentOffset = {\n      top: parentOffset.top + borderTopWidth,\n      left: parentOffset.left + borderLeftWidth\n    };\n\n    let marginTop = parseInt(this.css('marginTop'));\n    let marginLeft = parseInt(this.css('marginLeft'));\n    marginTop = isNaN(marginTop) ? 0 : marginTop;\n    marginLeft = isNaN(marginLeft) ? 0 : marginLeft;\n\n    return {\n      top: offset.top - parentOffset.top - marginTop,\n      left: offset.left - parentOffset.left - marginLeft\n    };\n  }\n\n  // based on https://api.jquery.com/offsetParent/\n  /**\n   * Returns the offset parent. The offset parent is the closest parent that is positioned.\n   * An element is positioned when its position property is not 'static', which is the default.\n   */\n  public offsetParent(): HTMLElement {\n    let offsetParent = this.el.offsetParent;\n\n    while (offsetParent instanceof HTMLElement && $$(offsetParent).css('position') === 'static') {\n      // Will break out if it stumbles upon an non-HTMLElement and return documentElement\n      offsetParent = (<HTMLElement>offsetParent).offsetParent;\n    }\n\n    if (!(offsetParent instanceof HTMLElement)) {\n      return document.documentElement;\n    }\n    return <HTMLElement>offsetParent;\n  }\n\n  // based on http://api.jquery.com/offset/\n  /**\n   * Return the position relative to the document.\n   */\n  public offset(): IOffset {\n    // In <=IE11, calling getBoundingClientRect on a disconnected node throws an error\n    if (!this.el.getClientRects().length) {\n      return { top: 0, left: 0 };\n    }\n\n\n    let rect = this.el.getBoundingClientRect();\n\n    if (rect.width || rect.height) {\n      let doc = this.el.ownerDocument;\n      let docElem = doc.documentElement;\n\n      return {\n        top: rect.top + window.pageYOffset - docElem.clientTop,\n        left: rect.left + window.pageXOffset - docElem.clientLeft\n      };\n    }\n    return rect;\n  }\n\n  /**\n   * Returns the offset width of the element\n   */\n  public width() {\n    return this.el.offsetWidth;\n  }\n\n  /**\n   * Returns the offset height of the element\n   */\n  public height() {\n    return this.el.offsetHeight;\n  }\n\n  private getJQuery() {\n    if (window['jQuery'] != undefined) {\n      return window['jQuery']\n    }\n    return false;\n  }\n\n}\n\nexport class Win {\n  constructor(public win: Window) {\n  }\n\n  public height(): number {\n    return this.win.innerHeight;\n  }\n\n  public width(): number {\n    return this.win.innerWidth;\n  }\n}\n\nexport class Doc {\n  constructor(public doc: Document) {\n  }\n\n  public height(): number {\n    var body = this.doc.body;\n    return Math.max(body.scrollHeight, body.offsetHeight);\n  }\n\n  public width(): number {\n    var body = this.doc.body;\n    return Math.max(body.scrollWidth, body.offsetWidth);\n  }\n}\n\n/**\n * Convenience wrapper for the {@link Dom} class. Used to do $$(element).<br/>\n * If passed with an argument which is not an HTMLElement, it will call {@link Dom.createElement}.\n * @param el The HTMLElement to wrap in a Dom object\n * @param type See {@link Dom.createElement}\n * @param props See {@link Dom.createElement}\n * @param ...children See {@link Dom.createElement}\n */\nexport function $$(dom: Dom): Dom;\nexport function $$(html: HTMLElement): Dom;\nexport function $$(type: string, props?: Object, ...children: Array<string | HTMLElement | Dom>): Dom;\nexport function $$(...args: any[]): Dom {\n  if (args.length === 1 && args[0] instanceof Dom) {\n    return args[0];\n  } else if (args.length === 1 && (!_.isString(args[0]))) {\n    return new Dom(<HTMLElement>args[0]);\n  } else {\n    return new Dom(Dom.createElement.apply(Dom, args));\n  }\n}\n\nexport function htmlToDom(html: string): Element {\n  var parsedHtml = document.createElement('div');\n  parsedHtml.innerHTML = html;\n  // If the template has a single root element, we return it directly. Otherwise\n  // we'll have to wrap this thing in a div as ResultList expects a single element.\n  if (parsedHtml.children.length == 1) {\n    return parsedHtml.children.item(0);\n  }\n  return parsedHtml;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/Dom.ts\n **/","l":{"1":1,"2":1,"3":1,"16":1,"17":1,"18":1,"26":1,"27":94390,"28":94390,"31":1,"41":10475,"42":9716,"44":9716,"45":7653,"46":5576,"48":2077,"49":2077,"53":9716,"54":759,"55":28,"56":731,"57":328,"58":403,"59":403,"63":9716,"71":1,"72":247,"80":1,"81":268,"82":3,"84":265,"92":1,"93":3849,"94":2720,"95":2720,"96":0,"97":0,"100":1129,"110":1,"111":20945,"112":20945,"113":20945,"114":1469,"116":20945,"122":1,"123":193,"124":227,"131":1,"132":0,"138":1,"139":222,"145":1,"146":517,"154":1,"155":362,"156":0,"157":0,"159":0,"162":362,"163":93,"165":269,"174":1,"175":316,"183":1,"184":261,"192":1,"193":1582,"201":1,"202":1041,"203":482,"205":559,"206":544,"207":25,"211":534,"212":3,"213":2,"217":532,"225":1,"226":490,"227":192,"229":490,"230":490,"231":649,"232":346,"234":649,"235":0,"237":649,"238":293,"240":356,"241":159,"244":490,"245":346,"247":144,"254":1,"255":0,"262":1,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"272":0,"275":1,"276":0,"277":0,"278":0,"279":0,"282":0,"290":1,"291":20768,"299":1,"300":177,"301":177,"304":0,"312":1,"313":0,"322":15219,"323":15219,"324":497,"325":1004,"328":14722,"329":13601,"330":7023,"332":6578,"342":1,"343":2421,"351":1,"352":2018,"353":4,"354":1,"356":3,"359":2014,"360":591,"362":1423,"371":1,"372":0,"379":1,"380":35244,"388":1,"389":35241,"395":1,"396":369,"403":1,"404":166,"411":1,"412":496,"419":1,"420":68,"421":61,"423":7,"434":15650,"435":15650,"436":4,"437":12,"440":15646,"441":15646,"442":5729,"443":9917,"444":9917,"445":842,"447":9917,"451":9917,"452":0,"453":0,"466":788,"467":788,"468":0,"469":0,"472":788,"473":211,"474":211,"476":788,"487":249,"488":249,"489":2,"490":6,"493":247,"494":247,"495":44,"496":203,"497":203,"498":203,"499":1071164,"500":199,"501":199,"504":203,"505":199,"506":199,"508":0,"509":0,"519":1,"520":2659,"521":2659,"522":957,"523":1702,"524":1702,"525":1702,"528":0,"536":1,"537":5,"544":1,"545":0,"546":0,"547":0,"548":0,"550":0,"552":0,"559":1,"560":5,"561":5,"562":5,"564":5,"571":1,"572":7,"573":7,"575":7,"576":7,"577":0,"580":7,"581":7,"582":7,"583":7,"585":7,"590":7,"591":7,"592":7,"593":7,"595":7,"606":1,"607":7,"609":7,"611":0,"614":7,"615":7,"617":0,"624":1,"626":35,"627":35,"631":0,"633":0,"634":0,"635":0,"637":0,"642":0,"648":1,"649":17,"655":1,"656":112,"659":1,"660":18552,"661":6730,"663":11822,"666":1,"668":1,"669":2,"672":1,"673":2,"676":1,"677":0,"679":1,"681":1,"682":2,"685":1,"686":2,"687":2,"690":1,"691":0,"692":0,"694":1,"707":195202,"708":94241,"709":1,"710":94240,"711":84733,"713":9507,"717":1,"718":131,"719":131,"722":131,"723":117,"725":14}},"src/utils/DomUtils.ts":{"path":"src/utils/DomUtils.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":30}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":37}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":46}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":30}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":42}},"6":{"start":{"line":9,"column":0},"end":{"line":79,"column":1}},"7":{"start":{"line":10,"column":9},"end":{"line":30,"column":3}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":51}},"9":{"start":{"line":13,"column":4},"end":{"line":13,"column":53}},"10":{"start":{"line":14,"column":4},"end":{"line":14,"column":51}},"11":{"start":{"line":15,"column":4},"end":{"line":15,"column":39}},"12":{"start":{"line":17,"column":4},"end":{"line":17,"column":51}},"13":{"start":{"line":18,"column":4},"end":{"line":18,"column":41}},"14":{"start":{"line":19,"column":4},"end":{"line":19,"column":60}},"15":{"start":{"line":20,"column":4},"end":{"line":20,"column":39}},"16":{"start":{"line":22,"column":4},"end":{"line":22,"column":42}},"17":{"start":{"line":24,"column":4},"end":{"line":24,"column":55}},"18":{"start":{"line":25,"column":4},"end":{"line":25,"column":56}},"19":{"start":{"line":26,"column":4},"end":{"line":26,"column":47}},"20":{"start":{"line":27,"column":4},"end":{"line":27,"column":41}},"21":{"start":{"line":29,"column":4},"end":{"line":29,"column":31}},"22":{"start":{"line":32,"column":9},"end":{"line":44,"column":3}},"23":{"start":{"line":33,"column":4},"end":{"line":33,"column":43}},"24":{"start":{"line":34,"column":4},"end":{"line":34,"column":44}},"25":{"start":{"line":35,"column":4},"end":{"line":35,"column":52}},"26":{"start":{"line":36,"column":4},"end":{"line":42,"column":12}},"27":{"start":{"line":43,"column":4},"end":{"line":43,"column":15}},"28":{"start":{"line":46,"column":9},"end":{"line":51,"column":3}},"29":{"start":{"line":47,"column":4},"end":{"line":47,"column":75}},"30":{"start":{"line":48,"column":4},"end":{"line":48,"column":48}},"31":{"start":{"line":49,"column":4},"end":{"line":49,"column":52}},"32":{"start":{"line":50,"column":4},"end":{"line":50,"column":234}},"33":{"start":{"line":53,"column":9},"end":{"line":57,"column":3}},"34":{"start":{"line":54,"column":4},"end":{"line":54,"column":28}},"35":{"start":{"line":55,"column":4},"end":{"line":55,"column":46}},"36":{"start":{"line":56,"column":4},"end":{"line":56,"column":22}},"37":{"start":{"line":59,"column":9},"end":{"line":78,"column":3}},"38":{"start":{"line":60,"column":4},"end":{"line":60,"column":18}},"39":{"start":{"line":61,"column":4},"end":{"line":63,"column":5}},"40":{"start":{"line":62,"column":6},"end":{"line":62,"column":67}},"41":{"start":{"line":64,"column":4},"end":{"line":64,"column":41}},"42":{"start":{"line":65,"column":4},"end":{"line":65,"column":27}},"43":{"start":{"line":66,"column":4},"end":{"line":75,"column":14}},"44":{"start":{"line":76,"column":4},"end":{"line":76,"column":153}},"45":{"start":{"line":77,"column":4},"end":{"line":77,"column":18}},"46":{"start":{"line":79,"column":0},"end":{"line":79,"column":1}},"47":{"start":{"line":9,"column":13},"end":{"line":79,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1170)","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_1172)","line":10,"loc":{"start":{"line":10,"column":2},"end":{"line":10,"column":80}}},"3":{"name":"(anonymous_1173)","line":32,"loc":{"start":{"line":32,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_1174)","line":46,"loc":{"start":{"line":46,"column":2},"end":{"line":46,"column":70}}},"5":{"name":"(anonymous_1175)","line":53,"loc":{"start":{"line":53,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_1176)","line":59,"loc":{"start":{"line":59,"column":2},"end":{"line":59,"column":132}}}},"branchMap":{"1":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":4},"end":{"line":61,"column":3}},{"start":{"line":61,"column":4},"end":{"line":61,"column":3}}]},"2":{"line":74,"type":"binary-expr","locations":[{"start":{"line":74,"column":57},"end":{"line":74,"column":70}},{"start":{"line":74,"column":74},"end":{"line":74,"column":76}}]},"3":{"line":76,"type":"cond-expr","locations":[{"start":{"line":76,"column":36},"end":{"line":76,"column":58}},{"start":{"line":76,"column":61},"end":{"line":76,"column":73}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":2,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":177,"24":177,"25":177,"26":177,"27":177,"28":1,"29":39,"30":39,"31":39,"32":39,"33":1,"34":2,"35":2,"36":2,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":1,"47":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":1,"2":0,"3":177,"4":39,"5":2,"6":0},"code":"import {$$, Dom} from './Dom';\nimport {IQueryResult} from '../rest/QueryResult'\nimport {IResultsComponentBindings} from '../ui/Base/ResultsComponentBindings'\nimport {DateUtils} from './DateUtils'\nimport {FileTypes} from '../ui/Misc/FileTypes'\nimport {Utils} from './Utils';\nimport {StringUtils} from './StringUtils';\n\nexport class DomUtils {\n  static getPopUpCloseButton(captionForClose: string, captionForReminder: string): string {\n    var container = document.createElement('span');\n\n    var closeButton = document.createElement('span');\n    $$(closeButton).addClass('coveo-close-button');\n    container.appendChild(closeButton);\n\n    var iconClose = document.createElement('span');\n    $$(iconClose).addClass('coveo-icon');\n    $$(iconClose).addClass('coveo-sprites-quickview-close');\n    closeButton.appendChild(iconClose);\n\n    $$(closeButton).text(captionForClose);\n\n    var closeReminder = document.createElement('span');\n    $$(closeReminder).addClass('coveo-pop-up-reminder');\n    $$(closeReminder).text(captionForReminder);\n    container.appendChild(closeReminder);\n\n    return container.outerHTML;\n  }\n\n  static getBasicLoadingAnimation() {\n    var loadDotClass = 'coveo-loading-dot';\n    var dom = document.createElement('div');\n    dom.className = 'coveo-first-loading-animation';\n    dom.innerHTML = `<div class='coveo-logo' ></div>\n    <div class='coveo-loading-container'>\n      <div class='${loadDotClass}'></div>\n      <div class='${loadDotClass}'></div>\n      <div class='${loadDotClass}'></div>\n      <div class='${loadDotClass}'></div>\n    </div>`;\n    return dom;\n  }\n\n  static highlightElement(initialString: string, valueToSearch: string): string {\n    var regex = new RegExp(Utils.escapeRegexCharacter(valueToSearch), 'i');\n    var firstChar = initialString.search(regex);\n    var lastChar = firstChar + valueToSearch.length;\n    return `${StringUtils.htmlEncode(initialString.slice(0, firstChar))}<span class='coveo-highlight'>${StringUtils.htmlEncode(initialString.slice(firstChar, lastChar))}</span>${StringUtils.htmlEncode(initialString.slice(lastChar))}`;\n  }\n\n  static getLoadingSpinner(): HTMLElement {\n    let loading = $$('div');\n    loading.addClass('coveo-loading-spinner');\n    return loading.el;\n  }\n\n  static getQuickviewHeader(result: IQueryResult, options: { showDate: boolean; title: string }, bindings: IResultsComponentBindings): Dom {\n    var date = '';\n    if (options.showDate) {\n      date = DateUtils.dateTimeToString(new Date(result.raw.date));\n    }\n    var fileType = FileTypes.get(result);\n    var header = $$('div');\n    header.el.innerHTML = `<div class='coveo-quickview-right-header'>\n        <span class='coveo-quickview-time'>${date}</span>\n        <span class='coveo-quickview-close-button'>\n          <span class='coveo-icon coveo-sprites-common-clear'></span>\n        </span>\n      </div>\n      <div class='coveo-quickview-left-header'>\n        <span class='coveo-quickview-icon coveo-small ${fileType.icon}'></span>\n        <span class='coveo-quickview-pop-up-reminder'> ${options.title || ''}</span>\n      </div>`;\n    new Coveo[Coveo['Salesforce'] ? 'SalesforceResultLink' : 'ResultLink'](header.find('.coveo-quickview-pop-up-reminder'), undefined, bindings, result);\n    return header;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/DomUtils.ts\n **/","l":{"1":1,"4":1,"5":1,"6":1,"7":1,"9":2,"10":1,"11":0,"13":0,"14":0,"15":0,"17":0,"18":0,"19":0,"20":0,"22":0,"24":0,"25":0,"26":0,"27":0,"29":0,"32":1,"33":177,"34":177,"35":177,"36":177,"43":177,"46":1,"47":39,"48":39,"49":39,"50":39,"53":1,"54":2,"55":2,"56":2,"59":1,"60":0,"61":0,"62":0,"64":0,"65":0,"66":0,"76":0,"77":0,"79":1}},"src/ui/Misc/FileTypes.ts":{"path":"src/ui/Misc/FileTypes.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":40}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":41}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":47}},"5":{"start":{"line":15,"column":0},"end":{"line":83,"column":1}},"6":{"start":{"line":16,"column":9},"end":{"line":32,"column":3}},"7":{"start":{"line":17,"column":4},"end":{"line":17,"column":51}},"8":{"start":{"line":18,"column":4},"end":{"line":18,"column":47}},"9":{"start":{"line":21,"column":4},"end":{"line":31,"column":5}},"10":{"start":{"line":22,"column":6},"end":{"line":22,"column":49}},"11":{"start":{"line":23,"column":11},"end":{"line":31,"column":5}},"12":{"start":{"line":24,"column":6},"end":{"line":24,"column":45}},"13":{"start":{"line":26,"column":6},"end":{"line":30,"column":8}},"14":{"start":{"line":34,"column":9},"end":{"line":46,"column":3}},"15":{"start":{"line":37,"column":4},"end":{"line":37,"column":42}},"16":{"start":{"line":40,"column":4},"end":{"line":40,"column":56}},"17":{"start":{"line":42,"column":4},"end":{"line":45,"column":5}},"18":{"start":{"line":48,"column":9},"end":{"line":65,"column":3}},"19":{"start":{"line":51,"column":4},"end":{"line":51,"column":38}},"20":{"start":{"line":55,"column":4},"end":{"line":57,"column":5}},"21":{"start":{"line":56,"column":6},"end":{"line":56,"column":39}},"22":{"start":{"line":60,"column":4},"end":{"line":60,"column":52}},"23":{"start":{"line":61,"column":4},"end":{"line":64,"column":5}},"24":{"start":{"line":67,"column":9},"end":{"line":82,"column":3}},"25":{"start":{"line":68,"column":4},"end":{"line":79,"column":5}},"26":{"start":{"line":69,"column":6},"end":{"line":69,"column":28}},"27":{"start":{"line":70,"column":6},"end":{"line":70,"column":70}},"28":{"start":{"line":71,"column":6},"end":{"line":71,"column":37}},"29":{"start":{"line":72,"column":6},"end":{"line":78,"column":9}},"30":{"start":{"line":73,"column":8},"end":{"line":77,"column":9}},"31":{"start":{"line":74,"column":10},"end":{"line":74,"column":82}},"32":{"start":{"line":75,"column":15},"end":{"line":77,"column":9}},"33":{"start":{"line":76,"column":10},"end":{"line":76,"column":84}},"34":{"start":{"line":81,"column":4},"end":{"line":81,"column":28}},"35":{"start":{"line":83,"column":0},"end":{"line":83,"column":1}},"36":{"start":{"line":15,"column":13},"end":{"line":83,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1179)","line":15,"loc":{"start":{"line":15,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_1181)","line":16,"loc":{"start":{"line":16,"column":2},"end":{"line":16,"column":33}}},"3":{"name":"(anonymous_1182)","line":34,"loc":{"start":{"line":34,"column":2},"end":{"line":34,"column":41}}},"4":{"name":"(anonymous_1183)","line":48,"loc":{"start":{"line":48,"column":2},"end":{"line":48,"column":37}}},"5":{"name":"(anonymous_1184)","line":67,"loc":{"start":{"line":67,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_1185)","line":72,"loc":{"start":{"line":72,"column":30},"end":{"line":72,"column":43}}}},"branchMap":{"1":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":3}},{"start":{"line":21,"column":4},"end":{"line":21,"column":3}}]},"2":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":8},"end":{"line":21,"column":42}},{"start":{"line":21,"column":46},"end":{"line":21,"column":80}}]},"3":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":11},"end":{"line":23,"column":10}},{"start":{"line":23,"column":11},"end":{"line":23,"column":10}}]},"4":{"line":44,"type":"cond-expr","locations":[{"start":{"line":44,"column":63},"end":{"line":44,"column":78}},{"start":{"line":44,"column":81},"end":{"line":44,"column":91}}]},"5":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":4},"end":{"line":55,"column":3}},{"start":{"line":55,"column":4},"end":{"line":55,"column":3}}]},"6":{"line":63,"type":"cond-expr","locations":[{"start":{"line":63,"column":59},"end":{"line":63,"column":74}},{"start":{"line":63,"column":77},"end":{"line":63,"column":85}}]},"7":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":4},"end":{"line":68,"column":3}},{"start":{"line":68,"column":4},"end":{"line":68,"column":3}}]},"8":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":8},"end":{"line":73,"column":7}},{"start":{"line":73,"column":8},"end":{"line":73,"column":7}}]},"9":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":15},"end":{"line":75,"column":14}},{"start":{"line":75,"column":15},"end":{"line":75,"column":14}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":2,"6":1,"7":77,"8":77,"9":77,"10":0,"11":77,"12":17,"13":60,"14":1,"15":0,"16":0,"17":0,"18":1,"19":17,"20":17,"21":0,"22":17,"23":17,"24":1,"25":2,"26":1,"27":1,"28":1,"29":1,"30":429,"31":147,"32":282,"33":30,"34":2,"35":1,"36":1},"b":{"1":[0,77],"2":[77,0],"3":[17,60],"4":[0,0],"5":[0,17],"6":[4,13],"7":[1,1],"8":[147,282],"9":[30,252]},"f":{"1":1,"2":77,"3":0,"4":17,"5":2,"6":429},"code":"import {IQueryResult} from '../../rest/QueryResult';\nimport {Utils} from '../../utils/Utils';\nimport {l} from '../../strings/Strings';\nimport {Assert} from '../../misc/Assert';\n\n// On-demand mapping of file types to captions. Used by facets, but I don't\n// really like this. Maybe a dedicated filetype facet would be better? Hmm...\nlet fileTypeCaptions: { [id: string]: string };\n\nexport interface IFileTypeInfo {\n  icon: string;\n  caption: string;\n}\n\nexport class FileTypes {\n  static get(result: IQueryResult): IFileTypeInfo {\n    var objecttype = <string>result.raw.objecttype;\n    var filetype = <string>result.raw.filetype;\n\n    // When @objecttype is File we fallback on @filetype for icons and such\n    if (Utils.isNonEmptyString(objecttype) && objecttype.toLowerCase() != 'file') {\n      return FileTypes.getObjectType(objecttype);\n    } else if (Utils.isNonEmptyString(filetype)) {\n      return FileTypes.getFileType(filetype);\n    } else {\n      return {\n        // This will render a default icon. Really it should not happen.\n        icon: 'coveo-icon filetype',\n        caption: l('Unknown')\n      };\n    }\n  }\n\n  static getObjectType(objecttype: string): IFileTypeInfo {\n    // We must use lowercase filetypes because that's how the CSS classes\n    // are generated (they are case sensitive, alas).\n    objecttype = objecttype.toLowerCase();\n\n    // Most object types have a set of localized strings in the main dictionary\n    var localizedString = l('objecttype_' + objecttype);\n\n    return {\n      'icon': 'coveo-icon objecttype ' + objecttype,\n      caption: localizedString != 'objecttype_' + objecttype ? localizedString : objecttype\n    }\n  }\n\n  static getFileType(filetype: string): IFileTypeInfo {\n    // We must use lowercase filetypes because that's how the CSS classes\n    // are generated (they are case sensitive, alas).\n    filetype = filetype.toLowerCase();\n\n    // Sometimes, filetype begins with a period (typically means the index has\n    // no idea and uses the file extension as a filetype).\n    if (filetype[0] == '.') {\n      filetype = filetype.substring(1);\n    }\n\n    // Most filetypes have a set of localized strings in the main dictionary\n    var localizedString = l('filetype_' + filetype);\n    return {\n      'icon': 'coveo-icon filetype ' + filetype,\n      caption: localizedString != 'filetype_' + filetype ? localizedString : filetype\n    }\n  }\n\n  static getFileTypeCaptions() {\n    if (fileTypeCaptions == undefined) {\n      fileTypeCaptions = {};\n      var strings = String['locales'][String['locale'].toLowerCase()];\n      Assert.isNotUndefined(strings);\n      _.each(_.keys(strings), function (key) {\n        if (key.indexOf('filetype_') == 0) {\n          fileTypeCaptions[key.substr('filetype_'.length)] = key.toLocaleString();\n        } else if (key.indexOf('objecttype_') == 0) {\n          fileTypeCaptions[key.substr('objecttype_'.length)] = key.toLocaleString();\n        }\n      });\n    }\n\n    return fileTypeCaptions;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Misc/FileTypes.ts\n **/","l":{"2":1,"3":1,"4":1,"8":1,"15":2,"16":1,"17":77,"18":77,"21":77,"22":0,"23":77,"24":17,"26":60,"34":1,"37":0,"40":0,"42":0,"48":1,"51":17,"55":17,"56":0,"60":17,"61":17,"67":1,"68":2,"69":1,"70":1,"71":1,"72":1,"73":429,"74":147,"75":282,"76":30,"81":2,"83":1}},"src/utils/StringUtils.ts":{"path":"src/utils/StringUtils.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":38}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"3":{"start":{"line":5,"column":0},"end":{"line":148,"column":1}},"4":{"start":{"line":6,"column":9},"end":{"line":14,"column":3}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":27}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":41}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":40}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":39}},"9":{"start":{"line":13,"column":4},"end":{"line":13,"column":17}},"10":{"start":{"line":16,"column":9},"end":{"line":21,"column":3}},"11":{"start":{"line":17,"column":4},"end":{"line":17,"column":27}},"12":{"start":{"line":18,"column":4},"end":{"line":18,"column":24}},"13":{"start":{"line":19,"column":4},"end":{"line":19,"column":20}},"14":{"start":{"line":20,"column":4},"end":{"line":20,"column":28}},"15":{"start":{"line":23,"column":9},"end":{"line":25,"column":3}},"16":{"start":{"line":24,"column":4},"end":{"line":24,"column":81}},"17":{"start":{"line":27,"column":9},"end":{"line":34,"column":3}},"18":{"start":{"line":28,"column":4},"end":{"line":30,"column":5}},"19":{"start":{"line":29,"column":6},"end":{"line":29,"column":19}},"20":{"start":{"line":31,"column":4},"end":{"line":31,"column":41}},"21":{"start":{"line":32,"column":4},"end":{"line":32,"column":39}},"22":{"start":{"line":33,"column":4},"end":{"line":33,"column":61}},"23":{"start":{"line":36,"column":9},"end":{"line":39,"column":3}},"24":{"start":{"line":37,"column":4},"end":{"line":37,"column":27}},"25":{"start":{"line":38,"column":4},"end":{"line":38,"column":72}},"26":{"start":{"line":41,"column":9},"end":{"line":56,"column":3}},"27":{"start":{"line":41,"column":38},"end":{"line":41,"column":58}},"28":{"start":{"line":42,"column":4},"end":{"line":42,"column":27}},"29":{"start":{"line":43,"column":4},"end":{"line":43,"column":49}},"30":{"start":{"line":45,"column":4},"end":{"line":53,"column":5}},"31":{"start":{"line":46,"column":6},"end":{"line":52,"column":17}},"32":{"start":{"line":47,"column":8},"end":{"line":47,"column":98}},"33":{"start":{"line":47,"column":70},"end":{"line":47,"column":96}},"34":{"start":{"line":48,"column":8},"end":{"line":50,"column":9}},"35":{"start":{"line":49,"column":10},"end":{"line":49,"column":30}},"36":{"start":{"line":51,"column":8},"end":{"line":51,"column":20}},"37":{"start":{"line":55,"column":4},"end":{"line":55,"column":19}},"38":{"start":{"line":58,"column":9},"end":{"line":67,"column":3}},"39":{"start":{"line":58,"column":41},"end":{"line":58,"column":61}},"40":{"start":{"line":59,"column":4},"end":{"line":59,"column":27}},"41":{"start":{"line":61,"column":4},"end":{"line":61,"column":65}},"42":{"start":{"line":63,"column":4},"end":{"line":63,"column":44}},"43":{"start":{"line":64,"column":4},"end":{"line":64,"column":43}},"44":{"start":{"line":66,"column":4},"end":{"line":66,"column":19}},"45":{"start":{"line":69,"column":9},"end":{"line":82,"column":3}},"46":{"start":{"line":70,"column":4},"end":{"line":70,"column":42}},"47":{"start":{"line":72,"column":4},"end":{"line":80,"column":5}},"48":{"start":{"line":73,"column":6},"end":{"line":73,"column":34}},"49":{"start":{"line":74,"column":6},"end":{"line":74,"column":36}},"50":{"start":{"line":75,"column":6},"end":{"line":75,"column":55}},"51":{"start":{"line":76,"column":6},"end":{"line":76,"column":115}},"52":{"start":{"line":77,"column":6},"end":{"line":79,"column":7}},"53":{"start":{"line":78,"column":8},"end":{"line":78,"column":14}},"54":{"start":{"line":81,"column":4},"end":{"line":81,"column":52}},"55":{"start":{"line":84,"column":9},"end":{"line":87,"column":3}},"56":{"start":{"line":85,"column":4},"end":{"line":85,"column":33}},"57":{"start":{"line":86,"column":4},"end":{"line":86,"column":47}},"58":{"start":{"line":89,"column":9},"end":{"line":91,"column":3}},"59":{"start":{"line":90,"column":4},"end":{"line":90,"column":52}},"60":{"start":{"line":93,"column":9},"end":{"line":100,"column":3}},"61":{"start":{"line":94,"column":4},"end":{"line":94,"column":33}},"62":{"start":{"line":95,"column":4},"end":{"line":95,"column":22}},"63":{"start":{"line":96,"column":4},"end":{"line":98,"column":5}},"64":{"start":{"line":97,"column":6},"end":{"line":97,"column":24}},"65":{"start":{"line":99,"column":4},"end":{"line":99,"column":19}},"66":{"start":{"line":102,"column":9},"end":{"line":111,"column":3}},"67":{"start":{"line":103,"column":4},"end":{"line":103,"column":17}},"68":{"start":{"line":104,"column":4},"end":{"line":104,"column":24}},"69":{"start":{"line":105,"column":4},"end":{"line":109,"column":5}},"70":{"start":{"line":106,"column":6},"end":{"line":106,"column":35}},"71":{"start":{"line":107,"column":6},"end":{"line":107,"column":41}},"72":{"start":{"line":108,"column":6},"end":{"line":108,"column":25}},"73":{"start":{"line":110,"column":4},"end":{"line":110,"column":29}},"74":{"start":{"line":114,"column":9},"end":{"line":118,"column":3}},"75":{"start":{"line":115,"column":4},"end":{"line":115,"column":98}},"76":{"start":{"line":116,"column":4},"end":{"line":116,"column":25}},"77":{"start":{"line":117,"column":4},"end":{"line":117,"column":58}},"78":{"start":{"line":120,"column":16},"end":{"line":147,"column":3}},"79":{"start":{"line":148,"column":0},"end":{"line":148,"column":1}},"80":{"start":{"line":5,"column":13},"end":{"line":148,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1188)","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_1190)","line":6,"loc":{"start":{"line":6,"column":2},"end":{"line":6,"column":39}}},"3":{"name":"(anonymous_1191)","line":16,"loc":{"start":{"line":16,"column":2},"end":{"line":16,"column":33}}},"4":{"name":"(anonymous_1192)","line":23,"loc":{"start":{"line":23,"column":2},"end":{"line":23,"column":75}}},"5":{"name":"(anonymous_1193)","line":27,"loc":{"start":{"line":27,"column":2},"end":{"line":27,"column":66}}},"6":{"name":"(anonymous_1194)","line":36,"loc":{"start":{"line":36,"column":2},"end":{"line":36,"column":34}}},"7":{"name":"(anonymous_1195)","line":41,"loc":{"start":{"line":41,"column":2},"end":{"line":41,"column":58}}},"8":{"name":"(anonymous_1196)","line":46,"loc":{"start":{"line":46,"column":28},"end":{"line":46,"column":41}}},"9":{"name":"(anonymous_1197)","line":47,"loc":{"start":{"line":47,"column":50},"end":{"line":47,"column":65}}},"10":{"name":"(anonymous_1198)","line":58,"loc":{"start":{"line":58,"column":2},"end":{"line":58,"column":61}}},"11":{"name":"(anonymous_1199)","line":69,"loc":{"start":{"line":69,"column":2},"end":{"line":69,"column":95}}},"12":{"name":"(anonymous_1200)","line":84,"loc":{"start":{"line":84,"column":2},"end":{"line":84,"column":49}}},"13":{"name":"(anonymous_1201)","line":89,"loc":{"start":{"line":89,"column":2},"end":{"line":89,"column":57}}},"14":{"name":"(anonymous_1202)","line":93,"loc":{"start":{"line":93,"column":2},"end":{"line":93,"column":43}}},"15":{"name":"(anonymous_1203)","line":102,"loc":{"start":{"line":102,"column":2},"end":{"line":102,"column":29}}},"16":{"name":"(anonymous_1204)","line":114,"loc":{"start":{"line":114,"column":2},"end":{"line":114,"column":38}}}},"branchMap":{"1":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":4},"end":{"line":28,"column":3}},{"start":{"line":28,"column":4},"end":{"line":28,"column":3}}]},"2":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":38},"end":{"line":41,"column":37}},{"start":{"line":41,"column":38},"end":{"line":41,"column":37}}]},"3":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":4},"end":{"line":45,"column":3}},{"start":{"line":45,"column":4},"end":{"line":45,"column":3}}]},"4":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":8},"end":{"line":48,"column":7}},{"start":{"line":48,"column":8},"end":{"line":48,"column":7}}]},"5":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":41},"end":{"line":58,"column":40}},{"start":{"line":58,"column":41},"end":{"line":58,"column":40}}]},"6":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":6},"end":{"line":77,"column":5}},{"start":{"line":77,"column":6},"end":{"line":77,"column":5}}]},"7":{"line":81,"type":"cond-expr","locations":[{"start":{"line":81,"column":32},"end":{"line":81,"column":41}},{"start":{"line":81,"column":44},"end":{"line":81,"column":51}}]}},"s":{"1":1,"2":1,"3":2,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":153,"12":153,"13":153,"14":153,"15":1,"16":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":35,"25":35,"26":1,"27":36,"28":35,"29":35,"30":35,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":35,"38":1,"39":20,"40":20,"41":20,"42":20,"43":20,"44":20,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":1,"56":0,"57":0,"58":1,"59":162,"60":1,"61":19,"62":19,"63":19,"64":4,"65":19,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":1,"75":0,"76":0,"77":0,"78":1,"79":1,"80":1},"b":{"1":[0,0],"2":[1,34],"3":[0,35],"4":[0,0],"5":[0,20],"6":[0,0],"7":[0,0]},"f":{"1":1,"2":0,"3":153,"4":0,"5":0,"6":35,"7":35,"8":0,"9":0,"10":20,"11":0,"12":0,"13":162,"14":19,"15":0,"16":0},"code":"import {Assert} from '../misc/Assert';\nimport {IHighlight} from '../rest/Highlight';\nimport {$$} from '../utils/Dom';\n\nexport class StringUtils {\n  static javascriptEncode(value: string): string {\n    Assert.isString(value);\n\n    value = value.replace(/\\\\/g, '\\\\\\\\');\n    value = value.replace(/'/g, '\\\\\\'');\n    value = value.replace(/\"/g, '\\\\\"');\n\n    return value;\n  }\n\n  static htmlEncode(value: string): string {\n    Assert.isString(value);\n    var div = $$('div');\n    div.text(value);\n    return div.el.innerHTML;\n  }\n\n  static splice(value: string, index: number, remove: number, toAdd: string): string {\n    return value.slice(0, index) + toAdd + value.slice(index + Math.abs(remove));\n  }\n\n  static removeMiddle(value: string, length: number, toAdd: string): string {\n    if (value.length < length) {\n      return value;\n    }\n    var toRemove = value.length - length;\n    var index = Math.floor(length / 2);\n    return StringUtils.splice(value, index, toRemove, toAdd);\n  }\n\n  static regexEncode(value: string): string {\n    Assert.isString(value);\n    return value.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n  }\n\n  static stringToRegex(value: string, ignoreAccent = false): string {\n    Assert.isString(value);\n    var encoded = StringUtils.regexEncode(value);\n\n    if (ignoreAccent) {\n      return _.map(encoded, (char: string) => {\n        var regexp = _.find(StringUtils.accented, (regexp: RegExp) => char.match(regexp) != null);\n        if (regexp) {\n          return regexp.source\n        }\n        return char;\n      }).join('')\n    }\n\n    return encoded;\n  }\n\n  static wildcardsToRegex(value: string, ignoreAccent = false): string {\n    Assert.isString(value);\n\n    var encoded = StringUtils.stringToRegex(value, ignoreAccent);\n\n    encoded = encoded.replace(/\\\\\\*/, '.*');\n    encoded = encoded.replace(/\\\\\\?/, '.');\n\n    return encoded;\n  }\n\n  static getHighlights(strToSearch: string, regexToFind: RegExp, dataHighlightGroupTerm: string): IHighlight[] {\n    var match, indexes: IHighlight[] = [];\n\n    while (match = regexToFind.exec(strToSearch)) {\n      var desiredMatch = match[2];\n      var undesiredMatch = match[1];\n      var offset = match.index + undesiredMatch.length;\n      indexes.push({ offset: offset, length: desiredMatch.length, dataHighlightGroupTerm: dataHighlightGroupTerm })\n      if (!regexToFind.global) {\n        break;\n      }\n    }\n    return _.isEmpty(indexes) ? undefined : indexes;\n  }\n\n  static encodeCarriageReturn(strToEncode: string): string {\n    Assert.isString(strToEncode);\n    return strToEncode.replace(/\\n/g, '<br/>');\n  }\n\n  static equalsCaseInsensitive(str1: string, str2: string) {\n    return str1.toLowerCase() == str2.toLowerCase();\n  }\n\n  static match(value: string, regex: RegExp) {\n    var results: string[][] = [];\n    var arr: string[];\n    while ((arr = regex.exec(value)) !== null) {\n      results.push(arr);\n    }\n    return results;\n  }\n\n  static hashCode(str: string): string {\n    var hash = 0;\n    var len = str.length\n    for (var i = 0; i < len; i++) {\n      var char = str.charCodeAt(i);\n      hash = ((hash << 5) - hash) + char;\n      hash = hash & hash; // Convert to 32bit integer\n    }\n    return hash.toString(16);\n  }\n\n  // http://stackoverflow.com/a/25575009\n  static removePunctuation(str: string) {\n    var punctRE = /[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#\\$%&\\(\\)\\*\\+,\\-\\.\\/:;<=>\\?@\\[\\]\\^_`\\{\\|\\}~]/g;\n    var spaceRE = /\\s+/g;\n    return str.replace(punctRE, '').replace(spaceRE, ' ');\n  }\n\n  public static accented: { [letter: string]: RegExp } = {\n    'A': /[Aa\\xaa\\xc0-\\xc5\\xe0-\\xe5\\u0100-\\u0105\\u01cd\\u01ce\\u0200-\\u0203\\u0226\\u0227\\u1d2c\\u1d43\\u1e00\\u1e01\\u1e9a\\u1ea0-\\u1ea3\\u2090\\u2100\\u2101\\u213b\\u249c\\u24b6\\u24d0\\u3371-\\u3374\\u3380-\\u3384\\u3388\\u3389\\u33a9-\\u33af\\u33c2\\u33ca\\u33df\\u33ff\\uff21\\uff41]/g,\n    'B': /[Bb\\u1d2e\\u1d47\\u1e02-\\u1e07\\u212c\\u249d\\u24b7\\u24d1\\u3374\\u3385-\\u3387\\u33c3\\u33c8\\u33d4\\u33dd\\uff22\\uff42]/g,\n    'C': /[Cc\\xc7\\xe7\\u0106-\\u010d\\u1d9c\\u2100\\u2102\\u2103\\u2105\\u2106\\u212d\\u216d\\u217d\\u249e\\u24b8\\u24d2\\u3376\\u3388\\u3389\\u339d\\u33a0\\u33a4\\u33c4-\\u33c7\\uff23\\uff43]/g,\n    'D': /[Dd\\u010e\\u010f\\u01c4-\\u01c6\\u01f1-\\u01f3\\u1d30\\u1d48\\u1e0a-\\u1e13\\u2145\\u2146\\u216e\\u217e\\u249f\\u24b9\\u24d3\\u32cf\\u3372\\u3377-\\u3379\\u3397\\u33ad-\\u33af\\u33c5\\u33c8\\uff24\\uff44]/g,\n    'E': /[Ee\\xc8-\\xcb\\xe8-\\xeb\\u0112-\\u011b\\u0204-\\u0207\\u0228\\u0229\\u1d31\\u1d49\\u1e18-\\u1e1b\\u1eb8-\\u1ebd\\u2091\\u2121\\u212f\\u2130\\u2147\\u24a0\\u24ba\\u24d4\\u3250\\u32cd\\u32ce\\uff25\\uff45]/g,\n    'F': /[Ff\\u1da0\\u1e1e\\u1e1f\\u2109\\u2131\\u213b\\u24a1\\u24bb\\u24d5\\u338a-\\u338c\\u3399\\ufb00-\\ufb04\\uff26\\uff46]/g,\n    'G': /[Gg\\u011c-\\u0123\\u01e6\\u01e7\\u01f4\\u01f5\\u1d33\\u1d4d\\u1e20\\u1e21\\u210a\\u24a2\\u24bc\\u24d6\\u32cc\\u32cd\\u3387\\u338d-\\u338f\\u3393\\u33ac\\u33c6\\u33c9\\u33d2\\u33ff\\uff27\\uff47]/g,\n    'H': /[Hh\\u0124\\u0125\\u021e\\u021f\\u02b0\\u1d34\\u1e22-\\u1e2b\\u1e96\\u210b-\\u210e\\u24a3\\u24bd\\u24d7\\u32cc\\u3371\\u3390-\\u3394\\u33ca\\u33cb\\u33d7\\uff28\\uff48]/g,\n    'I': /[Ii\\xcc-\\xcf\\xec-\\xef\\u0128-\\u0130\\u0132\\u0133\\u01cf\\u01d0\\u0208-\\u020b\\u1d35\\u1d62\\u1e2c\\u1e2d\\u1ec8-\\u1ecb\\u2071\\u2110\\u2111\\u2139\\u2148\\u2160-\\u2163\\u2165-\\u2168\\u216a\\u216b\\u2170-\\u2173\\u2175-\\u2178\\u217a\\u217b\\u24a4\\u24be\\u24d8\\u337a\\u33cc\\u33d5\\ufb01\\ufb03\\uff29\\uff49]/g,\n    'J': /[Jj\\u0132-\\u0135\\u01c7-\\u01cc\\u01f0\\u02b2\\u1d36\\u2149\\u24a5\\u24bf\\u24d9\\u2c7c\\uff2a\\uff4a]/g,\n    'K': /[Kk\\u0136\\u0137\\u01e8\\u01e9\\u1d37\\u1d4f\\u1e30-\\u1e35\\u212a\\u24a6\\u24c0\\u24da\\u3384\\u3385\\u3389\\u338f\\u3391\\u3398\\u339e\\u33a2\\u33a6\\u33aa\\u33b8\\u33be\\u33c0\\u33c6\\u33cd-\\u33cf\\uff2b\\uff4b]/g,\n    'L': /[Ll\\u0139-\\u0140\\u01c7-\\u01c9\\u02e1\\u1d38\\u1e36\\u1e37\\u1e3a-\\u1e3d\\u2112\\u2113\\u2121\\u216c\\u217c\\u24a7\\u24c1\\u24db\\u32cf\\u3388\\u3389\\u33d0-\\u33d3\\u33d5\\u33d6\\u33ff\\ufb02\\ufb04\\uff2c\\uff4c]/g,\n    'M': /[Mm\\u1d39\\u1d50\\u1e3e-\\u1e43\\u2120\\u2122\\u2133\\u216f\\u217f\\u24a8\\u24c2\\u24dc\\u3377-\\u3379\\u3383\\u3386\\u338e\\u3392\\u3396\\u3399-\\u33a8\\u33ab\\u33b3\\u33b7\\u33b9\\u33bd\\u33bf\\u33c1\\u33c2\\u33ce\\u33d0\\u33d4-\\u33d6\\u33d8\\u33d9\\u33de\\u33df\\uff2d\\uff4d]/g,\n    'N': /[Nn\\xd1\\xf1\\u0143-\\u0149\\u01ca-\\u01cc\\u01f8\\u01f9\\u1d3a\\u1e44-\\u1e4b\\u207f\\u2115\\u2116\\u24a9\\u24c3\\u24dd\\u3381\\u338b\\u339a\\u33b1\\u33b5\\u33bb\\u33cc\\u33d1\\uff2e\\uff4e]/g,\n    'O': /[Oo\\xba\\xd2-\\xd6\\xf2-\\xf6\\u014c-\\u0151\\u01a0\\u01a1\\u01d1\\u01d2\\u01ea\\u01eb\\u020c-\\u020f\\u022e\\u022f\\u1d3c\\u1d52\\u1ecc-\\u1ecf\\u2092\\u2105\\u2116\\u2134\\u24aa\\u24c4\\u24de\\u3375\\u33c7\\u33d2\\u33d6\\uff2f\\uff4f]/g,\n    'P': /[Pp\\u1d3e\\u1d56\\u1e54-\\u1e57\\u2119\\u24ab\\u24c5\\u24df\\u3250\\u3371\\u3376\\u3380\\u338a\\u33a9-\\u33ac\\u33b0\\u33b4\\u33ba\\u33cb\\u33d7-\\u33da\\uff30\\uff50]/g,\n    'Q': /[Qq\\u211a\\u24ac\\u24c6\\u24e0\\u33c3\\uff31\\uff51]/g,\n    'R': /[Rr\\u0154-\\u0159\\u0210-\\u0213\\u02b3\\u1d3f\\u1d63\\u1e58-\\u1e5b\\u1e5e\\u1e5f\\u20a8\\u211b-\\u211d\\u24ad\\u24c7\\u24e1\\u32cd\\u3374\\u33ad-\\u33af\\u33da\\u33db\\uff32\\uff52]/g,\n    'S': /[Ss\\u015a-\\u0161\\u017f\\u0218\\u0219\\u02e2\\u1e60-\\u1e63\\u20a8\\u2101\\u2120\\u24ae\\u24c8\\u24e2\\u33a7\\u33a8\\u33ae-\\u33b3\\u33db\\u33dc\\ufb06\\uff33\\uff53]/g,\n    'T': /[Tt\\u0162-\\u0165\\u021a\\u021b\\u1d40\\u1d57\\u1e6a-\\u1e71\\u1e97\\u2121\\u2122\\u24af\\u24c9\\u24e3\\u3250\\u32cf\\u3394\\u33cf\\ufb05\\ufb06\\uff34\\uff54]/g,\n    'U': /[Uu\\xd9-\\xdc\\xf9-\\xfc\\u0168-\\u0173\\u01af\\u01b0\\u01d3\\u01d4\\u0214-\\u0217\\u1d41\\u1d58\\u1d64\\u1e72-\\u1e77\\u1ee4-\\u1ee7\\u2106\\u24b0\\u24ca\\u24e4\\u3373\\u337a\\uff35\\uff55]/g,\n    'V': /[Vv\\u1d5b\\u1d65\\u1e7c-\\u1e7f\\u2163-\\u2167\\u2173-\\u2177\\u24b1\\u24cb\\u24e5\\u2c7d\\u32ce\\u3375\\u33b4-\\u33b9\\u33dc\\u33de\\uff36\\uff56]/g,\n    'W': /[Ww\\u0174\\u0175\\u02b7\\u1d42\\u1e80-\\u1e89\\u1e98\\u24b2\\u24cc\\u24e6\\u33ba-\\u33bf\\u33dd\\uff37\\uff57]/g,\n    'X': /[Xx\\u02e3\\u1e8a-\\u1e8d\\u2093\\u213b\\u2168-\\u216b\\u2178-\\u217b\\u24b3\\u24cd\\u24e7\\u33d3\\uff38\\uff58]/g,\n    'Y': /[Yy\\xdd\\xfd\\xff\\u0176-\\u0178\\u0232\\u0233\\u02b8\\u1e8e\\u1e8f\\u1e99\\u1ef2-\\u1ef9\\u24b4\\u24ce\\u24e8\\u33c9\\uff39\\uff59]/g,\n    'Z': /[Zz\\u0179-\\u017e\\u01f1-\\u01f3\\u1dbb\\u1e90-\\u1e95\\u2124\\u2128\\u24b5\\u24cf\\u24e9\\u3390-\\u3394\\uff3a\\uff5a]/g\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/StringUtils.ts\n **/","l":{"1":1,"3":1,"5":2,"6":1,"7":0,"9":0,"10":0,"11":0,"13":0,"16":1,"17":153,"18":153,"19":153,"20":153,"23":1,"24":0,"27":1,"28":0,"29":0,"31":0,"32":0,"33":0,"36":1,"37":35,"38":35,"41":36,"42":35,"43":35,"45":35,"46":0,"47":0,"48":0,"49":0,"51":0,"55":35,"58":20,"59":20,"61":20,"63":20,"64":20,"66":20,"69":1,"70":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"81":0,"84":1,"85":0,"86":0,"89":1,"90":162,"93":1,"94":19,"95":19,"96":19,"97":4,"99":19,"102":1,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"110":0,"114":1,"115":0,"116":0,"117":0,"120":1,"148":1}},"src/utils/EmailActionsUtils.ts":{"path":"src/utils/EmailActionsUtils.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":37}},"2":{"start":{"line":15,"column":0},"end":{"line":118,"column":1}},"3":{"start":{"line":16,"column":9},"end":{"line":23,"column":3}},"4":{"start":{"line":17,"column":4},"end":{"line":17,"column":85}},"5":{"start":{"line":18,"column":4},"end":{"line":18,"column":131}},"6":{"start":{"line":19,"column":4},"end":{"line":21,"column":5}},"7":{"start":{"line":20,"column":6},"end":{"line":20,"column":33}},"8":{"start":{"line":22,"column":4},"end":{"line":22,"column":18}},"9":{"start":{"line":25,"column":9},"end":{"line":43,"column":3}},"10":{"start":{"line":26,"column":4},"end":{"line":26,"column":29}},"11":{"start":{"line":27,"column":4},"end":{"line":29,"column":5}},"12":{"start":{"line":28,"column":6},"end":{"line":28,"column":87}},"13":{"start":{"line":30,"column":4},"end":{"line":32,"column":5}},"14":{"start":{"line":31,"column":6},"end":{"line":31,"column":77}},"15":{"start":{"line":33,"column":4},"end":{"line":35,"column":5}},"16":{"start":{"line":34,"column":6},"end":{"line":34,"column":79}},"17":{"start":{"line":36,"column":4},"end":{"line":41,"column":5}},"18":{"start":{"line":37,"column":6},"end":{"line":37,"column":105}},"19":{"start":{"line":38,"column":6},"end":{"line":40,"column":7}},"20":{"start":{"line":39,"column":8},"end":{"line":39,"column":90}},"21":{"start":{"line":42,"column":4},"end":{"line":42,"column":37}},"22":{"start":{"line":45,"column":9},"end":{"line":52,"column":3}},"23":{"start":{"line":46,"column":4},"end":{"line":46,"column":27}},"24":{"start":{"line":47,"column":4},"end":{"line":50,"column":5}},"25":{"start":{"line":48,"column":6},"end":{"line":48,"column":77}},"26":{"start":{"line":49,"column":6},"end":{"line":49,"column":73}},"27":{"start":{"line":51,"column":4},"end":{"line":51,"column":23}},"28":{"start":{"line":54,"column":9},"end":{"line":56,"column":3}},"29":{"start":{"line":55,"column":4},"end":{"line":55,"column":83}},"30":{"start":{"line":58,"column":9},"end":{"line":67,"column":3}},"31":{"start":{"line":58,"column":55},"end":{"line":58,"column":99}},"32":{"start":{"line":61,"column":4},"end":{"line":61,"column":139}},"33":{"start":{"line":62,"column":4},"end":{"line":62,"column":63}},"34":{"start":{"line":63,"column":4},"end":{"line":63,"column":55}},"35":{"start":{"line":64,"column":4},"end":{"line":64,"column":49}},"36":{"start":{"line":65,"column":4},"end":{"line":65,"column":53}},"37":{"start":{"line":66,"column":4},"end":{"line":66,"column":22}},"38":{"start":{"line":69,"column":9},"end":{"line":72,"column":3}},"39":{"start":{"line":70,"column":4},"end":{"line":70,"column":69}},"40":{"start":{"line":71,"column":4},"end":{"line":71,"column":104}},"41":{"start":{"line":74,"column":9},"end":{"line":82,"column":3}},"42":{"start":{"line":75,"column":4},"end":{"line":81,"column":5}},"43":{"start":{"line":76,"column":6},"end":{"line":78,"column":18}},"44":{"start":{"line":77,"column":8},"end":{"line":77,"column":52}},"45":{"start":{"line":80,"column":6},"end":{"line":80,"column":17}},"46":{"start":{"line":84,"column":9},"end":{"line":91,"column":3}},"47":{"start":{"line":85,"column":4},"end":{"line":90,"column":7}},"48":{"start":{"line":93,"column":9},"end":{"line":101,"column":3}},"49":{"start":{"line":94,"column":4},"end":{"line":100,"column":7}},"50":{"start":{"line":103,"column":9},"end":{"line":109,"column":3}},"51":{"start":{"line":104,"column":4},"end":{"line":108,"column":7}},"52":{"start":{"line":111,"column":9},"end":{"line":117,"column":3}},"53":{"start":{"line":112,"column":4},"end":{"line":112,"column":38}},"54":{"start":{"line":113,"column":4},"end":{"line":115,"column":7}},"55":{"start":{"line":114,"column":6},"end":{"line":114,"column":64}},"56":{"start":{"line":116,"column":4},"end":{"line":116,"column":41}},"57":{"start":{"line":118,"column":0},"end":{"line":118,"column":1}},"58":{"start":{"line":15,"column":13},"end":{"line":118,"column":1}},"59":{"start":{"line":120,"column":0},"end":{"line":128,"column":1}},"60":{"start":{"line":121,"column":2},"end":{"line":121,"column":32}},"61":{"start":{"line":122,"column":2},"end":{"line":122,"column":28}},"62":{"start":{"line":123,"column":2},"end":{"line":123,"column":18}},"63":{"start":{"line":124,"column":2},"end":{"line":124,"column":23}},"64":{"start":{"line":125,"column":2},"end":{"line":125,"column":18}},"65":{"start":{"line":126,"column":2},"end":{"line":126,"column":19}},"66":{"start":{"line":127,"column":2},"end":{"line":127,"column":20}},"67":{"start":{"line":128,"column":0},"end":{"line":128,"column":1}},"68":{"start":{"line":120,"column":13},"end":{"line":128,"column":1}},"69":{"start":{"line":130,"column":0},"end":{"line":189,"column":1}},"70":{"start":{"line":139,"column":2},"end":{"line":146,"column":3}},"71":{"start":{"line":139,"column":21},"end":{"line":139,"column":45}},"72":{"start":{"line":133,"column":10},"end":{"line":133,"column":34}},"73":{"start":{"line":140,"column":4},"end":{"line":140,"column":65}},"74":{"start":{"line":141,"column":4},"end":{"line":141,"column":43}},"75":{"start":{"line":142,"column":4},"end":{"line":145,"column":5}},"76":{"start":{"line":143,"column":6},"end":{"line":144,"column":105}},"77":{"start":{"line":148,"column":10},"end":{"line":152,"column":3}},"78":{"start":{"line":149,"column":4},"end":{"line":149,"column":121}},"79":{"start":{"line":150,"column":4},"end":{"line":150,"column":121}},"80":{"start":{"line":151,"column":4},"end":{"line":151,"column":123}},"81":{"start":{"line":154,"column":9},"end":{"line":157,"column":3}},"82":{"start":{"line":155,"column":4},"end":{"line":155,"column":28}},"83":{"start":{"line":156,"column":4},"end":{"line":156,"column":38}},"84":{"start":{"line":159,"column":10},"end":{"line":165,"column":3}},"85":{"start":{"line":160,"column":4},"end":{"line":164,"column":5}},"86":{"start":{"line":161,"column":6},"end":{"line":161,"column":22}},"87":{"start":{"line":162,"column":11},"end":{"line":164,"column":5}},"88":{"start":{"line":163,"column":6},"end":{"line":163,"column":26}},"89":{"start":{"line":167,"column":10},"end":{"line":172,"column":3}},"90":{"start":{"line":168,"column":4},"end":{"line":168,"column":67}},"91":{"start":{"line":169,"column":4},"end":{"line":171,"column":5}},"92":{"start":{"line":170,"column":6},"end":{"line":170,"column":26}},"93":{"start":{"line":174,"column":10},"end":{"line":176,"column":3}},"94":{"start":{"line":175,"column":4},"end":{"line":175,"column":90}},"95":{"start":{"line":178,"column":9},"end":{"line":180,"column":3}},"96":{"start":{"line":178,"column":31},"end":{"line":178,"column":40}},"97":{"start":{"line":179,"column":4},"end":{"line":179,"column":21}},"98":{"start":{"line":182,"column":10},"end":{"line":184,"column":3}},"99":{"start":{"line":183,"column":4},"end":{"line":183,"column":44}},"100":{"start":{"line":186,"column":9},"end":{"line":188,"column":3}},"101":{"start":{"line":187,"column":4},"end":{"line":187,"column":36}},"102":{"start":{"line":134,"column":9},"end":{"line":134,"column":34}},"103":{"start":{"line":135,"column":9},"end":{"line":135,"column":54}},"104":{"start":{"line":137,"column":9},"end":{"line":137,"column":34}},"105":{"start":{"line":189,"column":0},"end":{"line":189,"column":1}},"106":{"start":{"line":130,"column":13},"end":{"line":189,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1207)","line":15,"loc":{"start":{"line":15,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_1209)","line":16,"loc":{"start":{"line":16,"column":2},"end":{"line":16,"column":50}}},"3":{"name":"(anonymous_1210)","line":25,"loc":{"start":{"line":25,"column":2},"end":{"line":25,"column":107}}},"4":{"name":"(anonymous_1211)","line":45,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":52}}},"5":{"name":"(anonymous_1212)","line":54,"loc":{"start":{"line":54,"column":2},"end":{"line":54,"column":57}}},"6":{"name":"(anonymous_1213)","line":58,"loc":{"start":{"line":58,"column":2},"end":{"line":58,"column":99}}},"7":{"name":"(anonymous_1214)","line":69,"loc":{"start":{"line":69,"column":2},"end":{"line":69,"column":69}}},"8":{"name":"(anonymous_1215)","line":74,"loc":{"start":{"line":74,"column":2},"end":{"line":74,"column":79}}},"9":{"name":"(anonymous_1216)","line":76,"loc":{"start":{"line":76,"column":46},"end":{"line":76,"column":52}}},"10":{"name":"(anonymous_1217)","line":84,"loc":{"start":{"line":84,"column":2},"end":{"line":84,"column":82}}},"11":{"name":"(anonymous_1218)","line":93,"loc":{"start":{"line":93,"column":2},"end":{"line":93,"column":85}}},"12":{"name":"(anonymous_1219)","line":103,"loc":{"start":{"line":103,"column":2},"end":{"line":103,"column":84}}},"13":{"name":"(anonymous_1220)","line":111,"loc":{"start":{"line":111,"column":2},"end":{"line":111,"column":38}}},"14":{"name":"(anonymous_1221)","line":113,"loc":{"start":{"line":113,"column":23},"end":{"line":113,"column":35}}},"15":{"name":"(anonymous_1222)","line":120,"loc":{"start":{"line":120,"column":0},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_1224)","line":130,"loc":{"start":{"line":130,"column":0},"end":{"line":null,"column":-1}}},"17":{"name":"MailTo","line":139,"loc":{"start":{"line":139,"column":2},"end":{"line":139,"column":45}}},"18":{"name":"(anonymous_1226)","line":148,"loc":{"start":{"line":148,"column":2},"end":{"line":null,"column":-1}}},"19":{"name":"(anonymous_1227)","line":154,"loc":{"start":{"line":154,"column":2},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_1228)","line":159,"loc":{"start":{"line":159,"column":2},"end":{"line":null,"column":-1}}},"21":{"name":"(anonymous_1229)","line":167,"loc":{"start":{"line":167,"column":2},"end":{"line":null,"column":-1}}},"22":{"name":"(anonymous_1230)","line":174,"loc":{"start":{"line":174,"column":2},"end":{"line":null,"column":-1}}},"23":{"name":"(anonymous_1231)","line":178,"loc":{"start":{"line":178,"column":2},"end":{"line":178,"column":40}}},"24":{"name":"(anonymous_1232)","line":182,"loc":{"start":{"line":182,"column":2},"end":{"line":null,"column":-1}}},"25":{"name":"(anonymous_1233)","line":186,"loc":{"start":{"line":186,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":17,"type":"cond-expr","locations":[{"start":{"line":17,"column":30},"end":{"line":17,"column":72}},{"start":{"line":17,"column":75},"end":{"line":17,"column":84}}]},"2":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":3}},{"start":{"line":19,"column":4},"end":{"line":19,"column":3}}]},"3":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":4},"end":{"line":27,"column":3}},{"start":{"line":27,"column":4},"end":{"line":27,"column":3}}]},"4":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":4},"end":{"line":30,"column":3}},{"start":{"line":30,"column":4},"end":{"line":30,"column":3}}]},"5":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":4},"end":{"line":33,"column":3}},{"start":{"line":33,"column":4},"end":{"line":33,"column":3}}]},"6":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":4},"end":{"line":36,"column":3}},{"start":{"line":36,"column":4},"end":{"line":36,"column":3}}]},"7":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":6},"end":{"line":38,"column":5}},{"start":{"line":38,"column":6},"end":{"line":38,"column":5}}]},"8":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":4},"end":{"line":47,"column":3}},{"start":{"line":47,"column":4},"end":{"line":47,"column":3}}]},"9":{"line":55,"type":"cond-expr","locations":[{"start":{"line":55,"column":19},"end":{"line":55,"column":77}},{"start":{"line":55,"column":80},"end":{"line":55,"column":82}}]},"10":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":55},"end":{"line":58,"column":54}},{"start":{"line":58,"column":55},"end":{"line":58,"column":54}}]},"11":{"line":61,"type":"cond-expr","locations":[{"start":{"line":61,"column":61},"end":{"line":61,"column":108}},{"start":{"line":61,"column":111},"end":{"line":61,"column":138}}]},"12":{"line":63,"type":"cond-expr","locations":[{"start":{"line":63,"column":42},"end":{"line":63,"column":46}},{"start":{"line":63,"column":49},"end":{"line":63,"column":54}}]},"13":{"line":65,"type":"cond-expr","locations":[{"start":{"line":65,"column":27},"end":{"line":65,"column":47}},{"start":{"line":65,"column":50},"end":{"line":65,"column":52}}]},"14":{"line":71,"type":"cond-expr","locations":[{"start":{"line":71,"column":38},"end":{"line":71,"column":69}},{"start":{"line":71,"column":72},"end":{"line":71,"column":103}}]},"15":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":4},"end":{"line":75,"column":3}},{"start":{"line":75,"column":4},"end":{"line":75,"column":3}}]},"16":{"line":75,"type":"binary-expr","locations":[{"start":{"line":75,"column":8},"end":{"line":75,"column":11}},{"start":{"line":75,"column":15},"end":{"line":75,"column":31}}]},"17":{"line":142,"type":"if","locations":[{"start":{"line":142,"column":4},"end":{"line":142,"column":3}},{"start":{"line":142,"column":4},"end":{"line":142,"column":3}}]},"18":{"line":143,"type":"cond-expr","locations":[{"start":{"line":143,"column":50},"end":{"line":143,"column":130}},{"start":{"line":144,"column":8},"end":{"line":144,"column":105}}]},"19":{"line":160,"type":"if","locations":[{"start":{"line":160,"column":4},"end":{"line":160,"column":3}},{"start":{"line":160,"column":4},"end":{"line":160,"column":3}}]},"20":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":11},"end":{"line":162,"column":10}},{"start":{"line":162,"column":11},"end":{"line":162,"column":10}}]},"21":{"line":169,"type":"if","locations":[{"start":{"line":169,"column":4},"end":{"line":169,"column":3}},{"start":{"line":169,"column":4},"end":{"line":169,"column":3}}]},"22":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":8},"end":{"line":169,"column":18}},{"start":{"line":169,"column":22},"end":{"line":169,"column":44}}]},"23":{"line":178,"type":"if","locations":[{"start":{"line":178,"column":31},"end":{"line":178,"column":30}},{"start":{"line":178,"column":31},"end":{"line":178,"column":30}}]},"24":{"line":187,"type":"cond-expr","locations":[{"start":{"line":187,"column":23},"end":{"line":187,"column":27}},{"start":{"line":187,"column":30},"end":{"line":187,"column":35}}]}},"s":{"1":1,"2":2,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1,"39":0,"40":0,"41":1,"42":0,"43":0,"44":0,"45":0,"46":1,"47":0,"48":1,"49":0,"50":1,"51":0,"52":1,"53":0,"54":0,"55":0,"56":0,"57":1,"58":1,"59":2,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":1,"68":1,"69":1,"70":1,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":1,"78":0,"79":0,"80":0,"81":1,"82":0,"83":0,"84":1,"85":0,"86":0,"87":0,"88":0,"89":1,"90":0,"91":0,"92":0,"93":1,"94":0,"95":1,"96":0,"97":0,"98":1,"99":0,"100":1,"101":0,"102":1,"103":1,"104":1,"105":1,"106":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0},"code":"import {IQueryResult} from '../rest/QueryResult';\nimport {l} from '../strings/Strings';\n\nexport interface IMailToOptions {\n  currentUserEmail?: string;\n  originalFrom?: string;\n  to?: string;\n  subject?: string;\n  cc?: string;\n  bcc?: string;\n  body?: string;\n  bodyIsHTML?: boolean;\n}\n\nexport class EmailActionsUtils {\n  static buildMailToString(options: IMailToOptions): string {\n    var mailTo = options.to ? 'mailto:' + encodeURIComponent(options.to) : 'mailto:';\n    var parameters = EmailActionsUtils.buildMailToParametersString(options.subject, options.cc, options.bcc, options.body, mailTo);\n    if (parameters) {\n      mailTo += '?' + parameters;\n    }\n    return mailTo;\n  }\n\n  static buildMailToParametersString(subject: string, cc: string, bcc: string, body: string, mailTo: string): string {\n    var parametersArray = [];\n    if (subject) {\n      parametersArray.push(EmailActionsUtils.buildMailToParameter('subject', subject));\n    }\n    if (cc) {\n      parametersArray.push(EmailActionsUtils.buildMailToParameter('cc', cc));\n    }\n    if (bcc) {\n      parametersArray.push(EmailActionsUtils.buildMailToParameter('bcc', bcc));\n    }\n    if (body) {\n      var shortenBody = EmailActionsUtils.getShortenBody(body, mailTo + '?' + parametersArray.join('&'));\n      if (shortenBody) {\n        parametersArray.push(EmailActionsUtils.buildMailToParameter('body', shortenBody));\n      }\n    }\n    return parametersArray.join('&');\n  }\n\n  static getShortenBody(body: string, mailTo: string) {\n    var shortenBody = body;\n    if (mailTo.length < MailTo.maxLength) {\n      var maxBodyLength = MailTo.maxLength - mailTo.length - '&body='.length;\n      shortenBody = EmailActionsUtils.shortenString(body, maxBodyLength);\n    }\n    return shortenBody;\n  }\n\n  static buildMailToParameter(name: string, param: string): string {\n    return param ? encodeURIComponent(name) + '=' + encodeURIComponent(param) : '';\n  }\n\n  static shortenString(str: string, maxLength: number, encodeShortenBodyIndication: boolean = false): string {\n    /* There is a size limit on mailto url,\n     * Depending on the browser, the mailto will not open if too large. */\n    var shortenBodyIndicator = encodeShortenBodyIndication ? encodeURIComponent(MailTo.shortenBodyIndicator) : MailTo.shortenBodyIndicator;\n    maxLength = maxLength - MailTo.shortenBodyIndicator.length;\n    var sliced = str.length > maxLength ? true : false;\n    var shortenStr = str.substring(0, maxLength);\n    shortenStr += sliced ? shortenBodyIndicator : '';\n    return shortenStr;\n  }\n\n  static appendShortenBodyToMailToString(mailTo: string, body: string): string {\n    var shortenBody = EmailActionsUtils.getShortenBody(body, mailTo);\n    return mailTo.indexOf('?') >= 0 ? mailTo + '&body=' + shortenBody : mailTo + '?body=' + shortenBody;\n  }\n\n  static removeCurrentUserEmailFromString(currentUserEmail: string, str: string): string {\n    if (str && currentUserEmail) {\n      return _.filter<string>(str.split(';'), (email) => {\n        return email.indexOf(currentUserEmail) == -1\n      }).join(';')\n    } else {\n      return str;\n    }\n  }\n\n  static buildReplyMailToFromResult(result: IQueryResult, currentUserEmail: string): MailTo {\n    return new MailTo({\n      currentUserEmail: currentUserEmail,\n      originalFrom: result.raw.from,\n      to: result.raw.from,\n      subject: result.raw.conversationsubject,\n    });\n  }\n\n  static buildReplyAllMailToFromResult(result: IQueryResult, currentUserEmail: string): MailTo {\n    return new MailTo({\n      currentUserEmail: currentUserEmail,\n      originalFrom: result.raw.from,\n      to: result.raw.from + ';' + result.raw.to,\n      subject: result.raw.conversationsubject,\n      cc: result.raw.cc,\n    });\n  }\n\n  static buildForwardMailToFromResult(result: IQueryResult, currentUserEmail: string): MailTo {\n    return new MailTo({\n      currentUserEmail: currentUserEmail,\n      originalFrom: result.raw.from,\n      subject: result.raw.conversationsubject,\n    });\n  }\n\n  static encodeMailToBody(body: string): string {\n    var linesArray = body.split('\\n');\n    _.each(linesArray, (line, index) => {\n      linesArray[index] = encodeURIComponent(linesArray[index]);\n    });\n    return linesArray.join(MailTo.enter);\n  }\n}\n\nexport class DefaultMailToOptions implements IMailToOptions {\n  currentUserEmail: string = '';\n  originalFrom: string = '';\n  to: string = '';\n  subject: string = '';\n  cc: string = '';\n  bcc: string = '';\n  body: string = '';\n}\n\nexport class MailTo {\n  private value: string;\n  private body: string;\n  private bodyHeader: string = '';\n  static enter: string = '%0D%0A'; // \\r\\n\n  static shortenBodyIndicator: string = '\\r\\n\\r\\n...';\n  // Arbitrary numbers :\n  static maxLength: number = 1000;\n\n  constructor(public options?: IMailToOptions) {\n    this.options = _.extend(new DefaultMailToOptions(), options);\n    this.removeCurrentUserFromParameters();\n    if (this.options.originalFrom) {\n      this.bodyHeader = this.options.bodyIsHTML ? '<p><br/><br/><br/>' + l('From') + ': ' + this.options.originalFrom + '<hr></p>' :\n        '\\n\\n\\n' + l('From') + ': ' + this.options.originalFrom + '\\n_________________________________\\n'\n    }\n  }\n\n  private removeCurrentUserFromParameters() {\n    this.options.to = EmailActionsUtils.removeCurrentUserEmailFromString(this.options.currentUserEmail, this.options.to);\n    this.options.cc = EmailActionsUtils.removeCurrentUserEmailFromString(this.options.currentUserEmail, this.options.cc);\n    this.options.bcc = EmailActionsUtils.removeCurrentUserEmailFromString(this.options.currentUserEmail, this.options.bcc);\n  }\n\n  public open() {\n    this.ensureValueIsSet();\n    window.location.href = this.value;\n  }\n\n  private ensureValueIsSet() {\n    if (!this.value) {\n      this.setValue();\n    } else if (!this.valueBodyIsSet()) {\n      this.setValueBody();\n    }\n  }\n\n  private setValue() {\n    this.value = EmailActionsUtils.buildMailToString(this.options);\n    if (this.value && !this.valueBodyIsSet()) {\n      this.setValueBody();\n    }\n  }\n\n  private setValueBody() {\n    this.value = EmailActionsUtils.appendShortenBodyToMailToString(this.value, this.body);\n  }\n\n  public setMailToBodyFromText(text = '') {\n    this.body = text;\n  }\n\n  private valueBodyIsSet() {\n    return this.value.indexOf('body=') >= 0;\n  }\n\n  public bodyIsSet(): boolean {\n    return this.body ? true : false;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/EmailActionsUtils.ts\n **/","l":{"2":1,"15":2,"16":1,"17":0,"18":0,"19":0,"20":0,"22":0,"25":1,"26":0,"27":0,"28":0,"30":0,"31":0,"33":0,"34":0,"36":0,"37":0,"38":0,"39":0,"42":0,"45":1,"46":0,"47":0,"48":0,"49":0,"51":0,"54":1,"55":0,"58":1,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"69":1,"70":0,"71":0,"74":1,"75":0,"76":0,"77":0,"80":0,"84":1,"85":0,"93":1,"94":0,"103":1,"104":0,"111":1,"112":0,"113":0,"114":0,"116":0,"118":1,"120":2,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":1,"130":1,"133":0,"134":1,"135":1,"137":1,"139":1,"140":0,"141":0,"142":0,"143":0,"148":1,"149":0,"150":0,"151":0,"154":1,"155":0,"156":0,"159":1,"160":0,"161":0,"162":0,"163":0,"167":1,"168":0,"169":0,"170":0,"174":1,"175":0,"178":1,"179":0,"182":1,"183":0,"186":1,"187":0,"189":1}},"src/utils/EmailUtils.ts":{"path":"src/utils/EmailUtils.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":30}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":37}},"3":{"start":{"line":4,"column":0},"end":{"line":62,"column":1}},"4":{"start":{"line":5,"column":9},"end":{"line":10,"column":3}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":63}},"6":{"start":{"line":7,"column":4},"end":{"line":9,"column":7}},"7":{"start":{"line":8,"column":6},"end":{"line":8,"column":69}},"8":{"start":{"line":12,"column":9},"end":{"line":40,"column":3}},"9":{"start":{"line":12,"column":94},"end":{"line":12,"column":109}},"10":{"start":{"line":12,"column":111},"end":{"line":12,"column":131}},"11":{"start":{"line":13,"column":4},"end":{"line":15,"column":7}},"12":{"start":{"line":14,"column":6},"end":{"line":14,"column":69}},"13":{"start":{"line":16,"column":4},"end":{"line":36,"column":7}},"14":{"start":{"line":17,"column":6},"end":{"line":17,"column":51}},"15":{"start":{"line":18,"column":6},"end":{"line":18,"column":32}},"16":{"start":{"line":19,"column":6},"end":{"line":19,"column":31}},"17":{"start":{"line":20,"column":6},"end":{"line":22,"column":7}},"18":{"start":{"line":21,"column":8},"end":{"line":21,"column":23}},"19":{"start":{"line":23,"column":6},"end":{"line":28,"column":7}},"20":{"start":{"line":24,"column":8},"end":{"line":24,"column":36}},"21":{"start":{"line":25,"column":8},"end":{"line":27,"column":9}},"22":{"start":{"line":26,"column":10},"end":{"line":26,"column":65}},"23":{"start":{"line":29,"column":6},"end":{"line":29,"column":77}},"24":{"start":{"line":30,"column":6},"end":{"line":30,"column":45}},"25":{"start":{"line":31,"column":6},"end":{"line":33,"column":7}},"26":{"start":{"line":32,"column":8},"end":{"line":32,"column":36}},"27":{"start":{"line":35,"column":6},"end":{"line":35,"column":117}},"28":{"start":{"line":37,"column":4},"end":{"line":37,"column":49}},"29":{"start":{"line":38,"column":4},"end":{"line":38,"column":106}},"30":{"start":{"line":39,"column":4},"end":{"line":39,"column":67}},"31":{"start":{"line":42,"column":9},"end":{"line":45,"column":3}},"32":{"start":{"line":43,"column":4},"end":{"line":44,"column":98}},"33":{"start":{"line":47,"column":9},"end":{"line":61,"column":3}},"34":{"start":{"line":48,"column":4},"end":{"line":48,"column":21}},"35":{"start":{"line":49,"column":4},"end":{"line":49,"column":60}},"36":{"start":{"line":50,"column":4},"end":{"line":59,"column":5}},"37":{"start":{"line":51,"column":6},"end":{"line":51,"column":22}},"38":{"start":{"line":52,"column":6},"end":{"line":54,"column":7}},"39":{"start":{"line":53,"column":8},"end":{"line":53,"column":47}},"40":{"start":{"line":55,"column":6},"end":{"line":55,"column":23}},"41":{"start":{"line":57,"column":6},"end":{"line":57,"column":27}},"42":{"start":{"line":58,"column":6},"end":{"line":58,"column":28}},"43":{"start":{"line":60,"column":4},"end":{"line":60,"column":25}},"44":{"start":{"line":62,"column":0},"end":{"line":62,"column":1}},"45":{"start":{"line":4,"column":13},"end":{"line":62,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1236)","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_1238)","line":5,"loc":{"start":{"line":5,"column":2},"end":{"line":5,"column":70}}},"3":{"name":"(anonymous_1239)","line":7,"loc":{"start":{"line":7,"column":37},"end":{"line":7,"column":47}}},"4":{"name":"(anonymous_1240)","line":12,"loc":{"start":{"line":12,"column":2},"end":{"line":12,"column":131}}},"5":{"name":"(anonymous_1241)","line":13,"loc":{"start":{"line":13,"column":36},"end":{"line":13,"column":46}}},"6":{"name":"(anonymous_1242)","line":16,"loc":{"start":{"line":16,"column":38},"end":{"line":16,"column":43}}},"7":{"name":"(anonymous_1243)","line":42,"loc":{"start":{"line":42,"column":2},"end":{"line":42,"column":64}}},"8":{"name":"(anonymous_1244)","line":47,"loc":{"start":{"line":47,"column":2},"end":{"line":47,"column":33}}}},"branchMap":{"1":{"line":8,"type":"binary-expr","locations":[{"start":{"line":8,"column":13},"end":{"line":8,"column":28}},{"start":{"line":8,"column":32},"end":{"line":8,"column":69}}]},"2":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":94},"end":{"line":12,"column":93}},{"start":{"line":12,"column":94},"end":{"line":12,"column":93}}]},"3":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":111},"end":{"line":12,"column":110}},{"start":{"line":12,"column":111},"end":{"line":12,"column":110}}]},"4":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":13},"end":{"line":14,"column":28}},{"start":{"line":14,"column":32},"end":{"line":14,"column":69}}]},"5":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":6},"end":{"line":20,"column":5}},{"start":{"line":20,"column":6},"end":{"line":20,"column":5}}]},"6":{"line":20,"type":"binary-expr","locations":[{"start":{"line":20,"column":10},"end":{"line":20,"column":26}},{"start":{"line":20,"column":30},"end":{"line":20,"column":41}}]},"7":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":6},"end":{"line":23,"column":5}},{"start":{"line":23,"column":6},"end":{"line":23,"column":5}}]},"8":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":8},"end":{"line":25,"column":7}},{"start":{"line":25,"column":8},"end":{"line":25,"column":7}}]},"9":{"line":29,"type":"cond-expr","locations":[{"start":{"line":29,"column":50},"end":{"line":29,"column":72}},{"start":{"line":29,"column":75},"end":{"line":29,"column":76}}]},"10":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":6},"end":{"line":31,"column":5}},{"start":{"line":31,"column":6},"end":{"line":31,"column":5}}]},"11":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":10},"end":{"line":31,"column":37}},{"start":{"line":31,"column":41},"end":{"line":31,"column":64}}]},"12":{"line":38,"type":"cond-expr","locations":[{"start":{"line":38,"column":33},"end":{"line":38,"column":100}},{"start":{"line":38,"column":103},"end":{"line":38,"column":105}}]},"13":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":4},"end":{"line":50,"column":3}},{"start":{"line":50,"column":4},"end":{"line":50,"column":3}}]},"14":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":6},"end":{"line":52,"column":5}},{"start":{"line":52,"column":6},"end":{"line":52,"column":5}}]}},"s":{"1":1,"2":1,"3":2,"4":1,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1,"32":0,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"code":"import {Utils} from './Utils';\nimport {l} from '../strings/Strings';\n\nexport class EmailUtils {\n  static splitSemicolonSeparatedListOfEmailAddresses(addresses: string): string[] {\n    var addressesAsList: string[] = addresses.split(/\\s*;\\s*/);\n    return _.filter(addressesAsList, (s: string) => {\n      return Utils.exists(s) && Utils.isNonEmptyString(Utils.trim(s))\n    });\n  }\n\n  static emailAddressesToHyperlinks(addresses: string[], companyDomain?: string, me?: string, lengthLimit = 2, truncateName = false): string {\n    addresses = _.filter(addresses, (s: string) => {\n      return Utils.exists(s) && Utils.isNonEmptyString(Utils.trim(s))\n    });\n    var hyperlinks = _.map(addresses, (item) => {\n      var emailArray = EmailUtils.parseEmail(item);\n      var email = emailArray[1];\n      var name = emailArray[0];\n      if (Utils.exists(me) && email == me) {\n        name = l('Me');\n      }\n      if (truncateName) {\n        var split = name.split(' ');\n        if (!Utils.isNullOrUndefined(split[1])) {\n          name = split[0] + ' ' + split[1].substring(0, 1) + '.';\n        }\n      }\n      var domainIndex = email.indexOf('@') >= 0 ? email.indexOf('@') + 1 : 0;\n      var domain = email.substr(domainIndex);\n      if (Utils.exists(companyDomain) && domain != companyDomain) {\n        name += ' (' + domain + ')';\n      }\n\n      return '<a title=\"' + item.replace(/'/g, '&quot;') + 'href=\"mailto:' + encodeURI(email) + '\">' + name + '</a>';\n    });\n    var excess = hyperlinks.length - lengthLimit;\n    var andOthers = excess > 0 ? EmailUtils.buildEmailAddressesAndOthers(_.last(hyperlinks, excess)) : '';\n    return _.first(hyperlinks, lengthLimit).join(', ') + andOthers;\n  }\n\n  static buildEmailAddressesAndOthers(excessHyperLinks: string[]) {\n    return '<span class=\"coveo-emails-excess-collapsed coveo-active\" onclick=\"Coveo.TemplateHelpers.getHelper(\\'excessEmailToggle\\')(this);\"> ' + l('AndOthers', excessHyperLinks.length.toString(), excessHyperLinks.length) + '</span>' +\n      '<span class=\"coveo-emails-excess-expanded\"> , ' + excessHyperLinks.join(' , ') + '</span>';\n  }\n\n  static parseEmail(email: string): string[] {\n    let name: string;\n    let match = (<string>email).match(/^\\s*(.*)\\s+<(.*)>$/);\n    if (match != null) {\n      name = match[1];\n      if (/^'.*'|'.*'$/.test(name)) {\n        name = name.substr(1, name.length - 2);\n      }\n      email = match[2];\n    } else {\n      name = <string>email;\n      email = <string>email;\n    }\n    return [name, email];\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/EmailUtils.ts\n **/","l":{"1":1,"2":1,"4":2,"5":1,"6":0,"7":0,"8":0,"12":1,"13":0,"14":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"23":0,"24":0,"25":0,"26":0,"29":0,"30":0,"31":0,"32":0,"35":0,"37":0,"38":0,"39":0,"42":1,"43":0,"47":1,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"55":0,"57":0,"58":0,"60":0,"62":1}},"src/utils/FeatureDetectionUtils.ts":{"path":"src/utils/FeatureDetectionUtils.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":5,"column":1}},"2":{"start":{"line":2,"column":9},"end":{"line":4,"column":3}},"3":{"start":{"line":3,"column":4},"end":{"line":3,"column":105}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":1}},"5":{"start":{"line":1,"column":13},"end":{"line":5,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1246)","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_1248)","line":2,"loc":{"start":{"line":2,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{},"s":{"1":2,"2":1,"3":0,"4":1,"5":1},"b":{},"f":{"1":1,"2":0},"code":"export class FeatureDetectionUtils {\n  static supportSVG() {\n    return document.implementation.hasFeature('http://www.w3.org/TR/SVG11/feature#BasicStructure', '1.1')\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/FeatureDetectionUtils.ts\n **/","l":{"1":2,"2":1,"3":0,"5":1}},"src/utils/HashUtils.ts":{"path":"src/utils/HashUtils.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":38}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":37}},"3":{"start":{"line":4,"column":0},"end":{"line":204,"column":1}},"4":{"start":{"line":16,"column":16},"end":{"line":24,"column":3}},"5":{"start":{"line":16,"column":24},"end":{"line":16,"column":34}},"6":{"start":{"line":17,"column":4},"end":{"line":17,"column":21}},"7":{"start":{"line":22,"column":4},"end":{"line":22,"column":58}},"8":{"start":{"line":23,"column":4},"end":{"line":23,"column":47}},"9":{"start":{"line":26,"column":16},"end":{"line":35,"column":3}},"10":{"start":{"line":27,"column":4},"end":{"line":27,"column":35}},"11":{"start":{"line":28,"column":4},"end":{"line":28,"column":27}},"12":{"start":{"line":29,"column":4},"end":{"line":29,"column":54}},"13":{"start":{"line":30,"column":4},"end":{"line":30,"column":59}},"14":{"start":{"line":31,"column":4},"end":{"line":33,"column":5}},"15":{"start":{"line":32,"column":6},"end":{"line":32,"column":65}},"16":{"start":{"line":34,"column":4},"end":{"line":34,"column":22}},"17":{"start":{"line":37,"column":16},"end":{"line":54,"column":3}},"18":{"start":{"line":38,"column":4},"end":{"line":38,"column":28}},"19":{"start":{"line":39,"column":4},"end":{"line":51,"column":7}},"20":{"start":{"line":40,"column":6},"end":{"line":40,"column":28}},"21":{"start":{"line":41,"column":6},"end":{"line":47,"column":7}},"22":{"start":{"line":42,"column":8},"end":{"line":42,"column":60}},"23":{"start":{"line":43,"column":13},"end":{"line":47,"column":7}},"24":{"start":{"line":44,"column":8},"end":{"line":44,"column":61}},"25":{"start":{"line":46,"column":8},"end":{"line":46,"column":68}},"26":{"start":{"line":48,"column":6},"end":{"line":50,"column":7}},"27":{"start":{"line":49,"column":8},"end":{"line":49,"column":44}},"28":{"start":{"line":53,"column":4},"end":{"line":53,"column":26}},"29":{"start":{"line":56,"column":17},"end":{"line":62,"column":3}},"30":{"start":{"line":57,"column":4},"end":{"line":61,"column":5}},"31":{"start":{"line":58,"column":6},"end":{"line":58,"column":54}},"32":{"start":{"line":60,"column":6},"end":{"line":60,"column":18}},"33":{"start":{"line":64,"column":17},"end":{"line":87,"column":3}},"34":{"start":{"line":65,"column":4},"end":{"line":65,"column":25}},"35":{"start":{"line":66,"column":4},"end":{"line":66,"column":27}},"36":{"start":{"line":67,"column":4},"end":{"line":67,"column":61}},"37":{"start":{"line":69,"column":4},"end":{"line":69,"column":52}},"38":{"start":{"line":70,"column":4},"end":{"line":70,"column":21}},"39":{"start":{"line":71,"column":4},"end":{"line":71,"column":20}},"40":{"start":{"line":72,"column":4},"end":{"line":72,"column":39}},"41":{"start":{"line":73,"column":4},"end":{"line":85,"column":5}},"42":{"start":{"line":74,"column":6},"end":{"line":74,"column":61}},"43":{"start":{"line":75,"column":6},"end":{"line":84,"column":7}},"44":{"start":{"line":76,"column":8},"end":{"line":76,"column":21}},"45":{"start":{"line":77,"column":8},"end":{"line":77,"column":39}},"46":{"start":{"line":79,"column":8},"end":{"line":79,"column":19}},"47":{"start":{"line":80,"column":8},"end":{"line":83,"column":9}},"48":{"start":{"line":81,"column":10},"end":{"line":81,"column":31}},"49":{"start":{"line":82,"column":10},"end":{"line":82,"column":23}},"50":{"start":{"line":86,"column":4},"end":{"line":86,"column":22}},"51":{"start":{"line":89,"column":17},"end":{"line":100,"column":3}},"52":{"start":{"line":90,"column":4},"end":{"line":90,"column":50}},"53":{"start":{"line":91,"column":4},"end":{"line":91,"column":20}},"54":{"start":{"line":92,"column":4},"end":{"line":98,"column":5}},"55":{"start":{"line":93,"column":6},"end":{"line":93,"column":55}},"56":{"start":{"line":94,"column":11},"end":{"line":98,"column":5}},"57":{"start":{"line":95,"column":6},"end":{"line":95,"column":54}},"58":{"start":{"line":97,"column":6},"end":{"line":97,"column":51}},"59":{"start":{"line":99,"column":4},"end":{"line":99,"column":23}},"60":{"start":{"line":102,"column":17},"end":{"line":110,"column":3}},"61":{"start":{"line":103,"column":4},"end":{"line":109,"column":5}},"62":{"start":{"line":104,"column":6},"end":{"line":104,"column":22}},"63":{"start":{"line":105,"column":11},"end":{"line":109,"column":5}},"64":{"start":{"line":106,"column":6},"end":{"line":106,"column":20}},"65":{"start":{"line":108,"column":6},"end":{"line":108,"column":20}},"66":{"start":{"line":112,"column":17},"end":{"line":114,"column":3}},"67":{"start":{"line":113,"column":4},"end":{"line":113,"column":63}},"68":{"start":{"line":116,"column":17},"end":{"line":118,"column":3}},"69":{"start":{"line":117,"column":4},"end":{"line":117,"column":82}},"70":{"start":{"line":120,"column":17},"end":{"line":122,"column":3}},"71":{"start":{"line":121,"column":4},"end":{"line":121,"column":42}},"72":{"start":{"line":124,"column":17},"end":{"line":126,"column":3}},"73":{"start":{"line":125,"column":4},"end":{"line":125,"column":149}},"74":{"start":{"line":128,"column":17},"end":{"line":130,"column":3}},"75":{"start":{"line":129,"column":4},"end":{"line":129,"column":64}},"76":{"start":{"line":132,"column":17},"end":{"line":134,"column":3}},"77":{"start":{"line":133,"column":4},"end":{"line":133,"column":83}},"78":{"start":{"line":136,"column":17},"end":{"line":138,"column":3}},"79":{"start":{"line":137,"column":4},"end":{"line":137,"column":75}},"80":{"start":{"line":140,"column":17},"end":{"line":142,"column":3}},"81":{"start":{"line":141,"column":4},"end":{"line":141,"column":151}},"82":{"start":{"line":144,"column":17},"end":{"line":148,"column":3}},"83":{"start":{"line":145,"column":4},"end":{"line":145,"column":106}},"84":{"start":{"line":146,"column":4},"end":{"line":146,"column":100}},"85":{"start":{"line":147,"column":4},"end":{"line":147,"column":40}},"86":{"start":{"line":150,"column":17},"end":{"line":154,"column":3}},"87":{"start":{"line":151,"column":4},"end":{"line":151,"column":103}},"88":{"start":{"line":152,"column":4},"end":{"line":152,"column":97}},"89":{"start":{"line":153,"column":4},"end":{"line":153,"column":38}},"90":{"start":{"line":156,"column":16},"end":{"line":161,"column":3}},"91":{"start":{"line":157,"column":4},"end":{"line":159,"column":7}},"92":{"start":{"line":158,"column":6},"end":{"line":158,"column":39}},"93":{"start":{"line":160,"column":4},"end":{"line":160,"column":97}},"94":{"start":{"line":163,"column":16},"end":{"line":168,"column":3}},"95":{"start":{"line":163,"column":2},"end":{"line":168,"column":3}},"96":{"start":{"line":164,"column":4},"end":{"line":166,"column":6}},"97":{"start":{"line":165,"column":6},"end":{"line":165,"column":69}},"98":{"start":{"line":167,"column":4},"end":{"line":167,"column":98}},"99":{"start":{"line":170,"column":17},"end":{"line":182,"column":3}},"100":{"start":{"line":171,"column":4},"end":{"line":171,"column":26}},"101":{"start":{"line":172,"column":4},"end":{"line":180,"column":5}},"102":{"start":{"line":173,"column":6},"end":{"line":173,"column":48}},"103":{"start":{"line":174,"column":11},"end":{"line":180,"column":5}},"104":{"start":{"line":175,"column":6},"end":{"line":175,"column":49}},"105":{"start":{"line":176,"column":11},"end":{"line":180,"column":5}},"106":{"start":{"line":177,"column":6},"end":{"line":177,"column":45}},"107":{"start":{"line":179,"column":6},"end":{"line":179,"column":57}},"108":{"start":{"line":181,"column":4},"end":{"line":181,"column":24}},"109":{"start":{"line":184,"column":17},"end":{"line":190,"column":3}},"110":{"start":{"line":185,"column":4},"end":{"line":188,"column":5}},"111":{"start":{"line":186,"column":6},"end":{"line":186,"column":112}},"112":{"start":{"line":187,"column":6},"end":{"line":187,"column":106}},"113":{"start":{"line":189,"column":4},"end":{"line":189,"column":47}},"114":{"start":{"line":192,"column":17},"end":{"line":203,"column":3}},"115":{"start":{"line":193,"column":4},"end":{"line":196,"column":5}},"116":{"start":{"line":194,"column":6},"end":{"line":194,"column":112}},"117":{"start":{"line":195,"column":6},"end":{"line":195,"column":108}},"118":{"start":{"line":197,"column":4},"end":{"line":197,"column":28}},"119":{"start":{"line":198,"column":4},"end":{"line":198,"column":46}},"120":{"start":{"line":199,"column":4},"end":{"line":199,"column":33}},"121":{"start":{"line":200,"column":4},"end":{"line":202,"column":6}},"122":{"start":{"line":201,"column":6},"end":{"line":201,"column":37}},"123":{"start":{"line":5,"column":17},"end":{"line":14,"column":3}},"124":{"start":{"line":204,"column":0},"end":{"line":204,"column":1}},"125":{"start":{"line":4,"column":13},"end":{"line":204,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1251)","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_1253)","line":16,"loc":{"start":{"line":16,"column":2},"end":{"line":16,"column":34}}},"3":{"name":"(anonymous_1254)","line":26,"loc":{"start":{"line":26,"column":2},"end":{"line":26,"column":55}}},"4":{"name":"(anonymous_1255)","line":37,"loc":{"start":{"line":37,"column":2},"end":{"line":37,"column":39}}},"5":{"name":"(anonymous_1256)","line":39,"loc":{"start":{"line":39,"column":38},"end":{"line":39,"column":63}}},"6":{"name":"(anonymous_1257)","line":56,"loc":{"start":{"line":56,"column":2},"end":{"line":56,"column":50}}},"7":{"name":"(anonymous_1258)","line":64,"loc":{"start":{"line":64,"column":2},"end":{"line":64,"column":59}}},"8":{"name":"(anonymous_1259)","line":89,"loc":{"start":{"line":89,"column":2},"end":{"line":89,"column":59}}},"9":{"name":"(anonymous_1260)","line":102,"loc":{"start":{"line":102,"column":2},"end":{"line":102,"column":48}}},"10":{"name":"(anonymous_1261)","line":112,"loc":{"start":{"line":112,"column":2},"end":{"line":112,"column":53}}},"11":{"name":"(anonymous_1262)","line":116,"loc":{"start":{"line":116,"column":2},"end":{"line":116,"column":50}}},"12":{"name":"(anonymous_1263)","line":120,"loc":{"start":{"line":120,"column":2},"end":{"line":120,"column":51}}},"13":{"name":"(anonymous_1264)","line":124,"loc":{"start":{"line":124,"column":2},"end":{"line":124,"column":48}}},"14":{"name":"(anonymous_1265)","line":128,"loc":{"start":{"line":128,"column":2},"end":{"line":128,"column":54}}},"15":{"name":"(anonymous_1266)","line":132,"loc":{"start":{"line":132,"column":2},"end":{"line":132,"column":51}}},"16":{"name":"(anonymous_1267)","line":136,"loc":{"start":{"line":136,"column":2},"end":{"line":136,"column":52}}},"17":{"name":"(anonymous_1268)","line":140,"loc":{"start":{"line":140,"column":2},"end":{"line":140,"column":49}}},"18":{"name":"(anonymous_1269)","line":144,"loc":{"start":{"line":144,"column":2},"end":{"line":144,"column":39}}},"19":{"name":"(anonymous_1270)","line":150,"loc":{"start":{"line":150,"column":2},"end":{"line":150,"column":38}}},"20":{"name":"(anonymous_1271)","line":156,"loc":{"start":{"line":156,"column":2},"end":{"line":156,"column":43}}},"21":{"name":"(anonymous_1272)","line":157,"loc":{"start":{"line":157,"column":35},"end":{"line":157,"column":41}}},"22":{"name":"(anonymous_1273)","line":163,"loc":{"start":{"line":163,"column":2},"end":{"line":163,"column":40}}},"23":{"name":"(anonymous_1274)","line":164,"loc":{"start":{"line":164,"column":49},"end":{"line":164,"column":65}}},"24":{"name":"(anonymous_1275)","line":170,"loc":{"start":{"line":170,"column":2},"end":{"line":170,"column":37}}},"25":{"name":"(anonymous_1276)","line":184,"loc":{"start":{"line":184,"column":2},"end":{"line":184,"column":41}}},"26":{"name":"(anonymous_1277)","line":192,"loc":{"start":{"line":192,"column":2},"end":{"line":192,"column":42}}},"27":{"name":"(anonymous_1278)","line":200,"loc":{"start":{"line":200,"column":24},"end":{"line":200,"column":28}}}},"branchMap":{"1":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":24},"end":{"line":16,"column":23}},{"start":{"line":16,"column":24},"end":{"line":16,"column":23}}]},"2":{"line":22,"type":"binary-expr","locations":[{"start":{"line":22,"column":21},"end":{"line":22,"column":50}},{"start":{"line":22,"column":54},"end":{"line":22,"column":56}}]},"3":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":4},"end":{"line":31,"column":3}},{"start":{"line":31,"column":4},"end":{"line":31,"column":3}}]},"4":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":6},"end":{"line":41,"column":5}},{"start":{"line":41,"column":6},"end":{"line":41,"column":5}}]},"5":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":13},"end":{"line":43,"column":12}},{"start":{"line":43,"column":13},"end":{"line":43,"column":12}}]},"6":{"line":43,"type":"binary-expr","locations":[{"start":{"line":43,"column":17},"end":{"line":43,"column":42}},{"start":{"line":43,"column":46},"end":{"line":43,"column":90}}]},"7":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":6},"end":{"line":48,"column":5}},{"start":{"line":48,"column":6},"end":{"line":48,"column":5}}]},"8":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":4},"end":{"line":57,"column":3}},{"start":{"line":57,"column":4},"end":{"line":57,"column":3}}]},"9":{"line":57,"type":"binary-expr","locations":[{"start":{"line":57,"column":8},"end":{"line":57,"column":28}},{"start":{"line":57,"column":32},"end":{"line":57,"column":46}}]},"10":{"line":67,"type":"binary-expr","locations":[{"start":{"line":67,"column":17},"end":{"line":67,"column":42}},{"start":{"line":67,"column":46},"end":{"line":67,"column":59}}]},"11":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":6},"end":{"line":75,"column":5}},{"start":{"line":75,"column":6},"end":{"line":75,"column":5}}]},"12":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":8},"end":{"line":80,"column":7}},{"start":{"line":80,"column":8},"end":{"line":80,"column":7}}]},"13":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":4},"end":{"line":92,"column":3}},{"start":{"line":92,"column":4},"end":{"line":92,"column":3}}]},"14":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":11},"end":{"line":94,"column":10}},{"start":{"line":94,"column":11},"end":{"line":94,"column":10}}]},"15":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":4},"end":{"line":103,"column":3}},{"start":{"line":103,"column":4},"end":{"line":103,"column":3}}]},"16":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":11},"end":{"line":105,"column":10}},{"start":{"line":105,"column":11},"end":{"line":105,"column":10}}]},"17":{"line":145,"type":"binary-expr","locations":[{"start":{"line":145,"column":24},"end":{"line":145,"column":64}},{"start":{"line":145,"column":68},"end":{"line":145,"column":105}}]},"18":{"line":146,"type":"binary-expr","locations":[{"start":{"line":146,"column":22},"end":{"line":146,"column":60}},{"start":{"line":146,"column":64},"end":{"line":146,"column":99}}]},"19":{"line":147,"type":"binary-expr","locations":[{"start":{"line":147,"column":11},"end":{"line":147,"column":24}},{"start":{"line":147,"column":28},"end":{"line":147,"column":39}}]},"20":{"line":151,"type":"binary-expr","locations":[{"start":{"line":151,"column":23},"end":{"line":151,"column":62}},{"start":{"line":151,"column":66},"end":{"line":151,"column":102}}]},"21":{"line":152,"type":"binary-expr","locations":[{"start":{"line":152,"column":21},"end":{"line":152,"column":58}},{"start":{"line":152,"column":62},"end":{"line":152,"column":96}}]},"22":{"line":153,"type":"binary-expr","locations":[{"start":{"line":153,"column":11},"end":{"line":153,"column":23}},{"start":{"line":153,"column":27},"end":{"line":153,"column":37}}]},"23":{"line":172,"type":"if","locations":[{"start":{"line":172,"column":4},"end":{"line":172,"column":3}},{"start":{"line":172,"column":4},"end":{"line":172,"column":3}}]},"24":{"line":174,"type":"if","locations":[{"start":{"line":174,"column":11},"end":{"line":174,"column":10}},{"start":{"line":174,"column":11},"end":{"line":174,"column":10}}]},"25":{"line":176,"type":"if","locations":[{"start":{"line":176,"column":11},"end":{"line":176,"column":10}},{"start":{"line":176,"column":11},"end":{"line":176,"column":10}}]},"26":{"line":176,"type":"binary-expr","locations":[{"start":{"line":176,"column":15},"end":{"line":176,"column":30}},{"start":{"line":176,"column":34},"end":{"line":176,"column":50}}]},"27":{"line":185,"type":"if","locations":[{"start":{"line":185,"column":4},"end":{"line":185,"column":3}},{"start":{"line":185,"column":4},"end":{"line":185,"column":3}}]},"28":{"line":185,"type":"binary-expr","locations":[{"start":{"line":185,"column":8},"end":{"line":185,"column":43}},{"start":{"line":185,"column":47},"end":{"line":185,"column":80}}]},"29":{"line":193,"type":"if","locations":[{"start":{"line":193,"column":4},"end":{"line":193,"column":3}},{"start":{"line":193,"column":4},"end":{"line":193,"column":3}}]},"30":{"line":193,"type":"binary-expr","locations":[{"start":{"line":193,"column":8},"end":{"line":193,"column":44}},{"start":{"line":193,"column":48},"end":{"line":193,"column":82}}]}},"s":{"1":1,"2":1,"3":2,"4":1,"5":12,"6":6,"7":6,"8":6,"9":1,"10":6,"11":6,"12":6,"13":6,"14":6,"15":0,"16":6,"17":1,"18":1,"19":1,"20":2,"21":2,"22":1,"23":1,"24":0,"25":1,"26":2,"27":2,"28":1,"29":1,"30":12,"31":0,"32":12,"33":1,"34":6,"35":6,"36":6,"37":6,"38":6,"39":6,"40":6,"41":6,"42":6,"43":6,"44":0,"45":0,"46":6,"47":6,"48":6,"49":6,"50":6,"51":1,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":1,"61":0,"62":0,"63":0,"64":0,"65":0,"66":1,"67":0,"68":1,"69":0,"70":1,"71":0,"72":1,"73":0,"74":1,"75":0,"76":1,"77":0,"78":1,"79":0,"80":1,"81":0,"82":1,"83":0,"84":0,"85":0,"86":1,"87":0,"88":0,"89":0,"90":1,"91":1,"92":3,"93":1,"94":1,"95":0,"96":0,"97":0,"98":0,"99":1,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":1,"110":0,"111":0,"112":0,"113":0,"114":1,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":1,"124":1,"125":1},"b":{"1":[6,0],"2":[6,6],"3":[0,6],"4":[1,1],"5":[0,1],"6":[1,0],"7":[2,0],"8":[0,12],"9":[12,0],"10":[6,0],"11":[0,6],"12":[6,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0]},"f":{"1":1,"2":6,"3":6,"4":1,"5":2,"6":12,"7":6,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":3,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0},"code":"import {Assert} from '../misc/Assert';\nimport {Utils} from '../utils/Utils';\n\nexport class HashUtils {\n  private static DELIMITER = {\n    'objectStart': '{',\n    'objectEnd': '}',\n    'arrayStart': '[',\n    'arrayEnd': ']',\n    'objectStartRegExp': '^{',\n    'objectEndRegExp': '}+$',\n    'arrayStartRegExp': '^[',\n    'arrayEndRegExp': ']+$'\n  }\n\n  public static getHash(w = window): string {\n    Assert.exists(w);\n\n    // window.location.hash returns the DECODED hash on Firefox (it's a well known bug),\n    // so any & in values will be already unescaped. This breaks our value splitting.\n    // The following trick works on all browsers.\n    var ret = '#' + (w.location.href.split('#')[1] || '');\n    return HashUtils.getAjaxcrawlableHash(ret);\n  }\n\n  public static getValue(value: string, toParse: string): any {\n    Assert.isNonEmptyString(value);\n    Assert.exists(toParse);\n    toParse = HashUtils.getAjaxcrawlableHash(toParse);\n    var paramValue = HashUtils.getRawValue(value, toParse);\n    if (paramValue != undefined) {\n      paramValue = HashUtils.getValueDependingOnType(paramValue);\n    }\n    return paramValue;\n  }\n\n  public static encodeValues(values: {}): string {\n    var hash: String[] = [];\n    _.each(<_.Dictionary<any>>values, (valueToEncode, key, obj?) => {\n      var encodedValue = '';\n      if (Utils.isNonEmptyArray(valueToEncode)) {\n        encodedValue = HashUtils.encodeArray(valueToEncode);\n      } else if (_.isObject(valueToEncode) && Utils.isNonEmptyArray(_.keys(valueToEncode))) {\n        encodedValue = HashUtils.encodeObject(valueToEncode);\n      } else {\n        encodedValue = encodeURIComponent(valueToEncode.toString());\n      }\n      if (encodedValue != '') {\n        hash.push(key + '=' + encodedValue);\n      }\n    });\n\n    return hash.join('&');\n  }\n\n  private static getAjaxcrawlableHash(hash: string) {\n    if (hash[1] != undefined && hash[1] == '!') {\n      return hash.substring(0, 1) + hash.substring(2);\n    } else {\n      return hash;\n    }\n  }\n\n  private static getRawValue(value: string, toParse: string): string {\n    Assert.exists(value);\n    Assert.exists(toParse);\n    Assert.check(toParse.indexOf('#') == 0 || toParse == '');\n\n    var toParseArray = toParse.substr(1).split('&');\n    var paramPos = 0;\n    var loop = true;\n    var paramValue: string = undefined;\n    while (loop) {\n      var paramValuePair = toParseArray[paramPos].split('=');\n      if (paramValuePair[0] == value) {\n        loop = false;\n        paramValue = paramValuePair[1];\n      } else {\n        paramPos++;\n        if (paramPos >= toParseArray.length) {\n          paramPos = undefined;\n          loop = false;\n        }\n      }\n    }\n    return paramValue;\n  }\n\n  private static getValueDependingOnType(paramValue: string): any {\n    var type = HashUtils.getValueType(paramValue);\n    var returnValue;\n    if (type == 'object') {\n      returnValue = HashUtils.decodeObject(paramValue);\n    } else if (type == 'array') {\n      returnValue = HashUtils.decodeArray(paramValue);\n    } else {\n      returnValue = decodeURIComponent(paramValue);\n    }\n    return returnValue;\n  }\n\n  private static getValueType(paramValue: string): string {\n    if (HashUtils.isObject(paramValue)) {\n      return 'object';\n    } else if (HashUtils.isArray(paramValue)) {\n      return 'array'\n    } else {\n      return 'other'\n    }\n  }\n\n  private static isArrayStartNotEncoded(value: string) {\n    return value.substr(0, 1) == HashUtils.DELIMITER.arrayStart\n  }\n\n  private static isArrayStartEncoded(value: string) {\n    return value.indexOf(encodeURIComponent(HashUtils.DELIMITER.arrayStart)) == 0;\n  }\n\n  private static isArrayEndNotEncoded(value: string) {\n    return value.substr(value.length - 1);\n  }\n\n  private static isArrayEndEncoded(value: string) {\n    return value.indexOf(encodeURIComponent(HashUtils.DELIMITER.arrayEnd)) == value.length - encodeURIComponent(HashUtils.DELIMITER.arrayEnd).length;\n  }\n\n  private static isObjectStartNotEncoded(value: string) {\n    return value.substr(0, 1) == HashUtils.DELIMITER.objectStart\n  }\n\n  private static isObjectStartEncoded(value: string) {\n    return value.indexOf(encodeURIComponent(HashUtils.DELIMITER.objectStart)) == 0;\n  }\n\n  private static isObjectEndNotEncoded(value: string) {\n    return value.substr(value.length - 1) == HashUtils.DELIMITER.objectEnd;\n  }\n\n  private static isObjectEndEncoded(value: string) {\n    return value.indexOf(encodeURIComponent(HashUtils.DELIMITER.objectEnd)) == value.length - encodeURIComponent(HashUtils.DELIMITER.objectEnd).length;\n  }\n\n  private static isObject(value: string) {\n    var isObjectStart = HashUtils.isObjectStartNotEncoded(value) || HashUtils.isObjectStartEncoded(value);\n    var isObjectEnd = HashUtils.isObjectEndNotEncoded(value) || HashUtils.isObjectEndEncoded(value);\n    return isObjectStart && isObjectEnd;\n  }\n\n  private static isArray(value: string) {\n    var isArrayStart = HashUtils.isArrayStartNotEncoded(value) || HashUtils.isArrayStartEncoded(value);\n    var isArrayEnd = HashUtils.isArrayEndNotEncoded(value) || HashUtils.isArrayEndEncoded(value);\n    return isArrayStart && isArrayEnd;\n  }\n\n  public static encodeArray(array: string[]): string {\n    var arrayReturn = _.map(array, (value) => {\n      return encodeURIComponent(value);\n    });\n    return HashUtils.DELIMITER.arrayStart + arrayReturn.join(',') + HashUtils.DELIMITER.arrayEnd;\n  }\n\n  public static encodeObject(obj: Object): string {\n    var retArray = _.map(<_.Dictionary<any>>obj, (val, key?, obj?) => {\n      return `\"${encodeURIComponent(key)}\":${this.encodeValue(val)}`;\n    })\n    return HashUtils.DELIMITER.objectStart + retArray.join(' , ') + HashUtils.DELIMITER.objectEnd;\n  }\n\n  private static encodeValue(val: any) {\n    var encodedValue = '';\n    if (_.isArray(val)) {\n      encodedValue = HashUtils.encodeArray(val);\n    } else if (_.isObject(val)) {\n      encodedValue = HashUtils.encodeObject(val);\n    } else if (_.isNumber(val) || _.isBoolean(val)) {\n      encodedValue = encodeURIComponent(val);\n    } else {\n      encodedValue = '\"' + encodeURIComponent(val) + '\"';\n    }\n    return encodedValue;\n  }\n\n  private static decodeObject(obj: string): Object {\n    if (HashUtils.isObjectStartEncoded(obj) && HashUtils.isObjectEndEncoded(obj)) {\n      obj = obj.replace(/encodeURIComponent(HashUtils.Delimiter.objectStart)/, HashUtils.DELIMITER.objectStart);\n      obj = obj.replace(encodeURIComponent(HashUtils.DELIMITER.objectEnd), HashUtils.DELIMITER.objectEnd);\n    }\n    return JSON.parse(decodeURIComponent(obj));\n  }\n\n  private static decodeArray(value: string): any[] {\n    if (HashUtils.isArrayStartEncoded(value) && HashUtils.isArrayEndEncoded(value)) {\n      value = value.replace(encodeURIComponent(HashUtils.DELIMITER.arrayStart), HashUtils.DELIMITER.arrayStart);\n      value = value.replace(encodeURIComponent(HashUtils.DELIMITER.arrayEnd), HashUtils.DELIMITER.arrayEnd);\n    }\n    value = value.substr(1);\n    value = value.substr(0, value.length - 1);\n    var array = value.split(',');\n    return _.map(array, (val) => {\n      return decodeURIComponent(val);\n    })\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/HashUtils.ts\n **/","l":{"1":1,"2":1,"4":2,"5":1,"16":12,"17":6,"22":6,"23":6,"26":1,"27":6,"28":6,"29":6,"30":6,"31":6,"32":0,"34":6,"37":1,"38":1,"39":1,"40":2,"41":2,"42":1,"43":1,"44":0,"46":1,"48":2,"49":2,"53":1,"56":1,"57":12,"58":0,"60":12,"64":1,"65":6,"66":6,"67":6,"69":6,"70":6,"71":6,"72":6,"73":6,"74":6,"75":6,"76":0,"77":0,"79":6,"80":6,"81":6,"82":6,"86":6,"89":1,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"97":0,"99":0,"102":1,"103":0,"104":0,"105":0,"106":0,"108":0,"112":1,"113":0,"116":1,"117":0,"120":1,"121":0,"124":1,"125":0,"128":1,"129":0,"132":1,"133":0,"136":1,"137":0,"140":1,"141":0,"144":1,"145":0,"146":0,"147":0,"150":1,"151":0,"152":0,"153":0,"156":1,"157":1,"158":3,"160":1,"163":1,"164":0,"165":0,"167":0,"170":1,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"179":0,"181":0,"184":1,"185":0,"186":0,"187":0,"189":0,"192":1,"193":0,"194":0,"195":0,"197":0,"198":0,"199":0,"200":0,"201":0,"204":1}},"src/utils/HighlightUtils.ts":{"path":"src/utils/HighlightUtils.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":30}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":38}},"3":{"start":{"line":11,"column":0},"end":{"line":205,"column":1}},"4":{"start":{"line":18,"column":9},"end":{"line":46,"column":3}},"5":{"start":{"line":19,"column":4},"end":{"line":19,"column":43}},"6":{"start":{"line":21,"column":4},"end":{"line":23,"column":5}},"7":{"start":{"line":22,"column":6},"end":{"line":22,"column":25}},"8":{"start":{"line":25,"column":4},"end":{"line":25,"column":38}},"9":{"start":{"line":26,"column":4},"end":{"line":29,"column":5}},"10":{"start":{"line":27,"column":6},"end":{"line":27,"column":30}},"11":{"start":{"line":28,"column":6},"end":{"line":28,"column":25}},"12":{"start":{"line":31,"column":4},"end":{"line":31,"column":34}},"13":{"start":{"line":32,"column":4},"end":{"line":41,"column":5}},"14":{"start":{"line":33,"column":6},"end":{"line":37,"column":8}},"15":{"start":{"line":38,"column":6},"end":{"line":38,"column":23}},"16":{"start":{"line":39,"column":6},"end":{"line":39,"column":75}},"17":{"start":{"line":40,"column":6},"end":{"line":40,"column":36}},"18":{"start":{"line":43,"column":4},"end":{"line":43,"column":30}},"19":{"start":{"line":44,"column":4},"end":{"line":44,"column":28}},"20":{"start":{"line":45,"column":4},"end":{"line":45,"column":23}},"21":{"start":{"line":54,"column":9},"end":{"line":106,"column":3}},"22":{"start":{"line":55,"column":4},"end":{"line":55,"column":22}},"23":{"start":{"line":56,"column":4},"end":{"line":56,"column":43}},"24":{"start":{"line":58,"column":4},"end":{"line":61,"column":5}},"25":{"start":{"line":59,"column":6},"end":{"line":59,"column":30}},"26":{"start":{"line":60,"column":6},"end":{"line":60,"column":25}},"27":{"start":{"line":63,"column":4},"end":{"line":63,"column":34}},"28":{"start":{"line":65,"column":4},"end":{"line":65,"column":19}},"29":{"start":{"line":66,"column":4},"end":{"line":70,"column":5}},"30":{"start":{"line":67,"column":6},"end":{"line":67,"column":43}},"31":{"start":{"line":69,"column":6},"end":{"line":69,"column":32}},"32":{"start":{"line":72,"column":4},"end":{"line":89,"column":5}},"33":{"start":{"line":73,"column":6},"end":{"line":73,"column":22}},"34":{"start":{"line":74,"column":6},"end":{"line":74,"column":46}},"35":{"start":{"line":75,"column":6},"end":{"line":78,"column":7}},"36":{"start":{"line":76,"column":8},"end":{"line":76,"column":35}},"37":{"start":{"line":77,"column":8},"end":{"line":77,"column":43}},"38":{"start":{"line":80,"column":6},"end":{"line":88,"column":7}},"39":{"start":{"line":81,"column":8},"end":{"line":81,"column":88}},"40":{"start":{"line":82,"column":8},"end":{"line":86,"column":10}},"41":{"start":{"line":87,"column":8},"end":{"line":87,"column":25}},"42":{"start":{"line":91,"column":4},"end":{"line":101,"column":5}},"43":{"start":{"line":92,"column":6},"end":{"line":92,"column":73}},"44":{"start":{"line":93,"column":6},"end":{"line":93,"column":36}},"45":{"start":{"line":94,"column":6},"end":{"line":94,"column":61}},"46":{"start":{"line":95,"column":6},"end":{"line":99,"column":8}},"47":{"start":{"line":100,"column":6},"end":{"line":100,"column":23}},"48":{"start":{"line":103,"column":4},"end":{"line":103,"column":30}},"49":{"start":{"line":104,"column":4},"end":{"line":104,"column":28}},"50":{"start":{"line":105,"column":4},"end":{"line":105,"column":23}},"51":{"start":{"line":114,"column":9},"end":{"line":149,"column":3}},"52":{"start":{"line":114,"column":46},"end":{"line":114,"column":66}},"53":{"start":{"line":115,"column":4},"end":{"line":115,"column":33}},"54":{"start":{"line":116,"column":4},"end":{"line":116,"column":47}},"55":{"start":{"line":117,"column":4},"end":{"line":117,"column":43}},"56":{"start":{"line":118,"column":4},"end":{"line":121,"column":5}},"57":{"start":{"line":119,"column":6},"end":{"line":119,"column":36}},"58":{"start":{"line":120,"column":6},"end":{"line":120,"column":25}},"59":{"start":{"line":123,"column":4},"end":{"line":126,"column":5}},"60":{"start":{"line":124,"column":6},"end":{"line":124,"column":36}},"61":{"start":{"line":125,"column":6},"end":{"line":125,"column":25}},"62":{"start":{"line":128,"column":4},"end":{"line":128,"column":24}},"63":{"start":{"line":130,"column":4},"end":{"line":130,"column":38}},"64":{"start":{"line":131,"column":4},"end":{"line":131,"column":31}},"65":{"start":{"line":133,"column":4},"end":{"line":138,"column":5}},"66":{"start":{"line":134,"column":6},"end":{"line":134,"column":37}},"67":{"start":{"line":135,"column":6},"end":{"line":137,"column":7}},"68":{"start":{"line":136,"column":8},"end":{"line":136,"column":32}},"69":{"start":{"line":139,"column":4},"end":{"line":139,"column":34}},"70":{"start":{"line":140,"column":4},"end":{"line":144,"column":6}},"71":{"start":{"line":145,"column":4},"end":{"line":145,"column":20}},"72":{"start":{"line":146,"column":4},"end":{"line":146,"column":28}},"73":{"start":{"line":147,"column":4},"end":{"line":147,"column":30}},"74":{"start":{"line":148,"column":4},"end":{"line":148,"column":23}},"75":{"start":{"line":156,"column":9},"end":{"line":204,"column":3}},"76":{"start":{"line":157,"column":4},"end":{"line":157,"column":43}},"77":{"start":{"line":158,"column":4},"end":{"line":161,"column":5}},"78":{"start":{"line":159,"column":6},"end":{"line":159,"column":30}},"79":{"start":{"line":160,"column":6},"end":{"line":160,"column":25}},"80":{"start":{"line":163,"column":4},"end":{"line":163,"column":34}},"81":{"start":{"line":165,"column":4},"end":{"line":165,"column":34}},"82":{"start":{"line":166,"column":4},"end":{"line":168,"column":5}},"83":{"start":{"line":167,"column":6},"end":{"line":167,"column":42}},"84":{"start":{"line":170,"column":4},"end":{"line":187,"column":5}},"85":{"start":{"line":171,"column":6},"end":{"line":171,"column":22}},"86":{"start":{"line":172,"column":6},"end":{"line":172,"column":45}},"87":{"start":{"line":173,"column":6},"end":{"line":176,"column":7}},"88":{"start":{"line":174,"column":8},"end":{"line":174,"column":35}},"89":{"start":{"line":175,"column":8},"end":{"line":175,"column":42}},"90":{"start":{"line":178,"column":6},"end":{"line":186,"column":7}},"91":{"start":{"line":179,"column":8},"end":{"line":179,"column":100}},"92":{"start":{"line":180,"column":8},"end":{"line":184,"column":10}},"93":{"start":{"line":185,"column":8},"end":{"line":185,"column":25}},"94":{"start":{"line":189,"column":4},"end":{"line":199,"column":5}},"95":{"start":{"line":190,"column":6},"end":{"line":190,"column":73}},"96":{"start":{"line":191,"column":6},"end":{"line":191,"column":36}},"97":{"start":{"line":192,"column":6},"end":{"line":192,"column":61}},"98":{"start":{"line":193,"column":6},"end":{"line":197,"column":8}},"99":{"start":{"line":198,"column":6},"end":{"line":198,"column":23}},"100":{"start":{"line":201,"column":4},"end":{"line":201,"column":30}},"101":{"start":{"line":202,"column":4},"end":{"line":202,"column":28}},"102":{"start":{"line":203,"column":4},"end":{"line":203,"column":23}},"103":{"start":{"line":15,"column":9},"end":{"line":15,"column":37}},"104":{"start":{"line":16,"column":9},"end":{"line":16,"column":35}},"105":{"start":{"line":205,"column":0},"end":{"line":205,"column":1}},"106":{"start":{"line":11,"column":13},"end":{"line":205,"column":1}},"107":{"start":{"line":207,"column":0},"end":{"line":280,"column":1}},"108":{"start":{"line":215,"column":9},"end":{"line":279,"column":3}},"109":{"start":{"line":216,"column":4},"end":{"line":216,"column":38}},"110":{"start":{"line":217,"column":4},"end":{"line":217,"column":33}},"111":{"start":{"line":218,"column":4},"end":{"line":218,"column":38}},"112":{"start":{"line":219,"column":4},"end":{"line":221,"column":5}},"113":{"start":{"line":220,"column":6},"end":{"line":220,"column":21}},"114":{"start":{"line":222,"column":4},"end":{"line":222,"column":17}},"115":{"start":{"line":223,"column":4},"end":{"line":223,"column":34}},"116":{"start":{"line":224,"column":4},"end":{"line":224,"column":25}},"117":{"start":{"line":225,"column":4},"end":{"line":274,"column":5}},"118":{"start":{"line":226,"column":6},"end":{"line":226,"column":36}},"119":{"start":{"line":227,"column":6},"end":{"line":227,"column":43}},"120":{"start":{"line":228,"column":6},"end":{"line":228,"column":49}},"121":{"start":{"line":230,"column":6},"end":{"line":255,"column":7}},"122":{"start":{"line":231,"column":8},"end":{"line":231,"column":25}},"123":{"start":{"line":232,"column":8},"end":{"line":251,"column":9}},"124":{"start":{"line":233,"column":10},"end":{"line":233,"column":30}},"125":{"start":{"line":234,"column":10},"end":{"line":234,"column":37}},"126":{"start":{"line":235,"column":10},"end":{"line":235,"column":46}},"127":{"start":{"line":236,"column":10},"end":{"line":250,"column":11}},"128":{"start":{"line":237,"column":12},"end":{"line":237,"column":28}},"129":{"start":{"line":238,"column":17},"end":{"line":250,"column":11}},"130":{"start":{"line":239,"column":12},"end":{"line":239,"column":24}},"131":{"start":{"line":240,"column":12},"end":{"line":240,"column":18}},"132":{"start":{"line":241,"column":17},"end":{"line":250,"column":11}},"133":{"start":{"line":242,"column":12},"end":{"line":242,"column":53}},"134":{"start":{"line":243,"column":12},"end":{"line":243,"column":52}},"135":{"start":{"line":244,"column":17},"end":{"line":250,"column":11}},"136":{"start":{"line":245,"column":12},"end":{"line":245,"column":52}},"137":{"start":{"line":246,"column":17},"end":{"line":250,"column":11}},"138":{"start":{"line":247,"column":12},"end":{"line":247,"column":58}},"139":{"start":{"line":248,"column":12},"end":{"line":248,"column":28}},"140":{"start":{"line":249,"column":12},"end":{"line":249,"column":26}},"141":{"start":{"line":252,"column":8},"end":{"line":254,"column":9}},"142":{"start":{"line":253,"column":10},"end":{"line":253,"column":19}},"143":{"start":{"line":257,"column":6},"end":{"line":259,"column":7}},"144":{"start":{"line":258,"column":8},"end":{"line":258,"column":14}},"145":{"start":{"line":261,"column":6},"end":{"line":261,"column":58}},"146":{"start":{"line":262,"column":6},"end":{"line":262,"column":49}},"147":{"start":{"line":263,"column":6},"end":{"line":265,"column":7}},"148":{"start":{"line":264,"column":8},"end":{"line":264,"column":92}},"149":{"start":{"line":266,"column":6},"end":{"line":268,"column":7}},"150":{"start":{"line":267,"column":8},"end":{"line":267,"column":90}},"151":{"start":{"line":269,"column":6},"end":{"line":269,"column":25}},"152":{"start":{"line":270,"column":6},"end":{"line":270,"column":57}},"153":{"start":{"line":271,"column":6},"end":{"line":271,"column":31}},"154":{"start":{"line":273,"column":6},"end":{"line":273,"column":17}},"155":{"start":{"line":275,"column":4},"end":{"line":277,"column":5}},"156":{"start":{"line":276,"column":6},"end":{"line":276,"column":51}},"157":{"start":{"line":278,"column":4},"end":{"line":278,"column":23}},"158":{"start":{"line":280,"column":0},"end":{"line":280,"column":1}},"159":{"start":{"line":207,"column":13},"end":{"line":280,"column":1}},"160":{"start":{"line":284,"column":0},"end":{"line":299,"column":1}},"161":{"start":{"line":285,"column":2},"end":{"line":294,"column":15}},"162":{"start":{"line":295,"column":2},"end":{"line":297,"column":3}},"163":{"start":{"line":296,"column":4},"end":{"line":296,"column":17}},"164":{"start":{"line":298,"column":2},"end":{"line":298,"column":76}},"165":{"start":{"line":284,"column":16},"end":{"line":299,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1281)","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_1283)","line":18,"loc":{"start":{"line":18,"column":2},"end":{"line":18,"column":59}}},"3":{"name":"(anonymous_1284)","line":54,"loc":{"start":{"line":54,"column":2},"end":{"line":54,"column":52}}},"4":{"name":"(anonymous_1285)","line":114,"loc":{"start":{"line":114,"column":2},"end":{"line":114,"column":85}}},"5":{"name":"(anonymous_1286)","line":156,"loc":{"start":{"line":156,"column":2},"end":{"line":156,"column":47}}},"6":{"name":"(anonymous_1287)","line":207,"loc":{"start":{"line":207,"column":0},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_1289)","line":215,"loc":{"start":{"line":215,"column":2},"end":{"line":215,"column":106}}},"8":{"name":"highlightString","line":284,"loc":{"start":{"line":284,"column":0},"end":{"line":284,"column":61}}}},"branchMap":{"1":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":3}},{"start":{"line":21,"column":4},"end":{"line":21,"column":3}}]},"2":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":4},"end":{"line":26,"column":3}},{"start":{"line":26,"column":4},"end":{"line":26,"column":3}}]},"3":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":4},"end":{"line":58,"column":3}},{"start":{"line":58,"column":4},"end":{"line":58,"column":3}}]},"4":{"line":58,"type":"binary-expr","locations":[{"start":{"line":58,"column":8},"end":{"line":58,"column":38}},{"start":{"line":58,"column":43},"end":{"line":58,"column":63}}]},"5":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":4},"end":{"line":66,"column":3}},{"start":{"line":66,"column":4},"end":{"line":66,"column":3}}]},"6":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":4},"end":{"line":72,"column":3}},{"start":{"line":72,"column":4},"end":{"line":72,"column":3}}]},"7":{"line":75,"type":"binary-expr","locations":[{"start":{"line":75,"column":13},"end":{"line":75,"column":24}},{"start":{"line":75,"column":28},"end":{"line":75,"column":93}}]},"8":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":6},"end":{"line":80,"column":5}},{"start":{"line":80,"column":6},"end":{"line":80,"column":5}}]},"9":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":4},"end":{"line":91,"column":3}},{"start":{"line":91,"column":4},"end":{"line":91,"column":3}}]},"10":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":46},"end":{"line":114,"column":45}},{"start":{"line":114,"column":46},"end":{"line":114,"column":45}}]},"11":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":4},"end":{"line":118,"column":3}},{"start":{"line":118,"column":4},"end":{"line":118,"column":3}}]},"12":{"line":118,"type":"binary-expr","locations":[{"start":{"line":118,"column":8},"end":{"line":118,"column":44}},{"start":{"line":118,"column":48},"end":{"line":118,"column":73}}]},"13":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":4},"end":{"line":123,"column":3}},{"start":{"line":123,"column":4},"end":{"line":123,"column":3}}]},"14":{"line":133,"type":"if","locations":[{"start":{"line":133,"column":4},"end":{"line":133,"column":3}},{"start":{"line":133,"column":4},"end":{"line":133,"column":3}}]},"15":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":6},"end":{"line":135,"column":5}},{"start":{"line":135,"column":6},"end":{"line":135,"column":5}}]},"16":{"line":135,"type":"binary-expr","locations":[{"start":{"line":135,"column":10},"end":{"line":135,"column":20}},{"start":{"line":135,"column":24},"end":{"line":135,"column":70}}]},"17":{"line":158,"type":"if","locations":[{"start":{"line":158,"column":4},"end":{"line":158,"column":3}},{"start":{"line":158,"column":4},"end":{"line":158,"column":3}}]},"18":{"line":158,"type":"binary-expr","locations":[{"start":{"line":158,"column":8},"end":{"line":158,"column":38}},{"start":{"line":158,"column":43},"end":{"line":158,"column":63}}]},"19":{"line":166,"type":"if","locations":[{"start":{"line":166,"column":4},"end":{"line":166,"column":3}},{"start":{"line":166,"column":4},"end":{"line":166,"column":3}}]},"20":{"line":170,"type":"if","locations":[{"start":{"line":170,"column":4},"end":{"line":170,"column":3}},{"start":{"line":170,"column":4},"end":{"line":170,"column":3}}]},"21":{"line":173,"type":"binary-expr","locations":[{"start":{"line":173,"column":13},"end":{"line":173,"column":24}},{"start":{"line":173,"column":28},"end":{"line":173,"column":93}}]},"22":{"line":178,"type":"if","locations":[{"start":{"line":178,"column":6},"end":{"line":178,"column":5}},{"start":{"line":178,"column":6},"end":{"line":178,"column":5}}]},"23":{"line":189,"type":"if","locations":[{"start":{"line":189,"column":4},"end":{"line":189,"column":3}},{"start":{"line":189,"column":4},"end":{"line":189,"column":3}}]},"24":{"line":219,"type":"if","locations":[{"start":{"line":219,"column":4},"end":{"line":219,"column":3}},{"start":{"line":219,"column":4},"end":{"line":219,"column":3}}]},"25":{"line":230,"type":"if","locations":[{"start":{"line":230,"column":6},"end":{"line":230,"column":5}},{"start":{"line":230,"column":6},"end":{"line":230,"column":5}}]},"26":{"line":236,"type":"if","locations":[{"start":{"line":236,"column":10},"end":{"line":236,"column":9}},{"start":{"line":236,"column":10},"end":{"line":236,"column":9}}]},"27":{"line":236,"type":"binary-expr","locations":[{"start":{"line":236,"column":14},"end":{"line":236,"column":31}},{"start":{"line":236,"column":35},"end":{"line":236,"column":51}},{"start":{"line":236,"column":55},"end":{"line":236,"column":68}}]},"28":{"line":238,"type":"if","locations":[{"start":{"line":238,"column":17},"end":{"line":238,"column":16}},{"start":{"line":238,"column":17},"end":{"line":238,"column":16}}]},"29":{"line":238,"type":"binary-expr","locations":[{"start":{"line":238,"column":21},"end":{"line":238,"column":39}},{"start":{"line":238,"column":43},"end":{"line":238,"column":56}}]},"30":{"line":241,"type":"if","locations":[{"start":{"line":241,"column":17},"end":{"line":241,"column":16}},{"start":{"line":241,"column":17},"end":{"line":241,"column":16}}]},"31":{"line":241,"type":"binary-expr","locations":[{"start":{"line":241,"column":21},"end":{"line":241,"column":39}},{"start":{"line":241,"column":43},"end":{"line":241,"column":58}},{"start":{"line":241,"column":62},"end":{"line":241,"column":76}}]},"32":{"line":244,"type":"if","locations":[{"start":{"line":244,"column":17},"end":{"line":244,"column":16}},{"start":{"line":244,"column":17},"end":{"line":244,"column":16}}]},"33":{"line":244,"type":"binary-expr","locations":[{"start":{"line":244,"column":21},"end":{"line":244,"column":38}},{"start":{"line":244,"column":42},"end":{"line":244,"column":56}}]},"34":{"line":246,"type":"if","locations":[{"start":{"line":246,"column":17},"end":{"line":246,"column":16}},{"start":{"line":246,"column":17},"end":{"line":246,"column":16}}]},"35":{"line":252,"type":"if","locations":[{"start":{"line":252,"column":8},"end":{"line":252,"column":7}},{"start":{"line":252,"column":8},"end":{"line":252,"column":7}}]},"36":{"line":252,"type":"binary-expr","locations":[{"start":{"line":252,"column":12},"end":{"line":252,"column":16}},{"start":{"line":252,"column":20},"end":{"line":252,"column":33}}]},"37":{"line":257,"type":"if","locations":[{"start":{"line":257,"column":6},"end":{"line":257,"column":5}},{"start":{"line":257,"column":6},"end":{"line":257,"column":5}}]},"38":{"line":263,"type":"if","locations":[{"start":{"line":263,"column":6},"end":{"line":263,"column":5}},{"start":{"line":263,"column":6},"end":{"line":263,"column":5}}]},"39":{"line":266,"type":"if","locations":[{"start":{"line":266,"column":6},"end":{"line":266,"column":5}},{"start":{"line":266,"column":6},"end":{"line":266,"column":5}}]},"40":{"line":275,"type":"if","locations":[{"start":{"line":275,"column":4},"end":{"line":275,"column":3}},{"start":{"line":275,"column":4},"end":{"line":275,"column":3}}]},"41":{"line":295,"type":"if","locations":[{"start":{"line":295,"column":2},"end":{"line":295,"column":1}},{"start":{"line":295,"column":2},"end":{"line":295,"column":1}}]}},"s":{"1":1,"2":1,"3":2,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":6,"23":6,"24":6,"25":0,"26":0,"27":6,"28":6,"29":6,"30":3,"31":3,"32":6,"33":6,"34":6,"35":6,"36":20,"37":20,"38":6,"39":6,"40":6,"41":6,"42":6,"43":2,"44":2,"45":2,"46":2,"47":2,"48":6,"49":6,"50":6,"51":1,"52":3,"53":3,"54":3,"55":3,"56":3,"57":0,"58":0,"59":3,"60":1,"61":1,"62":2,"63":2,"64":2,"65":2,"66":1,"67":1,"68":1,"69":2,"70":2,"71":2,"72":2,"73":2,"74":2,"75":1,"76":4,"77":4,"78":0,"79":0,"80":4,"81":4,"82":4,"83":4,"84":4,"85":4,"86":4,"87":4,"88":16,"89":16,"90":4,"91":4,"92":4,"93":4,"94":4,"95":3,"96":3,"97":3,"98":3,"99":3,"100":4,"101":4,"102":4,"103":1,"104":1,"105":1,"106":1,"107":2,"108":1,"109":272,"110":272,"111":272,"112":272,"113":0,"114":272,"115":272,"116":272,"117":272,"118":64,"119":64,"120":64,"121":64,"122":19,"123":19,"124":24,"125":24,"126":24,"127":24,"128":2,"129":22,"130":7,"131":7,"132":15,"133":4,"134":4,"135":11,"136":0,"137":11,"138":4,"139":4,"140":4,"141":19,"142":7,"143":57,"144":3,"145":54,"146":54,"147":54,"148":0,"149":54,"150":0,"151":54,"152":54,"153":54,"154":54,"155":272,"156":270,"157":272,"158":1,"159":1,"160":1,"161":0,"162":0,"163":0,"164":0,"165":1},"b":{"1":[0,0],"2":[0,0],"3":[0,6],"4":[6,6],"5":[3,3],"6":[6,0],"7":[26,24],"8":[6,0],"9":[2,4],"10":[0,3],"11":[0,3],"12":[3,3],"13":[1,2],"14":[1,1],"15":[1,0],"16":[1,1],"17":[0,4],"18":[4,4],"19":[4,0],"20":[4,0],"21":[20,16],"22":[4,0],"23":[3,1],"24":[0,272],"25":[19,45],"26":[2,22],"27":[24,9,2],"28":[7,15],"29":[22,15],"30":[4,11],"31":[15,8,4],"32":[0,11],"33":[11,7],"34":[4,7],"35":[7,12],"36":[19,12],"37":[3,54],"38":[0,54],"39":[0,54],"40":[270,2],"41":[0,0]},"f":{"1":14,"2":0,"3":6,"4":3,"5":4,"6":1,"7":272,"8":0},"code":"import {Utils} from './Utils';\nimport {IHighlight} from '../rest/Highlight';\nimport {Assert} from '../misc/Assert';\n\nexport interface IStringHole {\n  begin: number;\n  size: number;\n  replacementSize: number;\n}\n\nexport class StringAndHoles {\n  value: string;\n  holes: IStringHole[];\n\n  static SHORTEN_END: string = '...';\n  static WORD_SHORTER: number = 10;\n\n  static replace(str: string, find: string, replace: string): StringAndHoles {\n    let strAndHoles = new StringAndHoles();\n\n    if (Utils.isNullOrEmptyString(str)) {\n      return strAndHoles;\n    }\n\n    let index = str.lastIndexOf(find);\n    if (index == -1) {\n      strAndHoles.value = str;\n      return strAndHoles;\n    }\n\n    let holes: IStringHole[] = [];\n    while (index >= 0) {\n      let hole = <IStringHole>{\n        begin: index,\n        size: find.length,\n        replacementSize: replace.length\n      };\n      holes.push(hole);\n      str = str.slice(0, index) + replace + str.slice(index + find.length);\n      index = str.lastIndexOf(find);\n    }\n\n    strAndHoles.holes = holes;\n    strAndHoles.value = str;\n    return strAndHoles;\n  }\n\n  /**\n   * Shorten the passed path intelligently (path-aware).\n   * Works with *local paths* and *network paths*\n   * @param uriOrig The path to shorten\n   * @param length The length to which the path will be shortened.\n   */\n  static shortenPath(uriOrig: string, length: number): StringAndHoles {\n    let uri = uriOrig;\n    let strAndHoles = new StringAndHoles();\n\n    if (Utils.isNullOrEmptyString(uri) || (uri.length <= length)) {\n      strAndHoles.value = uri;\n      return strAndHoles;\n    }\n\n    let holes: IStringHole[] = [];\n\n    let first = -1;\n    if (Utils.stringStartsWith(uri, '\\\\\\\\')) {\n      first = uri.indexOf('\\\\', first + 2);\n    } else {\n      first = uri.indexOf('\\\\');\n    }\n\n    if (first !== -1) {\n      let removed = 0;\n      let next = uri.indexOf('\\\\', first + 1);\n      while (next !== -1 && uri.length - removed + StringAndHoles.SHORTEN_END.length > length) {\n        removed = next - first - 1;\n        next = uri.indexOf('\\\\', next + 1);\n      }\n\n      if (removed > 0) {\n        uri = uri.slice(0, first + 1) + StringAndHoles.SHORTEN_END + uri.slice(removed);\n        let hole = <IStringHole>{\n          begin: first + 1,\n          size: removed - StringAndHoles.SHORTEN_END.length,\n          replacementSize: StringAndHoles.SHORTEN_END.length\n        };\n        holes.push(hole);\n      }\n    }\n\n    if (uri.length > length) {\n      let over = uri.length - length + StringAndHoles.SHORTEN_END.length;\n      let start = uri.length - over;\n      uri = uri.slice(0, start) + StringAndHoles.SHORTEN_END;\n      let hole = <IStringHole>{\n        begin: start,\n        size: over,\n        replacementSize: StringAndHoles.SHORTEN_END.length\n      };\n      holes.push(hole);\n    }\n\n    strAndHoles.holes = holes;\n    strAndHoles.value = uri;\n    return strAndHoles;\n  }\n\n  /**\n   * Shorten the passed string.\n   * @param toShortenOrig The string to shorten\n   * @param length The length to which the string will be shortened.\n   * @param toAppend The string to append at the end (usually, it is set to '...')\n   */\n  static shortenString(toShortenOrig: string, length: number = 200, toAppend?: string): StringAndHoles {\n    let toShorten = toShortenOrig\n    toAppend = Utils.toNotNullString(toAppend);\n    let strAndHoles = new StringAndHoles();\n    if (Utils.isNullOrEmptyString(toShorten) || length <= toAppend.length) {\n      strAndHoles.value = toShorten;\n      return strAndHoles;\n    }\n\n    if (toShorten.length <= length) {\n      strAndHoles.value = toShorten;\n      return strAndHoles;\n    }\n\n    let str = toShorten;\n\n    length = length - toAppend.length;\n    str = str.slice(0, length);\n\n    if (toShorten.charAt(str.length) !== ' ') {\n      let pos = str.lastIndexOf(' ');\n      if (pos !== -1 && str.length - pos < StringAndHoles.WORD_SHORTER) {\n        str = str.slice(0, pos);\n      }\n    }\n    let holes: IStringHole[] = [];\n    holes[0] = <IStringHole>{\n      begin: str.length,\n      size: toShorten.length - str.length,\n      replacementSize: toAppend.length\n    };\n    str += toAppend;\n    strAndHoles.value = str;\n    strAndHoles.holes = holes;\n    return strAndHoles;\n  }\n\n  /**\n   * Shorten the passed URI intelligently (path-aware).\n   * @param toShortenOrig The URI to shorten\n   * @param length The length to which the URI will be shortened.\n   */\n  static shortenUri(uri: string, length: number): StringAndHoles {\n    let strAndHoles = new StringAndHoles();\n    if (Utils.isNullOrEmptyString(uri) || (uri.length <= length)) {\n      strAndHoles.value = uri;\n      return strAndHoles;\n    }\n\n    let holes: IStringHole[] = [];\n\n    let first = uri.indexOf('//');\n    if (first !== -1) {\n      first = uri.indexOf('/', first + 2);\n    }\n\n    if (first !== -1) {\n      let removed = 0;\n      let next = uri.indexOf('/', first + 1);\n      while (next !== -1 && uri.length - removed + StringAndHoles.SHORTEN_END.length > length) {\n        removed = next - first - 1;\n        next = uri.indexOf('/', next + 1);\n      }\n\n      if (removed > 0) {\n        uri = uri.slice(0, first + 1) + StringAndHoles.SHORTEN_END + uri.slice(first + 1 + removed);\n        let hole = <IStringHole>{\n          begin: first + 1,\n          size: removed,\n          replacementSize: StringAndHoles.SHORTEN_END.length\n        };\n        holes.push(hole);\n      }\n    }\n\n    if (uri.length > length) {\n      let over = uri.length - length + StringAndHoles.SHORTEN_END.length;\n      let start = uri.length - over;\n      uri = uri.slice(0, start) + StringAndHoles.SHORTEN_END;\n      let hole = <IStringHole>{\n        begin: start,\n        size: over,\n        replacementSize: StringAndHoles.SHORTEN_END.length\n      };\n      holes.push(hole);\n    }\n\n    strAndHoles.holes = holes;\n    strAndHoles.value = uri;\n    return strAndHoles;\n  }\n}\n\nexport class HighlightUtils {\n  /**\n   * Highlight the passed string using specified highlights and holes.\n   * @param content The string to highlight items in.\n   * @param highlights The highlighted positions to highlight in the string.\n   * @param holes Possible holes which are used to skip highlighting.\n   * @param cssClass The css class to use on the highlighting `span`.\n   */\n  static highlightString(content: string, highlights: IHighlight[], holes: IStringHole[], cssClass: string): string {\n    Assert.isNotUndefined(highlights);\n    Assert.isNotNull(highlights);\n    Assert.isNonEmptyString(cssClass);\n    if (Utils.isNullOrEmptyString(content)) {\n      return content;\n    }\n    let last = 0;\n    let maxIndex = content.length;\n    let highlighted = '';\n    for (let i = 0; i < highlights.length; i++) {\n      let highlight = highlights[i];\n      let start: number = highlight.offset;\n      let end: number = start + highlight.length;\n\n      if (holes !== null) {\n        let skip = false;\n        for (let j = 0; j < holes.length; j++) {\n          let hole = holes[j];\n          let holeBegin = hole.begin;\n          let holeEnd = holeBegin + hole.size;\n          if (start < holeBegin && end >= holeBegin && end < holeEnd) {\n            end = holeBegin;\n          } else if (start >= holeBegin && end < holeEnd) {\n            skip = true;\n            break;\n          } else if (start >= holeBegin && start < holeEnd && end >= holeEnd) {\n            start = holeBegin + hole.replacementSize;\n            end -= hole.size - hole.replacementSize;\n          } else if (start < holeBegin && end >= holeEnd) {\n            end -= hole.size - hole.replacementSize;\n          } else if (start >= holeEnd) {\n            let offset = hole.size - hole.replacementSize;\n            start -= offset;\n            end -= offset;\n          }\n        }\n        if (skip || start === end) {\n          continue;\n        }\n      }\n\n      if (end > maxIndex) {\n        break;\n      }\n\n      highlighted += _.escape(content.slice(last, start));\n      highlighted += `<span class=\"${cssClass}\"`;\n      if (highlight.dataHighlightGroup) {\n        highlighted += ` data-highlight-group=\"${highlight.dataHighlightGroup.toString()}\"`;\n      }\n      if (highlight.dataHighlightGroupTerm) {\n        highlighted += ` data-highlight-group-term=\"${highlight.dataHighlightGroupTerm}\"`;\n      }\n      highlighted += '>';\n      highlighted += _.escape(content.slice(start, end));\n      highlighted += '</span>';\n\n      last = end;\n    }\n    if (last != maxIndex) {\n      highlighted += _.escape(content.slice(last));\n    }\n    return highlighted;\n  }\n}\n\n\n\nexport function highlightString(value: string, search: string) {\n  let hightlightTemplate = _.template('<% var i = 0; var lowercaseValue = value.toLowerCase(); while(i < value.length) { %>' +\n    '<% var index = lowercaseValue.indexOf(search, i); if(index != -1) { %>' +\n    '<% if(i != index){ %> <span><%- value.substr(i, index) %></span><% } %>' +\n    '<span class=\"coveo-hightlight\"><%- value.substr(index, search.length) %></span>' +\n    '<% i = index + search.length %></span>' +\n    '<% } else { %>' +\n    '<span><%- value.substr(i) %></span>' +\n    '<% i = value.length; %>' +\n    '<% } %>' +\n    '<% } %>');\n  if (_.isEmpty(search)) {\n    return value;\n  }\n  return hightlightTemplate({ value: value, search: search.toLowerCase() });\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/HighlightUtils.ts\n **/","l":{"1":1,"3":1,"11":2,"15":1,"16":1,"18":1,"19":0,"21":0,"22":0,"25":0,"26":0,"27":0,"28":0,"31":0,"32":0,"33":0,"38":0,"39":0,"40":0,"43":0,"44":0,"45":0,"54":1,"55":6,"56":6,"58":6,"59":0,"60":0,"63":6,"65":6,"66":6,"67":3,"69":3,"72":6,"73":6,"74":6,"75":6,"76":20,"77":20,"80":6,"81":6,"82":6,"87":6,"91":6,"92":2,"93":2,"94":2,"95":2,"100":2,"103":6,"104":6,"105":6,"114":3,"115":3,"116":3,"117":3,"118":3,"119":0,"120":0,"123":3,"124":1,"125":1,"128":2,"130":2,"131":2,"133":2,"134":1,"135":1,"136":1,"139":2,"140":2,"145":2,"146":2,"147":2,"148":2,"156":1,"157":4,"158":4,"159":0,"160":0,"163":4,"165":4,"166":4,"167":4,"170":4,"171":4,"172":4,"173":4,"174":16,"175":16,"178":4,"179":4,"180":4,"185":4,"189":4,"190":3,"191":3,"192":3,"193":3,"198":3,"201":4,"202":4,"203":4,"205":1,"207":2,"215":1,"216":272,"217":272,"218":272,"219":272,"220":0,"222":272,"223":272,"224":272,"225":272,"226":64,"227":64,"228":64,"230":64,"231":19,"232":19,"233":24,"234":24,"235":24,"236":24,"237":2,"238":22,"239":7,"240":7,"241":15,"242":4,"243":4,"244":11,"245":0,"246":11,"247":4,"248":4,"249":4,"252":19,"253":7,"257":57,"258":3,"261":54,"262":54,"263":54,"264":0,"266":54,"267":0,"269":54,"270":54,"271":54,"273":54,"275":272,"276":270,"278":272,"280":1,"284":1,"285":0,"295":0,"296":0,"298":0}},"src/utils/HtmlUtils.ts":{"path":"src/utils/HtmlUtils.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":42}},"2":{"start":{"line":41,"column":0},"end":{"line":51,"column":1}},"3":{"start":{"line":42,"column":9},"end":{"line":50,"column":3}},"4":{"start":{"line":43,"column":4},"end":{"line":43,"column":16}},"5":{"start":{"line":44,"column":4},"end":{"line":48,"column":6}},"6":{"start":{"line":45,"column":6},"end":{"line":47,"column":7}},"7":{"start":{"line":46,"column":8},"end":{"line":46,"column":60}},"8":{"start":{"line":49,"column":4},"end":{"line":49,"column":25}},"9":{"start":{"line":51,"column":0},"end":{"line":51,"column":1}},"10":{"start":{"line":41,"column":13},"end":{"line":51,"column":1}},"11":{"start":{"line":53,"column":0},"end":{"line":64,"column":1}},"12":{"start":{"line":54,"column":9},"end":{"line":63,"column":3}},"13":{"start":{"line":55,"column":4},"end":{"line":55,"column":13}},"14":{"start":{"line":56,"column":4},"end":{"line":61,"column":5}},"15":{"start":{"line":57,"column":6},"end":{"line":57,"column":18}},"16":{"start":{"line":59,"column":6},"end":{"line":59,"column":26}},"17":{"start":{"line":60,"column":6},"end":{"line":60,"column":31}},"18":{"start":{"line":62,"column":4},"end":{"line":62,"column":87}},"19":{"start":{"line":64,"column":0},"end":{"line":64,"column":1}},"20":{"start":{"line":53,"column":13},"end":{"line":64,"column":1}},"21":{"start":{"line":66,"column":0},"end":{"line":112,"column":1}},"22":{"start":{"line":67,"column":9},"end":{"line":72,"column":3}},"23":{"start":{"line":68,"column":4},"end":{"line":68,"column":22}},"24":{"start":{"line":69,"column":4},"end":{"line":69,"column":38}},"25":{"start":{"line":70,"column":4},"end":{"line":70,"column":58}},"26":{"start":{"line":71,"column":4},"end":{"line":71,"column":15}},"27":{"start":{"line":74,"column":9},"end":{"line":76,"column":3}},"28":{"start":{"line":75,"column":4},"end":{"line":75,"column":100}},"29":{"start":{"line":78,"column":9},"end":{"line":85,"column":3}},"30":{"start":{"line":79,"column":4},"end":{"line":79,"column":28}},"31":{"start":{"line":80,"column":4},"end":{"line":80,"column":118}},"32":{"start":{"line":81,"column":4},"end":{"line":83,"column":6}},"33":{"start":{"line":82,"column":6},"end":{"line":82,"column":82}},"34":{"start":{"line":84,"column":4},"end":{"line":84,"column":30}},"35":{"start":{"line":87,"column":9},"end":{"line":96,"column":3}},"36":{"start":{"line":88,"column":4},"end":{"line":95,"column":8}},"37":{"start":{"line":90,"column":8},"end":{"line":90,"column":82}},"38":{"start":{"line":91,"column":8},"end":{"line":91,"column":114}},"39":{"start":{"line":94,"column":8},"end":{"line":94,"column":58}},"40":{"start":{"line":98,"column":9},"end":{"line":111,"column":3}},"41":{"start":{"line":99,"column":4},"end":{"line":99,"column":57}},"42":{"start":{"line":101,"column":4},"end":{"line":101,"column":116}},"43":{"start":{"line":102,"column":4},"end":{"line":109,"column":5}},"44":{"start":{"line":104,"column":6},"end":{"line":104,"column":68}},"45":{"start":{"line":108,"column":6},"end":{"line":108,"column":68}},"46":{"start":{"line":110,"column":4},"end":{"line":110,"column":14}},"47":{"start":{"line":112,"column":0},"end":{"line":112,"column":1}},"48":{"start":{"line":66,"column":13},"end":{"line":112,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1293)","line":41,"loc":{"start":{"line":41,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_1295)","line":42,"loc":{"start":{"line":42,"column":2},"end":{"line":42,"column":42}}},"3":{"name":"(anonymous_1296)","line":44,"loc":{"start":{"line":44,"column":20},"end":{"line":44,"column":49}}},"4":{"name":"(anonymous_1297)","line":53,"loc":{"start":{"line":53,"column":0},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_1299)","line":54,"loc":{"start":{"line":54,"column":2},"end":{"line":54,"column":64}}},"6":{"name":"(anonymous_1300)","line":66,"loc":{"start":{"line":66,"column":0},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_1302)","line":67,"loc":{"start":{"line":67,"column":2},"end":{"line":67,"column":62}}},"8":{"name":"(anonymous_1303)","line":74,"loc":{"start":{"line":74,"column":2},"end":{"line":74,"column":51}}},"9":{"name":"(anonymous_1304)","line":78,"loc":{"start":{"line":78,"column":2},"end":{"line":78,"column":88}}},"10":{"name":"(anonymous_1305)","line":81,"loc":{"start":{"line":81,"column":19},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_1306)","line":87,"loc":{"start":{"line":87,"column":2},"end":{"line":87,"column":88}}},"12":{"name":"(anonymous_1307)","line":89,"loc":{"start":{"line":89,"column":12},"end":{"line":89,"column":21}}},"13":{"name":"(anonymous_1308)","line":93,"loc":{"start":{"line":93,"column":13},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_1309)","line":98,"loc":{"start":{"line":98,"column":2},"end":{"line":98,"column":106}}}},"branchMap":{"1":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":6},"end":{"line":45,"column":5}},{"start":{"line":45,"column":6},"end":{"line":45,"column":5}}]},"2":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":4},"end":{"line":56,"column":3}},{"start":{"line":56,"column":4},"end":{"line":56,"column":3}}]},"3":{"line":56,"type":"binary-expr","locations":[{"start":{"line":56,"column":8},"end":{"line":56,"column":16}},{"start":{"line":56,"column":20},"end":{"line":56,"column":33}}]},"4":{"line":69,"type":"cond-expr","locations":[{"start":{"line":69,"column":17},"end":{"line":69,"column":32}},{"start":{"line":69,"column":35},"end":{"line":69,"column":37}}]},"5":{"line":99,"type":"cond-expr","locations":[{"start":{"line":99,"column":24},"end":{"line":99,"column":31}},{"start":{"line":99,"column":54},"end":{"line":99,"column":56}}]},"6":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":4},"end":{"line":102,"column":3}},{"start":{"line":102,"column":4},"end":{"line":102,"column":3}}]},"7":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":8},"end":{"line":102,"column":26}},{"start":{"line":102,"column":30},"end":{"line":102,"column":52}}]}},"s":{"1":1,"2":2,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":1,"11":2,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":1,"21":2,"22":1,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":0,"37":0,"38":0,"39":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1,"48":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":1,"2":0,"3":0,"4":1,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"code":"import {DeviceUtils} from './DeviceUtils';\nimport {IQueryResult} from '../rest/QueryResult';\nimport {SearchEndpoint} from '../rest/SearchEndpoint';\n\n/**\n * Options for building an `<a>` tag.\n */\nexport interface IAnchorUtilsOptions {\n  /**\n   * The tag's text content.\n   */\n  text?: string;\n  /**\n   * The target (`href` attribute).\n   */\n  target?: string;\n  /**\n   * The CSS class(es) of the tag.\n   */\n  class?: string;\n}\n\n/**\n * Options for building an `<img>` tag.\n */\nexport interface IImageUtilsOptions {\n  /**\n   * The alternative text for the image (`alt` attribute).\n   */\n  alt?: string;\n  /**\n   * The height of the image\n   */\n  height?: string;\n  /**\n   * The width of the image\n   */\n  width?: string;\n}\n\nexport class HTMLUtils {\n  static buildAttributeString(options: any): string {\n    var ret = []\n    _.each(options, (val: any, key?: string, obj?) => {\n      if (val != undefined) {\n        ret.push(key + '=' + JSON.stringify(val.toString()))\n      }\n    })\n    return ret.join(' ');\n  }\n}\n\nexport class AnchorUtils {\n  static buildAnchor(href: string, options?: IAnchorUtilsOptions) {\n    var text;\n    if (!options || !options.text) {\n      text = href;\n    } else {\n      text = options.text;\n      options.text = undefined;\n    }\n    return `<a href='${href} ${HTMLUtils.buildAttributeString(options)} '>${text}</a>`;\n  }\n}\n\nexport class ImageUtils {\n  static buildImage(src?: string, options?: IImageUtilsOptions) {\n    var ret = '<img ';\n    ret += src ? `src='${src}' ` : '';\n    ret += HTMLUtils.buildAttributeString(options) + '/>';\n    return ret;\n  }\n\n  static selectImageFromResult(result: IQueryResult): HTMLElement {\n    return <HTMLElement>document.querySelector(`img[data-coveo-uri-hash=${result.raw['urihash']}]`);\n  }\n\n  static buildImageWithDirectSrcAttribute(endpoint: SearchEndpoint, result: IQueryResult) {\n    var image = new Image();\n    var dataStreamUri = endpoint.getViewAsDatastreamUri(result.uniqueId, '$Thumbnail$', { contentType: 'image/png' });\n    image.onload = () => {\n      ImageUtils.selectImageFromResult(result).setAttribute('src', dataStreamUri);\n    };\n    image.src = dataStreamUri;\n  }\n\n  static buildImageWithBase64SrcAttribute(endpoint: SearchEndpoint, result: IQueryResult) {\n    endpoint.getRawDataStream(result.uniqueId, '$Thumbnail$')\n      .then((response) => {\n        var rawBinary = String.fromCharCode.apply(null, new Uint8Array(response));\n        ImageUtils.selectImageFromResult(result).setAttribute('src', 'data:image/png;base64, ' + btoa(rawBinary));\n      })\n      .catch(() => {\n        ImageUtils.selectImageFromResult(result).remove();\n      })\n  }\n\n  static buildImageFromResult(result: IQueryResult, endpoint: SearchEndpoint, options?: IImageUtilsOptions) {\n    options = options ? options : <IImageUtilsOptions>{};\n\n    let img = ImageUtils.buildImage(undefined, _.extend(options, { 'data-coveo-uri-hash': result.raw['urihash'] }));\n    if (endpoint.isJsonp() || DeviceUtils.isIE8or9()) {\n      // For jsonp and IE8-9 (XDomain) we can't GET/POST for binary data. We are limited to only setting the src attribute directly on the img.\n      ImageUtils.buildImageWithDirectSrcAttribute(endpoint, result);\n    } else {\n      // Base 64 img allows us to GET/POST the image as raw binary, so that we can also pass the credential of the user\n      // Useful for phonegap.\n      ImageUtils.buildImageWithBase64SrcAttribute(endpoint, result);\n    }\n    return img\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/HtmlUtils.ts\n **/","l":{"1":1,"41":2,"42":1,"43":0,"44":0,"45":0,"46":0,"49":0,"51":1,"53":2,"54":1,"55":0,"56":0,"57":0,"59":0,"60":0,"62":0,"64":1,"66":2,"67":1,"68":0,"69":0,"70":0,"71":0,"74":1,"75":0,"78":1,"79":0,"80":0,"81":0,"82":0,"84":0,"87":1,"88":0,"90":0,"91":0,"94":0,"98":1,"99":0,"101":0,"102":0,"104":0,"108":0,"110":0,"112":1}},"src/utils/KeyboardUtils.ts":{"path":"src/utils/KeyboardUtils.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":30}},"2":{"start":{"line":3,"column":0},"end":{"line":21,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":15}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":9}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":12}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":12}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":11}},"8":{"start":{"line":9,"column":2},"end":{"line":9,"column":10}},"9":{"start":{"line":10,"column":2},"end":{"line":10,"column":13}},"10":{"start":{"line":11,"column":2},"end":{"line":11,"column":15}},"11":{"start":{"line":12,"column":2},"end":{"line":12,"column":14}},"12":{"start":{"line":13,"column":2},"end":{"line":13,"column":16}},"13":{"start":{"line":14,"column":2},"end":{"line":14,"column":11}},"14":{"start":{"line":15,"column":2},"end":{"line":15,"column":17}},"15":{"start":{"line":16,"column":2},"end":{"line":16,"column":15}},"16":{"start":{"line":17,"column":2},"end":{"line":17,"column":18}},"17":{"start":{"line":18,"column":2},"end":{"line":18,"column":17}},"18":{"start":{"line":19,"column":2},"end":{"line":19,"column":13}},"19":{"start":{"line":20,"column":2},"end":{"line":20,"column":13}},"20":{"start":{"line":23,"column":0},"end":{"line":70,"column":1}},"21":{"start":{"line":24,"column":9},"end":{"line":31,"column":3}},"22":{"start":{"line":25,"column":4},"end":{"line":29,"column":5}},"23":{"start":{"line":26,"column":6},"end":{"line":26,"column":32}},"24":{"start":{"line":27,"column":11},"end":{"line":29,"column":5}},"25":{"start":{"line":28,"column":6},"end":{"line":28,"column":31}},"26":{"start":{"line":30,"column":4},"end":{"line":30,"column":17}},"27":{"start":{"line":33,"column":9},"end":{"line":46,"column":3}},"28":{"start":{"line":34,"column":4},"end":{"line":34,"column":28}},"29":{"start":{"line":35,"column":4},"end":{"line":43,"column":48}},"30":{"start":{"line":45,"column":4},"end":{"line":45,"column":17}},"31":{"start":{"line":48,"column":9},"end":{"line":50,"column":3}},"32":{"start":{"line":49,"column":4},"end":{"line":49,"column":97}},"33":{"start":{"line":52,"column":9},"end":{"line":54,"column":3}},"34":{"start":{"line":53,"column":4},"end":{"line":53,"column":105}},"35":{"start":{"line":56,"column":9},"end":{"line":61,"column":3}},"36":{"start":{"line":57,"column":4},"end":{"line":60,"column":37}},"37":{"start":{"line":63,"column":9},"end":{"line":65,"column":3}},"38":{"start":{"line":64,"column":4},"end":{"line":64,"column":40}},"39":{"start":{"line":67,"column":9},"end":{"line":69,"column":3}},"40":{"start":{"line":68,"column":4},"end":{"line":68,"column":40}},"41":{"start":{"line":70,"column":0},"end":{"line":70,"column":1}},"42":{"start":{"line":23,"column":13},"end":{"line":70,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1311)","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":20}}},"2":{"name":"(anonymous_1312)","line":23,"loc":{"start":{"line":23,"column":0},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_1314)","line":24,"loc":{"start":{"line":24,"column":2},"end":{"line":24,"column":28}}},"4":{"name":"(anonymous_1315)","line":33,"loc":{"start":{"line":33,"column":2},"end":{"line":33,"column":48}}},"5":{"name":"(anonymous_1316)","line":48,"loc":{"start":{"line":48,"column":2},"end":{"line":48,"column":56}}},"6":{"name":"(anonymous_1317)","line":52,"loc":{"start":{"line":52,"column":2},"end":{"line":52,"column":45}}},"7":{"name":"(anonymous_1318)","line":56,"loc":{"start":{"line":56,"column":2},"end":{"line":56,"column":41}}},"8":{"name":"(anonymous_1319)","line":63,"loc":{"start":{"line":63,"column":2},"end":{"line":63,"column":42}}},"9":{"name":"(anonymous_1320)","line":67,"loc":{"start":{"line":67,"column":2},"end":{"line":67,"column":42}}}},"branchMap":{"1":{"line":3,"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":20}},{"start":{"line":3,"column":12},"end":{"line":3,"column":20}}]},"2":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":4},"end":{"line":25,"column":3}},{"start":{"line":25,"column":4},"end":{"line":25,"column":3}}]},"3":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":11},"end":{"line":27,"column":10}},{"start":{"line":27,"column":11},"end":{"line":27,"column":10}}]},"4":{"line":36,"type":"binary-expr","locations":[{"start":{"line":36,"column":7},"end":{"line":36,"column":47}},{"start":{"line":37,"column":7},"end":{"line":37,"column":20}},{"start":{"line":37,"column":24},"end":{"line":37,"column":37}},{"start":{"line":38,"column":7},"end":{"line":38,"column":47}},{"start":{"line":39,"column":7},"end":{"line":39,"column":19}},{"start":{"line":39,"column":23},"end":{"line":39,"column":36}},{"start":{"line":40,"column":7},"end":{"line":40,"column":20}},{"start":{"line":40,"column":24},"end":{"line":40,"column":37}},{"start":{"line":41,"column":7},"end":{"line":41,"column":20}},{"start":{"line":41,"column":24},"end":{"line":41,"column":37}},{"start":{"line":42,"column":7},"end":{"line":42,"column":36}},{"start":{"line":42,"column":40},"end":{"line":42,"column":66}},{"start":{"line":43,"column":7},"end":{"line":43,"column":46}}]},"5":{"line":49,"type":"binary-expr","locations":[{"start":{"line":49,"column":11},"end":{"line":49,"column":50}},{"start":{"line":49,"column":54},"end":{"line":49,"column":96}}]},"6":{"line":53,"type":"binary-expr","locations":[{"start":{"line":53,"column":11},"end":{"line":53,"column":57}},{"start":{"line":53,"column":61},"end":{"line":53,"column":104}}]},"7":{"line":57,"type":"binary-expr","locations":[{"start":{"line":57,"column":11},"end":{"line":57,"column":41}},{"start":{"line":58,"column":6},"end":{"line":58,"column":34}},{"start":{"line":59,"column":6},"end":{"line":59,"column":37}},{"start":{"line":60,"column":6},"end":{"line":60,"column":36}}]},"8":{"line":64,"type":"binary-expr","locations":[{"start":{"line":64,"column":11},"end":{"line":64,"column":23}},{"start":{"line":64,"column":27},"end":{"line":64,"column":39}}]},"9":{"line":68,"type":"binary-expr","locations":[{"start":{"line":68,"column":11},"end":{"line":68,"column":23}},{"start":{"line":68,"column":27},"end":{"line":68,"column":39}}]}},"s":{"1":1,"2":2,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":2,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":1,"32":0,"33":1,"34":0,"35":1,"36":0,"37":1,"38":0,"39":1,"40":0,"41":1,"42":1},"b":{"1":[1,1],"2":[0,0],"3":[0,0],"4":[0,0,0,0,0,0,0,0,0,0,0,0,0],"5":[0,0],"6":[0,0],"7":[0,0,0,0],"8":[0,0],"9":[0,0]},"f":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"code":"import {Utils} from './Utils';\n\nexport enum KEYBOARD {\n  BACKSPACE = 8,\n  TAB = 9,\n  ENTER = 13,\n  SHIFT = 16,\n  CTRL = 17,\n  ALT = 18,\n  ESCAPE = 27,\n  SPACEBAR = 32,\n  PAGE_UP = 33,\n  PAGE_DOWN = 34,\n  HOME = 36,\n  LEFT_ARROW = 37,\n  UP_ARROW = 38,\n  RIGHT_ARROW = 39,\n  DOWN_ARROW = 40,\n  INSERT = 45,\n  DELETE = 46\n}\n\nexport class KeyboardUtils {\n  static keysEqual(key, code) {\n    if (!Utils.isNullOrUndefined(key.keyCode)) {\n      return key.keyCode == code\n    } else if (!Utils.isNullOrUndefined(key.which)) {\n      return key.which == code;\n    }\n    return false;\n  }\n\n  static isAllowedKeyForOmnibox(e: KeyboardEvent): boolean {\n    var keycode = e.keyCode;\n    var valid =\n      (KeyboardUtils.isNumberKeyPushed(keycode)) ||\n      (keycode == 32 || keycode == 13) || // spacebar & return key(s)\n      (KeyboardUtils.isLetterKeyPushed(keycode)) ||\n      (keycode > 95 && keycode < 112) || // numpad keys\n      (keycode > 185 && keycode < 193) || // ;=,-./` (in order)\n      (keycode > 218 && keycode < 223) || // [\\]' (in order)\n      (keycode == KEYBOARD.BACKSPACE || keycode == KEYBOARD.DELETE) ||\n      (KeyboardUtils.isArrowKeyPushed(keycode));\n\n    return valid;\n  }\n\n  static isAllowedKeyForSearchAsYouType(e: KeyboardEvent): boolean {\n    return KeyboardUtils.isAllowedKeyForOmnibox(e) && !KeyboardUtils.isArrowKeyPushed(e.keyCode);\n  }\n\n  static isDeleteOrBackspace(e: KeyboardEvent) {\n    return KeyboardUtils.keysEqual(e, KEYBOARD.BACKSPACE) || KeyboardUtils.keysEqual(e, KEYBOARD.DELETE);\n  }\n\n  static isArrowKeyPushed(keycode: number): boolean {\n    return keycode == KEYBOARD.LEFT_ARROW ||\n      keycode == KEYBOARD.UP_ARROW ||\n      keycode == KEYBOARD.RIGHT_ARROW ||\n      keycode == KEYBOARD.DOWN_ARROW;\n  }\n\n  static isNumberKeyPushed(keycode: number): boolean {\n    return keycode > 47 && keycode < 58;\n  }\n\n  static isLetterKeyPushed(keycode: number): boolean {\n    return keycode > 64 && keycode < 91;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/KeyboardUtils.ts\n **/","l":{"1":1,"3":2,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"23":2,"24":1,"25":0,"26":0,"27":0,"28":0,"30":0,"33":1,"34":0,"35":0,"45":0,"48":1,"49":0,"52":1,"53":0,"56":1,"57":0,"63":1,"64":0,"67":1,"68":0,"70":1}},"src/utils/LocalStorageUtils.ts":{"path":"src/utils/LocalStorageUtils.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":39}},"2":{"start":{"line":2,"column":0},"end":{"line":45,"column":1}},"3":{"start":{"line":3,"column":2},"end":{"line":4,"column":3}},"4":{"start":{"line":3,"column":21},"end":{"line":3,"column":31}},"5":{"start":{"line":6,"column":9},"end":{"line":13,"column":3}},"6":{"start":{"line":7,"column":4},"end":{"line":12,"column":5}},"7":{"start":{"line":8,"column":6},"end":{"line":10,"column":7}},"8":{"start":{"line":9,"column":8},"end":{"line":9,"column":78}},"9":{"start":{"line":15,"column":9},"end":{"line":25,"column":3}},"10":{"start":{"line":16,"column":4},"end":{"line":24,"column":5}},"11":{"start":{"line":17,"column":6},"end":{"line":19,"column":7}},"12":{"start":{"line":18,"column":8},"end":{"line":18,"column":20}},"13":{"start":{"line":20,"column":6},"end":{"line":20,"column":66}},"14":{"start":{"line":21,"column":6},"end":{"line":21,"column":40}},"15":{"start":{"line":23,"column":6},"end":{"line":23,"column":18}},"16":{"start":{"line":27,"column":9},"end":{"line":40,"column":3}},"17":{"start":{"line":28,"column":4},"end":{"line":39,"column":5}},"18":{"start":{"line":29,"column":6},"end":{"line":37,"column":7}},"19":{"start":{"line":30,"column":8},"end":{"line":36,"column":9}},"20":{"start":{"line":31,"column":10},"end":{"line":31,"column":61}},"21":{"start":{"line":33,"column":10},"end":{"line":33,"column":35}},"22":{"start":{"line":34,"column":10},"end":{"line":34,"column":29}},"23":{"start":{"line":35,"column":10},"end":{"line":35,"column":28}},"24":{"start":{"line":42,"column":10},"end":{"line":44,"column":3}},"25":{"start":{"line":43,"column":4},"end":{"line":43,"column":30}},"26":{"start":{"line":45,"column":0},"end":{"line":45,"column":1}},"27":{"start":{"line":2,"column":13},"end":{"line":45,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1322)","line":2,"loc":{"start":{"line":2,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"LocalStorageUtils","line":3,"loc":{"start":{"line":3,"column":2},"end":{"line":3,"column":31}}},"3":{"name":"(anonymous_1324)","line":6,"loc":{"start":{"line":6,"column":2},"end":{"line":6,"column":21}}},"4":{"name":"(anonymous_1325)","line":15,"loc":{"start":{"line":15,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_1326)","line":27,"loc":{"start":{"line":27,"column":2},"end":{"line":27,"column":28}}},"6":{"name":"(anonymous_1327)","line":42,"loc":{"start":{"line":42,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":6},"end":{"line":8,"column":5}},{"start":{"line":8,"column":6},"end":{"line":8,"column":5}}]},"2":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":6},"end":{"line":17,"column":5}},{"start":{"line":17,"column":6},"end":{"line":17,"column":5}}]},"3":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":13},"end":{"line":21,"column":18}},{"start":{"line":21,"column":22},"end":{"line":21,"column":39}}]},"4":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":6},"end":{"line":29,"column":5}},{"start":{"line":29,"column":6},"end":{"line":29,"column":5}}]},"5":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":8},"end":{"line":30,"column":7}},{"start":{"line":30,"column":8},"end":{"line":30,"column":7}}]}},"s":{"1":1,"2":1,"3":1,"4":252,"5":1,"6":1,"7":1,"8":1,"9":1,"10":121,"11":121,"12":0,"13":121,"14":121,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":122,"26":1,"27":1},"b":{"1":[1,0],"2":[0,121],"3":[121,1],"4":[0,0],"5":[0,0]},"f":{"1":1,"2":252,"3":1,"4":121,"5":0,"6":122},"code":"var localStorage = window.localStorage;\nexport class LocalStorageUtils<T> {\n  constructor(public id: string) {\n  }\n\n  public save(data: T) {\n    try {\n      if (localStorage != null) {\n        localStorage.setItem(this.getLocalStorageKey(), JSON.stringify(data));\n      }\n    } catch (error) {\n    }\n  }\n\n  public load(): T {\n    try {\n      if (localStorage == null) {\n        return null;\n      }\n      var value = localStorage.getItem(this.getLocalStorageKey());\n      return value && JSON.parse(value);\n    } catch (error) {\n      return null;\n    }\n  }\n\n  public remove(key?: string) {\n    try {\n      if (localStorage != null) {\n        if (key == undefined) {\n          localStorage.removeItem(this.getLocalStorageKey());\n        } else {\n          var oldObj = this.load();\n          delete oldObj[key];\n          this.save(oldObj);\n        }\n      }\n    } catch (error) {\n    }\n  }\n\n  private getLocalStorageKey() {\n    return 'coveo-' + this.id;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/LocalStorageUtils.ts\n **/","l":{"1":1,"2":1,"3":252,"6":1,"7":1,"8":1,"9":1,"15":1,"16":121,"17":121,"18":0,"20":121,"21":121,"23":0,"27":1,"28":0,"29":0,"30":0,"31":0,"33":0,"34":0,"35":0,"42":1,"43":122,"45":1}},"src/utils/OSUtils.ts":{"path":"src/utils/OSUtils.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":7,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":9}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":8}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":6}},"5":{"start":{"line":5,"column":2},"end":{"line":5,"column":7}},"6":{"start":{"line":6,"column":2},"end":{"line":6,"column":9}},"7":{"start":{"line":9,"column":0},"end":{"line":25,"column":1}},"8":{"start":{"line":10,"column":9},"end":{"line":24,"column":3}},"9":{"start":{"line":10,"column":13},"end":{"line":10,"column":28}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":15}},"11":{"start":{"line":12,"column":4},"end":{"line":22,"column":5}},"12":{"start":{"line":13,"column":6},"end":{"line":13,"column":31}},"13":{"start":{"line":14,"column":11},"end":{"line":22,"column":5}},"14":{"start":{"line":15,"column":6},"end":{"line":15,"column":30}},"15":{"start":{"line":16,"column":11},"end":{"line":22,"column":5}},"16":{"start":{"line":17,"column":6},"end":{"line":17,"column":28}},"17":{"start":{"line":18,"column":11},"end":{"line":22,"column":5}},"18":{"start":{"line":19,"column":6},"end":{"line":19,"column":28}},"19":{"start":{"line":21,"column":6},"end":{"line":21,"column":30}},"20":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"21":{"start":{"line":25,"column":0},"end":{"line":25,"column":1}},"22":{"start":{"line":9,"column":13},"end":{"line":25,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1329)","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":19}}},"2":{"name":"(anonymous_1330)","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_1332)","line":10,"loc":{"start":{"line":10,"column":2},"end":{"line":10,"column":28}}}},"branchMap":{"1":{"line":1,"type":"binary-expr","locations":[{"start":{"line":1,"column":12},"end":{"line":1,"column":19}},{"start":{"line":1,"column":12},"end":{"line":1,"column":19}}]},"2":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":13},"end":{"line":10,"column":12}},{"start":{"line":10,"column":13},"end":{"line":10,"column":12}}]},"3":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":4},"end":{"line":12,"column":3}},{"start":{"line":12,"column":4},"end":{"line":12,"column":3}}]},"4":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":11},"end":{"line":14,"column":10}},{"start":{"line":14,"column":11},"end":{"line":14,"column":10}}]},"5":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":11},"end":{"line":16,"column":10}},{"start":{"line":16,"column":11},"end":{"line":16,"column":10}}]},"6":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":11},"end":{"line":18,"column":10}},{"start":{"line":18,"column":11},"end":{"line":18,"column":10}}]}},"s":{"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":2,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":1},"b":{"1":[1,1],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":1,"2":1,"3":0},"code":"export enum OS_NAME {\n  WINDOWS,\n  MACOSX,\n  UNIX,\n  LINUX,\n  UNKNOWN\n}\n\nexport class OSUtils {\n  static get(nav = navigator) {\n    var osName;\n    if (nav.appVersion.indexOf('Win') != -1) {\n      osName = OS_NAME.WINDOWS;\n    } else if (nav.appVersion.indexOf('Mac') != -1) {\n      osName = OS_NAME.MACOSX;\n    } else if (nav.appVersion.indexOf('X11') != -1) {\n      osName = OS_NAME.UNIX;\n    } else if (nav.appVersion.indexOf('Linux') != -1) {\n      osName = OS_NAME.LINUX\n    } else {\n      osName = OS_NAME.UNKNOWN\n    }\n    return osName;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/OSUtils.ts\n **/","l":{"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"9":2,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"21":0,"23":0,"25":1}},"src/utils/PopupUtils.ts":{"path":"src/utils/PopupUtils.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":33}},"2":{"start":{"line":11,"column":0},"end":{"line":17,"column":1}},"3":{"start":{"line":12,"column":2},"end":{"line":12,"column":5}},"4":{"start":{"line":13,"column":2},"end":{"line":13,"column":8}},"5":{"start":{"line":14,"column":2},"end":{"line":14,"column":8}},"6":{"start":{"line":15,"column":2},"end":{"line":15,"column":10}},"7":{"start":{"line":16,"column":2},"end":{"line":16,"column":13}},"8":{"start":{"line":19,"column":0},"end":{"line":25,"column":1}},"9":{"start":{"line":20,"column":2},"end":{"line":20,"column":6}},"10":{"start":{"line":21,"column":2},"end":{"line":21,"column":8}},"11":{"start":{"line":22,"column":2},"end":{"line":22,"column":7}},"12":{"start":{"line":23,"column":2},"end":{"line":23,"column":11}},"13":{"start":{"line":24,"column":2},"end":{"line":24,"column":12}},"14":{"start":{"line":34,"column":0},"end":{"line":175,"column":1}},"15":{"start":{"line":35,"column":9},"end":{"line":68,"column":3}},"16":{"start":{"line":35,"column":139},"end":{"line":35,"column":159}},"17":{"start":{"line":36,"column":4},"end":{"line":36,"column":38}},"18":{"start":{"line":37,"column":4},"end":{"line":39,"column":5}},"19":{"start":{"line":38,"column":6},"end":{"line":38,"column":33}},"20":{"start":{"line":40,"column":4},"end":{"line":40,"column":105}},"21":{"start":{"line":41,"column":4},"end":{"line":41,"column":111}},"22":{"start":{"line":43,"column":4},"end":{"line":43,"column":44}},"23":{"start":{"line":44,"column":4},"end":{"line":44,"column":85}},"24":{"start":{"line":45,"column":4},"end":{"line":45,"column":87}},"25":{"start":{"line":46,"column":4},"end":{"line":46,"column":91}},"26":{"start":{"line":48,"column":4},"end":{"line":48,"column":54}},"27":{"start":{"line":49,"column":4},"end":{"line":49,"column":60}},"28":{"start":{"line":50,"column":4},"end":{"line":67,"column":5}},"29":{"start":{"line":51,"column":6},"end":{"line":51,"column":92}},"30":{"start":{"line":52,"column":6},"end":{"line":62,"column":7}},"31":{"start":{"line":53,"column":8},"end":{"line":53,"column":38}},"32":{"start":{"line":54,"column":8},"end":{"line":56,"column":9}},"33":{"start":{"line":55,"column":10},"end":{"line":55,"column":62}},"34":{"start":{"line":57,"column":8},"end":{"line":59,"column":9}},"35":{"start":{"line":58,"column":10},"end":{"line":58,"column":64}},"36":{"start":{"line":60,"column":8},"end":{"line":60,"column":41}},"37":{"start":{"line":61,"column":8},"end":{"line":61,"column":40}},"38":{"start":{"line":63,"column":6},"end":{"line":66,"column":7}},"39":{"start":{"line":64,"column":8},"end":{"line":64,"column":96}},"40":{"start":{"line":65,"column":8},"end":{"line":65,"column":110}},"41":{"start":{"line":70,"column":17},"end":{"line":74,"column":3}},"42":{"start":{"line":71,"column":4},"end":{"line":71,"column":40}},"43":{"start":{"line":72,"column":4},"end":{"line":72,"column":117}},"44":{"start":{"line":73,"column":4},"end":{"line":73,"column":122}},"45":{"start":{"line":76,"column":17},"end":{"line":94,"column":3}},"46":{"start":{"line":77,"column":4},"end":{"line":93,"column":5}},"47":{"start":{"line":79,"column":8},"end":{"line":79,"column":48}},"48":{"start":{"line":80,"column":8},"end":{"line":80,"column":14}},"49":{"start":{"line":82,"column":8},"end":{"line":82,"column":49}},"50":{"start":{"line":83,"column":8},"end":{"line":83,"column":14}},"51":{"start":{"line":85,"column":8},"end":{"line":85,"column":52}},"52":{"start":{"line":87,"column":8},"end":{"line":87,"column":14}},"53":{"start":{"line":89,"column":8},"end":{"line":89,"column":70}},"54":{"start":{"line":90,"column":8},"end":{"line":90,"column":14}},"55":{"start":{"line":92,"column":8},"end":{"line":92,"column":14}},"56":{"start":{"line":96,"column":17},"end":{"line":115,"column":3}},"57":{"start":{"line":97,"column":4},"end":{"line":114,"column":5}},"58":{"start":{"line":99,"column":8},"end":{"line":99,"column":48}},"59":{"start":{"line":100,"column":8},"end":{"line":100,"column":14}},"60":{"start":{"line":102,"column":8},"end":{"line":102,"column":49}},"61":{"start":{"line":103,"column":8},"end":{"line":103,"column":14}},"62":{"start":{"line":105,"column":8},"end":{"line":105,"column":76}},"63":{"start":{"line":106,"column":8},"end":{"line":106,"column":14}},"64":{"start":{"line":108,"column":8},"end":{"line":108,"column":14}},"65":{"start":{"line":110,"column":8},"end":{"line":110,"column":69}},"66":{"start":{"line":111,"column":8},"end":{"line":111,"column":14}},"67":{"start":{"line":113,"column":8},"end":{"line":113,"column":14}},"68":{"start":{"line":117,"column":17},"end":{"line":132,"column":3}},"69":{"start":{"line":118,"column":4},"end":{"line":118,"column":41}},"70":{"start":{"line":119,"column":4},"end":{"line":121,"column":5}},"71":{"start":{"line":120,"column":6},"end":{"line":120,"column":64}},"72":{"start":{"line":122,"column":4},"end":{"line":124,"column":5}},"73":{"start":{"line":123,"column":6},"end":{"line":123,"column":63}},"74":{"start":{"line":125,"column":4},"end":{"line":127,"column":5}},"75":{"start":{"line":126,"column":6},"end":{"line":126,"column":61}},"76":{"start":{"line":128,"column":4},"end":{"line":130,"column":5}},"77":{"start":{"line":129,"column":6},"end":{"line":129,"column":58}},"78":{"start":{"line":131,"column":4},"end":{"line":131,"column":30}},"79":{"start":{"line":134,"column":17},"end":{"line":136,"column":3}},"80":{"start":{"line":135,"column":4},"end":{"line":135,"column":56}},"81":{"start":{"line":138,"column":17},"end":{"line":154,"column":3}},"82":{"start":{"line":139,"column":4},"end":{"line":139,"column":46}},"83":{"start":{"line":140,"column":4},"end":{"line":140,"column":24}},"84":{"start":{"line":141,"column":4},"end":{"line":147,"column":5}},"85":{"start":{"line":142,"column":6},"end":{"line":142,"column":77}},"86":{"start":{"line":143,"column":11},"end":{"line":147,"column":5}},"87":{"start":{"line":144,"column":6},"end":{"line":144,"column":99}},"88":{"start":{"line":146,"column":6},"end":{"line":146,"column":45}},"89":{"start":{"line":148,"column":4},"end":{"line":153,"column":5}},"90":{"start":{"line":156,"column":17},"end":{"line":174,"column":3}},"91":{"start":{"line":157,"column":4},"end":{"line":160,"column":5}},"92":{"start":{"line":161,"column":4},"end":{"line":163,"column":5}},"93":{"start":{"line":162,"column":6},"end":{"line":162,"column":27}},"94":{"start":{"line":164,"column":4},"end":{"line":166,"column":5}},"95":{"start":{"line":165,"column":6},"end":{"line":165,"column":30}},"96":{"start":{"line":167,"column":4},"end":{"line":169,"column":5}},"97":{"start":{"line":168,"column":6},"end":{"line":168,"column":30}},"98":{"start":{"line":170,"column":4},"end":{"line":172,"column":5}},"99":{"start":{"line":171,"column":6},"end":{"line":171,"column":31}},"100":{"start":{"line":173,"column":4},"end":{"line":173,"column":15}},"101":{"start":{"line":175,"column":0},"end":{"line":175,"column":1}},"102":{"start":{"line":34,"column":13},"end":{"line":175,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1334)","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":29}}},"2":{"name":"(anonymous_1335)","line":19,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":31}}},"3":{"name":"(anonymous_1336)","line":34,"loc":{"start":{"line":34,"column":0},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_1338)","line":35,"loc":{"start":{"line":35,"column":2},"end":{"line":35,"column":159}}},"5":{"name":"(anonymous_1339)","line":70,"loc":{"start":{"line":70,"column":2},"end":{"line":70,"column":126}}},"6":{"name":"(anonymous_1340)","line":76,"loc":{"start":{"line":76,"column":2},"end":{"line":76,"column":131}}},"7":{"name":"(anonymous_1341)","line":96,"loc":{"start":{"line":96,"column":2},"end":{"line":96,"column":133}}},"8":{"name":"(anonymous_1342)","line":117,"loc":{"start":{"line":117,"column":2},"end":{"line":117,"column":74}}},"9":{"name":"(anonymous_1343)","line":134,"loc":{"start":{"line":134,"column":2},"end":{"line":134,"column":76}}},"10":{"name":"(anonymous_1344)","line":138,"loc":{"start":{"line":138,"column":2},"end":{"line":138,"column":49}}},"11":{"name":"(anonymous_1345)","line":156,"loc":{"start":{"line":156,"column":2},"end":{"line":156,"column":98}}}},"branchMap":{"1":{"line":11,"type":"binary-expr","locations":[{"start":{"line":11,"column":12},"end":{"line":11,"column":29}},{"start":{"line":11,"column":12},"end":{"line":11,"column":29}}]},"2":{"line":19,"type":"binary-expr","locations":[{"start":{"line":19,"column":12},"end":{"line":19,"column":31}},{"start":{"line":19,"column":12},"end":{"line":19,"column":31}}]},"3":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":139},"end":{"line":35,"column":138}},{"start":{"line":35,"column":139},"end":{"line":35,"column":138}}]},"4":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":4},"end":{"line":37,"column":3}},{"start":{"line":37,"column":4},"end":{"line":37,"column":3}}]},"5":{"line":40,"type":"cond-expr","locations":[{"start":{"line":40,"column":70},"end":{"line":40,"column":100}},{"start":{"line":40,"column":103},"end":{"line":40,"column":104}}]},"6":{"line":41,"type":"cond-expr","locations":[{"start":{"line":41,"column":74},"end":{"line":41,"column":106}},{"start":{"line":41,"column":109},"end":{"line":41,"column":110}}]},"7":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":4},"end":{"line":50,"column":3}},{"start":{"line":50,"column":4},"end":{"line":50,"column":3}}]},"8":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":6},"end":{"line":52,"column":5}},{"start":{"line":52,"column":6},"end":{"line":52,"column":5}}]},"9":{"line":52,"type":"binary-expr","locations":[{"start":{"line":52,"column":10},"end":{"line":52,"column":42}},{"start":{"line":52,"column":46},"end":{"line":52,"column":85}}]},"10":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":8},"end":{"line":54,"column":7}},{"start":{"line":54,"column":8},"end":{"line":54,"column":7}}]},"11":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":8},"end":{"line":57,"column":7}},{"start":{"line":57,"column":8},"end":{"line":57,"column":7}}]},"12":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":6},"end":{"line":63,"column":5}},{"start":{"line":63,"column":6},"end":{"line":63,"column":5}}]},"13":{"line":63,"type":"binary-expr","locations":[{"start":{"line":63,"column":10},"end":{"line":63,"column":40}},{"start":{"line":63,"column":44},"end":{"line":63,"column":76}}]},"14":{"line":78,"type":"switch","locations":[{"start":{"line":78,"column":6},"end":{"line":80,"column":14}},{"start":{"line":81,"column":6},"end":{"line":83,"column":14}},{"start":{"line":84,"column":6},"end":{"line":85,"column":52}},{"start":{"line":86,"column":6},"end":{"line":87,"column":14}},{"start":{"line":88,"column":6},"end":{"line":90,"column":14}},{"start":{"line":91,"column":6},"end":{"line":92,"column":14}}]},"15":{"line":98,"type":"switch","locations":[{"start":{"line":98,"column":6},"end":{"line":100,"column":14}},{"start":{"line":101,"column":6},"end":{"line":103,"column":14}},{"start":{"line":104,"column":6},"end":{"line":106,"column":14}},{"start":{"line":107,"column":6},"end":{"line":108,"column":14}},{"start":{"line":109,"column":6},"end":{"line":111,"column":14}},{"start":{"line":112,"column":6},"end":{"line":113,"column":14}}]},"16":{"line":119,"type":"if","locations":[{"start":{"line":119,"column":4},"end":{"line":119,"column":3}},{"start":{"line":119,"column":4},"end":{"line":119,"column":3}}]},"17":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":4},"end":{"line":122,"column":3}},{"start":{"line":122,"column":4},"end":{"line":122,"column":3}}]},"18":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":4},"end":{"line":125,"column":3}},{"start":{"line":125,"column":4},"end":{"line":125,"column":3}}]},"19":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":4},"end":{"line":128,"column":3}},{"start":{"line":128,"column":4},"end":{"line":128,"column":3}}]},"20":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":4},"end":{"line":141,"column":3}},{"start":{"line":141,"column":4},"end":{"line":141,"column":3}}]},"21":{"line":143,"type":"if","locations":[{"start":{"line":143,"column":11},"end":{"line":143,"column":10}},{"start":{"line":143,"column":11},"end":{"line":143,"column":10}}]},"22":{"line":161,"type":"if","locations":[{"start":{"line":161,"column":4},"end":{"line":161,"column":3}},{"start":{"line":161,"column":4},"end":{"line":161,"column":3}}]},"23":{"line":164,"type":"if","locations":[{"start":{"line":164,"column":4},"end":{"line":164,"column":3}},{"start":{"line":164,"column":4},"end":{"line":164,"column":3}}]},"24":{"line":167,"type":"if","locations":[{"start":{"line":167,"column":4},"end":{"line":167,"column":3}},{"start":{"line":167,"column":4},"end":{"line":167,"column":3}}]},"25":{"line":170,"type":"if","locations":[{"start":{"line":170,"column":4},"end":{"line":170,"column":3}},{"start":{"line":170,"column":4},"end":{"line":170,"column":3}}]}},"s":{"1":1,"2":2,"3":1,"4":1,"5":1,"6":1,"7":1,"8":2,"9":1,"10":1,"11":1,"12":1,"13":1,"14":2,"15":1,"16":14,"17":7,"18":7,"19":5,"20":7,"21":7,"22":7,"23":7,"24":7,"25":7,"26":7,"27":7,"28":7,"29":7,"30":7,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":7,"39":0,"40":0,"41":1,"42":7,"43":7,"44":7,"45":1,"46":7,"47":0,"48":0,"49":7,"50":7,"51":0,"52":0,"53":0,"54":0,"55":0,"56":1,"57":7,"58":0,"59":0,"60":0,"61":0,"62":2,"63":2,"64":1,"65":4,"66":4,"67":0,"68":1,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":1,"80":2,"81":1,"82":14,"83":14,"84":14,"85":0,"86":14,"87":0,"88":14,"89":14,"90":1,"91":7,"92":7,"93":0,"94":7,"95":0,"96":7,"97":0,"98":7,"99":0,"100":7,"101":1,"102":1},"b":{"1":[1,1],"2":[1,1],"3":[7,0],"4":[5,2],"5":[4,3],"6":[0,7],"7":[7,0],"8":[0,7],"9":[7,0],"10":[0,0],"11":[0,0],"12":[0,7],"13":[7,7],"14":[0,7,0,0,0,0],"15":[0,0,2,1,4,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,14],"21":[0,14],"22":[0,7],"23":[0,7],"24":[0,7],"25":[0,7]},"f":{"1":1,"2":1,"3":1,"4":7,"5":7,"6":7,"7":7,"8":0,"9":2,"10":14,"11":7},"code":"import {$$, IOffset} from './Dom'\n\nexport interface IPosition {\n  vertical: VerticalAlignment;\n  horizontal: HorizontalAlignment;\n  verticalOffset?: number;\n  horizontalOffset?: number;\n  horizontalClip?: boolean;\n}\n\nexport enum VerticalAlignment {\n  TOP,\n  MIDDLE,\n  BOTTOM,\n  INNERTOP,\n  INNERBOTTOM\n}\n\nexport enum HorizontalAlignment {\n  LEFT,\n  CENTER,\n  RIGHT,\n  INNERLEFT,\n  INNERRIGHT\n}\n\ninterface IElementBoundary {\n  top: number;\n  left: number;\n  right: number;\n  bottom: number;\n}\n\nexport class PopupUtils {\n  static positionPopup(popUp: HTMLElement, nextTo: HTMLElement, boundary: HTMLElement, desiredPosition: IPosition, appendTo?: HTMLElement, checkForBoundary = 0) {\n    popUp.style.position = 'absolute';\n    if (appendTo) {\n      $$(appendTo).append(popUp);\n    }\n    desiredPosition.verticalOffset = desiredPosition.verticalOffset ? desiredPosition.verticalOffset : 0;\n    desiredPosition.horizontalOffset = desiredPosition.horizontalOffset ? desiredPosition.horizontalOffset : 0;\n\n    let popUpPosition = $$(nextTo).offset();\n    PopupUtils.basicVerticalAlignment(popUpPosition, popUp, nextTo, desiredPosition);\n    PopupUtils.basicHorizontalAlignment(popUpPosition, popUp, nextTo, desiredPosition);\n    PopupUtils.finalAdjustement($$(popUp).offset(), popUpPosition, popUp, desiredPosition);\n\n    let popUpBoundary = PopupUtils.getBoundary(popUp);\n    let boundaryPosition = PopupUtils.getBoundary(boundary);\n    if (checkForBoundary < 2) {\n      let checkBoundary = PopupUtils.checkForOutOfBoundary(popUpBoundary, boundaryPosition);\n      if (checkBoundary.horizontal != 'ok' && desiredPosition.horizontalClip === true) {\n        let width = popUp.offsetWidth;\n        if (popUpBoundary.left < boundaryPosition.left) {\n          width -= boundaryPosition.left - popUpBoundary.left;\n        }\n        if (popUpBoundary.right > boundaryPosition.right) {\n          width -= popUpBoundary.right - boundaryPosition.right;\n        }\n        popUp.style.width = width + 'px';\n        checkBoundary.horizontal = 'ok';\n      }\n      if (checkBoundary.vertical != 'ok' || checkBoundary.horizontal != 'ok') {\n        let newDesiredPosition = PopupUtils.alignInsideBoundary(desiredPosition, checkBoundary);\n        PopupUtils.positionPopup(popUp, nextTo, boundary, newDesiredPosition, appendTo, checkForBoundary + 1);\n      }\n    }\n  }\n\n  private static finalAdjustement(popUpOffSet: IOffset, popUpPosition: IOffset, popUp: HTMLElement, desiredPosition: IPosition) {\n    let position = $$(popUp).position();\n    popUp.style.top = (position.top + desiredPosition.verticalOffset) - (popUpOffSet.top - popUpPosition.top) + 'px';\n    popUp.style.left = (position.left + desiredPosition.horizontalOffset) - (popUpOffSet.left - popUpPosition.left) + 'px'\n  }\n\n  private static basicVerticalAlignment(popUpPosition: IOffset, popUp: HTMLElement, nextTo: HTMLElement, desiredPosition: IPosition) {\n    switch (desiredPosition.vertical) {\n      case VerticalAlignment.TOP:\n        popUpPosition.top -= popUp.offsetHeight;\n        break;\n      case VerticalAlignment.BOTTOM:\n        popUpPosition.top += nextTo.offsetHeight;\n        break;\n      case VerticalAlignment.MIDDLE:\n        popUpPosition.top -= popUp.offsetHeight / 3;\n      case VerticalAlignment.INNERTOP:\n        break; // Nothing to do, it's the default alignment normally\n      case VerticalAlignment.INNERBOTTOM:\n        popUpPosition.top -= popUp.offsetHeight - nextTo.offsetHeight;\n        break;\n      default:\n        break;\n    }\n  }\n\n  private static basicHorizontalAlignment(popUpPosition: IOffset, popUp: HTMLElement, nextTo: HTMLElement, desiredPosition: IPosition) {\n    switch (desiredPosition.horizontal) {\n      case HorizontalAlignment.LEFT:\n        popUpPosition.left -= popUp.offsetWidth;\n        break;\n      case HorizontalAlignment.RIGHT:\n        popUpPosition.left += nextTo.offsetWidth;\n        break;\n      case HorizontalAlignment.CENTER:\n        popUpPosition.left += PopupUtils.offSetToAlignCenter(popUp, nextTo);\n        break;\n      case HorizontalAlignment.INNERLEFT:\n        break; // Nothing to do, it's the default alignment normally\n      case HorizontalAlignment.INNERRIGHT:\n        popUpPosition.left -= popUp.offsetWidth - nextTo.offsetWidth;\n        break;\n      default:\n        break;\n    }\n  }\n\n  private static alignInsideBoundary(oldPosition: IPosition, checkBoundary) {\n    let newDesiredPosition = oldPosition;\n    if (checkBoundary.horizontal == 'left') {\n      newDesiredPosition.horizontal = HorizontalAlignment.RIGHT;\n    }\n    if (checkBoundary.horizontal == 'right') {\n      newDesiredPosition.horizontal = HorizontalAlignment.LEFT;\n    }\n    if (checkBoundary.vertical == 'top') {\n      newDesiredPosition.vertical = VerticalAlignment.BOTTOM;\n    }\n    if (checkBoundary.vertical == 'bottom') {\n      newDesiredPosition.vertical = VerticalAlignment.TOP;\n    }\n    return newDesiredPosition;\n  }\n\n  private static offSetToAlignCenter(popUp: HTMLElement, nextTo: HTMLElement) {\n    return (nextTo.offsetWidth - popUp.offsetWidth) / 2;\n  }\n\n  private static getBoundary(element: HTMLElement) {\n    let boundaryOffset = $$(element).offset();\n    let toAddVertically;\n    if (element.tagName.toLowerCase() == 'body') {\n      toAddVertically = Math.max(element.scrollHeight, element.offsetHeight);\n    } else if (element.tagName.toLowerCase() == 'html') {\n      toAddVertically = Math.max(element.clientHeight, element.scrollHeight, element.offsetHeight);\n    } else {\n      toAddVertically = element.offsetHeight;\n    }\n    return {\n      top: boundaryOffset.top,\n      left: boundaryOffset.left,\n      right: boundaryOffset.left + element.offsetWidth,\n      bottom: boundaryOffset.top + toAddVertically\n    }\n  }\n\n  private static checkForOutOfBoundary(popUpBoundary: IElementBoundary, boundary: IElementBoundary) {\n    let ret = {\n      vertical: 'ok',\n      horizontal: 'ok'\n    }\n    if (popUpBoundary.top < boundary.top) {\n      ret.vertical = 'top';\n    }\n    if (popUpBoundary.bottom > boundary.bottom) {\n      ret.vertical = 'bottom';\n    }\n    if (popUpBoundary.left < boundary.left) {\n      ret.horizontal = 'left';\n    }\n    if (popUpBoundary.right > boundary.right) {\n      ret.horizontal = 'right';\n    }\n    return ret;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/PopupUtils.ts\n **/","l":{"1":1,"11":2,"12":1,"13":1,"14":1,"15":1,"16":1,"19":2,"20":1,"21":1,"22":1,"23":1,"24":1,"34":2,"35":14,"36":7,"37":7,"38":5,"40":7,"41":7,"43":7,"44":7,"45":7,"46":7,"48":7,"49":7,"50":7,"51":7,"52":7,"53":0,"54":0,"55":0,"57":0,"58":0,"60":0,"61":0,"63":7,"64":0,"65":0,"70":1,"71":7,"72":7,"73":7,"76":1,"77":7,"79":0,"80":0,"82":7,"83":7,"85":0,"87":0,"89":0,"90":0,"92":0,"96":1,"97":7,"99":0,"100":0,"102":0,"103":0,"105":2,"106":2,"108":1,"110":4,"111":4,"113":0,"117":1,"118":0,"119":0,"120":0,"122":0,"123":0,"125":0,"126":0,"128":0,"129":0,"131":0,"134":1,"135":2,"138":1,"139":14,"140":14,"141":14,"142":0,"143":14,"144":0,"146":14,"148":14,"156":1,"157":7,"161":7,"162":0,"164":7,"165":0,"167":7,"168":0,"170":7,"171":0,"173":7,"175":1}},"src/utils/StreamHighlightUtils.ts":{"path":"src/utils/StreamHighlightUtils.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":40}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":48}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":42}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":30}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":62}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":48}},"7":{"start":{"line":15,"column":0},"end":{"line":19,"column":1}},"8":{"start":{"line":15,"column":44},"end":{"line":15,"column":51}},"9":{"start":{"line":16,"column":2},"end":{"line":18,"column":3}},"10":{"start":{"line":16,"column":14},"end":{"line":16,"column":49}},"11":{"start":{"line":16,"column":51},"end":{"line":16,"column":69}},"12":{"start":{"line":16,"column":71},"end":{"line":16,"column":95}},"13":{"start":{"line":17,"column":4},"end":{"line":17,"column":12}},"14":{"start":{"line":16,"column":21},"end":{"line":16,"column":49}},"15":{"start":{"line":16,"column":58},"end":{"line":16,"column":69}},"16":{"start":{"line":16,"column":78},"end":{"line":16,"column":95}},"17":{"start":{"line":19,"column":0},"end":{"line":19,"column":1}},"18":{"start":{"line":21,"column":0},"end":{"line":36,"column":1}},"19":{"start":{"line":22,"column":9},"end":{"line":30,"column":3}},"20":{"start":{"line":23,"column":4},"end":{"line":23,"column":66}},"21":{"start":{"line":24,"column":4},"end":{"line":24,"column":54}},"22":{"start":{"line":25,"column":4},"end":{"line":28,"column":7}},"23":{"start":{"line":26,"column":6},"end":{"line":26,"column":32}},"24":{"start":{"line":27,"column":6},"end":{"line":27,"column":156}},"25":{"start":{"line":29,"column":4},"end":{"line":29,"column":28}},"26":{"start":{"line":32,"column":9},"end":{"line":35,"column":3}},"27":{"start":{"line":33,"column":4},"end":{"line":33,"column":66}},"28":{"start":{"line":34,"column":4},"end":{"line":34,"column":150}},"29":{"start":{"line":36,"column":0},"end":{"line":36,"column":1}},"30":{"start":{"line":21,"column":13},"end":{"line":36,"column":1}},"31":{"start":{"line":39,"column":0},"end":{"line":92,"column":1}},"32":{"start":{"line":40,"column":2},"end":{"line":40,"column":19}},"33":{"start":{"line":41,"column":2},"end":{"line":41,"column":64}},"34":{"start":{"line":42,"column":2},"end":{"line":50,"column":5}},"35":{"start":{"line":43,"column":4},"end":{"line":43,"column":93}},"36":{"start":{"line":44,"column":4},"end":{"line":44,"column":27}},"37":{"start":{"line":45,"column":4},"end":{"line":45,"column":78}},"38":{"start":{"line":46,"column":4},"end":{"line":46,"column":103}},"39":{"start":{"line":47,"column":4},"end":{"line":49,"column":5}},"40":{"start":{"line":48,"column":6},"end":{"line":48,"column":32}},"41":{"start":{"line":52,"column":2},"end":{"line":73,"column":4}},"42":{"start":{"line":53,"column":4},"end":{"line":53,"column":38}},"43":{"start":{"line":54,"column":4},"end":{"line":54,"column":27}},"44":{"start":{"line":55,"column":4},"end":{"line":67,"column":6}},"45":{"start":{"line":56,"column":6},"end":{"line":56,"column":75}},"46":{"start":{"line":57,"column":6},"end":{"line":59,"column":7}},"47":{"start":{"line":58,"column":8},"end":{"line":58,"column":22}},"48":{"start":{"line":60,"column":6},"end":{"line":60,"column":31}},"49":{"start":{"line":61,"column":6},"end":{"line":63,"column":7}},"50":{"start":{"line":62,"column":8},"end":{"line":62,"column":20}},"51":{"start":{"line":64,"column":6},"end":{"line":66,"column":7}},"52":{"start":{"line":65,"column":8},"end":{"line":65,"column":21}},"53":{"start":{"line":68,"column":4},"end":{"line":68,"column":17}},"54":{"start":{"line":69,"column":4},"end":{"line":69,"column":109}},"55":{"start":{"line":70,"column":4},"end":{"line":72,"column":5}},"56":{"start":{"line":71,"column":6},"end":{"line":71,"column":32}},"57":{"start":{"line":75,"column":2},"end":{"line":91,"column":12}},"58":{"start":{"line":79,"column":6},"end":{"line":79,"column":29}},"59":{"start":{"line":82,"column":6},"end":{"line":82,"column":29}},"60":{"start":{"line":85,"column":6},"end":{"line":85,"column":51}},"61":{"start":{"line":86,"column":6},"end":{"line":86,"column":55}},"62":{"start":{"line":87,"column":6},"end":{"line":87,"column":55}},"63":{"start":{"line":88,"column":6},"end":{"line":88,"column":71}},"64":{"start":{"line":89,"column":6},"end":{"line":89,"column":64}},"65":{"start":{"line":94,"column":0},"end":{"line":96,"column":1}},"66":{"start":{"line":95,"column":2},"end":{"line":95,"column":37}},"67":{"start":{"line":98,"column":0},"end":{"line":102,"column":1}},"68":{"start":{"line":99,"column":2},"end":{"line":99,"column":31}},"69":{"start":{"line":100,"column":2},"end":{"line":100,"column":38}},"70":{"start":{"line":101,"column":2},"end":{"line":101,"column":19}}},"fnMap":{"1":{"name":"(anonymous_1350)","line":15,"loc":{"start":{"line":15,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"DefaultStreamHighlightOptions","line":16,"loc":{"start":{"line":16,"column":2},"end":{"line":16,"column":95}}},"3":{"name":"(anonymous_1352)","line":21,"loc":{"start":{"line":21,"column":0},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_1354)","line":22,"loc":{"start":{"line":22,"column":2},"end":{"line":22,"column":214}}},"5":{"name":"(anonymous_1355)","line":25,"loc":{"start":{"line":25,"column":29},"end":{"line":25,"column":58}}},"6":{"name":"(anonymous_1356)","line":32,"loc":{"start":{"line":32,"column":2},"end":{"line":32,"column":214}}},"7":{"name":"getRestHighlightsForAllTerms","line":39,"loc":{"start":{"line":39,"column":0},"end":{"line":39,"column":224}}},"8":{"name":"(anonymous_1358)","line":42,"loc":{"start":{"line":42,"column":22},"end":{"line":42,"column":35}}},"9":{"name":"(anonymous_1359)","line":52,"loc":{"start":{"line":52,"column":29},"end":{"line":52,"column":48}}},"10":{"name":"(anonymous_1360)","line":55,"loc":{"start":{"line":55,"column":18},"end":{"line":55,"column":30}}},"11":{"name":"(anonymous_1361)","line":78,"loc":{"start":{"line":78,"column":10},"end":{"line":78,"column":32}}},"12":{"name":"(anonymous_1362)","line":81,"loc":{"start":{"line":81,"column":12},"end":{"line":81,"column":34}}},"13":{"name":"(anonymous_1363)","line":84,"loc":{"start":{"line":84,"column":9},"end":{"line":84,"column":19}}},"14":{"name":"termsSorting","line":94,"loc":{"start":{"line":94,"column":0},"end":{"line":94,"column":51}}},"15":{"name":"createStreamHTMLContainer","line":98,"loc":{"start":{"line":98,"column":0},"end":{"line":98,"column":49}}}},"branchMap":{"1":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":14},"end":{"line":16,"column":13}},{"start":{"line":16,"column":14},"end":{"line":16,"column":13}}]},"2":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":51},"end":{"line":16,"column":50}},{"start":{"line":16,"column":51},"end":{"line":16,"column":50}}]},"3":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":71},"end":{"line":16,"column":70}},{"start":{"line":16,"column":71},"end":{"line":16,"column":70}}]},"4":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":4},"end":{"line":47,"column":3}},{"start":{"line":47,"column":4},"end":{"line":47,"column":3}}]},"5":{"line":47,"type":"binary-expr","locations":[{"start":{"line":47,"column":8},"end":{"line":47,"column":33}},{"start":{"line":47,"column":37},"end":{"line":47,"column":72}}]},"6":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":6},"end":{"line":57,"column":5}},{"start":{"line":57,"column":6},"end":{"line":57,"column":5}}]},"7":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":6},"end":{"line":61,"column":5}},{"start":{"line":61,"column":6},"end":{"line":61,"column":5}}]},"8":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":6},"end":{"line":64,"column":5}},{"start":{"line":64,"column":6},"end":{"line":64,"column":5}}]},"9":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":4},"end":{"line":70,"column":3}},{"start":{"line":70,"column":4},"end":{"line":70,"column":3}}]},"10":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":8},"end":{"line":70,"column":33}},{"start":{"line":70,"column":37},"end":{"line":70,"column":72}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":2,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":1,"30":1,"31":1,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":1,"66":0,"67":1,"68":0,"69":0,"70":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"f":{"1":1,"2":0,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"code":"import {Options} from '../misc/Options';\nimport {HighlightUtils} from './HighlightUtils';\nimport {StringUtils} from './StringUtils';\nimport {Utils} from './Utils';\nimport {IHighlight} from '../rest/Highlight';\n\n// \\u2011: http://graphemica.com/%E2%80%91\nlet nonWordBoundary = '[\\\\.\\\\-\\\\u2011\\\\s~=,.\\\\|\\\\/:\\'`’;_()]';\nlet regexStart = '(' + nonWordBoundary + '|^)(';\nexport interface IStreamHighlightOptions {\n  cssClass?: string;\n  regexFlags?: string;\n}\n\nclass DefaultStreamHighlightOptions extends Options implements IStreamHighlightOptions {\n  constructor(public cssClass = 'coveo-highlight', public shorten = 0, public regexFlags = 'gi') {\n    super();\n  }\n}\n\nexport class StreamHighlightUtils {\n  static highlightStreamHTML(stream: string, termsToHighlight: { [originalTerm: string]: string[] }, phrasesToHighlight: { [phrase: string]: { [originalTerm: string]: string[] } }, options?: IStreamHighlightOptions) {\n    let opts = new DefaultStreamHighlightOptions().merge(options);\n    let container = createStreamHTMLContainer(stream);\n    container.find('*').each((i: number, elem: HTMLElement) => {\n      let text = $(elem).text();\n      $(elem).html(HighlightUtils.highlightString(text, getRestHighlightsForAllTerms(text, termsToHighlight, phrasesToHighlight, opts), [], opts.cssClass));\n    });\n    return container.html();\n  }\n\n  static highlightStreamText(stream: string, termsToHighlight: { [originalTerm: string]: string[] }, phrasesToHighlight: { [phrase: string]: { [originalTerm: string]: string[] } }, options?: IStreamHighlightOptions) {\n    let opts = new DefaultStreamHighlightOptions().merge(options);\n    return HighlightUtils.highlightString(stream, getRestHighlightsForAllTerms(stream, termsToHighlight, phrasesToHighlight, opts), [], opts.cssClass)\n  }\n}\n\n\nfunction getRestHighlightsForAllTerms(toHighlight: string, termsToHighlight: { [originalTerm: string]: string[] }, phrasesToHighlight: { [phrase: string]: { [originalTerm: string]: string[] } }, opts: IStreamHighlightOptions): IHighlight[] {\n  let indexes = [];\n  let sortedTerms = _.keys(termsToHighlight).sort(termsSorting);\n  _.each(sortedTerms, (term: string) => {\n    let termsToIterate = _.compact([term].concat(termsToHighlight[term]).sort(termsSorting));\n    let regex = regexStart;\n    regex += termsToIterate.join('|') + ')(?=(?:' + nonWordBoundary + '|$)+)';\n    let indexesFound = StringUtils.getHighlights(toHighlight, new RegExp(regex, opts.regexFlags), term)\n    if (indexesFound != undefined && Utils.isNonEmptyArray(indexesFound)) {\n      indexes.push(indexesFound)\n    }\n  });\n\n  _.each(phrasesToHighlight, (phrase, origPhrase) => {\n    let split = origPhrase.split(' ');\n    let regex = regexStart;\n    _.each(split, (origWord, i) => {\n      regex += '(?:' + [origWord].concat(phrase[origWord]).join('|') + ')';\n      if (i == split.length - 1) {\n        regex += '(?='\n      }\n      regex += nonWordBoundary;\n      if (i == split.length - 1) {\n        regex += ')'\n      }\n      if (i != split.length - 1) {\n        regex += '+';\n      }\n    })\n    regex += ')';\n    let indexesFound = StringUtils.getHighlights(toHighlight, new RegExp(regex, opts.regexFlags), origPhrase)\n    if (indexesFound != undefined && Utils.isNonEmptyArray(indexesFound)) {\n      indexes.push(indexesFound)\n    }\n  })\n\n  return _.chain(indexes)\n    .flatten()\n    .compact()\n    .uniq((highlight: IHighlight) => {\n      return highlight.offset\n    })\n    .sortBy((highlight: IHighlight) => {\n      return highlight.offset\n    })\n    .map((highlight) => {\n      let keysFromTerms = _.keys(termsToHighlight);\n      let keysFromPhrases = _.keys(phrasesToHighlight);\n      let keys = keysFromTerms.concat(keysFromPhrases);\n      let group = _.indexOf(keys, highlight.dataHighlightGroupTerm) + 1\n      return _.extend(highlight, { dataHighlightGroup: group });\n    })\n    .value()\n}\n\nfunction termsSorting(first: string, second: string) {\n  return first.length - second.length\n}\n\nfunction createStreamHTMLContainer(stream: string) {\n  let container = $('<div />');\n  container.get(0).innerHTML = stream;\n  return container;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/StreamHighlightUtils.ts\n **/","l":{"1":1,"2":1,"3":1,"4":1,"8":1,"9":1,"15":1,"16":1,"17":0,"19":1,"21":2,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"29":0,"32":1,"33":0,"34":0,"36":1,"39":1,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"60":0,"61":0,"62":0,"64":0,"65":0,"68":0,"69":0,"70":0,"71":0,"75":0,"79":0,"82":0,"85":0,"86":0,"87":0,"88":0,"89":0,"94":1,"95":0,"98":1,"99":0,"100":0,"101":0}},"src/ControllersModules.ts":{"path":"src/ControllersModules.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":62}},"2":{"start":{"line":1,"column":8},"end":{"line":1,"column":62}},"3":{"start":{"line":2,"column":0},"end":{"line":2,"column":72}},"4":{"start":{"line":2,"column":8},"end":{"line":2,"column":72}},"5":{"start":{"line":3,"column":0},"end":{"line":3,"column":82}},"6":{"start":{"line":3,"column":8},"end":{"line":3,"column":82}},"7":{"start":{"line":4,"column":0},"end":{"line":4,"column":84}},"8":{"start":{"line":4,"column":8},"end":{"line":4,"column":84}},"9":{"start":{"line":5,"column":0},"end":{"line":5,"column":96}},"10":{"start":{"line":5,"column":8},"end":{"line":5,"column":96}},"11":{"start":{"line":6,"column":0},"end":{"line":6,"column":66}},"12":{"start":{"line":6,"column":8},"end":{"line":6,"column":66}},"13":{"start":{"line":7,"column":0},"end":{"line":7,"column":90}},"14":{"start":{"line":7,"column":8},"end":{"line":7,"column":90}}},"fnMap":{},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1},"b":{},"f":{},"code":"export {QueryController} from './controllers/QueryController';\nexport {FacetQueryController} from './controllers/FacetQueryController';\nexport {FacetRangeQueryController} from './controllers/FacetRangeQueryController';\nexport {FacetSliderQueryController} from './controllers/FacetSliderQueryController';\nexport {HierarchicalFacetQueryController} from './controllers/HierarchicalFacetQueryController';\nexport {HistoryController} from './controllers/HistoryController';\nexport {LocalStorageHistoryController} from './controllers/LocalStorageHistoryController';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ControllersModules.ts\n **/","l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1}},"src/controllers/QueryController.ts":{"path":"src/controllers/QueryController.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":55}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":53}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":61}},"4":{"start":{"line":9,"column":0},"end":{"line":9,"column":38}},"5":{"start":{"line":10,"column":0},"end":{"line":10,"column":98}},"6":{"start":{"line":11,"column":0},"end":{"line":11,"column":302}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":47}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":36}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":37}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":37}},"11":{"start":{"line":16,"column":0},"end":{"line":16,"column":36}},"12":{"start":{"line":17,"column":0},"end":{"line":17,"column":55}},"13":{"start":{"line":18,"column":0},"end":{"line":18,"column":48}},"14":{"start":{"line":64,"column":0},"end":{"line":70,"column":1}},"15":{"start":{"line":65,"column":2},"end":{"line":65,"column":26}},"16":{"start":{"line":67,"column":2},"end":{"line":67,"column":23}},"17":{"start":{"line":68,"column":2},"end":{"line":68,"column":17}},"18":{"start":{"line":69,"column":2},"end":{"line":69,"column":30}},"19":{"start":{"line":70,"column":0},"end":{"line":70,"column":1}},"20":{"start":{"line":78,"column":0},"end":{"line":616,"column":1}},"21":{"start":{"line":78,"column":37},"end":{"line":78,"column":50}},"22":{"start":{"line":100,"column":2},"end":{"line":105,"column":3}},"23":{"start":{"line":101,"column":4},"end":{"line":101,"column":39}},"24":{"start":{"line":100,"column":43},"end":{"line":100,"column":75}},"25":{"start":{"line":100,"column":84},"end":{"line":100,"column":98}},"26":{"start":{"line":100,"column":107},"end":{"line":100,"column":122}},"27":{"start":{"line":90,"column":10},"end":{"line":90,"column":49}},"28":{"start":{"line":93,"column":10},"end":{"line":93,"column":88}},"29":{"start":{"line":102,"column":4},"end":{"line":102,"column":27}},"30":{"start":{"line":103,"column":4},"end":{"line":103,"column":27}},"31":{"start":{"line":104,"column":4},"end":{"line":104,"column":27}},"32":{"start":{"line":111,"column":9},"end":{"line":114,"column":3}},"33":{"start":{"line":112,"column":4},"end":{"line":112,"column":37}},"34":{"start":{"line":113,"column":4},"end":{"line":113,"column":48}},"35":{"start":{"line":120,"column":9},"end":{"line":127,"column":3}},"36":{"start":{"line":121,"column":4},"end":{"line":121,"column":66}},"37":{"start":{"line":126,"column":4},"end":{"line":126,"column":84}},"38":{"start":{"line":133,"column":9},"end":{"line":135,"column":3}},"39":{"start":{"line":134,"column":4},"end":{"line":134,"column":56}},"40":{"start":{"line":144,"column":9},"end":{"line":299,"column":3}},"41":{"start":{"line":144,"column":2},"end":{"line":299,"column":3}},"42":{"start":{"line":145,"column":4},"end":{"line":145,"column":74}},"43":{"start":{"line":147,"column":4},"end":{"line":149,"column":5}},"44":{"start":{"line":148,"column":6},"end":{"line":148,"column":27}},"45":{"start":{"line":151,"column":4},"end":{"line":151,"column":45}},"46":{"start":{"line":153,"column":4},"end":{"line":153,"column":40}},"47":{"start":{"line":155,"column":4},"end":{"line":157,"column":5}},"48":{"start":{"line":156,"column":6},"end":{"line":156,"column":35}},"49":{"start":{"line":159,"column":4},"end":{"line":161,"column":5}},"50":{"start":{"line":160,"column":6},"end":{"line":160,"column":49}},"51":{"start":{"line":163,"column":4},"end":{"line":163,"column":39}},"52":{"start":{"line":165,"column":4},"end":{"line":169,"column":6}},"53":{"start":{"line":171,"column":4},"end":{"line":171,"column":45}},"54":{"start":{"line":173,"column":4},"end":{"line":176,"column":5}},"55":{"start":{"line":174,"column":6},"end":{"line":174,"column":25}},"56":{"start":{"line":175,"column":6},"end":{"line":175,"column":13}},"57":{"start":{"line":178,"column":4},"end":{"line":178,"column":56}},"58":{"start":{"line":181,"column":4},"end":{"line":183,"column":5}},"59":{"start":{"line":182,"column":6},"end":{"line":182,"column":13}},"60":{"start":{"line":185,"column":4},"end":{"line":185,"column":37}},"61":{"start":{"line":187,"column":4},"end":{"line":189,"column":5}},"62":{"start":{"line":188,"column":6},"end":{"line":188,"column":43}},"63":{"start":{"line":191,"column":4},"end":{"line":191,"column":43}},"64":{"start":{"line":193,"column":4},"end":{"line":193,"column":73}},"65":{"start":{"line":194,"column":4},"end":{"line":288,"column":7}},"66":{"start":{"line":195,"column":6},"end":{"line":195,"column":34}},"67":{"start":{"line":196,"column":6},"end":{"line":196,"column":39}},"68":{"start":{"line":197,"column":6},"end":{"line":199,"column":7}},"69":{"start":{"line":198,"column":8},"end":{"line":198,"column":32}},"70":{"start":{"line":202,"column":6},"end":{"line":204,"column":7}},"71":{"start":{"line":203,"column":8},"end":{"line":203,"column":15}},"72":{"start":{"line":206,"column":6},"end":{"line":206,"column":71}},"73":{"start":{"line":207,"column":6},"end":{"line":207,"column":125}},"74":{"start":{"line":209,"column":6},"end":{"line":216,"column":7}},"75":{"start":{"line":210,"column":8},"end":{"line":210,"column":57}},"76":{"start":{"line":211,"column":8},"end":{"line":211,"column":45}},"77":{"start":{"line":212,"column":8},"end":{"line":212,"column":91}},"78":{"start":{"line":214,"column":8},"end":{"line":214,"column":65}},"79":{"start":{"line":215,"column":8},"end":{"line":215,"column":52}},"80":{"start":{"line":218,"column":6},"end":{"line":218,"column":29}},"81":{"start":{"line":219,"column":6},"end":{"line":219,"column":43}},"82":{"start":{"line":220,"column":6},"end":{"line":220,"column":31}},"83":{"start":{"line":222,"column":6},"end":{"line":227,"column":8}},"84":{"start":{"line":228,"column":6},"end":{"line":228,"column":64}},"85":{"start":{"line":230,"column":6},"end":{"line":236,"column":8}},"86":{"start":{"line":237,"column":6},"end":{"line":239,"column":7}},"87":{"start":{"line":238,"column":8},"end":{"line":238,"column":49}},"88":{"start":{"line":241,"column":6},"end":{"line":262,"column":7}},"89":{"start":{"line":244,"column":8},"end":{"line":244,"column":35}},"90":{"start":{"line":246,"column":8},"end":{"line":246,"column":45}},"91":{"start":{"line":247,"column":8},"end":{"line":247,"column":45}},"92":{"start":{"line":249,"column":8},"end":{"line":254,"column":10}},"93":{"start":{"line":255,"column":8},"end":{"line":255,"column":52}},"94":{"start":{"line":257,"column":8},"end":{"line":260,"column":11}},"95":{"start":{"line":258,"column":10},"end":{"line":258,"column":62}},"96":{"start":{"line":259,"column":10},"end":{"line":259,"column":45}},"97":{"start":{"line":261,"column":8},"end":{"line":261,"column":28}},"98":{"start":{"line":266,"column":6},"end":{"line":268,"column":7}},"99":{"start":{"line":267,"column":8},"end":{"line":267,"column":15}},"100":{"start":{"line":270,"column":6},"end":{"line":270,"column":66}},"101":{"start":{"line":273,"column":6},"end":{"line":273,"column":43}},"102":{"start":{"line":274,"column":6},"end":{"line":280,"column":8}},"103":{"start":{"line":282,"column":6},"end":{"line":282,"column":29}},"104":{"start":{"line":283,"column":6},"end":{"line":283,"column":35}},"105":{"start":{"line":284,"column":6},"end":{"line":284,"column":32}},"106":{"start":{"line":285,"column":6},"end":{"line":285,"column":41}},"107":{"start":{"line":287,"column":6},"end":{"line":287,"column":41}},"108":{"start":{"line":290,"column":4},"end":{"line":295,"column":6}},"109":{"start":{"line":296,"column":4},"end":{"line":296,"column":49}},"110":{"start":{"line":298,"column":4},"end":{"line":298,"column":36}},"111":{"start":{"line":306,"column":9},"end":{"line":360,"column":3}},"112":{"start":{"line":306,"column":2},"end":{"line":360,"column":3}},"113":{"start":{"line":307,"column":4},"end":{"line":309,"column":5}},"114":{"start":{"line":308,"column":6},"end":{"line":308,"column":23}},"115":{"start":{"line":312,"column":4},"end":{"line":312,"column":47}},"116":{"start":{"line":314,"column":4},"end":{"line":314,"column":42}},"117":{"start":{"line":315,"column":4},"end":{"line":315,"column":55}},"118":{"start":{"line":316,"column":4},"end":{"line":316,"column":37}},"119":{"start":{"line":317,"column":4},"end":{"line":317,"column":42}},"120":{"start":{"line":318,"column":4},"end":{"line":318,"column":78}},"121":{"start":{"line":319,"column":4},"end":{"line":324,"column":6}},"122":{"start":{"line":325,"column":4},"end":{"line":325,"column":86}},"123":{"start":{"line":326,"column":4},"end":{"line":326,"column":41}},"124":{"start":{"line":327,"column":4},"end":{"line":327,"column":27}},"125":{"start":{"line":328,"column":4},"end":{"line":358,"column":6}},"126":{"start":{"line":333,"column":6},"end":{"line":333,"column":43}},"127":{"start":{"line":335,"column":6},"end":{"line":341,"column":7}},"128":{"start":{"line":336,"column":8},"end":{"line":336,"column":40}},"129":{"start":{"line":338,"column":8},"end":{"line":340,"column":11}},"130":{"start":{"line":339,"column":10},"end":{"line":339,"column":53}},"131":{"start":{"line":343,"column":6},"end":{"line":348,"column":8}},"132":{"start":{"line":349,"column":6},"end":{"line":349,"column":64}},"133":{"start":{"line":350,"column":6},"end":{"line":350,"column":127}},"134":{"start":{"line":351,"column":6},"end":{"line":356,"column":7}},"135":{"start":{"line":357,"column":6},"end":{"line":357,"column":63}},"136":{"start":{"line":359,"column":4},"end":{"line":359,"column":36}},"137":{"start":{"line":365,"column":9},"end":{"line":368,"column":3}},"138":{"start":{"line":366,"column":4},"end":{"line":366,"column":40}},"139":{"start":{"line":367,"column":4},"end":{"line":367,"column":39}},"140":{"start":{"line":370,"column":9},"end":{"line":373,"column":3}},"141":{"start":{"line":370,"column":2},"end":{"line":373,"column":3}},"142":{"start":{"line":371,"column":4},"end":{"line":371,"column":39}},"143":{"start":{"line":372,"column":4},"end":{"line":372,"column":50}},"144":{"start":{"line":372,"column":22},"end":{"line":372,"column":48}},"145":{"start":{"line":375,"column":9},"end":{"line":379,"column":3}},"146":{"start":{"line":376,"column":4},"end":{"line":378,"column":5}},"147":{"start":{"line":377,"column":6},"end":{"line":377,"column":57}},"148":{"start":{"line":381,"column":9},"end":{"line":421,"column":3}},"149":{"start":{"line":382,"column":4},"end":{"line":382,"column":27}},"150":{"start":{"line":384,"column":4},"end":{"line":384,"column":39}},"151":{"start":{"line":386,"column":4},"end":{"line":386,"column":42}},"152":{"start":{"line":389,"column":4},"end":{"line":389,"column":53}},"153":{"start":{"line":390,"column":4},"end":{"line":390,"column":61}},"154":{"start":{"line":396,"column":4},"end":{"line":400,"column":6}},"155":{"start":{"line":401,"column":4},"end":{"line":401,"column":59}},"156":{"start":{"line":403,"column":4},"end":{"line":407,"column":6}},"157":{"start":{"line":408,"column":4},"end":{"line":408,"column":67}},"158":{"start":{"line":410,"column":4},"end":{"line":413,"column":5}},"159":{"start":{"line":411,"column":6},"end":{"line":411,"column":25}},"160":{"start":{"line":412,"column":6},"end":{"line":412,"column":13}},"161":{"start":{"line":415,"column":4},"end":{"line":415,"column":43}},"162":{"start":{"line":416,"column":4},"end":{"line":418,"column":5}},"163":{"start":{"line":417,"column":6},"end":{"line":417,"column":39}},"164":{"start":{"line":420,"column":4},"end":{"line":420,"column":24}},"165":{"start":{"line":423,"column":9},"end":{"line":425,"column":3}},"166":{"start":{"line":424,"column":4},"end":{"line":424,"column":62}},"167":{"start":{"line":427,"column":9},"end":{"line":433,"column":3}},"168":{"start":{"line":428,"column":4},"end":{"line":432,"column":7}},"169":{"start":{"line":440,"column":9},"end":{"line":446,"column":3}},"170":{"start":{"line":441,"column":4},"end":{"line":443,"column":5}},"171":{"start":{"line":442,"column":6},"end":{"line":442,"column":32}},"172":{"start":{"line":444,"column":4},"end":{"line":444,"column":29}},"173":{"start":{"line":445,"column":4},"end":{"line":445,"column":76}},"174":{"start":{"line":448,"column":10},"end":{"line":454,"column":3}},"175":{"start":{"line":449,"column":4},"end":{"line":451,"column":5}},"176":{"start":{"line":450,"column":6},"end":{"line":450,"column":32}},"177":{"start":{"line":452,"column":4},"end":{"line":452,"column":29}},"178":{"start":{"line":453,"column":4},"end":{"line":453,"column":30}},"179":{"start":{"line":456,"column":10},"end":{"line":463,"column":3}},"180":{"start":{"line":457,"column":4},"end":{"line":457,"column":45}},"181":{"start":{"line":458,"column":4},"end":{"line":462,"column":5}},"182":{"start":{"line":459,"column":6},"end":{"line":459,"column":42}},"183":{"start":{"line":460,"column":6},"end":{"line":460,"column":41}},"184":{"start":{"line":461,"column":6},"end":{"line":461,"column":33}},"185":{"start":{"line":465,"column":10},"end":{"line":469,"column":3}},"186":{"start":{"line":466,"column":4},"end":{"line":466,"column":50}},"187":{"start":{"line":467,"column":4},"end":{"line":467,"column":87}},"188":{"start":{"line":468,"column":4},"end":{"line":468,"column":41}},"189":{"start":{"line":471,"column":10},"end":{"line":473,"column":3}},"190":{"start":{"line":472,"column":4},"end":{"line":472,"column":50}},"191":{"start":{"line":475,"column":10},"end":{"line":483,"column":3}},"192":{"start":{"line":476,"column":4},"end":{"line":481,"column":5}},"193":{"start":{"line":477,"column":6},"end":{"line":477,"column":60}},"194":{"start":{"line":478,"column":6},"end":{"line":478,"column":47}},"195":{"start":{"line":479,"column":6},"end":{"line":479,"column":43}},"196":{"start":{"line":480,"column":6},"end":{"line":480,"column":18}},"197":{"start":{"line":482,"column":4},"end":{"line":482,"column":17}},"198":{"start":{"line":485,"column":10},"end":{"line":490,"column":3}},"199":{"start":{"line":486,"column":4},"end":{"line":489,"column":5}},"200":{"start":{"line":487,"column":6},"end":{"line":487,"column":57}},"201":{"start":{"line":488,"column":6},"end":{"line":488,"column":49}},"202":{"start":{"line":492,"column":10},"end":{"line":497,"column":3}},"203":{"start":{"line":493,"column":4},"end":{"line":496,"column":5}},"204":{"start":{"line":494,"column":6},"end":{"line":494,"column":60}},"205":{"start":{"line":495,"column":6},"end":{"line":495,"column":50}},"206":{"start":{"line":499,"column":10},"end":{"line":501,"column":3}},"207":{"start":{"line":500,"column":4},"end":{"line":500,"column":74}},"208":{"start":{"line":503,"column":10},"end":{"line":509,"column":3}},"209":{"start":{"line":504,"column":4},"end":{"line":504,"column":85}},"210":{"start":{"line":505,"column":4},"end":{"line":507,"column":5}},"211":{"start":{"line":506,"column":6},"end":{"line":506,"column":41}},"212":{"start":{"line":508,"column":4},"end":{"line":508,"column":21}},"213":{"start":{"line":511,"column":10},"end":{"line":520,"column":3}},"214":{"start":{"line":512,"column":4},"end":{"line":516,"column":6}},"215":{"start":{"line":518,"column":4},"end":{"line":518,"column":68}},"216":{"start":{"line":519,"column":4},"end":{"line":519,"column":24}},"217":{"start":{"line":522,"column":10},"end":{"line":524,"column":3}},"218":{"start":{"line":523,"column":4},"end":{"line":523,"column":57}},"219":{"start":{"line":526,"column":10},"end":{"line":528,"column":3}},"220":{"start":{"line":527,"column":4},"end":{"line":527,"column":62}},"221":{"start":{"line":530,"column":10},"end":{"line":532,"column":3}},"222":{"start":{"line":531,"column":4},"end":{"line":531,"column":66}},"223":{"start":{"line":534,"column":10},"end":{"line":536,"column":3}},"224":{"start":{"line":535,"column":4},"end":{"line":535,"column":60}},"225":{"start":{"line":538,"column":10},"end":{"line":540,"column":3}},"226":{"start":{"line":539,"column":4},"end":{"line":539,"column":61}},"227":{"start":{"line":542,"column":10},"end":{"line":544,"column":3}},"228":{"start":{"line":543,"column":4},"end":{"line":543,"column":65}},"229":{"start":{"line":546,"column":10},"end":{"line":548,"column":3}},"230":{"start":{"line":547,"column":4},"end":{"line":547,"column":69}},"231":{"start":{"line":550,"column":10},"end":{"line":552,"column":3}},"232":{"start":{"line":551,"column":4},"end":{"line":551,"column":59}},"233":{"start":{"line":554,"column":10},"end":{"line":556,"column":3}},"234":{"start":{"line":555,"column":4},"end":{"line":555,"column":66}},"235":{"start":{"line":558,"column":10},"end":{"line":560,"column":3}},"236":{"start":{"line":559,"column":4},"end":{"line":559,"column":58}},"237":{"start":{"line":562,"column":9},"end":{"line":577,"column":3}},"238":{"start":{"line":562,"column":2},"end":{"line":577,"column":3}},"239":{"start":{"line":563,"column":4},"end":{"line":565,"column":6}},"240":{"start":{"line":567,"column":4},"end":{"line":570,"column":5}},"241":{"start":{"line":568,"column":6},"end":{"line":568,"column":87}},"242":{"start":{"line":568,"column":33},"end":{"line":568,"column":86}},"243":{"start":{"line":569,"column":6},"end":{"line":569,"column":68}},"244":{"start":{"line":569,"column":27},"end":{"line":569,"column":67}},"245":{"start":{"line":572,"column":4},"end":{"line":574,"column":5}},"246":{"start":{"line":573,"column":6},"end":{"line":573,"column":43}},"247":{"start":{"line":573,"column":25},"end":{"line":573,"column":42}},"248":{"start":{"line":576,"column":4},"end":{"line":576,"column":16}},"249":{"start":{"line":579,"column":10},"end":{"line":603,"column":3}},"250":{"start":{"line":580,"column":4},"end":{"line":580,"column":83}},"251":{"start":{"line":581,"column":4},"end":{"line":581,"column":81}},"252":{"start":{"line":582,"column":4},"end":{"line":582,"column":58}},"253":{"start":{"line":583,"column":4},"end":{"line":583,"column":27}},"254":{"start":{"line":584,"column":4},"end":{"line":601,"column":7}},"255":{"start":{"line":585,"column":6},"end":{"line":585,"column":39}},"256":{"start":{"line":586,"column":6},"end":{"line":600,"column":7}},"257":{"start":{"line":587,"column":8},"end":{"line":591,"column":12}},"258":{"start":{"line":592,"column":8},"end":{"line":592,"column":108}},"259":{"start":{"line":593,"column":8},"end":{"line":593,"column":32}},"260":{"start":{"line":594,"column":8},"end":{"line":594,"column":92}},"261":{"start":{"line":595,"column":8},"end":{"line":595,"column":57}},"262":{"start":{"line":596,"column":8},"end":{"line":596,"column":35}},"263":{"start":{"line":597,"column":8},"end":{"line":597,"column":97}},"264":{"start":{"line":598,"column":8},"end":{"line":598,"column":67}},"265":{"start":{"line":599,"column":8},"end":{"line":599,"column":40}},"266":{"start":{"line":602,"column":4},"end":{"line":602,"column":15}},"267":{"start":{"line":605,"column":10},"end":{"line":615,"column":3}},"268":{"start":{"line":606,"column":4},"end":{"line":614,"column":5}},"269":{"start":{"line":607,"column":6},"end":{"line":607,"column":59}},"270":{"start":{"line":608,"column":6},"end":{"line":612,"column":7}},"271":{"start":{"line":613,"column":6},"end":{"line":613,"column":37}},"272":{"start":{"line":79,"column":9},"end":{"line":79,"column":32}},"273":{"start":{"line":616,"column":0},"end":{"line":616,"column":1}},"274":{"start":{"line":78,"column":13},"end":{"line":616,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1371)","line":64,"loc":{"start":{"line":64,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_1373)","line":78,"loc":{"start":{"line":78,"column":0},"end":{"line":null,"column":-1}}},"3":{"name":"QueryController","line":100,"loc":{"start":{"line":100,"column":2},"end":{"line":100,"column":122}}},"4":{"name":"(anonymous_1375)","line":111,"loc":{"start":{"line":111,"column":2},"end":{"line":111,"column":45}}},"5":{"name":"(anonymous_1376)","line":120,"loc":{"start":{"line":120,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_1377)","line":133,"loc":{"start":{"line":133,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_1378)","line":144,"loc":{"start":{"line":144,"column":2},"end":{"line":144,"column":45}}},"8":{"name":"(anonymous_1379)","line":194,"loc":{"start":{"line":194,"column":17},"end":{"line":194,"column":30}}},"9":{"name":"(anonymous_1380)","line":257,"loc":{"start":{"line":257,"column":20},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_1381)","line":263,"loc":{"start":{"line":263,"column":13},"end":{"line":263,"column":25}}},"11":{"name":"(anonymous_1382)","line":306,"loc":{"start":{"line":306,"column":2},"end":{"line":306,"column":32}}},"12":{"name":"(anonymous_1383)","line":328,"loc":{"start":{"line":328,"column":17},"end":{"line":328,"column":41}}},"13":{"name":"(anonymous_1384)","line":338,"loc":{"start":{"line":338,"column":35},"end":{"line":338,"column":42}}},"14":{"name":"(anonymous_1385)","line":365,"loc":{"start":{"line":365,"column":2},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_1386)","line":370,"loc":{"start":{"line":370,"column":2},"end":{"line":370,"column":50}}},"16":{"name":"(anonymous_1387)","line":372,"loc":{"start":{"line":372,"column":16},"end":{"line":372,"column":21}}},"17":{"name":"(anonymous_1388)","line":375,"loc":{"start":{"line":375,"column":2},"end":{"line":null,"column":-1}}},"18":{"name":"(anonymous_1389)","line":381,"loc":{"start":{"line":381,"column":2},"end":{"line":381,"column":50}}},"19":{"name":"(anonymous_1390)","line":423,"loc":{"start":{"line":423,"column":2},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_1391)","line":427,"loc":{"start":{"line":427,"column":2},"end":{"line":null,"column":-1}}},"21":{"name":"(anonymous_1392)","line":440,"loc":{"start":{"line":440,"column":2},"end":{"line":null,"column":-1}}},"22":{"name":"(anonymous_1393)","line":448,"loc":{"start":{"line":448,"column":2},"end":{"line":null,"column":-1}}},"23":{"name":"(anonymous_1394)","line":456,"loc":{"start":{"line":456,"column":2},"end":{"line":null,"column":-1}}},"24":{"name":"(anonymous_1395)","line":465,"loc":{"start":{"line":465,"column":2},"end":{"line":465,"column":76}}},"25":{"name":"(anonymous_1396)","line":471,"loc":{"start":{"line":471,"column":2},"end":{"line":null,"column":-1}}},"26":{"name":"(anonymous_1397)","line":475,"loc":{"start":{"line":475,"column":2},"end":{"line":null,"column":-1}}},"27":{"name":"(anonymous_1398)","line":485,"loc":{"start":{"line":485,"column":2},"end":{"line":null,"column":-1}}},"28":{"name":"(anonymous_1399)","line":492,"loc":{"start":{"line":492,"column":2},"end":{"line":null,"column":-1}}},"29":{"name":"(anonymous_1400)","line":499,"loc":{"start":{"line":499,"column":2},"end":{"line":499,"column":70}}},"30":{"name":"(anonymous_1401)","line":503,"loc":{"start":{"line":503,"column":2},"end":{"line":503,"column":63}}},"31":{"name":"(anonymous_1402)","line":511,"loc":{"start":{"line":511,"column":2},"end":{"line":null,"column":-1}}},"32":{"name":"(anonymous_1403)","line":522,"loc":{"start":{"line":522,"column":2},"end":{"line":522,"column":28}}},"33":{"name":"(anonymous_1404)","line":526,"loc":{"start":{"line":526,"column":2},"end":{"line":526,"column":33}}},"34":{"name":"(anonymous_1405)","line":530,"loc":{"start":{"line":530,"column":2},"end":{"line":530,"column":37}}},"35":{"name":"(anonymous_1406)","line":534,"loc":{"start":{"line":534,"column":2},"end":{"line":534,"column":31}}},"36":{"name":"(anonymous_1407)","line":538,"loc":{"start":{"line":538,"column":2},"end":{"line":538,"column":32}}},"37":{"name":"(anonymous_1408)","line":542,"loc":{"start":{"line":542,"column":2},"end":{"line":542,"column":36}}},"38":{"name":"(anonymous_1409)","line":546,"loc":{"start":{"line":546,"column":2},"end":{"line":546,"column":40}}},"39":{"name":"(anonymous_1410)","line":550,"loc":{"start":{"line":550,"column":2},"end":{"line":550,"column":25}}},"40":{"name":"(anonymous_1411)","line":554,"loc":{"start":{"line":554,"column":2},"end":{"line":554,"column":37}}},"41":{"name":"(anonymous_1412)","line":558,"loc":{"start":{"line":558,"column":2},"end":{"line":558,"column":28}}},"42":{"name":"(anonymous_1413)","line":562,"loc":{"start":{"line":562,"column":2},"end":{"line":null,"column":-1}}},"43":{"name":"(anonymous_1414)","line":568,"loc":{"start":{"line":568,"column":27},"end":{"line":568,"column":32}}},"44":{"name":"(anonymous_1415)","line":569,"loc":{"start":{"line":569,"column":21},"end":{"line":569,"column":26}}},"45":{"name":"(anonymous_1416)","line":573,"loc":{"start":{"line":573,"column":19},"end":{"line":573,"column":24}}},"46":{"name":"(anonymous_1417)","line":579,"loc":{"start":{"line":579,"column":2},"end":{"line":579,"column":63}}},"47":{"name":"(anonymous_1418)","line":584,"loc":{"start":{"line":584,"column":37},"end":{"line":584,"column":49}}},"48":{"name":"(anonymous_1419)","line":605,"loc":{"start":{"line":605,"column":2},"end":{"line":605,"column":48}}}},"branchMap":{"1":{"line":121,"type":"binary-expr","locations":[{"start":{"line":121,"column":19},"end":{"line":121,"column":40}},{"start":{"line":121,"column":44},"end":{"line":121,"column":65}}]},"2":{"line":134,"type":"binary-expr","locations":[{"start":{"line":134,"column":11},"end":{"line":134,"column":25}},{"start":{"line":134,"column":29},"end":{"line":134,"column":55}}]},"3":{"line":147,"type":"if","locations":[{"start":{"line":147,"column":4},"end":{"line":147,"column":3}},{"start":{"line":147,"column":4},"end":{"line":147,"column":3}}]},"4":{"line":155,"type":"if","locations":[{"start":{"line":155,"column":4},"end":{"line":155,"column":3}},{"start":{"line":155,"column":4},"end":{"line":155,"column":3}}]},"5":{"line":159,"type":"if","locations":[{"start":{"line":159,"column":4},"end":{"line":159,"column":3}},{"start":{"line":159,"column":4},"end":{"line":159,"column":3}}]},"6":{"line":173,"type":"if","locations":[{"start":{"line":173,"column":4},"end":{"line":173,"column":3}},{"start":{"line":173,"column":4},"end":{"line":173,"column":3}}]},"7":{"line":181,"type":"if","locations":[{"start":{"line":181,"column":4},"end":{"line":181,"column":3}},{"start":{"line":181,"column":4},"end":{"line":181,"column":3}}]},"8":{"line":187,"type":"if","locations":[{"start":{"line":187,"column":4},"end":{"line":187,"column":3}},{"start":{"line":187,"column":4},"end":{"line":187,"column":3}}]},"9":{"line":197,"type":"if","locations":[{"start":{"line":197,"column":6},"end":{"line":197,"column":5}},{"start":{"line":197,"column":6},"end":{"line":197,"column":5}}]},"10":{"line":202,"type":"if","locations":[{"start":{"line":202,"column":6},"end":{"line":202,"column":5}},{"start":{"line":202,"column":6},"end":{"line":202,"column":5}}]},"11":{"line":207,"type":"binary-expr","locations":[{"start":{"line":207,"column":26},"end":{"line":207,"column":46}},{"start":{"line":207,"column":50},"end":{"line":207,"column":78}},{"start":{"line":207,"column":82},"end":{"line":207,"column":124}}]},"12":{"line":209,"type":"if","locations":[{"start":{"line":209,"column":6},"end":{"line":209,"column":5}},{"start":{"line":209,"column":6},"end":{"line":209,"column":5}}]},"13":{"line":209,"type":"binary-expr","locations":[{"start":{"line":209,"column":11},"end":{"line":209,"column":22}},{"start":{"line":209,"column":26},"end":{"line":209,"column":39}},{"start":{"line":209,"column":44},"end":{"line":209,"column":87}}]},"14":{"line":237,"type":"if","locations":[{"start":{"line":237,"column":6},"end":{"line":237,"column":5}},{"start":{"line":237,"column":6},"end":{"line":237,"column":5}}]},"15":{"line":241,"type":"if","locations":[{"start":{"line":241,"column":6},"end":{"line":241,"column":5}},{"start":{"line":241,"column":6},"end":{"line":241,"column":5}}]},"16":{"line":266,"type":"if","locations":[{"start":{"line":266,"column":6},"end":{"line":266,"column":5}},{"start":{"line":266,"column":6},"end":{"line":266,"column":5}}]},"17":{"line":307,"type":"if","locations":[{"start":{"line":307,"column":4},"end":{"line":307,"column":3}},{"start":{"line":307,"column":4},"end":{"line":307,"column":3}}]},"18":{"line":335,"type":"if","locations":[{"start":{"line":335,"column":6},"end":{"line":335,"column":5}},{"start":{"line":335,"column":6},"end":{"line":335,"column":5}}]},"19":{"line":376,"type":"if","locations":[{"start":{"line":376,"column":4},"end":{"line":376,"column":3}},{"start":{"line":376,"column":4},"end":{"line":376,"column":3}}]},"20":{"line":390,"type":"binary-expr","locations":[{"start":{"line":390,"column":31},"end":{"line":390,"column":55}},{"start":{"line":390,"column":59},"end":{"line":390,"column":60}}]},"21":{"line":410,"type":"if","locations":[{"start":{"line":410,"column":4},"end":{"line":410,"column":3}},{"start":{"line":410,"column":4},"end":{"line":410,"column":3}}]},"22":{"line":410,"type":"binary-expr","locations":[{"start":{"line":410,"column":8},"end":{"line":410,"column":44}},{"start":{"line":410,"column":48},"end":{"line":410,"column":88}}]},"23":{"line":416,"type":"if","locations":[{"start":{"line":416,"column":4},"end":{"line":416,"column":3}},{"start":{"line":416,"column":4},"end":{"line":416,"column":3}}]},"24":{"line":441,"type":"if","locations":[{"start":{"line":441,"column":4},"end":{"line":441,"column":3}},{"start":{"line":441,"column":4},"end":{"line":441,"column":3}}]},"25":{"line":445,"type":"binary-expr","locations":[{"start":{"line":445,"column":11},"end":{"line":445,"column":29}},{"start":{"line":445,"column":33},"end":{"line":445,"column":75}}]},"26":{"line":449,"type":"if","locations":[{"start":{"line":449,"column":4},"end":{"line":449,"column":3}},{"start":{"line":449,"column":4},"end":{"line":449,"column":3}}]},"27":{"line":458,"type":"if","locations":[{"start":{"line":458,"column":4},"end":{"line":458,"column":3}},{"start":{"line":458,"column":4},"end":{"line":458,"column":3}}]},"28":{"line":458,"type":"binary-expr","locations":[{"start":{"line":458,"column":8},"end":{"line":458,"column":25}},{"start":{"line":458,"column":29},"end":{"line":458,"column":69}}]},"29":{"line":476,"type":"if","locations":[{"start":{"line":476,"column":4},"end":{"line":476,"column":3}},{"start":{"line":476,"column":4},"end":{"line":476,"column":3}}]},"30":{"line":486,"type":"if","locations":[{"start":{"line":486,"column":4},"end":{"line":486,"column":3}},{"start":{"line":486,"column":4},"end":{"line":486,"column":3}}]},"31":{"line":493,"type":"if","locations":[{"start":{"line":493,"column":4},"end":{"line":493,"column":3}},{"start":{"line":493,"column":4},"end":{"line":493,"column":3}}]},"32":{"line":505,"type":"if","locations":[{"start":{"line":505,"column":4},"end":{"line":505,"column":3}},{"start":{"line":505,"column":4},"end":{"line":505,"column":3}}]},"33":{"line":567,"type":"if","locations":[{"start":{"line":567,"column":4},"end":{"line":567,"column":3}},{"start":{"line":567,"column":4},"end":{"line":567,"column":3}}]},"34":{"line":572,"type":"if","locations":[{"start":{"line":572,"column":4},"end":{"line":572,"column":3}},{"start":{"line":572,"column":4},"end":{"line":572,"column":3}}]},"35":{"line":586,"type":"if","locations":[{"start":{"line":586,"column":6},"end":{"line":586,"column":5}},{"start":{"line":586,"column":6},"end":{"line":586,"column":5}}]},"36":{"line":606,"type":"if","locations":[{"start":{"line":606,"column":4},"end":{"line":606,"column":3}},{"start":{"line":606,"column":4},"end":{"line":606,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":2,"15":17,"16":17,"17":17,"18":17,"19":1,"20":1,"21":1,"22":1,"23":128,"24":128,"25":128,"26":128,"27":128,"28":128,"29":128,"30":128,"31":128,"32":1,"33":12,"34":12,"35":1,"36":17,"37":17,"38":1,"39":0,"40":1,"41":17,"42":17,"43":17,"44":17,"45":17,"46":17,"47":17,"48":0,"49":17,"50":17,"51":17,"52":17,"53":17,"54":17,"55":1,"56":1,"57":16,"58":16,"59":0,"60":16,"61":16,"62":2,"63":16,"64":16,"65":16,"66":6,"67":6,"68":6,"69":6,"70":6,"71":0,"72":6,"73":6,"74":6,"75":0,"76":0,"77":0,"78":6,"79":6,"80":6,"81":6,"82":6,"83":6,"84":6,"85":6,"86":6,"87":1,"88":6,"89":0,"90":6,"91":6,"92":6,"93":6,"94":6,"95":6,"96":6,"97":6,"98":1,"99":0,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":16,"109":16,"110":16,"111":1,"112":1,"113":1,"114":0,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":1,"137":1,"138":1,"139":1,"140":1,"141":0,"142":0,"143":0,"144":0,"145":1,"146":0,"147":0,"148":1,"149":16,"150":16,"151":16,"152":16,"153":16,"154":16,"155":16,"156":16,"157":16,"158":16,"159":0,"160":0,"161":16,"162":16,"163":0,"164":16,"165":1,"166":0,"167":1,"168":0,"169":1,"170":0,"171":0,"172":0,"173":0,"174":1,"175":0,"176":0,"177":0,"178":0,"179":1,"180":0,"181":0,"182":0,"183":0,"184":0,"185":1,"186":1,"187":1,"188":1,"189":1,"190":16,"191":1,"192":18,"193":0,"194":0,"195":0,"196":0,"197":18,"198":1,"199":17,"200":17,"201":17,"202":1,"203":8,"204":8,"205":8,"206":1,"207":0,"208":1,"209":6,"210":6,"211":6,"212":6,"213":1,"214":17,"215":17,"216":17,"217":1,"218":17,"219":1,"220":16,"221":1,"222":16,"223":1,"224":16,"225":1,"226":6,"227":1,"228":0,"229":1,"230":6,"231":1,"232":1,"233":1,"234":6,"235":1,"236":1,"237":1,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":1,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":1,"268":2,"269":1,"270":1,"271":1,"272":1,"273":1,"274":1},"b":{"1":[17,6],"2":[0,0],"3":[17,0],"4":[0,17],"5":[17,0],"6":[1,16],"7":[0,16],"8":[2,14],"9":[6,0],"10":[0,6],"11":[6,6,6],"12":[0,6],"13":[6,6,0],"14":[1,5],"15":[0,6],"16":[0,1],"17":[0,1],"18":[0,0],"19":[0,0],"20":[16,16],"21":[0,16],"22":[16,16],"23":[0,16],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,18],"30":[17,0],"31":[8,0],"32":[6,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[1,1]},"f":{"1":18,"2":1,"3":128,"4":12,"5":17,"6":0,"7":17,"8":6,"9":6,"10":1,"11":1,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":16,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":16,"26":18,"27":17,"28":8,"29":0,"30":6,"31":17,"32":17,"33":16,"34":16,"35":16,"36":6,"37":0,"38":6,"39":1,"40":6,"41":1,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":2},"code":"import {RootComponent} from '../ui/Base/RootComponent';\nimport {IQueryResults} from '../rest/QueryResults';\nimport {QueryBuilder} from '../ui/Base/QueryBuilder';\nimport {IQuery} from '../rest/Query';\nimport {ISearchEndpoint, IEndpointCallOptions} from '../rest/SearchEndpointInterface';\nimport {SearchEndpoint} from '../rest/SearchEndpoint';\nimport {LocalStorageUtils} from '../utils/LocalStorageUtils';\nimport {ISearchInterfaceOptions} from '../ui/SearchInterface/SearchInterface';\nimport {Assert} from '../misc/Assert';\nimport {SearchEndpointWithDefaultCallOptions} from '../rest/SearchEndpointWithDefaultCallOptions';\nimport {INewQueryEventArgs, IPreprocessResultsEventArgs, INoResultsEventArgs, IQuerySuccessEventArgs, IQueryErrorEventArgs, IDuringQueryEventArgs, QueryEvents, IFetchMoreSuccessEventArgs, IDoneBuildingQueryEventArgs, IBuildingQueryEventArgs, IBuildingCallOptionsEventArgs} from '../events/QueryEvents';\nimport {QueryUtils} from '../utils/QueryUtils';\nimport {Defer} from '../misc/Defer';\nimport {$$, Dom} from '../utils/Dom';\nimport {Utils} from '../utils/Utils';\nimport {Promise} from 'es6-promise';\nimport {BaseComponent} from '../ui/Base/BaseComponent';\nimport {ModalBox} from '../ExternalModulesShim';\ndeclare const coveoanalytics: CoveoAnalytics.CoveoUA;\n\n/**\n * Possible options when performing a query with the query controller\n */\nexport interface IQueryOptions {\n  /**\n   * If the analytics component is enabled in the interface, it will look for any query executed by the query controller for which no analytics event was associated.<br/>\n   * By setting this property to true, this will cancel this check when the query is performed\n   */\n  ignoreWarningSearchEvent?: boolean;\n  /**\n   * Specify that the query to execute is a search as you type. This information will be passed down in the query events for component and external code to determine their behavior\n   */\n  searchAsYouType?: boolean;\n  /**\n   * Specify a function that you wish to execute just before the query is executed\n   */\n  beforeExecuteQuery?: () => void;\n  /**\n   * Cancel the query\n   */\n  cancel?: boolean;\n  /**\n   * The component from which the query originated. For example the pager will set the property to tweak it's behaviour\n   */\n  origin?: any;\n\n  /**\n   * Whether or not to log the query in the user actions history when using the page view script: https://github.com/coveo/coveo.analytics.js.\n   * Only the 'q' part of the query will be logged.\n   * This option is useful, because it prevents the query to be logged twice when a {@link Recommendation} component is present.\n   * It also makes sure that only relevant queries are logged. For exemple, the 'empty' interface load query isn't logged.\n   */\n  logInActionsHistory?: boolean;\n  keepLastSearchUid?: boolean;\n  closeModalBox?: boolean;\n}\n\ninterface ILastQueryLocalStorage {\n  hash: string;\n  uid: string;\n  expire: number;\n}\n\nclass DefaultQueryOptions implements IQueryOptions {\n  searchAsYouType = false;\n  beforeExecuteQuery: () => void;\n  closeModalBox = true;\n  cancel = false;\n  logInActionsHistory = false;\n}\n\n/**\n * This class is automatically instantiated and bound to the root of your search interface when you initialize the framework.<br/>\n * It is essentially a singleton that wraps the access to the {@link SearchEndpoint} endpoint to execute query, and is in charge of triggering the different query events.<br/>\n * This is what every component of the framework uses internally to execute query or access the endpoint.<br/>\n * When calling <code>Coveo.executeQuery</code> this class is used.\n */\nexport class QueryController extends RootComponent {\n  static ID = 'QueryController';\n\n  private currentPendingQuery: Promise<IQueryResults>;\n  private lastQueryBuilder: QueryBuilder;\n  private lastQueryHash: string;\n  private lastQuery: IQuery;\n  private lastSearchUid: string;\n  private lastQueryResults: IQueryResults;\n  private currentError: any;\n  private firstQuery: boolean;\n  private createdOneQueryBuilder: boolean;\n  private showingExecutingQueryAnimation = false;\n  private overrideEndpoint: SearchEndpoint;\n\n  private localStorage = new LocalStorageUtils<ILastQueryLocalStorage>('lastQueryHash');\n\n  /**\n   * Create a new query controller\n   * @param element\n   * @param options\n   */\n  constructor(element: HTMLElement, public options: ISearchInterfaceOptions, public usageAnalytics, public searchInterface) {\n    super(element, QueryController.ID);\n    Assert.exists(element);\n    Assert.exists(options);\n    this.firstQuery = true;\n  }\n\n  /**\n   * Set the {@link SearchEndpoint} that the query controller should use to execute query\n   * @param endpoint\n   */\n  public setEndpoint(endpoint: SearchEndpoint) {\n    this.overrideEndpoint = endpoint;\n    this.logger.debug('Endpoint set', endpoint);\n  }\n\n  /**\n   * Get the {@link SearchEndpoint} that is currently used by the query controller to execute query\n   * @returns {SearchEndpoint}\n   */\n  public getEndpoint(): ISearchEndpoint {\n    let endpoint = this.overrideEndpoint || this.options.endpoint;\n\n    // We must wrap the endpoint in a decorator that'll add the call options\n    // we obtain by firing the proper event. Those are used for authentication\n    // providers, and I guess other stuff later on.\n    return new SearchEndpointWithDefaultCallOptions(endpoint, this.getCallOptions())\n  }\n\n  /**\n   * Return the last query that was performed by the query controller\n   * @returns {IQuery|Query}\n   */\n  public getLastQuery() {\n    return this.lastQuery || new QueryBuilder().build();\n  }\n\n  /**\n   * Execute a query and return a Promise of IQueryResults.<br/>\n   * This will execute the normal query flow, triggering all the necessary query events (newQuery <br/>\n   * All components present in the interface will act accordingly (modify the query and render results if needed).\n   * @param options\n   * @returns {Promise<IQueryResults>}\n   */\n  public executeQuery(options?: IQueryOptions): Promise<IQueryResults> {\n    options = <IQueryOptions>_.extend(new DefaultQueryOptions(), options);\n\n    if (options.closeModalBox) {\n      ModalBox.close(true);\n    }\n\n    this.logger.debug('Executing new query');\n\n    this.cancelAnyCurrentPendingQuery();\n\n    if (options.beforeExecuteQuery != null) {\n      options.beforeExecuteQuery();\n    }\n\n    if (!options.ignoreWarningSearchEvent) {\n      this.usageAnalytics.warnAboutSearchEvent();\n    }\n\n    this.showExecutingQueryAnimation();\n\n    let dataToSendOnNewQuery: INewQueryEventArgs = {\n      searchAsYouType: options.searchAsYouType,\n      cancel: options.cancel,\n      origin: options.origin\n    };\n\n    this.newQueryEvent(dataToSendOnNewQuery);\n\n    if (dataToSendOnNewQuery.cancel) {\n      this.cancelQuery();\n      return;\n    }\n\n    let queryBuilder = this.createQueryBuilder(options);\n\n    // The query was canceled\n    if (!queryBuilder) {\n      return;\n    }\n\n    let query = queryBuilder.build();\n\n    if (options.logInActionsHistory) {\n      this.logQueryInActionsHistory(query);\n    }\n\n    let endpointToUse = this.getEndpoint();\n\n    let promise = this.currentPendingQuery = endpointToUse.search(query);\n    promise.then((queryResults) => {\n      Assert.exists(queryResults);\n      let firstQuery = this.firstQuery;\n      if (this.firstQuery) {\n        this.firstQuery = false;\n      }\n      // If our promise is no longer the current one, then the query\n      // has been cancel. We should do nothing here.\n      if (promise !== this.currentPendingQuery) {\n        return;\n      }\n\n      this.logger.debug('Query results received', query, queryResults);\n      let enableHistory = this.searchInterface && this.searchInterface.options && this.searchInterface.options.enableHistory;\n\n      if ((!firstQuery || enableHistory) && this.keepLastSearchUid(query, queryResults)) {\n        queryResults.searchUid = this.getLastSearchUid();\n        queryResults._reusedSearchUid = true;\n        QueryUtils.setPropertyOnResults(queryResults, 'queryUid', this.getLastSearchUid());\n      } else {\n        this.lastQueryHash = this.queryHash(query, queryResults);\n        this.lastSearchUid = queryResults.searchUid;\n      }\n\n      this.lastQuery = query;\n      this.lastQueryResults = queryResults;\n      this.currentError = null;\n\n      let dataToSendOnPreprocessResult: IPreprocessResultsEventArgs = {\n        queryBuilder: queryBuilder,\n        query: query,\n        results: queryResults,\n        searchAsYouType: options.searchAsYouType\n      };\n      this.preprocessResultsEvent(dataToSendOnPreprocessResult);\n\n      let dataToSendOnNoResult: INoResultsEventArgs = {\n        queryBuilder: queryBuilder,\n        query: query,\n        results: queryResults,\n        searchAsYouType: options.searchAsYouType,\n        retryTheQuery: false\n      };\n      if (queryResults.results.length == 0) {\n        this.noResultEvent(dataToSendOnNoResult);\n      }\n\n      if (dataToSendOnNoResult.retryTheQuery) {\n        // When retrying the query, we must forward the results to the deferred we\n        // initially returned, in case someone is listening on it.\n        return this.executeQuery();\n      } else {\n        this.lastQueryBuilder = queryBuilder;\n        this.currentPendingQuery = undefined;\n\n        let dataToSendOnSuccess: IQuerySuccessEventArgs = {\n          queryBuilder: queryBuilder,\n          query: query,\n          results: queryResults,\n          searchAsYouType: options.searchAsYouType\n        };\n        this.querySuccessEvent(dataToSendOnSuccess);\n\n        Defer.defer(() => {\n          this.deferredQuerySuccessEvent(dataToSendOnSuccess);\n          this.hideExecutingQueryAnimation();\n        });\n        return queryResults;\n      }\n    }).catch((error?: any) => {\n      // If our deferred is no longer the current one, then the query\n      // has been cancel. We should do nothing here.\n      if (promise !== this.currentPendingQuery) {\n        return;\n      }\n\n      this.logger.error('Query triggered an error', query, error);\n\n      // this.currentPendingQuery.reject(error);\n      this.currentPendingQuery = undefined;\n      let dataToSendOnError: IQueryErrorEventArgs = {\n        queryBuilder: queryBuilder,\n        endpoint: endpointToUse,\n        query: query,\n        error: error,\n        searchAsYouType: options.searchAsYouType\n      };\n\n      this.lastQuery = query;\n      this.lastQueryResults = null;\n      this.currentError = error;\n      this.queryError(dataToSendOnError);\n\n      this.hideExecutingQueryAnimation();\n    });\n\n    let dataToSendDuringQuery: IDuringQueryEventArgs = {\n      queryBuilder: queryBuilder,\n      query: query,\n      searchAsYouType: options.searchAsYouType,\n      promise: promise\n    };\n    this.duringQueryEvent(dataToSendDuringQuery);\n\n    return this.currentPendingQuery;\n  }\n\n  /**\n   * Using the same parameters as the last successful query, fetch another batch of results. Particularly useful for infinite scrolling, for example.\n   * @param count\n   * @returns {any}\n   */\n  public fetchMore(count: number): Promise<IQueryResults> {\n    if (this.currentPendingQuery != undefined) {\n      return undefined;\n    }\n    // Send all pending events (think : search as you type)\n    // This allows us to get the real search id for the results when the query returns\n    this.usageAnalytics.sendAllPendingEvents();\n\n    let queryBuilder = new QueryBuilder();\n    this.continueLastQueryBuilder(queryBuilder, count);\n    let query = queryBuilder.build();\n    let endpointToUse = this.getEndpoint()\n    let promise: any = this.currentPendingQuery = endpointToUse.search(query);\n    let dataToSendDuringQuery: IDuringQueryEventArgs = {\n      queryBuilder: queryBuilder,\n      query: query,\n      searchAsYouType: false,\n      promise: promise\n    };\n    $$(this.element).trigger(QueryEvents.duringFetchMoreQuery, dataToSendDuringQuery);\n    this.lastQueryBuilder = queryBuilder;\n    this.lastQuery = query;\n    promise.then((results?: IQueryResults) => {\n      // We re-use the search id from the initial search here, even though the\n      // server provided us with a new one. 'Fetch mores' are considered to be\n      // the same query from an analytics point of view.\n\n      this.currentPendingQuery = undefined;\n\n      if (this.lastQueryResults == null) {\n        this.lastQueryResults = results;\n      } else {\n        _.forEach(results.results, (result) => {\n          this.lastQueryResults.results.push(result);\n        });\n      }\n\n      let dataToSendOnPreprocessResult: IPreprocessResultsEventArgs = {\n        queryBuilder: queryBuilder,\n        query: query,\n        results: results,\n        searchAsYouType: false\n      };\n      this.preprocessResultsEvent(dataToSendOnPreprocessResult);\n      QueryUtils.setIndexAndUidOnQueryResults(query, results, this.getLastSearchUid(), results.pipeline, results.splitTestRun);\n      let dataToSendOnFetchMoreSuccess: IFetchMoreSuccessEventArgs = {\n        query: query,\n        results: results,\n        queryBuilder: queryBuilder,\n        searchAsYouType: false\n      }\n      this.fetchMoreSuccessEvent(dataToSendOnFetchMoreSuccess);\n    })\n    return this.currentPendingQuery;\n  }\n\n  /**\n   * Cancel any pending query\n   */\n  public cancelQuery(): void {\n    this.cancelAnyCurrentPendingQuery();\n    this.hideExecutingQueryAnimation();\n  }\n\n  public deferExecuteQuery(options?: IQueryOptions) {\n    this.showExecutingQueryAnimation();\n    Defer.defer(() => this.executeQuery(options));\n  }\n\n  public ensureCreatedQueryBuilder() {\n    if (!this.createdOneQueryBuilder) {\n      this.createQueryBuilder(new DefaultQueryOptions());\n    }\n  }\n\n  public createQueryBuilder(options: IQueryOptions): QueryBuilder {\n    Assert.exists(options);\n\n    this.createdOneQueryBuilder = true;\n\n    let queryBuilder = new QueryBuilder();\n\n    // Default values, components will probably override them if they exists\n    queryBuilder.language = <string>String['locale'];\n    queryBuilder.firstResult = queryBuilder.firstResult || 0;\n\n    // Allow outside code to customize the query builder. We provide two events,\n    // to allow someone to have a peep at the query builder after the first phase\n    // and add some stuff depending on what was put in there. The facets are using\n    // this mechanism to generate query overrides.\n    let dataToSendDuringBuildingQuery: IBuildingQueryEventArgs = {\n      queryBuilder: queryBuilder,\n      searchAsYouType: options.searchAsYouType,\n      cancel: options.cancel\n    };\n    this.buildingQueryEvent(dataToSendDuringBuildingQuery);\n\n    let dataToSendDuringDoneBuildingQuery: IDoneBuildingQueryEventArgs = {\n      queryBuilder: queryBuilder,\n      searchAsYouType: options.searchAsYouType,\n      cancel: options.cancel\n    };\n    this.doneBuildingQueryEvent(dataToSendDuringDoneBuildingQuery);\n\n    if (dataToSendDuringBuildingQuery.cancel || dataToSendDuringDoneBuildingQuery.cancel) {\n      this.cancelQuery();\n      return;\n    }\n\n    let pipeline = this.getPipelineInUrl();\n    if (pipeline) {\n      queryBuilder.pipeline = pipeline;\n    }\n\n    return queryBuilder;\n  }\n\n  public isStandaloneSearchbox(): boolean {\n    return Utils.isNonEmptyString(this.options.searchPageUri);\n  }\n\n  public saveLastQuery() {\n    this.localStorage.save({\n      expire: new Date().getTime() + 1000 * 60 * 30, // Psoucy rolled dice and said 30 mins was the magic number\n      hash: this.lastQueryHash,\n      uid: this.lastSearchUid\n    });\n  }\n\n\n  // This field is exposed for components rendered in the results or on-demand which\n  // need access to the entire query. For example, the QuickviewDocument need to pass\n  // the entire query to the Search API. For other components, QueryStateModel or\n  // listening to events like 'doneBuildingQuery' is the way to go.\n  public getLastQueryHash(): string {\n    if (this.lastQueryHash != null) {\n      return this.lastQueryHash;\n    }\n    this.loadLastQueryHash();\n    return this.lastQueryHash || this.queryHash(new QueryBuilder().build());\n  }\n\n  private getLastSearchUid(): string {\n    if (this.lastSearchUid != null) {\n      return this.lastSearchUid;\n    }\n    this.loadLastQueryHash();\n    return this.lastSearchUid;\n  }\n\n  private loadLastQueryHash() {\n    let lastQuery = this.localStorage.load();\n    if (lastQuery != null && new Date().getTime() <= lastQuery.expire) {\n      this.lastQueryHash = lastQuery.hash;\n      this.lastSearchUid = lastQuery.uid;\n      this.localStorage.remove();\n    }\n  }\n\n  private continueLastQueryBuilder(queryBuilder: QueryBuilder, count: number) {\n    _.extend(queryBuilder, this.lastQueryBuilder);\n    queryBuilder.firstResult = queryBuilder.firstResult + queryBuilder.numberOfResults;\n    queryBuilder.numberOfResults = count;\n  }\n\n  private getPipelineInUrl() {\n    return QueryUtils.getUrlParameter('pipeline');\n  }\n\n  private cancelAnyCurrentPendingQuery() {\n    if (Utils.exists(this.currentPendingQuery)) {\n      this.logger.debug('Cancelling current pending query');\n      Promise.reject(this.currentPendingQuery);\n      this.currentPendingQuery = undefined;\n      return true;\n    }\n    return false;\n  }\n\n  private showExecutingQueryAnimation() {\n    if (!this.showingExecutingQueryAnimation) {\n      $$(this.element).addClass('coveo-executing-query');\n      this.showingExecutingQueryAnimation = true;\n    }\n  }\n\n  private hideExecutingQueryAnimation() {\n    if (this.showingExecutingQueryAnimation) {\n      $$(this.element).removeClass('coveo-executing-query');\n      this.showingExecutingQueryAnimation = false;\n    }\n  }\n\n  private keepLastSearchUid(query: IQuery, queryResults: IQueryResults) {\n    return this.getLastQueryHash() == this.queryHash(query, queryResults);\n  }\n\n  private queryHash(query: IQuery, queryResults?: IQueryResults): string {\n    let queryHash = JSON.stringify(_.omit(query, 'firstResult', 'groupBy', 'debug'));\n    if (queryResults != null) {\n      queryHash += queryResults.pipeline;\n    }\n    return queryHash;\n  }\n\n  private getCallOptions(): IEndpointCallOptions {\n    let args: IBuildingCallOptionsEventArgs = {\n      options: {\n        authentication: []\n      }\n    };\n\n    $$(this.element).trigger(QueryEvents.buildingCallOptions, args);\n    return args.options;\n  }\n\n  private newQueryEvent(args) {\n    $$(this.element).trigger(QueryEvents.newQuery, args);\n  }\n\n  private buildingQueryEvent(args) {\n    $$(this.element).trigger(QueryEvents.buildingQuery, args);\n  }\n\n  private doneBuildingQueryEvent(args) {\n    $$(this.element).trigger(QueryEvents.doneBuildingQuery, args);\n  }\n\n  private duringQueryEvent(args) {\n    $$(this.element).trigger(QueryEvents.duringQuery, args);\n  }\n\n  private querySuccessEvent(args) {\n    $$(this.element).trigger(QueryEvents.querySuccess, args);\n  }\n\n  private fetchMoreSuccessEvent(args) {\n    $$(this.element).trigger(QueryEvents.fetchMoreSuccess, args);\n  }\n\n  private deferredQuerySuccessEvent(args) {\n    $$(this.element).trigger(QueryEvents.deferredQuerySuccess, args);\n  }\n\n  private queryError(args) {\n    $$(this.element).trigger(QueryEvents.queryError, args);\n  }\n\n  private preprocessResultsEvent(args) {\n    $$(this.element).trigger(QueryEvents.preprocessResults, args);\n  }\n\n  private noResultEvent(args) {\n    $$(this.element).trigger(QueryEvents.noResults, args);\n  }\n\n  public debugInfo() {\n    let info: any = {\n      'query': this.lastQuery,\n    };\n\n    if (this.lastQueryResults != null) {\n      info.queryDuration = () => this.buildQueryDurationSection(this.lastQueryResults);\n      info.results = () => _.omit(this.lastQueryResults, 'results');\n    }\n\n    if (this.currentError != null) {\n      info.error = () => this.currentError;\n    }\n\n    return info;\n  }\n\n  private buildQueryDurationSection(queryResults: IQueryResults) {\n    let dom = Dom.createElement('div', { className: 'coveo-debug-queryDuration' });\n    let graph = Dom.createElement('div', { className: 'coveo-debug-durations' });\n    let debugRef = BaseComponent.getComponentRef('Debug');\n    dom.appendChild(graph);\n    _.forEach(debugRef.durationKeys, (key: string) => {\n      let duration = queryResults[key];\n      if (duration != null) {\n        graph.appendChild(Dom.createElement('div', {\n          className: 'coveo-debug-duration',\n          style: `width:${duration}px`,\n          'data-id': key\n        }));\n        let legend = Dom.createElement('div', { className: 'coveo-debug-duration-legend', 'data-id': key });\n        dom.appendChild(legend);\n        let keyDom = Dom.createElement('span', { className: 'coveo-debug-duration-label' });\n        keyDom.appendChild(document.createTextNode(key));\n        legend.appendChild(keyDom);\n        let durationDom = Dom.createElement('span', { className: 'coveo-debug-duration-value' });\n        durationDom.appendChild(document.createTextNode(duration));\n        legend.appendChild(durationDom);\n      }\n    });\n    return dom;\n  }\n\n  private logQueryInActionsHistory(query: IQuery) {\n    if (typeof coveoanalytics != 'undefined') {\n      let store = new coveoanalytics.history.HistoryStore()\n      let queryElement: CoveoAnalytics.HistoryQueryElement = {\n        name: 'Query',\n        value: query.q,\n        time: JSON.stringify(new Date())\n      }\n      store.addElement(queryElement);\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controllers/QueryController.ts\n **/","l":{"1":1,"3":1,"7":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"64":2,"65":17,"67":17,"68":17,"69":17,"70":1,"78":1,"79":1,"90":128,"93":128,"100":128,"101":128,"102":128,"103":128,"104":128,"111":1,"112":12,"113":12,"120":1,"121":17,"126":17,"133":1,"134":0,"144":17,"145":17,"147":17,"148":17,"151":17,"153":17,"155":17,"156":0,"159":17,"160":17,"163":17,"165":17,"171":17,"173":17,"174":1,"175":1,"178":16,"181":16,"182":0,"185":16,"187":16,"188":2,"191":16,"193":16,"194":16,"195":6,"196":6,"197":6,"198":6,"202":6,"203":0,"206":6,"207":6,"209":6,"210":0,"211":0,"212":0,"214":6,"215":6,"218":6,"219":6,"220":6,"222":6,"228":6,"230":6,"237":6,"238":1,"241":6,"244":0,"246":6,"247":6,"249":6,"255":6,"257":6,"258":6,"259":6,"261":6,"266":1,"267":0,"270":1,"273":1,"274":1,"282":1,"283":1,"284":1,"285":1,"287":1,"290":16,"296":16,"298":16,"306":1,"307":1,"308":0,"312":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"325":1,"326":1,"327":1,"328":1,"333":0,"335":0,"336":0,"338":0,"339":0,"343":0,"349":0,"350":0,"351":0,"357":0,"359":1,"365":1,"366":1,"367":1,"370":1,"371":0,"372":0,"375":1,"376":0,"377":0,"381":1,"382":16,"384":16,"386":16,"389":16,"390":16,"396":16,"401":16,"403":16,"408":16,"410":16,"411":0,"412":0,"415":16,"416":16,"417":0,"420":16,"423":1,"424":0,"427":1,"428":0,"440":1,"441":0,"442":0,"444":0,"445":0,"448":1,"449":0,"450":0,"452":0,"453":0,"456":1,"457":0,"458":0,"459":0,"460":0,"461":0,"465":1,"466":1,"467":1,"468":1,"471":1,"472":16,"475":1,"476":18,"477":0,"478":0,"479":0,"480":0,"482":18,"485":1,"486":17,"487":17,"488":17,"492":1,"493":8,"494":8,"495":8,"499":1,"500":0,"503":1,"504":6,"505":6,"506":6,"508":6,"511":1,"512":17,"518":17,"519":17,"522":1,"523":17,"526":1,"527":16,"530":1,"531":16,"534":1,"535":16,"538":1,"539":6,"542":1,"543":0,"546":1,"547":6,"550":1,"551":1,"554":1,"555":6,"558":1,"559":1,"562":1,"563":0,"567":0,"568":0,"569":0,"572":0,"573":0,"576":0,"579":1,"580":0,"581":0,"582":0,"583":0,"584":0,"585":0,"586":0,"587":0,"592":0,"593":0,"594":0,"595":0,"596":0,"597":0,"598":0,"599":0,"602":0,"605":1,"606":2,"607":1,"608":1,"613":1,"616":1}},"src/ui/Base/RootComponent.ts":{"path":"src/ui/Base/RootComponent.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":46}},"2":{"start":{"line":3,"column":0},"end":{"line":7,"column":1}},"3":{"start":{"line":3,"column":35},"end":{"line":3,"column":48}},"4":{"start":{"line":4,"column":2},"end":{"line":6,"column":3}},"5":{"start":{"line":5,"column":4},"end":{"line":5,"column":25}},"6":{"start":{"line":4,"column":21},"end":{"line":4,"column":41}},"7":{"start":{"line":4,"column":50},"end":{"line":4,"column":62}},"8":{"start":{"line":7,"column":0},"end":{"line":7,"column":1}},"9":{"start":{"line":3,"column":13},"end":{"line":7,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1423)","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"RootComponent","line":4,"loc":{"start":{"line":4,"column":2},"end":{"line":4,"column":62}}}},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":363,"6":363,"7":363,"8":1,"9":1},"b":{},"f":{"1":1,"2":363},"code":"import {BaseComponent} from './BaseComponent';\n\nexport class RootComponent extends BaseComponent {\n  constructor(public element: HTMLElement, public type: string) {\n    super(element, type);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Base/RootComponent.ts\n **/","l":{"1":1,"3":1,"4":363,"5":363,"7":1}},"src/ui/Base/BaseComponent.ts":{"path":"src/ui/Base/BaseComponent.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":53}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":41}},"5":{"start":{"line":15,"column":0},"end":{"line":115,"column":1}},"6":{"start":{"line":31,"column":2},"end":{"line":37,"column":3}},"7":{"start":{"line":31,"column":21},"end":{"line":31,"column":41}},"8":{"start":{"line":31,"column":50},"end":{"line":31,"column":62}},"9":{"start":{"line":24,"column":9},"end":{"line":24,"column":26}},"10":{"start":{"line":32,"column":4},"end":{"line":32,"column":27}},"11":{"start":{"line":33,"column":4},"end":{"line":33,"column":34}},"12":{"start":{"line":34,"column":4},"end":{"line":34,"column":35}},"13":{"start":{"line":35,"column":4},"end":{"line":35,"column":25}},"14":{"start":{"line":36,"column":4},"end":{"line":36,"column":56}},"15":{"start":{"line":43,"column":9},"end":{"line":47,"column":3}},"16":{"start":{"line":44,"column":4},"end":{"line":44,"column":23}},"17":{"start":{"line":45,"column":4},"end":{"line":45,"column":43}},"18":{"start":{"line":46,"column":4},"end":{"line":46,"column":16}},"19":{"start":{"line":54,"column":9},"end":{"line":56,"column":3}},"20":{"start":{"line":55,"column":4},"end":{"line":55,"column":25}},"21":{"start":{"line":63,"column":9},"end":{"line":65,"column":3}},"22":{"start":{"line":64,"column":4},"end":{"line":64,"column":26}},"23":{"start":{"line":68,"column":10},"end":{"line":77,"column":3}},"24":{"start":{"line":69,"column":4},"end":{"line":76,"column":6}},"25":{"start":{"line":70,"column":6},"end":{"line":75,"column":7}},"26":{"start":{"line":71,"column":8},"end":{"line":71,"column":41}},"27":{"start":{"line":72,"column":8},"end":{"line":74,"column":9}},"28":{"start":{"line":73,"column":10},"end":{"line":73,"column":77}},"29":{"start":{"line":79,"column":9},"end":{"line":86,"column":3}},"30":{"start":{"line":80,"column":4},"end":{"line":80,"column":27}},"31":{"start":{"line":81,"column":4},"end":{"line":81,"column":29}},"32":{"start":{"line":82,"column":4},"end":{"line":82,"column":44}},"33":{"start":{"line":83,"column":4},"end":{"line":83,"column":82}},"34":{"start":{"line":84,"column":4},"end":{"line":84,"column":83}},"35":{"start":{"line":85,"column":4},"end":{"line":85,"column":72}},"36":{"start":{"line":88,"column":9},"end":{"line":90,"column":3}},"37":{"start":{"line":89,"column":4},"end":{"line":89,"column":164}},"38":{"start":{"line":92,"column":9},"end":{"line":95,"column":3}},"39":{"start":{"line":93,"column":4},"end":{"line":93,"column":34}},"40":{"start":{"line":94,"column":4},"end":{"line":94,"column":26}},"41":{"start":{"line":97,"column":9},"end":{"line":100,"column":3}},"42":{"start":{"line":98,"column":4},"end":{"line":98,"column":34}},"43":{"start":{"line":99,"column":4},"end":{"line":99,"column":64}},"44":{"start":{"line":102,"column":9},"end":{"line":109,"column":3}},"45":{"start":{"line":103,"column":4},"end":{"line":103,"column":27}},"46":{"start":{"line":105,"column":4},"end":{"line":107,"column":5}},"47":{"start":{"line":106,"column":6},"end":{"line":106,"column":40}},"48":{"start":{"line":108,"column":4},"end":{"line":108,"column":40}},"49":{"start":{"line":111,"column":9},"end":{"line":113,"column":3}},"50":{"start":{"line":112,"column":4},"end":{"line":112,"column":27}},"51":{"start":{"line":115,"column":0},"end":{"line":115,"column":1}},"52":{"start":{"line":15,"column":13},"end":{"line":115,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1426)","line":15,"loc":{"start":{"line":15,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"BaseComponent","line":31,"loc":{"start":{"line":31,"column":2},"end":{"line":31,"column":62}}},"3":{"name":"(anonymous_1428)","line":43,"loc":{"start":{"line":43,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_1429)","line":54,"loc":{"start":{"line":54,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_1430)","line":63,"loc":{"start":{"line":63,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_1431)","line":68,"loc":{"start":{"line":68,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_1432)","line":69,"loc":{"start":{"line":69,"column":39},"end":{"line":69,"column":62}}},"8":{"name":"(anonymous_1433)","line":79,"loc":{"start":{"line":79,"column":2},"end":{"line":79,"column":78}}},"9":{"name":"(anonymous_1434)","line":88,"loc":{"start":{"line":88,"column":2},"end":{"line":88,"column":48}}},"10":{"name":"(anonymous_1435)","line":92,"loc":{"start":{"line":92,"column":2},"end":{"line":92,"column":48}}},"11":{"name":"(anonymous_1436)","line":97,"loc":{"start":{"line":97,"column":2},"end":{"line":97,"column":44}}},"12":{"name":"(anonymous_1437)","line":102,"loc":{"start":{"line":102,"column":2},"end":{"line":102,"column":68}}},"13":{"name":"(anonymous_1438)","line":111,"loc":{"start":{"line":111,"column":2},"end":{"line":111,"column":42}}}},"branchMap":{"1":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":6},"end":{"line":70,"column":5}},{"start":{"line":70,"column":6},"end":{"line":70,"column":5}}]},"2":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":8},"end":{"line":72,"column":7}},{"start":{"line":72,"column":8},"end":{"line":72,"column":7}}]},"3":{"line":89,"type":"cond-expr","locations":[{"start":{"line":89,"column":41},"end":{"line":89,"column":68}},{"start":{"line":89,"column":71},"end":{"line":89,"column":163}}]},"4":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":4},"end":{"line":105,"column":3}},{"start":{"line":105,"column":4},"end":{"line":105,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":2220,"8":2220,"9":2220,"10":2220,"11":2220,"12":2220,"13":2220,"14":2220,"15":1,"16":1,"17":1,"18":1,"19":1,"20":24,"21":1,"22":21,"23":1,"24":2220,"25":0,"26":0,"27":0,"28":0,"29":1,"30":7295,"31":7295,"32":7295,"33":7295,"34":7295,"35":7295,"36":1,"37":19326,"38":1,"39":16486,"40":16486,"41":1,"42":127,"43":127,"44":1,"45":7418,"46":7418,"47":2469,"48":7418,"49":1,"50":152,"51":1,"52":1},"b":{"1":[0,0],"2":[0,0],"3":[19261,65],"4":[2469,4949]},"f":{"1":1,"2":2220,"3":1,"4":24,"5":21,"6":2220,"7":0,"8":7295,"9":19326,"10":16486,"11":127,"12":7418,"13":152},"code":"import {Assert} from '../../misc/Assert';\nimport {$$} from '../../utils/Dom';\nimport {DebugEvents} from '../../events/DebugEvents';\nimport {Logger} from '../../misc/Logger';\n\ndeclare var Coveo;\n\nexport interface IComponentHtmlElement extends HTMLElement {\n  CoveoBoundComponents?: BaseComponent[];\n}\n\n/**\n * Every component in the framework ultimately inherits from this base component class.\n */\nexport class BaseComponent {\n  /**\n   * Allows component to log in the dev console\n   */\n  public logger: Logger;\n  /**\n   * A disabled component will not participate in the query, or listen to {@link ComponentEvents}\n   * @type {boolean}\n   */\n  public disabled = false;\n  /**\n   * The static ID that each component need to be identified.<br/>\n   * For example, SearchButton -> static ID : SearchButton -> className : CoveoSearchButton\n   */\n  static ID: string;\n\n  constructor(public element: HTMLElement, public type: string) {\n    Assert.exists(element);\n    Assert.isNonEmptyString(type);\n    this.logger = new Logger(this);\n    this.initDebugInfo();\n    BaseComponent.bindComponentToElement(element, this);\n  }\n\n  /**\n   * Return the debug info about this component\n   * @returns {any}\n   */\n  public debugInfo() {\n    var info: any = {};\n    info[this['constructor']['ID']] = this;\n    return info;\n  }\n\n  /**\n   * Disable the component.\n   * Normally this means that the component won't execute handlers for the framework events (query events, for example).\n   * Component are enabled by default on creation.\n   */\n  public disable() {\n    this.disabled = true;\n  }\n\n  /**\n   * Enable the component.\n   * Normally this means that the component will execute handlers for the framework events (query events, for example).\n   * Components are enabled by default on creation.\n   */\n  public enable() {\n    this.disabled = false;\n  }\n\n\n  private initDebugInfo() {\n    $$(this.element).on('doubleclick', function (e: MouseEvent) {\n      if (e.altKey) {\n        var debugInfo = this.debugInfo();\n        if (debugInfo != null) {\n          $(this.root).trigger(DebugEvents.showDebugPanel, this.debugInfo());\n        }\n      }\n    })\n  }\n\n  static bindComponentToElement(element: HTMLElement, component: BaseComponent) {\n    Assert.exists(element);\n    Assert.exists(component);\n    Assert.isNonEmptyString(component.type);\n    element[BaseComponent.computeCssClassNameForType(component.type)] = component;\n    $$(element).addClass(BaseComponent.computeCssClassNameForType(component.type));\n    BaseComponent.getBoundComponentsForElement(element).push(component);\n  }\n\n  static computeCssClassName(componentClass: any): string {\n    return componentClass['className'] ? componentClass['className'] : componentClass['className'] = BaseComponent.computeCssClassNameForType(componentClass['ID']);\n  }\n\n  static computeCssClassNameForType(type: string): string {\n    Assert.isNonEmptyString(type);\n    return 'Coveo' + type;\n  }\n\n  static computeSelectorForType(type: string): string {\n    Assert.isNonEmptyString(type);\n    return '.' + BaseComponent.computeCssClassNameForType(type);\n  }\n\n  static getBoundComponentsForElement(element: IComponentHtmlElement): BaseComponent[] {\n    Assert.exists(element);\n\n    if (element.CoveoBoundComponents == null) {\n      element.CoveoBoundComponents = [];\n    }\n    return element.CoveoBoundComponents;\n  }\n\n  static getComponentRef(component: string): any {\n    return Coveo[component]\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Base/BaseComponent.ts\n **/","l":{"1":1,"2":1,"3":1,"4":1,"15":1,"24":2220,"31":2220,"32":2220,"33":2220,"34":2220,"35":2220,"36":2220,"43":1,"44":1,"45":1,"46":1,"54":1,"55":24,"63":1,"64":21,"68":1,"69":2220,"70":0,"71":0,"72":0,"73":0,"79":1,"80":7295,"81":7295,"82":7295,"83":7295,"84":7295,"85":7295,"88":1,"89":19326,"92":1,"93":16486,"94":16486,"97":1,"98":127,"99":127,"102":1,"103":7418,"105":7418,"106":2469,"108":7418,"111":1,"112":152,"115":1}},"src/ui/Base/QueryBuilder.ts":{"path":"src/ui/Base/QueryBuilder.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":54}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":50}},"3":{"start":{"line":38,"column":0},"end":{"line":392,"column":1}},"4":{"start":{"line":44,"column":9},"end":{"line":44,"column":65}},"5":{"start":{"line":50,"column":9},"end":{"line":50,"column":73}},"6":{"start":{"line":56,"column":9},"end":{"line":56,"column":73}},"7":{"start":{"line":63,"column":9},"end":{"line":63,"column":76}},"8":{"start":{"line":102,"column":9},"end":{"line":102,"column":45}},"9":{"start":{"line":131,"column":9},"end":{"line":131,"column":33}},"10":{"start":{"line":136,"column":9},"end":{"line":136,"column":38}},"11":{"start":{"line":162,"column":9},"end":{"line":162,"column":39}},"12":{"start":{"line":163,"column":9},"end":{"line":163,"column":48}},"13":{"start":{"line":168,"column":9},"end":{"line":168,"column":43}},"14":{"start":{"line":174,"column":9},"end":{"line":174,"column":38}},"15":{"start":{"line":188,"column":9},"end":{"line":188,"column":44}},"16":{"start":{"line":190,"column":9},"end":{"line":190,"column":48}},"17":{"start":{"line":192,"column":9},"end":{"line":192,"column":52}},"18":{"start":{"line":196,"column":9},"end":{"line":196,"column":47}},"19":{"start":{"line":200,"column":9},"end":{"line":200,"column":51}},"20":{"start":{"line":204,"column":9},"end":{"line":204,"column":49}},"21":{"start":{"line":205,"column":9},"end":{"line":205,"column":51}},"22":{"start":{"line":227,"column":2},"end":{"line":273,"column":3}},"23":{"start":{"line":228,"column":4},"end":{"line":271,"column":6}},"24":{"start":{"line":272,"column":4},"end":{"line":272,"column":17}},"25":{"start":{"line":280,"column":9},"end":{"line":282,"column":3}},"26":{"start":{"line":281,"column":4},"end":{"line":281,"column":54}},"27":{"start":{"line":288,"column":9},"end":{"line":298,"column":3}},"28":{"start":{"line":289,"column":4},"end":{"line":289,"column":92}},"29":{"start":{"line":291,"column":4},"end":{"line":297,"column":5}},"30":{"start":{"line":306,"column":9},"end":{"line":308,"column":3}},"31":{"start":{"line":307,"column":4},"end":{"line":307,"column":66}},"32":{"start":{"line":316,"column":9},"end":{"line":335,"column":3}},"33":{"start":{"line":317,"column":4},"end":{"line":317,"column":101}},"34":{"start":{"line":318,"column":4},"end":{"line":318,"column":44}},"35":{"start":{"line":320,"column":4},"end":{"line":320,"column":49}},"36":{"start":{"line":321,"column":4},"end":{"line":321,"column":58}},"37":{"start":{"line":322,"column":4},"end":{"line":322,"column":34}},"38":{"start":{"line":324,"column":4},"end":{"line":324,"column":52}},"39":{"start":{"line":325,"column":4},"end":{"line":325,"column":69}},"40":{"start":{"line":326,"column":4},"end":{"line":326,"column":37}},"41":{"start":{"line":328,"column":4},"end":{"line":334,"column":5}},"42":{"start":{"line":342,"column":9},"end":{"line":344,"column":3}},"43":{"start":{"line":343,"column":4},"end":{"line":343,"column":78}},"44":{"start":{"line":346,"column":9},"end":{"line":348,"column":3}},"45":{"start":{"line":347,"column":4},"end":{"line":347,"column":68}},"46":{"start":{"line":355,"column":9},"end":{"line":357,"column":3}},"47":{"start":{"line":356,"column":4},"end":{"line":356,"column":79}},"48":{"start":{"line":359,"column":9},"end":{"line":365,"column":3}},"49":{"start":{"line":360,"column":4},"end":{"line":364,"column":5}},"50":{"start":{"line":361,"column":6},"end":{"line":361,"column":68}},"51":{"start":{"line":363,"column":6},"end":{"line":363,"column":18}},"52":{"start":{"line":373,"column":9},"end":{"line":378,"column":3}},"53":{"start":{"line":374,"column":4},"end":{"line":376,"column":5}},"54":{"start":{"line":375,"column":6},"end":{"line":375,"column":24}},"55":{"start":{"line":377,"column":4},"end":{"line":377,"column":30}},"56":{"start":{"line":386,"column":9},"end":{"line":391,"column":3}},"57":{"start":{"line":387,"column":4},"end":{"line":389,"column":5}},"58":{"start":{"line":388,"column":6},"end":{"line":388,"column":24}},"59":{"start":{"line":390,"column":4},"end":{"line":390,"column":35}},"60":{"start":{"line":392,"column":0},"end":{"line":392,"column":1}},"61":{"start":{"line":38,"column":13},"end":{"line":392,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1441)","line":38,"loc":{"start":{"line":38,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_1443)","line":227,"loc":{"start":{"line":227,"column":2},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_1444)","line":280,"loc":{"start":{"line":280,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_1445)","line":288,"loc":{"start":{"line":288,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_1446)","line":306,"loc":{"start":{"line":306,"column":2},"end":{"line":306,"column":55}}},"6":{"name":"(anonymous_1447)","line":316,"loc":{"start":{"line":316,"column":2},"end":{"line":316,"column":60}}},"7":{"name":"(anonymous_1448)","line":342,"loc":{"start":{"line":342,"column":2},"end":{"line":342,"column":44}}},"8":{"name":"(anonymous_1449)","line":346,"loc":{"start":{"line":346,"column":2},"end":{"line":346,"column":43}}},"9":{"name":"(anonymous_1450)","line":355,"loc":{"start":{"line":355,"column":2},"end":{"line":355,"column":44}}},"10":{"name":"(anonymous_1451)","line":359,"loc":{"start":{"line":359,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_1452)","line":373,"loc":{"start":{"line":373,"column":2},"end":{"line":373,"column":48}}},"12":{"name":"(anonymous_1453)","line":386,"loc":{"start":{"line":386,"column":2},"end":{"line":386,"column":50}}}},"branchMap":{"1":{"line":343,"type":"binary-expr","locations":[{"start":{"line":343,"column":35},"end":{"line":343,"column":55}},{"start":{"line":343,"column":59},"end":{"line":343,"column":61}}]},"2":{"line":356,"type":"binary-expr","locations":[{"start":{"line":356,"column":35},"end":{"line":356,"column":55}},{"start":{"line":356,"column":59},"end":{"line":356,"column":61}}]},"3":{"line":360,"type":"if","locations":[{"start":{"line":360,"column":4},"end":{"line":360,"column":3}},{"start":{"line":360,"column":4},"end":{"line":360,"column":3}}]},"4":{"line":360,"type":"binary-expr","locations":[{"start":{"line":360,"column":8},"end":{"line":360,"column":34}},{"start":{"line":360,"column":38},"end":{"line":360,"column":66}}]},"5":{"line":361,"type":"binary-expr","locations":[{"start":{"line":361,"column":40},"end":{"line":361,"column":60}},{"start":{"line":361,"column":64},"end":{"line":361,"column":66}}]},"6":{"line":374,"type":"if","locations":[{"start":{"line":374,"column":4},"end":{"line":374,"column":3}},{"start":{"line":374,"column":4},"end":{"line":374,"column":3}}]},"7":{"line":387,"type":"if","locations":[{"start":{"line":387,"column":4},"end":{"line":387,"column":3}},{"start":{"line":387,"column":4},"end":{"line":387,"column":3}}]}},"s":{"1":1,"2":1,"3":2,"4":601,"5":601,"6":601,"7":601,"8":601,"9":601,"10":601,"11":601,"12":601,"13":601,"14":601,"15":601,"16":601,"17":601,"18":601,"19":601,"20":601,"21":601,"22":1,"23":413,"24":413,"25":1,"26":1,"27":1,"28":41,"29":41,"30":1,"31":2,"32":1,"33":20,"34":20,"35":20,"36":20,"37":20,"38":20,"39":20,"40":20,"41":20,"42":1,"43":3,"44":1,"45":1,"46":1,"47":1,"48":1,"49":413,"50":2,"51":411,"52":1,"53":1,"54":1,"55":1,"56":1,"57":12,"58":11,"59":12,"60":1,"61":1},"b":{"1":[3,3],"2":[1,1],"3":[2,411],"4":[413,413],"5":[2,0],"6":[1,0],"7":[11,1]},"f":{"1":602,"2":413,"3":1,"4":41,"5":2,"6":20,"7":3,"8":1,"9":1,"10":413,"11":1,"12":12},"code":"import {ExpressionBuilder} from './ExpressionBuilder';\nimport {QueryUtils} from '../../utils/QueryUtils';\nimport {IRankingFunction} from '../../rest/RankingFunction';\nimport {IQueryFunction} from '../../rest/QueryFunction';\nimport {IGroupByRequest} from '../../rest/GroupByRequest';\nimport {IQuery} from '../../rest/Query';\n\n/**\n * Describe the expressions part of a QueryBuilder\n */\nexport interface IQueryBuilderExpression {\n  /**\n   * The whole expression\n   */\n  full?: string;\n  /**\n   * The full part, but without the constant\n   */\n  withoutConstant?: string;\n  /**\n   * The constant part of the expression\n   */\n  constant?: string;\n  /**\n   * The basic part of the expression\n   */\n  basic?: string;\n  /**\n   * The advanced part of the expression\n   */\n  advanced?: string;\n}\n\n/**\n * The QueryBuilder is used to build a {@link IQuery} that will be able to be executed using the Search API.<br/>\n * The class exposes several members and methods that help components and external code to build up the final query that is sent to the Search API.<br/>\n */\nexport class QueryBuilder {\n  /**\n   * Used to build the basic part of the query expression.<br/>\n   * This part typically consists of user-entered content such as query keywords, etc.\n   * @type {Coveo.ExpressionBuilder}\n   */\n  public expression: ExpressionBuilder = new ExpressionBuilder();\n  /**\n   * Used to build the advanced part of the query expression.<br/>\n   * This part is typically formed of filter expressions generated by components such as facets, external code, etc.\n   * @type {Coveo.ExpressionBuilder}\n   */\n  public advancedExpression: ExpressionBuilder = new ExpressionBuilder();\n  /**\n   * Used to build the advanced part of the query expression.<br/>\n   * This part is similar to advancedExpression, but its content is interpreted as a constant expression by the index and it takes advantage of special caching features.\n   * @type {Coveo.ExpressionBuilder}\n   */\n  public constantExpression: ExpressionBuilder = new ExpressionBuilder();\n  /**\n   * Used to build the disjunctive part of the query expression.<br/>\n   * When present, this part is evaluated separately from the other expressions and the matching results are merged to those matching expression, advancedExpression and constantExpression.<br/>\n   * The final boolean expression for the query is thus (basic advanced constant) OR (disjunction).\n   * @type {Coveo.ExpressionBuilder}\n   */\n  public disjunctionExpression: ExpressionBuilder = new ExpressionBuilder();\n  /**\n   * The hub value set from the {@link Analytics} component.<br/>\n   * Used for analytics reporting in the Coveo platform\n   */\n  public searchHub: string;\n  /**\n   * The tab value set from the {@link Tab} component.\n   */\n  public tab: string;\n  public language: string;\n  /**\n   * Name of the query pipeline to use.<br/>\n   * This specifies the name of the query pipeline to use for the query. If not specified, the default value is default, which means the default query pipeline will be used.\n   */\n  public pipeline: string;\n  /**\n   * The maximum age for cached query results, in milliseconds.<br/>\n   * If results for the exact same request (including user identities) are available in the in-memory cache, they will be used if they are not older than the specified value.<br/>\n   * Otherwise, the query will be sent to the index.\n   */\n  public maximumAge: number;\n  /**\n   * Whether to enable wildcards on the basic expression keywords.<br/>\n   * This enables the wildcard features of the index. Coveo Platform will expand keywords containing wildcard characters to the possible matching keywords to broaden the query.<br/>\n   * See : https://onlinehelp.coveo.com/en/ces/7.0/user/using_wildcards_in_queries.htm<br/>\n   * If not specified, this parameter defaults to false.\n   */\n  public enableWildcards: boolean;\n  /**\n   * Whether to enable question marks with wildcards.<br/>\n   * This enables using the question mark ? character within wildcard expressions.\n   */\n  public enableQuestionMarks: boolean;\n  /**\n   * Whether to disable the special query syntax such as field references for the basic query expression (parameter q).\n   * It is equivalent to a No syntax block applied to the basic query expression.\n   * If not specified, the parameter defaults to false\n   */\n  public disableQuerySyntax: boolean = false;\n  /**\n   * Whether to enable the support for operator in lowercase (AND OR -> and or)\n   */\n  public enableLowercaseOperators: boolean;\n  /**\n   * Whether to enable partial matching of the basic expression keywords.<br/>\n   * By activating this, when the basic expression contains at least {@link IQuery.partialMatchKeywords}, documents containing only the number of keywords specified by {@link IQuery.partialMatchThreshold} will also match the query.<br/>\n   * Without this option, documents are required to contain all the keywords in order to match the query.<br/>\n   * If not specified, this parameter defaults to false.\n   */\n  public enablePartialMatch: boolean;\n  /**\n   * The minimum number of keywords needed to activate partial match.<br/>\n   * This specifies the minimum number of keywords needed for the partial match feature to activate.<br/>\n   * If the basic expression contains less than this number of keywords, no transformation is applied on the query.<br/>\n   * If not specified, this parameter defaults to 5.\n   */\n  public partialMatchKeywords: number;\n  /**\n   * The threshold to use for matching documents when partial match is enabled.<br/>\n   * This specifies the minimum number of query keywords that a document must contain when partial match is enabled. This value can either be an absolute number or a percentage value based on the total number of keywords.<br/>\n   * If not specified, this parameter defaults to 50%.\n   */\n  public partialMatchThreshold: string;\n  /**\n   * This is the 0-based index of the first result to return.<br/>\n   * If not specified, this parameter defaults to 0.\n   */\n  public firstResult: number = 0;\n  /**\n   * This is the number of results to return, starting from {@link IQuery.firstResult}.<br/>\n   * If not specified, this parameter defaults to 10.\n   */\n  public numberOfResults: number = 10;\n  /**\n   * This specifies the length (in number of characters) of the excerpts generated by the indexer based on the keywords present in the query.<br/>\n   * The index includes the top most interesting sentences (in the order they appear in the document) that fit in the specified number of characters.<br/>\n   * When not specified, the default value is 200.\n   */\n  public excerptLength: number;\n  /**\n   * This specifies a field on which {@link Folding} should be performed.<br/>\n   * Folding is a kind of duplicate filtering where only the first result with any given value of the field is included in the result set.<br/>\n   * It's typically used to return only one result in a conversation, for example when forum posts in a thread are indexed as separate items.\n   */\n  public filterField: string;\n  /**\n   * Number of results that should be folded, using the {@link IQuery.filterField}\n   */\n  public filterFieldRange: number;\n  /**\n   * Specifies the parentField when doing parent-child loading (See : {@link Folding})\n   */\n  public parentField: string;\n  /**\n   * Specifies the childField when doing parent-child loading (See : {@link Folding})\n   */\n  public childField: string;\n  public fieldsToInclude: string[];\n  public requiredFields: string[] = [];\n  public includeRequiredFields: boolean = false;\n  public fieldsToExclude: string[];\n  /**\n   * Whether to enable query corrections on this query. See {@link DidYouMean}\n   */\n  public enableDidYouMean: boolean = false;\n  /**\n   * Whether to enable debug info on the query.<br/>\n   * This will return additional information on the resulting JSON response from the Search API.<br/>\n   * Mostly : execution report (a detailed breakdown of the parsed and executed query)\n   */\n  public enableDebug: boolean = false;\n  /**\n   * Whether the index should take collaborative rating in account when ranking result. See : {@link ResultRating}\n   */\n  public enableCollaborativeRating: boolean;\n  /**\n   * This specifies the sort criterion(s) to use to sort results. If not specified, this parameter defaults to Relevancy.<br/>\n   * Possible values are : <br/>\n   * -- relevancy :  This uses all the configured ranking weights as well as any specified ranking expressions to rank results.<br/>\n   * -- dateascending / datedescending : Sort using the value of the @date field, which is typically the last modification date of an item in the index.<br/>\n   * -- qre : Sort using only the weights applied through ranking expressions. This is much like using Relevancy except that automatic weights based on keyword proximity etc, are not computed.<br/>\n   * -- nosort : Do not sort the results. The order in which items are returned is essentially random.<br/>\n   * -- @field ascending / @field descending : Sort using the value of a custom field.\n   */\n  public sortCriteria: string = 'relevancy';\n  public sortField: string;\n  public retrieveFirstSentences: boolean = true;\n  public timezone: string;\n  public queryUid: string = QueryUtils.createGuid();\n  /**\n   * This specifies an array of Query Function operation that will be executed on the results.\n   */\n  public queryFunctions: IQueryFunction[] = [];\n  /**\n   * This specifies an array of Ranking Function operations that will be executed on the result\n   */\n  public rankingFunctions: IRankingFunction[] = [];\n  /**\n   * This specifies an array of Group By operations that can be performed on the query results to extract facets\n   */\n  public groupByRequests: IGroupByRequest[] = [];\n  public enableDuplicateFiltering: boolean = false;\n  /**\n   * The context is a map of key_value that can be used in the Query pipeline in the Coveo platform.<br/>\n   */\n  public context: { [key: string]: any };\n\n  /**\n   * The actions history represents the past actions a user made and is used by reveal to suggest recommendations.\n   * It is generated by the page view script (https://github.com/coveo/coveo.analytics.js)\n   */\n  public actionsHistory: string;\n\n  /**\n   * This is the id of the recommendation interface that generated the query.\n   */\n  public recommendation: string;\n\n  /**\n   * Build the current content or state of the query builder and return a {@link IQuery}<br/>\n   * build can be called multiple time on the same QueryBuilder.\n   * @returns {IQuery}\n   */\n  build(): IQuery {\n    var query: IQuery = {\n      q: this.expression.build(),\n      aq: this.advancedExpression.build(),\n      cq: this.constantExpression.build(),\n      dq: this.disjunctionExpression.build(),\n\n      searchHub: this.searchHub,\n      tab: this.tab,\n      language: this.language,\n      pipeline: this.pipeline,\n      maximumAge: this.maximumAge,\n\n      wildcards: this.enableWildcards,\n      questionMark: this.enableQuestionMarks,\n      lowercaseOperators: this.enableLowercaseOperators,\n      partialMatch: this.enablePartialMatch,\n      partialMatchKeywords: this.partialMatchKeywords,\n      partialMatchThreshold: this.partialMatchThreshold,\n\n      firstResult: this.firstResult,\n      numberOfResults: this.numberOfResults,\n      excerptLength: this.excerptLength,\n      filterField: this.filterField,\n      filterFieldRange: this.filterFieldRange,\n      parentField: this.parentField,\n      childField: this.childField,\n      fieldsToInclude: this.computeFieldsToInclude(),\n      fieldsToExclude: this.fieldsToExclude,\n      enableDidYouMean: this.enableDidYouMean,\n      sortCriteria: this.sortCriteria,\n      sortField: this.sortField,\n      queryFunctions: this.queryFunctions,\n      rankingFunctions: this.rankingFunctions,\n      groupBy: this.groupByRequests,\n      retrieveFirstSentences: this.retrieveFirstSentences,\n      timezone: this.timezone,\n      disableQuerySyntax: this.disableQuerySyntax,\n      enableDuplicateFiltering: this.enableDuplicateFiltering,\n      enableCollaborativeRating: this.enableCollaborativeRating,\n      debug: this.enableDebug,\n      context: this.context,\n      actionsHistory: this.actionsHistory,\n      recommendation: this.recommendation\n    };\n    return query;\n  }\n\n  /**\n   * Return only the expression(s) part(s) of the query, as a string.<br/>\n   * This means the basic, advanced and constant part in a complete expression {@link IQuery.q}, {@link IQuery.aq}, {@link IQuery.cq}\n   * @returns {string}\n   */\n  public computeCompleteExpression(): string {\n    return this.computeCompleteExpressionParts().full;\n  }\n\n  /**\n   * Return only the expression(s) part(s) of the query, as an object\n   * @returns {{full: string, withoutConstant: string, constant: string}}\n   */\n  public computeCompleteExpressionParts(): IQueryBuilderExpression {\n    var withoutConstant = ExpressionBuilder.merge(this.expression, this.advancedExpression);\n\n    return {\n      full: ExpressionBuilder.mergeUsingOr(ExpressionBuilder.merge(withoutConstant, this.constantExpression), this.disjunctionExpression).build(),\n      withoutConstant: ExpressionBuilder.mergeUsingOr(withoutConstant, this.disjunctionExpression).build(),\n      basic: ExpressionBuilder.mergeUsingOr(this.expression, this.disjunctionExpression).build(),\n      advanced: ExpressionBuilder.mergeUsingOr(this.advancedExpression, this.disjunctionExpression).build(),\n      constant: ExpressionBuilder.mergeUsingOr(this.constantExpression, this.disjunctionExpression).build()\n    }\n  }\n\n  /**\n   * Return only the expression(s) part(s) of the query, as a string, except the given expression.<br/>\n   * This is used by {@link Facet}, to build their group by request with query override.\n   * @param except\n   * @returns {string}\n   */\n  public computeCompleteExpressionExcept(except: string): string {\n    return this.computeCompleteExpressionPartsExcept(except).full;\n  }\n\n  /**\n   * Return only the expression(s) part(s) of the query, as an object, except the given expression.<br/>\n   * This is used by {@link Facet}, to build their group by request with query override.\n   * @param except\n   * @returns {{full: string, withoutConstant: string, constant: string}}\n   */\n  public computeCompleteExpressionPartsExcept(except: string): IQueryBuilderExpression {\n    var withoutConstantAndExcept = ExpressionBuilder.merge(this.expression, this.advancedExpression);\n    withoutConstantAndExcept.remove(except);\n\n    var basicAndExcept = new ExpressionBuilder();\n    basicAndExcept.fromExpressionBuilder(this.expression);\n    basicAndExcept.remove(except);\n\n    var advancedAndExcept = new ExpressionBuilder();\n    advancedAndExcept.fromExpressionBuilder(this.advancedExpression);\n    advancedAndExcept.remove(except);\n\n    return {\n      full: ExpressionBuilder.mergeUsingOr(ExpressionBuilder.merge(withoutConstantAndExcept, this.constantExpression), this.disjunctionExpression).build(),\n      withoutConstant: ExpressionBuilder.mergeUsingOr(withoutConstantAndExcept, this.disjunctionExpression).build(),\n      basic: ExpressionBuilder.mergeUsingOr(basicAndExcept, this.disjunctionExpression).build(),\n      advanced: ExpressionBuilder.mergeUsingOr(advancedAndExcept, this.disjunctionExpression).build(),\n      constant: ExpressionBuilder.mergeUsingOr(this.constantExpression, this.disjunctionExpression).build()\n    }\n  }\n\n  /**\n   * Add fields to specifically include when the results return.<br/>\n   * This can be used to accelerate the execution time of every query, as there is much less data to process if you whitelist specific fields\n   * @param fields\n   */\n  public addFieldsToInclude(fields: string[]) {\n    this.fieldsToInclude = _.uniq((this.fieldsToInclude || []).concat(fields))\n  }\n\n  public addRequiredFields(fields: string[]) {\n    this.requiredFields = _.uniq(this.requiredFields.concat(fields))\n  }\n\n  /**\n   * Add fields to specifically exclude when the results return.<br/>\n   * This can be used to accelerate the execution time of every query, as there is much less data to process if you blacklist specific fields\n   * @param fields\n   */\n  public addFieldsToExclude(fields: string[]) {\n    this.fieldsToExclude = _.uniq((this.fieldsToInclude || []).concat(fields));\n  }\n\n  public computeFieldsToInclude() {\n    if (this.includeRequiredFields || this.fieldsToInclude != null) {\n      return this.requiredFields.concat(this.fieldsToInclude || []);\n    } else {\n      return null;\n    }\n  }\n\n  /**\n   * Add a single context key->value pair to the query.<br/>\n   * This is used by the Query pipeline in the Coveo platform.\n   * @param key\n   * @param value\n   */\n  public addContextValue(key: string, value: any) {\n    if (this.context == null) {\n      this.context = {};\n    }\n    this.context[key] = value;\n  }\n\n  /**\n   * Add a context object to the query.<br/>\n   * This can contain multiple key->value.<br/>\n   * This is used by the Query pipeline in the Coveo platform.\n   * @param values\n   */\n  public addContext(values: { [key: string]: any }) {\n    if (this.context == null) {\n      this.context = {};\n    }\n    _.extend(this.context, values);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Base/QueryBuilder.ts\n **/","l":{"1":1,"2":1,"38":2,"44":601,"50":601,"56":601,"63":601,"102":601,"131":601,"136":601,"162":601,"163":601,"168":601,"174":601,"188":601,"190":601,"192":601,"196":601,"200":601,"204":601,"205":601,"227":1,"228":413,"272":413,"280":1,"281":1,"288":1,"289":41,"291":41,"306":1,"307":2,"316":1,"317":20,"318":20,"320":20,"321":20,"322":20,"324":20,"325":20,"326":20,"328":20,"342":1,"343":3,"346":1,"347":1,"355":1,"356":1,"359":1,"360":413,"361":2,"363":411,"373":1,"374":1,"375":1,"377":1,"386":1,"387":12,"388":11,"390":12,"392":1}},"src/ui/Base/ExpressionBuilder.ts":{"path":"src/ui/Base/ExpressionBuilder.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":50}},"3":{"start":{"line":9,"column":0},"end":{"line":129,"column":1}},"4":{"start":{"line":10,"column":10},"end":{"line":10,"column":31}},"5":{"start":{"line":11,"column":9},"end":{"line":11,"column":35}},"6":{"start":{"line":17,"column":9},"end":{"line":20,"column":3}},"7":{"start":{"line":18,"column":4},"end":{"line":18,"column":40}},"8":{"start":{"line":19,"column":4},"end":{"line":19,"column":32}},"9":{"start":{"line":26,"column":9},"end":{"line":28,"column":3}},"10":{"start":{"line":27,"column":4},"end":{"line":27,"column":52}},"11":{"start":{"line":37,"column":9},"end":{"line":44,"column":3}},"12":{"start":{"line":38,"column":4},"end":{"line":38,"column":35}},"13":{"start":{"line":39,"column":4},"end":{"line":39,"column":40}},"14":{"start":{"line":40,"column":4},"end":{"line":40,"column":38}},"15":{"start":{"line":41,"column":4},"end":{"line":41,"column":50}},"16":{"start":{"line":43,"column":4},"end":{"line":43,"column":71}},"17":{"start":{"line":52,"column":9},"end":{"line":58,"column":3}},"18":{"start":{"line":53,"column":4},"end":{"line":53,"column":35}},"19":{"start":{"line":54,"column":4},"end":{"line":54,"column":40}},"20":{"start":{"line":55,"column":4},"end":{"line":55,"column":50}},"21":{"start":{"line":57,"column":4},"end":{"line":57,"column":69}},"22":{"start":{"line":64,"column":9},"end":{"line":70,"column":3}},"23":{"start":{"line":65,"column":4},"end":{"line":65,"column":40}},"24":{"start":{"line":66,"column":4},"end":{"line":66,"column":50}},"25":{"start":{"line":67,"column":4},"end":{"line":69,"column":5}},"26":{"start":{"line":68,"column":6},"end":{"line":68,"column":62}},"27":{"start":{"line":76,"column":9},"end":{"line":78,"column":3}},"28":{"start":{"line":77,"column":4},"end":{"line":77,"column":34}},"29":{"start":{"line":85,"column":9},"end":{"line":95,"column":3}},"30":{"start":{"line":85,"column":15},"end":{"line":85,"column":32}},"31":{"start":{"line":86,"column":4},"end":{"line":94,"column":5}},"32":{"start":{"line":87,"column":6},"end":{"line":87,"column":23}},"33":{"start":{"line":88,"column":11},"end":{"line":94,"column":5}},"34":{"start":{"line":89,"column":6},"end":{"line":89,"column":27}},"35":{"start":{"line":90,"column":11},"end":{"line":94,"column":5}},"36":{"start":{"line":91,"column":6},"end":{"line":91,"column":58}},"37":{"start":{"line":93,"column":6},"end":{"line":93,"column":34}},"38":{"start":{"line":102,"column":9},"end":{"line":109,"column":3}},"39":{"start":{"line":102,"column":15},"end":{"line":102,"column":47}},"40":{"start":{"line":103,"column":4},"end":{"line":103,"column":41}},"41":{"start":{"line":104,"column":4},"end":{"line":106,"column":7}},"42":{"start":{"line":105,"column":6},"end":{"line":105,"column":56}},"43":{"start":{"line":108,"column":4},"end":{"line":108,"column":18}},"44":{"start":{"line":116,"column":9},"end":{"line":128,"column":3}},"45":{"start":{"line":116,"column":22},"end":{"line":116,"column":54}},"46":{"start":{"line":117,"column":4},"end":{"line":117,"column":78}},"47":{"start":{"line":117,"column":64},"end":{"line":117,"column":76}},"48":{"start":{"line":119,"column":4},"end":{"line":119,"column":41}},"49":{"start":{"line":121,"column":4},"end":{"line":126,"column":5}},"50":{"start":{"line":122,"column":6},"end":{"line":122,"column":50}},"51":{"start":{"line":123,"column":11},"end":{"line":126,"column":5}},"52":{"start":{"line":124,"column":6},"end":{"line":124,"column":50}},"53":{"start":{"line":124,"column":39},"end":{"line":124,"column":48}},"54":{"start":{"line":125,"column":6},"end":{"line":125,"column":51}},"55":{"start":{"line":127,"column":4},"end":{"line":127,"column":18}},"56":{"start":{"line":129,"column":0},"end":{"line":129,"column":1}},"57":{"start":{"line":9,"column":13},"end":{"line":129,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1456)","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_1458)","line":17,"loc":{"start":{"line":17,"column":2},"end":{"line":17,"column":31}}},"3":{"name":"(anonymous_1459)","line":26,"loc":{"start":{"line":26,"column":2},"end":{"line":26,"column":60}}},"4":{"name":"(anonymous_1460)","line":37,"loc":{"start":{"line":37,"column":2},"end":{"line":37,"column":77}}},"5":{"name":"(anonymous_1461)","line":52,"loc":{"start":{"line":52,"column":2},"end":{"line":52,"column":67}}},"6":{"name":"(anonymous_1462)","line":64,"loc":{"start":{"line":64,"column":2},"end":{"line":64,"column":34}}},"7":{"name":"(anonymous_1463)","line":76,"loc":{"start":{"line":76,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_1464)","line":85,"loc":{"start":{"line":85,"column":2},"end":{"line":85,"column":32}}},"9":{"name":"(anonymous_1465)","line":102,"loc":{"start":{"line":102,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_1466)","line":104,"loc":{"start":{"line":104,"column":21},"end":{"line":104,"column":48}}},"11":{"name":"(anonymous_1467)","line":116,"loc":{"start":{"line":116,"column":2},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_1468)","line":117,"loc":{"start":{"line":117,"column":38},"end":{"line":117,"column":59}}},"13":{"name":"(anonymous_1469)","line":124,"loc":{"start":{"line":124,"column":34},"end":{"line":124,"column":35}}}},"branchMap":{"1":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":4},"end":{"line":67,"column":3}},{"start":{"line":67,"column":4},"end":{"line":67,"column":3}}]},"2":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":15},"end":{"line":85,"column":14}},{"start":{"line":85,"column":15},"end":{"line":85,"column":14}}]},"3":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":4},"end":{"line":86,"column":3}},{"start":{"line":86,"column":4},"end":{"line":86,"column":3}}]},"4":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":11},"end":{"line":88,"column":10}},{"start":{"line":88,"column":11},"end":{"line":88,"column":10}}]},"5":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":11},"end":{"line":90,"column":10}},{"start":{"line":90,"column":11},"end":{"line":90,"column":10}}]},"6":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":4},"end":{"line":121,"column":3}},{"start":{"line":121,"column":4},"end":{"line":121,"column":3}}]},"7":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":11},"end":{"line":123,"column":10}},{"start":{"line":123,"column":11},"end":{"line":123,"column":10}}]}},"s":{"1":1,"2":1,"3":2,"4":2922,"5":2922,"6":1,"7":167,"8":167,"9":1,"10":40,"11":1,"12":41,"13":41,"14":41,"15":41,"16":41,"17":1,"18":4,"19":4,"20":4,"21":4,"22":1,"23":62,"24":62,"25":62,"26":28,"27":1,"28":619,"29":1,"30":4472,"31":2236,"32":2012,"33":224,"34":188,"35":36,"36":36,"37":0,"38":1,"39":369,"40":123,"41":123,"42":246,"43":123,"44":1,"45":926,"46":309,"47":617,"48":309,"49":309,"50":14,"51":295,"52":41,"53":82,"54":41,"55":309,"56":1,"57":1},"b":{"1":[28,34],"2":[2236,0],"3":[2012,224],"4":[188,36],"5":[36,0],"6":[14,295],"7":[41,254]},"f":{"1":2923,"2":167,"3":40,"4":41,"5":4,"6":62,"7":619,"8":2236,"9":123,"10":246,"11":309,"12":617,"13":82},"code":"import {Assert} from '../../misc/Assert';\nimport {QueryUtils} from '../../utils/QueryUtils';\n\n/**\n * An ExpressionBuilder that is mostly used by the {@link QueryBuilder}<br/>\n * It is used to build a single query expression.<br/>\n * It allows combining multiple expression parts into a single string and provides utilities to generate common expression parts.\n */\nexport class ExpressionBuilder {\n  private parts: string[] = []; // he he he\n  public wrapParts: boolean = true;\n\n  /**\n   * Add a new part to the expression.\n   * @param expression\n   */\n  public add(expression: string) {\n    Assert.isNonEmptyString(expression);\n    this.parts.push(expression);\n  }\n\n  /**\n   * Take another ExpressionBuilder, and copy it.\n   * @param expression\n   */\n  public fromExpressionBuilder(expression: ExpressionBuilder) {\n    this.parts = this.parts.concat(expression.parts)\n  }\n\n  /**\n   * Add a new part to the expression, but specific for field values<br/>\n   * eg @field=(value1,value2,value3)\n   * @param field The field for which to create an expression eg: @foo\n   * @param operator The operator to use eg: = (equal) == (strict equal) <> (not equal)\n   * @param values The values to put in the expression\n   */\n  public addFieldExpression(field: string, operator: string, values: string[]) {\n    Assert.isNonEmptyString(field);\n    Assert.stringStartsWith(field, '@');\n    Assert.isNonEmptyString(operator);\n    Assert.isLargerOrEqualsThan(1, values.length);\n\n    this.add(QueryUtils.buildFieldExpression(field, operator, values));\n  }\n\n  /**\n   * Add a new part to the expression, but specific for field values<br/>\n   * eg : NOT @field==(value1, value2, value3)\n   * @param field The field for which to create an expression eg: @foo\n   * @param values The values to put in the expression\n   */\n  public addFieldNotEqualExpression(field: string, values: string[]) {\n    Assert.isNonEmptyString(field);\n    Assert.stringStartsWith(field, '@');\n    Assert.isLargerOrEqualsThan(1, values.length);\n\n    this.add(QueryUtils.buildFieldNotEqualExpression(field, values));\n  }\n\n  /**\n   * Removes an expression from the builder.\n   * @param expression\n   */\n  public remove(expression: string) {\n    Assert.isNonEmptyString(expression);\n    var index = _.indexOf(this.parts, expression);\n    if (index != -1) {\n      this.parts.splice(_.indexOf(this.parts, expression), 1);\n    }\n  }\n\n  /**\n   * Checks if the builder is currently empty.\n   * @returns {boolean}\n   */\n  public isEmpty(): boolean {\n    return this.parts.length == 0;\n  }\n\n  /**\n   * Builds the expression string by combining all the parts together.<br/>\n   * @param exp expression to join the different parts, default to a space\n   * @returns {any}\n   */\n  public build(exp: string = ' '): string {\n    if (this.parts.length == 0) {\n      return undefined;\n    } else if (this.parts.length == 1) {\n      return this.parts[0];\n    } else if (this.wrapParts) {\n      return '(' + this.parts.join(')' + exp + '(') + ')';\n    } else {\n      return this.parts.join(exp);\n    }\n  }\n\n  /**\n   * Merges several ExpressionBuilder together.\n   * @param builders Builders that should be merged\n   * @returns {Coveo.ExpressionBuilder}\n   */\n  static merge(...builders: ExpressionBuilder[]): ExpressionBuilder {\n    var merged = new ExpressionBuilder();\n    _.each(builders, (builder: ExpressionBuilder) => {\n      merged.parts = merged.parts.concat(builder.parts);\n    });\n\n    return merged;\n  }\n\n  /**\n   * Merges several ExpressionBuilder together, using the OR operator\n   * @param builders Builders that should be merged\n   * @returns {Coveo.ExpressionBuilder}\n   */\n  static mergeUsingOr(...builders: ExpressionBuilder[]): ExpressionBuilder {\n    var nonEmpty = _.filter(builders, (b: ExpressionBuilder) => !b.isEmpty());\n\n    var merged = new ExpressionBuilder();\n\n    if (nonEmpty.length == 1) {\n      merged.parts = [].concat(nonEmpty[0].parts);\n    } else if (nonEmpty.length > 1) {\n      var parts = _.map(nonEmpty, b => b.build());\n      merged.add('(' + parts.join(') OR (') + ')');\n    }\n    return merged;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Base/ExpressionBuilder.ts\n **/","l":{"1":1,"2":1,"9":2,"10":2922,"11":2922,"17":1,"18":167,"19":167,"26":1,"27":40,"37":1,"38":41,"39":41,"40":41,"41":41,"43":41,"52":1,"53":4,"54":4,"55":4,"57":4,"64":1,"65":62,"66":62,"67":62,"68":28,"76":1,"77":619,"85":4472,"86":2236,"87":2012,"88":224,"89":188,"90":36,"91":36,"93":0,"102":369,"103":123,"104":123,"105":246,"108":123,"116":926,"117":617,"119":309,"121":309,"122":14,"123":295,"124":82,"125":41,"127":309,"129":1}},"src/rest/SearchEndpointWithDefaultCallOptions.ts":{"path":"src/rest/SearchEndpointWithDefaultCallOptions.ts","statementMap":{"1":{"start":{"line":16,"column":0},"end":{"line":114,"column":1}},"2":{"start":{"line":19,"column":2},"end":{"line":21,"column":3}},"3":{"start":{"line":19,"column":22},"end":{"line":19,"column":47}},"4":{"start":{"line":19,"column":57},"end":{"line":19,"column":91}},"5":{"start":{"line":20,"column":4},"end":{"line":20,"column":36}},"6":{"start":{"line":23,"column":9},"end":{"line":25,"column":3}},"7":{"start":{"line":24,"column":4},"end":{"line":24,"column":38}},"8":{"start":{"line":27,"column":9},"end":{"line":29,"column":3}},"9":{"start":{"line":28,"column":4},"end":{"line":28,"column":44}},"10":{"start":{"line":31,"column":9},"end":{"line":33,"column":3}},"11":{"start":{"line":32,"column":4},"end":{"line":32,"column":84}},"12":{"start":{"line":35,"column":9},"end":{"line":37,"column":3}},"13":{"start":{"line":36,"column":4},"end":{"line":36,"column":35}},"14":{"start":{"line":39,"column":9},"end":{"line":41,"column":3}},"15":{"start":{"line":40,"column":4},"end":{"line":40,"column":76}},"16":{"start":{"line":43,"column":9},"end":{"line":45,"column":3}},"17":{"start":{"line":44,"column":4},"end":{"line":44,"column":107}},"18":{"start":{"line":47,"column":9},"end":{"line":49,"column":3}},"19":{"start":{"line":48,"column":4},"end":{"line":48,"column":93}},"20":{"start":{"line":51,"column":9},"end":{"line":53,"column":3}},"21":{"start":{"line":52,"column":4},"end":{"line":52,"column":93}},"22":{"start":{"line":55,"column":9},"end":{"line":57,"column":3}},"23":{"start":{"line":56,"column":4},"end":{"line":56,"column":90}},"24":{"start":{"line":59,"column":9},"end":{"line":61,"column":3}},"25":{"start":{"line":60,"column":4},"end":{"line":60,"column":113}},"26":{"start":{"line":63,"column":9},"end":{"line":65,"column":3}},"27":{"start":{"line":64,"column":4},"end":{"line":64,"column":92}},"28":{"start":{"line":67,"column":9},"end":{"line":69,"column":3}},"29":{"start":{"line":68,"column":4},"end":{"line":68,"column":96}},"30":{"start":{"line":71,"column":9},"end":{"line":73,"column":3}},"31":{"start":{"line":72,"column":4},"end":{"line":72,"column":96}},"32":{"start":{"line":75,"column":9},"end":{"line":77,"column":3}},"33":{"start":{"line":76,"column":4},"end":{"line":76,"column":97}},"34":{"start":{"line":79,"column":9},"end":{"line":81,"column":3}},"35":{"start":{"line":80,"column":4},"end":{"line":80,"column":119}},"36":{"start":{"line":83,"column":9},"end":{"line":85,"column":3}},"37":{"start":{"line":84,"column":4},"end":{"line":84,"column":87}},"38":{"start":{"line":87,"column":9},"end":{"line":89,"column":3}},"39":{"start":{"line":88,"column":4},"end":{"line":88,"column":73}},"40":{"start":{"line":91,"column":9},"end":{"line":93,"column":3}},"41":{"start":{"line":92,"column":4},"end":{"line":92,"column":73}},"42":{"start":{"line":95,"column":9},"end":{"line":97,"column":3}},"43":{"start":{"line":96,"column":4},"end":{"line":96,"column":41}},"44":{"start":{"line":99,"column":9},"end":{"line":101,"column":3}},"45":{"start":{"line":100,"column":4},"end":{"line":100,"column":49}},"46":{"start":{"line":103,"column":9},"end":{"line":105,"column":3}},"47":{"start":{"line":104,"column":4},"end":{"line":104,"column":58}},"48":{"start":{"line":107,"column":9},"end":{"line":109,"column":3}},"49":{"start":{"line":108,"column":4},"end":{"line":108,"column":58}},"50":{"start":{"line":111,"column":10},"end":{"line":113,"column":3}},"51":{"start":{"line":112,"column":4},"end":{"line":112,"column":55}},"52":{"start":{"line":114,"column":0},"end":{"line":114,"column":1}},"53":{"start":{"line":16,"column":13},"end":{"line":114,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1472)","line":16,"loc":{"start":{"line":16,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"SearchEndpointWithDefaultCallOptions","line":19,"loc":{"start":{"line":19,"column":2},"end":{"line":19,"column":91}}},"3":{"name":"(anonymous_1474)","line":23,"loc":{"start":{"line":23,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_1475)","line":27,"loc":{"start":{"line":27,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_1476)","line":31,"loc":{"start":{"line":31,"column":2},"end":{"line":31,"column":90}}},"6":{"name":"(anonymous_1477)","line":35,"loc":{"start":{"line":35,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_1478)","line":39,"loc":{"start":{"line":39,"column":2},"end":{"line":39,"column":65}}},"8":{"name":"(anonymous_1479)","line":43,"loc":{"start":{"line":43,"column":2},"end":{"line":43,"column":104}}},"9":{"name":"(anonymous_1480)","line":47,"loc":{"start":{"line":47,"column":2},"end":{"line":47,"column":88}}},"10":{"name":"(anonymous_1481)","line":51,"loc":{"start":{"line":51,"column":2},"end":{"line":51,"column":102}}},"11":{"name":"(anonymous_1482)","line":55,"loc":{"start":{"line":55,"column":2},"end":{"line":55,"column":87}}},"12":{"name":"(anonymous_1483)","line":59,"loc":{"start":{"line":59,"column":2},"end":{"line":59,"column":108}}},"13":{"name":"(anonymous_1484)","line":63,"loc":{"start":{"line":63,"column":2},"end":{"line":63,"column":80}}},"14":{"name":"(anonymous_1485)","line":67,"loc":{"start":{"line":67,"column":2},"end":{"line":67,"column":85}}},"15":{"name":"(anonymous_1486)","line":71,"loc":{"start":{"line":71,"column":2},"end":{"line":71,"column":83}}},"16":{"name":"(anonymous_1487)","line":75,"loc":{"start":{"line":75,"column":2},"end":{"line":75,"column":84}}},"17":{"name":"(anonymous_1488)","line":79,"loc":{"start":{"line":79,"column":2},"end":{"line":79,"column":114}}},"18":{"name":"(anonymous_1489)","line":83,"loc":{"start":{"line":83,"column":2},"end":{"line":83,"column":93}}},"19":{"name":"(anonymous_1490)","line":87,"loc":{"start":{"line":87,"column":2},"end":{"line":87,"column":54}}},"20":{"name":"(anonymous_1491)","line":91,"loc":{"start":{"line":91,"column":2},"end":{"line":91,"column":54}}},"21":{"name":"(anonymous_1492)","line":95,"loc":{"start":{"line":95,"column":2},"end":{"line":95,"column":45}}},"22":{"name":"(anonymous_1493)","line":99,"loc":{"start":{"line":99,"column":2},"end":{"line":99,"column":39}}},"23":{"name":"(anonymous_1494)","line":103,"loc":{"start":{"line":103,"column":2},"end":{"line":103,"column":55}}},"24":{"name":"(anonymous_1495)","line":107,"loc":{"start":{"line":107,"column":2},"end":{"line":107,"column":55}}},"25":{"name":"(anonymous_1496)","line":111,"loc":{"start":{"line":111,"column":2},"end":{"line":111,"column":75}}}},"branchMap":{},"s":{"1":1,"2":1,"3":17,"4":17,"5":17,"6":1,"7":0,"8":1,"9":0,"10":1,"11":0,"12":1,"13":0,"14":1,"15":17,"16":1,"17":0,"18":1,"19":0,"20":1,"21":0,"22":1,"23":0,"24":1,"25":0,"26":1,"27":0,"28":1,"29":0,"30":1,"31":0,"32":1,"33":0,"34":1,"35":0,"36":1,"37":0,"38":1,"39":0,"40":1,"41":0,"42":1,"43":0,"44":1,"45":0,"46":1,"47":0,"48":1,"49":0,"50":1,"51":17,"52":1,"53":1},"b":{},"f":{"1":1,"2":17,"3":0,"4":0,"5":0,"6":0,"7":17,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":17},"code":"import {ISearchEndpoint, IEndpointCallOptions, IGetDocumentOptions, ISearchEndpointOptions, IViewAsHtmlOptions} from './SearchEndpointInterface';\nimport {IQuery} from './Query';\nimport {ITaggingRequest} from './TaggingRequest';\nimport {IRatingRequest} from './RatingRequest';\nimport {IRevealQuerySuggestRequest} from './RevealQuerySuggest';\nimport {IRevealQuerySuggestResponse} from './RevealQuerySuggest';\nimport {IIndexFieldValue} from '../rest/FieldValue';\nimport {IQueryResult} from '../rest/QueryResult';\nimport {IEndpointError} from '../rest/EndpointError';\nimport {IExtension} from '../rest/Extension'\nimport {IQueryResults} from './QueryResults';\nimport {IFieldDescription} from '../rest/FieldDescription';\nimport {IListFieldValuesRequest} from './ListFieldValuesRequest';\nimport {ISubscriptionRequest, ISubscription} from './Subscription';\n\nexport class SearchEndpointWithDefaultCallOptions implements ISearchEndpoint {\n  options: ISearchEndpointOptions;\n\n  constructor(private endpoint: ISearchEndpoint, private callOptions?: IEndpointCallOptions) {\n    this.options = endpoint.options;\n  }\n\n  public getBaseUri(): string {\n    return this.endpoint.getBaseUri();\n  }\n\n  public getBaseAlertsUri(): string {\n    return this.endpoint.getBaseAlertsUri();\n  }\n\n  public getAuthenticationProviderUri(provider: string, returnUri: string, message: string): string {\n    return this.endpoint.getAuthenticationProviderUri(provider, returnUri, message);\n  }\n\n  public isJsonp(): boolean {\n    return this.endpoint.isJsonp();\n  }\n\n  public search(query: IQuery, callOptions?: IEndpointCallOptions): Promise<IQueryResults> {\n    return this.endpoint.search(query, this.enrichCallOptions(callOptions));\n  }\n\n  public getExportToExcelLink(query: IQuery, numberOfResults: number, callOptions?: IEndpointCallOptions): string {\n    return this.endpoint.getExportToExcelLink(query, numberOfResults, this.enrichCallOptions(callOptions));\n  }\n\n  public tagDocument(taggingRequest: ITaggingRequest, callOptions?: IEndpointCallOptions): Promise<boolean> {\n    return this.endpoint.tagDocument(taggingRequest, this.enrichCallOptions(taggingRequest));\n  }\n\n  public getRevealQuerySuggest(request: IRevealQuerySuggestRequest, callOptions?: IEndpointCallOptions): Promise<IRevealQuerySuggestResponse> {\n    return this.endpoint.getRevealQuerySuggest(request, this.enrichCallOptions(callOptions));\n  }\n\n  public rateDocument(ratingRequest: IRatingRequest, callOptions?: IEndpointCallOptions): Promise<boolean> {\n    return this.endpoint.rateDocument(ratingRequest, this.enrichCallOptions(callOptions));\n  }\n\n  public getRawDataStream(documentUniqueId: string, dataStreamType: string, callOptions?: IViewAsHtmlOptions): Promise<ArrayBuffer> {\n    return this.endpoint.getRawDataStream(documentUniqueId, dataStreamType, this.enrichCallOptions(callOptions));\n  }\n\n  public getDocument(documentUniqueId: string, callOptions?: IGetDocumentOptions): Promise<IQueryResult> {\n    return this.endpoint.getDocument(documentUniqueId, this.enrichCallOptions(callOptions));\n  }\n\n  public getDocumentText(documentUniqueID: string, callOptions?: IEndpointCallOptions): Promise<string> {\n    return this.endpoint.getDocumentText(documentUniqueID, this.enrichCallOptions(callOptions));\n  }\n\n  public getDocumentHtml(documentUniqueID: string, callOptions?: IViewAsHtmlOptions): Promise<HTMLDocument> {\n    return this.endpoint.getDocumentHtml(documentUniqueID, this.enrichCallOptions(callOptions));\n  }\n\n  public getViewAsHtmlUri(documentUniqueID: string, callOptions?: IViewAsHtmlOptions): string {\n    return this.endpoint.getViewAsHtmlUri(documentUniqueID, this.enrichCallOptions(callOptions));\n  }\n\n  public getViewAsDatastreamUri(documentUniqueID: string, dataStreamType: string, callOptions?: IViewAsHtmlOptions): string {\n    return this.endpoint.getViewAsDatastreamUri(documentUniqueID, dataStreamType, this.enrichCallOptions(callOptions));\n  }\n\n  public listFieldValues(request: IListFieldValuesRequest, callOptions?: IEndpointCallOptions): Promise<IIndexFieldValue[]> {\n    return this.endpoint.listFieldValues(request, this.enrichCallOptions(callOptions));\n  }\n\n  public listFields(callOptions?: IEndpointCallOptions): Promise<IFieldDescription[]> {\n    return this.endpoint.listFields(this.enrichCallOptions(callOptions));\n  }\n\n  public extensions(callOptions?: IEndpointCallOptions): Promise<IExtension[]> | Promise<IEndpointError> {\n    return this.endpoint.extensions(this.enrichCallOptions(callOptions));\n  }\n\n  public follow(request: ISubscriptionRequest): Promise<ISubscription> {\n    return this.endpoint.follow(request);\n  }\n\n  public listSubscriptions(page: number): Promise<ISubscription[]> {\n    return this.endpoint.listSubscriptions(page);\n  }\n\n  public updateSubscription(subscription: ISubscription): Promise<ISubscription> {\n    return this.endpoint.updateSubscription(subscription);\n  }\n\n  public deleteSubscription(subscription: ISubscription): Promise<ISubscription> {\n    return this.endpoint.deleteSubscription(subscription);\n  }\n\n  private enrichCallOptions<T extends IEndpointCallOptions>(callOptions?: T): T {\n    return _.extend({}, callOptions, this.callOptions);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/rest/SearchEndpointWithDefaultCallOptions.ts\n **/","l":{"16":1,"19":17,"20":17,"23":1,"24":0,"27":1,"28":0,"31":1,"32":0,"35":1,"36":0,"39":1,"40":17,"43":1,"44":0,"47":1,"48":0,"51":1,"52":0,"55":1,"56":0,"59":1,"60":0,"63":1,"64":0,"67":1,"68":0,"71":1,"72":0,"75":1,"76":0,"79":1,"80":0,"83":1,"84":0,"87":1,"88":0,"91":1,"92":0,"95":1,"96":0,"99":1,"100":0,"103":1,"104":0,"107":1,"108":0,"111":1,"112":17,"114":1}},"src/controllers/FacetQueryController.ts":{"path":"src/controllers/FacetQueryController.ts","statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":63}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":37}},"3":{"start":{"line":10,"column":0},"end":{"line":10,"column":72}},"4":{"start":{"line":11,"column":0},"end":{"line":11,"column":38}},"5":{"start":{"line":13,"column":0},"end":{"line":13,"column":50}},"6":{"start":{"line":19,"column":0},"end":{"line":285,"column":1}},"7":{"start":{"line":26,"column":2},"end":{"line":27,"column":3}},"8":{"start":{"line":26,"column":21},"end":{"line":26,"column":33}},"9":{"start":{"line":32,"column":9},"end":{"line":36,"column":3}},"10":{"start":{"line":33,"column":4},"end":{"line":33,"column":45}},"11":{"start":{"line":34,"column":4},"end":{"line":34,"column":51}},"12":{"start":{"line":35,"column":4},"end":{"line":35,"column":59}},"13":{"start":{"line":42,"column":9},"end":{"line":62,"column":3}},"14":{"start":{"line":42,"column":2},"end":{"line":62,"column":3}},"15":{"start":{"line":43,"column":4},"end":{"line":43,"column":42}},"16":{"start":{"line":44,"column":4},"end":{"line":44,"column":51}},"17":{"start":{"line":45,"column":4},"end":{"line":53,"column":5}},"18":{"start":{"line":46,"column":6},"end":{"line":52,"column":7}},"19":{"start":{"line":47,"column":8},"end":{"line":49,"column":11}},"20":{"start":{"line":48,"column":10},"end":{"line":48,"column":84}},"21":{"start":{"line":51,"column":8},"end":{"line":51,"column":120}},"22":{"start":{"line":51,"column":106},"end":{"line":51,"column":117}},"23":{"start":{"line":54,"column":4},"end":{"line":54,"column":51}},"24":{"start":{"line":55,"column":4},"end":{"line":57,"column":5}},"25":{"start":{"line":56,"column":6},"end":{"line":56,"column":120}},"26":{"start":{"line":56,"column":106},"end":{"line":56,"column":117}},"27":{"start":{"line":58,"column":4},"end":{"line":60,"column":5}},"28":{"start":{"line":59,"column":6},"end":{"line":59,"column":55}},"29":{"start":{"line":61,"column":4},"end":{"line":61,"column":27}},"30":{"start":{"line":68,"column":9},"end":{"line":92,"column":3}},"31":{"start":{"line":69,"column":4},"end":{"line":69,"column":32}},"32":{"start":{"line":71,"column":4},"end":{"line":71,"column":58}},"33":{"start":{"line":72,"column":4},"end":{"line":72,"column":71}},"34":{"start":{"line":74,"column":4},"end":{"line":74,"column":76}},"35":{"start":{"line":75,"column":4},"end":{"line":88,"column":5}},"36":{"start":{"line":76,"column":6},"end":{"line":76,"column":63}},"37":{"start":{"line":77,"column":6},"end":{"line":77,"column":74}},"38":{"start":{"line":78,"column":6},"end":{"line":78,"column":74}},"39":{"start":{"line":79,"column":6},"end":{"line":79,"column":79}},"40":{"start":{"line":80,"column":6},"end":{"line":80,"column":80}},"41":{"start":{"line":82,"column":6},"end":{"line":82,"column":64}},"42":{"start":{"line":83,"column":6},"end":{"line":83,"column":65}},"43":{"start":{"line":84,"column":6},"end":{"line":86,"column":7}},"44":{"start":{"line":85,"column":8},"end":{"line":85,"column":52}},"45":{"start":{"line":87,"column":6},"end":{"line":87,"column":66}},"46":{"start":{"line":89,"column":4},"end":{"line":89,"column":71}},"47":{"start":{"line":90,"column":4},"end":{"line":90,"column":45}},"48":{"start":{"line":91,"column":4},"end":{"line":91,"column":54}},"49":{"start":{"line":100,"column":9},"end":{"line":144,"column":3}},"50":{"start":{"line":100,"column":2},"end":{"line":144,"column":3}},"51":{"start":{"line":100,"column":47},"end":{"line":100,"column":75}},"52":{"start":{"line":102,"column":4},"end":{"line":143,"column":6}},"53":{"start":{"line":103,"column":6},"end":{"line":113,"column":7}},"54":{"start":{"line":104,"column":8},"end":{"line":104,"column":43}},"55":{"start":{"line":105,"column":8},"end":{"line":105,"column":96}},"56":{"start":{"line":106,"column":8},"end":{"line":112,"column":9}},"57":{"start":{"line":108,"column":10},"end":{"line":108,"column":32}},"58":{"start":{"line":109,"column":10},"end":{"line":109,"column":57}},"59":{"start":{"line":111,"column":10},"end":{"line":111,"column":31}},"60":{"start":{"line":115,"column":6},"end":{"line":142,"column":10}},"61":{"start":{"line":117,"column":10},"end":{"line":138,"column":11}},"62":{"start":{"line":121,"column":12},"end":{"line":121,"column":52}},"63":{"start":{"line":122,"column":12},"end":{"line":134,"column":13}},"64":{"start":{"line":123,"column":14},"end":{"line":133,"column":16}},"65":{"start":{"line":124,"column":16},"end":{"line":132,"column":17}},"66":{"start":{"line":125,"column":18},"end":{"line":127,"column":19}},"67":{"start":{"line":126,"column":20},"end":{"line":126,"column":42}},"68":{"start":{"line":129,"column":18},"end":{"line":131,"column":19}},"69":{"start":{"line":130,"column":20},"end":{"line":130,"column":42}},"70":{"start":{"line":135,"column":12},"end":{"line":135,"column":63}},"71":{"start":{"line":137,"column":12},"end":{"line":137,"column":59}},"72":{"start":{"line":141,"column":10},"end":{"line":141,"column":24}},"73":{"start":{"line":146,"column":9},"end":{"line":151,"column":3}},"74":{"start":{"line":147,"column":4},"end":{"line":147,"column":55}},"75":{"start":{"line":148,"column":4},"end":{"line":148,"column":108}},"76":{"start":{"line":149,"column":4},"end":{"line":149,"column":45}},"77":{"start":{"line":150,"column":4},"end":{"line":150,"column":62}},"78":{"start":{"line":153,"column":9},"end":{"line":163,"column":3}},"79":{"start":{"line":154,"column":4},"end":{"line":154,"column":55}},"80":{"start":{"line":155,"column":4},"end":{"line":155,"column":34}},"81":{"start":{"line":156,"column":4},"end":{"line":156,"column":49}},"82":{"start":{"line":157,"column":4},"end":{"line":159,"column":7}},"83":{"start":{"line":158,"column":6},"end":{"line":158,"column":40}},"84":{"start":{"line":160,"column":4},"end":{"line":160,"column":119}},"85":{"start":{"line":160,"column":99},"end":{"line":160,"column":115}},"86":{"start":{"line":161,"column":4},"end":{"line":161,"column":61}},"87":{"start":{"line":162,"column":4},"end":{"line":162,"column":50}},"88":{"start":{"line":165,"column":12},"end":{"line":184,"column":3}},"89":{"start":{"line":168,"column":4},"end":{"line":183,"column":5}},"90":{"start":{"line":169,"column":6},"end":{"line":169,"column":46}},"91":{"start":{"line":170,"column":11},"end":{"line":183,"column":5}},"92":{"start":{"line":173,"column":6},"end":{"line":175,"column":8}},"93":{"start":{"line":174,"column":8},"end":{"line":174,"column":33}},"94":{"start":{"line":176,"column":6},"end":{"line":178,"column":8}},"95":{"start":{"line":177,"column":8},"end":{"line":177,"column":59}},"96":{"start":{"line":179,"column":6},"end":{"line":179,"column":60}},"97":{"start":{"line":182,"column":6},"end":{"line":182,"column":49}},"98":{"start":{"line":186,"column":10},"end":{"line":198,"column":3}},"99":{"start":{"line":187,"column":4},"end":{"line":187,"column":33}},"100":{"start":{"line":188,"column":4},"end":{"line":196,"column":5}},"101":{"start":{"line":189,"column":6},"end":{"line":189,"column":53}},"102":{"start":{"line":190,"column":6},"end":{"line":192,"column":7}},"103":{"start":{"line":191,"column":8},"end":{"line":191,"column":25}},"104":{"start":{"line":193,"column":6},"end":{"line":193,"column":46}},"105":{"start":{"line":195,"column":6},"end":{"line":195,"column":41}},"106":{"start":{"line":197,"column":4},"end":{"line":197,"column":70}},"107":{"start":{"line":197,"column":52},"end":{"line":197,"column":68}},"108":{"start":{"line":200,"column":10},"end":{"line":241,"column":3}},"109":{"start":{"line":201,"column":4},"end":{"line":201,"column":106}},"110":{"start":{"line":202,"column":4},"end":{"line":202,"column":65}},"111":{"start":{"line":204,"column":4},"end":{"line":225,"column":5}},"112":{"start":{"line":205,"column":6},"end":{"line":210,"column":7}},"113":{"start":{"line":206,"column":8},"end":{"line":206,"column":76}},"114":{"start":{"line":207,"column":8},"end":{"line":209,"column":9}},"115":{"start":{"line":208,"column":10},"end":{"line":208,"column":45}},"116":{"start":{"line":212,"column":6},"end":{"line":224,"column":7}},"117":{"start":{"line":213,"column":8},"end":{"line":213,"column":115}},"118":{"start":{"line":214,"column":8},"end":{"line":216,"column":9}},"119":{"start":{"line":215,"column":10},"end":{"line":215,"column":45}},"120":{"start":{"line":218,"column":8},"end":{"line":223,"column":9}},"121":{"start":{"line":219,"column":10},"end":{"line":219,"column":78}},"122":{"start":{"line":220,"column":10},"end":{"line":222,"column":11}},"123":{"start":{"line":221,"column":12},"end":{"line":221,"column":47}},"124":{"start":{"line":227,"column":4},"end":{"line":231,"column":5}},"125":{"start":{"line":228,"column":6},"end":{"line":230,"column":7}},"126":{"start":{"line":229,"column":8},"end":{"line":229,"column":143}},"127":{"start":{"line":232,"column":4},"end":{"line":236,"column":6}},"128":{"start":{"line":233,"column":6},"end":{"line":235,"column":7}},"129":{"start":{"line":234,"column":8},"end":{"line":234,"column":38}},"130":{"start":{"line":237,"column":4},"end":{"line":239,"column":5}},"131":{"start":{"line":238,"column":6},"end":{"line":238,"column":38}},"132":{"start":{"line":240,"column":4},"end":{"line":240,"column":31}},"133":{"start":{"line":243,"column":12},"end":{"line":271,"column":3}},"134":{"start":{"line":243,"column":64},"end":{"line":243,"column":96}},"135":{"start":{"line":244,"column":4},"end":{"line":244,"column":56}},"136":{"start":{"line":245,"column":4},"end":{"line":248,"column":5}},"137":{"start":{"line":246,"column":6},"end":{"line":246,"column":234}},"138":{"start":{"line":246,"column":98},"end":{"line":246,"column":114}},"139":{"start":{"line":246,"column":184},"end":{"line":246,"column":200}},"140":{"start":{"line":247,"column":6},"end":{"line":247,"column":77}},"141":{"start":{"line":250,"column":4},"end":{"line":256,"column":6}},"142":{"start":{"line":257,"column":4},"end":{"line":259,"column":5}},"143":{"start":{"line":258,"column":6},"end":{"line":258,"column":66}},"144":{"start":{"line":260,"column":4},"end":{"line":262,"column":5}},"145":{"start":{"line":261,"column":6},"end":{"line":261,"column":51}},"146":{"start":{"line":264,"column":4},"end":{"line":269,"column":5}},"147":{"start":{"line":265,"column":6},"end":{"line":268,"column":9}},"148":{"start":{"line":270,"column":4},"end":{"line":270,"column":26}},"149":{"start":{"line":273,"column":10},"end":{"line":284,"column":3}},"150":{"start":{"line":273,"column":2},"end":{"line":284,"column":3}},"151":{"start":{"line":274,"column":4},"end":{"line":274,"column":121}},"152":{"start":{"line":276,"column":4},"end":{"line":283,"column":6}},"153":{"start":{"line":277,"column":6},"end":{"line":279,"column":71}},"154":{"start":{"line":281,"column":6},"end":{"line":281,"column":57}},"155":{"start":{"line":282,"column":6},"end":{"line":282,"column":44}},"156":{"start":{"line":285,"column":0},"end":{"line":285,"column":1}},"157":{"start":{"line":19,"column":13},"end":{"line":285,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1498)","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}}},"2":{"name":"(anonymous_1499)","line":19,"loc":{"start":{"line":19,"column":0},"end":{"line":null,"column":-1}}},"3":{"name":"FacetQueryController","line":26,"loc":{"start":{"line":26,"column":2},"end":{"line":26,"column":33}}},"4":{"name":"(anonymous_1501)","line":32,"loc":{"start":{"line":32,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_1502)","line":42,"loc":{"start":{"line":42,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_1503)","line":47,"loc":{"start":{"line":47,"column":25},"end":{"line":47,"column":43}}},"7":{"name":"(anonymous_1504)","line":51,"loc":{"start":{"line":51,"column":83},"end":{"line":51,"column":101}}},"8":{"name":"(anonymous_1505)","line":56,"loc":{"start":{"line":56,"column":83},"end":{"line":56,"column":101}}},"9":{"name":"(anonymous_1506)","line":68,"loc":{"start":{"line":68,"column":2},"end":{"line":68,"column":62}}},"10":{"name":"(anonymous_1507)","line":100,"loc":{"start":{"line":100,"column":2},"end":{"line":100,"column":75}}},"11":{"name":"(anonymous_1508)","line":102,"loc":{"start":{"line":102,"column":23},"end":{"line":102,"column":39}}},"12":{"name":"(anonymous_1509)","line":103,"loc":{"start":{"line":103,"column":21},"end":{"line":103,"column":54}}},"13":{"name":"(anonymous_1510)","line":116,"loc":{"start":{"line":116,"column":14},"end":{"line":116,"column":42}}},"14":{"name":"(anonymous_1511)","line":123,"loc":{"start":{"line":123,"column":60},"end":{"line":123,"column":77}}},"15":{"name":"(anonymous_1512)","line":140,"loc":{"start":{"line":140,"column":15},"end":{"line":140,"column":37}}},"16":{"name":"(anonymous_1513)","line":146,"loc":{"start":{"line":146,"column":2},"end":{"line":146,"column":48}}},"17":{"name":"(anonymous_1514)","line":153,"loc":{"start":{"line":153,"column":2},"end":{"line":153,"column":61}}},"18":{"name":"(anonymous_1515)","line":157,"loc":{"start":{"line":157,"column":24},"end":{"line":157,"column":47}}},"19":{"name":"(anonymous_1516)","line":160,"loc":{"start":{"line":160,"column":71},"end":{"line":160,"column":94}}},"20":{"name":"(anonymous_1517)","line":165,"loc":{"start":{"line":165,"column":2},"end":{"line":null,"column":-1}}},"21":{"name":"(anonymous_1518)","line":173,"loc":{"start":{"line":173,"column":59},"end":{"line":173,"column":71}}},"22":{"name":"(anonymous_1519)","line":176,"loc":{"start":{"line":176,"column":67},"end":{"line":176,"column":81}}},"23":{"name":"(anonymous_1520)","line":186,"loc":{"start":{"line":186,"column":2},"end":{"line":null,"column":-1}}},"24":{"name":"(anonymous_1521)","line":197,"loc":{"start":{"line":197,"column":24},"end":{"line":197,"column":47}}},"25":{"name":"(anonymous_1522)","line":200,"loc":{"start":{"line":200,"column":2},"end":{"line":200,"column":63}}},"26":{"name":"(anonymous_1523)","line":232,"loc":{"start":{"line":232,"column":40},"end":{"line":232,"column":42}}},"27":{"name":"(anonymous_1524)","line":243,"loc":{"start":{"line":243,"column":2},"end":{"line":243,"column":96}}},"28":{"name":"(anonymous_1525)","line":246,"loc":{"start":{"line":246,"column":70},"end":{"line":246,"column":93}}},"29":{"name":"(anonymous_1526)","line":246,"loc":{"start":{"line":246,"column":156},"end":{"line":246,"column":179}}},"30":{"name":"(anonymous_1527)","line":273,"loc":{"start":{"line":273,"column":2},"end":{"line":273,"column":104}}},"31":{"name":"(anonymous_1528)","line":276,"loc":{"start":{"line":276,"column":51},"end":{"line":276,"column":62}}}},"branchMap":{"1":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":4},"end":{"line":45,"column":3}},{"start":{"line":45,"column":4},"end":{"line":45,"column":3}}]},"2":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":6},"end":{"line":46,"column":5}},{"start":{"line":46,"column":6},"end":{"line":46,"column":5}}]},"3":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":4},"end":{"line":55,"column":3}},{"start":{"line":55,"column":4},"end":{"line":55,"column":3}}]},"4":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":4},"end":{"line":58,"column":3}},{"start":{"line":58,"column":4},"end":{"line":58,"column":3}}]},"5":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":4},"end":{"line":75,"column":3}},{"start":{"line":75,"column":4},"end":{"line":75,"column":3}}]},"6":{"line":84,"type":"if","locations":[{"start":{"line":84,"column":6},"end":{"line":84,"column":5}},{"start":{"line":84,"column":6},"end":{"line":84,"column":5}}]},"7":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":47},"end":{"line":100,"column":46}},{"start":{"line":100,"column":47},"end":{"line":100,"column":46}}]},"8":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":8},"end":{"line":106,"column":7}},{"start":{"line":106,"column":8},"end":{"line":106,"column":7}}]},"9":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":10},"end":{"line":117,"column":9}},{"start":{"line":117,"column":10},"end":{"line":117,"column":9}}]},"10":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":12},"end":{"line":122,"column":11}},{"start":{"line":122,"column":12},"end":{"line":122,"column":11}}]},"11":{"line":122,"type":"binary-expr","locations":[{"start":{"line":122,"column":16},"end":{"line":122,"column":43}},{"start":{"line":122,"column":47},"end":{"line":122,"column":77}}]},"12":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":16},"end":{"line":124,"column":15}},{"start":{"line":124,"column":16},"end":{"line":124,"column":15}}]},"13":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":18},"end":{"line":125,"column":17}},{"start":{"line":125,"column":18},"end":{"line":125,"column":17}}]},"14":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":18},"end":{"line":129,"column":17}},{"start":{"line":129,"column":18},"end":{"line":129,"column":17}}]},"15":{"line":148,"type":"binary-expr","locations":[{"start":{"line":148,"column":27},"end":{"line":148,"column":59}},{"start":{"line":148,"column":63},"end":{"line":148,"column":107}}]},"16":{"line":168,"type":"if","locations":[{"start":{"line":168,"column":4},"end":{"line":168,"column":3}},{"start":{"line":168,"column":4},"end":{"line":168,"column":3}}]},"17":{"line":170,"type":"if","locations":[{"start":{"line":170,"column":11},"end":{"line":170,"column":10}},{"start":{"line":170,"column":11},"end":{"line":170,"column":10}}]},"18":{"line":188,"type":"if","locations":[{"start":{"line":188,"column":4},"end":{"line":188,"column":3}},{"start":{"line":188,"column":4},"end":{"line":188,"column":3}}]},"19":{"line":188,"type":"binary-expr","locations":[{"start":{"line":188,"column":8},"end":{"line":188,"column":33}},{"start":{"line":188,"column":37},"end":{"line":188,"column":76}}]},"20":{"line":190,"type":"if","locations":[{"start":{"line":190,"column":6},"end":{"line":190,"column":5}},{"start":{"line":190,"column":6},"end":{"line":190,"column":5}}]},"21":{"line":201,"type":"cond-expr","locations":[{"start":{"line":201,"column":65},"end":{"line":201,"column":100}},{"start":{"line":201,"column":103},"end":{"line":201,"column":105}}]},"22":{"line":204,"type":"if","locations":[{"start":{"line":204,"column":4},"end":{"line":204,"column":3}},{"start":{"line":204,"column":4},"end":{"line":204,"column":3}}]},"23":{"line":205,"type":"if","locations":[{"start":{"line":205,"column":6},"end":{"line":205,"column":5}},{"start":{"line":205,"column":6},"end":{"line":205,"column":5}}]},"24":{"line":207,"type":"if","locations":[{"start":{"line":207,"column":8},"end":{"line":207,"column":7}},{"start":{"line":207,"column":8},"end":{"line":207,"column":7}}]},"25":{"line":212,"type":"if","locations":[{"start":{"line":212,"column":6},"end":{"line":212,"column":5}},{"start":{"line":212,"column":6},"end":{"line":212,"column":5}}]},"26":{"line":214,"type":"if","locations":[{"start":{"line":214,"column":8},"end":{"line":214,"column":7}},{"start":{"line":214,"column":8},"end":{"line":214,"column":7}}]},"27":{"line":218,"type":"if","locations":[{"start":{"line":218,"column":8},"end":{"line":218,"column":7}},{"start":{"line":218,"column":8},"end":{"line":218,"column":7}}]},"28":{"line":220,"type":"if","locations":[{"start":{"line":220,"column":10},"end":{"line":220,"column":9}},{"start":{"line":220,"column":10},"end":{"line":220,"column":9}}]},"29":{"line":227,"type":"if","locations":[{"start":{"line":227,"column":4},"end":{"line":227,"column":3}},{"start":{"line":227,"column":4},"end":{"line":227,"column":3}}]},"30":{"line":228,"type":"if","locations":[{"start":{"line":228,"column":6},"end":{"line":228,"column":5}},{"start":{"line":228,"column":6},"end":{"line":228,"column":5}}]},"31":{"line":229,"type":"cond-expr","locations":[{"start":{"line":229,"column":70},"end":{"line":229,"column":123}},{"start":{"line":229,"column":126},"end":{"line":229,"column":142}}]},"32":{"line":233,"type":"if","locations":[{"start":{"line":233,"column":6},"end":{"line":233,"column":5}},{"start":{"line":233,"column":6},"end":{"line":233,"column":5}}]},"33":{"line":233,"type":"binary-expr","locations":[{"start":{"line":233,"column":10},"end":{"line":233,"column":53}},{"start":{"line":233,"column":57},"end":{"line":233,"column":104}}]},"34":{"line":237,"type":"if","locations":[{"start":{"line":237,"column":4},"end":{"line":237,"column":3}},{"start":{"line":237,"column":4},"end":{"line":237,"column":3}}]},"35":{"line":243,"type":"if","locations":[{"start":{"line":243,"column":64},"end":{"line":243,"column":63}},{"start":{"line":243,"column":64},"end":{"line":243,"column":63}}]},"36":{"line":245,"type":"if","locations":[{"start":{"line":245,"column":4},"end":{"line":245,"column":3}},{"start":{"line":245,"column":4},"end":{"line":245,"column":3}}]},"37":{"line":252,"type":"cond-expr","locations":[{"start":{"line":252,"column":88},"end":{"line":252,"column":89}},{"start":{"line":252,"column":92},"end":{"line":252,"column":93}}]},"38":{"line":255,"type":"cond-expr","locations":[{"start":{"line":255,"column":87},"end":{"line":255,"column":91}},{"start":{"line":255,"column":94},"end":{"line":255,"column":99}}]},"39":{"line":257,"type":"if","locations":[{"start":{"line":257,"column":4},"end":{"line":257,"column":3}},{"start":{"line":257,"column":4},"end":{"line":257,"column":3}}]},"40":{"line":260,"type":"if","locations":[{"start":{"line":260,"column":4},"end":{"line":260,"column":3}},{"start":{"line":260,"column":4},"end":{"line":260,"column":3}}]},"41":{"line":264,"type":"if","locations":[{"start":{"line":264,"column":4},"end":{"line":264,"column":3}},{"start":{"line":264,"column":4},"end":{"line":264,"column":3}}]},"42":{"line":264,"type":"binary-expr","locations":[{"start":{"line":264,"column":8},"end":{"line":264,"column":24}},{"start":{"line":264,"column":28},"end":{"line":264,"column":84}}]},"43":{"line":278,"type":"binary-expr","locations":[{"start":{"line":278,"column":8},"end":{"line":278,"column":51}},{"start":{"line":279,"column":8},"end":{"line":279,"column":70}}]},"44":{"line":282,"type":"binary-expr","locations":[{"start":{"line":282,"column":13},"end":{"line":282,"column":22}},{"start":{"line":282,"column":26},"end":{"line":282,"column":43}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":130,"9":1,"10":46,"11":46,"12":46,"13":1,"14":27,"15":27,"16":27,"17":27,"18":27,"19":1,"20":2,"21":26,"22":45,"23":27,"24":27,"25":1,"26":2,"27":27,"28":1,"29":27,"30":1,"31":52,"32":52,"33":52,"34":52,"35":52,"36":16,"37":16,"38":16,"39":16,"40":16,"41":36,"42":36,"43":36,"44":35,"45":36,"46":52,"47":52,"48":52,"49":1,"50":6,"51":12,"52":6,"53":6,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":6,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":9,"84":1,"85":9,"86":1,"87":1,"88":1,"89":52,"90":2,"91":50,"92":1,"93":2,"94":1,"95":0,"96":1,"97":49,"98":1,"99":50,"100":50,"101":50,"102":50,"103":35,"104":15,"105":0,"106":15,"107":27,"108":1,"109":52,"110":52,"111":52,"112":1,"113":0,"114":0,"115":0,"116":51,"117":15,"118":15,"119":14,"120":36,"121":1,"122":1,"123":1,"124":52,"125":16,"126":2,"127":52,"128":80,"129":59,"130":52,"131":36,"132":52,"133":1,"134":106,"135":53,"136":53,"137":1,"138":0,"139":0,"140":1,"141":53,"142":53,"143":2,"144":53,"145":19,"146":53,"147":3,"148":53,"149":1,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":1,"157":1},"b":{"1":[27,0],"2":[1,26],"3":[1,26],"4":[1,26],"5":[16,36],"6":[35,1],"7":[6,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[1,1],"16":[2,50],"17":[1,49],"18":[50,0],"19":[50,49],"20":[35,15],"21":[2,50],"22":[1,51],"23":[0,1],"24":[0,0],"25":[15,36],"26":[14,1],"27":[1,35],"28":[1,0],"29":[16,36],"30":[2,14],"31":[0,2],"32":[59,21],"33":[80,21],"34":[36,16],"35":[53,0],"36":[1,52],"37":[47,6],"38":[51,2],"39":[2,51],"40":[19,34],"41":[3,50],"42":[53,53],"43":[0,0],"44":[0,0]},"f":{"1":1,"2":1,"3":130,"4":46,"5":27,"6":2,"7":45,"8":2,"9":52,"10":6,"11":6,"12":0,"13":0,"14":0,"15":0,"16":1,"17":1,"18":9,"19":9,"20":52,"21":2,"22":0,"23":50,"24":27,"25":52,"26":80,"27":53,"28":0,"29":0,"30":0,"31":0},"code":"/// <reference path='../ui/Facet/Facet.ts' />\n\nimport {Facet} from '../ui/Facet/Facet';\nimport {IGroupByRequest} from '../rest/GroupByRequest';\nimport {IGroupByResult} from '../rest/GroupByResult';\nimport {ExpressionBuilder} from '../ui/Base/ExpressionBuilder';\nimport {FacetValue} from '../ui/Facet/FacetValues';\nimport {Utils} from '../utils/Utils';\nimport {QueryBuilder} from '../ui/Base/QueryBuilder';\nimport {FacetSearchParameters} from '../ui/Facet/FacetSearchParameters';\nimport {Assert} from '../misc/Assert';\nimport {IIndexFieldValue} from '../rest/FieldValue';\nimport {FacetUtils} from '../ui/Facet/FacetUtils';\nimport {IQueryResults} from '../rest/QueryResults';\nimport {IGroupByValue} from '../rest/GroupByValue';\nimport {IEndpointError} from '../rest/EndpointError';\nimport {IQueryBuilderExpression} from '../ui/Base/QueryBuilder';\n\nexport class FacetQueryController {\n  public expressionToUseForFacetSearch: string;\n  public constantExpressionToUseForFacetSearch: string;\n  public lastGroupByRequestIndex: number;\n  public lastGroupByRequest: IGroupByRequest;\n  public lastGroupByResult: IGroupByResult;\n\n  constructor(public facet: Facet) {\n  }\n\n  /**\n   * Reset the expression for the facet search, used when a new query is triggered\n   */\n  public prepareForNewQuery() {\n    this.lastGroupByRequestIndex = undefined;\n    this.expressionToUseForFacetSearch = undefined;\n    this.constantExpressionToUseForFacetSearch = undefined;\n  }\n\n  /**\n   * Compute the filter expression that the facet need to output for the query\n   * @returns {string}\n   */\n  public computeOurFilterExpression(): string {\n    let builder = new ExpressionBuilder();\n    let selected = this.facet.values.getSelected();\n    if (selected.length > 0) {\n      if (this.facet.options.useAnd) {\n        _.each(selected, (value: FacetValue) => {\n          builder.addFieldExpression(this.facet.options.field, '==', [value.value]);\n        });\n      } else {\n        builder.addFieldExpression(this.facet.options.field, '==', _.map(selected, (value: FacetValue) => value.value));\n      }\n    }\n    let excluded = this.facet.values.getExcluded();\n    if (excluded.length > 0) {\n      builder.addFieldNotEqualExpression(this.facet.options.field, _.map(excluded, (value: FacetValue) => value.value));\n    }\n    if (Utils.isNonEmptyString(this.facet.options.additionalFilter)) {\n      builder.add(this.facet.options.additionalFilter);\n    }\n    return builder.build();\n  }\n\n  /**\n   * Build the group by request for the facet, and insert it in the query builder\n   * @param queryBuilder\n   */\n  public putGroupByIntoQueryBuilder(queryBuilder: QueryBuilder) {\n    Assert.exists(queryBuilder);\n\n    let allowedValues = this.createGroupByAllowedValues();\n    let groupByRequest = this.createBasicGroupByRequest(allowedValues);\n\n    let queryOverrideObject = this.createGroupByQueryOverride(queryBuilder);\n    if (!Utils.isNullOrUndefined(queryOverrideObject)) {\n      groupByRequest.queryOverride = queryOverrideObject.basic;\n      groupByRequest.advancedQueryOverride = queryOverrideObject.advanced;\n      groupByRequest.constantQueryOverride = queryOverrideObject.constant;\n      this.expressionToUseForFacetSearch = queryOverrideObject.withoutConstant;\n      this.constantExpressionToUseForFacetSearch = queryOverrideObject.constant;\n    } else {\n      let parts = queryBuilder.computeCompleteExpressionParts();\n      this.expressionToUseForFacetSearch = parts.withoutConstant;\n      if (this.expressionToUseForFacetSearch == null) {\n        this.expressionToUseForFacetSearch = '@uri';\n      }\n      this.constantExpressionToUseForFacetSearch = parts.constant;\n    }\n    this.lastGroupByRequestIndex = queryBuilder.groupByRequests.length;\n    this.lastGroupByRequest = groupByRequest;\n    queryBuilder.groupByRequests.push(groupByRequest);\n  }\n\n  /**\n   * Search inside the facet, using a group by request\n   * @param params\n   * @param oldLength Optional params, used by the search method to call itself recursively to fetch all required values\n   * @returns {Promise|Promise<T>}\n   */\n  public search(params: FacetSearchParameters, oldLength = params.nbResults): Promise<IIndexFieldValue[]> {\n\n    return new Promise((resolve, reject) => {\n      let onResult = (fieldValues?: IIndexFieldValue[]) => {\n        let newLength = fieldValues.length;\n        fieldValues = this.checkForFacetSearchValuesToRemove(fieldValues, params.valueToSearch);\n        if (FacetUtils.needAnotherFacetSearch(fieldValues.length, newLength, oldLength, 5)) {\n          // This means that we removed enough values from the returned one that we need to perform a new search with more values requested.\n          params.nbResults += 5;\n          return this.search(params, fieldValues.length);\n        } else {\n          resolve(fieldValues);\n        }\n      }\n\n      this.facet.getEndpoint().search(params.getQuery())\n        .then((queryResults: IQueryResults) => {\n          if (this.facet.searchInterface.isNewDesign()) {\n            // params.getQuery() will generate a query for all excluded values + some new values\n            // there is no clean way to do a group by and remove some values\n            // so instead we request more values than we need, and crop all the one we don't want\n            let valuesCropped: IGroupByValue[] = [];\n            if (queryResults.groupByResults && queryResults.groupByResults[0]) {\n              _.each(queryResults.groupByResults[0].values, (v: IGroupByValue) => {\n                if (v.lookupValue) {\n                  if (!_.contains(params.alwaysExclude, v.lookupValue.toLowerCase())) {\n                    valuesCropped.push(v);\n                  }\n                } else {\n                  if (!_.contains(params.alwaysExclude, v.value.toLowerCase())) {\n                    valuesCropped.push(v);\n                  }\n                }\n              })\n            }\n            onResult(_.first(valuesCropped, params.nbResults));\n          } else {\n            resolve(queryResults.groupByResults[0].values);\n          }\n        })\n        .catch((error: IEndpointError) => {\n          reject(error);\n        })\n    })\n  }\n\n  public fetchMore(numberOfValuesToFetch: number) {\n    let params = new FacetSearchParameters(this.facet);\n    params.alwaysInclude = this.facet.options.allowedValues || _.pluck(this.facet.values.getAll(), 'value');\n    params.nbResults = numberOfValuesToFetch;\n    return this.facet.getEndpoint().search(params.getQuery());\n  }\n\n  public searchInFacetToUpdateDelta(facetValues: FacetValue[]) {\n    let params = new FacetSearchParameters(this.facet);\n    let query = params.getQuery();\n    query.aq = this.computeOurFilterExpression();\n    _.each(facetValues, (facetValue: FacetValue) => {\n      facetValue.waitingForDelta = true;\n    });\n    query.groupBy = [this.createBasicGroupByRequest(_.map(facetValues, (facetValue: FacetValue) => facetValue.value))];\n    query.groupBy[0].completeFacetWithStandardValues = false;\n    return this.facet.getEndpoint().search(query);\n  }\n\n  protected createGroupByAllowedValues() {\n    // if you want to keep displayed values next time, take all current values as allowed values\n    // otherwise take only the selected value\n    if (this.facet.options.allowedValues != undefined) {\n      return this.facet.options.allowedValues;\n    } else if (this.facet.options.customSort != undefined) {\n      // If there is a custom sort, we still need to add selectedValues to the group by\n      // Filter out duplicates with a lower case comparison on the value\n      let toCompare = _.map(this.facet.options.customSort, (val: string) => {\n        return val.toLowerCase();\n      })\n      let filtered = _.filter(this.getAllowedValuesFromSelected(), (value: string) => {\n        return !_.contains(toCompare, value.toLowerCase());\n      })\n      return this.facet.options.customSort.concat(filtered);\n\n    } else {\n      return this.getAllowedValuesFromSelected();\n    }\n  }\n\n  private getAllowedValuesFromSelected() {\n    let toMap: FacetValue[] = [];\n    if (this.facet.options.useAnd || !this.facet.keepDisplayedValuesNextTime) {\n      let selected = this.facet.values.getSelected();\n      if (selected.length == 0) {\n        return undefined;\n      }\n      toMap = this.facet.values.getSelected();\n    } else {\n      toMap = this.facet.values.getAll();\n    }\n    return _.map(toMap, (facetValue: FacetValue) => facetValue.value);\n  }\n\n  private createGroupByQueryOverride(queryBuilder: QueryBuilder): IQueryBuilderExpression {\n    let additionalFilter = this.facet.options.additionalFilter ? this.facet.options.additionalFilter : '';\n    let queryOverrideObject: IQueryBuilderExpression = undefined;\n\n    if (this.facet.options.useAnd) {\n      if (Utils.isNonEmptyString(additionalFilter)) {\n        queryOverrideObject = queryBuilder.computeCompleteExpressionParts();\n        if (Utils.isEmptyString(queryOverrideObject.basic)) {\n          queryOverrideObject.basic = '@uri';\n        }\n      }\n    } else {\n      if (this.facet.values.hasSelectedOrExcludedValues()) {\n        queryOverrideObject = queryBuilder.computeCompleteExpressionPartsExcept(this.computeOurFilterExpression());\n        if (Utils.isEmptyString(queryOverrideObject.basic)) {\n          queryOverrideObject.basic = '@uri';\n        }\n      } else {\n        if (Utils.isNonEmptyString(additionalFilter)) {\n          queryOverrideObject = queryBuilder.computeCompleteExpressionParts();\n          if (Utils.isEmptyString(queryOverrideObject.basic)) {\n            queryOverrideObject.basic = '@uri';\n          }\n        }\n      }\n    }\n\n    if (queryOverrideObject) {\n      if (Utils.isNonEmptyString(additionalFilter)) {\n        queryOverrideObject.constant = queryOverrideObject.constant ? queryOverrideObject.constant + ' ' + additionalFilter : additionalFilter;\n      }\n    }\n    _.each(_.keys(queryOverrideObject), (k) => {\n      if (Utils.isEmptyString(queryOverrideObject[k]) || Utils.isNullOrUndefined(queryOverrideObject[k])) {\n        delete queryOverrideObject[k];\n      }\n    })\n    if (_.keys(queryOverrideObject).length == 0) {\n      queryOverrideObject = undefined;\n    }\n    return queryOverrideObject;\n  }\n\n  protected createBasicGroupByRequest(allowedValues?: string[], addComputedField: boolean = true): IGroupByRequest {\n    let nbOfRequestedValues = this.facet.numberOfValues;\n    if (this.facet.options.customSort != null) {\n      let usedValues = _.union(_.map(this.facet.values.getSelected(), (facetValue: FacetValue) => facetValue.value), _.map(this.facet.values.getExcluded(), (facetValue: FacetValue) => facetValue.value), this.facet.options.customSort);\n      nbOfRequestedValues = Math.max(nbOfRequestedValues, usedValues.length);\n    }\n\n    let groupByRequest: IGroupByRequest = {\n      field: this.facet.options.field,\n      maximumNumberOfValues: nbOfRequestedValues + (this.facet.options.enableMoreLess ? 1 : 0),\n      sortCriteria: this.facet.options.sortCriteria,\n      injectionDepth: this.facet.options.injectionDepth,\n      completeFacetWithStandardValues: this.facet.options.allowedValues == undefined ? true : false\n    };\n    if (this.facet.options.lookupField) {\n      groupByRequest.lookupField = this.facet.options.lookupField;\n    }\n    if (allowedValues != null) {\n      groupByRequest.allowedValues = allowedValues;\n    }\n\n    if (addComputedField && Utils.isNonEmptyString(this.facet.options.computedField)) {\n      groupByRequest.computedFields = [{\n        field: this.facet.options.computedField,\n        operation: this.facet.options.computedFieldOperation\n      }];\n    }\n    return groupByRequest;\n  }\n\n  private checkForFacetSearchValuesToRemove(fieldValues: IIndexFieldValue[], valueToCheckAgainst: string) {\n    let regex = FacetUtils.getRegexToUseForFacetSearch(valueToCheckAgainst, this.facet.options.facetSearchIgnoreAccents);\n\n    return _.filter<IIndexFieldValue>(fieldValues, (fieldValue) => {\n      let isAllowed =\n        _.isEmpty(this.facet.options.allowedValues) ||\n        _.contains(this.facet.options.allowedValues, fieldValue.value);\n\n      let value = this.facet.getValueCaption(fieldValue);\n      return isAllowed && regex.test(value);\n    })\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controllers/FacetQueryController.ts\n **/","l":{"6":1,"8":1,"10":1,"11":1,"13":1,"19":1,"26":130,"32":1,"33":46,"34":46,"35":46,"42":27,"43":27,"44":27,"45":27,"46":27,"47":1,"48":2,"51":45,"54":27,"55":27,"56":2,"58":27,"59":1,"61":27,"68":1,"69":52,"71":52,"72":52,"74":52,"75":52,"76":16,"77":16,"78":16,"79":16,"80":16,"82":36,"83":36,"84":36,"85":35,"87":36,"89":52,"90":52,"91":52,"100":12,"102":6,"103":6,"104":0,"105":0,"106":0,"108":0,"109":0,"111":0,"115":6,"117":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"129":0,"130":0,"135":0,"137":0,"141":0,"146":1,"147":1,"148":1,"149":1,"150":1,"153":1,"154":1,"155":1,"156":1,"157":1,"158":9,"160":9,"161":1,"162":1,"165":1,"168":52,"169":2,"170":50,"173":1,"174":2,"176":1,"177":0,"179":1,"182":49,"186":1,"187":50,"188":50,"189":50,"190":50,"191":35,"193":15,"195":0,"197":27,"200":1,"201":52,"202":52,"204":52,"205":1,"206":0,"207":0,"208":0,"212":51,"213":15,"214":15,"215":14,"218":36,"219":1,"220":1,"221":1,"227":52,"228":16,"229":2,"232":52,"233":80,"234":59,"237":52,"238":36,"240":52,"243":106,"244":53,"245":53,"246":1,"247":1,"250":53,"257":53,"258":2,"260":53,"261":19,"264":53,"265":3,"270":53,"273":1,"274":0,"276":0,"277":0,"281":0,"282":0,"285":1}},"src/ui/Facet/FacetSearchParameters.ts":{"path":"src/ui/Facet/FacetSearchParameters.ts","statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":50}},"4":{"start":{"line":9,"column":0},"end":{"line":9,"column":35}},"5":{"start":{"line":11,"column":0},"end":{"line":123,"column":1}},"6":{"start":{"line":21,"column":2},"end":{"line":25,"column":3}},"7":{"start":{"line":21,"column":21},"end":{"line":21,"column":33}},"8":{"start":{"line":15,"column":9},"end":{"line":15,"column":36}},"9":{"start":{"line":16,"column":9},"end":{"line":16,"column":38}},"10":{"start":{"line":17,"column":9},"end":{"line":17,"column":38}},"11":{"start":{"line":18,"column":9},"end":{"line":18,"column":38}},"12":{"start":{"line":19,"column":9},"end":{"line":19,"column":27}},"13":{"start":{"line":22,"column":4},"end":{"line":22,"column":63}},"14":{"start":{"line":23,"column":4},"end":{"line":23,"column":64}},"15":{"start":{"line":24,"column":4},"end":{"line":24,"column":65}},"16":{"start":{"line":27,"column":9},"end":{"line":33,"column":3}},"17":{"start":{"line":28,"column":4},"end":{"line":28,"column":31}},"18":{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},"19":{"start":{"line":30,"column":6},"end":{"line":30,"column":128}},"20":{"start":{"line":32,"column":4},"end":{"line":32,"column":16}},"21":{"start":{"line":35,"column":9},"end":{"line":48,"column":3}},"22":{"start":{"line":35,"column":2},"end":{"line":48,"column":3}},"23":{"start":{"line":36,"column":4},"end":{"line":41,"column":7}},"24":{"start":{"line":37,"column":6},"end":{"line":37,"column":84}},"25":{"start":{"line":38,"column":6},"end":{"line":40,"column":8}},"26":{"start":{"line":39,"column":8},"end":{"line":39,"column":41}},"27":{"start":{"line":42,"column":4},"end":{"line":47,"column":6}},"28":{"start":{"line":43,"column":6},"end":{"line":43,"column":90}},"29":{"start":{"line":44,"column":6},"end":{"line":46,"column":8}},"30":{"start":{"line":45,"column":8},"end":{"line":45,"column":42}},"31":{"start":{"line":50,"column":9},"end":{"line":82,"column":3}},"32":{"start":{"line":51,"column":4},"end":{"line":51,"column":24}},"33":{"start":{"line":52,"column":4},"end":{"line":52,"column":35}},"34":{"start":{"line":53,"column":4},"end":{"line":55,"column":5}},"35":{"start":{"line":54,"column":6},"end":{"line":54,"column":45}},"36":{"start":{"line":57,"column":4},"end":{"line":57,"column":25}},"37":{"start":{"line":58,"column":4},"end":{"line":60,"column":5}},"38":{"start":{"line":59,"column":6},"end":{"line":59,"column":52}},"39":{"start":{"line":62,"column":4},"end":{"line":69,"column":5}},"40":{"start":{"line":71,"column":4},"end":{"line":73,"column":5}},"41":{"start":{"line":72,"column":6},"end":{"line":72,"column":59}},"42":{"start":{"line":75,"column":4},"end":{"line":80,"column":5}},"43":{"start":{"line":76,"column":6},"end":{"line":79,"column":8}},"44":{"start":{"line":81,"column":4},"end":{"line":81,"column":19}},"45":{"start":{"line":84,"column":9},"end":{"line":100,"column":3}},"46":{"start":{"line":85,"column":4},"end":{"line":85,"column":71}},"47":{"start":{"line":86,"column":4},"end":{"line":90,"column":5}},"48":{"start":{"line":89,"column":6},"end":{"line":89,"column":45}},"49":{"start":{"line":91,"column":4},"end":{"line":91,"column":80}},"50":{"start":{"line":92,"column":4},"end":{"line":92,"column":89}},"51":{"start":{"line":93,"column":4},"end":{"line":93,"column":24}},"52":{"start":{"line":94,"column":4},"end":{"line":94,"column":39}},"53":{"start":{"line":95,"column":4},"end":{"line":95,"column":30}},"54":{"start":{"line":96,"column":4},"end":{"line":96,"column":34}},"55":{"start":{"line":97,"column":4},"end":{"line":97,"column":35}},"56":{"start":{"line":98,"column":4},"end":{"line":98,"column":51}},"57":{"start":{"line":99,"column":4},"end":{"line":99,"column":21}},"58":{"start":{"line":102,"column":10},"end":{"line":106,"column":3}},"59":{"start":{"line":103,"column":4},"end":{"line":105,"column":6}},"60":{"start":{"line":104,"column":6},"end":{"line":104,"column":28}},"61":{"start":{"line":108,"column":10},"end":{"line":122,"column":3}},"62":{"start":{"line":109,"column":4},"end":{"line":114,"column":15}},"63":{"start":{"line":111,"column":8},"end":{"line":111,"column":30}},"64":{"start":{"line":116,"column":4},"end":{"line":121,"column":15}},"65":{"start":{"line":118,"column":8},"end":{"line":118,"column":30}},"66":{"start":{"line":123,"column":0},"end":{"line":123,"column":1}},"67":{"start":{"line":11,"column":13},"end":{"line":123,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1530)","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":32}}},"2":{"name":"(anonymous_1531)","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":null,"column":-1}}},"3":{"name":"FacetSearchParameters","line":21,"loc":{"start":{"line":21,"column":2},"end":{"line":21,"column":33}}},"4":{"name":"(anonymous_1533)","line":27,"loc":{"start":{"line":27,"column":2},"end":{"line":27,"column":39}}},"5":{"name":"(anonymous_1534)","line":35,"loc":{"start":{"line":35,"column":2},"end":{"line":35,"column":75}}},"6":{"name":"(anonymous_1535)","line":36,"loc":{"start":{"line":36,"column":64},"end":{"line":36,"column":66}}},"7":{"name":"(anonymous_1536)","line":38,"loc":{"start":{"line":38,"column":29},"end":{"line":38,"column":38}}},"8":{"name":"(anonymous_1537)","line":42,"loc":{"start":{"line":42,"column":49},"end":{"line":42,"column":51}}},"9":{"name":"(anonymous_1538)","line":44,"loc":{"start":{"line":44,"column":29},"end":{"line":44,"column":38}}},"10":{"name":"(anonymous_1539)","line":50,"loc":{"start":{"line":50,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_1540)","line":84,"loc":{"start":{"line":84,"column":2},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_1541)","line":102,"loc":{"start":{"line":102,"column":2},"end":{"line":102,"column":68}}},"13":{"name":"(anonymous_1542)","line":103,"loc":{"start":{"line":103,"column":74},"end":{"line":103,"column":78}}},"14":{"name":"(anonymous_1543)","line":108,"loc":{"start":{"line":108,"column":2},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_1544)","line":110,"loc":{"start":{"line":110,"column":11},"end":{"line":110,"column":13}}},"16":{"name":"(anonymous_1545)","line":117,"loc":{"start":{"line":117,"column":11},"end":{"line":117,"column":13}}}},"branchMap":{"1":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":29,"column":3}},{"start":{"line":29,"column":4},"end":{"line":29,"column":3}}]},"2":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":4},"end":{"line":53,"column":3}},{"start":{"line":53,"column":4},"end":{"line":53,"column":3}}]},"3":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":4},"end":{"line":58,"column":3}},{"start":{"line":58,"column":4},"end":{"line":58,"column":3}}]},"4":{"line":65,"type":"cond-expr","locations":[{"start":{"line":65,"column":72},"end":{"line":65,"column":77}},{"start":{"line":65,"column":80},"end":{"line":65,"column":84}}]},"5":{"line":67,"type":"binary-expr","locations":[{"start":{"line":67,"column":20},"end":{"line":67,"column":51}},{"start":{"line":67,"column":55},"end":{"line":67,"column":72}}]},"6":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":4},"end":{"line":71,"column":3}},{"start":{"line":71,"column":4},"end":{"line":71,"column":3}}]},"7":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":4},"end":{"line":75,"column":3}},{"start":{"line":75,"column":4},"end":{"line":75,"column":3}}]},"8":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":4},"end":{"line":86,"column":3}},{"start":{"line":86,"column":4},"end":{"line":86,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":16,"8":16,"9":16,"10":16,"11":16,"12":16,"13":16,"14":16,"15":16,"16":1,"17":7,"18":7,"19":5,"20":7,"21":1,"22":4,"23":4,"24":4,"25":4,"26":8,"27":4,"28":6,"29":6,"30":6,"31":1,"32":17,"33":17,"34":17,"35":17,"36":17,"37":17,"38":5,"39":17,"40":17,"41":0,"42":17,"43":1,"44":17,"45":1,"46":13,"47":13,"48":4,"49":13,"50":13,"51":13,"52":13,"53":13,"54":13,"55":13,"56":13,"57":13,"58":1,"59":4,"60":4,"61":1,"62":17,"63":7,"64":17,"65":9,"66":1,"67":1},"b":{"1":[5,2],"2":[17,0],"3":[5,12],"4":[0,17],"5":[17,11],"6":[0,17],"7":[1,16],"8":[4,9]},"f":{"1":1,"2":1,"3":16,"4":7,"5":4,"6":4,"7":8,"8":6,"9":6,"10":17,"11":13,"12":4,"13":4,"14":17,"15":7,"16":9},"code":"/// <reference path=\"Facet.ts\" />\n\nimport {Facet} from './Facet';\nimport {Utils} from '../../utils/Utils';\nimport {FacetUtils} from './FacetUtils';\nimport {IGroupByRequest} from '../../rest/GroupByRequest';\nimport {IQuery} from '../../rest/Query';\nimport {QueryBuilder} from '../Base/QueryBuilder';\nimport {$$} from '../../utils/Dom';\n\nexport class FacetSearchParameters {\n  public searchEvenIfEmpty: boolean;\n  public nbResults: number;\n  public ignoreAccents: boolean;\n  public valueToSearch: string = '';\n  public alwaysInclude: string[] = [];\n  public alwaysExclude: string[] = [];\n  public sortCriteria = 'occurrences';\n  public fetchMore = false;\n\n  constructor(public facet: Facet) {\n    this.nbResults = facet.options.numberOfValuesInFacetSearch;\n    this.ignoreAccents = facet.options.facetSearchIgnoreAccents;\n    this.searchEvenIfEmpty = facet.searchInterface.isNewDesign();\n  }\n\n  public setValueToSearch(value: string) {\n    this.valueToSearch = value;\n    if (Utils.isNonEmptyString(value)) {\n      this.alwaysInclude = this.alwaysInclude.concat(FacetUtils.getValuesToUseForSearchInFacet(this.valueToSearch, this.facet));\n    }\n    return this;\n  }\n\n  public excludeCurrentlyDisplayedValuesInSearch(searchResults: HTMLElement) {\n    _.each(this.getCurrentlyShowedValueInSearch(searchResults), (v) => {\n      var expandedValues = FacetUtils.getValuesToUseForSearchInFacet(v, this.facet);\n      _.each(expandedValues, (expanded) => {\n        this.alwaysExclude.push(expanded)\n      })\n    });\n    _.each(this.facet.getDisplayedFacetValues(), (v) => {\n      var expandedValues = FacetUtils.getValuesToUseForSearchInFacet(v.value, this.facet);\n      _.each(expandedValues, (expanded) => {\n        this.alwaysExclude.push(expanded);\n      })\n    })\n  }\n\n  public getGroupByRequest(): IGroupByRequest {\n    this.lowerCaseAll();\n    var nbResults = this.nbResults;\n    if (this.facet.searchInterface.isNewDesign()) {\n      nbResults += this.alwaysExclude.length;\n    }\n\n    var typedByUser = [];\n    if (this.valueToSearch) {\n      typedByUser = ['*' + this.valueToSearch + '*']\n    }\n\n    var request: IGroupByRequest = {\n      allowedValues: typedByUser.concat(this.alwaysInclude).concat(this.alwaysExclude),\n      maximumNumberOfValues: nbResults,\n      completeFacetWithStandardValues: this.facet.options.lookupField ? false : true, // See : https://coveord.atlassian.net/browse/JSUI-728\n      field: this.facet.options.field,\n      sortCriteria: this.facet.options.sortCriteria || this.sortCriteria,\n      injectionDepth: this.facet.options.injectionDepth,\n    }\n\n    if (this.facet.options.lookupField) {\n      request.lookupField = this.facet.options.lookupField;\n    }\n\n    if (this.facet.options.computedField) {\n      request.computedFields = [{\n        field: this.facet.options.computedField,\n        operation: this.facet.options.computedFieldOperation\n      }]\n    }\n    return request;\n  }\n\n  public getQuery(): IQuery {\n    var lastQuery = _.clone(this.facet.queryController.getLastQuery());\n    if (!lastQuery) {\n      // There should normally always be a last query available\n      // If not, just create en empty one.\n      lastQuery = new QueryBuilder().build();\n    }\n    lastQuery.q = this.facet.facetQueryController.expressionToUseForFacetSearch;\n    lastQuery.cq = this.facet.facetQueryController.constantExpressionToUseForFacetSearch;\n    lastQuery.aq = null;\n    lastQuery.enableDidYouMean = false;\n    lastQuery.firstResult = 0;\n    lastQuery.numberOfResults = 0;\n    lastQuery.fieldsToInclude = [];\n    lastQuery.groupBy = [this.getGroupByRequest()];\n    return lastQuery;\n  }\n\n  private getCurrentlyShowedValueInSearch(searchResults: HTMLElement) {\n    return _.map($$(searchResults).findAll('.coveo-facet-value-caption'), (val) => {\n      return $$(val).text();\n    })\n  }\n\n  private lowerCaseAll() {\n    this.alwaysExclude = _.chain(this.alwaysExclude)\n      .map((v) => {\n        return v.toLowerCase()\n      })\n      .uniq()\n      .value();\n\n    this.alwaysInclude = _.chain(this.alwaysInclude)\n      .map((v) => {\n        return v.toLowerCase()\n      })\n      .uniq()\n      .value();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Facet/FacetSearchParameters.ts\n **/","l":{"4":1,"5":1,"8":1,"9":1,"11":1,"15":16,"16":16,"17":16,"18":16,"19":16,"21":16,"22":16,"23":16,"24":16,"27":1,"28":7,"29":7,"30":5,"32":7,"35":4,"36":4,"37":4,"38":4,"39":8,"42":4,"43":6,"44":6,"45":6,"50":1,"51":17,"52":17,"53":17,"54":17,"57":17,"58":17,"59":5,"62":17,"71":17,"72":0,"75":17,"76":1,"81":17,"84":1,"85":13,"86":13,"89":4,"91":13,"92":13,"93":13,"94":13,"95":13,"96":13,"97":13,"98":13,"99":13,"102":1,"103":4,"104":4,"108":1,"109":17,"111":7,"116":17,"118":9,"123":1}},"src/ui/Facet/FacetUtils.ts":{"path":"src/ui/Facet/FacetUtils.ts","statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":52}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":50}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":44}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":48}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":40}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":35}},"7":{"start":{"line":12,"column":0},"end":{"line":143,"column":1}},"8":{"start":{"line":13,"column":9},"end":{"line":15,"column":3}},"9":{"start":{"line":14,"column":4},"end":{"line":14,"column":75}},"10":{"start":{"line":17,"column":9},"end":{"line":50,"column":3}},"11":{"start":{"line":18,"column":4},"end":{"line":18,"column":25}},"12":{"start":{"line":19,"column":4},"end":{"line":19,"column":99}},"13":{"start":{"line":20,"column":4},"end":{"line":48,"column":5}},"14":{"start":{"line":21,"column":6},"end":{"line":28,"column":11}},"15":{"start":{"line":24,"column":10},"end":{"line":24,"column":36}},"16":{"start":{"line":27,"column":10},"end":{"line":27,"column":28}},"17":{"start":{"line":29,"column":6},"end":{"line":35,"column":7}},"18":{"start":{"line":30,"column":8},"end":{"line":34,"column":11}},"19":{"start":{"line":31,"column":10},"end":{"line":33,"column":11}},"20":{"start":{"line":32,"column":12},"end":{"line":32,"column":25}},"21":{"start":{"line":36,"column":11},"end":{"line":48,"column":5}},"22":{"start":{"line":37,"column":6},"end":{"line":41,"column":9}},"23":{"start":{"line":38,"column":8},"end":{"line":38,"column":34}},"24":{"start":{"line":40,"column":8},"end":{"line":40,"column":26}},"25":{"start":{"line":42,"column":11},"end":{"line":48,"column":5}},"26":{"start":{"line":43,"column":6},"end":{"line":47,"column":9}},"27":{"start":{"line":44,"column":8},"end":{"line":46,"column":9}},"28":{"start":{"line":45,"column":10},"end":{"line":45,"column":56}},"29":{"start":{"line":49,"column":4},"end":{"line":49,"column":15}},"30":{"start":{"line":52,"column":9},"end":{"line":58,"column":3}},"31":{"start":{"line":53,"column":4},"end":{"line":55,"column":7}},"32":{"start":{"line":54,"column":6},"end":{"line":54,"column":47}},"33":{"start":{"line":56,"column":4},"end":{"line":56,"column":40}},"34":{"start":{"line":57,"column":4},"end":{"line":57,"column":28}},"35":{"start":{"line":60,"column":9},"end":{"line":65,"column":3}},"36":{"start":{"line":64,"column":4},"end":{"line":64,"column":135}},"37":{"start":{"line":67,"column":9},"end":{"line":75,"column":3}},"38":{"start":{"line":69,"column":4},"end":{"line":74,"column":5}},"39":{"start":{"line":70,"column":6},"end":{"line":70,"column":70}},"40":{"start":{"line":71,"column":6},"end":{"line":73,"column":8}},"41":{"start":{"line":72,"column":8},"end":{"line":72,"column":47}},"42":{"start":{"line":77,"column":9},"end":{"line":91,"column":3}},"43":{"start":{"line":78,"column":4},"end":{"line":78,"column":22}},"44":{"start":{"line":80,"column":4},"end":{"line":89,"column":5}},"45":{"start":{"line":81,"column":6},"end":{"line":81,"column":67}},"46":{"start":{"line":82,"column":11},"end":{"line":89,"column":5}},"47":{"start":{"line":83,"column":6},"end":{"line":88,"column":7}},"48":{"start":{"line":84,"column":8},"end":{"line":84,"column":36}},"49":{"start":{"line":85,"column":8},"end":{"line":85,"column":51}},"50":{"start":{"line":90,"column":4},"end":{"line":90,"column":79}},"51":{"start":{"line":93,"column":9},"end":{"line":142,"column":3}},"52":{"start":{"line":95,"column":4},"end":{"line":97,"column":5}},"53":{"start":{"line":96,"column":6},"end":{"line":96,"column":13}},"54":{"start":{"line":98,"column":4},"end":{"line":141,"column":5}},"55":{"start":{"line":99,"column":6},"end":{"line":99,"column":46}},"56":{"start":{"line":101,"column":6},"end":{"line":101,"column":31}},"57":{"start":{"line":102,"column":6},"end":{"line":102,"column":34}},"58":{"start":{"line":103,"column":6},"end":{"line":103,"column":71}},"59":{"start":{"line":104,"column":6},"end":{"line":108,"column":7}},"60":{"start":{"line":105,"column":8},"end":{"line":107,"column":9}},"61":{"start":{"line":106,"column":10},"end":{"line":106,"column":39}},"62":{"start":{"line":109,"column":6},"end":{"line":109,"column":75}},"63":{"start":{"line":110,"column":6},"end":{"line":110,"column":108}},"64":{"start":{"line":111,"column":6},"end":{"line":129,"column":7}},"65":{"start":{"line":112,"column":8},"end":{"line":112,"column":43}},"66":{"start":{"line":113,"column":8},"end":{"line":113,"column":80}},"67":{"start":{"line":115,"column":8},"end":{"line":115,"column":43}},"68":{"start":{"line":116,"column":8},"end":{"line":116,"column":50}},"69":{"start":{"line":118,"column":8},"end":{"line":118,"column":47}},"70":{"start":{"line":120,"column":8},"end":{"line":120,"column":63}},"71":{"start":{"line":121,"column":8},"end":{"line":128,"column":9}},"72":{"start":{"line":122,"column":10},"end":{"line":127,"column":13}},"73":{"start":{"line":131,"column":6},"end":{"line":131,"column":33}},"74":{"start":{"line":132,"column":6},"end":{"line":140,"column":7}},"75":{"start":{"line":133,"column":8},"end":{"line":133,"column":46}},"76":{"start":{"line":134,"column":8},"end":{"line":134,"column":92}},"77":{"start":{"line":135,"column":8},"end":{"line":139,"column":9}},"78":{"start":{"line":136,"column":10},"end":{"line":136,"column":85}},"79":{"start":{"line":138,"column":10},"end":{"line":138,"column":58}},"80":{"start":{"line":143,"column":0},"end":{"line":143,"column":1}},"81":{"start":{"line":12,"column":13},"end":{"line":143,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1548)","line":12,"loc":{"start":{"line":12,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_1550)","line":13,"loc":{"start":{"line":13,"column":2},"end":{"line":13,"column":73}}},"3":{"name":"(anonymous_1551)","line":17,"loc":{"start":{"line":17,"column":2},"end":{"line":17,"column":70}}},"4":{"name":"(anonymous_1552)","line":23,"loc":{"start":{"line":23,"column":16},"end":{"line":23,"column":21}}},"5":{"name":"(anonymous_1553)","line":26,"loc":{"start":{"line":26,"column":14},"end":{"line":26,"column":20}}},"6":{"name":"(anonymous_1554)","line":30,"loc":{"start":{"line":30,"column":48},"end":{"line":30,"column":75}}},"7":{"name":"(anonymous_1555)","line":37,"loc":{"start":{"line":37,"column":64},"end":{"line":37,"column":69}}},"8":{"name":"(anonymous_1556)","line":39,"loc":{"start":{"line":39,"column":10},"end":{"line":39,"column":16}}},"9":{"name":"(anonymous_1557)","line":43,"loc":{"start":{"line":43,"column":29},"end":{"line":43,"column":35}}},"10":{"name":"(anonymous_1558)","line":52,"loc":{"start":{"line":52,"column":2},"end":{"line":52,"column":49}}},"11":{"name":"(anonymous_1559)","line":53,"loc":{"start":{"line":53,"column":27},"end":{"line":53,"column":33}}},"12":{"name":"(anonymous_1560)","line":60,"loc":{"start":{"line":60,"column":2},"end":{"line":60,"column":138}}},"13":{"name":"(anonymous_1561)","line":67,"loc":{"start":{"line":67,"column":2},"end":{"line":67,"column":77}}},"14":{"name":"(anonymous_1562)","line":71,"loc":{"start":{"line":71,"column":23},"end":{"line":71,"column":31}}},"15":{"name":"(anonymous_1563)","line":77,"loc":{"start":{"line":77,"column":2},"end":{"line":77,"column":63}}},"16":{"name":"(anonymous_1564)","line":93,"loc":{"start":{"line":93,"column":2},"end":{"line":93,"column":87}}}},"branchMap":{"1":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":4},"end":{"line":20,"column":3}},{"start":{"line":20,"column":4},"end":{"line":20,"column":3}}]},"2":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":6},"end":{"line":29,"column":5}},{"start":{"line":29,"column":6},"end":{"line":29,"column":5}}]},"3":{"line":29,"type":"binary-expr","locations":[{"start":{"line":29,"column":10},"end":{"line":29,"column":79}},{"start":{"line":29,"column":83},"end":{"line":29,"column":150}}]},"4":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":10},"end":{"line":31,"column":9}},{"start":{"line":31,"column":10},"end":{"line":31,"column":9}}]},"5":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":14},"end":{"line":31,"column":50}},{"start":{"line":31,"column":54},"end":{"line":31,"column":71}}]},"6":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":11},"end":{"line":36,"column":10}},{"start":{"line":36,"column":11},"end":{"line":36,"column":10}}]},"7":{"line":36,"type":"binary-expr","locations":[{"start":{"line":36,"column":15},"end":{"line":36,"column":84}},{"start":{"line":36,"column":88},"end":{"line":36,"column":155}}]},"8":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":11},"end":{"line":42,"column":10}},{"start":{"line":42,"column":11},"end":{"line":42,"column":10}}]},"9":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":8},"end":{"line":44,"column":7}},{"start":{"line":44,"column":8},"end":{"line":44,"column":7}}]},"10":{"line":64,"type":"binary-expr","locations":[{"start":{"line":64,"column":11},"end":{"line":64,"column":48}},{"start":{"line":64,"column":52},"end":{"line":64,"column":93}},{"start":{"line":64,"column":97},"end":{"line":64,"column":134}}]},"11":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":4},"end":{"line":69,"column":3}},{"start":{"line":69,"column":4},"end":{"line":69,"column":3}}]},"12":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":4},"end":{"line":80,"column":3}},{"start":{"line":80,"column":4},"end":{"line":80,"column":3}}]},"13":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":11},"end":{"line":82,"column":10}},{"start":{"line":82,"column":11},"end":{"line":82,"column":10}}]},"14":{"line":90,"type":"cond-expr","locations":[{"start":{"line":90,"column":65},"end":{"line":90,"column":70}},{"start":{"line":90,"column":73},"end":{"line":90,"column":78}}]},"15":{"line":90,"type":"binary-expr","locations":[{"start":{"line":90,"column":11},"end":{"line":90,"column":29}},{"start":{"line":90,"column":33},"end":{"line":90,"column":62}}]},"16":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":4},"end":{"line":95,"column":3}},{"start":{"line":95,"column":4},"end":{"line":95,"column":3}}]},"17":{"line":95,"type":"binary-expr","locations":[{"start":{"line":95,"column":8},"end":{"line":95,"column":25}},{"start":{"line":95,"column":29},"end":{"line":95,"column":64}},{"start":{"line":95,"column":68},"end":{"line":95,"column":117}}]},"18":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":4},"end":{"line":98,"column":3}},{"start":{"line":98,"column":4},"end":{"line":98,"column":3}}]},"19":{"line":98,"type":"binary-expr","locations":[{"start":{"line":98,"column":8},"end":{"line":98,"column":78}},{"start":{"line":98,"column":82},"end":{"line":98,"column":91}}]},"20":{"line":98,"type":"binary-expr","locations":[{"start":{"line":98,"column":10},"end":{"line":98,"column":33}},{"start":{"line":98,"column":37},"end":{"line":98,"column":77}}]},"21":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":8},"end":{"line":105,"column":7}},{"start":{"line":105,"column":8},"end":{"line":105,"column":7}}]},"22":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":8},"end":{"line":121,"column":7}},{"start":{"line":121,"column":8},"end":{"line":121,"column":7}}]},"23":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":8},"end":{"line":135,"column":7}},{"start":{"line":135,"column":8},"end":{"line":135,"column":7}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":2,"8":1,"9":15,"10":1,"11":15,"12":15,"13":15,"14":12,"15":24,"16":6,"17":12,"18":0,"19":0,"20":0,"21":3,"22":0,"23":0,"24":0,"25":3,"26":0,"27":0,"28":0,"29":15,"30":1,"31":0,"32":0,"33":0,"34":0,"35":1,"36":0,"37":1,"38":72,"39":22,"40":22,"41":37,"42":1,"43":322,"44":322,"45":2,"46":320,"47":0,"48":0,"49":0,"50":322,"51":1,"52":75,"53":75,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":1,"81":1},"b":{"1":[12,3],"2":[0,12],"3":[12,12],"4":[0,0],"5":[0,0],"6":[0,3],"7":[3,3],"8":[0,3],"9":[0,0],"10":[0,0,0],"11":[22,50],"12":[2,320],"13":[0,320],"14":[1,321],"15":[322,1],"16":[75,0],"17":[75,75,75],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0]},"f":{"1":1,"2":15,"3":15,"4":24,"5":6,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":72,"14":37,"15":322,"16":75},"code":"/// <reference path='Facet.ts' />\nimport {Facet} from './Facet';\nimport {StringUtils} from '../../utils/StringUtils';\nimport {QueryUtils} from '../../utils/QueryUtils';\nimport {FileTypes} from '../Misc/FileTypes';\nimport {DateUtils} from '../../utils/DateUtils';\nimport {Utils} from '../../utils/Utils';\nimport {$$} from '../../utils/Dom';\n\ndeclare const Coveo;\n\nexport class FacetUtils {\n  static getRegexToUseForFacetSearch(value: string, ignoreAccent: boolean) {\n    return new RegExp(StringUtils.stringToRegex(value, ignoreAccent), 'i');\n  }\n\n  static getValuesToUseForSearchInFacet(original: string, facet: Facet): string[] {\n    let ret = [original];\n    let regex = this.getRegexToUseForFacetSearch(original, facet.options.facetSearchIgnoreAccents);\n    if (facet.options.valueCaption) {\n      _.chain(facet.options.valueCaption)\n        .pairs()\n        .filter((pair) => {\n          return regex.test(pair[1])\n        })\n        .each((match) => {\n          ret.push(match[0])\n        });\n      if (QueryUtils.isStratusAgnosticField(facet.options.field, '@objecttype') || QueryUtils.isStratusAgnosticField(facet.options.field, '@filetype')) {\n        _.each(FileTypes.getFileTypeCaptions(), (value: string, key: string) => {\n          if (!(key in facet.options.valueCaption) && regex.test(value)) {\n            ret.push(key)\n          }\n        });\n      }\n    } else if (QueryUtils.isStratusAgnosticField(facet.options.field, '@objecttype') || QueryUtils.isStratusAgnosticField(facet.options.field, '@filetype')) {\n      _.each(_.filter(_.pairs(FileTypes.getFileTypeCaptions()), (pair) => {\n        return regex.test(pair[1])\n      }), (match) => {\n        ret.push(match[0])\n      });\n    } else if (QueryUtils.isStratusAgnosticField(facet.options.field, '@month')) {\n      _.each(_.range(1, 13), (month) => {\n        if (regex.test(DateUtils.monthToString(month - 1))) {\n          ret.push(('0' + month.toString()).substr(-2));\n        }\n      });\n    }\n    return ret;\n  }\n\n  static buildFacetSearchPattern(values: string[]) {\n    values = _.map(values, (value) => {\n      return Utils.escapeRegexCharacter(value);\n    });\n    values[0] = '.*' + values[0] + '.*';\n    return values.join('|');\n  }\n\n  static needAnotherFacetSearch(currentSearchLength: number, newSearchLength: number, oldSearchLength: number, desiredSearchLength: number) {\n    // Something was removed (currentSearch < newSearch)\n    // && we might want to display more facet search result(currentSearch < desiredSearch)\n    // && the new query returned more stuff than the old one so there's still more results(currentSearchLength > oldLength)\n    return currentSearchLength < newSearchLength && currentSearchLength < desiredSearchLength && currentSearchLength > oldSearchLength;\n  }\n\n  static addNoStateCssClassToFacetValues(facet: Facet, container: HTMLElement) {\n    // This takes care of adding the correct css class on each facet value checkbox (empty white box) if at least one value is selected in that facet\n    if (facet.values.getSelected().length != 0) {\n      let noStates = $$(container).findAll('li:not(.coveo-selected)');\n      _.each(noStates, (noState) => {\n        $$(noState).addClass('coveo-no-state');\n      })\n    }\n  }\n\n  static tryToGetTranslatedCaption(field: string, value: string) {\n    let found: string;\n\n    if (QueryUtils.isStratusAgnosticField(field.toLowerCase(), '@filetype')) {\n      found = FileTypes.getFileTypeCaptions()[value.toLowerCase()];\n    } else if (QueryUtils.isStratusAgnosticField(field.toLowerCase(), '@month')) {\n      try {\n        let month = parseInt(value);\n        found = DateUtils.monthToString(month - 1);\n      } catch (ex) {\n        // Do nothing\n      }\n    }\n    return found != undefined && Utils.isNonEmptyString(found) ? found : value;\n  }\n\n  static clipCaptionsToAvoidOverflowingTheirContainer(facet: Facet, forceClip?: boolean) {\n    // in new design, we don't need this : use flexbox instead (sorry IE user)\n    if (facet.getBindings && facet.getBindings().searchInterface && facet.getBindings().searchInterface.isNewDesign()) {\n      return;\n    }\n    if (!(Coveo.HierarchicalFacet && facet instanceof Coveo.HierarchicalFacet) || forceClip) {\n      facet.logger.trace('Clipping captions');\n      // force facet to show to calculate width\n      $$(facet.element).show();\n      let element = facet.element;\n      let captions = $$(element).findAll('.coveo-facet-value-caption');\n      for (let i = 0; i < captions.length; i++) {\n        if (captions[i].style.width != '') {\n          captions[i].style.width = '';\n        }\n      }\n      let labels = $$(element).findAll('.coveo-facet-value-label-wrapper');\n      let labelsMaxWidth: { element: HTMLElement; width: number; crop: number; label: HTMLElement; }[] = [];\n      for (let i = 0; i < labels.length; i++) {\n        let label: HTMLElement = labels[i];\n        let caption: HTMLElement = $$(label).find('.coveo-facet-value-caption');\n\n        let labelWidth = label.scrollWidth;\n        let labelVisibleWidth = label.clientWidth;\n\n        let captionWidth = caption.scrollWidth;\n\n        let crop = Math.max(0, labelWidth - labelVisibleWidth);\n        if (crop) {\n          labelsMaxWidth.push({\n            element: caption,\n            width: captionWidth,\n            crop: crop,\n            label: label\n          });\n        }\n      }\n      // remove the specific css class\n      element.style.display = '';\n      for (let i = 0; i < labelsMaxWidth.length; i++) {\n        let labelMaxWidth = labelsMaxWidth[i];\n        labelMaxWidth.element.style.width = labelMaxWidth.width - labelMaxWidth.crop + 'px';\n        if (labelMaxWidth.crop > 0) {\n          labelMaxWidth.label.setAttribute('title', $$(labelMaxWidth.element).text())\n        } else {\n          labelMaxWidth.label.setAttribute('title', null);\n        }\n      }\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Facet/FacetUtils.ts\n **/","l":{"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"12":2,"13":1,"14":15,"17":1,"18":15,"19":15,"20":15,"21":12,"24":24,"27":6,"29":12,"30":0,"31":0,"32":0,"36":3,"37":0,"38":0,"40":0,"42":3,"43":0,"44":0,"45":0,"49":15,"52":1,"53":0,"54":0,"56":0,"57":0,"60":1,"64":0,"67":1,"69":72,"70":22,"71":22,"72":37,"77":1,"78":322,"80":322,"81":2,"82":320,"83":0,"84":0,"85":0,"90":322,"93":1,"95":75,"96":75,"98":0,"99":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"109":0,"110":0,"111":0,"112":0,"113":0,"115":0,"116":0,"118":0,"120":0,"121":0,"122":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"138":0,"143":1}},"src/controllers/FacetRangeQueryController.ts":{"path":"src/controllers/FacetRangeQueryController.ts","statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":60}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":37}},"3":{"start":{"line":8,"column":0},"end":{"line":40,"column":1}},"4":{"start":{"line":8,"column":47},"end":{"line":8,"column":67}},"5":{"start":{"line":11,"column":2},"end":{"line":13,"column":3}},"6":{"start":{"line":12,"column":4},"end":{"line":12,"column":17}},"7":{"start":{"line":11,"column":21},"end":{"line":11,"column":38}},"8":{"start":{"line":15,"column":12},"end":{"line":24,"column":3}},"9":{"start":{"line":15,"column":64},"end":{"line":15,"column":96}},"10":{"start":{"line":16,"column":4},"end":{"line":16,"column":79}},"11":{"start":{"line":17,"column":4},"end":{"line":17,"column":43}},"12":{"start":{"line":18,"column":4},"end":{"line":22,"column":5}},"13":{"start":{"line":19,"column":6},"end":{"line":19,"column":77}},"14":{"start":{"line":21,"column":6},"end":{"line":21,"column":76}},"15":{"start":{"line":23,"column":4},"end":{"line":23,"column":24}},"16":{"start":{"line":26,"column":12},"end":{"line":28,"column":3}},"17":{"start":{"line":27,"column":4},"end":{"line":27,"column":21}},"18":{"start":{"line":30,"column":10},"end":{"line":33,"column":3}},"19":{"start":{"line":31,"column":4},"end":{"line":31,"column":48}},"20":{"start":{"line":32,"column":4},"end":{"line":32,"column":24}},"21":{"start":{"line":35,"column":10},"end":{"line":39,"column":3}},"22":{"start":{"line":36,"column":4},"end":{"line":36,"column":57}},"23":{"start":{"line":37,"column":4},"end":{"line":37,"column":74}},"24":{"start":{"line":38,"column":4},"end":{"line":38,"column":24}},"25":{"start":{"line":40,"column":0},"end":{"line":40,"column":1}},"26":{"start":{"line":8,"column":13},"end":{"line":40,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1568)","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"FacetRangeQueryController","line":11,"loc":{"start":{"line":11,"column":2},"end":{"line":11,"column":38}}},"3":{"name":"(anonymous_1570)","line":15,"loc":{"start":{"line":15,"column":2},"end":{"line":15,"column":96}}},"4":{"name":"(anonymous_1571)","line":26,"loc":{"start":{"line":26,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_1572)","line":30,"loc":{"start":{"line":30,"column":2},"end":{"line":30,"column":75}}},"6":{"name":"(anonymous_1573)","line":35,"loc":{"start":{"line":35,"column":2},"end":{"line":35,"column":76}}}},"branchMap":{"1":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":64},"end":{"line":15,"column":63}},{"start":{"line":15,"column":64},"end":{"line":15,"column":63}}]},"2":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":18,"column":3}},{"start":{"line":18,"column":4},"end":{"line":18,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":1,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":1,"26":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0},"code":"/// <reference path=\"../ui/FacetRange/FacetRange.ts\" />\n\nimport {FacetQueryController} from './FacetQueryController';\nimport {FacetRange} from '../ui/FacetRange/FacetRange';\nimport {Utils} from '../utils/Utils';\nimport {IGroupByRequest} from '../rest/GroupByRequest';\n\nexport class FacetRangeQueryController extends FacetQueryController {\n  public graphGroupByQueriesIndex: number;\n\n  constructor(public facet: FacetRange) {\n    super(facet);\n  }\n\n  protected createBasicGroupByRequest(allowedValues?: string[], addComputedField: boolean = true) {\n    var groupByQuery = super.createBasicGroupByRequest(null, addComputedField);\n    groupByQuery.allowedValues = undefined;\n    if (Utils.isNonEmptyArray(this.facet.options.ranges)) {\n      groupByQuery = this.buildGroupByQueryForPredefinedRanges(groupByQuery);\n    } else {\n      groupByQuery = this.buildGroupByQueryForAutomaticRanges(groupByQuery);\n    }\n    return groupByQuery;\n  }\n\n  protected createGroupByAllowedValues(): string[] {\n    return undefined;\n  }\n\n  private buildGroupByQueryForAutomaticRanges(groupByQuery: IGroupByRequest) {\n    groupByQuery.generateAutomaticRanges = true;\n    return groupByQuery;\n  }\n\n  private buildGroupByQueryForPredefinedRanges(groupByQuery: IGroupByRequest) {\n    groupByQuery.rangeValues = this.facet.options.ranges;\n    groupByQuery.maximumNumberOfValues = this.facet.options.ranges.length;\n    return groupByQuery;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controllers/FacetRangeQueryController.ts\n **/","l":{"3":1,"5":1,"8":1,"11":1,"12":0,"15":1,"16":0,"17":0,"18":0,"19":0,"21":0,"23":0,"26":1,"27":0,"30":1,"31":0,"32":0,"35":1,"36":0,"37":0,"38":0,"40":1}},"src/controllers/FacetSliderQueryController.ts":{"path":"src/controllers/FacetSliderQueryController.ts","statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":74}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":63}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":45}},"4":{"start":{"line":11,"column":0},"end":{"line":248,"column":1}},"5":{"start":{"line":16,"column":2},"end":{"line":18,"column":3}},"6":{"start":{"line":16,"column":21},"end":{"line":16,"column":39}},"7":{"start":{"line":17,"column":4},"end":{"line":17,"column":125}},"8":{"start":{"line":17,"column":94},"end":{"line":17,"column":123}},"9":{"start":{"line":20,"column":9},"end":{"line":22,"column":3}},"10":{"start":{"line":21,"column":4},"end":{"line":21,"column":45}},"11":{"start":{"line":24,"column":9},"end":{"line":29,"column":3}},"12":{"start":{"line":25,"column":4},"end":{"line":27,"column":5}},"13":{"start":{"line":26,"column":6},"end":{"line":26,"column":60}},"14":{"start":{"line":28,"column":4},"end":{"line":28,"column":59}},"15":{"start":{"line":31,"column":9},"end":{"line":43,"column":3}},"16":{"start":{"line":31,"column":61},"end":{"line":31,"column":93}},"17":{"start":{"line":32,"column":4},"end":{"line":35,"column":6}},"18":{"start":{"line":36,"column":4},"end":{"line":36,"column":43}},"19":{"start":{"line":37,"column":4},"end":{"line":41,"column":5}},"20":{"start":{"line":38,"column":6},"end":{"line":38,"column":67}},"21":{"start":{"line":40,"column":6},"end":{"line":40,"column":76}},"22":{"start":{"line":42,"column":4},"end":{"line":42,"column":24}},"23":{"start":{"line":45,"column":9},"end":{"line":55,"column":3}},"24":{"start":{"line":45,"column":36},"end":{"line":45,"column":97}},"25":{"start":{"line":46,"column":4},"end":{"line":46,"column":42}},"26":{"start":{"line":47,"column":4},"end":{"line":53,"column":5}},"27":{"start":{"line":48,"column":6},"end":{"line":52,"column":7}},"28":{"start":{"line":49,"column":8},"end":{"line":49,"column":91}},"29":{"start":{"line":51,"column":8},"end":{"line":51,"column":91}},"30":{"start":{"line":54,"column":4},"end":{"line":54,"column":27}},"31":{"start":{"line":57,"column":10},"end":{"line":69,"column":3}},"32":{"start":{"line":57,"column":2},"end":{"line":69,"column":3}},"33":{"start":{"line":58,"column":4},"end":{"line":68,"column":5}},"34":{"start":{"line":59,"column":6},"end":{"line":59,"column":41}},"35":{"start":{"line":60,"column":6},"end":{"line":60,"column":88}},"36":{"start":{"line":61,"column":6},"end":{"line":67,"column":8}},"37":{"start":{"line":62,"column":8},"end":{"line":62,"column":50}},"38":{"start":{"line":63,"column":8},"end":{"line":66,"column":10}},"39":{"start":{"line":71,"column":10},"end":{"line":79,"column":3}},"40":{"start":{"line":72,"column":4},"end":{"line":78,"column":5}},"41":{"start":{"line":73,"column":6},"end":{"line":76,"column":7}},"42":{"start":{"line":74,"column":8},"end":{"line":74,"column":48}},"43":{"start":{"line":75,"column":8},"end":{"line":75,"column":44}},"44":{"start":{"line":77,"column":6},"end":{"line":77,"column":87}},"45":{"start":{"line":81,"column":10},"end":{"line":104,"column":3}},"46":{"start":{"line":82,"column":4},"end":{"line":82,"column":48}},"47":{"start":{"line":83,"column":4},"end":{"line":83,"column":44}},"48":{"start":{"line":84,"column":4},"end":{"line":84,"column":30}},"49":{"start":{"line":85,"column":4},"end":{"line":85,"column":26}},"50":{"start":{"line":86,"column":4},"end":{"line":96,"column":5}},"51":{"start":{"line":87,"column":6},"end":{"line":87,"column":54}},"52":{"start":{"line":88,"column":6},"end":{"line":88,"column":50}},"53":{"start":{"line":89,"column":6},"end":{"line":89,"column":60}},"54":{"start":{"line":90,"column":6},"end":{"line":90,"column":56}},"55":{"start":{"line":92,"column":6},"end":{"line":92,"column":26}},"56":{"start":{"line":93,"column":6},"end":{"line":93,"column":24}},"57":{"start":{"line":94,"column":6},"end":{"line":94,"column":25}},"58":{"start":{"line":95,"column":6},"end":{"line":95,"column":23}},"59":{"start":{"line":97,"column":4},"end":{"line":103,"column":5}},"60":{"start":{"line":98,"column":6},"end":{"line":98,"column":82}},"61":{"start":{"line":99,"column":11},"end":{"line":103,"column":5}},"62":{"start":{"line":100,"column":6},"end":{"line":100,"column":80}},"63":{"start":{"line":102,"column":6},"end":{"line":102,"column":75}},"64":{"start":{"line":106,"column":10},"end":{"line":124,"column":3}},"65":{"start":{"line":107,"column":4},"end":{"line":123,"column":5}},"66":{"start":{"line":108,"column":6},"end":{"line":108,"column":43}},"67":{"start":{"line":109,"column":6},"end":{"line":109,"column":39}},"68":{"start":{"line":110,"column":6},"end":{"line":113,"column":7}},"69":{"start":{"line":111,"column":8},"end":{"line":111,"column":41}},"70":{"start":{"line":112,"column":8},"end":{"line":112,"column":37}},"71":{"start":{"line":114,"column":6},"end":{"line":119,"column":9}},"72":{"start":{"line":120,"column":6},"end":{"line":120,"column":26}},"73":{"start":{"line":122,"column":6},"end":{"line":122,"column":68}},"74":{"start":{"line":126,"column":10},"end":{"line":129,"column":3}},"75":{"start":{"line":127,"column":4},"end":{"line":127,"column":48}},"76":{"start":{"line":128,"column":4},"end":{"line":128,"column":24}},"77":{"start":{"line":131,"column":10},"end":{"line":157,"column":3}},"78":{"start":{"line":132,"column":4},"end":{"line":132,"column":72}},"79":{"start":{"line":133,"column":4},"end":{"line":133,"column":71}},"80":{"start":{"line":134,"column":4},"end":{"line":137,"column":5}},"81":{"start":{"line":135,"column":6},"end":{"line":135,"column":73}},"82":{"start":{"line":136,"column":6},"end":{"line":136,"column":98}},"83":{"start":{"line":138,"column":4},"end":{"line":138,"column":89}},"84":{"start":{"line":139,"column":4},"end":{"line":152,"column":5}},"85":{"start":{"line":140,"column":6},"end":{"line":140,"column":90}},"86":{"start":{"line":141,"column":6},"end":{"line":141,"column":76}},"87":{"start":{"line":142,"column":6},"end":{"line":142,"column":87}},"88":{"start":{"line":143,"column":6},"end":{"line":143,"column":87}},"89":{"start":{"line":144,"column":6},"end":{"line":148,"column":7}},"90":{"start":{"line":145,"column":8},"end":{"line":145,"column":95}},"91":{"start":{"line":147,"column":8},"end":{"line":147,"column":134}},"92":{"start":{"line":149,"column":11},"end":{"line":152,"column":5}},"93":{"start":{"line":150,"column":6},"end":{"line":150,"column":72}},"94":{"start":{"line":151,"column":6},"end":{"line":151,"column":146}},"95":{"start":{"line":154,"column":4},"end":{"line":154,"column":56}},"96":{"start":{"line":155,"column":4},"end":{"line":155,"column":87}},"97":{"start":{"line":156,"column":4},"end":{"line":156,"column":67}},"98":{"start":{"line":159,"column":10},"end":{"line":168,"column":3}},"99":{"start":{"line":160,"column":4},"end":{"line":160,"column":71}},"100":{"start":{"line":161,"column":4},"end":{"line":161,"column":72}},"101":{"start":{"line":162,"column":4},"end":{"line":162,"column":132}},"102":{"start":{"line":163,"column":4},"end":{"line":163,"column":92}},"103":{"start":{"line":164,"column":4},"end":{"line":164,"column":57}},"104":{"start":{"line":165,"column":4},"end":{"line":165,"column":64}},"105":{"start":{"line":166,"column":4},"end":{"line":166,"column":57}},"106":{"start":{"line":167,"column":4},"end":{"line":167,"column":68}},"107":{"start":{"line":170,"column":10},"end":{"line":185,"column":3}},"108":{"start":{"line":171,"column":4},"end":{"line":173,"column":5}},"109":{"start":{"line":172,"column":6},"end":{"line":172,"column":42}},"110":{"start":{"line":174,"column":4},"end":{"line":176,"column":5}},"111":{"start":{"line":175,"column":6},"end":{"line":175,"column":78}},"112":{"start":{"line":177,"column":4},"end":{"line":179,"column":5}},"113":{"start":{"line":178,"column":6},"end":{"line":178,"column":74}},"114":{"start":{"line":180,"column":4},"end":{"line":184,"column":5}},"115":{"start":{"line":181,"column":6},"end":{"line":181,"column":54}},"116":{"start":{"line":183,"column":6},"end":{"line":183,"column":48}},"117":{"start":{"line":187,"column":10},"end":{"line":196,"column":3}},"118":{"start":{"line":188,"column":4},"end":{"line":195,"column":6}},"119":{"start":{"line":189,"column":6},"end":{"line":194,"column":7}},"120":{"start":{"line":198,"column":10},"end":{"line":215,"column":3}},"121":{"start":{"line":198,"column":2},"end":{"line":215,"column":3}},"122":{"start":{"line":199,"column":4},"end":{"line":199,"column":41}},"123":{"start":{"line":200,"column":4},"end":{"line":200,"column":103}},"124":{"start":{"line":201,"column":4},"end":{"line":214,"column":6}},"125":{"start":{"line":202,"column":6},"end":{"line":202,"column":46}},"126":{"start":{"line":203,"column":6},"end":{"line":203,"column":50}},"127":{"start":{"line":204,"column":6},"end":{"line":207,"column":7}},"128":{"start":{"line":205,"column":8},"end":{"line":205,"column":47}},"129":{"start":{"line":206,"column":8},"end":{"line":206,"column":43}},"130":{"start":{"line":208,"column":6},"end":{"line":213,"column":7}},"131":{"start":{"line":217,"column":10},"end":{"line":235,"column":3}},"132":{"start":{"line":218,"column":4},"end":{"line":234,"column":5}},"133":{"start":{"line":219,"column":6},"end":{"line":221,"column":7}},"134":{"start":{"line":220,"column":8},"end":{"line":220,"column":30}},"135":{"start":{"line":222,"column":6},"end":{"line":222,"column":33}},"136":{"start":{"line":223,"column":6},"end":{"line":230,"column":7}},"137":{"start":{"line":224,"column":8},"end":{"line":224,"column":63}},"138":{"start":{"line":225,"column":8},"end":{"line":229,"column":9}},"139":{"start":{"line":227,"column":10},"end":{"line":227,"column":91}},"140":{"start":{"line":228,"column":10},"end":{"line":228,"column":27}},"141":{"start":{"line":231,"column":6},"end":{"line":231,"column":32}},"142":{"start":{"line":233,"column":6},"end":{"line":233,"column":23}},"143":{"start":{"line":237,"column":10},"end":{"line":243,"column":3}},"144":{"start":{"line":238,"column":4},"end":{"line":242,"column":5}},"145":{"start":{"line":239,"column":6},"end":{"line":239,"column":99}},"146":{"start":{"line":241,"column":6},"end":{"line":241,"column":23}},"147":{"start":{"line":245,"column":10},"end":{"line":247,"column":3}},"148":{"start":{"line":246,"column":4},"end":{"line":246,"column":54}},"149":{"start":{"line":248,"column":0},"end":{"line":248,"column":1}},"150":{"start":{"line":11,"column":13},"end":{"line":248,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1575)","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":56}}},"2":{"name":"(anonymous_1576)","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":null,"column":-1}}},"3":{"name":"FacetSliderQueryController","line":16,"loc":{"start":{"line":16,"column":2},"end":{"line":16,"column":39}}},"4":{"name":"(anonymous_1578)","line":17,"loc":{"start":{"line":17,"column":60},"end":{"line":17,"column":89}}},"5":{"name":"(anonymous_1579)","line":20,"loc":{"start":{"line":20,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_1580)","line":24,"loc":{"start":{"line":24,"column":2},"end":{"line":24,"column":62}}},"7":{"name":"(anonymous_1581)","line":31,"loc":{"start":{"line":31,"column":2},"end":{"line":31,"column":93}}},"8":{"name":"(anonymous_1582)","line":45,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":97}}},"9":{"name":"(anonymous_1583)","line":57,"loc":{"start":{"line":57,"column":2},"end":{"line":57,"column":57}}},"10":{"name":"(anonymous_1584)","line":61,"loc":{"start":{"line":61,"column":24},"end":{"line":61,"column":33}}},"11":{"name":"(anonymous_1585)","line":71,"loc":{"start":{"line":71,"column":2},"end":{"line":71,"column":101}}},"12":{"name":"(anonymous_1586)","line":81,"loc":{"start":{"line":81,"column":2},"end":{"line":81,"column":101}}},"13":{"name":"(anonymous_1587)","line":106,"loc":{"start":{"line":106,"column":2},"end":{"line":106,"column":66}}},"14":{"name":"(anonymous_1588)","line":126,"loc":{"start":{"line":126,"column":2},"end":{"line":126,"column":75}}},"15":{"name":"(anonymous_1589)","line":131,"loc":{"start":{"line":131,"column":2},"end":{"line":131,"column":71}}},"16":{"name":"(anonymous_1590)","line":159,"loc":{"start":{"line":159,"column":2},"end":{"line":159,"column":72}}},"17":{"name":"(anonymous_1591)","line":170,"loc":{"start":{"line":170,"column":2},"end":{"line":170,"column":66}}},"18":{"name":"(anonymous_1592)","line":187,"loc":{"start":{"line":187,"column":2},"end":{"line":187,"column":57}}},"19":{"name":"(anonymous_1593)","line":188,"loc":{"start":{"line":188,"column":48},"end":{"line":188,"column":54}}},"20":{"name":"(anonymous_1594)","line":198,"loc":{"start":{"line":198,"column":2},"end":{"line":198,"column":51}}},"21":{"name":"(anonymous_1595)","line":201,"loc":{"start":{"line":201,"column":64},"end":{"line":201,"column":69}}},"22":{"name":"(anonymous_1596)","line":217,"loc":{"start":{"line":217,"column":2},"end":{"line":217,"column":33}}},"23":{"name":"(anonymous_1597)","line":237,"loc":{"start":{"line":237,"column":2},"end":{"line":237,"column":43}}},"24":{"name":"(anonymous_1598)","line":245,"loc":{"start":{"line":245,"column":2},"end":{"line":245,"column":50}}}},"branchMap":{"1":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":4},"end":{"line":25,"column":3}},{"start":{"line":25,"column":4},"end":{"line":25,"column":3}}]},"2":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":61},"end":{"line":31,"column":60}},{"start":{"line":31,"column":61},"end":{"line":31,"column":60}}]},"3":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":4},"end":{"line":37,"column":3}},{"start":{"line":37,"column":4},"end":{"line":37,"column":3}}]},"4":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":36},"end":{"line":45,"column":35}},{"start":{"line":45,"column":36},"end":{"line":45,"column":35}}]},"5":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":4},"end":{"line":47,"column":3}},{"start":{"line":47,"column":4},"end":{"line":47,"column":3}}]},"6":{"line":47,"type":"binary-expr","locations":[{"start":{"line":47,"column":8},"end":{"line":47,"column":32}},{"start":{"line":47,"column":36},"end":{"line":47,"column":60}}]},"7":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":6},"end":{"line":48,"column":5}},{"start":{"line":48,"column":6},"end":{"line":48,"column":5}}]},"8":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":4},"end":{"line":58,"column":3}},{"start":{"line":58,"column":4},"end":{"line":58,"column":3}}]},"9":{"line":58,"type":"binary-expr","locations":[{"start":{"line":58,"column":8},"end":{"line":58,"column":26}},{"start":{"line":58,"column":30},"end":{"line":58,"column":54}},{"start":{"line":58,"column":58},"end":{"line":58,"column":100}}]},"10":{"line":64,"type":"cond-expr","locations":[{"start":{"line":64,"column":48},"end":{"line":64,"column":96}},{"start":{"line":64,"column":99},"end":{"line":64,"column":124}}]},"11":{"line":65,"type":"cond-expr","locations":[{"start":{"line":65,"column":46},"end":{"line":65,"column":94}},{"start":{"line":65,"column":97},"end":{"line":65,"column":122}}]},"12":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":4},"end":{"line":72,"column":3}},{"start":{"line":72,"column":4},"end":{"line":72,"column":3}}]},"13":{"line":72,"type":"binary-expr","locations":[{"start":{"line":72,"column":8},"end":{"line":72,"column":41}},{"start":{"line":72,"column":45},"end":{"line":72,"column":74}}]},"14":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":6},"end":{"line":73,"column":5}},{"start":{"line":73,"column":6},"end":{"line":73,"column":5}}]},"15":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":4},"end":{"line":86,"column":3}},{"start":{"line":86,"column":4},"end":{"line":86,"column":3}}]},"16":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":4},"end":{"line":97,"column":3}},{"start":{"line":97,"column":4},"end":{"line":97,"column":3}}]},"17":{"line":97,"type":"binary-expr","locations":[{"start":{"line":97,"column":8},"end":{"line":97,"column":37}},{"start":{"line":97,"column":41},"end":{"line":97,"column":66}}]},"18":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":11},"end":{"line":99,"column":10}},{"start":{"line":99,"column":11},"end":{"line":99,"column":10}}]},"19":{"line":99,"type":"binary-expr","locations":[{"start":{"line":99,"column":15},"end":{"line":99,"column":44}},{"start":{"line":99,"column":48},"end":{"line":99,"column":73}}]},"20":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":4},"end":{"line":107,"column":3}},{"start":{"line":107,"column":4},"end":{"line":107,"column":3}}]},"21":{"line":107,"type":"binary-expr","locations":[{"start":{"line":107,"column":8},"end":{"line":107,"column":45}},{"start":{"line":107,"column":49},"end":{"line":107,"column":84}}]},"22":{"line":110,"type":"if","locations":[{"start":{"line":110,"column":6},"end":{"line":110,"column":5}},{"start":{"line":110,"column":6},"end":{"line":110,"column":5}}]},"23":{"line":110,"type":"binary-expr","locations":[{"start":{"line":110,"column":10},"end":{"line":110,"column":38}},{"start":{"line":110,"column":42},"end":{"line":110,"column":70}}]},"24":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":4},"end":{"line":134,"column":3}},{"start":{"line":134,"column":4},"end":{"line":134,"column":3}}]},"25":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":4},"end":{"line":139,"column":3}},{"start":{"line":139,"column":4},"end":{"line":139,"column":3}}]},"26":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":6},"end":{"line":144,"column":5}},{"start":{"line":144,"column":6},"end":{"line":144,"column":5}}]},"27":{"line":145,"type":"binary-expr","locations":[{"start":{"line":145,"column":52},"end":{"line":145,"column":84}},{"start":{"line":145,"column":88},"end":{"line":145,"column":94}}]},"28":{"line":147,"type":"cond-expr","locations":[{"start":{"line":147,"column":89},"end":{"line":147,"column":127}},{"start":{"line":147,"column":130},"end":{"line":147,"column":132}}]},"29":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":11},"end":{"line":149,"column":10}},{"start":{"line":149,"column":11},"end":{"line":149,"column":10}}]},"30":{"line":151,"type":"cond-expr","locations":[{"start":{"line":151,"column":80},"end":{"line":151,"column":104}},{"start":{"line":151,"column":107},"end":{"line":151,"column":109}}]},"31":{"line":162,"type":"cond-expr","locations":[{"start":{"line":162,"column":92},"end":{"line":162,"column":127}},{"start":{"line":162,"column":130},"end":{"line":162,"column":131}}]},"32":{"line":162,"type":"binary-expr","locations":[{"start":{"line":162,"column":92},"end":{"line":162,"column":122}},{"start":{"line":162,"column":126},"end":{"line":162,"column":127}}]},"33":{"line":163,"type":"binary-expr","locations":[{"start":{"line":163,"column":49},"end":{"line":163,"column":81}},{"start":{"line":163,"column":85},"end":{"line":163,"column":91}}]},"34":{"line":171,"type":"if","locations":[{"start":{"line":171,"column":4},"end":{"line":171,"column":3}},{"start":{"line":171,"column":4},"end":{"line":171,"column":3}}]},"35":{"line":174,"type":"if","locations":[{"start":{"line":174,"column":4},"end":{"line":174,"column":3}},{"start":{"line":174,"column":4},"end":{"line":174,"column":3}}]},"36":{"line":174,"type":"binary-expr","locations":[{"start":{"line":174,"column":8},"end":{"line":174,"column":36}},{"start":{"line":174,"column":40},"end":{"line":174,"column":71}}]},"37":{"line":177,"type":"if","locations":[{"start":{"line":177,"column":4},"end":{"line":177,"column":3}},{"start":{"line":177,"column":4},"end":{"line":177,"column":3}}]},"38":{"line":177,"type":"binary-expr","locations":[{"start":{"line":177,"column":8},"end":{"line":177,"column":36}},{"start":{"line":177,"column":40},"end":{"line":177,"column":69}}]},"39":{"line":180,"type":"if","locations":[{"start":{"line":180,"column":4},"end":{"line":180,"column":3}},{"start":{"line":180,"column":4},"end":{"line":180,"column":3}}]},"40":{"line":204,"type":"if","locations":[{"start":{"line":204,"column":6},"end":{"line":204,"column":5}},{"start":{"line":204,"column":6},"end":{"line":204,"column":5}}]},"41":{"line":218,"type":"if","locations":[{"start":{"line":218,"column":4},"end":{"line":218,"column":3}},{"start":{"line":218,"column":4},"end":{"line":218,"column":3}}]},"42":{"line":219,"type":"if","locations":[{"start":{"line":219,"column":6},"end":{"line":219,"column":5}},{"start":{"line":219,"column":6},"end":{"line":219,"column":5}}]},"43":{"line":223,"type":"if","locations":[{"start":{"line":223,"column":6},"end":{"line":223,"column":5}},{"start":{"line":223,"column":6},"end":{"line":223,"column":5}}]},"44":{"line":225,"type":"if","locations":[{"start":{"line":225,"column":8},"end":{"line":225,"column":7}},{"start":{"line":225,"column":8},"end":{"line":225,"column":7}}]},"45":{"line":238,"type":"if","locations":[{"start":{"line":238,"column":4},"end":{"line":238,"column":3}},{"start":{"line":238,"column":4},"end":{"line":238,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":14,"5":1,"6":13,"7":13,"8":7,"9":1,"10":6,"11":1,"12":7,"13":0,"14":7,"15":1,"16":14,"17":7,"18":7,"19":7,"20":0,"21":7,"22":7,"23":1,"24":6,"25":6,"26":6,"27":3,"28":0,"29":3,"30":6,"31":1,"32":7,"33":7,"34":0,"35":0,"36":0,"37":0,"38":0,"39":1,"40":3,"41":3,"42":1,"43":1,"44":3,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":1,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":1,"75":7,"76":7,"77":1,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":1,"99":7,"100":7,"101":7,"102":7,"103":7,"104":7,"105":7,"106":7,"107":1,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":1,"118":0,"119":0,"120":1,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":1,"132":2,"133":2,"134":2,"135":2,"136":2,"137":0,"138":0,"139":0,"140":0,"141":2,"142":0,"143":1,"144":2,"145":2,"146":0,"147":1,"148":0,"149":1,"150":1},"b":{"1":[0,7],"2":[7,0],"3":[0,7],"4":[0,6],"5":[3,3],"6":[6,3],"7":[0,3],"8":[0,7],"9":[7,7,0],"10":[0,0],"11":[0,0],"12":[3,0],"13":[3,0],"14":[1,2],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,7],"32":[0,0],"33":[7,6],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[2,0],"42":[2,0],"43":[0,2],"44":[0,0],"45":[2,0]},"f":{"1":1,"2":1,"3":13,"4":7,"5":6,"6":7,"7":7,"8":6,"9":7,"10":0,"11":3,"12":0,"13":0,"14":7,"15":0,"16":7,"17":0,"18":0,"19":0,"20":0,"21":0,"22":2,"23":2,"24":0},"code":"/// <reference path=\"../ui/FacetSlider/FacetSlider.ts\" />\n\nimport {FacetSlider} from '../ui/FacetSlider/FacetSlider';\nimport {QueryEvents, IQuerySuccessEventArgs} from '../events/QueryEvents';\nimport {QueryBuilder} from '../ui/Base/QueryBuilder';\nimport {IGroupByRequest} from '../rest/GroupByRequest';\nimport {ExpressionBuilder} from '../ui/Base/ExpressionBuilder';\nimport {IRangeValue} from '../rest/RangeValue';\nimport {DateUtils} from '../utils/DateUtils';\n\nexport class FacetSliderQueryController {\n  public graphGroupByQueriesIndex: number;\n  private rangeValuesForGraphToUse: { start: any; end: any }[];\n  public lastGroupByRequestIndex: number;\n\n  constructor(public facet: FacetSlider) {\n    this.facet.bind.onRootElement(QueryEvents.querySuccess, (args: IQuerySuccessEventArgs) => this.handleQuerySuccess(args));\n  }\n\n  public prepareForNewQuery() {\n    this.lastGroupByRequestIndex = undefined;\n  }\n\n  public putGroupByIntoQueryBuilder(queryBuilder: QueryBuilder) {\n    if (this.facet.options.graph) {\n      this.putGroupByForGraphIntoQueryBuilder(queryBuilder);\n    }\n    this.putGroupByForSliderIntoQueryBuilder(queryBuilder);\n  }\n\n  public createBasicGroupByRequest(allowedValues?: string[], addComputedField: boolean = true) {\n    let groupByQuery: IGroupByRequest = {\n      field: this.facet.options.field,\n      completeFacetWithStandardValues: true\n    };\n    groupByQuery.allowedValues = undefined;\n    if (this.facet.options.graph) {\n      groupByQuery = this.buildGroupByQueryForSlider(groupByQuery);\n    } else {\n      groupByQuery = this.buildGroupByQueryForAutomaticRanges(groupByQuery);\n    }\n    return groupByQuery;\n  }\n\n  public computeOurFilterExpression(boundary = [this.facet.startOfSlider, this.facet.endOfSlider]) {\n    let builder = new ExpressionBuilder();\n    if (boundary[0] != undefined && boundary[1] != undefined) {\n      if (this.facet.options.excludeOuterBounds) {\n        this.addFilterExpressionWithOuterBoundsExcluded(boundary[0], boundary[1], builder);\n      } else {\n        this.addFilterExpressionWithOuterBoundsIncluded(boundary[0], boundary[1], builder);\n      }\n    }\n    return builder.build();\n  }\n\n  private handleQuerySuccess(args: IQuerySuccessEventArgs) {\n    if (this.facet.options && this.facet.options.graph && this.rangeValuesForGraphToUse == undefined) {\n      this.rangeValuesForGraphToUse = [];\n      let rawValues = args.results.groupByResults[this.graphGroupByQueriesIndex].values;\n      _.each(rawValues, (rawValue) => {\n        let rawSplit = rawValue.value.split('..');\n        this.rangeValuesForGraphToUse.push({\n          start: this.facet.options.dateField ? this.getISOFormat(rawSplit[0].replace('@', ' ')) : parseInt(rawSplit[0], 10),\n          end: this.facet.options.dateField ? this.getISOFormat(rawSplit[1].replace('@', ' ')) : parseInt(rawSplit[1], 10)\n        })\n      })\n    }\n  }\n\n  private addFilterExpressionWithOuterBoundsIncluded(start: any, end: any, builder: ExpressionBuilder) {\n    if (start != this.facet.options.start || end != this.facet.options.end) {\n      if (this.facet.options.dateField) {\n        start = this.getFilterDateFormat(start);\n        end = this.getFilterDateFormat(end);\n      }\n      builder.addFieldExpression(this.facet.options.field, '==', [start + '..' + end]);\n    }\n  }\n\n  private addFilterExpressionWithOuterBoundsExcluded(start: any, end: any, builder: ExpressionBuilder) {\n    let startCompare = this.facet.options.start;\n    let endCompare = this.facet.options.end;\n    let startCompared = start;\n    let endCompared = end;\n    if (this.facet.options.dateField) {\n      startCompared = this.getFilterDateFormat(start);\n      endCompared = this.getFilterDateFormat(end);\n      startCompare = this.getFilterDateFormat(startCompare);\n      endCompare = this.getFilterDateFormat(endCompare);\n    } else {\n      startCompared += '';\n      endCompared += '';\n      startCompare += '';\n      endCompare += '';\n    }\n    if (startCompared != startCompare && endCompared == endCompare) {\n      builder.addFieldExpression(this.facet.options.field, '>=', [startCompared]);\n    } else if (startCompared == startCompare && endCompared != endCompare) {\n      builder.addFieldExpression(this.facet.options.field, '<=', [endCompared]);\n    } else {\n      this.addFilterExpressionWithOuterBoundsIncluded(start, end, builder);\n    }\n  }\n\n  private buildGroupByQueryForSlider(groupByQuery: IGroupByRequest) {\n    if (this.facet.options.start != undefined && this.facet.options.end != undefined) {\n      let start = this.facet.options.start;\n      let end = this.facet.options.end;\n      if (this.facet.options.dateField || this.facet.options.dateField) {\n        start = this.getISOFormat(start);\n        end = this.getISOFormat(end);\n      }\n      groupByQuery.rangeValues = [{\n        start: start,\n        end: end,\n        endInclusive: true,\n        label: 'Slider'\n      }];\n      return groupByQuery;\n    } else {\n      return this.buildGroupByQueryForAutomaticRanges(groupByQuery);\n    }\n  }\n\n  private buildGroupByQueryForAutomaticRanges(groupByQuery: IGroupByRequest) {\n    groupByQuery.generateAutomaticRanges = true;\n    return groupByQuery;\n  }\n\n  private putGroupByForGraphIntoQueryBuilder(queryBuilder: QueryBuilder) {\n    this.graphGroupByQueriesIndex = queryBuilder.groupByRequests.length;\n    let basicGroupByRequestForGraph = this.createBasicGroupByRequest();\n    if (basicGroupByRequestForGraph.rangeValues) {\n      let basicRangeRequest = basicGroupByRequestForGraph.rangeValues[0];\n      basicGroupByRequestForGraph.rangeValues = this.createRangeValuesForGraph(basicRangeRequest);\n    }\n    let filter = this.computeOurFilterExpression(this.facet.getSliderBoundaryForQuery());\n    if (filter != undefined) {\n      let queryOverrideObject = queryBuilder.computeCompleteExpressionPartsExcept(filter);\n      basicGroupByRequestForGraph.queryOverride = queryOverrideObject.basic;\n      basicGroupByRequestForGraph.advancedQueryOverride = queryOverrideObject.advanced;\n      basicGroupByRequestForGraph.constantQueryOverride = queryOverrideObject.constant;\n      if (basicGroupByRequestForGraph.queryOverride == undefined) {\n        basicGroupByRequestForGraph.queryOverride = this.facet.options.queryOverride || '@uri';\n      } else {\n        basicGroupByRequestForGraph.queryOverride += (this.facet.options.queryOverride ? ' ' + this.facet.options.queryOverride : '');\n      }\n    } else if (this.facet.options.queryOverride != null) {\n      let completeExpression = queryBuilder.computeCompleteExpression();\n      basicGroupByRequestForGraph.queryOverride = (completeExpression != null ? completeExpression + ' ' : '') + this.facet.options.queryOverride;\n    }\n\n    basicGroupByRequestForGraph.sortCriteria = 'nosort';\n    basicGroupByRequestForGraph.maximumNumberOfValues = this.facet.options.graph.steps;\n    queryBuilder.groupByRequests.push(basicGroupByRequestForGraph);\n  }\n\n  private putGroupByForSliderIntoQueryBuilder(queryBuilder: QueryBuilder) {\n    this.lastGroupByRequestIndex = queryBuilder.groupByRequests.length;\n    let basicGroupByRequestForSlider = this.createBasicGroupByRequest();\n    basicGroupByRequestForSlider.maximumNumberOfValues = this.facet.options.graph != null ? this.facet.options.graph.steps || 1 : 1;\n    basicGroupByRequestForSlider.queryOverride = this.facet.options.queryOverride || '@uri';\n    basicGroupByRequestForSlider.sortCriteria = 'nosort';\n    basicGroupByRequestForSlider.generateAutomaticRanges = true;\n    basicGroupByRequestForSlider.rangeValues = undefined;\n    queryBuilder.groupByRequests.push(basicGroupByRequestForSlider);\n  }\n\n  private createRangeValuesForGraph(basicRangeRequest: IRangeValue) {\n    if (this.facet.options.graph.steps == undefined) {\n      this.facet.options.graph.steps = 10;\n    }\n    if (this.facet.options.dateField && isNaN(this.facet.options.start)) {\n      this.facet.options.start = new Date(this.facet.options.start).getTime();\n    }\n    if (this.facet.options.dateField && isNaN(this.facet.options.end)) {\n      this.facet.options.end = new Date(this.facet.options.end).getTime();\n    }\n    if (this.rangeValuesForGraphToUse != undefined) {\n      return this.usePrebuiltRange(basicRangeRequest);\n    } else {\n      return this.buildRange(basicRangeRequest);\n    }\n  }\n\n  private usePrebuiltRange(basicRangeRequest: IRangeValue) {\n    return _.map(this.rangeValuesForGraphToUse, (value) => {\n      return {\n        start: value.start,\n        end: value.end,\n        endInclusive: basicRangeRequest.endInclusive,\n        label: basicRangeRequest.label\n      }\n    })\n  }\n\n  private buildRange(basicRangeRequest: IRangeValue) {\n    let start = this.facet.options.start;\n    let oneStep = (this.facet.options.end - this.facet.options.start) / this.facet.options.graph.steps;\n    return _.map(_.range(0, this.facet.options.graph.steps, 1), (step) => {\n      let newStart = start + (step * oneStep);\n      let newEnd = start + ((step + 1) * oneStep);\n      if (this.facet.options.dateField) {\n        newStart = this.getISOFormat(newStart);\n        newEnd = this.getISOFormat(newEnd);\n      }\n      return {\n        endInclusive: basicRangeRequest.endInclusive,\n        label: basicRangeRequest.label,\n        start: newStart,\n        end: newEnd\n      }\n    })\n  }\n\n  private getISOFormat(value: any) {\n    if (value) {\n      if (!isNaN(value)) {\n        value = Number(value);\n      }\n      let date = new Date(value);\n      if (!DateUtils.isValid(date)) {\n        date = new Date(this.getBrowserCompatibleFormat(value))\n        if (!DateUtils.isValid(date)) {\n          // If we get here, we'll probably get an error further down the line when querying the index anyway ...\n          this.facet.logger.error('Cannot parse this date format.', value, new Date(value))\n          return undefined;\n        }\n      }\n      return date.toISOString();\n    } else {\n      return undefined;\n    }\n  }\n\n  private getFilterDateFormat(rawValue: any) {\n    if (rawValue) {\n      return this.getISOFormat(rawValue).replace('T', '@').replace('.000Z', '').replace(/-/g, '/');\n    } else {\n      return undefined;\n    }\n  }\n\n  private getBrowserCompatibleFormat(value: string) {\n    return value.replace('@', 'T').replace(/\\//g, '-')\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controllers/FacetSliderQueryController.ts\n **/","l":{"4":1,"7":1,"9":1,"11":14,"16":13,"17":13,"20":1,"21":6,"24":1,"25":7,"26":0,"28":7,"31":14,"32":7,"36":7,"37":7,"38":0,"40":7,"42":7,"45":6,"46":6,"47":6,"48":3,"49":0,"51":3,"54":6,"57":7,"58":7,"59":0,"60":0,"61":0,"62":0,"63":0,"71":1,"72":3,"73":3,"74":1,"75":1,"77":3,"81":1,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"92":0,"93":0,"94":0,"95":0,"97":0,"98":0,"99":0,"100":0,"102":0,"106":1,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"114":0,"120":0,"122":0,"126":1,"127":7,"128":7,"131":1,"132":0,"133":0,"134":0,"135":0,"136":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"147":0,"149":0,"150":0,"151":0,"154":0,"155":0,"156":0,"159":1,"160":7,"161":7,"162":7,"163":7,"164":7,"165":7,"166":7,"167":7,"170":1,"171":0,"172":0,"174":0,"175":0,"177":0,"178":0,"180":0,"181":0,"183":0,"187":1,"188":0,"189":0,"198":1,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"208":0,"217":1,"218":2,"219":2,"220":2,"222":2,"223":2,"224":0,"225":0,"227":0,"228":0,"231":2,"233":0,"237":1,"238":2,"239":2,"241":0,"245":1,"246":0,"248":1}},"src/controllers/HierarchicalFacetQueryController.ts":{"path":"src/controllers/HierarchicalFacetQueryController.ts","statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":60}},"2":{"start":{"line":8,"column":0},"end":{"line":14,"column":1}},"3":{"start":{"line":8,"column":54},"end":{"line":8,"column":74}},"4":{"start":{"line":11,"column":2},"end":{"line":13,"column":3}},"5":{"start":{"line":12,"column":4},"end":{"line":12,"column":17}},"6":{"start":{"line":11,"column":21},"end":{"line":11,"column":45}},"7":{"start":{"line":14,"column":0},"end":{"line":14,"column":1}},"8":{"start":{"line":8,"column":13},"end":{"line":14,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1602)","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"HierarchicalFacetQueryController","line":11,"loc":{"start":{"line":11,"column":2},"end":{"line":11,"column":45}}}},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":15,"6":15,"7":1,"8":1},"b":{},"f":{"1":1,"2":15},"code":"/// <reference path=\"../ui/HierarchicalFacet/HierarchicalFacet.ts\" />\n/// <reference path=\"./FacetQueryController.ts\" />\n\nimport {FacetQueryController} from './FacetQueryController';\nimport {IGroupByResult} from '../rest/GroupByResult';\nimport {HierarchicalFacet} from '../ui/HierarchicalFacet/HierarchicalFacet';\n\nexport class HierarchicalFacetQueryController extends FacetQueryController {\n  public lastGroupByForCountOf: IGroupByResult;\n\n  constructor(public facet: HierarchicalFacet) {\n    super(facet);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controllers/HierarchicalFacetQueryController.ts\n **/","l":{"4":1,"8":1,"11":15,"12":15,"14":1}},"src/controllers/HistoryController.ts":{"path":"src/controllers/HistoryController.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":38}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":38}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":68}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":32}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":45}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":36}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":55}},"8":{"start":{"line":16,"column":0},"end":{"line":144,"column":1}},"9":{"start":{"line":16,"column":39},"end":{"line":16,"column":52}},"10":{"start":{"line":33,"column":2},"end":{"line":54,"column":3}},"11":{"start":{"line":34,"column":4},"end":{"line":34,"column":41}},"12":{"start":{"line":33,"column":43},"end":{"line":33,"column":57}},"13":{"start":{"line":33,"column":66},"end":{"line":33,"column":78}},"14":{"start":{"line":33,"column":87},"end":{"line":33,"column":119}},"15":{"start":{"line":21,"column":10},"end":{"line":21,"column":39}},"16":{"start":{"line":22,"column":10},"end":{"line":22,"column":36}},"17":{"start":{"line":23,"column":10},"end":{"line":23,"column":42}},"18":{"start":{"line":36,"column":4},"end":{"line":36,"column":40}},"19":{"start":{"line":37,"column":4},"end":{"line":37,"column":30}},"20":{"start":{"line":38,"column":4},"end":{"line":38,"column":40}},"21":{"start":{"line":40,"column":4},"end":{"line":43,"column":7}},"22":{"start":{"line":41,"column":6},"end":{"line":41,"column":63}},"23":{"start":{"line":42,"column":6},"end":{"line":42,"column":33}},"24":{"start":{"line":45,"column":4},"end":{"line":48,"column":7}},"25":{"start":{"line":46,"column":6},"end":{"line":46,"column":60}},"26":{"start":{"line":47,"column":6},"end":{"line":47,"column":33}},"27":{"start":{"line":49,"column":4},"end":{"line":51,"column":5}},"28":{"start":{"line":50,"column":6},"end":{"line":50,"column":30}},"29":{"start":{"line":52,"column":4},"end":{"line":52,"column":64}},"30":{"start":{"line":53,"column":4},"end":{"line":53,"column":76}},"31":{"start":{"line":53,"column":57},"end":{"line":53,"column":74}},"32":{"start":{"line":60,"column":9},"end":{"line":78,"column":3}},"33":{"start":{"line":61,"column":4},"end":{"line":61,"column":45}},"34":{"start":{"line":63,"column":4},"end":{"line":63,"column":51}},"35":{"start":{"line":64,"column":4},"end":{"line":64,"column":66}},"36":{"start":{"line":66,"column":4},"end":{"line":66,"column":73}},"37":{"start":{"line":67,"column":4},"end":{"line":67,"column":67}},"38":{"start":{"line":68,"column":4},"end":{"line":68,"column":69}},"39":{"start":{"line":70,"column":4},"end":{"line":77,"column":5}},"40":{"start":{"line":71,"column":6},"end":{"line":71,"column":37}},"41":{"start":{"line":72,"column":6},"end":{"line":72,"column":41}},"42":{"start":{"line":73,"column":6},"end":{"line":73,"column":55}},"43":{"start":{"line":74,"column":11},"end":{"line":77,"column":5}},"44":{"start":{"line":75,"column":6},"end":{"line":75,"column":39}},"45":{"start":{"line":76,"column":6},"end":{"line":76,"column":54}},"46":{"start":{"line":80,"column":10},"end":{"line":82,"column":3}},"47":{"start":{"line":81,"column":4},"end":{"line":81,"column":67}},"48":{"start":{"line":84,"column":10},"end":{"line":98,"column":3}},"49":{"start":{"line":85,"column":4},"end":{"line":85,"column":46}},"50":{"start":{"line":87,"column":4},"end":{"line":91,"column":5}},"51":{"start":{"line":88,"column":6},"end":{"line":88,"column":55}},"52":{"start":{"line":89,"column":6},"end":{"line":89,"column":40}},"53":{"start":{"line":90,"column":6},"end":{"line":90,"column":13}},"54":{"start":{"line":93,"column":4},"end":{"line":93,"column":42}},"55":{"start":{"line":95,"column":4},"end":{"line":97,"column":5}},"56":{"start":{"line":96,"column":6},"end":{"line":96,"column":42}},"57":{"start":{"line":100,"column":10},"end":{"line":112,"column":3}},"58":{"start":{"line":100,"column":2},"end":{"line":112,"column":3}},"59":{"start":{"line":101,"column":4},"end":{"line":101,"column":47}},"60":{"start":{"line":103,"column":4},"end":{"line":111,"column":5}},"61":{"start":{"line":104,"column":6},"end":{"line":109,"column":9}},"62":{"start":{"line":105,"column":8},"end":{"line":105,"column":52}},"63":{"start":{"line":106,"column":8},"end":{"line":106,"column":39}},"64":{"start":{"line":107,"column":8},"end":{"line":107,"column":62}},"65":{"start":{"line":108,"column":8},"end":{"line":108,"column":36}},"66":{"start":{"line":110,"column":6},"end":{"line":110,"column":33}},"67":{"start":{"line":114,"column":10},"end":{"line":132,"column":3}},"68":{"start":{"line":114,"column":2},"end":{"line":132,"column":3}},"69":{"start":{"line":115,"column":4},"end":{"line":115,"column":47}},"70":{"start":{"line":117,"column":4},"end":{"line":117,"column":43}},"71":{"start":{"line":118,"column":4},"end":{"line":118,"column":28}},"72":{"start":{"line":119,"column":4},"end":{"line":128,"column":7}},"73":{"start":{"line":120,"column":6},"end":{"line":120,"column":43}},"74":{"start":{"line":121,"column":6},"end":{"line":123,"column":7}},"75":{"start":{"line":122,"column":8},"end":{"line":122,"column":53}},"76":{"start":{"line":124,"column":6},"end":{"line":124,"column":28}},"77":{"start":{"line":125,"column":6},"end":{"line":127,"column":7}},"78":{"start":{"line":126,"column":8},"end":{"line":126,"column":23}},"79":{"start":{"line":129,"column":4},"end":{"line":129,"column":34}},"80":{"start":{"line":130,"column":4},"end":{"line":130,"column":34}},"81":{"start":{"line":131,"column":4},"end":{"line":131,"column":16}},"82":{"start":{"line":134,"column":10},"end":{"line":137,"column":3}},"83":{"start":{"line":135,"column":4},"end":{"line":135,"column":35}},"84":{"start":{"line":136,"column":4},"end":{"line":136,"column":69}},"85":{"start":{"line":139,"column":9},"end":{"line":143,"column":3}},"86":{"start":{"line":140,"column":4},"end":{"line":142,"column":6}},"87":{"start":{"line":17,"column":9},"end":{"line":17,"column":34}},"88":{"start":{"line":19,"column":9},"end":{"line":19,"column":57}},"89":{"start":{"line":144,"column":0},"end":{"line":144,"column":1}},"90":{"start":{"line":16,"column":13},"end":{"line":144,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1608)","line":16,"loc":{"start":{"line":16,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"HistoryController","line":33,"loc":{"start":{"line":33,"column":2},"end":{"line":33,"column":119}}},"3":{"name":"(anonymous_1610)","line":40,"loc":{"start":{"line":40,"column":66},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_1611)","line":45,"loc":{"start":{"line":45,"column":71},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_1612)","line":49,"loc":{"start":{"line":49,"column":22},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_1613)","line":53,"loc":{"start":{"line":53,"column":51},"end":{"line":53,"column":56}}},"7":{"name":"(anonymous_1614)","line":60,"loc":{"start":{"line":60,"column":2},"end":{"line":60,"column":33}}},"8":{"name":"(anonymous_1615)","line":80,"loc":{"start":{"line":80,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_1616)","line":84,"loc":{"start":{"line":84,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_1617)","line":100,"loc":{"start":{"line":100,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_1618)","line":104,"loc":{"start":{"line":104,"column":18},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_1619)","line":114,"loc":{"start":{"line":114,"column":2},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_1620)","line":119,"loc":{"start":{"line":119,"column":53},"end":{"line":119,"column":71}}},"14":{"name":"(anonymous_1621)","line":134,"loc":{"start":{"line":134,"column":2},"end":{"line":134,"column":36}}},"15":{"name":"(anonymous_1622)","line":139,"loc":{"start":{"line":139,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":36,"type":"binary-expr","locations":[{"start":{"line":36,"column":18},"end":{"line":36,"column":29}},{"start":{"line":36,"column":33},"end":{"line":36,"column":39}}]},"2":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":4},"end":{"line":70,"column":3}},{"start":{"line":70,"column":4},"end":{"line":70,"column":3}}]},"3":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":11},"end":{"line":74,"column":10}},{"start":{"line":74,"column":11},"end":{"line":74,"column":10}}]},"4":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":4},"end":{"line":87,"column":3}},{"start":{"line":87,"column":4},"end":{"line":87,"column":3}}]},"5":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":4},"end":{"line":95,"column":3}},{"start":{"line":95,"column":4},"end":{"line":95,"column":3}}]},"6":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":4},"end":{"line":103,"column":3}},{"start":{"line":103,"column":4},"end":{"line":103,"column":3}}]},"7":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":6},"end":{"line":121,"column":5}},{"start":{"line":121,"column":6},"end":{"line":121,"column":5}}]},"8":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":6},"end":{"line":125,"column":5}},{"start":{"line":125,"column":6},"end":{"line":125,"column":5}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":4,"9":1,"10":1,"11":3,"12":3,"13":3,"14":3,"15":3,"16":3,"17":3,"18":3,"19":3,"20":3,"21":3,"22":0,"23":0,"24":3,"25":1,"26":1,"27":3,"28":0,"29":3,"30":3,"31":0,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":0,"41":0,"42":0,"43":1,"44":1,"45":1,"46":1,"47":0,"48":1,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":1,"83":0,"84":0,"85":1,"86":0,"87":1,"88":1,"89":1,"90":1},"b":{"1":[3,0],"2":[0,1],"3":[1,0],"4":[0,0],"5":[0,0],"6":[1,0],"7":[0,0],"8":[0,0]},"f":{"1":1,"2":3,"3":0,"4":1,"5":0,"6":0,"7":1,"8":0,"9":0,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0},"code":"import {Assert} from '../misc/Assert';\nimport {QueryController} from '../controllers/QueryController';\nimport {Model} from '../models/Model';\nimport {InitializationEvents} from '../events/InitializationEvents';\nimport {$$} from '../utils/Dom';\nimport {HashUtils} from '../utils/HashUtils';\nimport {Defer} from '../misc/Defer';\nimport {RootComponent} from '../ui/Base/RootComponent';\n\n/**\n * This component is instantiated automatically by the framework on the root if the {@link SearchInterface}.<br/>\n * When the {@link SearchInterface.options.enableHistory} option is set to true, this component is instantiated.<br/>\n * It's only job is to apply changes in the {@link QueryStateModel} to the hash in the URL, and vice versa.<br/>\n * This component does *not* hold the state of the interface, it only represent it in the URL.\n */\nexport class HistoryController extends RootComponent {\n  static ID = 'HistoryController';\n\n  static attributesThatDoNotTriggerQuery = ['quickview'];\n\n  private ignoreNextHashChange = false;\n  private initialHashChange = false;\n  private willUpdateHash: boolean = false;\n  private hashchange: (...args: any[]) => void;\n\n  /**\n   * Create a new history controller\n   * @param element\n   * @param windoh For mock / test purpose.\n   * @param model\n   * @param queryController\n   */\n  constructor(element: HTMLElement, public windoh: Window, public model: Model, public queryController: QueryController) {\n    super(element, HistoryController.ID);\n\n    this.windoh = this.windoh || window;\n    Assert.exists(this.model);\n    Assert.exists(this.queryController);\n\n    $$(this.element).on(InitializationEvents.restoreHistoryState, () => {\n      this.logger.trace('Restore history state. Update model');\n      this.updateModelFromHash();\n    });\n\n    $$(this.element).on(this.model.getEventName(Model.eventTypes.all), () => {\n      this.logger.trace('Query model changed. Update hash');\n      this.updateHashFromModel();\n    });\n    this.hashchange = () => {\n      this.handleHashChange();\n    }\n    this.windoh.addEventListener('hashchange', this.hashchange);\n    $$(this.element).on(InitializationEvents.nuke, () => this.handleNuke());\n  }\n\n  /**\n   * Set the given map of key value in the hash of the URL\n   * @param values\n   */\n  public setHashValues(values: {}) {\n    this.logger.trace('Update history hash');\n\n    var hash = '#' + HashUtils.encodeValues(values)\n    this.ignoreNextHashChange = this.windoh.location.hash != hash;\n\n    this.logger.trace('ignoreNextHashChange', this.ignoreNextHashChange);\n    this.logger.trace('initialHashChange', this.initialHashChange);\n    this.logger.trace('from', this.windoh.location.hash, 'to', hash);\n\n    if (this.initialHashChange) {\n      this.initialHashChange = false;\n      this.windoh.location.replace(hash);\n      this.logger.trace('History hash modified', hash);\n    } else if (this.ignoreNextHashChange) {\n      this.windoh.location.hash = hash;\n      this.logger.trace('History hash created', hash);\n    }\n  }\n\n  private handleNuke() {\n    this.windoh.removeEventListener('hashchange', this.hashchange);\n  }\n\n  private handleHashChange() {\n    this.logger.trace('History hash changed');\n\n    if (this.ignoreNextHashChange) {\n      this.logger.trace('History hash change ignored');\n      this.ignoreNextHashChange = false;\n      return;\n    }\n\n    var diff = this.updateModelFromHash();\n\n    if (_.difference(diff, HistoryController.attributesThatDoNotTriggerQuery).length > 0) {\n      this.queryController.executeQuery();\n    }\n  }\n\n  private updateHashFromModel() {\n    this.logger.trace('Model -> history hash');\n\n    if (!this.willUpdateHash) {\n      Defer.defer(() => {\n        var attributes = this.model.getAttributes();\n        this.setHashValues(attributes);\n        this.logger.debug('Saving state to hash', attributes);\n        this.willUpdateHash = false;\n      });\n      this.willUpdateHash = true;\n    }\n  }\n\n  private updateModelFromHash() {\n    this.logger.trace('History hash -> model');\n\n    var toSet: { [key: string]: any } = {};\n    var diff: string[] = [];\n    _.each(<_.Dictionary<any>>this.model.attributes, (value, key?, obj?) => {\n      var valToSet = this.getHashValue(key)\n      if (valToSet == undefined) {\n        valToSet = this.model.defaultAttributes[key];\n      }\n      toSet[key] = valToSet;\n      if (this.model.get(key) != valToSet) {\n        diff.push(key);\n      }\n    });\n    this.initialHashChange = true;\n    this.model.setMultiple(toSet);\n    return diff;\n  }\n\n  private getHashValue(value: string): any {\n    Assert.isNonEmptyString(value);\n    return HashUtils.getValue(value, HashUtils.getHash(this.windoh));\n  }\n\n  public debugInfo() {\n    return {\n      'state': this.model.getAttributes()\n    };\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controllers/HistoryController.ts\n **/","l":{"1":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"16":4,"17":1,"19":1,"21":3,"22":3,"23":3,"33":3,"34":3,"36":3,"37":3,"38":3,"40":3,"41":0,"42":0,"45":3,"46":1,"47":1,"49":3,"50":0,"52":3,"53":3,"60":1,"61":1,"63":1,"64":1,"66":1,"67":1,"68":1,"70":1,"71":0,"72":0,"73":0,"74":1,"75":1,"76":1,"80":1,"81":0,"84":1,"85":0,"87":0,"88":0,"89":0,"90":0,"93":0,"95":0,"96":0,"100":1,"101":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"110":1,"114":1,"115":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"124":0,"125":0,"126":0,"129":0,"130":0,"131":0,"134":1,"135":0,"136":0,"139":1,"140":0,"144":1}},"src/models/Model.ts":{"path":"src/models/Model.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":32}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":38}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":55}},"5":{"start":{"line":6,"column":13},"end":{"line":12,"column":1}},"6":{"start":{"line":38,"column":0},"end":{"line":236,"column":1}},"7":{"start":{"line":38,"column":27},"end":{"line":38,"column":40}},"8":{"start":{"line":61,"column":2},"end":{"line":68,"column":3}},"9":{"start":{"line":62,"column":4},"end":{"line":62,"column":23}},"10":{"start":{"line":63,"column":4},"end":{"line":63,"column":29}},"11":{"start":{"line":65,"column":4},"end":{"line":65,"column":82}},"12":{"start":{"line":66,"column":4},"end":{"line":66,"column":33}},"13":{"start":{"line":67,"column":4},"end":{"line":67,"column":40}},"14":{"start":{"line":70,"column":9},"end":{"line":74,"column":3}},"15":{"start":{"line":71,"column":4},"end":{"line":71,"column":43}},"16":{"start":{"line":72,"column":4},"end":{"line":72,"column":29}},"17":{"start":{"line":73,"column":4},"end":{"line":73,"column":37}},"18":{"start":{"line":76,"column":9},"end":{"line":88,"column":3}},"19":{"start":{"line":76,"column":2},"end":{"line":88,"column":3}},"20":{"start":{"line":77,"column":4},"end":{"line":77,"column":48}},"21":{"start":{"line":78,"column":4},"end":{"line":86,"column":6}},"22":{"start":{"line":79,"column":6},"end":{"line":85,"column":7}},"23":{"start":{"line":80,"column":8},"end":{"line":82,"column":9}},"24":{"start":{"line":81,"column":10},"end":{"line":81,"column":37}},"25":{"start":{"line":83,"column":13},"end":{"line":85,"column":7}},"26":{"start":{"line":84,"column":8},"end":{"line":84,"column":35}},"27":{"start":{"line":87,"column":4},"end":{"line":87,"column":22}},"28":{"start":{"line":90,"column":9},"end":{"line":113,"column":3}},"29":{"start":{"line":90,"column":2},"end":{"line":113,"column":3}},"30":{"start":{"line":91,"column":4},"end":{"line":91,"column":32}},"31":{"start":{"line":92,"column":4},"end":{"line":92,"column":32}},"32":{"start":{"line":93,"column":4},"end":{"line":108,"column":7}},"33":{"start":{"line":94,"column":6},"end":{"line":96,"column":7}},"34":{"start":{"line":95,"column":8},"end":{"line":95,"column":47}},"35":{"start":{"line":97,"column":6},"end":{"line":97,"column":56}},"36":{"start":{"line":98,"column":6},"end":{"line":100,"column":7}},"37":{"start":{"line":99,"column":8},"end":{"line":99,"column":44}},"38":{"start":{"line":101,"column":6},"end":{"line":107,"column":7}},"39":{"start":{"line":102,"column":8},"end":{"line":102,"column":43}},"40":{"start":{"line":103,"column":8},"end":{"line":103,"column":31}},"41":{"start":{"line":104,"column":8},"end":{"line":106,"column":9}},"42":{"start":{"line":105,"column":10},"end":{"line":105,"column":51}},"43":{"start":{"line":109,"column":4},"end":{"line":112,"column":5}},"44":{"start":{"line":110,"column":6},"end":{"line":110,"column":39}},"45":{"start":{"line":111,"column":6},"end":{"line":111,"column":22}},"46":{"start":{"line":115,"column":9},"end":{"line":120,"column":3}},"47":{"start":{"line":116,"column":4},"end":{"line":118,"column":5}},"48":{"start":{"line":117,"column":6},"end":{"line":117,"column":45}},"49":{"start":{"line":119,"column":4},"end":{"line":119,"column":46}},"50":{"start":{"line":122,"column":9},"end":{"line":124,"column":3}},"51":{"start":{"line":123,"column":4},"end":{"line":123,"column":59}},"52":{"start":{"line":126,"column":9},"end":{"line":132,"column":3}},"53":{"start":{"line":127,"column":4},"end":{"line":131,"column":5}},"54":{"start":{"line":128,"column":6},"end":{"line":128,"column":28}},"55":{"start":{"line":130,"column":6},"end":{"line":130,"column":40}},"56":{"start":{"line":134,"column":9},"end":{"line":140,"column":3}},"57":{"start":{"line":135,"column":4},"end":{"line":139,"column":5}},"58":{"start":{"line":136,"column":6},"end":{"line":136,"column":36}},"59":{"start":{"line":138,"column":6},"end":{"line":138,"column":47}},"60":{"start":{"line":142,"column":9},"end":{"line":145,"column":3}},"61":{"start":{"line":143,"column":4},"end":{"line":143,"column":45}},"62":{"start":{"line":144,"column":4},"end":{"line":144,"column":30}},"63":{"start":{"line":147,"column":9},"end":{"line":150,"column":3}},"64":{"start":{"line":148,"column":4},"end":{"line":148,"column":53}},"65":{"start":{"line":149,"column":4},"end":{"line":149,"column":46}},"66":{"start":{"line":152,"column":9},"end":{"line":154,"column":3}},"67":{"start":{"line":153,"column":4},"end":{"line":153,"column":45}},"68":{"start":{"line":156,"column":10},"end":{"line":158,"column":3}},"69":{"start":{"line":157,"column":4},"end":{"line":157,"column":113}},"70":{"start":{"line":160,"column":10},"end":{"line":162,"column":3}},"71":{"start":{"line":161,"column":4},"end":{"line":161,"column":126}},"72":{"start":{"line":164,"column":10},"end":{"line":166,"column":3}},"73":{"start":{"line":165,"column":4},"end":{"line":165,"column":89}},"74":{"start":{"line":168,"column":10},"end":{"line":170,"column":3}},"75":{"start":{"line":169,"column":4},"end":{"line":169,"column":107}},"76":{"start":{"line":172,"column":10},"end":{"line":174,"column":3}},"77":{"start":{"line":173,"column":4},"end":{"line":173,"column":105}},"78":{"start":{"line":176,"column":10},"end":{"line":178,"column":3}},"79":{"start":{"line":177,"column":4},"end":{"line":177,"column":71}},"80":{"start":{"line":180,"column":10},"end":{"line":182,"column":3}},"81":{"start":{"line":181,"column":4},"end":{"line":181,"column":43}},"82":{"start":{"line":184,"column":10},"end":{"line":186,"column":3}},"83":{"start":{"line":185,"column":4},"end":{"line":185,"column":27}},"84":{"start":{"line":188,"column":10},"end":{"line":190,"column":3}},"85":{"start":{"line":189,"column":4},"end":{"line":189,"column":52}},"86":{"start":{"line":192,"column":10},"end":{"line":204,"column":3}},"87":{"start":{"line":193,"column":4},"end":{"line":203,"column":5}},"88":{"start":{"line":194,"column":6},"end":{"line":202,"column":7}},"89":{"start":{"line":195,"column":8},"end":{"line":195,"column":77}},"90":{"start":{"line":196,"column":13},"end":{"line":202,"column":7}},"91":{"start":{"line":197,"column":8},"end":{"line":197,"column":119}},"92":{"start":{"line":199,"column":8},"end":{"line":201,"column":9}},"93":{"start":{"line":200,"column":10},"end":{"line":200,"column":103}},"94":{"start":{"line":206,"column":10},"end":{"line":217,"column":3}},"95":{"start":{"line":207,"column":4},"end":{"line":215,"column":5}},"96":{"start":{"line":208,"column":6},"end":{"line":208,"column":33}},"97":{"start":{"line":209,"column":11},"end":{"line":215,"column":5}},"98":{"start":{"line":210,"column":6},"end":{"line":214,"column":7}},"99":{"start":{"line":211,"column":8},"end":{"line":211,"column":21}},"100":{"start":{"line":213,"column":8},"end":{"line":213,"column":55}},"101":{"start":{"line":216,"column":4},"end":{"line":216,"column":17}},"102":{"start":{"line":219,"column":10},"end":{"line":231,"column":3}},"103":{"start":{"line":220,"column":4},"end":{"line":220,"column":46}},"104":{"start":{"line":221,"column":4},"end":{"line":223,"column":5}},"105":{"start":{"line":222,"column":6},"end":{"line":222,"column":34}},"106":{"start":{"line":224,"column":4},"end":{"line":226,"column":5}},"107":{"start":{"line":225,"column":6},"end":{"line":225,"column":51}},"108":{"start":{"line":227,"column":4},"end":{"line":229,"column":5}},"109":{"start":{"line":228,"column":6},"end":{"line":228,"column":52}},"110":{"start":{"line":230,"column":4},"end":{"line":230,"column":16}},"111":{"start":{"line":233,"column":9},"end":{"line":235,"column":3}},"112":{"start":{"line":234,"column":4},"end":{"line":234,"column":16}},"113":{"start":{"line":53,"column":16},"end":{"line":59,"column":4}},"114":{"start":{"line":236,"column":0},"end":{"line":236,"column":1}},"115":{"start":{"line":38,"column":13},"end":{"line":236,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1627)","line":38,"loc":{"start":{"line":38,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Model","line":61,"loc":{"start":{"line":61,"column":2},"end":{"line":61,"column":82}}},"3":{"name":"(anonymous_1629)","line":70,"loc":{"start":{"line":70,"column":2},"end":{"line":70,"column":70}}},"4":{"name":"(anonymous_1630)","line":76,"loc":{"start":{"line":76,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_1631)","line":78,"loc":{"start":{"line":78,"column":28},"end":{"line":78,"column":43}}},"6":{"name":"(anonymous_1632)","line":90,"loc":{"start":{"line":90,"column":2},"end":{"line":90,"column":78}}},"7":{"name":"(anonymous_1633)","line":93,"loc":{"start":{"line":93,"column":37},"end":{"line":93,"column":55}}},"8":{"name":"(anonymous_1634)","line":115,"loc":{"start":{"line":115,"column":2},"end":{"line":115,"column":80}}},"9":{"name":"(anonymous_1635)","line":122,"loc":{"start":{"line":122,"column":2},"end":{"line":122,"column":65}}},"10":{"name":"(anonymous_1636)","line":126,"loc":{"start":{"line":126,"column":2},"end":{"line":126,"column":31}}},"11":{"name":"(anonymous_1637)","line":134,"loc":{"start":{"line":134,"column":2},"end":{"line":134,"column":38}}},"12":{"name":"(anonymous_1638)","line":142,"loc":{"start":{"line":142,"column":2},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_1639)","line":147,"loc":{"start":{"line":147,"column":2},"end":{"line":147,"column":66}}},"14":{"name":"(anonymous_1640)","line":152,"loc":{"start":{"line":152,"column":2},"end":{"line":152,"column":35}}},"15":{"name":"(anonymous_1641)","line":156,"loc":{"start":{"line":156,"column":2},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_1642)","line":160,"loc":{"start":{"line":160,"column":2},"end":{"line":160,"column":47}}},"17":{"name":"(anonymous_1643)","line":164,"loc":{"start":{"line":164,"column":2},"end":{"line":164,"column":60}}},"18":{"name":"(anonymous_1644)","line":168,"loc":{"start":{"line":168,"column":2},"end":{"line":null,"column":-1}}},"19":{"name":"(anonymous_1645)","line":172,"loc":{"start":{"line":172,"column":2},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_1646)","line":176,"loc":{"start":{"line":176,"column":2},"end":{"line":176,"column":58}}},"21":{"name":"(anonymous_1647)","line":180,"loc":{"start":{"line":180,"column":2},"end":{"line":null,"column":-1}}},"22":{"name":"(anonymous_1648)","line":184,"loc":{"start":{"line":184,"column":2},"end":{"line":null,"column":-1}}},"23":{"name":"(anonymous_1649)","line":188,"loc":{"start":{"line":188,"column":2},"end":{"line":188,"column":50}}},"24":{"name":"(anonymous_1650)","line":192,"loc":{"start":{"line":192,"column":2},"end":{"line":192,"column":52}}},"25":{"name":"(anonymous_1651)","line":206,"loc":{"start":{"line":206,"column":2},"end":{"line":206,"column":58}}},"26":{"name":"(anonymous_1652)","line":219,"loc":{"start":{"line":219,"column":2},"end":{"line":219,"column":66}}},"27":{"name":"(anonymous_1653)","line":233,"loc":{"start":{"line":233,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":6},"end":{"line":79,"column":5}},{"start":{"line":79,"column":6},"end":{"line":79,"column":5}}]},"2":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":8},"end":{"line":80,"column":7}},{"start":{"line":80,"column":8},"end":{"line":80,"column":7}}]},"3":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":13},"end":{"line":83,"column":12}},{"start":{"line":83,"column":13},"end":{"line":83,"column":12}}]},"4":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":6},"end":{"line":94,"column":5}},{"start":{"line":94,"column":6},"end":{"line":94,"column":5}}]},"5":{"line":94,"type":"binary-expr","locations":[{"start":{"line":94,"column":10},"end":{"line":94,"column":18}},{"start":{"line":94,"column":22},"end":{"line":94,"column":46}}]},"6":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":6},"end":{"line":98,"column":5}},{"start":{"line":98,"column":6},"end":{"line":98,"column":5}}]},"7":{"line":98,"type":"binary-expr","locations":[{"start":{"line":98,"column":10},"end":{"line":98,"column":18}},{"start":{"line":98,"column":22},"end":{"line":98,"column":42}}]},"8":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":6},"end":{"line":101,"column":5}},{"start":{"line":101,"column":6},"end":{"line":101,"column":5}}]},"9":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":8},"end":{"line":104,"column":7}},{"start":{"line":104,"column":8},"end":{"line":104,"column":7}}]},"10":{"line":104,"type":"binary-expr","locations":[{"start":{"line":104,"column":12},"end":{"line":104,"column":27}},{"start":{"line":104,"column":31},"end":{"line":104,"column":46}}]},"11":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":4},"end":{"line":109,"column":3}},{"start":{"line":109,"column":4},"end":{"line":109,"column":3}}]},"12":{"line":109,"type":"binary-expr","locations":[{"start":{"line":109,"column":8},"end":{"line":109,"column":23}},{"start":{"line":109,"column":28},"end":{"line":109,"column":43}},{"start":{"line":109,"column":47},"end":{"line":109,"column":62}}]},"13":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":4},"end":{"line":116,"column":3}},{"start":{"line":116,"column":4},"end":{"line":116,"column":3}}]},"14":{"line":116,"type":"binary-expr","locations":[{"start":{"line":116,"column":8},"end":{"line":116,"column":16}},{"start":{"line":116,"column":20},"end":{"line":116,"column":44}}]},"15":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":4},"end":{"line":127,"column":3}},{"start":{"line":127,"column":4},"end":{"line":127,"column":3}}]},"16":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":4},"end":{"line":135,"column":3}},{"start":{"line":135,"column":4},"end":{"line":135,"column":3}}]},"17":{"line":193,"type":"if","locations":[{"start":{"line":193,"column":4},"end":{"line":193,"column":3}},{"start":{"line":193,"column":4},"end":{"line":193,"column":3}}]},"18":{"line":193,"type":"binary-expr","locations":[{"start":{"line":193,"column":8},"end":{"line":193,"column":60}},{"start":{"line":193,"column":64},"end":{"line":193,"column":89}}]},"19":{"line":194,"type":"if","locations":[{"start":{"line":194,"column":6},"end":{"line":194,"column":5}},{"start":{"line":194,"column":6},"end":{"line":194,"column":5}}]},"20":{"line":195,"type":"binary-expr","locations":[{"start":{"line":195,"column":21},"end":{"line":195,"column":38}},{"start":{"line":195,"column":42},"end":{"line":195,"column":55}}]},"21":{"line":196,"type":"if","locations":[{"start":{"line":196,"column":13},"end":{"line":196,"column":12}},{"start":{"line":196,"column":13},"end":{"line":196,"column":12}}]},"22":{"line":197,"type":"binary-expr","locations":[{"start":{"line":197,"column":21},"end":{"line":197,"column":39}},{"start":{"line":197,"column":43},"end":{"line":197,"column":96}}]},"23":{"line":199,"type":"if","locations":[{"start":{"line":199,"column":8},"end":{"line":199,"column":7}},{"start":{"line":199,"column":8},"end":{"line":199,"column":7}}]},"24":{"line":207,"type":"if","locations":[{"start":{"line":207,"column":4},"end":{"line":207,"column":3}},{"start":{"line":207,"column":4},"end":{"line":207,"column":3}}]},"25":{"line":209,"type":"if","locations":[{"start":{"line":209,"column":11},"end":{"line":209,"column":10}},{"start":{"line":209,"column":11},"end":{"line":209,"column":10}}]},"26":{"line":210,"type":"if","locations":[{"start":{"line":210,"column":6},"end":{"line":210,"column":5}},{"start":{"line":210,"column":6},"end":{"line":210,"column":5}}]},"27":{"line":221,"type":"if","locations":[{"start":{"line":221,"column":4},"end":{"line":221,"column":3}},{"start":{"line":221,"column":4},"end":{"line":221,"column":3}}]},"28":{"line":221,"type":"binary-expr","locations":[{"start":{"line":221,"column":8},"end":{"line":221,"column":28}},{"start":{"line":221,"column":32},"end":{"line":221,"column":52}},{"start":{"line":221,"column":56},"end":{"line":221,"column":77}}]},"29":{"line":224,"type":"if","locations":[{"start":{"line":224,"column":4},"end":{"line":224,"column":3}},{"start":{"line":224,"column":4},"end":{"line":224,"column":3}}]},"30":{"line":227,"type":"if","locations":[{"start":{"line":227,"column":4},"end":{"line":227,"column":3}},{"start":{"line":227,"column":4},"end":{"line":227,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":406,"10":406,"11":406,"12":406,"13":406,"14":1,"15":51,"16":51,"17":51,"18":1,"19":2,"20":2,"21":2,"22":6,"23":1,"24":1,"25":5,"26":2,"27":2,"28":1,"29":81,"30":81,"31":81,"32":81,"33":145,"34":145,"35":145,"36":145,"37":145,"38":140,"39":57,"40":57,"41":57,"42":57,"43":76,"44":56,"45":56,"46":1,"47":0,"48":0,"49":0,"50":1,"51":0,"52":1,"53":140,"54":0,"55":140,"56":1,"57":0,"58":0,"59":0,"60":1,"61":3,"62":3,"63":1,"64":9,"65":9,"66":1,"67":1735,"68":1,"69":56,"70":1,"71":57,"72":1,"73":81,"74":1,"75":3,"76":1,"77":56,"78":1,"79":57,"80":1,"81":56,"82":1,"83":59,"84":1,"85":145,"86":1,"87":145,"88":144,"89":10,"90":134,"91":0,"92":134,"93":134,"94":1,"95":145,"96":10,"97":135,"98":0,"99":0,"100":0,"101":135,"102":1,"103":140,"104":140,"105":139,"106":1,"107":0,"108":1,"109":0,"110":1,"111":1,"112":0,"113":1,"114":1,"115":1},"b":{"1":[1,5],"2":[1,0],"3":[2,3],"4":[145,0],"5":[145,0],"6":[145,0],"7":[145,0],"8":[57,83],"9":[57,0],"10":[57,0],"11":[56,20],"12":[76,56,0],"13":[0,0],"14":[0,0],"15":[0,140],"16":[0,0],"17":[144,1],"18":[145,144],"19":[10,134],"20":[10,10],"21":[0,134],"22":[0,0],"23":[134,0],"24":[10,135],"25":[0,135],"26":[0,0],"27":[139,1],"28":[140,131,1],"29":[0,1],"30":[0,1]},"f":{"1":1,"2":406,"3":51,"4":2,"5":6,"6":81,"7":145,"8":0,"9":0,"10":140,"11":0,"12":3,"13":9,"14":1735,"15":56,"16":57,"17":81,"18":3,"19":56,"20":57,"21":56,"22":59,"23":145,"24":145,"25":145,"26":140,"27":0},"code":"import {$$} from '../utils/Dom';\nimport {Assert} from '../misc/Assert';\nimport {Utils} from '../utils/Utils';\nimport {BaseComponent} from '../ui/Base/BaseComponent';\n\nexport const MODEL_EVENTS = {\n  PREPROCESS: 'preprocess',\n  CHANGE_ONE: 'change:',\n  CHANGE: 'change',\n  RESET: 'reset',\n  ALL: 'all'\n}\n\nexport interface IModelSetOptions {\n  silent?: boolean;\n  customAttribute?: boolean;\n  validateType?: boolean;\n}\n\nexport interface IAttributeChangedEventArg {\n  attribute: string;\n  value: any;\n}\n\nexport interface IAttributesChangedEventArg {\n  attributes: {};\n}\n\nexport interface IModelChangedEventArg {\n  model: Model;\n}\n\n/**\n * A model is basically a key -> value store that trigger letious javascript event when one of the value for each of it's key changes.<br/>\n * This is a class that is meant to be extended : the most important one probably being the {@link QueryStateModel}<br/>\n * Component set values in this key -> value store, and listen to event triggered to react accordingly.<br/>\n */\nexport class Model extends BaseComponent {\n  /**\n   * The attributes contained in this model. Normally, you should not set attribute directly on this property, as this will not cause the required events to be triggered.\n   */\n  public attributes: { [key: string]: any };\n  public defaultAttributes: { [key: string]: any };\n  private eventNameSpace;\n\n  // changeOne: is when one specific attribute change, change is when any attribute change\n  /**\n   * The event type that can be triggered :<br/>\n   * -- preprocess -> triggered before a value is set on an attribute, to allow to modify it before it's set.<br/>\n   * -- changeOne -> triggered when a single value change.\n   * @type {{preprocess: string, changeOne: string, change: string, reset: string, all: string}}\n   */\n  public static eventTypes = {\n    preprocess: 'preprocess',\n    changeOne: 'change:',\n    change: 'change',\n    reset: 'reset',\n    all: 'all'\n  };\n\n  constructor(element: HTMLElement, id: string, attributes: { [key: string]: any }) {\n    super(element, id);\n    this.eventNameSpace = id;\n\n    this.defaultAttributes = Utils.extendDeep(this.defaultAttributes, attributes);\n    this.attributes = attributes;\n    this.logger.debug('Creating model');\n  }\n\n  public set(attribute: string, value: any, options?: IModelSetOptions) {\n    let toSet: { [key: string]: any } = {};\n    toSet[attribute] = value;\n    this.setMultiple(toSet, options);\n  }\n\n  public getAttributes() {\n    let attributes: { [key: string]: any } = {};\n    _.each(this.attributes, (attribute, key) => {\n      if (_.isObject(attribute)) {\n        if (!Utils.objectEqual(attribute, this.defaultAttributes[key])) {\n          attributes[key] = attribute\n        }\n      } else if (attribute != this.defaultAttributes[key]) {\n        attributes[key] = attribute\n      }\n    })\n    return attributes;\n  }\n\n  public setMultiple(toSet: { [key: string]: any }, options?: IModelSetOptions) {\n    let anythingChanged = false;\n    this.preprocessEvent(toSet);\n    _.each(<_.Dictionary<any>>toSet, (value, attribute?) => {\n      if (!options || !options.customAttribute) {\n        this.checkIfAttributeExists(attribute);\n      }\n      value = this.parseToCorrectType(attribute, value);\n      if (!options || options.validateType) {\n        this.validateType(attribute, value);\n      }\n      if (this.checkIfAttributeChanged(attribute, value)) {\n        this.attributes[attribute] = value;\n        anythingChanged = true;\n        if (options == null || !options.silent) {\n          this.attributeHasChangedEvent(attribute);\n        }\n      }\n    });\n    if (anythingChanged && (options == null || !options.silent)) {\n      this.attributesHasChangedEvent();\n      this.anyEvent();\n    }\n  }\n\n  public setNewDefault(attribute: string, value: any, options?: IModelSetOptions) {\n    if (!options || !options.customAttribute) {\n      this.checkIfAttributeExists(attribute);\n    }\n    this.defaultAttributes[attribute] = value;\n  }\n\n  public setDefault(attribute: string, options?: IModelSetOptions) {\n    this.set(attribute, this.defaultAttributes[attribute]);\n  }\n\n  public get(attribute?: string): any {\n    if (attribute == undefined) {\n      return this.attributes\n    } else {\n      return this.attributes[attribute];\n    }\n  }\n\n  public getDefault(attribute?: string): any {\n    if (attribute == undefined) {\n      return this.defaultAttributes;\n    } else {\n      return this.defaultAttributes[attribute];\n    }\n  }\n\n  public reset() {\n    this.setMultiple(this.defaultAttributes);\n    this.modelWasResetEvent();\n  }\n\n  public registerNewAttribute(attribute: string, defaultValue: any) {\n    this.defaultAttributes[attribute] = defaultValue;\n    this.attributes[attribute] = defaultValue;\n  }\n\n  public getEventName(event: string) {\n    return this.eventNameSpace + ':' + event;\n  }\n\n  private attributesHasChangedEvent() {\n    $$(this.element).trigger(this.getEventName(Model.eventTypes.change), this.createAttributesChangedArgument());\n  }\n\n  private attributeHasChangedEvent(attr: string) {\n    $$(this.element).trigger(this.getEventName(Model.eventTypes.changeOne) + attr, this.createAttributeChangedArgument(attr));\n  }\n\n  private preprocessEvent(attributes: { [key: string]: any }) {\n    $$(this.element).trigger(this.getEventName(Model.eventTypes.preprocess), attributes);\n  }\n\n  private modelWasResetEvent() {\n    $$(this.element).trigger(this.getEventName(Model.eventTypes.reset), this.createModelChangedArgument());\n  }\n\n  private anyEvent() {\n    $$(this.element).trigger(this.getEventName(Model.eventTypes.all), this.createModelChangedArgument());\n  }\n\n  private createAttributeChangedArgument(attribute: string): IAttributeChangedEventArg {\n    return { attribute: attribute, value: this.attributes[attribute] };\n  }\n\n  private createAttributesChangedArgument(): IAttributesChangedEventArg {\n    return { attributes: this.attributes };\n  }\n\n  private createModelChangedArgument(): IModelChangedEventArg {\n    return { model: this };\n  }\n\n  private checkIfAttributeExists(attribute: string) {\n    Assert.check(_.has(this.attributes, attribute));\n  }\n\n  private validateType(attribute: string, value: any) {\n    if (!Utils.isNullOrUndefined(this.attributes[attribute]) && !Utils.isUndefined(value)) {\n      if (_.isNumber(this.attributes[attribute])) {\n        Assert.check(_.isNumber(value) && !isNaN(value), 'Non-matching type')\n      } else if (_.isBoolean(this.attributes[attribute])) {\n        Assert.check(_.isBoolean(value) || Utils.parseBooleanIfNotUndefined(value) !== undefined, 'Non-matching type');\n      } else {\n        if (!Utils.isNullOrUndefined(this.defaultAttributes[attribute])) {\n          Assert.check(typeof value === typeof this.defaultAttributes[attribute], 'Non-matching type');\n        }\n      }\n    }\n  }\n\n  private parseToCorrectType(attribute: string, value: any): any {\n    if (_.isNumber(this.attributes[attribute])) {\n      return parseInt(value, 10);\n    } else if (_.isBoolean(this.attributes[attribute])) {\n      if (_.isBoolean(value)) {\n        return value;\n      } else {\n        return Utils.parseBooleanIfNotUndefined(value);\n      }\n    }\n    return value;\n  }\n\n  private checkIfAttributeChanged(attribute: string, newValue: any): boolean {\n    let oldValue = this.attributes[attribute];\n    if (_.isNumber(oldValue) || _.isString(oldValue) || _.isBoolean(oldValue)) {\n      return oldValue !== newValue\n    }\n    if (_.isArray(oldValue)) {\n      return !Utils.arrayEqual(oldValue, newValue);\n    }\n    if (_.isObject(oldValue)) {\n      return !Utils.objectEqual(oldValue, newValue);\n    }\n    return true;\n  }\n\n  public debugInfo() {\n    return null;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/models/Model.ts\n **/","l":{"1":1,"2":1,"3":1,"4":1,"6":1,"38":1,"53":1,"61":1,"62":406,"63":406,"65":406,"66":406,"67":406,"70":1,"71":51,"72":51,"73":51,"76":2,"77":2,"78":2,"79":6,"80":1,"81":1,"83":5,"84":2,"87":2,"90":81,"91":81,"92":81,"93":81,"94":145,"95":145,"97":145,"98":145,"99":145,"101":140,"102":57,"103":57,"104":57,"105":57,"109":76,"110":56,"111":56,"115":1,"116":0,"117":0,"119":0,"122":1,"123":0,"126":1,"127":140,"128":0,"130":140,"134":1,"135":0,"136":0,"138":0,"142":1,"143":3,"144":3,"147":1,"148":9,"149":9,"152":1,"153":1735,"156":1,"157":56,"160":1,"161":57,"164":1,"165":81,"168":1,"169":3,"172":1,"173":56,"176":1,"177":57,"180":1,"181":56,"184":1,"185":59,"188":1,"189":145,"192":1,"193":145,"194":144,"195":10,"196":134,"197":0,"199":134,"200":134,"206":1,"207":145,"208":10,"209":135,"210":0,"211":0,"213":0,"216":135,"219":1,"220":140,"221":140,"222":139,"224":1,"225":0,"227":1,"228":0,"230":1,"233":1,"234":0,"236":1}},"src/controllers/LocalStorageHistoryController.ts":{"path":"src/controllers/LocalStorageHistoryController.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":61}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":38}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":38}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":38}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":68}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":55}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":32}},"8":{"start":{"line":15,"column":0},"end":{"line":71,"column":1}},"9":{"start":{"line":15,"column":51},"end":{"line":15,"column":64}},"10":{"start":{"line":28,"column":2},"end":{"line":39,"column":3}},"11":{"start":{"line":29,"column":4},"end":{"line":29,"column":53}},"12":{"start":{"line":28,"column":43},"end":{"line":28,"column":57}},"13":{"start":{"line":28,"column":66},"end":{"line":28,"column":78}},"14":{"start":{"line":28,"column":87},"end":{"line":28,"column":119}},"15":{"start":{"line":19,"column":10},"end":{"line":19,"column":30}},"16":{"start":{"line":30,"column":4},"end":{"line":38,"column":5}},"17":{"start":{"line":31,"column":6},"end":{"line":31,"column":142}},"18":{"start":{"line":33,"column":6},"end":{"line":33,"column":101}},"19":{"start":{"line":34,"column":6},"end":{"line":34,"column":32}},"20":{"start":{"line":35,"column":6},"end":{"line":35,"column":42}},"21":{"start":{"line":36,"column":6},"end":{"line":36,"column":110}},"22":{"start":{"line":36,"column":74},"end":{"line":36,"column":108}},"23":{"start":{"line":37,"column":6},"end":{"line":37,"column":115}},"24":{"start":{"line":37,"column":79},"end":{"line":37,"column":113}},"25":{"start":{"line":45,"column":9},"end":{"line":47,"column":3}},"26":{"start":{"line":46,"column":4},"end":{"line":46,"column":27}},"27":{"start":{"line":49,"column":10},"end":{"line":53,"column":3}},"28":{"start":{"line":50,"column":4},"end":{"line":50,"column":67}},"29":{"start":{"line":51,"column":4},"end":{"line":51,"column":38}},"30":{"start":{"line":52,"column":4},"end":{"line":52,"column":66}},"31":{"start":{"line":55,"column":10},"end":{"line":66,"column":3}},"32":{"start":{"line":55,"column":2},"end":{"line":66,"column":3}},"33":{"start":{"line":56,"column":4},"end":{"line":56,"column":43}},"34":{"start":{"line":57,"column":4},"end":{"line":57,"column":48}},"35":{"start":{"line":58,"column":4},"end":{"line":64,"column":6}},"36":{"start":{"line":59,"column":6},"end":{"line":59,"column":76}},"37":{"start":{"line":60,"column":6},"end":{"line":62,"column":7}},"38":{"start":{"line":61,"column":8},"end":{"line":61,"column":53}},"39":{"start":{"line":63,"column":6},"end":{"line":63,"column":28}},"40":{"start":{"line":65,"column":4},"end":{"line":65,"column":34}},"41":{"start":{"line":68,"column":9},"end":{"line":70,"column":3}},"42":{"start":{"line":69,"column":4},"end":{"line":69,"column":30}},"43":{"start":{"line":16,"column":9},"end":{"line":16,"column":46}},"44":{"start":{"line":71,"column":0},"end":{"line":71,"column":1}},"45":{"start":{"line":15,"column":13},"end":{"line":71,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1658)","line":15,"loc":{"start":{"line":15,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"LocalStorageHistoryController","line":28,"loc":{"start":{"line":28,"column":2},"end":{"line":28,"column":119}}},"3":{"name":"(anonymous_1660)","line":36,"loc":{"start":{"line":36,"column":68},"end":{"line":36,"column":73}}},"4":{"name":"(anonymous_1661)","line":37,"loc":{"start":{"line":37,"column":73},"end":{"line":37,"column":78}}},"5":{"name":"(anonymous_1662)","line":45,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":51}}},"6":{"name":"(anonymous_1663)","line":49,"loc":{"start":{"line":49,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_1664)","line":55,"loc":{"start":{"line":55,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_1665)","line":58,"loc":{"start":{"line":58,"column":53},"end":{"line":58,"column":71}}},"9":{"name":"(anonymous_1666)","line":68,"loc":{"start":{"line":68,"column":2},"end":{"line":68,"column":56}}}},"branchMap":{"1":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":4},"end":{"line":30,"column":3}},{"start":{"line":30,"column":4},"end":{"line":30,"column":3}}]},"2":{"line":59,"type":"cond-expr","locations":[{"start":{"line":59,"column":41},"end":{"line":59,"column":63}},{"start":{"line":59,"column":66},"end":{"line":59,"column":75}}]},"3":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":6},"end":{"line":60,"column":5}},{"start":{"line":60,"column":6},"end":{"line":60,"column":5}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":2,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1,"26":0,"27":1,"28":0,"29":0,"30":0,"31":1,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1,"42":0,"43":1,"44":1,"45":1},"b":{"1":[1,0],"2":[0,0],"3":[0,0]},"f":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"code":"import {LocalStorageUtils} from '../utils/LocalStorageUtils';\nimport {Model} from '../models/Model';\nimport {QueryController} from './QueryController';\nimport {Logger} from '../misc/Logger';\nimport {Assert} from '../misc/Assert';\nimport {InitializationEvents} from '../events/InitializationEvents';\nimport {RootComponent} from '../ui/Base/RootComponent';\nimport {$$} from '../utils/Dom';\n\n/**\n * This component acts like the {@link HistoryController} excepts that is saves the {@link QueryStateModel} in the local storage.<br/>\n * This will not allow 'back' and 'forward' navigation in the history, like the standard {@link HistoryController} allows. Instead, it load the query state only on page load.<br/>\n * To enable this component, you should set the {@link SearchInterface.options.useLocalStorageForHistory} as well as the {@link SearchInterface.options.enableHistory} options to true.\n */\nexport class LocalStorageHistoryController extends RootComponent {\n  static ID = 'LocalStorageHistoryController';\n\n  public storage: LocalStorageUtils<{ [key: string]: any }>;\n  private omit: string[] = [];\n\n  /**\n   * Create a new LocalStorageHistoryController instance\n   * @param element\n   * @param windoh For mock purpose\n   * @param model\n   * @param queryController\n   */\n  constructor(element: HTMLElement, public windoh: Window, public model: Model, public queryController: QueryController) {\n    super(element, LocalStorageHistoryController.ID);\n    if (!windoh['localStorage']) {\n      new Logger(element).info('No local storage available in current browser. LocalStorageHistoryController cannot initialize itself', this);\n    } else {\n      this.storage = new LocalStorageUtils<{ [key: string]: any }>(LocalStorageHistoryController.ID);\n      Assert.exists(this.model);\n      Assert.exists(this.queryController);\n      $$(this.element).on(InitializationEvents.restoreHistoryState, () => this.updateModelFromLocalStorage());\n      $$(this.element).on(this.model.getEventName(Model.eventTypes.all), () => this.updateLocalStorageFromModel());\n    }\n  }\n\n  /**\n   * Specifies an array of attributes from the query state model that should not be persisted in the local storage\n   * @param attributes\n   */\n  public withoutThoseAttribute(attributes: string[]) {\n    this.omit = attributes;\n  }\n\n  private updateLocalStorageFromModel() {\n    var attributes = _.omit(this.model.getAttributes(), this.omit);\n    this.setStorageValues(attributes);\n    this.logger.debug('Saving state to localstorage', attributes);\n  }\n\n  private updateModelFromLocalStorage() {\n    var toSet: { [key: string]: any } = {};\n    var loadedFromStorage = this.storage.load();\n    _.each(<_.Dictionary<any>>this.model.attributes, (value, key?, obj?) => {\n      var valToSet = loadedFromStorage ? loadedFromStorage[key] : undefined;\n      if (valToSet == undefined) {\n        valToSet = this.model.defaultAttributes[key];\n      }\n      toSet[key] = valToSet;\n    })\n    this.model.setMultiple(toSet);\n  }\n\n  public setStorageValues(values: { [key: string]: any }) {\n    this.storage.save(values);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controllers/LocalStorageHistoryController.ts\n **/","l":{"1":1,"2":1,"4":1,"5":1,"6":1,"7":1,"8":1,"15":2,"16":1,"19":1,"28":1,"29":1,"30":1,"31":1,"33":0,"34":0,"35":0,"36":0,"37":0,"45":1,"46":0,"49":1,"50":0,"51":0,"52":0,"55":1,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"63":0,"65":0,"68":1,"69":0,"71":1}},"src/ModelsModules.ts":{"path":"src/ModelsModules.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":37}},"2":{"start":{"line":1,"column":8},"end":{"line":1,"column":37}},"3":{"start":{"line":2,"column":0},"end":{"line":2,"column":57}},"4":{"start":{"line":2,"column":8},"end":{"line":2,"column":57}},"5":{"start":{"line":3,"column":0},"end":{"line":3,"column":69}},"6":{"start":{"line":3,"column":8},"end":{"line":3,"column":69}},"7":{"start":{"line":4,"column":0},"end":{"line":4,"column":65}},"8":{"start":{"line":4,"column":8},"end":{"line":4,"column":65}}},"fnMap":{},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"b":{},"f":{},"code":"export {Model} from './models/Model';\nexport {QueryStateModel} from './models/QueryStateModel';\nexport {ComponentOptionsModel} from './models/ComponentOptionsModel';\nexport {ComponentStateModel} from './models/ComponentStateModel';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ModelsModules.ts\n **/","l":{"1":1,"2":1,"3":1,"4":1}},"src/models/QueryStateModel.ts":{"path":"src/models/QueryStateModel.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":48}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":38}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":37}},"4":{"start":{"line":6,"column":13},"end":{"line":15,"column":1}},"5":{"start":{"line":39,"column":0},"end":{"line":107,"column":1}},"6":{"start":{"line":39,"column":37},"end":{"line":39,"column":42}},"7":{"start":{"line":82,"column":2},"end":{"line":85,"column":3}},"8":{"start":{"line":83,"column":4},"end":{"line":83,"column":77}},"9":{"start":{"line":84,"column":4},"end":{"line":84,"column":47}},"10":{"start":{"line":64,"column":9},"end":{"line":66,"column":3}},"11":{"start":{"line":64,"column":32},"end":{"line":64,"column":55}},"12":{"start":{"line":65,"column":4},"end":{"line":65,"column":47}},"13":{"start":{"line":68,"column":9},"end":{"line":70,"column":3}},"14":{"start":{"line":69,"column":4},"end":{"line":69,"column":35}},"15":{"start":{"line":72,"column":9},"end":{"line":74,"column":3}},"16":{"start":{"line":73,"column":4},"end":{"line":73,"column":60}},"17":{"start":{"line":91,"column":9},"end":{"line":95,"column":3}},"18":{"start":{"line":92,"column":4},"end":{"line":94,"column":7}},"19":{"start":{"line":93,"column":6},"end":{"line":93,"column":97}},"20":{"start":{"line":97,"column":9},"end":{"line":100,"column":3}},"21":{"start":{"line":98,"column":4},"end":{"line":98,"column":36}},"22":{"start":{"line":99,"column":4},"end":{"line":99,"column":41}},"23":{"start":{"line":102,"column":10},"end":{"line":106,"column":3}},"24":{"start":{"line":103,"column":4},"end":{"line":105,"column":5}},"25":{"start":{"line":104,"column":6},"end":{"line":104,"column":44}},"26":{"start":{"line":40,"column":9},"end":{"line":40,"column":22}},"27":{"start":{"line":42,"column":9},"end":{"line":51,"column":4}},"28":{"start":{"line":53,"column":9},"end":{"line":62,"column":4}},"29":{"start":{"line":107,"column":0},"end":{"line":107,"column":1}},"30":{"start":{"line":39,"column":13},"end":{"line":107,"column":1}},"31":{"start":{"line":109,"column":0},"end":{"line":131,"column":1}},"32":{"start":{"line":110,"column":2},"end":{"line":110,"column":23}},"33":{"start":{"line":112,"column":2},"end":{"line":130,"column":3}},"34":{"start":{"line":114,"column":4},"end":{"line":114,"column":17}},"35":{"start":{"line":115,"column":9},"end":{"line":130,"column":3}},"36":{"start":{"line":117,"column":4},"end":{"line":117,"column":30}},"37":{"start":{"line":118,"column":9},"end":{"line":130,"column":3}},"38":{"start":{"line":120,"column":4},"end":{"line":120,"column":24}},"39":{"start":{"line":121,"column":4},"end":{"line":121,"column":99}},"40":{"start":{"line":122,"column":4},"end":{"line":122,"column":45}},"41":{"start":{"line":123,"column":9},"end":{"line":130,"column":3}},"42":{"start":{"line":125,"column":4},"end":{"line":125,"column":31}},"43":{"start":{"line":126,"column":4},"end":{"line":126,"column":24}},"44":{"start":{"line":127,"column":4},"end":{"line":127,"column":99}},"45":{"start":{"line":128,"column":4},"end":{"line":128,"column":34}},"46":{"start":{"line":129,"column":4},"end":{"line":129,"column":43}},"47":{"start":{"line":109,"column":16},"end":{"line":131,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1672)","line":39,"loc":{"start":{"line":39,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"QueryStateModel","line":82,"loc":{"start":{"line":82,"column":2},"end":{"line":82,"column":67}}},"3":{"name":"(anonymous_1674)","line":64,"loc":{"start":{"line":64,"column":2},"end":{"line":64,"column":55}}},"4":{"name":"(anonymous_1675)","line":68,"loc":{"start":{"line":68,"column":2},"end":{"line":68,"column":36}}},"5":{"name":"(anonymous_1676)","line":72,"loc":{"start":{"line":72,"column":2},"end":{"line":72,"column":39}}},"6":{"name":"(anonymous_1677)","line":91,"loc":{"start":{"line":91,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_1678)","line":92,"loc":{"start":{"line":92,"column":50},"end":{"line":92,"column":66}}},"8":{"name":"(anonymous_1679)","line":97,"loc":{"start":{"line":97,"column":2},"end":{"line":97,"column":70}}},"9":{"name":"(anonymous_1680)","line":102,"loc":{"start":{"line":102,"column":2},"end":{"line":102,"column":48}}},"10":{"name":"setState","line":109,"loc":{"start":{"line":109,"column":0},"end":{"line":109,"column":50}}}},"branchMap":{"1":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":32},"end":{"line":64,"column":31}},{"start":{"line":64,"column":32},"end":{"line":64,"column":31}}]},"2":{"line":65,"type":"cond-expr","locations":[{"start":{"line":65,"column":34},"end":{"line":65,"column":36}},{"start":{"line":65,"column":39},"end":{"line":65,"column":45}}]},"3":{"line":93,"type":"binary-expr","locations":[{"start":{"line":93,"column":13},"end":{"line":93,"column":35}},{"start":{"line":93,"column":39},"end":{"line":93,"column":67}},{"start":{"line":93,"column":71},"end":{"line":93,"column":96}}]},"4":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":4},"end":{"line":103,"column":3}},{"start":{"line":103,"column":4},"end":{"line":103,"column":3}}]},"5":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":2},"end":{"line":112,"column":1}},{"start":{"line":112,"column":2},"end":{"line":112,"column":1}}]},"6":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":6},"end":{"line":112,"column":22}},{"start":{"line":112,"column":26},"end":{"line":112,"column":46}}]},"7":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":9},"end":{"line":115,"column":8}},{"start":{"line":115,"column":9},"end":{"line":115,"column":8}}]},"8":{"line":115,"type":"binary-expr","locations":[{"start":{"line":115,"column":13},"end":{"line":115,"column":29}},{"start":{"line":115,"column":33},"end":{"line":115,"column":64}}]},"9":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":9},"end":{"line":118,"column":8}},{"start":{"line":118,"column":9},"end":{"line":118,"column":8}}]},"10":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":9},"end":{"line":123,"column":8}},{"start":{"line":123,"column":9},"end":{"line":123,"column":8}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":166,"9":166,"10":1,"11":1114,"12":619,"13":1,"14":124,"15":1,"16":120,"17":1,"18":8,"19":68,"20":1,"21":40,"22":37,"23":1,"24":40,"25":7,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1},"b":{"1":[495,124],"2":[495,124],"3":[68,4,3],"4":[7,33],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"f":{"1":1,"2":166,"3":619,"4":124,"5":120,"6":8,"7":68,"8":40,"9":40,"10":0},"code":"import {Model, IModelSetOptions} from './Model';\nimport {Assert} from '../misc/Assert';\nimport {IStringMap} from '../rest/GenericParam';\nimport {Utils} from '../utils/Utils';\n\nexport const QUERY_STATE_ATTRIBUTES = {\n  Q: 'q',\n  FIRST: 'first',\n  T: 't',\n  TG: 'tg',\n  SORT: 'sort',\n  HD: 'hd',\n  HQ: 'hq',\n  QUICKVIEW: 'quickview'\n}\n\nexport interface IQueryStateIncludedAttribute {\n  title: string;\n  included: string[];\n}\n\nexport interface IQueryStateExcludedAttribute {\n  title: string;\n  excluded: string[];\n}\n\n/**\n * The QueryStateModel is a key->value store of the state of every component that can affect a query.<br/>\n * Component set values in this key -> value store, and listen to event triggered to react accordingly.<br/>\n * For example, when a query is launched, the searchbox will set the 'q' attribute, the pager will set the 'first' attribute, etc.<br/>\n * At the same time, this class will trigger the associated event when a value is modified.<br/>\n * eg : The user change the content of the searchbox, and submit a query. This will trigger the following events :<br/>\n * -- state:change:q (because the value of 'q' changed)</br>\n * -- state:change (because at least one value changed in the query state)<br/>\n * Component or external code could hook handler on those events : document.addEventListener('state:change:q', handler);<br/>\n * See : {@link Model}, as all the relevant method are exposed in the base class.<br/>\n * Optionally, the state can be persisted to the query string to allow browser history management : See {@link HistoryController}\n */\nexport class QueryStateModel extends Model {\n  static ID = 'state';\n\n  static defaultAttributes = {\n    q: '',\n    first: 0,\n    t: '',\n    hd: '',\n    hq: '',\n    sort: '',\n    tg: '',\n    quickview: ''\n  };\n\n  static attributesEnum = {\n    q: 'q',\n    first: 'first',\n    t: 't',\n    sort: 'sort',\n    hd: 'hd',\n    hq: 'hq',\n    tg: 'tg',\n    quickview: 'quickview'\n  };\n\n  static getFacetId(id: string, include: boolean = true) {\n    return 'f:' + id + (include ? '' : ':not');\n  }\n\n  static getFacetOperator(id: string) {\n    return 'f:' + id + ':operator';\n  }\n\n  static getFacetLookupValue(id: string) {\n    return QueryStateModel.getFacetId(id) + ':lookupvalues';\n  }\n\n  /**\n   * Create a new QueryState\n   * @param element\n   * @param attributes\n   * @param bindings\n   */\n  constructor(element: HTMLElement, attributes?: IStringMap<string>) {\n    let merged = _.extend({}, QueryStateModel.defaultAttributes, attributes);\n    super(element, QueryStateModel.ID, merged);\n  }\n\n  /**\n   * Determine if at least one facet is currently active in the interface (this means that a facet has selected or excluded values)\n   * @returns {boolean}\n   */\n  public atLeastOneFacetIsActive() {\n    return !_.isUndefined(_.find(this.attributes, (value, key: any) => {\n      return key.indexOf('f:') == 0 && Utils.isNonEmptyArray(value) && key.indexOf(':range') < 0;\n    }))\n  }\n\n  public set(attribute: string, value: any, options?: IModelSetOptions) {\n    this.validate(attribute, value);\n    super.set(attribute, value, options);\n  }\n\n  private validate(attribute: string, value: any) {\n    if (attribute == QueryStateModel.attributesEnum.first) {\n      Assert.isLargerOrEqualsThan(0, value);\n    }\n  }\n}\n\nexport function setState(model: Model, args: any[]): any {\n  Assert.exists(model);\n\n  if (args.length == 0 || args[0] == undefined) {\n    // No args means return the model\n    return model;\n  } else if (args.length == 1 && Utils.isNonEmptyString(args[0])) {\n    // One string arg means retrieve value from model\n    return model.get(args[0]);\n  } else if (_.isObject(args[0])) {\n    // One dictionary means set multiple values\n    let toSet = args[0];\n    let options = _.extend(<IModelSetOptions>{ customAttribute: true }, <IModelSetOptions>args[1]);\n    return model.setMultiple(toSet, options);\n  } else if (args.length > 1) {\n    // Otherwise we're setting a value\n    let name = <string>args[0];\n    let value = args[1];\n    let options = _.extend(<IModelSetOptions>{ customAttribute: true }, <IModelSetOptions>args[2]);\n    Assert.isNonEmptyString(name);\n    return model.set(name, value, options);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/models/QueryStateModel.ts\n **/","l":{"1":1,"2":1,"4":1,"6":1,"39":1,"40":1,"42":1,"53":1,"64":1114,"65":619,"68":1,"69":124,"72":1,"73":120,"82":1,"83":166,"84":166,"91":1,"92":8,"93":68,"97":1,"98":40,"99":37,"102":1,"103":40,"104":7,"107":1,"109":1,"110":0,"112":0,"114":0,"115":0,"117":0,"118":0,"120":0,"121":0,"122":0,"123":0,"125":0,"126":0,"127":0,"128":0,"129":0}},"src/models/ComponentOptionsModel.ts":{"path":"src/models/ComponentOptionsModel.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":30}},"2":{"start":{"line":8,"column":0},"end":{"line":25,"column":1}},"3":{"start":{"line":8,"column":43},"end":{"line":8,"column":48}},"4":{"start":{"line":21,"column":2},"end":{"line":24,"column":3}},"5":{"start":{"line":22,"column":4},"end":{"line":22,"column":83}},"6":{"start":{"line":23,"column":4},"end":{"line":23,"column":53}},"7":{"start":{"line":9,"column":9},"end":{"line":9,"column":33}},"8":{"start":{"line":11,"column":9},"end":{"line":14,"column":4}},"9":{"start":{"line":16,"column":9},"end":{"line":19,"column":4}},"10":{"start":{"line":25,"column":0},"end":{"line":25,"column":1}},"11":{"start":{"line":8,"column":13},"end":{"line":25,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1686)","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"ComponentOptionsModel","line":21,"loc":{"start":{"line":21,"column":2},"end":{"line":21,"column":76}}}},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":116,"6":116,"7":1,"8":1,"9":1,"10":1,"11":1},"b":{},"f":{"1":1,"2":116},"code":"import {Model} from './Model';\n\nexport interface IComponentOptionsAttributes {\n  resultLink: any;\n  searchHub: string;\n}\n\nexport class ComponentOptionsModel extends Model {\n  static ID = 'ComponentOptions';\n\n  static defaultAttributes: IComponentOptionsAttributes = {\n    resultLink: undefined,\n    searchHub: undefined\n  };\n\n  static attributesEnum = {\n    resultLink: 'resultLink',\n    searchHub: 'searchHub'\n  };\n\n  constructor(element: HTMLElement, attributes?: IComponentOptionsAttributes) {\n    var merged = _.extend({}, ComponentOptionsModel.defaultAttributes, attributes);\n    super(element, ComponentOptionsModel.ID, merged);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/models/ComponentOptionsModel.ts\n **/","l":{"1":1,"8":1,"9":1,"11":1,"16":1,"21":1,"22":116,"23":116,"25":1}},"src/models/ComponentStateModel.ts":{"path":"src/models/ComponentStateModel.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":30}},"2":{"start":{"line":4,"column":0},"end":{"line":19,"column":1}},"3":{"start":{"line":4,"column":41},"end":{"line":4,"column":46}},"4":{"start":{"line":7,"column":2},"end":{"line":9,"column":3}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":47}},"6":{"start":{"line":11,"column":9},"end":{"line":18,"column":3}},"7":{"start":{"line":12,"column":4},"end":{"line":12,"column":56}},"8":{"start":{"line":13,"column":4},"end":{"line":17,"column":5}},"9":{"start":{"line":14,"column":6},"end":{"line":14,"column":49}},"10":{"start":{"line":16,"column":6},"end":{"line":16,"column":51}},"11":{"start":{"line":5,"column":9},"end":{"line":5,"column":31}},"12":{"start":{"line":19,"column":0},"end":{"line":19,"column":1}},"13":{"start":{"line":4,"column":13},"end":{"line":19,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1691)","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"ComponentStateModel","line":7,"loc":{"start":{"line":7,"column":2},"end":{"line":7,"column":34}}},"3":{"name":"(anonymous_1693)","line":11,"loc":{"start":{"line":11,"column":2},"end":{"line":11,"column":72}}}},"branchMap":{"1":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":4},"end":{"line":13,"column":3}},{"start":{"line":13,"column":4},"end":{"line":13,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":116,"6":1,"7":0,"8":0,"9":0,"10":0,"11":1,"12":1,"13":1},"b":{"1":[0,0]},"f":{"1":1,"2":116,"3":0},"code":"import {Model} from './Model';\nimport {BaseComponent} from '../ui/Base/BaseComponent';\n\nexport class ComponentStateModel extends Model {\n  static ID = 'ComponentState';\n\n  constructor(element: HTMLElement) {\n    super(element, ComponentStateModel.ID, {});\n  }\n\n  public registerComponent(componentId: string, component: BaseComponent) {\n    var currentAttribute = this.attributes[componentId];\n    if (currentAttribute == undefined) {\n      this.attributes[componentId] = [component];\n    } else {\n      this.attributes[componentId].push(component);\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/models/ComponentStateModel.ts\n **/","l":{"1":1,"4":1,"5":1,"7":1,"8":116,"11":1,"12":0,"13":0,"14":0,"16":0,"19":1}},"src/UIBaseModules.ts":{"path":"src/UIBaseModules.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":49}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":82}},"3":{"start":{"line":2,"column":8},"end":{"line":2,"column":24}},"4":{"start":{"line":2,"column":26},"end":{"line":2,"column":82}},"5":{"start":{"line":3,"column":0},"end":{"line":3,"column":46}},"6":{"start":{"line":3,"column":8},"end":{"line":3,"column":46}},"7":{"start":{"line":4,"column":0},"end":{"line":4,"column":54}},"8":{"start":{"line":4,"column":8},"end":{"line":4,"column":54}},"9":{"start":{"line":5,"column":0},"end":{"line":5,"column":54}},"10":{"start":{"line":5,"column":8},"end":{"line":5,"column":54}},"11":{"start":{"line":6,"column":0},"end":{"line":6,"column":52}},"12":{"start":{"line":6,"column":8},"end":{"line":6,"column":52}},"13":{"start":{"line":7,"column":0},"end":{"line":7,"column":62}},"14":{"start":{"line":7,"column":8},"end":{"line":7,"column":62}},"15":{"start":{"line":8,"column":0},"end":{"line":8,"column":56}},"16":{"start":{"line":8,"column":8},"end":{"line":8,"column":56}}},"fnMap":{},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1},"b":{},"f":{},"code":"export * from './ui/Base/RegisteredNamedMethods';\nexport {ComponentOptions, ComponentOptionsType} from './ui/Base/ComponentOptions';\nexport {Component} from './ui/Base/Component';\nexport {BaseComponent} from './ui/Base/BaseComponent';\nexport {RootComponent} from './ui/Base/RootComponent';\nexport {QueryBuilder} from './ui/Base/QueryBuilder';\nexport {ExpressionBuilder} from './ui/Base/ExpressionBuilder';\nexport {Initialization} from './ui/Base/Initialization';\nexport {IResultsComponentBindings} from './ui/Base/ResultsComponentBindings';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/UIBaseModules.ts\n **/","l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1}},"src/ui/Base/RegisteredNamedMethods.ts":{"path":"src/ui/Base/RegisteredNamedMethods.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":48}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":41}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":66}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":71}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":49}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":71}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":35}},"8":{"start":{"line":14,"column":0},"end":{"line":14,"column":44}},"9":{"start":{"line":24,"column":0},"end":{"line":28,"column":1}},"10":{"start":{"line":24,"column":43},"end":{"line":24,"column":60}},"11":{"start":{"line":25,"column":2},"end":{"line":27,"column":5}},"12":{"start":{"line":26,"column":4},"end":{"line":26,"column":57}},"13":{"start":{"line":24,"column":16},"end":{"line":28,"column":1}},"14":{"start":{"line":30,"column":0},"end":{"line":32,"column":3}},"15":{"start":{"line":30,"column":66},"end":{"line":30,"column":83}},"16":{"start":{"line":31,"column":2},"end":{"line":31,"column":25}},"17":{"start":{"line":41,"column":0},"end":{"line":52,"column":1}},"18":{"start":{"line":41,"column":75},"end":{"line":41,"column":92}},"19":{"start":{"line":42,"column":2},"end":{"line":42,"column":41}},"20":{"start":{"line":43,"column":2},"end":{"line":43,"column":69}},"21":{"start":{"line":44,"column":2},"end":{"line":44,"column":55}},"22":{"start":{"line":45,"column":2},"end":{"line":45,"column":50}},"23":{"start":{"line":46,"column":2},"end":{"line":46,"column":53}},"24":{"start":{"line":47,"column":2},"end":{"line":47,"column":47}},"25":{"start":{"line":48,"column":2},"end":{"line":48,"column":89}},"26":{"start":{"line":49,"column":2},"end":{"line":51,"column":5}},"27":{"start":{"line":50,"column":4},"end":{"line":50,"column":67}},"28":{"start":{"line":41,"column":16},"end":{"line":52,"column":1}},"29":{"start":{"line":54,"column":0},"end":{"line":56,"column":3}},"30":{"start":{"line":54,"column":98},"end":{"line":54,"column":115}},"31":{"start":{"line":55,"column":2},"end":{"line":55,"column":49}},"32":{"start":{"line":66,"column":0},"end":{"line":75,"column":1}},"33":{"start":{"line":66,"column":131},"end":{"line":66,"column":148}},"34":{"start":{"line":67,"column":2},"end":{"line":67,"column":57}},"35":{"start":{"line":68,"column":2},"end":{"line":68,"column":66}},"36":{"start":{"line":69,"column":2},"end":{"line":69,"column":66}},"37":{"start":{"line":70,"column":2},"end":{"line":70,"column":46}},"38":{"start":{"line":71,"column":2},"end":{"line":71,"column":77}},"39":{"start":{"line":72,"column":2},"end":{"line":74,"column":5}},"40":{"start":{"line":73,"column":4},"end":{"line":73,"column":65}},"41":{"start":{"line":66,"column":16},"end":{"line":75,"column":1}},"42":{"start":{"line":77,"column":0},"end":{"line":79,"column":3}},"43":{"start":{"line":77,"column":114},"end":{"line":77,"column":135}},"44":{"start":{"line":77,"column":137},"end":{"line":77,"column":154}},"45":{"start":{"line":78,"column":2},"end":{"line":78,"column":73}},"46":{"start":{"line":89,"column":0},"end":{"line":95,"column":1}},"47":{"start":{"line":90,"column":2},"end":{"line":90,"column":25}},"48":{"start":{"line":92,"column":2},"end":{"line":92,"column":92}},"49":{"start":{"line":93,"column":2},"end":{"line":93,"column":33}},"50":{"start":{"line":94,"column":2},"end":{"line":94,"column":40}},"51":{"start":{"line":89,"column":16},"end":{"line":95,"column":1}},"52":{"start":{"line":97,"column":0},"end":{"line":99,"column":3}},"53":{"start":{"line":98,"column":2},"end":{"line":98,"column":31}},"54":{"start":{"line":112,"column":0},"end":{"line":116,"column":1}},"55":{"start":{"line":112,"column":44},"end":{"line":112,"column":58}},"56":{"start":{"line":113,"column":2},"end":{"line":113,"column":25}},"57":{"start":{"line":114,"column":2},"end":{"line":114,"column":82}},"58":{"start":{"line":115,"column":2},"end":{"line":115,"column":31}},"59":{"start":{"line":112,"column":16},"end":{"line":116,"column":1}},"60":{"start":{"line":118,"column":0},"end":{"line":124,"column":3}},"61":{"start":{"line":118,"column":67},"end":{"line":118,"column":81}},"62":{"start":{"line":119,"column":2},"end":{"line":123,"column":3}},"63":{"start":{"line":120,"column":4},"end":{"line":120,"column":58}},"64":{"start":{"line":122,"column":4},"end":{"line":122,"column":45}},"65":{"start":{"line":133,"column":0},"end":{"line":136,"column":1}},"66":{"start":{"line":134,"column":2},"end":{"line":134,"column":25}},"67":{"start":{"line":135,"column":2},"end":{"line":135,"column":57}},"68":{"start":{"line":133,"column":16},"end":{"line":136,"column":1}},"69":{"start":{"line":138,"column":0},"end":{"line":140,"column":3}},"70":{"start":{"line":139,"column":2},"end":{"line":139,"column":47}},"71":{"start":{"line":142,"column":0},"end":{"line":145,"column":3}},"72":{"start":{"line":143,"column":2},"end":{"line":143,"column":25}},"73":{"start":{"line":144,"column":2},"end":{"line":144,"column":47}},"74":{"start":{"line":147,"column":0},"end":{"line":154,"column":1}},"75":{"start":{"line":148,"column":2},"end":{"line":148,"column":45}},"76":{"start":{"line":149,"column":2},"end":{"line":153,"column":3}},"77":{"start":{"line":150,"column":4},"end":{"line":150,"column":28}},"78":{"start":{"line":152,"column":4},"end":{"line":152,"column":21}},"79":{"start":{"line":156,"column":0},"end":{"line":163,"column":1}},"80":{"start":{"line":157,"column":2},"end":{"line":157,"column":90}},"81":{"start":{"line":158,"column":2},"end":{"line":162,"column":3}},"82":{"start":{"line":159,"column":4},"end":{"line":159,"column":54}},"83":{"start":{"line":161,"column":4},"end":{"line":161,"column":21}},"84":{"start":{"line":171,"column":0},"end":{"line":176,"column":1}},"85":{"start":{"line":172,"column":2},"end":{"line":172,"column":48}},"86":{"start":{"line":173,"column":2},"end":{"line":175,"column":3}},"87":{"start":{"line":174,"column":4},"end":{"line":174,"column":68}},"88":{"start":{"line":171,"column":16},"end":{"line":176,"column":1}},"89":{"start":{"line":178,"column":0},"end":{"line":180,"column":2}},"90":{"start":{"line":179,"column":2},"end":{"line":179,"column":54}},"91":{"start":{"line":188,"column":0},"end":{"line":193,"column":1}},"92":{"start":{"line":189,"column":2},"end":{"line":189,"column":48}},"93":{"start":{"line":190,"column":2},"end":{"line":192,"column":3}},"94":{"start":{"line":191,"column":4},"end":{"line":191,"column":59}},"95":{"start":{"line":188,"column":16},"end":{"line":193,"column":1}},"96":{"start":{"line":195,"column":0},"end":{"line":197,"column":2}},"97":{"start":{"line":196,"column":2},"end":{"line":196,"column":54}},"98":{"start":{"line":206,"column":0},"end":{"line":211,"column":1}},"99":{"start":{"line":207,"column":2},"end":{"line":207,"column":48}},"100":{"start":{"line":208,"column":2},"end":{"line":210,"column":3}},"101":{"start":{"line":209,"column":4},"end":{"line":209,"column":72}},"102":{"start":{"line":206,"column":16},"end":{"line":211,"column":1}},"103":{"start":{"line":213,"column":0},"end":{"line":215,"column":2}},"104":{"start":{"line":214,"column":2},"end":{"line":214,"column":72}},"105":{"start":{"line":224,"column":0},"end":{"line":229,"column":1}},"106":{"start":{"line":225,"column":2},"end":{"line":225,"column":48}},"107":{"start":{"line":226,"column":2},"end":{"line":228,"column":3}},"108":{"start":{"line":227,"column":4},"end":{"line":227,"column":97}},"109":{"start":{"line":224,"column":16},"end":{"line":229,"column":1}},"110":{"start":{"line":231,"column":0},"end":{"line":233,"column":2}},"111":{"start":{"line":232,"column":2},"end":{"line":232,"column":59}},"112":{"start":{"line":241,"column":0},"end":{"line":243,"column":1}},"113":{"start":{"line":241,"column":46},"end":{"line":241,"column":68}},"114":{"start":{"line":242,"column":2},"end":{"line":242,"column":63}},"115":{"start":{"line":241,"column":16},"end":{"line":243,"column":1}},"116":{"start":{"line":245,"column":0},"end":{"line":247,"column":3}},"117":{"start":{"line":245,"column":69},"end":{"line":245,"column":91}},"118":{"start":{"line":246,"column":2},"end":{"line":246,"column":33}},"119":{"start":{"line":255,"column":0},"end":{"line":257,"column":1}},"120":{"start":{"line":256,"column":2},"end":{"line":256,"column":74}},"121":{"start":{"line":255,"column":16},"end":{"line":257,"column":1}},"122":{"start":{"line":259,"column":0},"end":{"line":261,"column":3}},"123":{"start":{"line":260,"column":2},"end":{"line":260,"column":38}},"124":{"start":{"line":263,"column":0},"end":{"line":292,"column":1}},"125":{"start":{"line":263,"column":46},"end":{"line":263,"column":60}},"126":{"start":{"line":264,"column":2},"end":{"line":264,"column":44}},"127":{"start":{"line":266,"column":2},"end":{"line":285,"column":3}},"128":{"start":{"line":267,"column":4},"end":{"line":267,"column":22}},"129":{"start":{"line":268,"column":4},"end":{"line":268,"column":25}},"130":{"start":{"line":269,"column":9},"end":{"line":285,"column":3}},"131":{"start":{"line":271,"column":4},"end":{"line":280,"column":5}},"132":{"start":{"line":272,"column":6},"end":{"line":272,"column":21}},"133":{"start":{"line":273,"column":6},"end":{"line":273,"column":26}},"134":{"start":{"line":274,"column":11},"end":{"line":280,"column":5}},"135":{"start":{"line":275,"column":6},"end":{"line":275,"column":24}},"136":{"start":{"line":276,"column":6},"end":{"line":276,"column":27}},"137":{"start":{"line":277,"column":6},"end":{"line":277,"column":24}},"138":{"start":{"line":279,"column":6},"end":{"line":279,"column":54}},"139":{"start":{"line":281,"column":9},"end":{"line":285,"column":3}},"140":{"start":{"line":282,"column":4},"end":{"line":282,"column":19}},"141":{"start":{"line":283,"column":4},"end":{"line":283,"column":22}},"142":{"start":{"line":284,"column":4},"end":{"line":284,"column":24}},"143":{"start":{"line":286,"column":2},"end":{"line":286,"column":23}},"144":{"start":{"line":287,"column":2},"end":{"line":287,"column":85}},"145":{"start":{"line":288,"column":2},"end":{"line":288,"column":42}},"146":{"start":{"line":289,"column":2},"end":{"line":291,"column":5}},"147":{"start":{"line":290,"column":4},"end":{"line":290,"column":73}},"148":{"start":{"line":263,"column":16},"end":{"line":292,"column":1}},"149":{"start":{"line":295,"column":0},"end":{"line":297,"column":3}},"150":{"start":{"line":295,"column":70},"end":{"line":295,"column":84}},"151":{"start":{"line":296,"column":2},"end":{"line":296,"column":25}},"152":{"start":{"line":299,"column":0},"end":{"line":301,"column":1}},"153":{"start":{"line":300,"column":2},"end":{"line":300,"column":49}},"154":{"start":{"line":299,"column":16},"end":{"line":301,"column":1}},"155":{"start":{"line":303,"column":0},"end":{"line":305,"column":2}},"156":{"start":{"line":304,"column":2},"end":{"line":304,"column":16}}},"fnMap":{"1":{"name":"init","line":24,"loc":{"start":{"line":24,"column":0},"end":{"line":24,"column":60}}},"2":{"name":"(anonymous_1699)","line":25,"loc":{"start":{"line":25,"column":55},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_1700)","line":30,"loc":{"start":{"line":30,"column":43},"end":{"line":30,"column":83}}},"4":{"name":"initSearchbox","line":41,"loc":{"start":{"line":41,"column":0},"end":{"line":41,"column":92}}},"5":{"name":"(anonymous_1702)","line":49,"loc":{"start":{"line":49,"column":55},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_1703)","line":54,"loc":{"start":{"line":54,"column":52},"end":{"line":54,"column":115}}},"7":{"name":"initRecommendation","line":66,"loc":{"start":{"line":66,"column":0},"end":{"line":66,"column":148}}},"8":{"name":"(anonymous_1705)","line":72,"loc":{"start":{"line":72,"column":55},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_1706)","line":77,"loc":{"start":{"line":77,"column":57},"end":{"line":77,"column":154}}},"10":{"name":"executeQuery","line":89,"loc":{"start":{"line":89,"column":0},"end":{"line":89,"column":49}}},"11":{"name":"(anonymous_1708)","line":97,"loc":{"start":{"line":97,"column":51},"end":{"line":97,"column":72}}},"12":{"name":"state","line":112,"loc":{"start":{"line":112,"column":0},"end":{"line":112,"column":42}}},"13":{"name":"(anonymous_1710)","line":118,"loc":{"start":{"line":118,"column":44},"end":{"line":118,"column":65}}},"14":{"name":"get","line":133,"loc":{"start":{"line":133,"column":0},"end":{"line":133,"column":76}}},"15":{"name":"(anonymous_1712)","line":138,"loc":{"start":{"line":138,"column":42},"end":{"line":138,"column":104}}},"16":{"name":"(anonymous_1713)","line":142,"loc":{"start":{"line":142,"column":45},"end":{"line":142,"column":85}}},"17":{"name":"getCoveoAnalyticsClient","line":147,"loc":{"start":{"line":147,"column":0},"end":{"line":147,"column":53}}},"18":{"name":"getCoveoAnalytics","line":156,"loc":{"start":{"line":156,"column":0},"end":{"line":156,"column":47}}},"19":{"name":"logCustomEvent","line":171,"loc":{"start":{"line":171,"column":0},"end":{"line":171,"column":122}}},"20":{"name":"(anonymous_1717)","line":178,"loc":{"start":{"line":178,"column":53},"end":{"line":178,"column":130}}},"21":{"name":"logSearchEvent","line":188,"loc":{"start":{"line":188,"column":0},"end":{"line":188,"column":122}}},"22":{"name":"(anonymous_1719)","line":195,"loc":{"start":{"line":195,"column":53},"end":{"line":195,"column":145}}},"23":{"name":"logSearchAsYouTypeEvent","line":206,"loc":{"start":{"line":206,"column":0},"end":{"line":206,"column":140}}},"24":{"name":"(anonymous_1721)","line":213,"loc":{"start":{"line":213,"column":62},"end":{"line":213,"column":163}}},"25":{"name":"logClickEvent","line":224,"loc":{"start":{"line":224,"column":0},"end":{"line":224,"column":139}}},"26":{"name":"(anonymous_1723)","line":231,"loc":{"start":{"line":231,"column":52},"end":{"line":231,"column":165}}},"27":{"name":"options","line":241,"loc":{"start":{"line":241,"column":0},"end":{"line":241,"column":68}}},"28":{"name":"(anonymous_1725)","line":245,"loc":{"start":{"line":245,"column":46},"end":{"line":245,"column":91}}},"29":{"name":"patch","line":255,"loc":{"start":{"line":255,"column":0},"end":{"line":255,"column":96}}},"30":{"name":"(anonymous_1727)","line":259,"loc":{"start":{"line":259,"column":44},"end":{"line":259,"column":122}}},"31":{"name":"initBox","line":263,"loc":{"start":{"line":263,"column":0},"end":{"line":263,"column":44}}},"32":{"name":"(anonymous_1729)","line":289,"loc":{"start":{"line":289,"column":55},"end":{"line":null,"column":-1}}},"33":{"name":"(anonymous_1730)","line":295,"loc":{"start":{"line":295,"column":46},"end":{"line":295,"column":68}}},"34":{"name":"nuke","line":299,"loc":{"start":{"line":299,"column":0},"end":{"line":299,"column":41}}},"35":{"name":"(anonymous_1732)","line":303,"loc":{"start":{"line":303,"column":43},"end":{"line":303,"column":64}}}},"branchMap":{"1":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":43},"end":{"line":24,"column":42}},{"start":{"line":24,"column":43},"end":{"line":24,"column":42}}]},"2":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":66},"end":{"line":30,"column":65}},{"start":{"line":30,"column":66},"end":{"line":30,"column":65}}]},"3":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":75},"end":{"line":41,"column":74}},{"start":{"line":41,"column":75},"end":{"line":41,"column":74}}]},"4":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":98},"end":{"line":54,"column":97}},{"start":{"line":54,"column":98},"end":{"line":54,"column":97}}]},"5":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":131},"end":{"line":66,"column":130}},{"start":{"line":66,"column":131},"end":{"line":66,"column":130}}]},"6":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":114},"end":{"line":77,"column":113}},{"start":{"line":77,"column":114},"end":{"line":77,"column":113}}]},"7":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":137},"end":{"line":77,"column":136}},{"start":{"line":77,"column":137},"end":{"line":77,"column":136}}]},"8":{"line":119,"type":"if","locations":[{"start":{"line":119,"column":2},"end":{"line":119,"column":1}},{"start":{"line":119,"column":2},"end":{"line":119,"column":1}}]},"9":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":2},"end":{"line":149,"column":1}},{"start":{"line":149,"column":2},"end":{"line":149,"column":1}}]},"10":{"line":158,"type":"if","locations":[{"start":{"line":158,"column":2},"end":{"line":158,"column":1}},{"start":{"line":158,"column":2},"end":{"line":158,"column":1}}]},"11":{"line":173,"type":"if","locations":[{"start":{"line":173,"column":2},"end":{"line":173,"column":1}},{"start":{"line":173,"column":2},"end":{"line":173,"column":1}}]},"12":{"line":190,"type":"if","locations":[{"start":{"line":190,"column":2},"end":{"line":190,"column":1}},{"start":{"line":190,"column":2},"end":{"line":190,"column":1}}]},"13":{"line":208,"type":"if","locations":[{"start":{"line":208,"column":2},"end":{"line":208,"column":1}},{"start":{"line":208,"column":2},"end":{"line":208,"column":1}}]},"14":{"line":226,"type":"if","locations":[{"start":{"line":226,"column":2},"end":{"line":226,"column":1}},{"start":{"line":226,"column":2},"end":{"line":226,"column":1}}]},"15":{"line":241,"type":"if","locations":[{"start":{"line":241,"column":46},"end":{"line":241,"column":45}},{"start":{"line":241,"column":46},"end":{"line":241,"column":45}}]},"16":{"line":245,"type":"if","locations":[{"start":{"line":245,"column":69},"end":{"line":245,"column":68}},{"start":{"line":245,"column":69},"end":{"line":245,"column":68}}]},"17":{"line":266,"type":"if","locations":[{"start":{"line":266,"column":2},"end":{"line":266,"column":1}},{"start":{"line":266,"column":2},"end":{"line":266,"column":1}}]},"18":{"line":269,"type":"if","locations":[{"start":{"line":269,"column":9},"end":{"line":269,"column":8}},{"start":{"line":269,"column":9},"end":{"line":269,"column":8}}]},"19":{"line":271,"type":"if","locations":[{"start":{"line":271,"column":4},"end":{"line":271,"column":3}},{"start":{"line":271,"column":4},"end":{"line":271,"column":3}}]},"20":{"line":274,"type":"if","locations":[{"start":{"line":274,"column":11},"end":{"line":274,"column":10}},{"start":{"line":274,"column":11},"end":{"line":274,"column":10}}]},"21":{"line":281,"type":"if","locations":[{"start":{"line":281,"column":9},"end":{"line":281,"column":8}},{"start":{"line":281,"column":9},"end":{"line":281,"column":8}}]},"22":{"line":287,"type":"binary-expr","locations":[{"start":{"line":287,"column":9},"end":{"line":287,"column":13}},{"start":{"line":287,"column":17},"end":{"line":287,"column":28}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":1,"14":1,"15":0,"16":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":1,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1,"42":1,"43":0,"44":0,"45":0,"46":1,"47":0,"48":0,"49":0,"50":0,"51":1,"52":1,"53":0,"54":1,"55":0,"56":0,"57":0,"58":0,"59":1,"60":1,"61":0,"62":0,"63":0,"64":0,"65":1,"66":0,"67":0,"68":1,"69":1,"70":0,"71":1,"72":0,"73":0,"74":1,"75":0,"76":0,"77":0,"78":0,"79":1,"80":0,"81":0,"82":0,"83":0,"84":1,"85":0,"86":0,"87":0,"88":1,"89":1,"90":0,"91":1,"92":0,"93":0,"94":0,"95":1,"96":1,"97":0,"98":1,"99":0,"100":0,"101":0,"102":1,"103":1,"104":0,"105":1,"106":0,"107":0,"108":0,"109":1,"110":1,"111":0,"112":1,"113":0,"114":0,"115":1,"116":1,"117":0,"118":0,"119":1,"120":0,"121":1,"122":1,"123":0,"124":1,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":1,"149":1,"150":0,"151":0,"152":1,"153":0,"154":1,"155":1,"156":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0},"code":"import {Initialization} from './Initialization';\nimport {Assert} from '../../misc/Assert';\nimport {QueryController} from '../../controllers/QueryController';\nimport {QueryStateModel, setState} from '../../models/QueryStateModel';\nimport {IQueryResult} from '../../rest/QueryResult';\nimport {IQueryResults} from '../../rest/QueryResults';\nimport {Analytics} from '../Analytics/Analytics';\nimport {IAnalyticsClient} from '../Analytics/AnalyticsClient'\nimport {InitializationEvents} from '../../events/InitializationEvents';\nimport {$$} from '../../utils/Dom';\nimport {IAnalyticsActionCause, IAnalyticsDocumentViewMeta} from '../Analytics/AnalyticsActionListMeta';\nimport {IStringMap} from '../../rest/GenericParam';\nimport {BaseComponent} from '../Base/BaseComponent';\nimport {Component} from '../Base/Component';\nimport {IStandaloneSearchInterfaceOptions} from '../SearchInterface/SearchInterface';\nimport {IRecommendationOptions} from '../Recommendation/Recommendation';\n\n/**\n * Initialize the framework with a basic search interface. Calls {@link Initialization.initSearchInterface}.<br/>\n * If using the jQuery extension, this is called using <code>$('#root').coveo('init');</code>\n * @param element The root of the interface to initialize\n * @param options JSON options for the framework eg : <code>{Searchbox : {enableSearchAsYouType: true}}</code>\n */\nexport function init(element: HTMLElement, options: any = {}) {\n  Initialization.initializeFramework(element, options, () => {\n    Initialization.initSearchInterface(element, options);\n  });\n}\n\nInitialization.registerNamedMethod('init', (element: HTMLElement, options: any = {}) => {\n  init(element, options);\n});\n\n/**\n * Initialize the framework with a standalone search box. Calls {@link Initialize.initStandaloneSearchInterface}.<br/>\n * If using the jQuery extension, this is called using <code>$('#root').coveo('initSearchbox');</code>\n * @param element The root of the interface to initialize\n * @param searchPageUri The search page on which to redirect when there is a query\n * @param options JSON options for the framework eg : <code>{Searchbox : {enableSearchAsYouType: true}}</code>\n */\nexport function initSearchbox(element: HTMLElement, searchPageUri: string, options: any = {}): void {\n  Assert.isNonEmptyString(searchPageUri);\n  var searchInterfaceOptions = <IStandaloneSearchInterfaceOptions>{};\n  searchInterfaceOptions.searchPageUri = searchPageUri;\n  searchInterfaceOptions.autoTriggerQuery = false;\n  searchInterfaceOptions.hideUntilFirstQuery = false;\n  searchInterfaceOptions.enableHistory = false;\n  options = _.extend({}, options, { StandaloneSearchInterface: searchInterfaceOptions });\n  Initialization.initializeFramework(element, options, () => {\n    Initialization.initStandaloneSearchInterface(element, options);\n  });\n}\n\nInitialization.registerNamedMethod('initSearchbox', (element: HTMLElement, searchPageUri: string, options: any = {}) => {\n  initSearchbox(element, searchPageUri, options);\n});\n\n/**\n * Initialize the framework with a recommendation interface. Calls {@link Initialization.initRecommendationInterface}.<br/>\n * If using the jQuery extension, this is called using <code>$('#root').coveo('initRecommendation');</code>\n * @param element The root of the interface to initialize\n * @param mainSearchInterface The search interface to link with the recommendation interface. View {@link Recommendation}\n * @param userContext The user context to pass with the query generated in the recommendation interface. View {@link Recommendation}\n * @param options JSON options for the framework eg : <code>{Searchbox : {enableSearchAsYouType: true}}</code>\n */\nexport function initRecommendation(element: HTMLElement, mainSearchInterface?: HTMLElement, userContext?: { [name: string]: any }, options: any = {}): void {\n  var recommendationOptions = <IRecommendationOptions>{};\n  recommendationOptions.mainSearchInterface = mainSearchInterface;\n  recommendationOptions.userContext = JSON.stringify(userContext);\n  recommendationOptions.enableHistory = false;\n  options = _.extend({}, options, { Recommendation: recommendationOptions });\n  Initialization.initializeFramework(element, options, () => {\n    Initialization.initRecommendationInterface(element, options);\n  });\n}\n\nInitialization.registerNamedMethod('initRecommendation', (element: HTMLElement, mainSearchInterface: HTMLElement, userContext: any = {}, options: any = {}) => {\n  initRecommendation(element, mainSearchInterface, userContext, options);\n});\n\n\n/**\n * Execute a standard query. Active component in the interface will react to events/ push data in the query / handle the query success or failure as needed.<br/>\n * It triggers a standard query flow for which the standard component will perform their expected behavior.<br/>\n * If you wish to only perform a query on the index to retrieve result (without the component reacting), look into {@link SearchInterface.search} instead.<br/>\n * Calling this method is the same as calling {@link QueryController.executeQuery}\n * @param element The root of the interface to initialize\n */\nexport function executeQuery(element: HTMLElement): Promise<IQueryResults> {\n  Assert.exists(element);\n\n  var queryController = <QueryController>Component.resolveBinding(element, QueryController);\n  Assert.exists(queryController);\n  return queryController.executeQuery();\n}\n\nInitialization.registerNamedMethod('executeQuery', (element: HTMLElement) => {\n  return executeQuery(element);\n});\n\n/**\n * Perform operation on the state ({@link QueryStateModel} of the interface.<br/>\n * Get the complete {@link QueryStateModel} object : <code>Coveo.state(element)</code><br/>\n * Get an attribute from the {@link QueryStateModel} : <code>Coveo.state(element, 'q')</code> Can be any attribute.<br/>\n * Set an attribute on the {@link QueryStateModel} : <code>Coveo.state(element, 'q', 'foobar')</code> Can be any attribute.<br/>\n * Set multiple attribute on the {@link QueryStateModel} : <code>Coveo.state(element, {'q' : 'foobar' , sort : 'relevancy'})</code> Can be any attribute.<br/>\n * If using the jQuery extension, this is called using <code>$('#root').coveo('state');</code>\n * @param element The root of the interface for which to access the {@link QueryStateModel}\n * @param args\n * @returns {any}\n */\nexport function state(element: HTMLElement, ...args: any[]): any {\n  Assert.exists(element);\n  var model = <QueryStateModel>Component.resolveBinding(element, QueryStateModel);\n  return setState(model, args);\n}\n\nInitialization.registerNamedMethod('state', (element: HTMLElement, ...args: any[]): any => {\n  if (args.length != 0) {\n    return state.apply(undefined, [element].concat(args));\n  } else {\n    return state.apply(undefined, [element]);\n  }\n});\n\n/**\n * Get the component bound on the given HTMLElement\n * @param element The HTMLElement for which to get the component instance\n * @param componentClass If multiple component are bound to a single HTMLElement, you need to specify which component you wish to get\n * @param noThrow By default, the get method will throw if there is no component bound, or if there are multiple component and no componentClass is specified. This suppress the error if set to true.\n * @returns {Component}\n */\nexport function get(element: HTMLElement, componentClass?, noThrow?: boolean): BaseComponent {\n  Assert.exists(element);\n  return Component.get(element, componentClass, noThrow);\n}\n\nInitialization.registerNamedMethod('get', (element: HTMLElement, componentClass?: any, noThrow?: boolean): BaseComponent => {\n  return get(element, componentClass, noThrow);\n});\n\nInitialization.registerNamedMethod('result', (element: HTMLElement, noThrow?: boolean): IQueryResult => {\n  Assert.exists(element);\n  return Component.getResult(element, noThrow);\n});\n\nfunction getCoveoAnalyticsClient(element: HTMLElement): IAnalyticsClient {\n  var analytics = getCoveoAnalytics(element);\n  if (analytics) {\n    return analytics.client;\n  } else {\n    return undefined;\n  }\n}\n\nfunction getCoveoAnalytics(element: HTMLElement): Analytics {\n  var analyticsElement = $$(element).find('.' + Component.computeCssClassName(Analytics));\n  if (analyticsElement) {\n    return <Analytics>Component.get(analyticsElement);\n  } else {\n    return undefined;\n  }\n}\n\n/**\n * Log a custom event on the Coveo Usage Analytics service.\n * @param element The root of the interface for which to log analytics event\n * @param customEventCause The cause of the event\n * @param metadata The metadata associated with the event (JSON key value)\n */\nexport function logCustomEvent(element: HTMLElement, customEventCause: IAnalyticsActionCause, metadata: IStringMap<string>) {\n  var client = getCoveoAnalyticsClient(element);\n  if (client) {\n    client.logCustomEvent<any>(customEventCause, metadata, element);\n  }\n}\n\nInitialization.registerNamedMethod('logCustomEvent', (element: HTMLElement, customEventCause: IAnalyticsActionCause, metadata: any) => {\n  logCustomEvent(element, customEventCause, metadata);\n})\n\n/**\n * Log a search event on the Coveo Usage Analytics service\n * @param element The root of the interface for which to log analytics event\n * @param searchEventCause The cause of the event\n * @param metadata The metadata associated with the event (JSON key value)\n */\nexport function logSearchEvent(element: HTMLElement, searchEventCause: IAnalyticsActionCause, metadata: IStringMap<string>) {\n  var client = getCoveoAnalyticsClient(element);\n  if (client) {\n    client.logSearchEvent<any>(searchEventCause, metadata);\n  }\n}\n\nInitialization.registerNamedMethod('logSearchEvent', (element: HTMLElement, searchEventCause: IAnalyticsActionCause, metadata: IStringMap<string>) => {\n  logSearchEvent(element, searchEventCause, metadata);\n})\n\n/**\n * Log a search as you type event on the Coveo Usage Analytics service.<br/>\n * It is a bit different from a standard search event, as it will wait 5 second before sending the final search as you type event.\n * @param element The root of the interface for which to log analytics event\n * @param searchAsYouTypeEventCause The cause of the event\n * @param metadata The metadata associated with the event (JSON key value)\n */\nexport function logSearchAsYouTypeEvent(element: HTMLElement, searchAsYouTypeEventCause: IAnalyticsActionCause, metadata: IStringMap<string>) {\n  var client = getCoveoAnalyticsClient(element);\n  if (client) {\n    client.logSearchAsYouType<any>(searchAsYouTypeEventCause, metadata);\n  }\n}\n\nInitialization.registerNamedMethod('logSearchAsYouTypeEvent', (element: HTMLElement, searchAsYouTypeEventCause: IAnalyticsActionCause, metadata: IStringMap<string>) => {\n  logSearchAsYouTypeEvent(element, searchAsYouTypeEventCause, metadata);\n})\n\n/**\n * Log a click event on the Coveo Usage Analytics service.\n * @param element The root of the interface for which to log analytics event\n * @param clickEventCause The cause of the event\n * @param metadata The metadata associated with the event (JSON key value)\n * @param result The result that was clicked\n */\nexport function logClickEvent(element: HTMLElement, clickEventCause: IAnalyticsActionCause, metadata: IStringMap<any>, result: IQueryResult) {\n  var client = getCoveoAnalyticsClient(element);\n  if (client) {\n    client.logClickEvent(clickEventCause, <IAnalyticsDocumentViewMeta>metadata, result, element);\n  }\n}\n\nInitialization.registerNamedMethod('logClickEvent', (element: HTMLElement, clickEventCause: IAnalyticsActionCause, metadata: IStringMap<string>, result: IQueryResult) => {\n  logClickEvent(element, clickEventCause, metadata, result)\n})\n\n/**\n * Pass options to the framework, before it is initialized ({@link init}).<br/>\n * All the options passed with this calls will be merged together on initialization\n * @param element The root of the interface for which you wish to set options\n * @param optionsToSet JSON options for the framework eg : <code>{Searchbox : {enableSearchAsYouType: true}}</code>\n */\nexport function options(element: HTMLElement, optionsToSet: any = {}) {\n  Initialization.registerDefaultOptions(element, optionsToSet);\n}\n\nInitialization.registerNamedMethod('options', (element: HTMLElement, optionsToSet: any = {}) => {\n  options(element, optionsToSet);\n});\n\n/**\n * Patch the given methodName on an instance of a component bound to an HTMLElement with a new handler\n * @param element\n * @param methodName\n * @param handler\n */\nexport function patch(element: HTMLElement, methodName: string, handler: (...args: any[]) => any) {\n  Initialization.monkeyPatchComponentMethod(methodName, element, handler);\n}\n\nInitialization.registerNamedMethod('patch', (element?: HTMLElement, methodName?: string, handler?: (...args: any[]) => any) => {\n  patch(element, methodName, handler);\n});\n\nexport function initBox(element: HTMLElement, ...args: any[]) {\n  var type, options: any = {}, injectMarkup;\n  // This means : initBox, no type (no injection) and no options\n  if (args.length == 0) {\n    type = 'Standard';\n    injectMarkup = false;\n  } else if (args.length == 1) { // 1 arg, might be options or type\n    // This mean a type (with injection) and no options\n    if (typeof args[0] == 'string') {\n      type = args[0];\n      injectMarkup = true;\n    } else if (typeof args[0] == 'object') { // This means no type(no injection) and with options\n      type = 'Standard';\n      injectMarkup = false;\n      options = args[0];\n    } else {\n      Assert.fail('Invalid parameters to init a box');\n    }\n  } else if (args.length == 2) { // 2 args means both options and type (with injection);\n    type = args[0];\n    options = args[1];\n    injectMarkup = true;\n  }\n  var merged: any = {};\n  merged[type || 'Container'] = _.extend({}, options.SearchInterface, options[type]);\n  options = _.extend({}, options, merged);\n  Initialization.initializeFramework(element, options, () => {\n    Initialization.initBoxInterface(element, options, type, injectMarkup)\n  });\n}\n\n\nInitialization.registerNamedMethod('initBox', (element?: HTMLElement, ...args: any[]) => {\n  initBox(element, args);\n});\n\nexport function nuke(element: HTMLElement) {\n  $$(element).trigger(InitializationEvents.nuke);\n}\n\nInitialization.registerNamedMethod('nuke', (element: HTMLElement) => {\n  nuke(element);\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Base/RegisteredNamedMethods.ts\n **/","l":{"1":1,"2":1,"3":1,"4":1,"7":1,"9":1,"10":1,"14":1,"24":1,"25":0,"26":0,"30":1,"31":0,"41":1,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"54":1,"55":0,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"77":1,"78":0,"89":1,"90":0,"92":0,"93":0,"94":0,"97":1,"98":0,"112":1,"113":0,"114":0,"115":0,"118":1,"119":0,"120":0,"122":0,"133":1,"134":0,"135":0,"138":1,"139":0,"142":1,"143":0,"144":0,"147":1,"148":0,"149":0,"150":0,"152":0,"156":1,"157":0,"158":0,"159":0,"161":0,"171":1,"172":0,"173":0,"174":0,"178":1,"179":0,"188":1,"189":0,"190":0,"191":0,"195":1,"196":0,"206":1,"207":0,"208":0,"209":0,"213":1,"214":0,"224":1,"225":0,"226":0,"227":0,"231":1,"232":0,"241":1,"242":0,"245":1,"246":0,"255":1,"256":0,"259":1,"260":0,"263":1,"264":0,"266":0,"267":0,"268":0,"269":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"277":0,"279":0,"281":0,"282":0,"283":0,"284":0,"286":0,"287":0,"288":0,"289":0,"290":0,"295":1,"296":0,"299":1,"300":0,"303":1,"304":0}},"src/ui/Base/Initialization.ts":{"path":"src/ui/Base/Initialization.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":41}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":66}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":41}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":35}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":71}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":94}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":66}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":48}},"10":{"start":{"line":12,"column":0},"end":{"line":12,"column":61}},"11":{"start":{"line":13,"column":0},"end":{"line":13,"column":69}},"12":{"start":{"line":14,"column":0},"end":{"line":14,"column":73}},"13":{"start":{"line":15,"column":0},"end":{"line":15,"column":96}},"14":{"start":{"line":32,"column":0},"end":{"line":472,"column":1}},"15":{"start":{"line":44,"column":16},"end":{"line":48,"column":3}},"16":{"start":{"line":45,"column":4},"end":{"line":45,"column":56}},"17":{"start":{"line":46,"column":4},"end":{"line":46,"column":54}},"18":{"start":{"line":47,"column":4},"end":{"line":47,"column":45}},"19":{"start":{"line":50,"column":16},"end":{"line":65,"column":3}},"20":{"start":{"line":51,"column":4},"end":{"line":51,"column":63}},"21":{"start":{"line":53,"column":4},"end":{"line":53,"column":25}},"22":{"start":{"line":54,"column":4},"end":{"line":58,"column":5}},"23":{"start":{"line":55,"column":6},"end":{"line":55,"column":70}},"24":{"start":{"line":57,"column":6},"end":{"line":57,"column":29}},"25":{"start":{"line":60,"column":4},"end":{"line":64,"column":5}},"26":{"start":{"line":61,"column":6},"end":{"line":61,"column":87}},"27":{"start":{"line":63,"column":6},"end":{"line":63,"column":26}},"28":{"start":{"line":72,"column":16},"end":{"line":78,"column":3}},"29":{"start":{"line":73,"column":4},"end":{"line":73,"column":34}},"30":{"start":{"line":74,"column":4},"end":{"line":74,"column":37}},"31":{"start":{"line":75,"column":4},"end":{"line":75,"column":81}},"32":{"start":{"line":76,"column":4},"end":{"line":76,"column":73}},"33":{"start":{"line":77,"column":4},"end":{"line":77,"column":76}},"34":{"start":{"line":85,"column":16},"end":{"line":87,"column":3}},"35":{"start":{"line":86,"column":4},"end":{"line":86,"column":79}},"36":{"start":{"line":93,"column":16},"end":{"line":95,"column":3}},"37":{"start":{"line":94,"column":4},"end":{"line":94,"column":55}},"38":{"start":{"line":102,"column":16},"end":{"line":104,"column":3}},"39":{"start":{"line":103,"column":4},"end":{"line":103,"column":53}},"40":{"start":{"line":113,"column":16},"end":{"line":154,"column":3}},"41":{"start":{"line":114,"column":4},"end":{"line":114,"column":27}},"42":{"start":{"line":115,"column":4},"end":{"line":115,"column":75}},"43":{"start":{"line":116,"column":4},"end":{"line":119,"column":5}},"44":{"start":{"line":117,"column":6},"end":{"line":117,"column":129}},"45":{"start":{"line":118,"column":6},"end":{"line":118,"column":13}},"46":{"start":{"line":121,"column":4},"end":{"line":121,"column":69}},"47":{"start":{"line":123,"column":4},"end":{"line":123,"column":98}},"48":{"start":{"line":124,"column":4},"end":{"line":124,"column":67}},"49":{"start":{"line":126,"column":4},"end":{"line":126,"column":50}},"50":{"start":{"line":127,"column":4},"end":{"line":127,"column":60}},"51":{"start":{"line":129,"column":4},"end":{"line":129,"column":107}},"52":{"start":{"line":130,"column":4},"end":{"line":130,"column":76}},"53":{"start":{"line":132,"column":4},"end":{"line":132,"column":66}},"54":{"start":{"line":134,"column":4},"end":{"line":134,"column":97}},"55":{"start":{"line":135,"column":4},"end":{"line":135,"column":66}},"56":{"start":{"line":137,"column":4},"end":{"line":137,"column":83}},"57":{"start":{"line":144,"column":4},"end":{"line":144,"column":70}},"58":{"start":{"line":145,"column":4},"end":{"line":148,"column":6}},"59":{"start":{"line":146,"column":6},"end":{"line":146,"column":51}},"60":{"start":{"line":147,"column":6},"end":{"line":147,"column":48}},"61":{"start":{"line":150,"column":4},"end":{"line":153,"column":5}},"62":{"start":{"line":151,"column":6},"end":{"line":151,"column":57}},"63":{"start":{"line":152,"column":24},"end":{"line":152,"column":80}},"64":{"start":{"line":161,"column":16},"end":{"line":167,"column":3}},"65":{"start":{"line":161,"column":58},"end":{"line":161,"column":75}},"66":{"start":{"line":162,"column":4},"end":{"line":162,"column":69}},"67":{"start":{"line":163,"column":4},"end":{"line":163,"column":99}},"68":{"start":{"line":164,"column":4},"end":{"line":164,"column":60}},"69":{"start":{"line":165,"column":4},"end":{"line":165,"column":114}},"70":{"start":{"line":166,"column":4},"end":{"line":166,"column":80}},"71":{"start":{"line":174,"column":16},"end":{"line":180,"column":3}},"72":{"start":{"line":174,"column":68},"end":{"line":174,"column":85}},"73":{"start":{"line":175,"column":4},"end":{"line":175,"column":69}},"74":{"start":{"line":176,"column":4},"end":{"line":176,"column":119}},"75":{"start":{"line":177,"column":4},"end":{"line":177,"column":60}},"76":{"start":{"line":178,"column":4},"end":{"line":178,"column":114}},"77":{"start":{"line":179,"column":4},"end":{"line":179,"column":80}},"78":{"start":{"line":187,"column":16},"end":{"line":193,"column":3}},"79":{"start":{"line":187,"column":66},"end":{"line":187,"column":83}},"80":{"start":{"line":188,"column":4},"end":{"line":188,"column":69}},"81":{"start":{"line":189,"column":4},"end":{"line":189,"column":115}},"82":{"start":{"line":190,"column":4},"end":{"line":190,"column":59}},"83":{"start":{"line":191,"column":4},"end":{"line":191,"column":113}},"84":{"start":{"line":192,"column":4},"end":{"line":192,"column":80}},"85":{"start":{"line":201,"column":16},"end":{"line":232,"column":3}},"86":{"start":{"line":202,"column":4},"end":{"line":202,"column":27}},"87":{"start":{"line":204,"column":4},"end":{"line":204,"column":43}},"88":{"start":{"line":206,"column":4},"end":{"line":228,"column":5}},"89":{"start":{"line":207,"column":6},"end":{"line":227,"column":7}},"90":{"start":{"line":208,"column":8},"end":{"line":208,"column":83}},"91":{"start":{"line":209,"column":8},"end":{"line":209,"column":70}},"92":{"start":{"line":210,"column":8},"end":{"line":210,"column":60}},"93":{"start":{"line":211,"column":8},"end":{"line":213,"column":9}},"94":{"start":{"line":212,"column":10},"end":{"line":212,"column":33}},"95":{"start":{"line":214,"column":8},"end":{"line":226,"column":9}},"96":{"start":{"line":225,"column":10},"end":{"line":225,"column":154}},"97":{"start":{"line":231,"column":4},"end":{"line":231,"column":44}},"98":{"start":{"line":231,"column":36},"end":{"line":231,"column":42}},"99":{"start":{"line":241,"column":16},"end":{"line":262,"column":3}},"100":{"start":{"line":242,"column":4},"end":{"line":242,"column":46}},"101":{"start":{"line":243,"column":4},"end":{"line":243,"column":27}},"102":{"start":{"line":245,"column":4},"end":{"line":245,"column":79}},"103":{"start":{"line":246,"column":4},"end":{"line":246,"column":34}},"104":{"start":{"line":248,"column":4},"end":{"line":248,"column":42}},"105":{"start":{"line":249,"column":4},"end":{"line":249,"column":21}},"106":{"start":{"line":250,"column":4},"end":{"line":250,"column":41}},"107":{"start":{"line":252,"column":4},"end":{"line":258,"column":5}},"108":{"start":{"line":253,"column":6},"end":{"line":255,"column":9}},"109":{"start":{"line":254,"column":8},"end":{"line":254,"column":30}},"110":{"start":{"line":256,"column":6},"end":{"line":256,"column":39}},"111":{"start":{"line":257,"column":6},"end":{"line":257,"column":37}},"112":{"start":{"line":260,"column":4},"end":{"line":260,"column":101}},"113":{"start":{"line":261,"column":4},"end":{"line":261,"column":66}},"114":{"start":{"line":269,"column":16},"end":{"line":275,"column":3}},"115":{"start":{"line":270,"column":4},"end":{"line":270,"column":40}},"116":{"start":{"line":271,"column":4},"end":{"line":271,"column":74}},"117":{"start":{"line":272,"column":4},"end":{"line":272,"column":66}},"118":{"start":{"line":273,"column":4},"end":{"line":273,"column":27}},"119":{"start":{"line":274,"column":4},"end":{"line":274,"column":54}},"120":{"start":{"line":282,"column":16},"end":{"line":284,"column":3}},"121":{"start":{"line":283,"column":4},"end":{"line":283,"column":65}},"122":{"start":{"line":292,"column":16},"end":{"line":314,"column":3}},"123":{"start":{"line":293,"column":4},"end":{"line":293,"column":40}},"124":{"start":{"line":294,"column":4},"end":{"line":294,"column":27}},"125":{"start":{"line":296,"column":4},"end":{"line":296,"column":23}},"126":{"start":{"line":297,"column":4},"end":{"line":302,"column":5}},"127":{"start":{"line":298,"column":6},"end":{"line":298,"column":43}},"128":{"start":{"line":299,"column":6},"end":{"line":299,"column":110}},"129":{"start":{"line":300,"column":6},"end":{"line":300,"column":35}},"130":{"start":{"line":301,"column":6},"end":{"line":301,"column":39}},"131":{"start":{"line":304,"column":4},"end":{"line":304,"column":64}},"132":{"start":{"line":305,"column":4},"end":{"line":305,"column":34}},"133":{"start":{"line":306,"column":4},"end":{"line":306,"column":46}},"134":{"start":{"line":308,"column":4},"end":{"line":308,"column":47}},"135":{"start":{"line":309,"column":4},"end":{"line":311,"column":5}},"136":{"start":{"line":310,"column":6},"end":{"line":310,"column":70}},"137":{"start":{"line":313,"column":4},"end":{"line":313,"column":41}},"138":{"start":{"line":316,"column":16},"end":{"line":335,"column":3}},"139":{"start":{"line":316,"column":55},"end":{"line":316,"column":72}},"140":{"start":{"line":316,"column":74},"end":{"line":316,"column":99}},"141":{"start":{"line":316,"column":101},"end":{"line":316,"column":129}},"142":{"start":{"line":317,"column":4},"end":{"line":317,"column":69}},"143":{"start":{"line":318,"column":4},"end":{"line":318,"column":43}},"144":{"start":{"line":319,"column":4},"end":{"line":321,"column":5}},"145":{"start":{"line":320,"column":6},"end":{"line":320,"column":49}},"146":{"start":{"line":322,"column":4},"end":{"line":322,"column":71}},"147":{"start":{"line":323,"column":4},"end":{"line":334,"column":5}},"148":{"start":{"line":324,"column":6},"end":{"line":324,"column":89}},"149":{"start":{"line":325,"column":6},"end":{"line":326,"column":8}},"150":{"start":{"line":327,"column":6},"end":{"line":327,"column":117}},"151":{"start":{"line":328,"column":6},"end":{"line":328,"column":50}},"152":{"start":{"line":329,"column":6},"end":{"line":329,"column":104}},"153":{"start":{"line":330,"column":6},"end":{"line":330,"column":82}},"154":{"start":{"line":332,"column":6},"end":{"line":332,"column":143}},"155":{"start":{"line":333,"column":6},"end":{"line":333,"column":59}},"156":{"start":{"line":337,"column":16},"end":{"line":351,"column":3}},"157":{"start":{"line":338,"column":4},"end":{"line":338,"column":40}},"158":{"start":{"line":339,"column":4},"end":{"line":339,"column":27}},"159":{"start":{"line":341,"column":4},"end":{"line":341,"column":116}},"160":{"start":{"line":342,"column":4},"end":{"line":342,"column":38}},"161":{"start":{"line":344,"column":4},"end":{"line":344,"column":97}},"162":{"start":{"line":345,"column":4},"end":{"line":349,"column":5}},"163":{"start":{"line":346,"column":6},"end":{"line":346,"column":68}},"164":{"start":{"line":348,"column":6},"end":{"line":348,"column":55}},"165":{"start":{"line":353,"column":16},"end":{"line":366,"column":3}},"166":{"start":{"line":354,"column":4},"end":{"line":354,"column":35}},"167":{"start":{"line":355,"column":4},"end":{"line":355,"column":27}},"168":{"start":{"line":357,"column":4},"end":{"line":365,"column":5}},"169":{"start":{"line":358,"column":6},"end":{"line":358,"column":74}},"170":{"start":{"line":359,"column":11},"end":{"line":365,"column":5}},"171":{"start":{"line":360,"column":6},"end":{"line":360,"column":89}},"172":{"start":{"line":361,"column":11},"end":{"line":365,"column":5}},"173":{"start":{"line":362,"column":6},"end":{"line":362,"column":85}},"174":{"start":{"line":364,"column":6},"end":{"line":364,"column":80}},"175":{"start":{"line":368,"column":17},"end":{"line":371,"column":3}},"176":{"start":{"line":369,"column":4},"end":{"line":369,"column":27}},"177":{"start":{"line":370,"column":4},"end":{"line":370,"column":48}},"178":{"start":{"line":373,"column":17},"end":{"line":386,"column":3}},"179":{"start":{"line":374,"column":4},"end":{"line":374,"column":40}},"180":{"start":{"line":375,"column":4},"end":{"line":375,"column":27}},"181":{"start":{"line":377,"column":4},"end":{"line":377,"column":48}},"182":{"start":{"line":378,"column":4},"end":{"line":378,"column":34}},"183":{"start":{"line":380,"column":4},"end":{"line":380,"column":44}},"184":{"start":{"line":381,"column":4},"end":{"line":385,"column":5}},"185":{"start":{"line":382,"column":6},"end":{"line":382,"column":48}},"186":{"start":{"line":384,"column":6},"end":{"line":384,"column":98}},"187":{"start":{"line":388,"column":17},"end":{"line":400,"column":3}},"188":{"start":{"line":389,"column":4},"end":{"line":389,"column":85}},"189":{"start":{"line":390,"column":4},"end":{"line":399,"column":5}},"190":{"start":{"line":391,"column":6},"end":{"line":391,"column":81}},"191":{"start":{"line":392,"column":6},"end":{"line":392,"column":119}},"192":{"start":{"line":394,"column":6},"end":{"line":398,"column":7}},"193":{"start":{"line":395,"column":8},"end":{"line":395,"column":117}},"194":{"start":{"line":397,"column":8},"end":{"line":397,"column":116}},"195":{"start":{"line":402,"column":17},"end":{"line":406,"column":3}},"196":{"start":{"line":403,"column":4},"end":{"line":405,"column":5}},"197":{"start":{"line":404,"column":6},"end":{"line":404,"column":54}},"198":{"start":{"line":408,"column":17},"end":{"line":416,"column":3}},"199":{"start":{"line":409,"column":4},"end":{"line":415,"column":5}},"200":{"start":{"line":410,"column":6},"end":{"line":414,"column":8}},"201":{"start":{"line":411,"column":8},"end":{"line":413,"column":9}},"202":{"start":{"line":412,"column":10},"end":{"line":412,"column":16}},"203":{"start":{"line":418,"column":17},"end":{"line":450,"column":3}},"204":{"start":{"line":419,"column":4},"end":{"line":449,"column":5}},"205":{"start":{"line":420,"column":6},"end":{"line":420,"column":85}},"206":{"start":{"line":421,"column":6},"end":{"line":421,"column":85}},"207":{"start":{"line":422,"column":6},"end":{"line":422,"column":97}},"208":{"start":{"line":423,"column":6},"end":{"line":423,"column":85}},"209":{"start":{"line":424,"column":6},"end":{"line":424,"column":103}},"210":{"start":{"line":425,"column":6},"end":{"line":425,"column":58}},"211":{"start":{"line":426,"column":6},"end":{"line":426,"column":37}},"212":{"start":{"line":427,"column":6},"end":{"line":427,"column":37}},"213":{"start":{"line":428,"column":6},"end":{"line":428,"column":37}},"214":{"start":{"line":429,"column":6},"end":{"line":429,"column":41}},"215":{"start":{"line":430,"column":6},"end":{"line":430,"column":36}},"216":{"start":{"line":431,"column":6},"end":{"line":442,"column":8}},"217":{"start":{"line":443,"column":6},"end":{"line":448,"column":8}},"218":{"start":{"line":444,"column":8},"end":{"line":444,"column":53}},"219":{"start":{"line":445,"column":8},"end":{"line":447,"column":9}},"220":{"start":{"line":446,"column":10},"end":{"line":446,"column":99}},"221":{"start":{"line":452,"column":17},"end":{"line":471,"column":3}},"222":{"start":{"line":453,"column":4},"end":{"line":470,"column":5}},"223":{"start":{"line":454,"column":6},"end":{"line":469,"column":9}},"224":{"start":{"line":455,"column":8},"end":{"line":468,"column":9}},"225":{"start":{"line":458,"column":10},"end":{"line":458,"column":39}},"226":{"start":{"line":459,"column":10},"end":{"line":465,"column":11}},"227":{"start":{"line":460,"column":12},"end":{"line":460,"column":84}},"228":{"start":{"line":461,"column":12},"end":{"line":461,"column":81}},"229":{"start":{"line":462,"column":12},"end":{"line":462,"column":131}},"230":{"start":{"line":463,"column":12},"end":{"line":463,"column":78}},"231":{"start":{"line":464,"column":12},"end":{"line":464,"column":84}},"232":{"start":{"line":466,"column":10},"end":{"line":466,"column":87}},"233":{"start":{"line":467,"column":10},"end":{"line":467,"column":116}},"234":{"start":{"line":33,"column":17},"end":{"line":33,"column":55}},"235":{"start":{"line":34,"column":17},"end":{"line":34,"column":66}},"236":{"start":{"line":35,"column":17},"end":{"line":35,"column":58}},"237":{"start":{"line":472,"column":0},"end":{"line":472,"column":1}},"238":{"start":{"line":32,"column":13},"end":{"line":472,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1735)","line":32,"loc":{"start":{"line":32,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_1737)","line":44,"loc":{"start":{"line":44,"column":2},"end":{"line":44,"column":72}}},"3":{"name":"(anonymous_1738)","line":50,"loc":{"start":{"line":50,"column":2},"end":{"line":50,"column":71}}},"4":{"name":"(anonymous_1739)","line":72,"loc":{"start":{"line":72,"column":2},"end":{"line":72,"column":80}}},"5":{"name":"(anonymous_1740)","line":85,"loc":{"start":{"line":85,"column":2},"end":{"line":85,"column":69}}},"6":{"name":"(anonymous_1741)","line":93,"loc":{"start":{"line":93,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_1742)","line":102,"loc":{"start":{"line":102,"column":2},"end":{"line":102,"column":51}}},"8":{"name":"(anonymous_1743)","line":113,"loc":{"start":{"line":113,"column":2},"end":{"line":113,"column":127}}},"9":{"name":"(anonymous_1744)","line":145,"loc":{"start":{"line":145,"column":24},"end":{"line":145,"column":39}}},"10":{"name":"(anonymous_1745)","line":161,"loc":{"start":{"line":161,"column":2},"end":{"line":161,"column":75}}},"11":{"name":"(anonymous_1746)","line":174,"loc":{"start":{"line":174,"column":2},"end":{"line":174,"column":85}}},"12":{"name":"(anonymous_1747)","line":187,"loc":{"start":{"line":187,"column":2},"end":{"line":187,"column":83}}},"13":{"name":"(anonymous_1748)","line":201,"loc":{"start":{"line":201,"column":2},"end":{"line":201,"column":134}}},"14":{"name":"(anonymous_1749)","line":231,"loc":{"start":{"line":231,"column":26},"end":{"line":231,"column":31}}},"15":{"name":"(anonymous_1750)","line":241,"loc":{"start":{"line":241,"column":2},"end":{"line":241,"column":142}}},"16":{"name":"(anonymous_1751)","line":253,"loc":{"start":{"line":253,"column":62},"end":{"line":253,"column":73}}},"17":{"name":"(anonymous_1752)","line":269,"loc":{"start":{"line":269,"column":2},"end":{"line":269,"column":110}}},"18":{"name":"(anonymous_1753)","line":282,"loc":{"start":{"line":282,"column":2},"end":{"line":282,"column":58}}},"19":{"name":"(anonymous_1754)","line":292,"loc":{"start":{"line":292,"column":2},"end":{"line":292,"column":117}}},"20":{"name":"(anonymous_1755)","line":316,"loc":{"start":{"line":316,"column":2},"end":{"line":316,"column":129}}},"21":{"name":"(anonymous_1756)","line":325,"loc":{"start":{"line":325,"column":75},"end":{"line":null,"column":-1}}},"22":{"name":"(anonymous_1757)","line":337,"loc":{"start":{"line":337,"column":2},"end":{"line":337,"column":93}}},"23":{"name":"(anonymous_1758)","line":353,"loc":{"start":{"line":353,"column":2},"end":{"line":353,"column":107}}},"24":{"name":"(anonymous_1759)","line":368,"loc":{"start":{"line":368,"column":2},"end":{"line":368,"column":79}}},"25":{"name":"(anonymous_1760)","line":373,"loc":{"start":{"line":373,"column":2},"end":{"line":373,"column":105}}},"26":{"name":"(anonymous_1761)","line":388,"loc":{"start":{"line":388,"column":2},"end":{"line":388,"column":68}}},"27":{"name":"(anonymous_1762)","line":402,"loc":{"start":{"line":402,"column":2},"end":{"line":402,"column":66}}},"28":{"name":"(anonymous_1763)","line":408,"loc":{"start":{"line":408,"column":2},"end":{"line":408,"column":40}}},"29":{"name":"(anonymous_1764)","line":410,"loc":{"start":{"line":410,"column":21},"end":{"line":410,"column":38}}},"30":{"name":"(anonymous_1765)","line":418,"loc":{"start":{"line":418,"column":2},"end":{"line":418,"column":75}}},"31":{"name":"(anonymous_1766)","line":443,"loc":{"start":{"line":443,"column":44},"end":{"line":443,"column":75}}},"32":{"name":"(anonymous_1767)","line":452,"loc":{"start":{"line":452,"column":2},"end":{"line":452,"column":185}}},"33":{"name":"(anonymous_1768)","line":453,"loc":{"start":{"line":453,"column":11},"end":{"line":null,"column":-1}}},"34":{"name":"(anonymous_1769)","line":454,"loc":{"start":{"line":454,"column":23},"end":{"line":454,"column":52}}}},"branchMap":{"1":{"line":45,"type":"binary-expr","locations":[{"start":{"line":45,"column":19},"end":{"line":45,"column":49}},{"start":{"line":45,"column":53},"end":{"line":45,"column":55}}]},"2":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":4},"end":{"line":54,"column":3}},{"start":{"line":54,"column":4},"end":{"line":54,"column":3}}]},"3":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":4},"end":{"line":60,"column":3}},{"start":{"line":60,"column":4},"end":{"line":60,"column":3}}]},"4":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":4},"end":{"line":116,"column":3}},{"start":{"line":116,"column":4},"end":{"line":116,"column":3}}]},"5":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":4},"end":{"line":150,"column":3}},{"start":{"line":150,"column":4},"end":{"line":150,"column":3}}]},"6":{"line":161,"type":"if","locations":[{"start":{"line":161,"column":58},"end":{"line":161,"column":57}},{"start":{"line":161,"column":58},"end":{"line":161,"column":57}}]},"7":{"line":174,"type":"if","locations":[{"start":{"line":174,"column":68},"end":{"line":174,"column":67}},{"start":{"line":174,"column":68},"end":{"line":174,"column":67}}]},"8":{"line":187,"type":"if","locations":[{"start":{"line":187,"column":66},"end":{"line":187,"column":65}},{"start":{"line":187,"column":66},"end":{"line":187,"column":65}}]},"9":{"line":207,"type":"if","locations":[{"start":{"line":207,"column":6},"end":{"line":207,"column":5}},{"start":{"line":207,"column":6},"end":{"line":207,"column":5}}]},"10":{"line":211,"type":"if","locations":[{"start":{"line":211,"column":8},"end":{"line":211,"column":7}},{"start":{"line":211,"column":8},"end":{"line":211,"column":7}}]},"11":{"line":214,"type":"if","locations":[{"start":{"line":214,"column":8},"end":{"line":214,"column":7}},{"start":{"line":214,"column":8},"end":{"line":214,"column":7}}]},"12":{"line":252,"type":"if","locations":[{"start":{"line":252,"column":4},"end":{"line":252,"column":3}},{"start":{"line":252,"column":4},"end":{"line":252,"column":3}}]},"13":{"line":297,"type":"if","locations":[{"start":{"line":297,"column":4},"end":{"line":297,"column":3}},{"start":{"line":297,"column":4},"end":{"line":297,"column":3}}]},"14":{"line":309,"type":"if","locations":[{"start":{"line":309,"column":4},"end":{"line":309,"column":3}},{"start":{"line":309,"column":4},"end":{"line":309,"column":3}}]},"15":{"line":316,"type":"if","locations":[{"start":{"line":316,"column":55},"end":{"line":316,"column":54}},{"start":{"line":316,"column":55},"end":{"line":316,"column":54}}]},"16":{"line":316,"type":"if","locations":[{"start":{"line":316,"column":74},"end":{"line":316,"column":73}},{"start":{"line":316,"column":74},"end":{"line":316,"column":73}}]},"17":{"line":316,"type":"if","locations":[{"start":{"line":316,"column":101},"end":{"line":316,"column":100}},{"start":{"line":316,"column":101},"end":{"line":316,"column":100}}]},"18":{"line":319,"type":"if","locations":[{"start":{"line":319,"column":4},"end":{"line":319,"column":3}},{"start":{"line":319,"column":4},"end":{"line":319,"column":3}}]},"19":{"line":323,"type":"if","locations":[{"start":{"line":323,"column":4},"end":{"line":323,"column":3}},{"start":{"line":323,"column":4},"end":{"line":323,"column":3}}]},"20":{"line":325,"type":"cond-expr","locations":[{"start":{"line":325,"column":53},"end":{"line":325,"column":72}},{"start":{"line":325,"column":75},"end":{"line":326,"column":7}}]},"21":{"line":345,"type":"if","locations":[{"start":{"line":345,"column":4},"end":{"line":345,"column":3}},{"start":{"line":345,"column":4},"end":{"line":345,"column":3}}]},"22":{"line":357,"type":"if","locations":[{"start":{"line":357,"column":4},"end":{"line":357,"column":3}},{"start":{"line":357,"column":4},"end":{"line":357,"column":3}}]},"23":{"line":359,"type":"if","locations":[{"start":{"line":359,"column":11},"end":{"line":359,"column":10}},{"start":{"line":359,"column":11},"end":{"line":359,"column":10}}]},"24":{"line":361,"type":"if","locations":[{"start":{"line":361,"column":11},"end":{"line":361,"column":10}},{"start":{"line":361,"column":11},"end":{"line":361,"column":10}}]},"25":{"line":381,"type":"if","locations":[{"start":{"line":381,"column":4},"end":{"line":381,"column":3}},{"start":{"line":381,"column":4},"end":{"line":381,"column":3}}]},"26":{"line":390,"type":"if","locations":[{"start":{"line":390,"column":4},"end":{"line":390,"column":3}},{"start":{"line":390,"column":4},"end":{"line":390,"column":3}}]},"27":{"line":391,"type":"binary-expr","locations":[{"start":{"line":391,"column":17},"end":{"line":391,"column":74}},{"start":{"line":391,"column":78},"end":{"line":391,"column":80}}]},"28":{"line":394,"type":"if","locations":[{"start":{"line":394,"column":6},"end":{"line":394,"column":5}},{"start":{"line":394,"column":6},"end":{"line":394,"column":5}}]},"29":{"line":403,"type":"if","locations":[{"start":{"line":403,"column":4},"end":{"line":403,"column":3}},{"start":{"line":403,"column":4},"end":{"line":403,"column":3}}]},"30":{"line":409,"type":"if","locations":[{"start":{"line":409,"column":4},"end":{"line":409,"column":3}},{"start":{"line":409,"column":4},"end":{"line":409,"column":3}}]},"31":{"line":411,"type":"if","locations":[{"start":{"line":411,"column":8},"end":{"line":411,"column":7}},{"start":{"line":411,"column":8},"end":{"line":411,"column":7}}]},"32":{"line":419,"type":"if","locations":[{"start":{"line":419,"column":4},"end":{"line":419,"column":3}},{"start":{"line":419,"column":4},"end":{"line":419,"column":3}}]},"33":{"line":419,"type":"binary-expr","locations":[{"start":{"line":419,"column":8},"end":{"line":419,"column":15}},{"start":{"line":419,"column":19},"end":{"line":419,"column":48}}]},"34":{"line":445,"type":"if","locations":[{"start":{"line":445,"column":8},"end":{"line":445,"column":7}},{"start":{"line":445,"column":8},"end":{"line":445,"column":7}}]},"35":{"line":455,"type":"if","locations":[{"start":{"line":455,"column":8},"end":{"line":455,"column":7}},{"start":{"line":455,"column":8},"end":{"line":455,"column":7}}]},"36":{"line":459,"type":"if","locations":[{"start":{"line":459,"column":10},"end":{"line":459,"column":9}},{"start":{"line":459,"column":10},"end":{"line":459,"column":9}}]},"37":{"line":462,"type":"cond-expr","locations":[{"start":{"line":462,"column":70},"end":{"line":462,"column":125}},{"start":{"line":462,"column":128},"end":{"line":462,"column":130}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":2,"15":1,"16":2,"17":2,"18":2,"19":1,"20":13,"21":13,"22":13,"23":2,"24":11,"25":13,"26":0,"27":13,"28":1,"29":63,"30":63,"31":63,"32":63,"33":63,"34":1,"35":1,"36":1,"37":19,"38":1,"39":1113,"40":1,"41":7,"42":7,"43":7,"44":1,"45":1,"46":6,"47":6,"48":6,"49":6,"50":6,"51":6,"52":6,"53":6,"54":6,"55":6,"56":6,"57":6,"58":6,"59":0,"60":0,"61":6,"62":6,"63":6,"64":1,"65":6,"66":6,"67":6,"68":6,"69":6,"70":6,"71":1,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":306,"87":306,"88":306,"89":19171,"90":19161,"91":19161,"92":19161,"93":19161,"94":4,"95":19161,"96":521,"97":306,"98":521,"99":1,"100":521,"101":521,"102":521,"103":521,"104":521,"105":521,"106":521,"107":521,"108":521,"109":3966,"110":521,"111":521,"112":521,"113":521,"114":1,"115":15,"116":15,"117":15,"118":15,"119":15,"120":1,"121":0,"122":1,"123":1,"124":1,"125":1,"126":1,"127":0,"128":0,"129":0,"130":0,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":1,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":1,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":1,"176":0,"177":0,"178":1,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":1,"188":6,"189":6,"190":0,"191":0,"192":6,"193":0,"194":6,"195":1,"196":18,"197":18,"198":1,"199":18,"200":0,"201":0,"202":0,"203":1,"204":6,"205":1,"206":1,"207":1,"208":1,"209":1,"210":1,"211":1,"212":1,"213":1,"214":1,"215":1,"216":1,"217":1,"218":1,"219":1,"220":1,"221":1,"222":521,"223":521,"224":521,"225":521,"226":521,"227":521,"228":521,"229":521,"230":521,"231":521,"232":521,"233":521,"234":1,"235":1,"236":1,"237":1,"238":1},"b":{"1":[2,1],"2":[2,11],"3":[0,13],"4":[1,6],"5":[6,0],"6":[0,6],"7":[0,0],"8":[0,1],"9":[19161,10],"10":[4,19157],"11":[521,18640],"12":[521,0],"13":[0,1],"14":[1,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,6],"27":[0,0],"28":[0,6],"29":[18,0],"30":[0,18],"31":[0,0],"32":[1,5],"33":[6,6],"34":[1,0],"35":[521,0],"36":[521,0],"37":[0,521]},"f":{"1":1,"2":2,"3":13,"4":63,"5":1,"6":19,"7":1113,"8":7,"9":0,"10":6,"11":0,"12":1,"13":306,"14":521,"15":521,"16":3966,"17":15,"18":0,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":6,"27":18,"28":18,"29":0,"30":6,"31":1,"32":521,"33":521,"34":521},"code":"import {IQueryResult} from '../../rest/QueryResult';\nimport {Logger} from '../../misc/Logger';\nimport {IComponentDefinition, Component} from '../Base/Component';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {Utils} from '../../utils/Utils';\nimport {Assert} from '../../misc/Assert';\nimport {$$} from '../../utils/Dom';\nimport {InitializationEvents} from '../../events/InitializationEvents';\nimport {SearchInterface, StandaloneSearchInterface} from '../SearchInterface/SearchInterface';\nimport {QueryController} from '../../controllers/QueryController';\nimport {HashUtils} from '../../utils/HashUtils';\nimport {QueryStateModel} from '../../models/QueryStateModel';\nimport {ComponentStateModel} from '../../models/ComponentStateModel';\nimport {ComponentOptionsModel} from '../../models/ComponentOptionsModel';\nimport {IAnalyticsNoMeta, analyticsActionCauseList} from '../Analytics/AnalyticsActionListMeta';\nimport {BaseComponent} from '../Base/BaseComponent';\n\n/**\n * Represent the initialization parameters required to init a new component\n */\nexport interface IInitializationParameters {\n  options: any;\n  result?: IQueryResult;\n  bindings: IComponentBindings;\n}\n\n/**\n * The main purpose of this class is to initialize the framework (a.k.a the code executed when calling Coveo.init).<br/>\n * It's also in charge or registering the available components, as well as the method that we expost to the global Coveo scope.<br/>\n * For example, the Coveo.executeQuery function will be registed in this class by the {@link QueryController}.\n */\nexport class Initialization {\n  private static logger = new Logger('Initialization');\n  private static autoCreateComponents: { [s: string]: any; } = {};\n  private static namedMethods: { [s: string]: any; } = {};\n\n  /**\n   * Register a new set of options for a given element.<br/>\n   * When the element is eventually initialized as a component, those options will be used / merged to create the final option set to use for this component.<br/>\n   * Note that this function should not normally be called directly, but instead using the global Coveo.options function\n   * @param element\n   * @param options\n   */\n  public static registerDefaultOptions(element: HTMLElement, options: {}): void {\n    let existing = element['CoveoDefaultOptions'] || {};\n    let updated = Utils.extendDeep(existing, options);\n    element['CoveoDefaultOptions'] = updated;\n  }\n\n  public static resolveDefaultOptions(element: HTMLElement, options: {}): {} {\n    let optionsForThisElement = element['CoveoDefaultOptions'];\n\n    let optionsSoFar: {};\n    if (Utils.exists(optionsForThisElement)) {\n      optionsSoFar = Utils.extendDeep(optionsForThisElement, options);\n    } else {\n      optionsSoFar = options;\n    }\n\n    if (element.parentElement) {\n      return Initialization.resolveDefaultOptions(element.parentElement, optionsSoFar);\n    } else {\n      return optionsSoFar;\n    }\n  }\n\n  /**\n   * Register a new Component to be recognized by the framework.<br/>\n   * This essentially mean that when we call Coveo.init, the Initialization class will scan the DOM for known component (which have registed themselves with this call) and create a new component on each element.\n   * @param componentClass\n   */\n  public static registerAutoCreateComponent(componentClass: IComponentDefinition): void {\n    Assert.exists(componentClass);\n    Assert.exists(componentClass.ID);\n    Assert.doesNotExists(Initialization.autoCreateComponents[componentClass.ID]);\n    Assert.doesNotExists(Initialization.namedMethods[componentClass.ID]);\n    Initialization.autoCreateComponents[componentClass.ID] = componentClass;\n  }\n\n  /**\n   * Check if a component is already registed, using it's ID (eg : 'Facet')\n   * @param componentClassId\n   * @returns {boolean}\n   */\n  public static isComponentClassIdRegistered(componentClassId: string): boolean {\n    return Utils.exists(Initialization.autoCreateComponents[componentClassId]);\n  }\n\n  /**\n   * Return the list of all known components (the list of ID for each component)\n   * @returns {string[]}\n   */\n  public static getListOfRegisteredComponents() {\n    return _.keys(Initialization.autoCreateComponents);\n  }\n\n  /**\n   * Return the component class definition, using it's ID (eg : 'CoveoFacet')\n   * @param name\n   * @returns {IComponentDefinition}\n   */\n  public static getRegisteredComponent(name: string) {\n    return Initialization.autoCreateComponents[name];\n  }\n\n  /**\n   * Initialize the framework. Note that this function should not normally be called directly, but instead using a globally registered function (eg: Coveo.init), or {@link Initialization.initSearchInterface} or {@link Initialization.initStandaloneSearchInterface} <br/>\n   * Eg : Coveo.init or Coveo.initSearchbox\n   * @param element The element on which to initialize the interface\n   * @param options The options for all component (eg: {Searchbox : {enableSearchAsYouType : true}})\n   * @param initSearchInterfaceFunction The function to execute to create the {@link SearchInterface} component. Different init call will create different {@link SearchInterface}.\n   */\n  public static initializeFramework(element: HTMLElement, options?: any, initSearchInterfaceFunction?: (...args: any[]) => void) {\n    Assert.exists(element);\n    let alreadyInitialized = Component.get(element, QueryController, true);\n    if (alreadyInitialized) {\n      this.logger.error('This DOM element has already been initialized as a search interface, skipping initialization', element);\n      return;\n    }\n\n    options = Initialization.resolveDefaultOptions(element, options);\n\n    Initialization.performInitFunctionsOption(options, InitializationEvents.beforeInitialization);\n    $$(element).trigger(InitializationEvents.beforeInitialization);\n\n    initSearchInterfaceFunction(element, options);\n    Initialization.initExternalComponents(element, options);\n\n    Initialization.performInitFunctionsOption(options, InitializationEvents.afterComponentsInitialization);\n    $$(element).trigger(InitializationEvents.afterComponentsInitialization);\n\n    $$(element).trigger(InitializationEvents.restoreHistoryState);\n\n    Initialization.performInitFunctionsOption(options, InitializationEvents.afterInitialization);\n    $$(element).trigger(InitializationEvents.afterInitialization);\n\n    let searchInterface = <SearchInterface>Component.get(element, SearchInterface);\n\n\n    // Elements that have the coveo-hide-until-loaded class are hidden by default.\n    // Now that we're loaded (and before the first query returns), we can remove\n    // the class. Also, we add a class that gives the opportunity for an animation\n    // to apply at startup, such as a fade-in that comes in by default.\n    let elemsHidden = $$(element).findAll('.coveo-hide-until-loaded');\n    _.each(elemsHidden, (e: HTMLElement) => {\n      $$(e).removeClass('coveo-hide-until-loaded');\n      $$(e).addClass('coveo-show-after-loaded');\n    })\n\n    if (searchInterface.options.autoTriggerQuery) {\n      Initialization.logFirstQueryCause(searchInterface);\n      (<QueryController>Component.get(element, QueryController)).executeQuery();\n    }\n  }\n\n  /**\n   * Create a new standard search interface. This is the function executed when calling Coveo.init\n   * @param element\n   * @param options\n   */\n  public static initSearchInterface(element: HTMLElement, options: any = {}) {\n    options = Initialization.resolveDefaultOptions(element, options);\n    let searchInterface = new SearchInterface(element, options.SearchInterface, options.Analytics);\n    searchInterface.options.originalOptionsObject = options;\n    let initParameters: IInitializationParameters = { options: options, bindings: searchInterface.getBindings() };\n    Initialization.automaticallyCreateComponentsInside(element, initParameters);\n  }\n\n  /**\n   * Create a new standalone search interface ( standalone search box ). This is the function executed when calling Coveo.initSearchbox\n   * @param element\n   * @param options\n   */\n  public static initStandaloneSearchInterface(element: HTMLElement, options: any = {}) {\n    options = Initialization.resolveDefaultOptions(element, options);\n    let searchInterface = new StandaloneSearchInterface(element, options.StandaloneSearchInterface, options.Analytics);\n    searchInterface.options.originalOptionsObject = options;\n    let initParameters: IInitializationParameters = { options: options, bindings: searchInterface.getBindings() };\n    Initialization.automaticallyCreateComponentsInside(element, initParameters);\n  }\n\n  /**\n   * Create a new recommendation search interface. This is the function executed when calling Coveo.initRecommendation\n   * @param element\n   * @param options\n   */\n  public static initRecommendationInterface(element: HTMLElement, options: any = {}) {\n    options = Initialization.resolveDefaultOptions(element, options);\n    let recommendation = new window['Coveo']['Recommendation'](element, options.Recommendation, options.Analytics);\n    recommendation.options.originalOptionsObject = options;\n    let initParameters: IInitializationParameters = { options: options, bindings: recommendation.getBindings() };\n    Initialization.automaticallyCreateComponentsInside(element, initParameters);\n  }\n\n  /**\n   * Scan the element and all it's children for known component. Initialize every known component found\n   * @param element The element for which to scan it's children\n   * @param initParameters Needed parameters to initialize all the children components\n   * @param ignore An optional list of component ID to ignore and skip when scanning for known components\n   */\n  public static automaticallyCreateComponentsInside(element: HTMLElement, initParameters: IInitializationParameters, ignore?: string[]) {\n    Assert.exists(element);\n\n    let codeToExecute: { (): void }[] = [];\n\n    for (let componentClassId in Initialization.autoCreateComponents) {\n      if (!_.contains(ignore, componentClassId)) {\n        let componentClass = Initialization.autoCreateComponents[componentClassId];\n        let classname = Component.computeCssClassName(componentClass);\n        let elements = $$(element).findAll('.' + classname);\n        if ($$(element).hasClass(classname)) {\n          elements.push(element);\n        }\n        if (elements.length != 0) {\n          // Queue the code that will scan the now resolved selector to after we've\n          // finished evaluating all selectors. This ensures that if a component\n          // constructor adds child components under his tags, those won't get auto-\n          // initialize by this invocation of this method. Components inserting child\n          // components are responsible of invoking this method again if they want\n          // child components to be auto-initialized.\n          //\n          // Explanation: If we don't do that, child components for which selector have\n          // already been evaluated won't be initialized, whereas those that are next\n          // in the list will be.\n          codeToExecute.push(Initialization.createFunctionThatInitializesComponentOnElements(elements, componentClassId, componentClass, initParameters));\n        }\n      }\n    }\n\n    // Now that all selectors are executed, let's really initialize the components.\n    _.each(codeToExecute, (code) => code());\n  }\n\n  /**\n   * Create a new component on the given element\n   * @param componentClassId The ID of the component to initialize (eg : 'CoveoFacet')\n   * @param element The HTMLElement on which to initialize\n   * @param initParameters Needed parameters to initialize the component\n   * @returns {Component}\n   */\n  public static createComponentOfThisClassOnElement(componentClassId: string, element: HTMLElement, initParameters?: IInitializationParameters): Component {\n    Assert.isNonEmptyString(componentClassId);\n    Assert.exists(element);\n\n    let componentClass = Initialization.autoCreateComponents[componentClassId];\n    Assert.exists(componentClass);\n\n    let bindings: IComponentBindings = {};\n    let options = {};\n    let result: IQueryResult = undefined;\n\n    if (initParameters != undefined) {\n      _.each(<{ [key: string]: any }>initParameters.bindings, (value, key) => {\n        bindings[key] = value;\n      });\n      options = initParameters.options;\n      result = initParameters.result;\n    }\n\n    Initialization.logger.trace('Creating component of class ' + componentClassId, element, options);\n    return new componentClass(element, options, bindings, result);\n  }\n\n  /**\n   * Register a new globally available method in the Coveo namespace. (eg: Coveo.init)\n   * @param methodName The method name to register\n   * @param handler The function to execute when the method is called\n   */\n  public static registerNamedMethod(methodName: string, handler: (element: HTMLElement, ...args: any[]) => any) {\n    Assert.isNonEmptyString(methodName);\n    Assert.doesNotExists(Initialization.autoCreateComponents[methodName]);\n    Assert.doesNotExists(Initialization.namedMethods[methodName]);\n    Assert.exists(handler);\n    Initialization.namedMethods[methodName] = handler;\n  }\n\n  /**\n   * Check if the method is already registed\n   * @param methodName\n   * @returns {boolean}\n   */\n  public static isNamedMethodRegistered(methodName: string): boolean {\n    return Utils.exists(Initialization.namedMethods[methodName]);\n  }\n\n  /**\n   * 'Monkey patch' (replace the function with a new one) a given method on a component instance\n   * @param methodName\n   * @param element\n   * @param handler\n   */\n  public static monkeyPatchComponentMethod(methodName: string, element: HTMLElement, handler: (...args: any[]) => any) {\n    Assert.isNonEmptyString(methodName);\n    Assert.exists(handler);\n\n    let componentClass;\n    if (methodName.indexOf('.') > 0) {\n      let splitArg = methodName.split('.');\n      Assert.check(splitArg.length == 2, 'Invalid method name, correct syntax is CoveoComponent.methodName.');\n      componentClass = splitArg[0];\n      methodName = <string>splitArg[1];\n    }\n\n    let boundComponent = Component.get(element, componentClass);\n    Assert.exists(boundComponent);\n    Assert.exists(boundComponent[methodName]);\n\n    let originalMethodName = '__' + methodName;\n    if (!Utils.exists(boundComponent[originalMethodName])) {\n      boundComponent[originalMethodName] = boundComponent[methodName];\n    }\n\n    boundComponent[methodName] = handler;\n  }\n\n  public static initBoxInterface(element: HTMLElement, options: any = {}, type: string = 'Standard', injectMarkup: boolean = true) {\n    options = Initialization.resolveDefaultOptions(element, options);\n    let fromInitTypeToBoxReference = 'Box';\n    if (type != 'Standard') {\n      fromInitTypeToBoxReference += 'For' + type;\n    }\n    let boxRef = Component.getComponentRef(fromInitTypeToBoxReference);\n    if (boxRef) {\n      new Logger(element).info('Initializing box of type ' + fromInitTypeToBoxReference);\n      let injectFunction: () => any = injectMarkup ? boxRef.getInjection : () => {\n      };\n      let box = new boxRef(element, options[fromInitTypeToBoxReference], options.Analytics, injectFunction, options);\n      box.options.originalOptionsObject = options;\n      let initParameters: IInitializationParameters = { options: options, bindings: box.getBindings() };\n      Initialization.automaticallyCreateComponentsInside(element, initParameters);\n    } else {\n      new Logger(element).error('Trying to initialize box of type : ' + fromInitTypeToBoxReference + ' but not found in code (not compiled)!');\n      Assert.fail('Cannot initialize unknown type of box');\n    }\n  }\n\n  public static dispatchNamedMethodCall(methodName: string, element: HTMLElement, args: any[]): any {\n    Assert.isNonEmptyString(methodName);\n    Assert.exists(element);\n\n    let namedMethodHandler: (element: HTMLElement, ...args: any[]) => any = Initialization.namedMethods[methodName];\n    Assert.exists(namedMethodHandler);\n\n    Initialization.logger.trace('Dispatching named method call of ' + methodName, element, args);\n    if (args.length != 0) {\n      return namedMethodHandler.apply(null, [element].concat(args));\n    } else {\n      return namedMethodHandler.apply(null, [element]);\n    }\n\n  }\n\n  public static dispatchNamedMethodCallOrComponentCreation(token: string, element: HTMLElement, args: any[]): any {\n    Assert.isNonEmptyString(token);\n    Assert.exists(element);\n\n    if (Initialization.isNamedMethodRegistered(token)) {\n      return Initialization.dispatchNamedMethodCall(token, element, args);\n    } else if (Initialization.isComponentClassIdRegistered(token)) {\n      return Initialization.createComponentOfThisClassOnElement(token, element, args[0]);\n    } else if (Initialization.isThereASingleComponentBoundToThisElement(element)) {\n      return Initialization.dispatchMethodCallOnBoundComponent(token, element, args);\n    } else {\n      Assert.fail('No method or component named ' + token + ' are registered.');\n    }\n  }\n\n  private static isThereASingleComponentBoundToThisElement(element: HTMLElement): boolean {\n    Assert.exists(element);\n    return Utils.exists(Component.get(element));\n  }\n\n  private static dispatchMethodCallOnBoundComponent(methodName: string, element: HTMLElement, args: any[]): any {\n    Assert.isNonEmptyString(methodName);\n    Assert.exists(element);\n\n    let boundComponent = Component.get(element);\n    Assert.exists(boundComponent);\n\n    let method = boundComponent[methodName];\n    if (Utils.exists(method)) {\n      return method.apply(boundComponent, args);\n    } else {\n      Assert.fail('No method named ' + methodName + ' exist on component ' + boundComponent.type);\n    }\n  }\n\n  private static logFirstQueryCause(searchInterface: SearchInterface) {\n    let firstQueryCause = HashUtils.getValue('firstQueryCause', HashUtils.getHash());\n    if (firstQueryCause != null) {\n      let meta = HashUtils.getValue('firstQueryMeta', HashUtils.getHash()) || {};\n      searchInterface.usageAnalytics.logSearchEvent<IAnalyticsNoMeta>(analyticsActionCauseList[firstQueryCause], meta);\n    } else {\n      if (Utils.isNonEmptyString(searchInterface.getBindings().queryStateModel.get('q'))) {\n        searchInterface.usageAnalytics.logSearchEvent<IAnalyticsNoMeta>(analyticsActionCauseList.searchFromLink, {});\n      } else {\n        searchInterface.usageAnalytics.logSearchEvent<IAnalyticsNoMeta>(analyticsActionCauseList.interfaceLoad, {});\n      }\n    }\n  }\n\n  private static performInitFunctionsOption(options, event: string) {\n    if (Utils.exists(options)) {\n      Initialization.performFunctions(options[event]);\n    }\n  }\n\n  private static performFunctions(option) {\n    if (Utils.exists(option)) {\n      _.each(option, (func: () => void) => {\n        if (typeof func == 'function') {\n          func()\n        }\n      })\n    }\n  }\n\n  private static initExternalComponents(element: HTMLElement, options?: any) {\n    if (options && options['externalComponents']) {\n      let searchInterface = <SearchInterface>Component.get(element, SearchInterface);\n      let queryStateModel = <QueryStateModel>Component.get(element, QueryStateModel);\n      let componentStateModel = <ComponentStateModel>Component.get(element, ComponentStateModel);\n      let queryController = <QueryController>Component.get(element, QueryController);\n      let componentOptionsModel = <ComponentOptionsModel>Component.get(element, ComponentOptionsModel);\n      let usageAnalytics = searchInterface.usageAnalytics;\n      Assert.exists(searchInterface);\n      Assert.exists(queryStateModel);\n      Assert.exists(queryController);\n      Assert.exists(componentStateModel);\n      Assert.exists(usageAnalytics);\n      let initParameters: IInitializationParameters = {\n        options: options,\n        bindings: {\n          searchInterface: searchInterface,\n          queryStateModel: queryStateModel,\n          queryController: queryController,\n          usageAnalytics: usageAnalytics,\n          componentStateModel: componentStateModel,\n          componentOptionsModel: componentOptionsModel,\n          root: element\n        }\n      };\n      _.each(options['externalComponents'], (externalComponent: HTMLElement) => {\n        let elementToInstantiate = externalComponent;\n        if (Utils.isHtmlElement(elementToInstantiate)) {\n          Initialization.automaticallyCreateComponentsInside(elementToInstantiate, initParameters);\n        }\n      })\n    }\n  }\n\n  private static createFunctionThatInitializesComponentOnElements(elements: Element[], componentClassId: string, componentClass: BaseComponent, initParameters: IInitializationParameters) {\n    return () => {\n      _.each(elements, (matchingElement: HTMLElement) => {\n        if (Component.get(matchingElement, componentClassId) == null) {\n          // If options were provided, lookup options for this component class and\n          // also for the element id. Merge them and pass those to the factory method.\n          let optionsToUse = undefined;\n          if (Utils.exists(initParameters.options)) {\n            let optionsForComponentClass = initParameters.options[componentClassId];\n            let optionsForElementId = initParameters.options[matchingElement.id];\n            let initOptions = initParameters.options['initOptions'] ? initParameters.options['initOptions'][componentClassId] : {};\n            optionsToUse = Utils.extendDeep(optionsForElementId, initOptions);\n            optionsToUse = Utils.extendDeep(optionsForComponentClass, optionsToUse);\n          }\n          let initParamToUse = _.extend({}, initParameters, { options: optionsToUse });\n          Initialization.createComponentOfThisClassOnElement(componentClass['ID'], matchingElement, initParamToUse);\n        }\n      });\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Base/Initialization.ts\n **/","l":{"2":1,"3":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"32":2,"33":1,"34":1,"35":1,"44":1,"45":2,"46":2,"47":2,"50":1,"51":13,"53":13,"54":13,"55":2,"57":11,"60":13,"61":0,"63":13,"72":1,"73":63,"74":63,"75":63,"76":63,"77":63,"85":1,"86":1,"93":1,"94":19,"102":1,"103":1113,"113":1,"114":7,"115":7,"116":7,"117":1,"118":1,"121":6,"123":6,"124":6,"126":6,"127":6,"129":6,"130":6,"132":6,"134":6,"135":6,"137":6,"144":6,"145":6,"146":0,"147":0,"150":6,"151":6,"152":6,"161":6,"162":6,"163":6,"164":6,"165":6,"166":6,"174":1,"175":0,"176":0,"177":0,"178":0,"179":0,"187":1,"188":1,"189":1,"190":1,"191":1,"192":1,"201":1,"202":306,"204":306,"206":306,"207":19171,"208":19161,"209":19161,"210":19161,"211":19161,"212":4,"214":19161,"225":521,"231":521,"241":1,"242":521,"243":521,"245":521,"246":521,"248":521,"249":521,"250":521,"252":521,"253":521,"254":3966,"256":521,"257":521,"260":521,"261":521,"269":1,"270":15,"271":15,"272":15,"273":15,"274":15,"282":1,"283":0,"292":1,"293":1,"294":1,"296":1,"297":1,"298":0,"299":0,"300":0,"301":0,"304":1,"305":1,"306":1,"308":1,"309":1,"310":1,"313":1,"316":1,"317":0,"318":0,"319":0,"320":0,"322":0,"323":0,"324":0,"325":0,"327":0,"328":0,"329":0,"330":0,"332":0,"333":0,"337":1,"338":0,"339":0,"341":0,"342":0,"344":0,"345":0,"346":0,"348":0,"353":1,"354":0,"355":0,"357":0,"358":0,"359":0,"360":0,"361":0,"362":0,"364":0,"368":1,"369":0,"370":0,"373":1,"374":0,"375":0,"377":0,"378":0,"380":0,"381":0,"382":0,"384":0,"388":1,"389":6,"390":6,"391":0,"392":0,"394":6,"395":0,"397":6,"402":1,"403":18,"404":18,"408":1,"409":18,"410":0,"411":0,"412":0,"418":1,"419":6,"420":1,"421":1,"422":1,"423":1,"424":1,"425":1,"426":1,"427":1,"428":1,"429":1,"430":1,"431":1,"443":1,"444":1,"445":1,"446":1,"452":1,"453":521,"454":521,"455":521,"458":521,"459":521,"460":521,"461":521,"462":521,"463":521,"464":521,"466":521,"467":521,"472":1}},"src/ui/Base/Component.ts":{"path":"src/ui/Base/Component.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":61}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":69}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":73}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":66}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":73}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":75}},"10":{"start":{"line":12,"column":0},"end":{"line":12,"column":46}},"11":{"start":{"line":54,"column":0},"end":{"line":245,"column":1}},"12":{"start":{"line":54,"column":31},"end":{"line":54,"column":44}},"13":{"start":{"line":98,"column":2},"end":{"line":112,"column":3}},"14":{"start":{"line":98,"column":64},"end":{"line":98,"column":97}},"15":{"start":{"line":99,"column":4},"end":{"line":99,"column":25}},"16":{"start":{"line":98,"column":21},"end":{"line":98,"column":41}},"17":{"start":{"line":98,"column":50},"end":{"line":98,"column":62}},"18":{"start":{"line":59,"column":9},"end":{"line":59,"column":42}},"19":{"start":{"line":100,"column":4},"end":{"line":100,"column":52}},"20":{"start":{"line":101,"column":4},"end":{"line":101,"column":85}},"21":{"start":{"line":102,"column":4},"end":{"line":102,"column":97}},"22":{"start":{"line":103,"column":4},"end":{"line":103,"column":85}},"23":{"start":{"line":104,"column":4},"end":{"line":104,"column":85}},"24":{"start":{"line":105,"column":4},"end":{"line":105,"column":70}},"25":{"start":{"line":106,"column":4},"end":{"line":106,"column":103}},"26":{"start":{"line":107,"column":4},"end":{"line":107,"column":52}},"27":{"start":{"line":107,"column":34},"end":{"line":107,"column":50}},"28":{"start":{"line":109,"column":4},"end":{"line":111,"column":5}},"29":{"start":{"line":110,"column":6},"end":{"line":110,"column":55}},"30":{"start":{"line":118,"column":9},"end":{"line":128,"column":3}},"31":{"start":{"line":119,"column":4},"end":{"line":127,"column":6}},"32":{"start":{"line":130,"column":9},"end":{"line":132,"column":3}},"33":{"start":{"line":134,"column":9},"end":{"line":136,"column":3}},"34":{"start":{"line":135,"column":4},"end":{"line":135,"column":84}},"35":{"start":{"line":138,"column":9},"end":{"line":141,"column":3}},"36":{"start":{"line":139,"column":4},"end":{"line":139,"column":90}},"37":{"start":{"line":140,"column":4},"end":{"line":140,"column":81}},"38":{"start":{"line":143,"column":9},"end":{"line":145,"column":3}},"39":{"start":{"line":144,"column":4},"end":{"line":144,"column":84}},"40":{"start":{"line":147,"column":9},"end":{"line":149,"column":3}},"41":{"start":{"line":148,"column":4},"end":{"line":148,"column":92}},"42":{"start":{"line":151,"column":9},"end":{"line":153,"column":3}},"43":{"start":{"line":152,"column":4},"end":{"line":152,"column":84}},"44":{"start":{"line":155,"column":9},"end":{"line":157,"column":3}},"45":{"start":{"line":156,"column":4},"end":{"line":156,"column":96}},"46":{"start":{"line":159,"column":9},"end":{"line":162,"column":3}},"47":{"start":{"line":160,"column":4},"end":{"line":160,"column":56}},"48":{"start":{"line":161,"column":4},"end":{"line":161,"column":124}},"49":{"start":{"line":164,"column":9},"end":{"line":166,"column":3}},"50":{"start":{"line":165,"column":4},"end":{"line":165,"column":45}},"51":{"start":{"line":176,"column":9},"end":{"line":193,"column":3}},"52":{"start":{"line":177,"column":4},"end":{"line":177,"column":27}},"53":{"start":{"line":179,"column":4},"end":{"line":192,"column":5}},"54":{"start":{"line":180,"column":6},"end":{"line":180,"column":86}},"55":{"start":{"line":181,"column":11},"end":{"line":192,"column":5}},"56":{"start":{"line":182,"column":6},"end":{"line":182,"column":39}},"57":{"start":{"line":183,"column":6},"end":{"line":183,"column":89}},"58":{"start":{"line":187,"column":6},"end":{"line":187,"column":80}},"59":{"start":{"line":188,"column":6},"end":{"line":190,"column":7}},"60":{"start":{"line":189,"column":8},"end":{"line":189,"column":143}},"61":{"start":{"line":191,"column":6},"end":{"line":191,"column":32}},"62":{"start":{"line":195,"column":9},"end":{"line":199,"column":3}},"63":{"start":{"line":195,"column":41},"end":{"line":195,"column":65}},"64":{"start":{"line":196,"column":4},"end":{"line":196,"column":60}},"65":{"start":{"line":197,"column":4},"end":{"line":197,"column":56}},"66":{"start":{"line":198,"column":4},"end":{"line":198,"column":40}},"67":{"start":{"line":201,"column":9},"end":{"line":206,"column":3}},"68":{"start":{"line":202,"column":4},"end":{"line":202,"column":27}},"69":{"start":{"line":203,"column":4},"end":{"line":203,"column":26}},"70":{"start":{"line":204,"column":4},"end":{"line":204,"column":40}},"71":{"start":{"line":205,"column":4},"end":{"line":205,"column":36}},"72":{"start":{"line":208,"column":9},"end":{"line":232,"column":3}},"73":{"start":{"line":209,"column":4},"end":{"line":209,"column":27}},"74":{"start":{"line":210,"column":4},"end":{"line":210,"column":34}},"75":{"start":{"line":211,"column":4},"end":{"line":211,"column":37}},"76":{"start":{"line":213,"column":4},"end":{"line":213,"column":14}},"77":{"start":{"line":214,"column":4},"end":{"line":226,"column":5}},"78":{"start":{"line":215,"column":6},"end":{"line":215,"column":22}},"79":{"start":{"line":217,"column":6},"end":{"line":217,"column":100}},"80":{"start":{"line":218,"column":6},"end":{"line":225,"column":7}},"81":{"start":{"line":219,"column":8},"end":{"line":219,"column":98}},"82":{"start":{"line":220,"column":8},"end":{"line":222,"column":9}},"83":{"start":{"line":221,"column":10},"end":{"line":221,"column":24}},"84":{"start":{"line":224,"column":8},"end":{"line":224,"column":25}},"85":{"start":{"line":227,"column":4},"end":{"line":231,"column":5}},"86":{"start":{"line":228,"column":6},"end":{"line":228,"column":91}},"87":{"start":{"line":230,"column":6},"end":{"line":230,"column":23}},"88":{"start":{"line":235,"column":9},"end":{"line":244,"column":3}},"89":{"start":{"line":236,"column":4},"end":{"line":236,"column":20}},"90":{"start":{"line":237,"column":4},"end":{"line":239,"column":5}},"91":{"start":{"line":238,"column":6},"end":{"line":238,"column":27}},"92":{"start":{"line":240,"column":4},"end":{"line":240,"column":57}},"93":{"start":{"line":241,"column":4},"end":{"line":243,"column":6}},"94":{"start":{"line":242,"column":6},"end":{"line":242,"column":53}},"95":{"start":{"line":245,"column":0},"end":{"line":245,"column":1}},"96":{"start":{"line":54,"column":13},"end":{"line":245,"column":1}},"97":{"start":{"line":255,"column":0},"end":{"line":400,"column":1}},"98":{"start":{"line":260,"column":2},"end":{"line":262,"column":3}},"99":{"start":{"line":260,"column":21},"end":{"line":260,"column":37}},"100":{"start":{"line":261,"column":4},"end":{"line":261,"column":25}},"101":{"start":{"line":273,"column":9},"end":{"line":281,"column":3}},"102":{"start":{"line":274,"column":4},"end":{"line":280,"column":5}},"103":{"start":{"line":275,"column":6},"end":{"line":275,"column":36}},"104":{"start":{"line":276,"column":6},"end":{"line":276,"column":62}},"105":{"start":{"line":278,"column":6},"end":{"line":278,"column":24}},"106":{"start":{"line":279,"column":6},"end":{"line":279,"column":54}},"107":{"start":{"line":293,"column":9},"end":{"line":301,"column":3}},"108":{"start":{"line":294,"column":4},"end":{"line":300,"column":5}},"109":{"start":{"line":295,"column":6},"end":{"line":295,"column":36}},"110":{"start":{"line":296,"column":6},"end":{"line":296,"column":63}},"111":{"start":{"line":298,"column":6},"end":{"line":298,"column":24}},"112":{"start":{"line":299,"column":6},"end":{"line":299,"column":55}},"113":{"start":{"line":309,"column":9},"end":{"line":311,"column":3}},"114":{"start":{"line":310,"column":4},"end":{"line":310,"column":45}},"115":{"start":{"line":320,"column":9},"end":{"line":322,"column":3}},"116":{"start":{"line":321,"column":4},"end":{"line":321,"column":46}},"117":{"start":{"line":331,"column":9},"end":{"line":333,"column":3}},"118":{"start":{"line":332,"column":4},"end":{"line":332,"column":83}},"119":{"start":{"line":343,"column":9},"end":{"line":345,"column":3}},"120":{"start":{"line":344,"column":4},"end":{"line":344,"column":84}},"121":{"start":{"line":355,"column":9},"end":{"line":365,"column":3}},"122":{"start":{"line":356,"column":4},"end":{"line":364,"column":13}},"123":{"start":{"line":357,"column":6},"end":{"line":363,"column":7}},"124":{"start":{"line":358,"column":8},"end":{"line":358,"column":38}},"125":{"start":{"line":359,"column":8},"end":{"line":359,"column":40}},"126":{"start":{"line":361,"column":8},"end":{"line":361,"column":26}},"127":{"start":{"line":362,"column":8},"end":{"line":362,"column":32}},"128":{"start":{"line":372,"column":10},"end":{"line":389,"column":3}},"129":{"start":{"line":372,"column":2},"end":{"line":389,"column":3}},"130":{"start":{"line":373,"column":4},"end":{"line":388,"column":6}},"131":{"start":{"line":373,"column":12},"end":{"line":373,"column":26}},"132":{"start":{"line":374,"column":6},"end":{"line":387,"column":7}},"133":{"start":{"line":375,"column":8},"end":{"line":385,"column":9}},"134":{"start":{"line":376,"column":10},"end":{"line":378,"column":11}},"135":{"start":{"line":377,"column":12},"end":{"line":377,"column":36}},"136":{"start":{"line":379,"column":15},"end":{"line":385,"column":9}},"137":{"start":{"line":380,"column":10},"end":{"line":384,"column":11}},"138":{"start":{"line":381,"column":12},"end":{"line":381,"column":29}},"139":{"start":{"line":383,"column":12},"end":{"line":383,"column":21}},"140":{"start":{"line":386,"column":8},"end":{"line":386,"column":44}},"141":{"start":{"line":391,"column":10},"end":{"line":399,"column":3}},"142":{"start":{"line":392,"column":4},"end":{"line":392,"column":16}},"143":{"start":{"line":393,"column":4},"end":{"line":397,"column":5}},"144":{"start":{"line":394,"column":6},"end":{"line":394,"column":79}},"145":{"start":{"line":396,"column":6},"end":{"line":396,"column":67}},"146":{"start":{"line":398,"column":4},"end":{"line":398,"column":19}},"147":{"start":{"line":400,"column":0},"end":{"line":400,"column":1}},"148":{"start":{"line":255,"column":13},"end":{"line":400,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1774)","line":54,"loc":{"start":{"line":54,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Component","line":98,"loc":{"start":{"line":98,"column":2},"end":{"line":98,"column":97}}},"3":{"name":"(anonymous_1776)","line":107,"loc":{"start":{"line":107,"column":28},"end":{"line":107,"column":33}}},"4":{"name":"(anonymous_1777)","line":118,"loc":{"start":{"line":118,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_1778)","line":130,"loc":{"start":{"line":130,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_1779)","line":134,"loc":{"start":{"line":134,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_1780)","line":138,"loc":{"start":{"line":138,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_1781)","line":143,"loc":{"start":{"line":143,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_1782)","line":147,"loc":{"start":{"line":147,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_1783)","line":151,"loc":{"start":{"line":151,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_1784)","line":155,"loc":{"start":{"line":155,"column":2},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_1785)","line":159,"loc":{"start":{"line":159,"column":2},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_1786)","line":164,"loc":{"start":{"line":164,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_1787)","line":176,"loc":{"start":{"line":176,"column":2},"end":{"line":176,"column":74}}},"15":{"name":"(anonymous_1788)","line":195,"loc":{"start":{"line":195,"column":2},"end":{"line":195,"column":65}}},"16":{"name":"(anonymous_1789)","line":201,"loc":{"start":{"line":201,"column":2},"end":{"line":201,"column":71}}},"17":{"name":"(anonymous_1790)","line":208,"loc":{"start":{"line":208,"column":2},"end":{"line":208,"column":65}}},"18":{"name":"(anonymous_1791)","line":235,"loc":{"start":{"line":235,"column":2},"end":{"line":235,"column":54}}},"19":{"name":"(anonymous_1792)","line":241,"loc":{"start":{"line":241,"column":30},"end":{"line":241,"column":36}}},"20":{"name":"(anonymous_1793)","line":255,"loc":{"start":{"line":255,"column":0},"end":{"line":null,"column":-1}}},"21":{"name":"ComponentEvents","line":260,"loc":{"start":{"line":260,"column":2},"end":{"line":260,"column":37}}},"22":{"name":"(anonymous_1795)","line":273,"loc":{"start":{"line":273,"column":2},"end":{"line":273,"column":54}}},"23":{"name":"(anonymous_1796)","line":293,"loc":{"start":{"line":293,"column":2},"end":{"line":293,"column":55}}},"24":{"name":"(anonymous_1797)","line":309,"loc":{"start":{"line":309,"column":2},"end":{"line":309,"column":66}}},"25":{"name":"(anonymous_1798)","line":320,"loc":{"start":{"line":320,"column":2},"end":{"line":320,"column":67}}},"26":{"name":"(anonymous_1799)","line":331,"loc":{"start":{"line":331,"column":2},"end":{"line":331,"column":90}}},"27":{"name":"(anonymous_1800)","line":343,"loc":{"start":{"line":343,"column":2},"end":{"line":343,"column":91}}},"28":{"name":"(anonymous_1801)","line":355,"loc":{"start":{"line":355,"column":2},"end":{"line":355,"column":55}}},"29":{"name":"(anonymous_1802)","line":356,"loc":{"start":{"line":356,"column":29},"end":{"line":null,"column":-1}}},"30":{"name":"(anonymous_1803)","line":372,"loc":{"start":{"line":372,"column":2},"end":{"line":372,"column":44}}},"31":{"name":"(anonymous_1804)","line":373,"loc":{"start":{"line":373,"column":11},"end":{"line":null,"column":-1}}},"32":{"name":"(anonymous_1805)","line":391,"loc":{"start":{"line":391,"column":2},"end":{"line":391,"column":70}}}},"branchMap":{"1":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":64},"end":{"line":98,"column":63}},{"start":{"line":98,"column":64},"end":{"line":98,"column":63}}]},"2":{"line":100,"type":"binary-expr","locations":[{"start":{"line":100,"column":16},"end":{"line":100,"column":29}},{"start":{"line":100,"column":33},"end":{"line":100,"column":51}}]},"3":{"line":101,"type":"binary-expr","locations":[{"start":{"line":101,"column":27},"end":{"line":101,"column":51}},{"start":{"line":101,"column":55},"end":{"line":101,"column":84}}]},"4":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":31},"end":{"line":102,"column":59}},{"start":{"line":102,"column":63},"end":{"line":102,"column":96}}]},"5":{"line":103,"type":"binary-expr","locations":[{"start":{"line":103,"column":27},"end":{"line":103,"column":51}},{"start":{"line":103,"column":55},"end":{"line":103,"column":84}}]},"6":{"line":104,"type":"binary-expr","locations":[{"start":{"line":104,"column":27},"end":{"line":104,"column":51}},{"start":{"line":104,"column":55},"end":{"line":104,"column":84}}]},"7":{"line":105,"type":"binary-expr","locations":[{"start":{"line":105,"column":26},"end":{"line":105,"column":49}},{"start":{"line":105,"column":53},"end":{"line":105,"column":69}}]},"8":{"line":106,"type":"binary-expr","locations":[{"start":{"line":106,"column":33},"end":{"line":106,"column":63}},{"start":{"line":106,"column":67},"end":{"line":106,"column":102}}]},"9":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":4},"end":{"line":109,"column":3}},{"start":{"line":109,"column":4},"end":{"line":109,"column":3}}]},"10":{"line":140,"type":"cond-expr","locations":[{"start":{"line":140,"column":37},"end":{"line":140,"column":68}},{"start":{"line":140,"column":71},"end":{"line":140,"column":80}}]},"11":{"line":161,"type":"cond-expr","locations":[{"start":{"line":161,"column":65},"end":{"line":161,"column":95}},{"start":{"line":161,"column":98},"end":{"line":161,"column":123}}]},"12":{"line":161,"type":"binary-expr","locations":[{"start":{"line":161,"column":12},"end":{"line":161,"column":27}},{"start":{"line":161,"column":31},"end":{"line":161,"column":61}}]},"13":{"line":179,"type":"if","locations":[{"start":{"line":179,"column":4},"end":{"line":179,"column":3}},{"start":{"line":179,"column":4},"end":{"line":179,"column":3}}]},"14":{"line":181,"type":"if","locations":[{"start":{"line":181,"column":11},"end":{"line":181,"column":10}},{"start":{"line":181,"column":11},"end":{"line":181,"column":10}}]},"15":{"line":188,"type":"if","locations":[{"start":{"line":188,"column":6},"end":{"line":188,"column":5}},{"start":{"line":188,"column":6},"end":{"line":188,"column":5}}]},"16":{"line":195,"type":"if","locations":[{"start":{"line":195,"column":41},"end":{"line":195,"column":40}},{"start":{"line":195,"column":41},"end":{"line":195,"column":40}}]},"17":{"line":197,"type":"binary-expr","locations":[{"start":{"line":197,"column":17},"end":{"line":197,"column":24}},{"start":{"line":197,"column":28},"end":{"line":197,"column":54}}]},"18":{"line":214,"type":"if","locations":[{"start":{"line":214,"column":4},"end":{"line":214,"column":3}},{"start":{"line":214,"column":4},"end":{"line":214,"column":3}}]},"19":{"line":218,"type":"if","locations":[{"start":{"line":218,"column":6},"end":{"line":218,"column":5}},{"start":{"line":218,"column":6},"end":{"line":218,"column":5}}]},"20":{"line":218,"type":"binary-expr","locations":[{"start":{"line":218,"column":10},"end":{"line":218,"column":19}},{"start":{"line":218,"column":23},"end":{"line":218,"column":43}}]},"21":{"line":220,"type":"if","locations":[{"start":{"line":220,"column":8},"end":{"line":220,"column":7}},{"start":{"line":220,"column":8},"end":{"line":220,"column":7}}]},"22":{"line":227,"type":"if","locations":[{"start":{"line":227,"column":4},"end":{"line":227,"column":3}},{"start":{"line":227,"column":4},"end":{"line":227,"column":3}}]},"23":{"line":237,"type":"if","locations":[{"start":{"line":237,"column":4},"end":{"line":237,"column":3}},{"start":{"line":237,"column":4},"end":{"line":237,"column":3}}]},"24":{"line":274,"type":"if","locations":[{"start":{"line":274,"column":4},"end":{"line":274,"column":3}},{"start":{"line":274,"column":4},"end":{"line":274,"column":3}}]},"25":{"line":274,"type":"binary-expr","locations":[{"start":{"line":274,"column":9},"end":{"line":274,"column":15}},{"start":{"line":274,"column":19},"end":{"line":274,"column":36}},{"start":{"line":274,"column":41},"end":{"line":274,"column":75}}]},"26":{"line":294,"type":"if","locations":[{"start":{"line":294,"column":4},"end":{"line":294,"column":3}},{"start":{"line":294,"column":4},"end":{"line":294,"column":3}}]},"27":{"line":357,"type":"if","locations":[{"start":{"line":357,"column":6},"end":{"line":357,"column":5}},{"start":{"line":357,"column":6},"end":{"line":357,"column":5}}]},"28":{"line":374,"type":"if","locations":[{"start":{"line":374,"column":6},"end":{"line":374,"column":5}},{"start":{"line":374,"column":6},"end":{"line":374,"column":5}}]},"29":{"line":375,"type":"if","locations":[{"start":{"line":375,"column":8},"end":{"line":375,"column":7}},{"start":{"line":375,"column":8},"end":{"line":375,"column":7}}]},"30":{"line":375,"type":"binary-expr","locations":[{"start":{"line":375,"column":12},"end":{"line":375,"column":16}},{"start":{"line":375,"column":20},"end":{"line":375,"column":50}}]},"31":{"line":376,"type":"if","locations":[{"start":{"line":376,"column":10},"end":{"line":376,"column":9}},{"start":{"line":376,"column":10},"end":{"line":376,"column":9}}]},"32":{"line":379,"type":"if","locations":[{"start":{"line":379,"column":15},"end":{"line":379,"column":14}},{"start":{"line":379,"column":15},"end":{"line":379,"column":14}}]},"33":{"line":379,"type":"binary-expr","locations":[{"start":{"line":379,"column":19},"end":{"line":379,"column":23}},{"start":{"line":379,"column":27},"end":{"line":379,"column":43}},{"start":{"line":379,"column":47},"end":{"line":379,"column":88}}]},"34":{"line":380,"type":"if","locations":[{"start":{"line":380,"column":10},"end":{"line":380,"column":9}},{"start":{"line":380,"column":10},"end":{"line":380,"column":9}}]},"35":{"line":393,"type":"if","locations":[{"start":{"line":393,"column":4},"end":{"line":393,"column":3}},{"start":{"line":393,"column":4},"end":{"line":393,"column":3}}]},"36":{"line":393,"type":"binary-expr","locations":[{"start":{"line":393,"column":8},"end":{"line":393,"column":17}},{"start":{"line":393,"column":21},"end":{"line":393,"column":30}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1452,"12":1,"13":1,"14":1473,"15":1451,"16":1451,"17":1451,"18":1451,"19":1451,"20":1451,"21":1451,"22":1451,"23":1451,"24":1451,"25":1451,"26":1451,"27":77,"28":1451,"29":1450,"30":1,"31":540,"32":1,"33":1,"34":52,"35":1,"36":22,"37":22,"38":1,"39":22,"40":1,"41":22,"42":1,"43":22,"44":1,"45":22,"46":1,"47":30,"48":30,"49":1,"50":1,"51":1,"52":858,"53":858,"54":524,"55":334,"56":211,"57":211,"58":123,"59":123,"60":50,"61":122,"62":1,"63":384,"64":192,"65":192,"66":191,"67":1,"68":446,"69":446,"70":446,"71":446,"72":1,"73":191,"74":191,"75":191,"76":191,"77":191,"78":23,"79":168,"80":168,"81":160,"82":160,"83":144,"84":8,"85":191,"86":175,"87":16,"88":1,"89":481,"90":481,"91":474,"92":481,"93":481,"94":485,"95":1,"96":1,"97":1,"98":1,"99":1451,"100":1451,"101":1,"102":2803,"103":2803,"104":2803,"105":0,"106":0,"107":1,"108":175,"109":175,"110":175,"111":0,"112":0,"113":1,"114":2635,"115":1,"116":175,"117":1,"118":321,"119":1,"120":0,"121":1,"122":28,"123":26,"124":26,"125":26,"126":0,"127":0,"128":1,"129":3006,"130":3006,"131":2266,"132":765,"133":760,"134":572,"135":546,"136":188,"137":162,"138":161,"139":1,"140":760,"141":1,"142":321,"143":321,"144":201,"145":120,"146":321,"147":1,"148":1},"b":{"1":[22,1429],"2":[1451,22],"3":[1451,22],"4":[1451,22],"5":[1451,22],"6":[1451,22],"7":[1451,30],"8":[1451,22],"9":[1450,1],"10":[21,1],"11":[0,30],"12":[30,26],"13":[524,334],"14":[211,123],"15":[50,73],"16":[192,0],"17":[192,192],"18":[23,168],"19":[160,8],"20":[168,168],"21":[144,16],"22":[175,16],"23":[474,7],"24":[2803,0],"25":[2803,2803,709],"26":[175,0],"27":[26,0],"28":[760,5],"29":[572,188],"30":[760,760],"31":[546,26],"32":[162,26],"33":[188,188,181],"34":[161,1],"35":[201,120],"36":[321,321]},"f":{"1":1,"2":1451,"3":77,"4":540,"5":0,"6":52,"7":22,"8":22,"9":22,"10":22,"11":22,"12":30,"13":1,"14":858,"15":192,"16":446,"17":191,"18":481,"19":485,"20":1,"21":1451,"22":2803,"23":175,"24":2635,"25":175,"26":321,"27":0,"28":28,"29":26,"30":3006,"31":765,"32":321},"code":"import {Assert} from '../../misc/Assert';\nimport {IQueryResult} from '../../rest/QueryResult';\nimport {Utils} from '../../utils/Utils';\nimport {$$, Dom} from '../../utils/Dom';\nimport {QueryStateModel} from '../../models/QueryStateModel';\nimport {ComponentStateModel} from '../../models/ComponentStateModel';\nimport {ComponentOptionsModel} from '../../models/ComponentOptionsModel';\nimport {QueryController} from '../../controllers/QueryController';\nimport {SearchInterface} from '../../ui/SearchInterface/SearchInterface';\nimport {IAnalyticsClient} from '../../ui/Analytics/AnalyticsClient';\nimport {NoopAnalyticsClient} from '../../ui/Analytics/NoopAnalyticsClient';\nimport {BaseComponent} from './BaseComponent';\nimport {IComponentBindings} from './ComponentBindings';\n\n/**\n * Definition for a Component.\n */\nexport interface IComponentDefinition {\n  /**\n   * The static ID that each component need to be identified.<br/>\n   * For example, SearchButton -> static ID : SearchButton -> className : CoveoSearchButton\n   */\n  ID: string;\n  /**\n   * The generated className for this component.<br/>\n   * For example, SearchButton -> static ID : SearchButton -> className : CoveoSearchButton\n   */\n  className?: string;\n  /**\n   * Constructor for each component\n   * @param element The HTMLElement on which the component will instantiate\n   * @param options The available options for the component\n   * @param bindings The bindings (or environment) for the component.For exemple, the {@link QueryController} or {@link SearchInterface}. Optional, if not provided, the component will resolve those automatically. This has a cost on performance, though, since it has to traverses it's parents to find the correct elements.\n   * @param args Optional arguments, depending on the component type. For example, ResultComponent will receive the result there.\n   */\n  new (element: HTMLElement, options: any, bindings: IComponentBindings, ...args: any[]): Component;\n  /**\n   * The available options for the component\n   */\n  options?: any;\n  /**\n   * The optional parent of the component, which will be a component itself.\n   */\n  parent?: IComponentDefinition;\n  /**\n   * The optional index fields that the component possess or display\n   */\n  fields?: string[];\n}\n\n/**\n * The base class for every Component in the framework\n */\nexport class Component extends BaseComponent {\n  /**\n   * Allows the component to bind events and execute them only when it is enabled.\n   * @type {Coveo.ComponentEvents}\n   */\n  public bind = new ComponentEvents(this);\n  /**\n   * A reference to the root HTMLElement (the {@link SearchInterface})\n   */\n  public root: HTMLElement;\n  /**\n   * Contains the state of the query. Allows to get/set values. Trigger query state event when modified. Each component can listen to those events.\n   */\n  public queryStateModel: QueryStateModel;\n  /**\n   * Contains the state of different component (enabled vs disabled). Allows to get/set values. Trigger component state event when modified. Each component can listen to those events.\n   */\n  public componentStateModel: ComponentStateModel;\n  /**\n   * Contains the singleton that allows to trigger queries.\n   */\n  public queryController: QueryController;\n  /**\n   * A reference to the root of every component, the {@link SearchInterface}\n   */\n  public searchInterface: SearchInterface;\n  /**\n   * A reference to the {@link Analytics.client}.\n   */\n  public usageAnalytics: IAnalyticsClient;\n  /**\n   * Contains the state of options for differents component. Mainly used by {@link ResultLink}\n   */\n  public componentOptionsModel: ComponentOptionsModel;\n  public ensureDom: Function;\n\n  /**\n   * Create a new Component. Resolve all {@link IComponentBindings} if not provided.<br/>\n   * Create a new Logger for this component.\n   * Attach the component to the {@link SearchInterface}<br/>\n   * @param element The HTMLElement on which to create the component. Used to bind data on the element.\n   * @param type The unique identifier for this component. See : {@link IComponentDefinition.ID}. Used to generate the unique Coveo CSS class associated with every component\n   * @param bindings The environment for every component. Optional, but omitting to provide one will impact performance.\n   */\n  constructor(public element: HTMLElement, public type: string, bindings: IComponentBindings = {}) {\n    super(element, type);\n    this.root = bindings.root || this.resolveRoot();\n    this.queryStateModel = bindings.queryStateModel || this.resolveQueryStateModel();\n    this.componentStateModel = bindings.componentStateModel || this.resolveComponentStateModel();\n    this.queryController = bindings.queryController || this.resolveQueryController();\n    this.searchInterface = bindings.searchInterface || this.resolveSearchInterface();\n    this.usageAnalytics = bindings.usageAnalytics || this.resolveUA();\n    this.componentOptionsModel = bindings.componentOptionsModel || this.resolveComponentOptionsModel();\n    this.ensureDom = _.once(() => this.createDom());\n\n    if (this.searchInterface != null) {\n      this.searchInterface.attachComponent(type, this);\n    }\n  }\n\n  /**\n   * Return the bindings, or environment, for the current component\n   * @returns {IComponentBindings}\n   */\n  public getBindings(): IComponentBindings {\n    return <IComponentBindings>{\n      root: this.root,\n      queryStateModel: this.queryStateModel,\n      queryController: this.queryController,\n      searchInterface: this.searchInterface,\n      componentStateModel: this.componentStateModel,\n      componentOptionsModel: this.componentOptionsModel,\n      usageAnalytics: this.usageAnalytics\n    };\n  }\n\n  public createDom() {\n    // By default we do nothing\n  }\n\n  public resolveSearchInterface(): SearchInterface {\n    return <SearchInterface>Component.resolveBinding(this.element, SearchInterface);\n  }\n\n  public resolveRoot(): HTMLElement {\n    var resolvedSearchInterface = Component.resolveBinding(this.element, SearchInterface);\n    return resolvedSearchInterface ? resolvedSearchInterface.element : undefined;\n  }\n\n  public resolveQueryController(): QueryController {\n    return <QueryController>Component.resolveBinding(this.element, QueryController);\n  }\n\n  public resolveComponentStateModel(): ComponentStateModel {\n    return <ComponentStateModel>Component.resolveBinding(this.element, ComponentStateModel);\n  }\n\n  public resolveQueryStateModel(): QueryStateModel {\n    return <QueryStateModel>Component.resolveBinding(this.element, QueryStateModel);\n  }\n\n  public resolveComponentOptionsModel(): ComponentOptionsModel {\n    return <ComponentOptionsModel>Component.resolveBinding(this.element, ComponentOptionsModel);\n  }\n\n  public resolveUA(): IAnalyticsClient {\n    var searchInterface = this.resolveSearchInterface();\n    return (searchInterface && searchInterface.usageAnalytics) ? searchInterface.usageAnalytics : new NoopAnalyticsClient();\n  }\n\n  public resolveResult(): IQueryResult {\n    return Component.getResult(this.element);\n  }\n\n  /**\n   * Get the bound component to the given HTMLElement. Throws an assert if the HTMLElement has no component bound, unless using the noThrow argument<br/>\n   * If there is multiple component bound to the current HTMLElement, you must specify the component class\n   * @param element HTMLElement for which to get the bound component\n   * @param componentClass Optional component class. If the HTMLElement has multiple components bound, you must specify which one you are targeting\n   * @param noThrow Boolean option to tell the method to not throw on error\n   * @returns {Component}\n   */\n  static get(element: HTMLElement, componentClass?: any, noThrow?: boolean): BaseComponent {\n    Assert.exists(element);\n\n    if (_.isString(componentClass)) {\n      return <Component>element[Component.computeCssClassNameForType(componentClass)];\n    } else if (Utils.exists(componentClass)) {\n      Assert.exists(componentClass.ID);\n      return <Component>element[Component.computeCssClassNameForType(componentClass.ID)];\n    } else {\n      // No class specified, but we support returning the bound component\n      // if there is exactly one.\n      var boundComponents = BaseComponent.getBoundComponentsForElement(element);\n      if (!noThrow) {\n        Assert.check(boundComponents.length <= 1, 'More than one component is bound to this element. You need to specify the component type.');\n      }\n      return boundComponents[0];\n    }\n  }\n\n  static getResult(element: HTMLElement, noThrow: boolean = false): IQueryResult {\n    var resultElement = $$(element).closest('.CoveoResult');\n    Assert.check(noThrow || resultElement != undefined);\n    return resultElement['CoveoResult'];\n  }\n\n  static bindResultToElement(element: HTMLElement, result: IQueryResult) {\n    Assert.exists(element);\n    Assert.exists(result);\n    $$(element).addClass('CoveoResult');\n    element['CoveoResult'] = result;\n  }\n\n  static resolveBinding(element: HTMLElement, componentClass: any): BaseComponent {\n    Assert.exists(element);\n    Assert.exists(componentClass);\n    Assert.exists(componentClass.ID);\n    // first, look down\n    var found;\n    if ($$(element).is('.' + Component.computeCssClassNameForType(componentClass.ID))) {\n      found = element;\n    } else {\n      var findDown = $$(element).findClass(Component.computeCssClassNameForType(componentClass.ID));\n      if (!findDown || findDown.length == 0) {\n        var findUp = $$(element).closest(Component.computeCssClassNameForType(componentClass.ID));\n        if (findUp) {\n          found = findUp\n        }\n      } else {\n        found = findDown;\n      }\n    }\n    if (found) {\n      return <BaseComponent>found[Component.computeCssClassNameForType(componentClass.ID)];\n    } else {\n      return undefined;\n    }\n  }\n\n\n  static pointElementsToDummyForm(element: HTMLElement) {\n    var inputs = [];\n    if ($$(element).is('input')) {\n      inputs.push(element);\n    }\n    inputs = inputs.concat($$(element).findAll('input'));\n    _.each(_.compact(inputs), (input) => {\n      input.setAttribute('form', 'coveo-dummy-form');\n    })\n  }\n}\n\n/**\n * Used by the various Coveo Component to trigger and bind event.<br/>\n * It adds a small logic to execute handler or triggers only when the component is \"enabled\".<br/>\n * A component is disabled by calling {Component.disable}<br/>\n * Typically, a Component is disabled when it is not active in the current {Tab}.<br/>\n * It can also be disabled by external code.<br/>\n * The class serves as a way to not execute handler on component that are invisible and inactive in the query.\n */\nexport class ComponentEvents {\n  /**\n   * Create a new ComponentEvents for the given {@link Component}\n   * @param owner The {@link Component} which owns those events handler and trigger\n   */\n  constructor(public owner: Component) {\n    Assert.exists(owner);\n  }\n\n  /**\n   * Execute the handler for the given event on the given target element.<br/>\n   * Execute only if the component is \"enabled\" : See {@link Component.enable}\n   * @param el The target on which the event will originate\n   * @param event The event for which to register an handler\n   * @param handler The function to execute when the event is triggered\n   */\n  public on(el: HTMLElement, event: string, handler: Function);\n  public on(el: Dom, event: string, handler: Function);\n  public on(arg: any, event: string, handler: Function) {\n    if ((window && !window['jQuery']) || !(arg instanceof window['jQuery'])) {\n      var htmlEl: HTMLElement = arg;\n      $$(htmlEl).on(event, this.wrapToCallIfEnabled(handler));\n    } else {\n      var jq: Dom = arg;\n      jq.on(event, this.wrapToCallIfEnabled(handler));\n    }\n  }\n\n  /**\n   * Execute the handler for the given event on the given target element.<br/>\n   * Execute only if the component is \"enabled\" : See {@link Component.enable}<br/>\n   * Execute the handler only ONE time\n   * @param el The target on which the event will originate\n   * @param event The event for which to register an handler\n   * @param handler The function to execute when the event is triggered\n   */\n  public one(el: HTMLElement, event: string, handler: Function);\n  public one(el: Dom, event: string, handler: Function);\n  public one(arg: any, event: string, handler: Function) {\n    if (arg instanceof HTMLElement) {\n      var htmlEl: HTMLElement = arg;\n      $$(htmlEl).one(event, this.wrapToCallIfEnabled(handler));\n    } else {\n      var jq: Dom = arg;\n      jq.one(event, this.wrapToCallIfEnabled(handler));\n    }\n  }\n\n  /**\n   * Bind on the \"root\" of the Component. The root is typically the {@link SearchInterface}<br/>\n   * Bind an event using native javascript code.\n   * @param event The event for which to register an handler\n   * @param handler The function to execute when the event is triggered\n   */\n  public onRootElement<T>(event: string, handler: (args: T) => any) {\n    this.on(this.owner.root, event, handler);\n  }\n\n  /**\n   * Bind on the \"root\" of the Component. The root is typically the {@link SearchInterface}<br/>\n   * Bind an event using native javascript code.\n   * The handler will execute only ONE time.\n   * @param event The event for which to register an handler\n   * @param handler The function to execute when the event is triggered\n   */\n  public oneRootElement<T>(event: string, handler: (args: T) => any) {\n    this.one(this.owner.root, event, handler);\n  }\n\n  /**\n   * Bind an event related specially to the query state model.<br/>\n   * This will build the correct string event and execute the handler only if the component is activated.\n   * @param eventType The event type for which to register an event\n   * @param attribute The attribute for which to register an event\n   * @param handler The handler to execute when the query state event is triggered\n   */\n  public onQueryState<T>(eventType: string, attribute?: string, handler?: (args: T) => any) {\n    this.onRootElement(this.getQueryStateEventName(eventType, attribute), handler);\n  }\n\n  /**\n   * Bind an event related specially to the query state model.<br/>\n   * This will build the correct string event and execute the handler only if the component is activated.<br/>\n   * Will execute only once.\n   * @param eventType The event type for which to register an event\n   * @param attribute The attribute for which to register an event\n   * @param handler The handler to execute when the query state event is triggered\n   */\n  public oneQueryState<T>(eventType: string, attribute?: string, handler?: (args: T) => any) {\n    this.oneRootElement(this.getQueryStateEventName(eventType, attribute), handler);\n  }\n\n  /**\n   * Trigger an event on the target element, with optional arguments\n   * @param el The target HTMLElement on which to trigger the event\n   * @param event The event to trigger\n   * @param args The optional argument to pass to the handlers\n   */\n  public trigger(el: HTMLElement, event: string, args?: Object);\n  public trigger(el: Dom, event: string, args?: Object);\n  public trigger(arg: any, event: string, args?: Object) {\n    this.wrapToCallIfEnabled(() => {\n      if (arg instanceof HTMLElement) {\n        var htmlEl: HTMLElement = arg;\n        $$(htmlEl).trigger(event, args);\n      } else {\n        var jq: Dom = arg;\n        jq.trigger(event, args);\n      }\n    })(args);\n  }\n\n  /**\n   * Execute the function only if the component is enabled\n   * @param func The function to execute if the component is enabled\n   * @returns {function(...[any]): *}\n   */\n  private wrapToCallIfEnabled(func: Function) {\n    return (...args: any[]) => {\n      if (!this.owner.disabled) {\n        if (args && args[0] instanceof CustomEvent) {\n          if (args[0].detail) {\n            args = [args[0].detail];\n          }\n        } else if (args && window['jQuery'] && args[0] instanceof window['jQuery'].Event) {\n          if (args[1] != undefined) {\n            args = [args[1]];\n          } else {\n            args = []\n          }\n        }\n        return func.apply(this.owner, args);\n      }\n    };\n  }\n\n  private getQueryStateEventName(eventType: string, attribute?: string): string {\n    var evtName;\n    if (eventType && attribute) {\n      evtName = this.owner.queryStateModel.getEventName(eventType + attribute);\n    } else {\n      evtName = this.owner.queryStateModel.getEventName(eventType);\n    }\n    return evtName;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Base/Component.ts\n **/","l":{"1":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"11":1,"12":1,"54":1452,"59":1451,"98":1473,"99":1451,"100":1451,"101":1451,"102":1451,"103":1451,"104":1451,"105":1451,"106":1451,"107":1451,"109":1451,"110":1450,"118":1,"119":540,"130":1,"134":1,"135":52,"138":1,"139":22,"140":22,"143":1,"144":22,"147":1,"148":22,"151":1,"152":22,"155":1,"156":22,"159":1,"160":30,"161":30,"164":1,"165":1,"176":1,"177":858,"179":858,"180":524,"181":334,"182":211,"183":211,"187":123,"188":123,"189":50,"191":122,"195":384,"196":192,"197":192,"198":191,"201":1,"202":446,"203":446,"204":446,"205":446,"208":1,"209":191,"210":191,"211":191,"213":191,"214":191,"215":23,"217":168,"218":168,"219":160,"220":160,"221":144,"224":8,"227":191,"228":175,"230":16,"235":1,"236":481,"237":481,"238":474,"240":481,"241":481,"242":485,"245":1,"255":1,"260":1451,"261":1451,"273":1,"274":2803,"275":2803,"276":2803,"278":0,"279":0,"293":1,"294":175,"295":175,"296":175,"298":0,"299":0,"309":1,"310":2635,"320":1,"321":175,"331":1,"332":321,"343":1,"344":0,"355":1,"356":28,"357":26,"358":26,"359":26,"361":0,"362":0,"372":3006,"373":3006,"374":765,"375":760,"376":572,"377":546,"379":188,"380":162,"381":161,"383":1,"386":760,"391":1,"392":321,"393":321,"394":201,"396":120,"398":321,"400":1}},"src/ui/SearchInterface/SearchInterface.ts":{"path":"src/ui/SearchInterface/SearchInterface.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":57}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":58}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":52}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":35}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":46}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":41}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":61}},"8":{"start":{"line":8,"column":0},"end":{"line":8,"column":69}},"9":{"start":{"line":9,"column":0},"end":{"line":9,"column":73}},"10":{"start":{"line":10,"column":0},"end":{"line":10,"column":66}},"11":{"start":{"line":11,"column":0},"end":{"line":11,"column":68}},"12":{"start":{"line":12,"column":0},"end":{"line":12,"column":144}},"13":{"start":{"line":13,"column":0},"end":{"line":13,"column":119}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":70}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":94}},"16":{"start":{"line":16,"column":0},"end":{"line":16,"column":71}},"17":{"start":{"line":18,"column":0},"end":{"line":18,"column":69}},"18":{"start":{"line":19,"column":0},"end":{"line":19,"column":40}},"19":{"start":{"line":20,"column":0},"end":{"line":20,"column":52}},"20":{"start":{"line":21,"column":0},"end":{"line":21,"column":52}},"21":{"start":{"line":22,"column":0},"end":{"line":22,"column":37}},"22":{"start":{"line":23,"column":0},"end":{"line":23,"column":48}},"23":{"start":{"line":24,"column":0},"end":{"line":24,"column":40}},"24":{"start":{"line":25,"column":0},"end":{"line":25,"column":34}},"25":{"start":{"line":56,"column":0},"end":{"line":585,"column":1}},"26":{"start":{"line":56,"column":37},"end":{"line":56,"column":50}},"27":{"start":{"line":198,"column":2},"end":{"line":245,"column":3}},"28":{"start":{"line":198,"column":111},"end":{"line":198,"column":127}},"29":{"start":{"line":199,"column":4},"end":{"line":199,"column":39}},"30":{"start":{"line":198,"column":21},"end":{"line":198,"column":41}},"31":{"start":{"line":198,"column":50},"end":{"line":198,"column":83}},"32":{"start":{"line":198,"column":92},"end":{"line":198,"column":109}},"33":{"start":{"line":180,"column":10},"end":{"line":180,"column":39}},"34":{"start":{"line":201,"column":4},"end":{"line":203,"column":5}},"35":{"start":{"line":202,"column":6},"end":{"line":202,"column":56}},"36":{"start":{"line":205,"column":4},"end":{"line":205,"column":30}},"37":{"start":{"line":207,"column":4},"end":{"line":207,"column":92}},"38":{"start":{"line":208,"column":4},"end":{"line":208,"column":27}},"39":{"start":{"line":209,"column":4},"end":{"line":209,"column":32}},"40":{"start":{"line":211,"column":4},"end":{"line":213,"column":5}},"41":{"start":{"line":212,"column":6},"end":{"line":212,"column":44}},"42":{"start":{"line":215,"column":4},"end":{"line":215,"column":24}},"43":{"start":{"line":216,"column":4},"end":{"line":216,"column":56}},"44":{"start":{"line":217,"column":4},"end":{"line":217,"column":64}},"45":{"start":{"line":218,"column":4},"end":{"line":218,"column":68}},"46":{"start":{"line":219,"column":4},"end":{"line":219,"column":53}},"47":{"start":{"line":220,"column":4},"end":{"line":220,"column":97}},"48":{"start":{"line":223,"column":4},"end":{"line":223,"column":83}},"49":{"start":{"line":224,"column":4},"end":{"line":224,"column":92}},"50":{"start":{"line":224,"column":48},"end":{"line":224,"column":90}},"51":{"start":{"line":225,"column":4},"end":{"line":225,"column":96}},"52":{"start":{"line":225,"column":64},"end":{"line":225,"column":94}},"53":{"start":{"line":226,"column":4},"end":{"line":226,"column":94}},"54":{"start":{"line":226,"column":63},"end":{"line":226,"column":92}},"55":{"start":{"line":227,"column":4},"end":{"line":227,"column":90}},"56":{"start":{"line":227,"column":61},"end":{"line":227,"column":88}},"57":{"start":{"line":229,"column":4},"end":{"line":237,"column":5}},"58":{"start":{"line":230,"column":6},"end":{"line":234,"column":7}},"59":{"start":{"line":231,"column":8},"end":{"line":231,"column":92}},"60":{"start":{"line":233,"column":8},"end":{"line":233,"column":104}},"61":{"start":{"line":236,"column":6},"end":{"line":236,"column":147}},"62":{"start":{"line":236,"column":74},"end":{"line":236,"column":146}},"63":{"start":{"line":239,"column":4},"end":{"line":239,"column":134}},"64":{"start":{"line":240,"column":4},"end":{"line":240,"column":92}},"65":{"start":{"line":240,"column":57},"end":{"line":240,"column":90}},"66":{"start":{"line":242,"column":4},"end":{"line":242,"column":66}},"67":{"start":{"line":243,"column":4},"end":{"line":243,"column":26}},"68":{"start":{"line":244,"column":4},"end":{"line":244,"column":79}},"69":{"start":{"line":251,"column":9},"end":{"line":255,"column":3}},"70":{"start":{"line":252,"column":4},"end":{"line":252,"column":52}},"71":{"start":{"line":253,"column":4},"end":{"line":253,"column":63}},"72":{"start":{"line":254,"column":4},"end":{"line":254,"column":65}},"73":{"start":{"line":261,"column":9},"end":{"line":264,"column":3}},"74":{"start":{"line":262,"column":4},"end":{"line":262,"column":52}},"75":{"start":{"line":263,"column":4},"end":{"line":263,"column":66}},"76":{"start":{"line":271,"column":9},"end":{"line":273,"column":3}},"77":{"start":{"line":272,"column":4},"end":{"line":272,"column":45}},"78":{"start":{"line":280,"column":9},"end":{"line":286,"column":3}},"79":{"start":{"line":281,"column":4},"end":{"line":281,"column":46}},"80":{"start":{"line":282,"column":4},"end":{"line":282,"column":49}},"81":{"start":{"line":283,"column":4},"end":{"line":285,"column":5}},"82":{"start":{"line":284,"column":6},"end":{"line":284,"column":34}},"83":{"start":{"line":292,"column":9},"end":{"line":302,"column":3}},"84":{"start":{"line":293,"column":4},"end":{"line":301,"column":6}},"85":{"start":{"line":313,"column":9},"end":{"line":321,"column":3}},"86":{"start":{"line":314,"column":4},"end":{"line":316,"column":5}},"87":{"start":{"line":315,"column":6},"end":{"line":315,"column":35}},"88":{"start":{"line":317,"column":4},"end":{"line":319,"column":5}},"89":{"start":{"line":318,"column":6},"end":{"line":318,"column":41}},"90":{"start":{"line":320,"column":4},"end":{"line":320,"column":41}},"91":{"start":{"line":327,"column":9},"end":{"line":329,"column":3}},"92":{"start":{"line":328,"column":4},"end":{"line":328,"column":37}},"93":{"start":{"line":331,"column":12},"end":{"line":337,"column":3}},"94":{"start":{"line":332,"column":4},"end":{"line":332,"column":66}},"95":{"start":{"line":333,"column":4},"end":{"line":335,"column":5}},"96":{"start":{"line":334,"column":6},"end":{"line":334,"column":70}},"97":{"start":{"line":336,"column":4},"end":{"line":336,"column":37}},"98":{"start":{"line":339,"column":10},"end":{"line":343,"column":3}},"99":{"start":{"line":339,"column":2},"end":{"line":343,"column":3}},"100":{"start":{"line":340,"column":4},"end":{"line":342,"column":5}},"101":{"start":{"line":341,"column":6},"end":{"line":341,"column":70}},"102":{"start":{"line":341,"column":23},"end":{"line":341,"column":68}},"103":{"start":{"line":345,"column":10},"end":{"line":354,"column":3}},"104":{"start":{"line":345,"column":2},"end":{"line":354,"column":3}},"105":{"start":{"line":346,"column":4},"end":{"line":346,"column":29}},"106":{"start":{"line":348,"column":4},"end":{"line":350,"column":6}},"107":{"start":{"line":349,"column":6},"end":{"line":349,"column":46}},"108":{"start":{"line":349,"column":20},"end":{"line":349,"column":44}},"109":{"start":{"line":351,"column":4},"end":{"line":353,"column":6}},"110":{"start":{"line":352,"column":6},"end":{"line":352,"column":46}},"111":{"start":{"line":352,"column":20},"end":{"line":352,"column":44}},"112":{"start":{"line":356,"column":10},"end":{"line":388,"column":3}},"113":{"start":{"line":357,"column":4},"end":{"line":357,"column":82}},"114":{"start":{"line":358,"column":4},"end":{"line":358,"column":80}},"115":{"start":{"line":360,"column":4},"end":{"line":360,"column":25}},"116":{"start":{"line":361,"column":4},"end":{"line":361,"column":23}},"117":{"start":{"line":364,"column":4},"end":{"line":371,"column":5}},"118":{"start":{"line":365,"column":6},"end":{"line":365,"column":44}},"119":{"start":{"line":366,"column":6},"end":{"line":370,"column":7}},"120":{"start":{"line":367,"column":8},"end":{"line":367,"column":63}},"121":{"start":{"line":368,"column":8},"end":{"line":368,"column":72}},"122":{"start":{"line":369,"column":8},"end":{"line":369,"column":21}},"123":{"start":{"line":373,"column":4},"end":{"line":379,"column":5}},"124":{"start":{"line":374,"column":6},"end":{"line":374,"column":41}},"125":{"start":{"line":375,"column":6},"end":{"line":378,"column":7}},"126":{"start":{"line":376,"column":8},"end":{"line":376,"column":72}},"127":{"start":{"line":377,"column":8},"end":{"line":377,"column":19}},"128":{"start":{"line":381,"column":4},"end":{"line":383,"column":5}},"129":{"start":{"line":382,"column":6},"end":{"line":382,"column":45}},"130":{"start":{"line":385,"column":4},"end":{"line":387,"column":5}},"131":{"start":{"line":386,"column":6},"end":{"line":386,"column":57}},"132":{"start":{"line":390,"column":10},"end":{"line":404,"column":3}},"133":{"start":{"line":391,"column":4},"end":{"line":391,"column":63}},"134":{"start":{"line":392,"column":4},"end":{"line":402,"column":5}},"135":{"start":{"line":393,"column":6},"end":{"line":393,"column":62}},"136":{"start":{"line":395,"column":6},"end":{"line":397,"column":7}},"137":{"start":{"line":395,"column":100},"end":{"line":395,"column":155}},"138":{"start":{"line":396,"column":8},"end":{"line":396,"column":26}},"139":{"start":{"line":399,"column":6},"end":{"line":401,"column":7}},"140":{"start":{"line":400,"column":8},"end":{"line":400,"column":38}},"141":{"start":{"line":403,"column":4},"end":{"line":403,"column":48}},"142":{"start":{"line":406,"column":10},"end":{"line":438,"column":3}},"143":{"start":{"line":407,"column":4},"end":{"line":407,"column":54}},"144":{"start":{"line":408,"column":4},"end":{"line":408,"column":64}},"145":{"start":{"line":409,"column":4},"end":{"line":436,"column":5}},"146":{"start":{"line":410,"column":6},"end":{"line":410,"column":52}},"147":{"start":{"line":411,"column":6},"end":{"line":427,"column":7}},"148":{"start":{"line":413,"column":8},"end":{"line":426,"column":9}},"149":{"start":{"line":414,"column":10},"end":{"line":414,"column":66}},"150":{"start":{"line":415,"column":10},"end":{"line":415,"column":97}},"151":{"start":{"line":415,"column":62},"end":{"line":415,"column":95}},"152":{"start":{"line":417,"column":10},"end":{"line":419,"column":11}},"153":{"start":{"line":417,"column":88},"end":{"line":417,"column":164}},"154":{"start":{"line":418,"column":12},"end":{"line":418,"column":25}},"155":{"start":{"line":421,"column":10},"end":{"line":421,"column":98}},"156":{"start":{"line":421,"column":47},"end":{"line":421,"column":96}},"157":{"start":{"line":422,"column":10},"end":{"line":424,"column":11}},"158":{"start":{"line":423,"column":12},"end":{"line":423,"column":34}},"159":{"start":{"line":425,"column":10},"end":{"line":425,"column":53}},"160":{"start":{"line":429,"column":6},"end":{"line":431,"column":7}},"161":{"start":{"line":429,"column":84},"end":{"line":429,"column":107}},"162":{"start":{"line":430,"column":8},"end":{"line":430,"column":21}},"163":{"start":{"line":433,"column":6},"end":{"line":435,"column":7}},"164":{"start":{"line":434,"column":8},"end":{"line":434,"column":33}},"165":{"start":{"line":437,"column":4},"end":{"line":437,"column":47}},"166":{"start":{"line":440,"column":10},"end":{"line":477,"column":3}},"167":{"start":{"line":441,"column":4},"end":{"line":441,"column":56}},"168":{"start":{"line":442,"column":4},"end":{"line":475,"column":5}},"169":{"start":{"line":443,"column":6},"end":{"line":443,"column":54}},"170":{"start":{"line":445,"column":6},"end":{"line":445,"column":56}},"171":{"start":{"line":446,"column":6},"end":{"line":466,"column":7}},"172":{"start":{"line":447,"column":8},"end":{"line":465,"column":9}},"173":{"start":{"line":448,"column":10},"end":{"line":448,"column":56}},"174":{"start":{"line":449,"column":10},"end":{"line":449,"column":72}},"175":{"start":{"line":449,"column":47},"end":{"line":449,"column":70}},"176":{"start":{"line":450,"column":10},"end":{"line":450,"column":46}},"177":{"start":{"line":453,"column":10},"end":{"line":458,"column":11}},"178":{"start":{"line":453,"column":94},"end":{"line":453,"column":156}},"179":{"start":{"line":454,"column":12},"end":{"line":454,"column":26}},"180":{"start":{"line":455,"column":17},"end":{"line":458,"column":11}},"181":{"start":{"line":457,"column":12},"end":{"line":457,"column":43}},"182":{"start":{"line":460,"column":10},"end":{"line":460,"column":92}},"183":{"start":{"line":460,"column":50},"end":{"line":460,"column":90}},"184":{"start":{"line":461,"column":10},"end":{"line":463,"column":11}},"185":{"start":{"line":462,"column":12},"end":{"line":462,"column":59}},"186":{"start":{"line":464,"column":10},"end":{"line":464,"column":56}},"187":{"start":{"line":468,"column":6},"end":{"line":470,"column":7}},"188":{"start":{"line":468,"column":90},"end":{"line":468,"column":108}},"189":{"start":{"line":469,"column":8},"end":{"line":469,"column":22}},"190":{"start":{"line":472,"column":6},"end":{"line":474,"column":7}},"191":{"start":{"line":473,"column":8},"end":{"line":473,"column":59}},"192":{"start":{"line":476,"column":4},"end":{"line":476,"column":50}},"193":{"start":{"line":479,"column":10},"end":{"line":488,"column":3}},"194":{"start":{"line":480,"column":4},"end":{"line":480,"column":66}},"195":{"start":{"line":481,"column":4},"end":{"line":486,"column":5}},"196":{"start":{"line":482,"column":6},"end":{"line":482,"column":64}},"197":{"start":{"line":483,"column":6},"end":{"line":485,"column":7}},"198":{"start":{"line":483,"column":48},"end":{"line":483,"column":84}},"199":{"start":{"line":484,"column":8},"end":{"line":484,"column":27}},"200":{"start":{"line":487,"column":4},"end":{"line":487,"column":55}},"201":{"start":{"line":490,"column":10},"end":{"line":507,"column":3}},"202":{"start":{"line":491,"column":4},"end":{"line":491,"column":66}},"203":{"start":{"line":492,"column":4},"end":{"line":506,"column":5}},"204":{"start":{"line":493,"column":6},"end":{"line":493,"column":64}},"205":{"start":{"line":494,"column":6},"end":{"line":505,"column":7}},"206":{"start":{"line":495,"column":8},"end":{"line":495,"column":109}},"207":{"start":{"line":495,"column":73},"end":{"line":495,"column":108}},"208":{"start":{"line":496,"column":8},"end":{"line":499,"column":9}},"209":{"start":{"line":497,"column":10},"end":{"line":497,"column":49}},"210":{"start":{"line":498,"column":10},"end":{"line":498,"column":86}},"211":{"start":{"line":498,"column":67},"end":{"line":498,"column":84}},"212":{"start":{"line":500,"column":8},"end":{"line":500,"column":76}},"213":{"start":{"line":500,"column":57},"end":{"line":500,"column":74}},"214":{"start":{"line":502,"column":8},"end":{"line":504,"column":11}},"215":{"start":{"line":503,"column":10},"end":{"line":503,"column":27}},"216":{"start":{"line":509,"column":10},"end":{"line":545,"column":3}},"217":{"start":{"line":510,"column":4},"end":{"line":512,"column":5}},"218":{"start":{"line":511,"column":6},"end":{"line":511,"column":56}},"219":{"start":{"line":514,"column":4},"end":{"line":516,"column":5}},"220":{"start":{"line":515,"column":6},"end":{"line":515,"column":57}},"221":{"start":{"line":518,"column":4},"end":{"line":520,"column":5}},"222":{"start":{"line":519,"column":6},"end":{"line":519,"column":61}},"223":{"start":{"line":522,"column":4},"end":{"line":524,"column":5}},"224":{"start":{"line":523,"column":6},"end":{"line":523,"column":70}},"225":{"start":{"line":526,"column":4},"end":{"line":528,"column":5}},"226":{"start":{"line":527,"column":6},"end":{"line":527,"column":67}},"227":{"start":{"line":530,"column":4},"end":{"line":532,"column":5}},"228":{"start":{"line":531,"column":6},"end":{"line":531,"column":72}},"229":{"start":{"line":534,"column":4},"end":{"line":536,"column":5}},"230":{"start":{"line":535,"column":6},"end":{"line":535,"column":63}},"231":{"start":{"line":538,"column":4},"end":{"line":540,"column":5}},"232":{"start":{"line":539,"column":6},"end":{"line":539,"column":57}},"233":{"start":{"line":542,"column":4},"end":{"line":542,"column":89}},"234":{"start":{"line":544,"column":4},"end":{"line":544,"column":87}},"235":{"start":{"line":547,"column":10},"end":{"line":554,"column":3}},"236":{"start":{"line":548,"column":4},"end":{"line":548,"column":53}},"237":{"start":{"line":549,"column":4},"end":{"line":549,"column":59}},"238":{"start":{"line":550,"column":4},"end":{"line":550,"column":71}},"239":{"start":{"line":551,"column":4},"end":{"line":553,"column":5}},"240":{"start":{"line":552,"column":6},"end":{"line":552,"column":57}},"241":{"start":{"line":556,"column":10},"end":{"line":562,"column":3}},"242":{"start":{"line":557,"column":4},"end":{"line":557,"column":48}},"243":{"start":{"line":558,"column":4},"end":{"line":558,"column":71}},"244":{"start":{"line":559,"column":4},"end":{"line":561,"column":5}},"245":{"start":{"line":560,"column":6},"end":{"line":560,"column":54}},"246":{"start":{"line":564,"column":10},"end":{"line":584,"column":3}},"247":{"start":{"line":564,"column":2},"end":{"line":584,"column":3}},"248":{"start":{"line":564,"column":47},"end":{"line":564,"column":60}},"249":{"start":{"line":565,"column":4},"end":{"line":565,"column":68}},"250":{"start":{"line":566,"column":4},"end":{"line":566,"column":72}},"251":{"start":{"line":567,"column":4},"end":{"line":567,"column":71}},"252":{"start":{"line":568,"column":4},"end":{"line":568,"column":79}},"253":{"start":{"line":570,"column":4},"end":{"line":572,"column":5}},"254":{"start":{"line":571,"column":6},"end":{"line":571,"column":104}},"255":{"start":{"line":573,"column":4},"end":{"line":575,"column":5}},"256":{"start":{"line":574,"column":6},"end":{"line":574,"column":106}},"257":{"start":{"line":576,"column":4},"end":{"line":578,"column":5}},"258":{"start":{"line":577,"column":6},"end":{"line":577,"column":105}},"259":{"start":{"line":579,"column":4},"end":{"line":583,"column":5}},"260":{"start":{"line":580,"column":6},"end":{"line":582,"column":8}},"261":{"start":{"line":581,"column":8},"end":{"line":581,"column":105}},"262":{"start":{"line":57,"column":9},"end":{"line":57,"column":32}},"263":{"start":{"line":62,"column":9},"end":{"line":175,"column":4}},"264":{"start":{"line":123,"column":29},"end":{"line":123,"column":64}},"265":{"start":{"line":131,"column":63},"end":{"line":131,"column":163}},"266":{"start":{"line":131,"column":190},"end":{"line":131,"column":225}},"267":{"start":{"line":137,"column":74},"end":{"line":137,"column":106}},"268":{"start":{"line":177,"column":16},"end":{"line":177,"column":76}},"269":{"start":{"line":585,"column":0},"end":{"line":585,"column":1}},"270":{"start":{"line":56,"column":13},"end":{"line":585,"column":1}},"271":{"start":{"line":592,"column":0},"end":{"line":640,"column":1}},"272":{"start":{"line":592,"column":47},"end":{"line":592,"column":62}},"273":{"start":{"line":599,"column":2},"end":{"line":602,"column":3}},"274":{"start":{"line":599,"column":121},"end":{"line":599,"column":137}},"275":{"start":{"line":600,"column":4},"end":{"line":600,"column":130}},"276":{"start":{"line":599,"column":21},"end":{"line":599,"column":41}},"277":{"start":{"line":599,"column":50},"end":{"line":599,"column":93}},"278":{"start":{"line":599,"column":102},"end":{"line":599,"column":119}},"279":{"start":{"line":601,"column":4},"end":{"line":601,"column":113}},"280":{"start":{"line":601,"column":83},"end":{"line":601,"column":111}},"281":{"start":{"line":604,"column":9},"end":{"line":622,"column":3}},"282":{"start":{"line":606,"column":4},"end":{"line":609,"column":5}},"283":{"start":{"line":611,"column":4},"end":{"line":611,"column":102}},"284":{"start":{"line":613,"column":4},"end":{"line":615,"column":5}},"285":{"start":{"line":614,"column":6},"end":{"line":614,"column":13}},"286":{"start":{"line":617,"column":4},"end":{"line":617,"column":23}},"287":{"start":{"line":619,"column":4},"end":{"line":621,"column":5}},"288":{"start":{"line":620,"column":6},"end":{"line":620,"column":74}},"289":{"start":{"line":624,"column":9},"end":{"line":635,"column":3}},"290":{"start":{"line":625,"column":4},"end":{"line":625,"column":59}},"291":{"start":{"line":626,"column":4},"end":{"line":626,"column":64}},"292":{"start":{"line":627,"column":4},"end":{"line":629,"column":5}},"293":{"start":{"line":628,"column":6},"end":{"line":628,"column":50}},"294":{"start":{"line":630,"column":4},"end":{"line":630,"column":59}},"295":{"start":{"line":631,"column":4},"end":{"line":633,"column":5}},"296":{"start":{"line":632,"column":6},"end":{"line":632,"column":45}},"297":{"start":{"line":634,"column":4},"end":{"line":634,"column":82}},"298":{"start":{"line":637,"column":10},"end":{"line":639,"column":3}},"299":{"start":{"line":638,"column":4},"end":{"line":638,"column":90}},"300":{"start":{"line":593,"column":9},"end":{"line":593,"column":41}},"301":{"start":{"line":595,"column":16},"end":{"line":597,"column":3}},"302":{"start":{"line":640,"column":0},"end":{"line":640,"column":1}},"303":{"start":{"line":592,"column":13},"end":{"line":640,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1810)","line":56,"loc":{"start":{"line":56,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"SearchInterface","line":198,"loc":{"start":{"line":198,"column":2},"end":{"line":198,"column":127}}},"3":{"name":"(anonymous_1812)","line":224,"loc":{"start":{"line":224,"column":35},"end":{"line":224,"column":43}}},"4":{"name":"(anonymous_1813)","line":225,"loc":{"start":{"line":225,"column":51},"end":{"line":225,"column":59}}},"5":{"name":"(anonymous_1814)","line":226,"loc":{"start":{"line":226,"column":50},"end":{"line":226,"column":58}}},"6":{"name":"(anonymous_1815)","line":227,"loc":{"start":{"line":227,"column":48},"end":{"line":227,"column":56}}},"7":{"name":"(anonymous_1816)","line":236,"loc":{"start":{"line":236,"column":68},"end":{"line":236,"column":73}}},"8":{"name":"(anonymous_1817)","line":240,"loc":{"start":{"line":240,"column":44},"end":{"line":240,"column":52}}},"9":{"name":"(anonymous_1818)","line":251,"loc":{"start":{"line":251,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_1819)","line":261,"loc":{"start":{"line":261,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_1820)","line":271,"loc":{"start":{"line":271,"column":2},"end":{"line":271,"column":63}}},"12":{"name":"(anonymous_1821)","line":280,"loc":{"start":{"line":280,"column":2},"end":{"line":280,"column":63}}},"13":{"name":"(anonymous_1822)","line":292,"loc":{"start":{"line":292,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_1823)","line":313,"loc":{"start":{"line":313,"column":2},"end":{"line":313,"column":35}}},"15":{"name":"(anonymous_1824)","line":327,"loc":{"start":{"line":327,"column":2},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_1825)","line":331,"loc":{"start":{"line":331,"column":2},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_1826)","line":339,"loc":{"start":{"line":339,"column":2},"end":{"line":null,"column":-1}}},"18":{"name":"(anonymous_1827)","line":341,"loc":{"start":{"line":341,"column":17},"end":{"line":341,"column":22}}},"19":{"name":"(anonymous_1828)","line":345,"loc":{"start":{"line":345,"column":2},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_1829)","line":348,"loc":{"start":{"line":348,"column":51},"end":{"line":null,"column":-1}}},"21":{"name":"(anonymous_1830)","line":349,"loc":{"start":{"line":349,"column":14},"end":{"line":349,"column":19}}},"22":{"name":"(anonymous_1831)","line":351,"loc":{"start":{"line":351,"column":49},"end":{"line":null,"column":-1}}},"23":{"name":"(anonymous_1832)","line":352,"loc":{"start":{"line":352,"column":14},"end":{"line":352,"column":19}}},"24":{"name":"(anonymous_1833)","line":356,"loc":{"start":{"line":356,"column":2},"end":{"line":356,"column":51}}},"25":{"name":"(anonymous_1834)","line":390,"loc":{"start":{"line":390,"column":2},"end":{"line":390,"column":42}}},"26":{"name":"(anonymous_1835)","line":395,"loc":{"start":{"line":395,"column":81},"end":{"line":395,"column":95}}},"27":{"name":"(anonymous_1836)","line":406,"loc":{"start":{"line":406,"column":2},"end":{"line":406,"column":52}}},"28":{"name":"(anonymous_1837)","line":415,"loc":{"start":{"line":415,"column":43},"end":{"line":415,"column":57}}},"29":{"name":"(anonymous_1838)","line":417,"loc":{"start":{"line":417,"column":74},"end":{"line":417,"column":83}}},"30":{"name":"(anonymous_1839)","line":421,"loc":{"start":{"line":421,"column":33},"end":{"line":421,"column":42}}},"31":{"name":"(anonymous_1840)","line":429,"loc":{"start":{"line":429,"column":70},"end":{"line":429,"column":79}}},"32":{"name":"(anonymous_1841)","line":440,"loc":{"start":{"line":440,"column":2},"end":{"line":440,"column":47}}},"33":{"name":"(anonymous_1842)","line":449,"loc":{"start":{"line":449,"column":33},"end":{"line":449,"column":42}}},"34":{"name":"(anonymous_1843)","line":453,"loc":{"start":{"line":453,"column":79},"end":{"line":453,"column":89}}},"35":{"name":"(anonymous_1844)","line":460,"loc":{"start":{"line":460,"column":35},"end":{"line":460,"column":45}}},"36":{"name":"(anonymous_1845)","line":468,"loc":{"start":{"line":468,"column":75},"end":{"line":468,"column":85}}},"37":{"name":"(anonymous_1846)","line":479,"loc":{"start":{"line":479,"column":2},"end":{"line":479,"column":42}}},"38":{"name":"(anonymous_1847)","line":483,"loc":{"start":{"line":483,"column":28},"end":{"line":483,"column":43}}},"39":{"name":"(anonymous_1848)","line":490,"loc":{"start":{"line":490,"column":2},"end":{"line":490,"column":64}}},"40":{"name":"(anonymous_1849)","line":495,"loc":{"start":{"line":495,"column":58},"end":{"line":495,"column":68}}},"41":{"name":"(anonymous_1850)","line":498,"loc":{"start":{"line":498,"column":52},"end":{"line":498,"column":62}}},"42":{"name":"(anonymous_1851)","line":500,"loc":{"start":{"line":500,"column":42},"end":{"line":500,"column":52}}},"43":{"name":"(anonymous_1852)","line":502,"loc":{"start":{"line":502,"column":30},"end":{"line":502,"column":40}}},"44":{"name":"(anonymous_1853)","line":509,"loc":{"start":{"line":509,"column":2},"end":{"line":509,"column":59}}},"45":{"name":"(anonymous_1854)","line":547,"loc":{"start":{"line":547,"column":2},"end":{"line":547,"column":57}}},"46":{"name":"(anonymous_1855)","line":556,"loc":{"start":{"line":556,"column":2},"end":{"line":556,"column":53}}},"47":{"name":"(anonymous_1856)","line":564,"loc":{"start":{"line":564,"column":2},"end":{"line":564,"column":60}}},"48":{"name":"(anonymous_1857)","line":580,"loc":{"start":{"line":580,"column":27},"end":{"line":580,"column":39}}},"49":{"name":"(anonymous_1858)","line":123,"loc":{"start":{"line":123,"column":23},"end":{"line":123,"column":28}}},"50":{"name":"(anonymous_1859)","line":131,"loc":{"start":{"line":131,"column":49},"end":{"line":131,"column":58}}},"51":{"name":"(anonymous_1860)","line":131,"loc":{"start":{"line":131,"column":184},"end":{"line":131,"column":189}}},"52":{"name":"(anonymous_1861)","line":137,"loc":{"start":{"line":137,"column":68},"end":{"line":137,"column":73}}},"53":{"name":"(anonymous_1862)","line":592,"loc":{"start":{"line":592,"column":0},"end":{"line":null,"column":-1}}},"54":{"name":"StandaloneSearchInterface","line":599,"loc":{"start":{"line":599,"column":2},"end":{"line":599,"column":137}}},"55":{"name":"(anonymous_1864)","line":601,"loc":{"start":{"line":601,"column":43},"end":{"line":601,"column":78}}},"56":{"name":"(anonymous_1865)","line":604,"loc":{"start":{"line":604,"column":2},"end":{"line":604,"column":58}}},"57":{"name":"(anonymous_1866)","line":624,"loc":{"start":{"line":624,"column":2},"end":{"line":624,"column":48}}},"58":{"name":"(anonymous_1867)","line":637,"loc":{"start":{"line":637,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":198,"type":"if","locations":[{"start":{"line":198,"column":111},"end":{"line":198,"column":110}},{"start":{"line":198,"column":111},"end":{"line":198,"column":110}}]},"2":{"line":201,"type":"if","locations":[{"start":{"line":201,"column":4},"end":{"line":201,"column":3}},{"start":{"line":201,"column":4},"end":{"line":201,"column":3}}]},"3":{"line":211,"type":"if","locations":[{"start":{"line":211,"column":4},"end":{"line":211,"column":3}},{"start":{"line":211,"column":4},"end":{"line":211,"column":3}}]},"4":{"line":229,"type":"if","locations":[{"start":{"line":229,"column":4},"end":{"line":229,"column":3}},{"start":{"line":229,"column":4},"end":{"line":229,"column":3}}]},"5":{"line":230,"type":"if","locations":[{"start":{"line":230,"column":6},"end":{"line":230,"column":5}},{"start":{"line":230,"column":6},"end":{"line":230,"column":5}}]},"6":{"line":242,"type":"binary-expr","locations":[{"start":{"line":242,"column":33},"end":{"line":242,"column":54}},{"start":{"line":242,"column":58},"end":{"line":242,"column":65}}]},"7":{"line":283,"type":"if","locations":[{"start":{"line":283,"column":4},"end":{"line":283,"column":3}},{"start":{"line":283,"column":4},"end":{"line":283,"column":3}}]},"8":{"line":314,"type":"if","locations":[{"start":{"line":314,"column":4},"end":{"line":314,"column":3}},{"start":{"line":314,"column":4},"end":{"line":314,"column":3}}]},"9":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":4},"end":{"line":317,"column":3}},{"start":{"line":317,"column":4},"end":{"line":317,"column":3}}]},"10":{"line":333,"type":"if","locations":[{"start":{"line":333,"column":4},"end":{"line":333,"column":3}},{"start":{"line":333,"column":4},"end":{"line":333,"column":3}}]},"11":{"line":340,"type":"if","locations":[{"start":{"line":340,"column":4},"end":{"line":340,"column":3}},{"start":{"line":340,"column":4},"end":{"line":340,"column":3}}]},"12":{"line":364,"type":"if","locations":[{"start":{"line":364,"column":4},"end":{"line":364,"column":3}},{"start":{"line":364,"column":4},"end":{"line":364,"column":3}}]},"13":{"line":366,"type":"if","locations":[{"start":{"line":366,"column":6},"end":{"line":366,"column":5}},{"start":{"line":366,"column":6},"end":{"line":366,"column":5}}]},"14":{"line":367,"type":"binary-expr","locations":[{"start":{"line":367,"column":17},"end":{"line":367,"column":23}},{"start":{"line":367,"column":27},"end":{"line":367,"column":62}}]},"15":{"line":368,"type":"binary-expr","locations":[{"start":{"line":368,"column":20},"end":{"line":368,"column":29}},{"start":{"line":368,"column":33},"end":{"line":368,"column":71}}]},"16":{"line":373,"type":"if","locations":[{"start":{"line":373,"column":4},"end":{"line":373,"column":3}},{"start":{"line":373,"column":4},"end":{"line":373,"column":3}}]},"17":{"line":375,"type":"if","locations":[{"start":{"line":375,"column":6},"end":{"line":375,"column":5}},{"start":{"line":375,"column":6},"end":{"line":375,"column":5}}]},"18":{"line":376,"type":"binary-expr","locations":[{"start":{"line":376,"column":20},"end":{"line":376,"column":29}},{"start":{"line":376,"column":33},"end":{"line":376,"column":71}}]},"19":{"line":381,"type":"if","locations":[{"start":{"line":381,"column":4},"end":{"line":381,"column":3}},{"start":{"line":381,"column":4},"end":{"line":381,"column":3}}]},"20":{"line":385,"type":"if","locations":[{"start":{"line":385,"column":4},"end":{"line":385,"column":3}},{"start":{"line":385,"column":4},"end":{"line":385,"column":3}}]},"21":{"line":392,"type":"if","locations":[{"start":{"line":392,"column":4},"end":{"line":392,"column":3}},{"start":{"line":392,"column":4},"end":{"line":392,"column":3}}]},"22":{"line":395,"type":"if","locations":[{"start":{"line":395,"column":6},"end":{"line":395,"column":5}},{"start":{"line":395,"column":6},"end":{"line":395,"column":5}}]},"23":{"line":395,"type":"binary-expr","locations":[{"start":{"line":395,"column":10},"end":{"line":395,"column":60}},{"start":{"line":395,"column":64},"end":{"line":395,"column":156}}]},"24":{"line":395,"type":"binary-expr","locations":[{"start":{"line":395,"column":100},"end":{"line":395,"column":118}},{"start":{"line":395,"column":122},"end":{"line":395,"column":155}}]},"25":{"line":399,"type":"if","locations":[{"start":{"line":399,"column":6},"end":{"line":399,"column":5}},{"start":{"line":399,"column":6},"end":{"line":399,"column":5}}]},"26":{"line":409,"type":"if","locations":[{"start":{"line":409,"column":4},"end":{"line":409,"column":3}},{"start":{"line":409,"column":4},"end":{"line":409,"column":3}}]},"27":{"line":411,"type":"if","locations":[{"start":{"line":411,"column":6},"end":{"line":411,"column":5}},{"start":{"line":411,"column":6},"end":{"line":411,"column":5}}]},"28":{"line":413,"type":"if","locations":[{"start":{"line":413,"column":8},"end":{"line":413,"column":7}},{"start":{"line":413,"column":8},"end":{"line":413,"column":7}}]},"29":{"line":417,"type":"if","locations":[{"start":{"line":417,"column":10},"end":{"line":417,"column":9}},{"start":{"line":417,"column":10},"end":{"line":417,"column":9}}]},"30":{"line":417,"type":"binary-expr","locations":[{"start":{"line":417,"column":14},"end":{"line":417,"column":58}},{"start":{"line":417,"column":62},"end":{"line":417,"column":165}}]},"31":{"line":417,"type":"binary-expr","locations":[{"start":{"line":417,"column":88},"end":{"line":417,"column":111}},{"start":{"line":417,"column":115},"end":{"line":417,"column":164}}]},"32":{"line":422,"type":"if","locations":[{"start":{"line":422,"column":10},"end":{"line":422,"column":9}},{"start":{"line":422,"column":10},"end":{"line":422,"column":9}}]},"33":{"line":429,"type":"if","locations":[{"start":{"line":429,"column":6},"end":{"line":429,"column":5}},{"start":{"line":429,"column":6},"end":{"line":429,"column":5}}]},"34":{"line":429,"type":"binary-expr","locations":[{"start":{"line":429,"column":10},"end":{"line":429,"column":54}},{"start":{"line":429,"column":58},"end":{"line":429,"column":108}}]},"35":{"line":433,"type":"if","locations":[{"start":{"line":433,"column":6},"end":{"line":433,"column":5}},{"start":{"line":433,"column":6},"end":{"line":433,"column":5}}]},"36":{"line":442,"type":"if","locations":[{"start":{"line":442,"column":4},"end":{"line":442,"column":3}},{"start":{"line":442,"column":4},"end":{"line":442,"column":3}}]},"37":{"line":446,"type":"if","locations":[{"start":{"line":446,"column":6},"end":{"line":446,"column":5}},{"start":{"line":446,"column":6},"end":{"line":446,"column":5}}]},"38":{"line":447,"type":"if","locations":[{"start":{"line":447,"column":8},"end":{"line":447,"column":7}},{"start":{"line":447,"column":8},"end":{"line":447,"column":7}}]},"39":{"line":453,"type":"if","locations":[{"start":{"line":453,"column":10},"end":{"line":453,"column":9}},{"start":{"line":453,"column":10},"end":{"line":453,"column":9}}]},"40":{"line":453,"type":"binary-expr","locations":[{"start":{"line":453,"column":14},"end":{"line":453,"column":62}},{"start":{"line":453,"column":66},"end":{"line":453,"column":157}}]},"41":{"line":453,"type":"binary-expr","locations":[{"start":{"line":453,"column":94},"end":{"line":453,"column":134}},{"start":{"line":453,"column":138},"end":{"line":453,"column":156}}]},"42":{"line":455,"type":"if","locations":[{"start":{"line":455,"column":17},"end":{"line":455,"column":16}},{"start":{"line":455,"column":17},"end":{"line":455,"column":16}}]},"43":{"line":461,"type":"if","locations":[{"start":{"line":461,"column":10},"end":{"line":461,"column":9}},{"start":{"line":461,"column":10},"end":{"line":461,"column":9}}]},"44":{"line":468,"type":"if","locations":[{"start":{"line":468,"column":6},"end":{"line":468,"column":5}},{"start":{"line":468,"column":6},"end":{"line":468,"column":5}}]},"45":{"line":468,"type":"binary-expr","locations":[{"start":{"line":468,"column":10},"end":{"line":468,"column":58}},{"start":{"line":468,"column":62},"end":{"line":468,"column":109}}]},"46":{"line":472,"type":"if","locations":[{"start":{"line":472,"column":6},"end":{"line":472,"column":5}},{"start":{"line":472,"column":6},"end":{"line":472,"column":5}}]},"47":{"line":481,"type":"if","locations":[{"start":{"line":481,"column":4},"end":{"line":481,"column":3}},{"start":{"line":481,"column":4},"end":{"line":481,"column":3}}]},"48":{"line":483,"type":"if","locations":[{"start":{"line":483,"column":6},"end":{"line":483,"column":5}},{"start":{"line":483,"column":6},"end":{"line":483,"column":5}}]},"49":{"line":492,"type":"if","locations":[{"start":{"line":492,"column":4},"end":{"line":492,"column":3}},{"start":{"line":492,"column":4},"end":{"line":492,"column":3}}]},"50":{"line":494,"type":"if","locations":[{"start":{"line":494,"column":6},"end":{"line":494,"column":5}},{"start":{"line":494,"column":6},"end":{"line":494,"column":5}}]},"51":{"line":496,"type":"if","locations":[{"start":{"line":496,"column":8},"end":{"line":496,"column":7}},{"start":{"line":496,"column":8},"end":{"line":496,"column":7}}]},"52":{"line":510,"type":"if","locations":[{"start":{"line":510,"column":4},"end":{"line":510,"column":3}},{"start":{"line":510,"column":4},"end":{"line":510,"column":3}}]},"53":{"line":514,"type":"if","locations":[{"start":{"line":514,"column":4},"end":{"line":514,"column":3}},{"start":{"line":514,"column":4},"end":{"line":514,"column":3}}]},"54":{"line":518,"type":"if","locations":[{"start":{"line":518,"column":4},"end":{"line":518,"column":3}},{"start":{"line":518,"column":4},"end":{"line":518,"column":3}}]},"55":{"line":522,"type":"if","locations":[{"start":{"line":522,"column":4},"end":{"line":522,"column":3}},{"start":{"line":522,"column":4},"end":{"line":522,"column":3}}]},"56":{"line":526,"type":"if","locations":[{"start":{"line":526,"column":4},"end":{"line":526,"column":3}},{"start":{"line":526,"column":4},"end":{"line":526,"column":3}}]},"57":{"line":530,"type":"if","locations":[{"start":{"line":530,"column":4},"end":{"line":530,"column":3}},{"start":{"line":530,"column":4},"end":{"line":530,"column":3}}]},"58":{"line":534,"type":"if","locations":[{"start":{"line":534,"column":4},"end":{"line":534,"column":3}},{"start":{"line":534,"column":4},"end":{"line":534,"column":3}}]},"59":{"line":538,"type":"if","locations":[{"start":{"line":538,"column":4},"end":{"line":538,"column":3}},{"start":{"line":538,"column":4},"end":{"line":538,"column":3}}]},"60":{"line":551,"type":"if","locations":[{"start":{"line":551,"column":4},"end":{"line":551,"column":3}},{"start":{"line":551,"column":4},"end":{"line":551,"column":3}}]},"61":{"line":559,"type":"if","locations":[{"start":{"line":559,"column":4},"end":{"line":559,"column":3}},{"start":{"line":559,"column":4},"end":{"line":559,"column":3}}]},"62":{"line":564,"type":"if","locations":[{"start":{"line":564,"column":47},"end":{"line":564,"column":46}},{"start":{"line":564,"column":47},"end":{"line":564,"column":46}}]},"63":{"line":570,"type":"if","locations":[{"start":{"line":570,"column":4},"end":{"line":570,"column":3}},{"start":{"line":570,"column":4},"end":{"line":570,"column":3}}]},"64":{"line":571,"type":"binary-expr","locations":[{"start":{"line":571,"column":45},"end":{"line":571,"column":51}},{"start":{"line":571,"column":55},"end":{"line":571,"column":102}}]},"65":{"line":573,"type":"if","locations":[{"start":{"line":573,"column":4},"end":{"line":573,"column":3}},{"start":{"line":573,"column":4},"end":{"line":573,"column":3}}]},"66":{"line":574,"type":"binary-expr","locations":[{"start":{"line":574,"column":47},"end":{"line":574,"column":53}},{"start":{"line":574,"column":57},"end":{"line":574,"column":104}}]},"67":{"line":576,"type":"if","locations":[{"start":{"line":576,"column":4},"end":{"line":576,"column":3}},{"start":{"line":576,"column":4},"end":{"line":576,"column":3}}]},"68":{"line":577,"type":"binary-expr","locations":[{"start":{"line":577,"column":46},"end":{"line":577,"column":52}},{"start":{"line":577,"column":56},"end":{"line":577,"column":103}}]},"69":{"line":579,"type":"if","locations":[{"start":{"line":579,"column":4},"end":{"line":579,"column":3}},{"start":{"line":579,"column":4},"end":{"line":579,"column":3}}]},"70":{"line":579,"type":"binary-expr","locations":[{"start":{"line":579,"column":8},"end":{"line":579,"column":20}},{"start":{"line":579,"column":24},"end":{"line":579,"column":47}}]},"71":{"line":581,"type":"binary-expr","locations":[{"start":{"line":581,"column":46},"end":{"line":581,"column":52}},{"start":{"line":581,"column":56},"end":{"line":581,"column":103}}]},"72":{"line":131,"type":"cond-expr","locations":[{"start":{"line":131,"column":122},"end":{"line":131,"column":156}},{"start":{"line":131,"column":159},"end":{"line":131,"column":163}}]},"73":{"line":131,"type":"binary-expr","locations":[{"start":{"line":131,"column":63},"end":{"line":131,"column":79}},{"start":{"line":131,"column":83},"end":{"line":131,"column":119}}]},"74":{"line":599,"type":"if","locations":[{"start":{"line":599,"column":121},"end":{"line":599,"column":120}},{"start":{"line":599,"column":121},"end":{"line":599,"column":120}}]},"75":{"line":613,"type":"if","locations":[{"start":{"line":613,"column":4},"end":{"line":613,"column":3}},{"start":{"line":613,"column":4},"end":{"line":613,"column":3}}]},"76":{"line":619,"type":"if","locations":[{"start":{"line":619,"column":4},"end":{"line":619,"column":3}},{"start":{"line":619,"column":4},"end":{"line":619,"column":3}}]},"77":{"line":619,"type":"binary-expr","locations":[{"start":{"line":619,"column":8},"end":{"line":619,"column":32}},{"start":{"line":619,"column":36},"end":{"line":619,"column":64}}]},"78":{"line":627,"type":"if","locations":[{"start":{"line":627,"column":4},"end":{"line":627,"column":3}},{"start":{"line":627,"column":4},"end":{"line":627,"column":3}}]},"79":{"line":631,"type":"if","locations":[{"start":{"line":631,"column":4},"end":{"line":631,"column":3}},{"start":{"line":631,"column":4},"end":{"line":631,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":117,"26":1,"27":1,"28":179,"29":116,"30":116,"31":116,"32":116,"33":116,"34":116,"35":0,"36":116,"37":116,"38":116,"39":116,"40":116,"41":115,"42":116,"43":116,"44":116,"45":116,"46":116,"47":116,"48":116,"49":116,"50":13,"51":116,"52":39,"53":116,"54":37,"55":116,"56":4,"57":116,"58":2,"59":1,"60":1,"61":114,"62":6,"63":116,"64":116,"65":0,"66":116,"67":116,"68":116,"69":1,"70":120,"71":120,"72":120,"73":1,"74":37,"75":37,"76":1,"77":10,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1217,"85":1,"86":31,"87":9,"88":31,"89":28,"90":31,"91":1,"92":50,"93":1,"94":116,"95":116,"96":116,"97":0,"98":1,"99":116,"100":116,"101":115,"102":115,"103":1,"104":115,"105":115,"106":115,"107":33,"108":33,"109":115,"110":3,"111":3,"112":1,"113":13,"114":13,"115":13,"116":13,"117":13,"118":6,"119":6,"120":0,"121":0,"122":0,"123":13,"124":6,"125":6,"126":0,"127":0,"128":13,"129":6,"130":13,"131":6,"132":1,"133":6,"134":6,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":6,"142":1,"143":6,"144":6,"145":6,"146":6,"147":6,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":6,"161":0,"162":0,"163":6,"164":0,"165":6,"166":1,"167":6,"168":6,"169":6,"170":6,"171":6,"172":6,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":6,"188":0,"189":0,"190":6,"191":0,"192":6,"193":1,"194":6,"195":6,"196":6,"197":6,"198":0,"199":0,"200":6,"201":1,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":1,"217":39,"218":1,"219":39,"220":1,"221":39,"222":1,"223":39,"224":39,"225":39,"226":39,"227":39,"228":1,"229":39,"230":1,"231":39,"232":39,"233":39,"234":39,"235":1,"236":37,"237":37,"238":37,"239":37,"240":0,"241":1,"242":4,"243":4,"244":4,"245":0,"246":1,"247":41,"248":45,"249":41,"250":41,"251":41,"252":41,"253":41,"254":4,"255":41,"256":4,"257":41,"258":0,"259":41,"260":0,"261":0,"262":1,"263":1,"264":111,"265":0,"266":109,"267":110,"268":1,"269":1,"270":1,"271":1,"272":1,"273":1,"274":0,"275":0,"276":0,"277":0,"278":0,"279":0,"280":0,"281":1,"282":0,"283":0,"284":0,"285":0,"286":0,"287":0,"288":0,"289":1,"290":0,"291":0,"292":0,"293":0,"294":0,"295":0,"296":0,"297":0,"298":1,"299":0,"300":1,"301":1,"302":1,"303":1},"b":{"1":[63,53],"2":[0,116],"3":[115,1],"4":[2,114],"5":[1,1],"6":[116,116],"7":[1,0],"8":[9,22],"9":[28,3],"10":[116,0],"11":[115,1],"12":[6,7],"13":[0,6],"14":[0,0],"15":[0,0],"16":[6,7],"17":[0,6],"18":[0,0],"19":[6,7],"20":[6,7],"21":[0,6],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[6,0],"27":[0,6],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,6],"34":[6,0],"35":[0,6],"36":[6,0],"37":[6,0],"38":[0,6],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,6],"45":[6,0],"46":[0,6],"47":[6,0],"48":[0,6],"49":[0,0],"50":[0,0],"51":[0,0],"52":[1,38],"53":[1,38],"54":[1,38],"55":[39,0],"56":[39,0],"57":[1,38],"58":[1,38],"59":[39,0],"60":[0,37],"61":[0,4],"62":[4,37],"63":[4,37],"64":[4,2],"65":[4,37],"66":[4,2],"67":[0,41],"68":[0,0],"69":[0,41],"70":[41,41],"71":[0,0],"72":[0,0],"73":[0,0],"74":[0,0],"75":[0,0],"76":[0,0],"77":[0,0],"78":[0,0],"79":[0,0]},"f":{"1":1,"2":116,"3":13,"4":39,"5":37,"6":4,"7":6,"8":0,"9":120,"10":37,"11":10,"12":1,"13":1217,"14":31,"15":50,"16":116,"17":116,"18":115,"19":115,"20":33,"21":33,"22":3,"23":3,"24":13,"25":6,"26":0,"27":6,"28":0,"29":0,"30":0,"31":0,"32":6,"33":0,"34":0,"35":0,"36":0,"37":6,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":39,"45":37,"46":4,"47":41,"48":0,"49":111,"50":0,"51":109,"52":110,"53":1,"54":0,"55":0,"56":0,"57":0,"58":0},"code":"import {SearchEndpoint} from '../../rest/SearchEndpoint';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {DeviceUtils} from '../../utils/DeviceUtils';\nimport {$$} from '../../utils/Dom';\nimport {DomUtils} from '../../utils/DomUtils';\nimport {Assert} from '../../misc/Assert';\nimport {QueryStateModel} from '../../models/QueryStateModel';\nimport {ComponentStateModel} from '../../models/ComponentStateModel';\nimport {ComponentOptionsModel} from '../../models/ComponentOptionsModel';\nimport {QueryController} from '../../controllers/QueryController';\nimport {Model, IAttributeChangedEventArg} from '../../models/Model';\nimport {QueryEvents, IBuildingQueryEventArgs, INewQueryEventArgs, IQuerySuccessEventArgs, IQueryErrorEventArgs} from '../../events/QueryEvents';\nimport {IBeforeRedirectEventArgs, StandaloneSearchInterfaceEvents} from '../../events/StandaloneSearchInterfaceEvents';\nimport {HistoryController} from '../../controllers/HistoryController';\nimport {LocalStorageHistoryController} from '../../controllers/LocalStorageHistoryController';\nimport {InitializationEvents} from '../../events/InitializationEvents';\nimport {IAnalyticsClient} from '../Analytics/AnalyticsClient';\nimport {NoopAnalyticsClient} from '../Analytics/NoopAnalyticsClient';\nimport {Utils} from '../../utils/Utils';\nimport {RootComponent} from '../Base/RootComponent';\nimport {BaseComponent} from '../Base/BaseComponent';\nimport {Debug} from '../Debug/Debug';\nimport {HashUtils} from '../../utils/HashUtils';\nimport FastClick = require('fastclick');\nimport timezone = require('jstz');\n\nexport interface ISearchInterfaceOptions {\n  enableHistory?: boolean;\n  enableAutomaticResponsiveMode?: boolean;\n  useLocalStorageForHistory?: boolean;\n  resultsPerPage?: number;\n  excerptLength?: number;\n  expression?: string;\n  filterField?: string;\n  hideUntilFirstQuery?: boolean;\n  firstLoadingAnimation?: HTMLElement;\n  autoTriggerQuery?: boolean;\n  timezone?: string;\n  enableDebugInfo?: boolean;\n  enableCollaborativeRating?: boolean;\n  enableDuplicateFiltering?: boolean;\n  pipeline?: string;\n  maximumAge?: number;\n  searchPageUri?: string;\n  initOptions?: any;\n  endpoint?: SearchEndpoint;\n  originalOptionsObject?: any;\n}\n\n/**\n * This component is the root and main component of your search interface.<br/>\n * You should place every other component inside this component.<br/>\n * It is also on this component that you call the initialization function.<br/>\n * Since this component is the root of your search UI, it is recommended that you give it a unique HTML id attribute in order to reference it easily.\n */\nexport class SearchInterface extends RootComponent {\n  static ID = 'SearchInterface';\n  /**\n   * The options for the search interface\n   * @componentOptions\n   */\n  static options: ISearchInterfaceOptions = {\n    /**\n     * Specifies whether your search interface allows users to navigate in the search history using the browser back/forward buttons.<br/>\n     * When enabled, the search interface saves the state of the current query in the hash portion of the URL.<br/>\n     * For example #q=foobar.<br/>\n     * The default value is `false`.\n     */\n    enableHistory: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    /**\n     * Specifies wether the UI should use an automatic responsive mode (eg : The tab(s) and facet(s) being placed automatically under the search box)<br/>\n     * This can be disabled for design reasons, if it does not fit with the implementation needs.<br/>\n     * The default value is `true`\n     */\n    enableAutomaticResponsiveMode: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies that you wish to use the local storage of the browser to store the state of the interface.<br/>\n     * This can be used for very specific purpose, and only if you know what you are doing.<br/>\n     * Default value is false.\n     */\n    useLocalStorageForHistory: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    /**\n     * Specifies the number of results that each page displays.<br/>\n     * Default is 10.\n     */\n    resultsPerPage: ComponentOptions.buildNumberOption({ defaultValue: 10, min: 0 }),\n    /**\n     * Specifies the number of characters of the excerpt to get at query time and display for each query result.<br/>\n     * This setting is global and can not be modified on a per result basis.<br/>\n     * The default value is 200.\n     */\n    excerptLength: ComponentOptions.buildNumberOption({ defaultValue: 200, min: 0 }),\n    /**\n     * Specifies an expression to add to each query.<br/>\n     * This should be use if you wish to add a global filter for your whole search interface that applies for all tab.<br/>\n     * Do not use this for security concern ... (It's javascript after all).<br/>\n     * By default none is added.\n     */\n    expression: ComponentOptions.buildStringOption({ defaultValue: '' }),\n    /**\n     * Specifies the name of a field to use as a custom filter when executing the query (also referred to as 'folding').<br/>\n     * Setting this option causes the index to return only one result having any particular value inside the filter field. Any other matching result is 'folded' inside the childResults member of each JSON query result.<br/>\n     * This feature is typically used with threaded conversations to include only one top-level result per conversation. Thus, the field specified in this option typically is a value unique to each thread that is shared by all items (e.g., posts, emails, etc.) in the thread.<br/>\n     * This is obviously an advanced feature. Instead, look into using the {@link Folding} component, which covers a lot of different use cases.<br/>\n     * By default none is added\n     */\n    filterField: ComponentOptions.buildStringOption({ defaultValue: '' }),\n    /**\n     * Specifies whether the interface should display a loading animation before the first query has completed successfully.<br/>\n     * Note that if you set autoTriggerQuery to false, this means that the loading animation won't go away automatically.<br/>\n     * Default is true.\n     */\n    hideUntilFirstQuery: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies the animation that you wish to use for your interface.<br/>\n     * This can be either a selector, or an element that matches the correct css class.<br/>\n     * Eg : firstLoadingAnimation : '.CustomFirstLoadingAnimation' / data-first-loading-animation='.CustomFirstLoadingAnimation'.</br>\n     * Eg : &lt;element class='CoveoSearchInterface'&gt;&lt;element class='coveo-first-loading-animation'/&gt;&lt;/element&gt;<br/>\n     * By default, this will be a Coveo CSS animation (which can also be customized with css)\n     */\n    firstLoadingAnimation: ComponentOptions.buildChildHtmlElementOption({\n      childSelector: '.coveo-first-loading-animation',\n      defaultFunction: () => DomUtils.getBasicLoadingAnimation()\n    }),\n    /**\n     * Specifies whether the init function should trigger the first query automatically when the page is loaded.<br/>\n     * Note that if you set this to false, then the hideUntilFirstQuery option still applies. This means that the animation will still show until a query is triggered.<br/>\n     * Default is true.\n     */\n    autoTriggerQuery: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    endpoint: ComponentOptions.buildCustomOption((endpoint) => endpoint != null && endpoint in SearchEndpoint.endpoints ? SearchEndpoint.endpoints[endpoint] : null, { defaultFunction: () => SearchEndpoint.endpoints['default'] }),\n    /**\n     * Specifies the timezone in which the search interface is loaded. This allows the index to recognize some special query syntax.<br/>\n     * This must be an IANA zone info key (aka the Olson time zone database). For example : 'America/New_York'.<br/>\n     * By default, we use a library that tries to detect the timezone automatically.<br/>\n     */\n    timezone: ComponentOptions.buildStringOption({ defaultFunction: () => timezone.jstz.determine().name() }),\n    /**\n     * Specifies whether to enable the feature that allows users to ALT + double click on any results to get the Debug page with a detailed view of all the properties and fields for a given result.<br/>\n     * This has no security concern (as all those informations are visible to users through the browser developer console or by calling the Coveo API directly).<br/>\n     * The default value is true.\n     */\n    enableDebugInfo: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies whether to enable the collaborative rating for the index and and include the user rating on each results to the normal index ranking.<br/>\n     * If activated, this option can be leveraged with the {@link ResultRating} component.<br/>\n     * The default value is false.\n     */\n    enableCollaborativeRating: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    /**\n     * Specifies whether to filter duplicates on the search results.<br/>\n     * When true, duplicates do not appear in search results, but they however are included in facet counts, which can be sometimes confusing for the users. This is a limitation of the index.<br/>\n     * Example: The user narrows a query to one document that has a duplicate. Only one document appears in search results, but the facet count is 2.<br/>\n     * The default value is false.\n     */\n    enableDuplicateFiltering: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    /**\n     * Specifies the name of the query pipeline to use for the queries. If not specified, the default value is default, which means the default query pipeline will be used.<br/>\n     * You can use this parameter for example when your index is in a Coveo Cloud Organization where you created pipelines (see https://onlinehelp.coveo.com/en/cloud/creating_and_managing_query_pipelines.htm).<br/>\n     * Default value is 'default'.\n     */\n    pipeline: ComponentOptions.buildStringOption(),\n    /**\n     * Specifies the maximum age in milliseconds that cached query results can have in order to be used (instead of performing a new query on the index).<br/>\n     * If cached results are available but are older than the specified age, a new query will be performed on the index.<br/>\n     * On high-volume public web sites, having a larger maximum age can greatly improve query response time at the cost of result freshness.<br/>\n     * By default, the Coveo Search API will determine the cache length. This is typically 15 minutes.\n     */\n    maximumAge: ComponentOptions.buildNumberOption(),\n    /**\n     * Specifies the search page you wish to navigate to when instantiating a standalone search box interface.<br/>\n     * By default this is undefined, meaning the search interface will not redirect.\n     */\n    searchPageUri: ComponentOptions.buildStringOption()\n  };\n\n  public static SMALL_INTERFACE_CLASS_NAME = 'coveo-small-search-interface';\n\n  private attachedComponents: { [type: string]: BaseComponent[] };\n  private isNewDesignAttribute = false;\n\n  public root: HTMLElement;\n  public queryStateModel: QueryStateModel;\n  public componentStateModel: ComponentStateModel;\n  public queryController: QueryController;\n  public componentOptionsModel: ComponentOptionsModel;\n  public usageAnalytics: IAnalyticsClient;\n\n  /**\n   * Create a new search interface. Initialize letious singleton for the interface (eg : Usage analytic, query controller, state model, etc.)<br/>\n   * Bind event related to the query.<br/>\n   * Will hide and show the loading animation, if activated.<br/>\n   * @param element The HTMLElement on which the element will be instantiated. This cannot be an HTMLInputElement for technical reason\n   * @param options The options for the querybox.\n   * @param analyticsOptions The options for the analytics component. Since the analytics component is normally global, it needs to be passed at initialization of the whole interface\n   * @param _window The window object for the search interface. Used for unit tests, which can pass a mock. Default is the global window object.\n   */\n  constructor(public element: HTMLElement, public options?: ISearchInterfaceOptions, public analyticsOptions?, _window = window) {\n    super(element, SearchInterface.ID);\n\n    if (DeviceUtils.isMobileDevice()) {\n      $$(document.body).addClass('coveo-mobile-device');\n    }\n\n    FastClick.attach(element);\n\n    this.options = ComponentOptions.initComponentOptions(element, SearchInterface, options);\n    Assert.exists(element);\n    Assert.exists(this.options);\n\n    if (this.options.hideUntilFirstQuery) {\n      this.showAndHideFirstQueryAnimation();\n    }\n\n    this.root = element;\n    this.queryStateModel = new QueryStateModel(element);\n    this.componentStateModel = new ComponentStateModel(element);\n    this.componentOptionsModel = new ComponentOptionsModel(element);\n    this.usageAnalytics = this.initializeAnalytics();\n    this.queryController = new QueryController(element, this.options, this.usageAnalytics, this);\n\n\n    let eventName = this.queryStateModel.getEventName(Model.eventTypes.preprocess);\n    $$(this.element).on(eventName, (e, args) => this.handlePreprocessQueryStateModel(args));\n    $$(this.element).on(QueryEvents.buildingQuery, (e, args) => this.handleBuildingQuery(args));\n    $$(this.element).on(QueryEvents.querySuccess, (e, args) => this.handleQuerySuccess(args));\n    $$(this.element).on(QueryEvents.queryError, (e, args) => this.handleQueryError(args));\n\n    if (this.options.enableHistory) {\n      if (!this.options.useLocalStorageForHistory) {\n        new HistoryController(element, _window, this.queryStateModel, this.queryController);\n      } else {\n        new LocalStorageHistoryController(element, _window, this.queryStateModel, this.queryController);\n      }\n    } else {\n      $$(this.element).on(InitializationEvents.restoreHistoryState, () => this.queryStateModel.setMultiple(this.queryStateModel.defaultAttributes))\n    }\n\n    let eventNameQuickview = this.queryStateModel.getEventName(Model.eventTypes.changeOne + QueryStateModel.attributesEnum.quickview);\n    $$(this.element).on(eventNameQuickview, (e, args) => this.handleQuickviewChanged(args));\n    // shows the UI, since it's been hidden while loading\n    this.element.style.display = element.style.display || 'block';\n    this.setupDebugInfo();\n    this.isNewDesignAttribute = this.root.getAttribute('data-design') == 'new';\n  }\n\n  /**\n   * Display the first query animation.<br/>\n   * This is normally the Coveo logo with a css animation (which can be customized with options or css)\n   */\n  public showWaitAnimation() {\n    $$(this.options.firstLoadingAnimation).detach();\n    $$(this.element).addClass('coveo-waiting-for-first-query');\n    this.element.appendChild(this.options.firstLoadingAnimation);\n  }\n\n  /**\n   * Hide the first query animation.<br/>\n   * This is normally the Coveo logo with a css animation (which can be customized with options or css)\n   */\n  public hideWaitAnimation() {\n    $$(this.options.firstLoadingAnimation).detach();\n    $$(this.element).removeClass('coveo-waiting-for-first-query');\n  }\n\n  /**\n   * Attach a component to the interface. This allows the interface to easily list and traverse it's component.\n   * @param type Normally a unique identifier without the Coveo prefix. Eg : CoveoFacet -> Facet, CoveoPager -> Pager, CoveoQuerybox -> Querybox, etc.\n   * @param component The component instance to attach\n   */\n  public attachComponent(type: string, component: BaseComponent) {\n    this.getComponents(type).push(component);\n  }\n\n  /**\n   * Detach a component from the interface.\n   * @param type Normally a unique identifier without the Coveo prefix. Eg : CoveoFacet -> Facet, CoveoPager -> Pager, CoveoQuerybox -> Querybox, etc.\n   * @param component The component instance to detach\n   */\n  public detachComponent(type: string, component: BaseComponent) {\n    let components = this.getComponents(type);\n    let index = _.indexOf(components, component);\n    if (index > -1) {\n      components.splice(index, 1);\n    }\n  }\n\n  /**\n   * Return the bindings, or environment, for the current component\n   * @returns {IComponentBindings}\n   */\n  public getBindings() {\n    return {\n      root: this.root,\n      queryStateModel: this.queryStateModel,\n      queryController: this.queryController,\n      searchInterface: <SearchInterface>this,\n      componentStateModel: this.componentStateModel,\n      componentOptionsModel: this.componentOptionsModel,\n      usageAnalytics: this.usageAnalytics\n    };\n  }\n\n  /**\n   * Get all the components for a given type\n   * @param type Normally a unique identifier without the Coveo prefix. Eg : CoveoFacet -> Facet, CoveoPager -> Pager, CoveoQuerybox -> Querybox, etc.\n   */\n  public getComponents<T>(type: string): T[];\n  /**\n   * Get all the components for a given type\n   * @param type Normally a unique identifier without the Coveo prefix. Eg : CoveoFacet -> Facet, CoveoPager -> Pager, CoveoQuerybox -> Querybox, etc.\n   */\n  public getComponents(type: string): BaseComponent[] {\n    if (this.attachedComponents == null) {\n      this.attachedComponents = {};\n    }\n    if (!(type in this.attachedComponents)) {\n      this.attachedComponents[type] = [];\n    }\n    return this.attachedComponents[type];\n  }\n\n  /**\n   * Determines whether the interface is using the new design.<br/>\n   * This changes the rendering of multiple components.\n   */\n  public isNewDesign() {\n    return this.isNewDesignAttribute;\n  }\n\n  protected initializeAnalytics(): IAnalyticsClient {\n    let analyticsRef = BaseComponent.getComponentRef('Analytics');\n    if (analyticsRef) {\n      return analyticsRef.create(this.element, this.analyticsOptions);\n    }\n    return new NoopAnalyticsClient();\n  }\n\n  private setupDebugInfo() {\n    if (this.options.enableDebugInfo) {\n      setTimeout(() => new Debug(this.element, this.queryController));\n    }\n  }\n\n  private showAndHideFirstQueryAnimation() {\n    this.showWaitAnimation();\n    // On first query success or error, wait for call stack to finish, then remove the animation\n    $$(this.element).one(QueryEvents.querySuccess, () => {\n      _.defer(() => this.hideWaitAnimation());\n    })\n    $$(this.element).one(QueryEvents.queryError, () => {\n      _.defer(() => this.hideWaitAnimation());\n    })\n  }\n\n  private handlePreprocessQueryStateModel(args: any) {\n    let tgFromModel = this.queryStateModel.get(QueryStateModel.attributesEnum.tg);\n    let tFromModel = this.queryStateModel.get(QueryStateModel.attributesEnum.t);\n\n    let tg = tgFromModel;\n    let t = tFromModel;\n\n    // if you want to set the tab group\n    if (args.tg !== undefined) {\n      args.tg = this.getTabGroupId(args.tg);\n      if (tg != args.tg) {\n        args.t = args.t || QueryStateModel.defaultAttributes.t;\n        args.sort = args.sort || QueryStateModel.defaultAttributes.sort;\n        tg = args.tg;\n      }\n    }\n\n    if (args.t !== undefined) {\n      args.t = this.getTabId(tg, args.t);\n      if (t != args.t) {\n        args.sort = args.sort || QueryStateModel.defaultAttributes.sort;\n        t = args.t;\n      }\n    }\n\n    if (args.sort !== undefined) {\n      args.sort = this.getSort(t, args.sort);\n    }\n\n    if (args.quickview !== undefined) {\n      args.quickview = this.getQuickview(args.quickview);\n    }\n  }\n\n  private getTabGroupId(tabGroupId: string) {\n    let tabGroupRef = BaseComponent.getComponentRef('TabGroup')\n    if (tabGroupRef) {\n      let tabGroups = this.getComponents<any>(tabGroupRef.ID);\n      // check if the tabgroup is correct\n      if (tabGroupId != QueryStateModel.defaultAttributes.tg && _.any(tabGroups, (tabGroup: any) => !tabGroup.disabled && tabGroupId == tabGroup.options.id)) {\n        return tabGroupId;\n      }\n      // select the first tabGroup\n      if (tabGroups.length > 0) {\n        return tabGroups[0].options.id\n      }\n    }\n    return QueryStateModel.defaultAttributes.tg;\n  }\n\n  private getTabId(tabGroupId: string, tabId: string) {\n    let tabRef = BaseComponent.getComponentRef('Tab');\n    let tabGroupRef = BaseComponent.getComponentRef('TabGroup');\n    if (tabRef) {\n      let tabs = this.getComponents<any>(tabRef.ID);\n      if (tabGroupRef) {\n        // if has a tabGroup\n        if (tabGroupId != QueryStateModel.defaultAttributes.tg) {\n          let tabGroups = this.getComponents<any>(tabGroupRef.ID);\n          let tabGroup = _.find(tabGroups, (tabGroup: any) => tabGroupId == tabGroup.options.id);\n          // check if the tabgroup contain this tab\n          if (tabId != QueryStateModel.defaultAttributes.t && _.any(tabs, (tab: any) => tabId == tab.options.id && tabGroup.isElementIncludedInTabGroup(tab.element))) {\n            return tabId;\n          }\n          // select the first tab in the tabGroup\n          let tab = _.find(tabs, (tab: any) => tabGroup.isElementIncludedInTabGroup(tab.element));\n          if (tab != null) {\n            return tab.options.id;\n          }\n          return QueryStateModel.defaultAttributes.t;\n        }\n      }\n      // check if the tab is correct\n      if (tabId != QueryStateModel.defaultAttributes.t && _.any(tabs, (tab: any) => tabId == tab.options.id)) {\n        return tabId;\n      }\n      // select the first tab\n      if (tabs.length > 0) {\n        return tabs[0].options.id\n      }\n    }\n    return QueryStateModel.defaultAttributes.t;\n  }\n\n  private getSort(tabId: string, sortId: string) {\n    let sortRef = BaseComponent.getComponentRef('Sort');\n    if (sortRef) {\n      let sorts = this.getComponents<any>(sortRef.ID);\n      // if has a selected tab\n      let tabRef = BaseComponent.getComponentRef('Tab');\n      if (tabRef) {\n        if (tabId != QueryStateModel.defaultAttributes.t) {\n          let tabs = this.getComponents<any>(tabRef.ID);\n          let tab = _.find(tabs, (tab: any) => tabId == tab.options.id);\n          let sortCriteria = tab.options.sort;\n\n          // check if the tab contain this sort\n          if (sortId != QueryStateModel.defaultAttributes.sort && _.any(sorts, (sort: any) => tab.isElementIncludedInTab(sort.element) && sort.match(sortId))) {\n            return sortId;\n          } else if (sortCriteria != null) {\n            // if not and tab.options.sort is set apply it\n            return sortCriteria.toString();\n          }\n          // select the first sort in the tab\n          let sort = _.find(sorts, (sort: any) => tab.isElementIncludedInTab(sort.element));\n          if (sort != null) {\n            return sort.options.sortCriteria[0].toString();\n          }\n          return QueryStateModel.defaultAttributes.sort;\n        }\n      }\n      // check if the sort is correct\n      if (sortId != QueryStateModel.defaultAttributes.sort && _.any(sorts, (sort: any) => sort.match(sortId))) {\n        return sortId;\n      }\n      // select the first sort\n      if (sorts.length > 0) {\n        return sorts[0].options.sortCriteria[0].toString();\n      }\n    }\n    return QueryStateModel.defaultAttributes.sort;\n  }\n\n  private getQuickview(quickviewId: string) {\n    let quickviewRef = BaseComponent.getComponentRef('Quickview');\n    if (quickviewRef) {\n      let quickviews = this.getComponents<any>(quickviewRef.ID);\n      if (_.any(quickviews, (quickview: any) => quickview.getHashId() == quickviewId)) {\n        return quickviewId;\n      }\n    }\n    return QueryStateModel.defaultAttributes.quickview;\n  }\n\n  private handleQuickviewChanged(args: IAttributeChangedEventArg) {\n    let quickviewRef = BaseComponent.getComponentRef('Quickview');\n    if (quickviewRef) {\n      let quickviews = this.getComponents<any>(quickviewRef.ID);\n      if (args.value != '') {\n        let quickviewsPartition = _.partition(quickviews, (quickview) => quickview.getHashId() == args.value)\n        if (quickviewsPartition[0].length != 0) {\n          _.first(quickviewsPartition[0]).open();\n          _.forEach(_.tail(quickviewsPartition[0]), (quickview) => quickview.close());\n        }\n        _.forEach(quickviewsPartition[1], (quickview) => quickview.close());\n      } else {\n        _.forEach(quickviews, (quickview) => {\n          quickview.close()\n        });\n      }\n    }\n  }\n\n  private handleBuildingQuery(data: IBuildingQueryEventArgs) {\n    if (this.options.enableDuplicateFiltering) {\n      data.queryBuilder.enableDuplicateFiltering = true;\n    }\n\n    if (!Utils.isNullOrUndefined(this.options.pipeline)) {\n      data.queryBuilder.pipeline = this.options.pipeline;\n    }\n\n    if (!Utils.isNullOrUndefined(this.options.maximumAge)) {\n      data.queryBuilder.maximumAge = this.options.maximumAge;\n    }\n\n    if (!Utils.isNullOrUndefined(this.options.resultsPerPage)) {\n      data.queryBuilder.numberOfResults = this.options.resultsPerPage;\n    }\n\n    if (!Utils.isNullOrUndefined(this.options.excerptLength)) {\n      data.queryBuilder.excerptLength = this.options.excerptLength;\n    }\n\n    if (Utils.isNonEmptyString(this.options.expression)) {\n      data.queryBuilder.advancedExpression.add(this.options.expression);\n    }\n\n    if (Utils.isNonEmptyString(this.options.filterField)) {\n      data.queryBuilder.filterField = this.options.filterField;\n    }\n\n    if (Utils.isNonEmptyString(this.options.timezone)) {\n      data.queryBuilder.timezone = this.options.timezone;\n    }\n\n    data.queryBuilder.enableCollaborativeRating = this.options.enableCollaborativeRating;\n\n    data.queryBuilder.enableDuplicateFiltering = this.options.enableDuplicateFiltering;\n  }\n\n  private handleQuerySuccess(data: IQuerySuccessEventArgs) {\n    let noResults = data.results.results.length == 0;\n    this.toggleSectionState('coveo-no-results', noResults);\n    let resultsHeader = $$(this.element).find('.coveo-results-header');\n    if (resultsHeader) {\n      $$(resultsHeader).removeClass('coveo-query-error');\n    }\n  }\n\n  private handleQueryError(data: IQueryErrorEventArgs) {\n    this.toggleSectionState('coveo-no-results');\n    let resultsHeader = $$(this.element).find('.coveo-results-header');\n    if (resultsHeader) {\n      $$(resultsHeader).addClass('coveo-query-error');\n    }\n  }\n\n  private toggleSectionState(cssClass: string, toggle = true) {\n    let facetSection = $$(this.element).find('.coveo-facet-column');\n    let resultsSection = $$(this.element).find('.coveo-results-column');\n    let resultsHeader = $$(this.element).find('.coveo-results-header');\n    let facetSearchs = $$(this.element).findAll('.coveo-facet-search-results');\n\n    if (facetSection) {\n      $$(facetSection).toggleClass(cssClass, toggle && !this.queryStateModel.atLeastOneFacetIsActive());\n    }\n    if (resultsSection) {\n      $$(resultsSection).toggleClass(cssClass, toggle && !this.queryStateModel.atLeastOneFacetIsActive());\n    }\n    if (resultsHeader) {\n      $$(resultsHeader).toggleClass(cssClass, toggle && !this.queryStateModel.atLeastOneFacetIsActive());\n    }\n    if (facetSearchs && facetSearchs.length > 0) {\n      _.each(facetSearchs, (facetSearch) => {\n        $$(facetSearch).toggleClass(cssClass, toggle && !this.queryStateModel.atLeastOneFacetIsActive());\n      })\n    }\n  }\n}\n\n\nexport interface IStandaloneSearchInterfaceOptions extends ISearchInterfaceOptions {\n  redirectIfEmpty?: boolean;\n}\n\nexport class StandaloneSearchInterface extends SearchInterface {\n  static ID = 'StandaloneSearchInterface'\n\n  public static options: IStandaloneSearchInterfaceOptions = {\n    redirectIfEmpty: ComponentOptions.buildBooleanOption({ defaultValue: true })\n  }\n\n  constructor(public element: HTMLElement, public options?: IStandaloneSearchInterfaceOptions, public analyticsOptions?, _window = window) {\n    super(element, ComponentOptions.initComponentOptions(element, StandaloneSearchInterface, options), analyticsOptions, _window);\n    $$(this.root).on(QueryEvents.newQuery, (e: Event, args: INewQueryEventArgs) => this.handleRedirect(e, args));\n  }\n\n  public handleRedirect(e: Event, data: INewQueryEventArgs) {\n\n    let dataToSendOnBeforeRedirect: IBeforeRedirectEventArgs = {\n      searchPageUri: this.options.searchPageUri,\n      cancel: false\n    }\n\n    $$(this.root).trigger(StandaloneSearchInterfaceEvents.beforeRedirect, dataToSendOnBeforeRedirect);\n\n    if (dataToSendOnBeforeRedirect.cancel) {\n      return;\n    }\n\n    data.cancel = true;\n\n    if (!this.searchboxIsEmpty() || this.options.redirectIfEmpty) {\n      this.redirectToSearchPage(dataToSendOnBeforeRedirect.searchPageUri);\n    }\n  }\n\n  public redirectToSearchPage(searchPage: string) {\n    let stateValues = this.queryStateModel.getAttributes();\n    let uaCausedBy = this.usageAnalytics.getCurrentEventCause();\n    if (uaCausedBy != null) {\n      stateValues['firstQueryCause'] = uaCausedBy;\n    }\n    let uaMeta = this.usageAnalytics.getCurrentEventMeta();\n    if (uaMeta != null) {\n      stateValues['firstQueryMeta'] = uaMeta;\n    }\n    window.location.href = searchPage + '#' + HashUtils.encodeValues(stateValues);\n  }\n\n  private searchboxIsEmpty(): boolean {\n    return Utils.isEmptyString(this.queryStateModel.get(QueryStateModel.attributesEnum.q))\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/SearchInterface/SearchInterface.ts\n **/","l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"56":117,"57":1,"62":1,"123":111,"131":109,"137":110,"177":1,"180":116,"198":179,"199":116,"201":116,"202":0,"205":116,"207":116,"208":116,"209":116,"211":116,"212":115,"215":116,"216":116,"217":116,"218":116,"219":116,"220":116,"223":116,"224":116,"225":116,"226":116,"227":116,"229":116,"230":2,"231":1,"233":1,"236":114,"239":116,"240":116,"242":116,"243":116,"244":116,"251":1,"252":120,"253":120,"254":120,"261":1,"262":37,"263":37,"271":1,"272":10,"280":1,"281":1,"282":1,"283":1,"284":1,"292":1,"293":1217,"313":1,"314":31,"315":9,"317":31,"318":28,"320":31,"327":1,"328":50,"331":1,"332":116,"333":116,"334":116,"336":0,"339":116,"340":116,"341":115,"345":115,"346":115,"348":115,"349":33,"351":115,"352":3,"356":1,"357":13,"358":13,"360":13,"361":13,"364":13,"365":6,"366":6,"367":0,"368":0,"369":0,"373":13,"374":6,"375":6,"376":0,"377":0,"381":13,"382":6,"385":13,"386":6,"390":1,"391":6,"392":6,"393":0,"395":0,"396":0,"399":0,"400":0,"403":6,"406":1,"407":6,"408":6,"409":6,"410":6,"411":6,"413":0,"414":0,"415":0,"417":0,"418":0,"421":0,"422":0,"423":0,"425":0,"429":6,"430":0,"433":6,"434":0,"437":6,"440":1,"441":6,"442":6,"443":6,"445":6,"446":6,"447":6,"448":0,"449":0,"450":0,"453":0,"454":0,"455":0,"457":0,"460":0,"461":0,"462":0,"464":0,"468":6,"469":0,"472":6,"473":0,"476":6,"479":1,"480":6,"481":6,"482":6,"483":6,"484":0,"487":6,"490":1,"491":0,"492":0,"493":0,"494":0,"495":0,"496":0,"497":0,"498":0,"500":0,"502":0,"503":0,"509":1,"510":39,"511":1,"514":39,"515":1,"518":39,"519":1,"522":39,"523":39,"526":39,"527":39,"530":39,"531":1,"534":39,"535":1,"538":39,"539":39,"542":39,"544":39,"547":1,"548":37,"549":37,"550":37,"551":37,"552":0,"556":1,"557":4,"558":4,"559":4,"560":0,"564":45,"565":41,"566":41,"567":41,"568":41,"570":41,"571":4,"573":41,"574":4,"576":41,"577":0,"579":41,"580":0,"581":0,"585":1,"592":1,"593":1,"595":1,"599":1,"600":0,"601":0,"604":1,"606":0,"611":0,"613":0,"614":0,"617":0,"619":0,"620":0,"624":1,"625":0,"626":0,"627":0,"628":0,"630":0,"631":0,"632":0,"634":0,"637":1,"638":0,"640":1}},"src/ui/Base/ComponentOptions.ts":{"path":"src/ui/Base/ComponentOptions.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":41}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":35}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":57}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":55}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":67}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":55}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":40}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":40}},"9":{"start":{"line":99,"column":0},"end":{"line":118,"column":1}},"10":{"start":{"line":100,"column":2},"end":{"line":100,"column":9}},"11":{"start":{"line":101,"column":2},"end":{"line":101,"column":8}},"12":{"start":{"line":102,"column":2},"end":{"line":102,"column":8}},"13":{"start":{"line":103,"column":2},"end":{"line":103,"column":18}},"14":{"start":{"line":104,"column":2},"end":{"line":104,"column":6}},"15":{"start":{"line":105,"column":2},"end":{"line":105,"column":10}},"16":{"start":{"line":106,"column":2},"end":{"line":106,"column":20}},"17":{"start":{"line":107,"column":2},"end":{"line":107,"column":10}},"18":{"start":{"line":108,"column":2},"end":{"line":108,"column":7}},"19":{"start":{"line":109,"column":2},"end":{"line":109,"column":8}},"20":{"start":{"line":110,"column":2},"end":{"line":110,"column":6}},"21":{"start":{"line":111,"column":2},"end":{"line":111,"column":8}},"22":{"start":{"line":112,"column":2},"end":{"line":112,"column":7}},"23":{"start":{"line":113,"column":2},"end":{"line":113,"column":8}},"24":{"start":{"line":114,"column":2},"end":{"line":114,"column":13}},"25":{"start":{"line":115,"column":2},"end":{"line":115,"column":6}},"26":{"start":{"line":116,"column":2},"end":{"line":116,"column":12}},"27":{"start":{"line":117,"column":2},"end":{"line":117,"column":6}},"28":{"start":{"line":120,"column":0},"end":{"line":120,"column":50}},"29":{"start":{"line":121,"column":0},"end":{"line":121,"column":34}},"30":{"start":{"line":122,"column":0},"end":{"line":122,"column":77}},"31":{"start":{"line":124,"column":0},"end":{"line":516,"column":1}},"32":{"start":{"line":125,"column":9},"end":{"line":127,"column":3}},"33":{"start":{"line":126,"column":4},"end":{"line":126,"column":127}},"34":{"start":{"line":129,"column":9},"end":{"line":131,"column":3}},"35":{"start":{"line":130,"column":4},"end":{"line":130,"column":124}},"36":{"start":{"line":133,"column":9},"end":{"line":135,"column":3}},"37":{"start":{"line":134,"column":4},"end":{"line":134,"column":124}},"38":{"start":{"line":137,"column":9},"end":{"line":139,"column":3}},"39":{"start":{"line":138,"column":4},"end":{"line":138,"column":122}},"40":{"start":{"line":141,"column":9},"end":{"line":143,"column":3}},"41":{"start":{"line":142,"column":4},"end":{"line":142,"column":124}},"42":{"start":{"line":145,"column":9},"end":{"line":147,"column":3}},"43":{"start":{"line":146,"column":4},"end":{"line":146,"column":122}},"44":{"start":{"line":149,"column":9},"end":{"line":151,"column":3}},"45":{"start":{"line":150,"column":4},"end":{"line":150,"column":143}},"46":{"start":{"line":153,"column":9},"end":{"line":155,"column":3}},"47":{"start":{"line":154,"column":4},"end":{"line":154,"column":122}},"48":{"start":{"line":157,"column":9},"end":{"line":159,"column":3}},"49":{"start":{"line":158,"column":4},"end":{"line":158,"column":126}},"50":{"start":{"line":161,"column":9},"end":{"line":163,"column":3}},"51":{"start":{"line":162,"column":4},"end":{"line":162,"column":122}},"52":{"start":{"line":165,"column":9},"end":{"line":167,"column":3}},"53":{"start":{"line":166,"column":4},"end":{"line":166,"column":133}},"54":{"start":{"line":169,"column":9},"end":{"line":171,"column":3}},"55":{"start":{"line":170,"column":4},"end":{"line":170,"column":151}},"56":{"start":{"line":173,"column":9},"end":{"line":175,"column":3}},"57":{"start":{"line":174,"column":4},"end":{"line":174,"column":130}},"58":{"start":{"line":177,"column":9},"end":{"line":185,"column":3}},"59":{"start":{"line":178,"column":4},"end":{"line":183,"column":6}},"60":{"start":{"line":179,"column":6},"end":{"line":179,"column":81}},"61":{"start":{"line":180,"column":6},"end":{"line":182,"column":7}},"62":{"start":{"line":181,"column":8},"end":{"line":181,"column":38}},"63":{"start":{"line":184,"column":4},"end":{"line":184,"column":96}},"64":{"start":{"line":187,"column":9},"end":{"line":193,"column":3}},"65":{"start":{"line":188,"column":4},"end":{"line":191,"column":6}},"66":{"start":{"line":189,"column":6},"end":{"line":189,"column":79}},"67":{"start":{"line":190,"column":6},"end":{"line":190,"column":36}},"68":{"start":{"line":192,"column":4},"end":{"line":192,"column":96}},"69":{"start":{"line":195,"column":9},"end":{"line":229,"column":3}},"70":{"start":{"line":196,"column":4},"end":{"line":225,"column":5}},"71":{"start":{"line":199,"column":6},"end":{"line":199,"column":47}},"72":{"start":{"line":200,"column":6},"end":{"line":202,"column":13}},"73":{"start":{"line":203,"column":6},"end":{"line":205,"column":13}},"74":{"start":{"line":206,"column":6},"end":{"line":210,"column":7}},"75":{"start":{"line":207,"column":8},"end":{"line":207,"column":26}},"76":{"start":{"line":208,"column":8},"end":{"line":208,"column":67}},"77":{"start":{"line":209,"column":8},"end":{"line":209,"column":62}},"78":{"start":{"line":211,"column":6},"end":{"line":211,"column":73}},"79":{"start":{"line":212,"column":6},"end":{"line":214,"column":13}},"80":{"start":{"line":215,"column":6},"end":{"line":215,"column":30}},"81":{"start":{"line":216,"column":6},"end":{"line":223,"column":7}},"82":{"start":{"line":217,"column":8},"end":{"line":217,"column":26}},"83":{"start":{"line":218,"column":8},"end":{"line":218,"column":67}},"84":{"start":{"line":219,"column":8},"end":{"line":222,"column":9}},"85":{"start":{"line":220,"column":10},"end":{"line":220,"column":54}},"86":{"start":{"line":221,"column":10},"end":{"line":221,"column":29}},"87":{"start":{"line":224,"column":6},"end":{"line":224,"column":47}},"88":{"start":{"line":226,"column":4},"end":{"line":228,"column":60}},"89":{"start":{"line":231,"column":9},"end":{"line":236,"column":3}},"90":{"start":{"line":231,"column":90},"end":{"line":231,"column":126}},"91":{"start":{"line":232,"column":4},"end":{"line":232,"column":60}},"92":{"start":{"line":233,"column":4},"end":{"line":233,"column":23}},"93":{"start":{"line":234,"column":4},"end":{"line":234,"column":23}},"94":{"start":{"line":235,"column":4},"end":{"line":235,"column":23}},"95":{"start":{"line":238,"column":9},"end":{"line":246,"column":3}},"96":{"start":{"line":239,"column":4},"end":{"line":241,"column":5}},"97":{"start":{"line":240,"column":6},"end":{"line":240,"column":33}},"98":{"start":{"line":242,"column":4},"end":{"line":244,"column":5}},"99":{"start":{"line":243,"column":6},"end":{"line":243,"column":64}},"100":{"start":{"line":245,"column":4},"end":{"line":245,"column":16}},"101":{"start":{"line":248,"column":9},"end":{"line":250,"column":3}},"102":{"start":{"line":249,"column":4},"end":{"line":249,"column":71}},"103":{"start":{"line":252,"column":9},"end":{"line":254,"column":3}},"104":{"start":{"line":253,"column":4},"end":{"line":253,"column":68}},"105":{"start":{"line":256,"column":9},"end":{"line":258,"column":3}},"106":{"start":{"line":257,"column":4},"end":{"line":257,"column":90}},"107":{"start":{"line":260,"column":9},"end":{"line":318,"column":3}},"108":{"start":{"line":263,"column":4},"end":{"line":265,"column":5}},"109":{"start":{"line":264,"column":6},"end":{"line":264,"column":18}},"110":{"start":{"line":266,"column":4},"end":{"line":266,"column":42}},"111":{"start":{"line":267,"column":4},"end":{"line":309,"column":5}},"112":{"start":{"line":268,"column":6},"end":{"line":268,"column":26}},"113":{"start":{"line":269,"column":6},"end":{"line":269,"column":43}},"114":{"start":{"line":270,"column":6},"end":{"line":270,"column":21}},"115":{"start":{"line":271,"column":6},"end":{"line":271,"column":52}},"116":{"start":{"line":273,"column":6},"end":{"line":278,"column":7}},"117":{"start":{"line":274,"column":8},"end":{"line":274,"column":67}},"118":{"start":{"line":275,"column":8},"end":{"line":277,"column":9}},"119":{"start":{"line":276,"column":10},"end":{"line":276,"column":86}},"120":{"start":{"line":280,"column":6},"end":{"line":282,"column":7}},"121":{"start":{"line":281,"column":8},"end":{"line":281,"column":29}},"122":{"start":{"line":284,"column":6},"end":{"line":296,"column":7}},"123":{"start":{"line":285,"column":8},"end":{"line":295,"column":9}},"124":{"start":{"line":286,"column":10},"end":{"line":292,"column":11}},"125":{"start":{"line":287,"column":12},"end":{"line":287,"column":64}},"126":{"start":{"line":288,"column":17},"end":{"line":292,"column":11}},"127":{"start":{"line":289,"column":12},"end":{"line":289,"column":64}},"128":{"start":{"line":291,"column":12},"end":{"line":291,"column":50}},"129":{"start":{"line":293,"column":15},"end":{"line":295,"column":9}},"130":{"start":{"line":294,"column":10},"end":{"line":294,"column":60}},"131":{"start":{"line":297,"column":6},"end":{"line":305,"column":7}},"132":{"start":{"line":298,"column":8},"end":{"line":304,"column":9}},"133":{"start":{"line":299,"column":10},"end":{"line":299,"column":55}},"134":{"start":{"line":300,"column":15},"end":{"line":304,"column":9}},"135":{"start":{"line":301,"column":10},"end":{"line":301,"column":34}},"136":{"start":{"line":303,"column":10},"end":{"line":303,"column":31}},"137":{"start":{"line":306,"column":6},"end":{"line":308,"column":7}},"138":{"start":{"line":307,"column":8},"end":{"line":307,"column":67}},"139":{"start":{"line":310,"column":4},"end":{"line":316,"column":5}},"140":{"start":{"line":311,"column":6},"end":{"line":311,"column":26}},"141":{"start":{"line":312,"column":6},"end":{"line":312,"column":43}},"142":{"start":{"line":313,"column":6},"end":{"line":315,"column":7}},"143":{"start":{"line":314,"column":8},"end":{"line":314,"column":77}},"144":{"start":{"line":317,"column":4},"end":{"line":317,"column":18}},"145":{"start":{"line":320,"column":9},"end":{"line":322,"column":3}},"146":{"start":{"line":321,"column":4},"end":{"line":321,"column":140}},"147":{"start":{"line":324,"column":9},"end":{"line":328,"column":3}},"148":{"start":{"line":325,"column":4},"end":{"line":325,"column":73}},"149":{"start":{"line":326,"column":4},"end":{"line":326,"column":111}},"150":{"start":{"line":327,"column":4},"end":{"line":327,"column":17}},"151":{"start":{"line":330,"column":9},"end":{"line":340,"column":3}},"152":{"start":{"line":331,"column":4},"end":{"line":331,"column":78}},"153":{"start":{"line":332,"column":4},"end":{"line":334,"column":5}},"154":{"start":{"line":333,"column":6},"end":{"line":333,"column":18}},"155":{"start":{"line":335,"column":4},"end":{"line":335,"column":51}},"156":{"start":{"line":336,"column":4},"end":{"line":338,"column":7}},"157":{"start":{"line":337,"column":6},"end":{"line":337,"column":79}},"158":{"start":{"line":339,"column":4},"end":{"line":339,"column":18}},"159":{"start":{"line":342,"column":9},"end":{"line":363,"column":3}},"160":{"start":{"line":343,"column":4},"end":{"line":343,"column":82}},"161":{"start":{"line":344,"column":4},"end":{"line":344,"column":69}},"162":{"start":{"line":345,"column":4},"end":{"line":361,"column":5}},"163":{"start":{"line":346,"column":6},"end":{"line":346,"column":56}},"164":{"start":{"line":347,"column":6},"end":{"line":347,"column":91}},"165":{"start":{"line":347,"column":52},"end":{"line":347,"column":89}},"166":{"start":{"line":348,"column":6},"end":{"line":348,"column":55}},"167":{"start":{"line":349,"column":6},"end":{"line":359,"column":7}},"168":{"start":{"line":350,"column":8},"end":{"line":358,"column":9}},"169":{"start":{"line":351,"column":10},"end":{"line":351,"column":53}},"170":{"start":{"line":352,"column":10},"end":{"line":357,"column":11}},"171":{"start":{"line":353,"column":12},"end":{"line":353,"column":47}},"172":{"start":{"line":354,"column":12},"end":{"line":356,"column":13}},"173":{"start":{"line":355,"column":14},"end":{"line":355,"column":57}},"174":{"start":{"line":360,"column":6},"end":{"line":360,"column":77}},"175":{"start":{"line":362,"column":4},"end":{"line":362,"column":26}},"176":{"start":{"line":365,"column":9},"end":{"line":378,"column":3}},"177":{"start":{"line":366,"column":4},"end":{"line":366,"column":82}},"178":{"start":{"line":367,"column":4},"end":{"line":369,"column":5}},"179":{"start":{"line":368,"column":6},"end":{"line":368,"column":18}},"180":{"start":{"line":370,"column":4},"end":{"line":370,"column":140}},"181":{"start":{"line":371,"column":4},"end":{"line":373,"column":5}},"182":{"start":{"line":372,"column":6},"end":{"line":372,"column":31}},"183":{"start":{"line":374,"column":4},"end":{"line":376,"column":5}},"184":{"start":{"line":375,"column":6},"end":{"line":375,"column":31}},"185":{"start":{"line":377,"column":4},"end":{"line":377,"column":23}},"186":{"start":{"line":380,"column":9},"end":{"line":382,"column":3}},"187":{"start":{"line":381,"column":4},"end":{"line":381,"column":102}},"188":{"start":{"line":384,"column":9},"end":{"line":388,"column":3}},"189":{"start":{"line":385,"column":4},"end":{"line":385,"column":50}},"190":{"start":{"line":386,"column":4},"end":{"line":386,"column":82}},"191":{"start":{"line":387,"column":4},"end":{"line":387,"column":91}},"192":{"start":{"line":390,"column":9},"end":{"line":393,"column":3}},"193":{"start":{"line":391,"column":4},"end":{"line":391,"column":80}},"194":{"start":{"line":392,"column":4},"end":{"line":392,"column":61}},"195":{"start":{"line":395,"column":9},"end":{"line":398,"column":3}},"196":{"start":{"line":395,"column":102},"end":{"line":395,"column":126}},"197":{"start":{"line":396,"column":4},"end":{"line":396,"column":81}},"198":{"start":{"line":397,"column":4},"end":{"line":397,"column":106}},"199":{"start":{"line":400,"column":9},"end":{"line":417,"column":3}},"200":{"start":{"line":400,"column":121},"end":{"line":400,"column":145}},"201":{"start":{"line":401,"column":4},"end":{"line":401,"column":33}},"202":{"start":{"line":403,"column":4},"end":{"line":403,"column":108}},"203":{"start":{"line":404,"column":4},"end":{"line":404,"column":113}},"204":{"start":{"line":405,"column":4},"end":{"line":407,"column":5}},"205":{"start":{"line":406,"column":6},"end":{"line":406,"column":66}},"206":{"start":{"line":409,"column":4},"end":{"line":415,"column":5}},"207":{"start":{"line":410,"column":6},"end":{"line":410,"column":47}},"208":{"start":{"line":411,"column":6},"end":{"line":413,"column":7}},"209":{"start":{"line":412,"column":8},"end":{"line":412,"column":35}},"210":{"start":{"line":414,"column":6},"end":{"line":414,"column":94}},"211":{"start":{"line":416,"column":4},"end":{"line":416,"column":23}},"212":{"start":{"line":419,"column":9},"end":{"line":425,"column":3}},"213":{"start":{"line":420,"column":4},"end":{"line":420,"column":38}},"214":{"start":{"line":421,"column":4},"end":{"line":423,"column":5}},"215":{"start":{"line":422,"column":6},"end":{"line":422,"column":21}},"216":{"start":{"line":424,"column":4},"end":{"line":424,"column":51}},"217":{"start":{"line":427,"column":9},"end":{"line":430,"column":3}},"218":{"start":{"line":428,"column":4},"end":{"line":428,"column":38}},"219":{"start":{"line":429,"column":4},"end":{"line":429,"column":41}},"220":{"start":{"line":432,"column":9},"end":{"line":462,"column":3}},"221":{"start":{"line":432,"column":105},"end":{"line":432,"column":129}},"222":{"start":{"line":434,"column":4},"end":{"line":434,"column":27}},"223":{"start":{"line":437,"column":4},"end":{"line":437,"column":108}},"224":{"start":{"line":438,"column":4},"end":{"line":438,"column":113}},"225":{"start":{"line":439,"column":4},"end":{"line":444,"column":5}},"226":{"start":{"line":440,"column":6},"end":{"line":440,"column":69}},"227":{"start":{"line":441,"column":6},"end":{"line":443,"column":7}},"228":{"start":{"line":442,"column":8},"end":{"line":442,"column":85}},"229":{"start":{"line":446,"column":4},"end":{"line":452,"column":5}},"230":{"start":{"line":447,"column":6},"end":{"line":447,"column":92}},"231":{"start":{"line":448,"column":6},"end":{"line":448,"column":103}},"232":{"start":{"line":449,"column":6},"end":{"line":451,"column":7}},"233":{"start":{"line":450,"column":8},"end":{"line":450,"column":65}},"234":{"start":{"line":454,"column":4},"end":{"line":460,"column":5}},"235":{"start":{"line":455,"column":6},"end":{"line":455,"column":47}},"236":{"start":{"line":456,"column":6},"end":{"line":458,"column":7}},"237":{"start":{"line":457,"column":8},"end":{"line":457,"column":76}},"238":{"start":{"line":459,"column":6},"end":{"line":459,"column":97}},"239":{"start":{"line":461,"column":4},"end":{"line":461,"column":20}},"240":{"start":{"line":464,"column":9},"end":{"line":466,"column":3}},"241":{"start":{"line":465,"column":4},"end":{"line":465,"column":93}},"242":{"start":{"line":468,"column":9},"end":{"line":474,"column":3}},"243":{"start":{"line":469,"column":4},"end":{"line":469,"column":96}},"244":{"start":{"line":470,"column":4},"end":{"line":472,"column":5}},"245":{"start":{"line":471,"column":6},"end":{"line":471,"column":135}},"246":{"start":{"line":471,"column":74},"end":{"line":471,"column":131}},"247":{"start":{"line":473,"column":4},"end":{"line":473,"column":16}},"248":{"start":{"line":476,"column":9},"end":{"line":487,"column":3}},"249":{"start":{"line":476,"column":51},"end":{"line":476,"column":75}},"250":{"start":{"line":477,"column":4},"end":{"line":485,"column":5}},"251":{"start":{"line":478,"column":6},"end":{"line":483,"column":7}},"252":{"start":{"line":479,"column":8},"end":{"line":481,"column":9}},"253":{"start":{"line":480,"column":10},"end":{"line":480,"column":25}},"254":{"start":{"line":482,"column":8},"end":{"line":482,"column":27}},"255":{"start":{"line":484,"column":6},"end":{"line":484,"column":38}},"256":{"start":{"line":486,"column":4},"end":{"line":486,"column":23}},"257":{"start":{"line":489,"column":9},"end":{"line":491,"column":3}},"258":{"start":{"line":490,"column":4},"end":{"line":490,"column":92}},"259":{"start":{"line":493,"column":9},"end":{"line":497,"column":3}},"260":{"start":{"line":494,"column":4},"end":{"line":496,"column":5}},"261":{"start":{"line":495,"column":6},"end":{"line":495,"column":83}},"262":{"start":{"line":499,"column":9},"end":{"line":515,"column":3}},"263":{"start":{"line":500,"column":4},"end":{"line":500,"column":27}},"264":{"start":{"line":501,"column":4},"end":{"line":501,"column":44}},"265":{"start":{"line":502,"column":4},"end":{"line":504,"column":45}},"266":{"start":{"line":505,"column":4},"end":{"line":505,"column":58}},"267":{"start":{"line":507,"column":4},"end":{"line":514,"column":5}},"268":{"start":{"line":508,"column":6},"end":{"line":508,"column":48}},"269":{"start":{"line":509,"column":11},"end":{"line":514,"column":5}},"270":{"start":{"line":510,"column":6},"end":{"line":510,"column":39}},"271":{"start":{"line":512,"column":6},"end":{"line":512,"column":108}},"272":{"start":{"line":513,"column":6},"end":{"line":513,"column":23}},"273":{"start":{"line":516,"column":0},"end":{"line":516,"column":1}},"274":{"start":{"line":124,"column":13},"end":{"line":516,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1870)","line":99,"loc":{"start":{"line":99,"column":0},"end":{"line":99,"column":32}}},"2":{"name":"(anonymous_1871)","line":124,"loc":{"start":{"line":124,"column":0},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_1873)","line":125,"loc":{"start":{"line":125,"column":2},"end":{"line":125,"column":67}}},"4":{"name":"(anonymous_1874)","line":129,"loc":{"start":{"line":129,"column":2},"end":{"line":129,"column":73}}},"5":{"name":"(anonymous_1875)","line":133,"loc":{"start":{"line":133,"column":2},"end":{"line":133,"column":65}}},"6":{"name":"(anonymous_1876)","line":137,"loc":{"start":{"line":137,"column":2},"end":{"line":137,"column":63}}},"7":{"name":"(anonymous_1877)","line":141,"loc":{"start":{"line":141,"column":2},"end":{"line":141,"column":65}}},"8":{"name":"(anonymous_1878)","line":145,"loc":{"start":{"line":145,"column":2},"end":{"line":145,"column":63}}},"9":{"name":"(anonymous_1879)","line":149,"loc":{"start":{"line":149,"column":2},"end":{"line":149,"column":74}}},"10":{"name":"(anonymous_1880)","line":153,"loc":{"start":{"line":153,"column":2},"end":{"line":153,"column":71}}},"11":{"name":"(anonymous_1881)","line":157,"loc":{"start":{"line":157,"column":2},"end":{"line":157,"column":73}}},"12":{"name":"(anonymous_1882)","line":161,"loc":{"start":{"line":161,"column":2},"end":{"line":161,"column":69}}},"13":{"name":"(anonymous_1883)","line":165,"loc":{"start":{"line":165,"column":2},"end":{"line":165,"column":72}}},"14":{"name":"(anonymous_1884)","line":169,"loc":{"start":{"line":169,"column":2},"end":{"line":169,"column":93}}},"15":{"name":"(anonymous_1885)","line":173,"loc":{"start":{"line":173,"column":2},"end":{"line":173,"column":77}}},"16":{"name":"(anonymous_1886)","line":177,"loc":{"start":{"line":177,"column":2},"end":{"line":177,"column":96}}},"17":{"name":"(anonymous_1887)","line":178,"loc":{"start":{"line":178,"column":53},"end":{"line":178,"column":124}}},"18":{"name":"(anonymous_1888)","line":187,"loc":{"start":{"line":187,"column":2},"end":{"line":187,"column":122}}},"19":{"name":"(anonymous_1889)","line":188,"loc":{"start":{"line":188,"column":53},"end":{"line":188,"column":101}}},"20":{"name":"(anonymous_1890)","line":195,"loc":{"start":{"line":195,"column":2},"end":{"line":195,"column":73}}},"21":{"name":"(anonymous_1891)","line":198,"loc":{"start":{"line":198,"column":9},"end":{"line":198,"column":82}}},"22":{"name":"(anonymous_1892)","line":231,"loc":{"start":{"line":231,"column":2},"end":{"line":231,"column":126}}},"23":{"name":"(anonymous_1893)","line":238,"loc":{"start":{"line":238,"column":2},"end":{"line":238,"column":75}}},"24":{"name":"(anonymous_1894)","line":248,"loc":{"start":{"line":248,"column":2},"end":{"line":248,"column":39}}},"25":{"name":"(anonymous_1895)","line":252,"loc":{"start":{"line":252,"column":2},"end":{"line":252,"column":52}}},"26":{"name":"(anonymous_1896)","line":256,"loc":{"start":{"line":256,"column":2},"end":{"line":256,"column":80}}},"27":{"name":"(anonymous_1897)","line":260,"loc":{"start":{"line":260,"column":2},"end":{"line":262,"column":36}}},"28":{"name":"(anonymous_1898)","line":320,"loc":{"start":{"line":320,"column":2},"end":{"line":320,"column":92}}},"29":{"name":"(anonymous_1899)","line":324,"loc":{"start":{"line":324,"column":2},"end":{"line":324,"column":97}}},"30":{"name":"(anonymous_1900)","line":330,"loc":{"start":{"line":330,"column":2},"end":{"line":330,"column":98}}},"31":{"name":"(anonymous_1901)","line":336,"loc":{"start":{"line":336,"column":19},"end":{"line":336,"column":33}}},"32":{"name":"(anonymous_1902)","line":342,"loc":{"start":{"line":342,"column":2},"end":{"line":342,"column":107}}},"33":{"name":"(anonymous_1903)","line":347,"loc":{"start":{"line":347,"column":39},"end":{"line":347,"column":47}}},"34":{"name":"(anonymous_1904)","line":365,"loc":{"start":{"line":365,"column":2},"end":{"line":365,"column":99}}},"35":{"name":"(anonymous_1905)","line":380,"loc":{"start":{"line":380,"column":2},"end":{"line":380,"column":99}}},"36":{"name":"(anonymous_1906)","line":384,"loc":{"start":{"line":384,"column":2},"end":{"line":384,"column":95}}},"37":{"name":"(anonymous_1907)","line":390,"loc":{"start":{"line":390,"column":2},"end":{"line":390,"column":108}}},"38":{"name":"(anonymous_1908)","line":395,"loc":{"start":{"line":395,"column":2},"end":{"line":395,"column":126}}},"39":{"name":"(anonymous_1909)","line":400,"loc":{"start":{"line":400,"column":2},"end":{"line":400,"column":145}}},"40":{"name":"(anonymous_1910)","line":419,"loc":{"start":{"line":419,"column":2},"end":{"line":419,"column":80}}},"41":{"name":"(anonymous_1911)","line":427,"loc":{"start":{"line":427,"column":2},"end":{"line":427,"column":83}}},"42":{"name":"(anonymous_1912)","line":432,"loc":{"start":{"line":432,"column":2},"end":{"line":432,"column":129}}},"43":{"name":"(anonymous_1913)","line":464,"loc":{"start":{"line":464,"column":2},"end":{"line":464,"column":52}}},"44":{"name":"(anonymous_1914)","line":468,"loc":{"start":{"line":468,"column":2},"end":{"line":468,"column":86}}},"45":{"name":"(anonymous_1915)","line":471,"loc":{"start":{"line":471,"column":61},"end":{"line":471,"column":69}}},"46":{"name":"(anonymous_1916)","line":476,"loc":{"start":{"line":476,"column":2},"end":{"line":476,"column":75}}},"47":{"name":"(anonymous_1917)","line":489,"loc":{"start":{"line":489,"column":2},"end":{"line":489,"column":49}}},"48":{"name":"(anonymous_1918)","line":493,"loc":{"start":{"line":493,"column":2},"end":{"line":493,"column":83}}},"49":{"name":"(anonymous_1919)","line":499,"loc":{"start":{"line":499,"column":2},"end":{"line":499,"column":61}}}},"branchMap":{"1":{"line":99,"type":"binary-expr","locations":[{"start":{"line":99,"column":12},"end":{"line":99,"column":32}},{"start":{"line":99,"column":12},"end":{"line":99,"column":32}}]},"2":{"line":180,"type":"if","locations":[{"start":{"line":180,"column":6},"end":{"line":180,"column":5}},{"start":{"line":180,"column":6},"end":{"line":180,"column":5}}]},"3":{"line":219,"type":"if","locations":[{"start":{"line":219,"column":8},"end":{"line":219,"column":7}},{"start":{"line":219,"column":8},"end":{"line":219,"column":7}}]},"4":{"line":224,"type":"cond-expr","locations":[{"start":{"line":224,"column":27},"end":{"line":224,"column":39}},{"start":{"line":224,"column":42},"end":{"line":224,"column":46}}]},"5":{"line":231,"type":"if","locations":[{"start":{"line":231,"column":90},"end":{"line":231,"column":89}},{"start":{"line":231,"column":90},"end":{"line":231,"column":89}}]},"6":{"line":239,"type":"if","locations":[{"start":{"line":239,"column":4},"end":{"line":239,"column":3}},{"start":{"line":239,"column":4},"end":{"line":239,"column":3}}]},"7":{"line":239,"type":"binary-expr","locations":[{"start":{"line":239,"column":8},"end":{"line":239,"column":18}},{"start":{"line":239,"column":22},"end":{"line":239,"column":41}}]},"8":{"line":242,"type":"if","locations":[{"start":{"line":242,"column":4},"end":{"line":242,"column":3}},{"start":{"line":242,"column":4},"end":{"line":242,"column":3}}]},"9":{"line":263,"type":"if","locations":[{"start":{"line":263,"column":4},"end":{"line":263,"column":3}},{"start":{"line":263,"column":4},"end":{"line":263,"column":3}}]},"10":{"line":273,"type":"if","locations":[{"start":{"line":273,"column":6},"end":{"line":273,"column":5}},{"start":{"line":273,"column":6},"end":{"line":273,"column":5}}]},"11":{"line":275,"type":"if","locations":[{"start":{"line":275,"column":8},"end":{"line":275,"column":7}},{"start":{"line":275,"column":8},"end":{"line":275,"column":7}}]},"12":{"line":275,"type":"binary-expr","locations":[{"start":{"line":275,"column":12},"end":{"line":275,"column":17}},{"start":{"line":275,"column":21},"end":{"line":275,"column":48}}]},"13":{"line":280,"type":"if","locations":[{"start":{"line":280,"column":6},"end":{"line":280,"column":5}},{"start":{"line":280,"column":6},"end":{"line":280,"column":5}}]},"14":{"line":280,"type":"binary-expr","locations":[{"start":{"line":280,"column":10},"end":{"line":280,"column":40}},{"start":{"line":280,"column":44},"end":{"line":280,"column":69}}]},"15":{"line":284,"type":"if","locations":[{"start":{"line":284,"column":6},"end":{"line":284,"column":5}},{"start":{"line":284,"column":6},"end":{"line":284,"column":5}}]},"16":{"line":284,"type":"binary-expr","locations":[{"start":{"line":284,"column":10},"end":{"line":284,"column":23}},{"start":{"line":284,"column":27},"end":{"line":284,"column":52}}]},"17":{"line":285,"type":"if","locations":[{"start":{"line":285,"column":8},"end":{"line":285,"column":7}},{"start":{"line":285,"column":8},"end":{"line":285,"column":7}}]},"18":{"line":286,"type":"if","locations":[{"start":{"line":286,"column":10},"end":{"line":286,"column":9}},{"start":{"line":286,"column":10},"end":{"line":286,"column":9}}]},"19":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":17},"end":{"line":288,"column":16}},{"start":{"line":288,"column":17},"end":{"line":288,"column":16}}]},"20":{"line":293,"type":"if","locations":[{"start":{"line":293,"column":15},"end":{"line":293,"column":14}},{"start":{"line":293,"column":15},"end":{"line":293,"column":14}}]},"21":{"line":297,"type":"if","locations":[{"start":{"line":297,"column":6},"end":{"line":297,"column":5}},{"start":{"line":297,"column":6},"end":{"line":297,"column":5}}]},"22":{"line":298,"type":"if","locations":[{"start":{"line":298,"column":8},"end":{"line":298,"column":7}},{"start":{"line":298,"column":8},"end":{"line":298,"column":7}}]},"23":{"line":298,"type":"binary-expr","locations":[{"start":{"line":298,"column":12},"end":{"line":298,"column":64}},{"start":{"line":298,"column":68},"end":{"line":298,"column":88}}]},"24":{"line":300,"type":"if","locations":[{"start":{"line":300,"column":15},"end":{"line":300,"column":14}},{"start":{"line":300,"column":15},"end":{"line":300,"column":14}}]},"25":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":6},"end":{"line":306,"column":5}},{"start":{"line":306,"column":6},"end":{"line":306,"column":5}}]},"26":{"line":306,"type":"binary-expr","locations":[{"start":{"line":306,"column":10},"end":{"line":306,"column":23}},{"start":{"line":306,"column":27},"end":{"line":306,"column":52}},{"start":{"line":306,"column":56},"end":{"line":306,"column":81}}]},"27":{"line":313,"type":"if","locations":[{"start":{"line":313,"column":6},"end":{"line":313,"column":5}},{"start":{"line":313,"column":6},"end":{"line":313,"column":5}}]},"28":{"line":321,"type":"binary-expr","locations":[{"start":{"line":321,"column":11},"end":{"line":321,"column":80}},{"start":{"line":321,"column":84},"end":{"line":321,"column":139}}]},"29":{"line":326,"type":"binary-expr","locations":[{"start":{"line":326,"column":17},"end":{"line":326,"column":47}},{"start":{"line":326,"column":51},"end":{"line":326,"column":76}}]},"30":{"line":332,"type":"if","locations":[{"start":{"line":332,"column":4},"end":{"line":332,"column":3}},{"start":{"line":332,"column":4},"end":{"line":332,"column":3}}]},"31":{"line":344,"type":"binary-expr","locations":[{"start":{"line":344,"column":25},"end":{"line":344,"column":41}},{"start":{"line":344,"column":45},"end":{"line":344,"column":68}}]},"32":{"line":345,"type":"if","locations":[{"start":{"line":345,"column":4},"end":{"line":345,"column":3}},{"start":{"line":345,"column":4},"end":{"line":345,"column":3}}]},"33":{"line":345,"type":"binary-expr","locations":[{"start":{"line":345,"column":8},"end":{"line":345,"column":22}},{"start":{"line":345,"column":26},"end":{"line":345,"column":48}}]},"34":{"line":349,"type":"if","locations":[{"start":{"line":349,"column":6},"end":{"line":349,"column":5}},{"start":{"line":349,"column":6},"end":{"line":349,"column":5}}]},"35":{"line":352,"type":"if","locations":[{"start":{"line":352,"column":10},"end":{"line":352,"column":9}},{"start":{"line":352,"column":10},"end":{"line":352,"column":9}}]},"36":{"line":354,"type":"if","locations":[{"start":{"line":354,"column":12},"end":{"line":354,"column":11}},{"start":{"line":354,"column":12},"end":{"line":354,"column":11}}]},"37":{"line":360,"type":"cond-expr","locations":[{"start":{"line":360,"column":38},"end":{"line":360,"column":69}},{"start":{"line":360,"column":72},"end":{"line":360,"column":76}}]},"38":{"line":367,"type":"if","locations":[{"start":{"line":367,"column":4},"end":{"line":367,"column":3}},{"start":{"line":367,"column":4},"end":{"line":367,"column":3}}]},"39":{"line":370,"type":"cond-expr","locations":[{"start":{"line":370,"column":46},"end":{"line":370,"column":92}},{"start":{"line":370,"column":95},"end":{"line":370,"column":139}}]},"40":{"line":371,"type":"if","locations":[{"start":{"line":371,"column":4},"end":{"line":371,"column":3}},{"start":{"line":371,"column":4},"end":{"line":371,"column":3}}]},"41":{"line":371,"type":"binary-expr","locations":[{"start":{"line":371,"column":8},"end":{"line":371,"column":26}},{"start":{"line":371,"column":30},"end":{"line":371,"column":54}}]},"42":{"line":374,"type":"if","locations":[{"start":{"line":374,"column":4},"end":{"line":374,"column":3}},{"start":{"line":374,"column":4},"end":{"line":374,"column":3}}]},"43":{"line":374,"type":"binary-expr","locations":[{"start":{"line":374,"column":8},"end":{"line":374,"column":26}},{"start":{"line":374,"column":30},"end":{"line":374,"column":54}}]},"44":{"line":385,"type":"binary-expr","locations":[{"start":{"line":385,"column":20},"end":{"line":385,"column":36}},{"start":{"line":385,"column":40},"end":{"line":385,"column":49}}]},"45":{"line":387,"type":"cond-expr","locations":[{"start":{"line":387,"column":52},"end":{"line":387,"column":83}},{"start":{"line":387,"column":86},"end":{"line":387,"column":90}}]},"46":{"line":392,"type":"cond-expr","locations":[{"start":{"line":392,"column":34},"end":{"line":392,"column":53}},{"start":{"line":392,"column":56},"end":{"line":392,"column":60}}]},"47":{"line":395,"type":"if","locations":[{"start":{"line":395,"column":102},"end":{"line":395,"column":101}},{"start":{"line":395,"column":102},"end":{"line":395,"column":101}}]},"48":{"line":397,"type":"cond-expr","locations":[{"start":{"line":397,"column":65},"end":{"line":397,"column":98}},{"start":{"line":397,"column":101},"end":{"line":397,"column":105}}]},"49":{"line":400,"type":"if","locations":[{"start":{"line":400,"column":121},"end":{"line":400,"column":120}},{"start":{"line":400,"column":121},"end":{"line":400,"column":120}}]},"50":{"line":403,"type":"binary-expr","locations":[{"start":{"line":403,"column":23},"end":{"line":403,"column":42}},{"start":{"line":403,"column":46},"end":{"line":403,"column":107}}]},"51":{"line":404,"type":"binary-expr","locations":[{"start":{"line":404,"column":19},"end":{"line":404,"column":53}},{"start":{"line":404,"column":57},"end":{"line":404,"column":112}}]},"52":{"line":405,"type":"if","locations":[{"start":{"line":405,"column":4},"end":{"line":405,"column":3}},{"start":{"line":405,"column":4},"end":{"line":405,"column":3}}]},"53":{"line":409,"type":"if","locations":[{"start":{"line":409,"column":4},"end":{"line":409,"column":3}},{"start":{"line":409,"column":4},"end":{"line":409,"column":3}}]},"54":{"line":411,"type":"if","locations":[{"start":{"line":411,"column":6},"end":{"line":411,"column":5}},{"start":{"line":411,"column":6},"end":{"line":411,"column":5}}]},"55":{"line":421,"type":"if","locations":[{"start":{"line":421,"column":4},"end":{"line":421,"column":3}},{"start":{"line":421,"column":4},"end":{"line":421,"column":3}}]},"56":{"line":432,"type":"if","locations":[{"start":{"line":432,"column":105},"end":{"line":432,"column":104}},{"start":{"line":432,"column":105},"end":{"line":432,"column":104}}]},"57":{"line":437,"type":"binary-expr","locations":[{"start":{"line":437,"column":23},"end":{"line":437,"column":42}},{"start":{"line":437,"column":46},"end":{"line":437,"column":107}}]},"58":{"line":438,"type":"binary-expr","locations":[{"start":{"line":438,"column":19},"end":{"line":438,"column":53}},{"start":{"line":438,"column":57},"end":{"line":438,"column":112}}]},"59":{"line":439,"type":"if","locations":[{"start":{"line":439,"column":4},"end":{"line":439,"column":3}},{"start":{"line":439,"column":4},"end":{"line":439,"column":3}}]},"60":{"line":441,"type":"if","locations":[{"start":{"line":441,"column":6},"end":{"line":441,"column":5}},{"start":{"line":441,"column":6},"end":{"line":441,"column":5}}]},"61":{"line":446,"type":"if","locations":[{"start":{"line":446,"column":4},"end":{"line":446,"column":3}},{"start":{"line":446,"column":4},"end":{"line":446,"column":3}}]},"62":{"line":447,"type":"binary-expr","locations":[{"start":{"line":447,"column":19},"end":{"line":447,"column":32}},{"start":{"line":447,"column":36},"end":{"line":447,"column":91}}]},"63":{"line":448,"type":"binary-expr","locations":[{"start":{"line":448,"column":15},"end":{"line":448,"column":43}},{"start":{"line":448,"column":47},"end":{"line":448,"column":102}}]},"64":{"line":449,"type":"if","locations":[{"start":{"line":449,"column":6},"end":{"line":449,"column":5}},{"start":{"line":449,"column":6},"end":{"line":449,"column":5}}]},"65":{"line":454,"type":"if","locations":[{"start":{"line":454,"column":4},"end":{"line":454,"column":3}},{"start":{"line":454,"column":4},"end":{"line":454,"column":3}}]},"66":{"line":456,"type":"if","locations":[{"start":{"line":456,"column":6},"end":{"line":456,"column":5}},{"start":{"line":456,"column":6},"end":{"line":456,"column":5}}]},"67":{"line":465,"type":"cond-expr","locations":[{"start":{"line":465,"column":48},"end":{"line":465,"column":85}},{"start":{"line":465,"column":88},"end":{"line":465,"column":92}}]},"68":{"line":470,"type":"if","locations":[{"start":{"line":470,"column":4},"end":{"line":470,"column":3}},{"start":{"line":470,"column":4},"end":{"line":470,"column":3}}]},"69":{"line":476,"type":"if","locations":[{"start":{"line":476,"column":51},"end":{"line":476,"column":50}},{"start":{"line":476,"column":51},"end":{"line":476,"column":50}}]},"70":{"line":477,"type":"binary-expr","locations":[{"start":{"line":477,"column":17},"end":{"line":477,"column":31}},{"start":{"line":477,"column":35},"end":{"line":477,"column":50}}]},"71":{"line":478,"type":"if","locations":[{"start":{"line":478,"column":6},"end":{"line":478,"column":5}},{"start":{"line":478,"column":6},"end":{"line":478,"column":5}}]},"72":{"line":479,"type":"if","locations":[{"start":{"line":479,"column":8},"end":{"line":479,"column":7}},{"start":{"line":479,"column":8},"end":{"line":479,"column":7}}]},"73":{"line":490,"type":"binary-expr","locations":[{"start":{"line":490,"column":11},"end":{"line":490,"column":52}},{"start":{"line":490,"column":56},"end":{"line":490,"column":91}}]},"74":{"line":494,"type":"if","locations":[{"start":{"line":494,"column":4},"end":{"line":494,"column":3}},{"start":{"line":494,"column":4},"end":{"line":494,"column":3}}]},"75":{"line":507,"type":"if","locations":[{"start":{"line":507,"column":4},"end":{"line":507,"column":3}},{"start":{"line":507,"column":4},"end":{"line":507,"column":3}}]},"76":{"line":509,"type":"if","locations":[{"start":{"line":509,"column":11},"end":{"line":509,"column":10}},{"start":{"line":509,"column":11},"end":{"line":509,"column":10}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":2,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":2,"32":1,"33":107,"34":1,"35":58,"36":1,"37":99,"38":1,"39":4,"40":1,"41":2,"42":1,"43":3,"44":1,"45":19,"46":1,"47":16,"48":1,"49":4,"50":1,"51":9,"52":1,"53":5,"54":1,"55":5,"56":1,"57":8,"58":1,"59":14,"60":659,"61":659,"62":3,"63":14,"64":1,"65":3,"66":70,"67":70,"68":3,"69":1,"70":8,"71":59,"72":59,"73":59,"74":59,"75":266,"76":266,"77":266,"78":59,"79":59,"80":59,"81":59,"82":266,"83":266,"84":266,"85":97,"86":97,"87":59,"88":8,"89":1,"90":466,"91":366,"92":366,"93":366,"94":366,"95":1,"96":15797,"97":26,"98":15771,"99":15766,"100":5,"101":1,"102":15767,"103":1,"104":533,"105":1,"106":1646,"107":1,"108":1786,"109":195,"110":1786,"111":1786,"112":15645,"113":15645,"114":15645,"115":15645,"116":15645,"117":15645,"118":15637,"119":0,"120":15637,"121":991,"122":15637,"123":14431,"124":8793,"125":151,"126":8642,"127":1,"128":8641,"129":5638,"130":1010,"131":15637,"132":10864,"133":3,"134":10861,"135":767,"136":10094,"137":15637,"138":4,"139":1774,"140":15632,"141":15632,"142":15632,"143":531,"144":1774,"145":1,"146":15150,"147":1,"148":883,"149":883,"150":883,"151":1,"152":102,"153":102,"154":101,"155":1,"156":1,"157":2,"158":1,"159":1,"160":1029,"161":1029,"162":1029,"163":4,"164":4,"165":4,"166":4,"167":4,"168":2,"169":2,"170":2,"171":2,"172":2,"173":2,"174":2,"175":1025,"176":1,"177":2105,"178":2105,"179":2101,"180":4,"181":4,"182":1,"183":4,"184":1,"185":4,"186":1,"187":6174,"188":1,"189":512,"190":512,"191":512,"192":1,"193":1,"194":1,"195":1,"196":613,"197":307,"198":307,"199":1,"200":452,"201":228,"202":228,"203":228,"204":228,"205":2,"206":228,"207":226,"208":226,"209":109,"210":226,"211":228,"212":1,"213":228,"214":228,"215":1,"216":227,"217":1,"218":188,"219":188,"220":1,"221":376,"222":190,"223":190,"224":190,"225":190,"226":1,"227":1,"228":1,"229":190,"230":189,"231":189,"232":189,"233":3,"234":190,"235":186,"236":186,"237":185,"238":186,"239":190,"240":1,"241":4,"242":1,"243":187,"244":187,"245":4,"246":7,"247":183,"248":1,"249":73,"250":37,"251":74,"252":1,"253":1,"254":0,"255":73,"256":36,"257":1,"258":74,"259":1,"260":15615,"261":169,"262":1,"263":12,"264":12,"265":12,"266":12,"267":12,"268":1,"269":11,"270":11,"271":0,"272":0,"273":1,"274":1},"b":{"1":[1,1],"2":[3,656],"3":[97,169],"4":[31,28],"5":[100,266],"6":[26,15771],"7":[15797,15627],"8":[15766,5],"9":[195,1591],"10":[15645,0],"11":[0,15637],"12":[15637,215],"13":[991,14646],"14":[15637,15422],"15":[14431,1206],"16":[15637,14431],"17":[8793,5638],"18":[151,8642],"19":[1,8641],"20":[1010,4628],"21":[10864,4773],"22":[3,10861],"23":[10864,33],"24":[767,10094],"25":[4,15633],"26":[15637,4773,4773],"27":[531,15101],"28":[15150,15013],"29":[883,24],"30":[101,1],"31":[1029,0],"32":[4,1025],"33":[1029,1029],"34":[2,2],"35":[2,0],"36":[2,0],"37":[2,0],"38":[2101,4],"39":[1,3],"40":[1,3],"41":[4,1],"42":[1,3],"43":[4,1],"44":[512,511],"45":[67,445],"46":[1,0],"47":[306,1],"48":[1,306],"49":[224,4],"50":[228,227],"51":[228,226],"52":[2,226],"53":[226,2],"54":[109,117],"55":[1,227],"56":[186,4],"57":[190,125],"58":[190,189],"59":[1,189],"60":[1,0],"61":[189,1],"62":[189,124],"63":[189,186],"64":[3,186],"65":[186,4],"66":[185,1],"67":[4,0],"68":[4,183],"69":[36,1],"70":[110,110],"71":[1,73],"72":[1,0],"73":[74,73],"74":[169,15446],"75":[1,11],"76":[11,0]},"f":{"1":1,"2":1,"3":107,"4":58,"5":99,"6":4,"7":2,"8":3,"9":19,"10":16,"11":4,"12":9,"13":5,"14":5,"15":8,"16":14,"17":659,"18":3,"19":70,"20":8,"21":59,"22":366,"23":15797,"24":15767,"25":533,"26":1646,"27":1786,"28":15150,"29":883,"30":102,"31":2,"32":1029,"33":4,"34":2105,"35":6174,"36":512,"37":1,"38":307,"39":228,"40":228,"41":188,"42":190,"43":4,"44":187,"45":7,"46":37,"47":74,"48":15615,"49":12},"code":"import {IFieldDescription} from '../../rest/FieldDescription';\nimport {Assert} from '../../misc/Assert';\nimport {Template} from '../Templates/Template';\nimport {$$} from '../../utils/Dom';\nimport {TemplateCache} from '../Templates/TemplateCache';\nimport {TemplateList} from '../Templates/TemplateList';\nimport {UnderscoreTemplate} from '../Templates/UnderscoreTemplate';\nimport {HtmlTemplate} from '../Templates/HtmlTemplate';\nimport {Utils} from '../../utils/Utils';\nimport {l} from '../../strings/Strings';\n\nexport interface IComponentOptionsLoadOption<T> {\n  (element: HTMLElement, name: string, option: IComponentOptionsOption<T>): T\n}\n\nexport interface IComponentOptionsPostProcessing<T> {\n  (value: T, options: any): T\n}\n\nexport interface IComponentOptionsOption<T> extends IComponentOptions<T> {\n  type?: ComponentOptionsType;\n  load?: IComponentOptionsLoadOption<T>;\n}\n\nexport interface IComponentOptions<T> {\n  defaultValue?: T;\n  defaultFunction?: (element: HTMLElement) => T;\n  required?: boolean;\n  postProcessing?: IComponentOptionsPostProcessing<T>;\n  attrName?: string;\n  alias?: string;\n  section?: string;\n  depend?: string;\n  priority?: number;\n  deprecated?: string;\n}\n\nexport interface IComponentOptionsNumberOption extends IComponentOptionsOption<number>, IComponentOptionsNumberOptionArgs {\n}\nexport interface IComponentOptionsNumberOptionArgs extends IComponentOptions<number> {\n  min?: number;\n  max?: number;\n  float?: boolean;\n}\n\nexport interface IComponentOptionsListOption extends IComponentOptionsOption<string[]>, IComponentOptionsListOptionArgs {\n}\nexport interface IComponentOptionsListOptionArgs extends IComponentOptions<string[]> {\n  separator?: RegExp;\n  values?: any;\n}\n\nexport interface IComponentOptionsCustomListOptionArgs<T> extends IComponentOptions<T> {\n  separator?: RegExp;\n  values?: any;\n}\n\nexport interface IComponentOptionsChildHtmlElementOption extends IComponentOptionsOption<HTMLElement>, IComponentOptionsChildHtmlElementOptionArgs {\n}\nexport interface IComponentOptionsChildHtmlElementOptionArgs extends IComponentOptions<HTMLElement> {\n  selectorAttr?: string;\n  childSelector?: string;\n}\n\nexport interface IComponentOptionsTemplateOption extends IComponentOptionsOption<Template>, IComponentOptionsTemplateOptionArgs {\n}\nexport interface IComponentOptionsTemplateOptionArgs extends IComponentOptions<Template> {\n  selectorAttr?: string;\n  childSelector?: string;\n  idAttr?: string;\n}\n\nexport interface IComponentOptionsFieldOption extends IComponentOptionsOption<string>, IComponentOptionsFieldOptionArgs {\n}\nexport interface IComponentOptionsFieldOptionArgs extends IComponentOptions<string> {\n  groupByField?: boolean;\n  includeInResults?: boolean;\n  sortByField?: boolean;\n  splitGroupByField?: boolean;\n  match?: (field: IFieldDescription) => boolean;\n}\n\nexport interface IComponentOptionsFieldsOption extends IComponentOptionsOption<string[]>, IComponentOptionsFieldsOptionArgs {\n}\nexport interface IComponentOptionsFieldsOptionArgs extends IComponentOptions<string[]> {\n  groupByField?: boolean;\n  includeInResults?: boolean;\n  sortByField?: boolean;\n  splitGroupByField?: boolean;\n  match?: (field: IFieldDescription) => boolean;\n}\n\nexport interface IComponentOptionsObjectOption extends IComponentOptionsOption<{ [key: string]: any }>, IComponentOptionsObjectOptionArgs {\n}\nexport interface IComponentOptionsObjectOptionArgs extends IComponentOptions<{ [key: string]: any }> {\n  subOptions: { [key: string]: IComponentOptionsOption<any> };\n}\n\nexport enum ComponentOptionsType {\n  BOOLEAN,\n  NUMBER,\n  STRING,\n  LOCALIZED_STRING,\n  LIST,\n  SELECTOR,\n  CHILD_HTML_ELEMENT,\n  TEMPLATE,\n  FIELD,\n  FIELDS,\n  ICON,\n  OBJECT,\n  QUERY,\n  HELPER,\n  LONG_STRING,\n  JSON,\n  JAVASCRIPT,\n  NONE\n}\n\nconst camelCaseToHyphenRegex = /([A-Z])|\\W+(\\w)/g;\nconst fieldsSeperator = /\\s*,\\s*/;\nconst localizer = /([a-zA-Z\\-]+)\\s*:\\s*(([^,]|,\\s*(?!([a-zA-Z\\-]+)\\s*:))+)/g;\n\nexport class ComponentOptions {\n  static buildBooleanOption(optionArgs?: IComponentOptions<boolean>): boolean {\n    return ComponentOptions.buildOption<boolean>(ComponentOptionsType.BOOLEAN, ComponentOptions.loadBooleanOption, optionArgs);\n  }\n\n  static buildNumberOption(optionArgs?: IComponentOptionsNumberOptionArgs): number {\n    return ComponentOptions.buildOption<number>(ComponentOptionsType.NUMBER, ComponentOptions.loadNumberOption, optionArgs);\n  }\n\n  static buildStringOption(optionArgs?: IComponentOptions<string>): string {\n    return ComponentOptions.buildOption<string>(ComponentOptionsType.STRING, ComponentOptions.loadStringOption, optionArgs);\n  }\n\n  static buildIconOption(optionArgs?: IComponentOptions<string>): string {\n    return ComponentOptions.buildOption<string>(ComponentOptionsType.ICON, ComponentOptions.loadStringOption, optionArgs);\n  }\n\n  static buildHelperOption(optionArgs?: IComponentOptions<string>): string {\n    return ComponentOptions.buildOption<string>(ComponentOptionsType.HELPER, ComponentOptions.loadStringOption, optionArgs);\n  }\n\n  static buildJsonOption(optionArgs?: IComponentOptions<string>): string {\n    return ComponentOptions.buildOption<string>(ComponentOptionsType.JSON, ComponentOptions.loadStringOption, optionArgs);\n  }\n\n  static buildLocalizedStringOption(optionArgs?: IComponentOptions<string>): string {\n    return ComponentOptions.buildOption<string>(ComponentOptionsType.LOCALIZED_STRING, ComponentOptions.loadLocalizedStringOption, optionArgs);\n  }\n\n  static buildFieldOption(optionArgs?: IComponentOptionsFieldOptionArgs): string {\n    return ComponentOptions.buildOption<string>(ComponentOptionsType.FIELD, ComponentOptions.loadFieldOption, optionArgs);\n  }\n\n  static buildFieldsOption(optionArgs?: IComponentOptionsFieldsOptionArgs): string[] {\n    return ComponentOptions.buildOption<string[]>(ComponentOptionsType.FIELDS, ComponentOptions.loadFieldsOption, optionArgs);\n  }\n\n  static buildListOption(optionArgs?: IComponentOptionsListOptionArgs): string[] {\n    return ComponentOptions.buildOption<string[]>(ComponentOptionsType.LIST, ComponentOptions.loadListOption, optionArgs);\n  }\n\n  static buildSelectorOption(optionArgs?: IComponentOptions<HTMLElement>): HTMLElement {\n    return ComponentOptions.buildOption<HTMLElement>(ComponentOptionsType.SELECTOR, ComponentOptions.loadSelectorOption, optionArgs);\n  }\n\n  static buildChildHtmlElementOption(optionArgs?: IComponentOptionsChildHtmlElementOptionArgs): HTMLElement {\n    return ComponentOptions.buildOption<HTMLElement>(ComponentOptionsType.CHILD_HTML_ELEMENT, ComponentOptions.loadChildHtmlElementOption, optionArgs);\n  }\n\n  static buildTemplateOption(optionArgs?: IComponentOptionsTemplateOptionArgs): Template {\n    return ComponentOptions.buildOption<Template>(ComponentOptionsType.TEMPLATE, ComponentOptions.loadTemplateOption, optionArgs);\n  }\n\n  static buildCustomOption<T>(converter: (value: string) => T, optionArgs?: IComponentOptions<T>): T {\n    let loadOption: IComponentOptionsLoadOption<T> = (element: HTMLElement, name: string, option: IComponentOptionsOption<T>) => {\n      let stringvalue = ComponentOptions.loadStringOption(element, name, option);\n      if (!Utils.isNullOrEmptyString(stringvalue)) {\n        return converter(stringvalue);\n      }\n    };\n    return ComponentOptions.buildOption<T>(ComponentOptionsType.STRING, loadOption, optionArgs);\n  }\n\n  static buildCustomListOption<T>(converter: (value: string[]) => T, optionArgs?: IComponentOptionsCustomListOptionArgs<T>): T {\n    let loadOption: IComponentOptionsLoadOption<T> = (element: HTMLElement, name: string, option: any) => {\n      let stringvalue = ComponentOptions.loadListOption(element, name, option);\n      return converter(stringvalue);\n    };\n    return ComponentOptions.buildOption<any>(ComponentOptionsType.LIST, loadOption, optionArgs);\n  }\n\n  static buildObjectOption(optionArgs?: IComponentOptionsObjectOptionArgs): any {\n    let loadOption: IComponentOptionsLoadOption<{\n      [key: string]: any\n    }> = (element: HTMLElement, name: string, option: IComponentOptionsOption<any>) => {\n      let keys = _.keys(optionArgs.subOptions);\n      let scopedOptions: {\n        [name: string]: IComponentOptionsOption<any>\n      } = {};\n      let scopedValues: {\n        [name: string]: any\n      } = {};\n      for (let i = 0; i < keys.length; i++) {\n        let key = keys[i];\n        let scopedkey = ComponentOptions.mergeCamelCase(name, key);\n        scopedOptions[scopedkey] = optionArgs.subOptions[key];\n      }\n      ComponentOptions.initOptions(element, scopedOptions, scopedValues);\n      let resultValues: {\n        [name: string]: any\n      } = {};\n      let resultFound = false;\n      for (let i = 0; i < keys.length; i++) {\n        let key = keys[i];\n        let scopedkey = ComponentOptions.mergeCamelCase(name, key);\n        if (scopedValues[scopedkey] != null) {\n          resultValues[key] = scopedValues[scopedkey];\n          resultFound = true;\n        }\n      }\n      return resultFound ? resultValues : null;\n    }\n    return ComponentOptions.buildOption<{\n      [key: string]: any\n    }>(ComponentOptionsType.OBJECT, loadOption, optionArgs);\n  }\n\n  static buildOption<T>(type: ComponentOptionsType, load: IComponentOptionsLoadOption<T>, optionArg: IComponentOptions<T> = {}): T {\n    let option: IComponentOptionsOption<T> = <any>optionArg;\n    option.type = type;\n    option.load = load;\n    return <any>option;\n  }\n\n  static attrNameFromName(name: string, optionArgs?: IComponentOptions<any>) {\n    if (optionArgs && optionArgs.attrName) {\n      return optionArgs.attrName;\n    }\n    if (name) {\n      return 'data-' + ComponentOptions.camelCaseToHyphen(name);\n    }\n    return name;\n  }\n\n  static camelCaseToHyphen(name: string) {\n    return name.replace(camelCaseToHyphenRegex, '-$1$2').toLowerCase();\n  }\n\n  static mergeCamelCase(parent: string, name: string) {\n    return parent + name.substr(0, 1).toUpperCase() + name.substr(1)\n  }\n\n  static initComponentOptions(element: HTMLElement, component: any, values?: any) {\n    return ComponentOptions.initOptions(element, component.options, values, component.ID);\n  }\n\n  static initOptions(element: HTMLElement, options: {\n    [name: string]: IComponentOptionsOption<any>\n  }, values?: any, componentID?: any) {\n    if (values == null) {\n      values = {};\n    }\n    let names: string[] = _.keys(options);\n    for (let i = 0; i < names.length; i++) {\n      let name = names[i];\n      let optionDefinition = options[name];\n      let value: any;\n      let loadFromAttribute = optionDefinition.load;\n\n      if (loadFromAttribute != null) {\n        value = loadFromAttribute(element, name, optionDefinition);\n        if (value && optionDefinition.deprecated) {\n          console.log(componentID + '.' + name + ' : ' + optionDefinition.deprecated);\n        }\n      }\n\n      if (Utils.isNullOrUndefined(value) && values[name] != undefined) {\n        value = values[name];\n      }\n\n      if (value == null && values[name] == undefined) {\n        if (optionDefinition.defaultValue != null) {\n          if (optionDefinition.type == ComponentOptionsType.LIST) {\n            value = _.extend([], optionDefinition.defaultValue);\n          } else if (optionDefinition.type == ComponentOptionsType.OBJECT) {\n            value = _.extend({}, optionDefinition.defaultValue);\n          } else {\n            value = optionDefinition.defaultValue;\n          }\n        } else if (optionDefinition.defaultFunction != null) {\n          value = optionDefinition.defaultFunction(element);\n        }\n      }\n      if (value != null) {\n        if (optionDefinition.type == ComponentOptionsType.OBJECT && values[name] != null) {\n          values[name] = _.extend(values[name], value);\n        } else if (optionDefinition.type == ComponentOptionsType.LOCALIZED_STRING) {\n          values[name] = l(value);\n        } else {\n          values[name] = value;\n        }\n      }\n      if (value == null && values[name] == undefined && optionDefinition.required) {\n        throw new Error(componentID + '.' + name + ' is required');\n      }\n    }\n    for (let i = 0; i < names.length; i++) {\n      let name = names[i];\n      let optionDefinition = options[name];\n      if (optionDefinition.postProcessing) {\n        values[name] = optionDefinition.postProcessing(values[name], values);\n      }\n    }\n    return values;\n  }\n\n  static loadStringOption(element: HTMLElement, name: string, option: IComponentOptions<any>): string {\n    return element.getAttribute(ComponentOptions.attrNameFromName(name, option)) || ComponentOptions.getAttributeFromAlias(element, option);\n  }\n\n  static loadFieldOption(element: HTMLElement, name: string, option: IComponentOptionsOption<any>): string {\n    let field = ComponentOptions.loadStringOption(element, name, option);\n    Assert.check(!Utils.isNonEmptyString(field) || Utils.isCoveoField(field), field + ' is not a valid field');\n    return field;\n  }\n\n  static loadFieldsOption(element: HTMLElement, name: string, option: IComponentOptionsOption<any>): string[] {\n    let fieldsAttr = ComponentOptions.loadStringOption(element, name, option);\n    if (fieldsAttr == null) {\n      return null;\n    }\n    let fields = fieldsAttr.split(fieldsSeperator);\n    _.each(fields, (field: string) => {\n      Assert.check(Utils.isCoveoField(field), field + ' is not a valid field');\n    });\n    return fields;\n  }\n\n  static loadLocalizedStringOption(element: HTMLElement, name: string, option: IComponentOptionsOption<any>): string {\n    let attributeValue = ComponentOptions.loadStringOption(element, name, option);\n    let locale: string = String['locale'] || String['defaultLocale'];\n    if (locale != null && attributeValue != null) {\n      let localeParts = locale.toLowerCase().split('-');\n      let locales = _.map(localeParts, (part, i) => localeParts.slice(0, i + 1).join('-'));\n      let localizers = attributeValue.match(localizer);\n      if (localizers != null) {\n        for (let i = 0; i < localizers.length; i++) {\n          let groups = localizer.exec(localizers[i]);\n          if (groups != null) {\n            let lang = groups[1].toLowerCase();\n            if (_.contains(locales, lang)) {\n              return groups[2].replace(/^\\s+|\\s+$/g, '');\n            }\n          }\n        }\n      }\n      return attributeValue != null ? attributeValue.toLocaleString() : null;\n    }\n    return attributeValue;\n  }\n\n  static loadNumberOption(element: HTMLElement, name: string, option: IComponentOptionsNumberOption): number {\n    let attributeValue = ComponentOptions.loadStringOption(element, name, option);\n    if (attributeValue == null) {\n      return null;\n    }\n    let numberValue = option.float === true ? Utils.parseFloatIfNotUndefined(attributeValue) : Utils.parseIntIfNotUndefined(attributeValue);\n    if (option.min != null && option.min > numberValue) {\n      numberValue = option.min;\n    }\n    if (option.max != null && option.max < numberValue) {\n      numberValue = option.max;\n    }\n    return numberValue;\n  }\n\n  static loadBooleanOption(element: HTMLElement, name: string, option: IComponentOptionsOption<any>): boolean {\n    return Utils.parseBooleanIfNotUndefined(ComponentOptions.loadStringOption(element, name, option));\n  }\n\n  static loadListOption(element: HTMLElement, name: string, option: IComponentOptionsListOption): string[] {\n    let separator = option.separator || /\\s*,\\s*/;\n    let attributeValue = ComponentOptions.loadStringOption(element, name, option);\n    return Utils.isNonEmptyString(attributeValue) ? attributeValue.split(separator) : null;\n  }\n\n  static loadEnumOption(element: HTMLElement, name: string, option: IComponentOptionsOption<any>, _enum: any): number {\n    let enumAsString = ComponentOptions.loadStringOption(element, name, option);\n    return enumAsString != null ? _enum[enumAsString] : null;\n  }\n\n  static loadSelectorOption(element: HTMLElement, name: string, option: IComponentOptionsOption<any>, doc: Document = document): HTMLElement {\n    let attributeValue = ComponentOptions.loadStringOption(element, name, option)\n    return Utils.isNonEmptyString(attributeValue) ? <HTMLElement>doc.querySelector(attributeValue) : null;\n  }\n\n  static loadChildHtmlElementOption(element: HTMLElement, name: string, option: IComponentOptionsChildHtmlElementOption, doc: Document = document): HTMLElement {\n    let htmlElement: HTMLElement;\n    // Attribute: selector\n    let selectorAttr = option.selectorAttr || ComponentOptions.attrNameFromName(name, option) + '-selector';\n    let selector = element.getAttribute(selectorAttr) || ComponentOptions.getAttributeFromAlias(element, option);\n    if (selector != null) {\n      htmlElement = <HTMLElement>doc.body.querySelector(selector);\n    }\n    // Child\n    if (htmlElement == null) {\n      let childSelector = option.childSelector;\n      if (childSelector == null) {\n        childSelector = '.' + name;\n      }\n      htmlElement = ComponentOptions.loadChildHtmlElementFromSelector(element, childSelector);\n    }\n    return htmlElement;\n  }\n\n  static loadChildHtmlElementFromSelector(element: HTMLElement, selector: string): HTMLElement {\n    Assert.isNonEmptyString(selector);\n    if ($$(element).is(selector)) {\n      return element;\n    }\n    return <HTMLElement>$$(element).find(selector);\n  }\n\n  static loadChildrenHtmlElementFromSelector(element: HTMLElement, selector: string): HTMLElement[] {\n    Assert.isNonEmptyString(selector);\n    return $$(element).findAll(selector);\n  }\n\n  static loadTemplateOption(element: HTMLElement, name: string, option: IComponentOptionsTemplateOption, doc: Document = document): Template {\n\n    let template: Template;\n\n    // Attribute: template selector\n    let selectorAttr = option.selectorAttr || ComponentOptions.attrNameFromName(name, option) + '-selector';\n    let selector = element.getAttribute(selectorAttr) || ComponentOptions.getAttributeFromAlias(element, option);\n    if (selector != null) {\n      let templateElement = <HTMLElement>doc.querySelector(selector);\n      if (templateElement != null) {\n        template = ComponentOptions.createResultTemplateFromElement(templateElement);\n      }\n    }\n    // Attribute: template id\n    if (template == null) {\n      let idAttr = option.idAttr || ComponentOptions.attrNameFromName(name, option) + '-id';\n      let id = element.getAttribute(idAttr) || ComponentOptions.getAttributeFromAlias(element, option);\n      if (id != null) {\n        template = ComponentOptions.loadResultTemplateFromId(id);\n      }\n    }\n    // Child\n    if (template == null) {\n      let childSelector = option.childSelector;\n      if (childSelector == null) {\n        childSelector = '.' + name.replace(/([A-Z])/g, '-$1').toLowerCase();\n      }\n      template = ComponentOptions.loadChildrenResultTemplateFromSelector(element, childSelector);\n    }\n    return template;\n  }\n\n  static loadResultTemplateFromId(templateId: string): Template {\n    return Utils.isNonEmptyString(templateId) ? TemplateCache.getTemplate(templateId) : null;\n  }\n\n  static loadChildrenResultTemplateFromSelector(element: HTMLElement, selector: string): Template {\n    let foundElements = ComponentOptions.loadChildrenHtmlElementFromSelector(element, selector);\n    if (foundElements.length > 0) {\n      return new TemplateList(_.compact(_.map(foundElements, (element) => ComponentOptions.createResultTemplateFromElement(element))));\n    }\n    return null;\n  }\n\n  static findParentScrolling(element: HTMLElement, doc: Document = document): HTMLElement {\n    while (<Node>element != doc && element != null) {\n      if (ComponentOptions.isElementScrollable(element)) {\n        if (element.tagName.toLowerCase() !== 'body') {\n          return element;\n        }\n        return <any>window;\n      }\n      element = element.parentElement;\n    }\n    return <any>window;\n  }\n\n  static isElementScrollable(element: HTMLElement) {\n    return $$(element).css('overflow-y') == 'scroll' || element.style.overflowY == 'scroll';\n  }\n\n  static getAttributeFromAlias(element: HTMLElement, option: IComponentOptions<any>) {\n    if (option.alias) {\n      return element.getAttribute(ComponentOptions.attrNameFromName(option.alias));\n    }\n  }\n\n  static createResultTemplateFromElement(element: HTMLElement): Template {\n    Assert.exists(element);\n    let type = element.getAttribute('type');\n    let mimeTypes = 'You must specify the type of template. Valid values are :' +\n      ' ' + UnderscoreTemplate.mimeTypes.toString() +\n      ' ' + HtmlTemplate.mimeTypes.toString()\n    Assert.check(Utils.isNonEmptyString(type), mimeTypes);\n\n    if (_.indexOf(UnderscoreTemplate.mimeTypes, type) != -1) {\n      return UnderscoreTemplate.create(element);\n    } else if (_.indexOf(HtmlTemplate.mimeTypes, type) != -1) {\n      return new HtmlTemplate(element);\n    } else {\n      Assert.fail('Cannot guess template type from attribute: ' + type + '. Valid values are ' + mimeTypes);\n      return undefined;\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Base/ComponentOptions.ts\n **/","l":{"2":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"99":2,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"120":1,"121":1,"122":1,"124":2,"125":1,"126":107,"129":1,"130":58,"133":1,"134":99,"137":1,"138":4,"141":1,"142":2,"145":1,"146":3,"149":1,"150":19,"153":1,"154":16,"157":1,"158":4,"161":1,"162":9,"165":1,"166":5,"169":1,"170":5,"173":1,"174":8,"177":1,"178":14,"179":659,"180":659,"181":3,"184":14,"187":1,"188":3,"189":70,"190":70,"192":3,"195":1,"196":8,"199":59,"200":59,"203":59,"206":59,"207":266,"208":266,"209":266,"211":59,"212":59,"215":59,"216":59,"217":266,"218":266,"219":266,"220":97,"221":97,"224":59,"226":8,"231":466,"232":366,"233":366,"234":366,"235":366,"238":1,"239":15797,"240":26,"242":15771,"243":15766,"245":5,"248":1,"249":15767,"252":1,"253":533,"256":1,"257":1646,"260":1,"263":1786,"264":195,"266":1786,"267":1786,"268":15645,"269":15645,"270":15645,"271":15645,"273":15645,"274":15645,"275":15637,"276":0,"280":15637,"281":991,"284":15637,"285":14431,"286":8793,"287":151,"288":8642,"289":1,"291":8641,"293":5638,"294":1010,"297":15637,"298":10864,"299":3,"300":10861,"301":767,"303":10094,"306":15637,"307":4,"310":1774,"311":15632,"312":15632,"313":15632,"314":531,"317":1774,"320":1,"321":15150,"324":1,"325":883,"326":883,"327":883,"330":1,"331":102,"332":102,"333":101,"335":1,"336":1,"337":2,"339":1,"342":1,"343":1029,"344":1029,"345":1029,"346":4,"347":4,"348":4,"349":4,"350":2,"351":2,"352":2,"353":2,"354":2,"355":2,"360":2,"362":1025,"365":1,"366":2105,"367":2105,"368":2101,"370":4,"371":4,"372":1,"374":4,"375":1,"377":4,"380":1,"381":6174,"384":1,"385":512,"386":512,"387":512,"390":1,"391":1,"392":1,"395":613,"396":307,"397":307,"400":452,"401":228,"403":228,"404":228,"405":228,"406":2,"409":228,"410":226,"411":226,"412":109,"414":226,"416":228,"419":1,"420":228,"421":228,"422":1,"424":227,"427":1,"428":188,"429":188,"432":376,"434":190,"437":190,"438":190,"439":190,"440":1,"441":1,"442":1,"446":190,"447":189,"448":189,"449":189,"450":3,"454":190,"455":186,"456":186,"457":185,"459":186,"461":190,"464":1,"465":4,"468":1,"469":187,"470":187,"471":7,"473":183,"476":73,"477":37,"478":74,"479":1,"480":1,"482":0,"484":73,"486":36,"489":1,"490":74,"493":1,"494":15615,"495":169,"499":1,"500":12,"501":12,"502":12,"505":12,"507":12,"508":1,"509":11,"510":11,"512":0,"513":0,"516":1}},"src/ui/Templates/TemplateCache.ts":{"path":"src/ui/Templates/TemplateCache.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":36}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":41}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":56}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":44}},"5":{"start":{"line":9,"column":0},"end":{"line":122,"column":1}},"6":{"start":{"line":24,"column":16},"end":{"line":40,"column":3}},"7":{"start":{"line":24,"column":62},"end":{"line":24,"column":92}},"8":{"start":{"line":24,"column":94},"end":{"line":24,"column":126}},"9":{"start":{"line":25,"column":4},"end":{"line":25,"column":34}},"10":{"start":{"line":26,"column":4},"end":{"line":26,"column":28}},"11":{"start":{"line":27,"column":4},"end":{"line":29,"column":5}},"12":{"start":{"line":28,"column":6},"end":{"line":28,"column":40}},"13":{"start":{"line":30,"column":4},"end":{"line":32,"column":5}},"14":{"start":{"line":31,"column":6},"end":{"line":31,"column":27}},"15":{"start":{"line":33,"column":4},"end":{"line":33,"column":45}},"16":{"start":{"line":34,"column":4},"end":{"line":36,"column":5}},"17":{"start":{"line":35,"column":6},"end":{"line":35,"column":45}},"18":{"start":{"line":37,"column":4},"end":{"line":39,"column":5}},"19":{"start":{"line":38,"column":6},"end":{"line":38,"column":54}},"20":{"start":{"line":47,"column":16},"end":{"line":50,"column":3}},"21":{"start":{"line":48,"column":4},"end":{"line":48,"column":49}},"22":{"start":{"line":49,"column":4},"end":{"line":49,"column":41}},"23":{"start":{"line":56,"column":16},"end":{"line":58,"column":3}},"24":{"start":{"line":57,"column":4},"end":{"line":57,"column":35}},"25":{"start":{"line":64,"column":16},"end":{"line":66,"column":3}},"26":{"start":{"line":65,"column":4},"end":{"line":65,"column":39}},"27":{"start":{"line":72,"column":16},"end":{"line":74,"column":3}},"28":{"start":{"line":73,"column":4},"end":{"line":73,"column":50}},"29":{"start":{"line":76,"column":16},"end":{"line":79,"column":3}},"30":{"start":{"line":77,"column":4},"end":{"line":77,"column":56}},"31":{"start":{"line":78,"column":4},"end":{"line":78,"column":48}},"32":{"start":{"line":81,"column":9},"end":{"line":90,"column":3}},"33":{"start":{"line":86,"column":4},"end":{"line":88,"column":5}},"34":{"start":{"line":87,"column":6},"end":{"line":87,"column":57}},"35":{"start":{"line":89,"column":4},"end":{"line":89,"column":49}},"36":{"start":{"line":92,"column":17},"end":{"line":105,"column":3}},"37":{"start":{"line":93,"column":4},"end":{"line":104,"column":7}},"38":{"start":{"line":94,"column":6},"end":{"line":94,"column":79}},"39":{"start":{"line":95,"column":6},"end":{"line":95,"column":32}},"40":{"start":{"line":96,"column":6},"end":{"line":96,"column":44}},"41":{"start":{"line":97,"column":6},"end":{"line":99,"column":7}},"42":{"start":{"line":98,"column":8},"end":{"line":98,"column":49}},"43":{"start":{"line":100,"column":6},"end":{"line":103,"column":8}},"44":{"start":{"line":101,"column":8},"end":{"line":101,"column":52}},"45":{"start":{"line":102,"column":8},"end":{"line":102,"column":74}},"46":{"start":{"line":107,"column":17},"end":{"line":121,"column":3}},"47":{"start":{"line":108,"column":4},"end":{"line":120,"column":7}},"48":{"start":{"line":109,"column":6},"end":{"line":109,"column":79}},"49":{"start":{"line":110,"column":6},"end":{"line":110,"column":32}},"50":{"start":{"line":111,"column":6},"end":{"line":111,"column":44}},"51":{"start":{"line":112,"column":6},"end":{"line":114,"column":7}},"52":{"start":{"line":113,"column":8},"end":{"line":113,"column":49}},"53":{"start":{"line":116,"column":6},"end":{"line":119,"column":8}},"54":{"start":{"line":117,"column":8},"end":{"line":117,"column":46}},"55":{"start":{"line":118,"column":8},"end":{"line":118,"column":74}},"56":{"start":{"line":10,"column":17},"end":{"line":10,"column":71}},"57":{"start":{"line":11,"column":17},"end":{"line":11,"column":46}},"58":{"start":{"line":12,"column":17},"end":{"line":12,"column":78}},"59":{"start":{"line":122,"column":0},"end":{"line":122,"column":1}},"60":{"start":{"line":9,"column":13},"end":{"line":122,"column":1}},"61":{"start":{"line":124,"column":0},"end":{"line":126,"column":2}},"62":{"start":{"line":125,"column":2},"end":{"line":125,"column":43}}},"fnMap":{"1":{"name":"(anonymous_1922)","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_1924)","line":24,"loc":{"start":{"line":24,"column":2},"end":{"line":24,"column":126}}},"3":{"name":"(anonymous_1925)","line":47,"loc":{"start":{"line":47,"column":2},"end":{"line":47,"column":40}}},"4":{"name":"(anonymous_1926)","line":56,"loc":{"start":{"line":56,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_1927)","line":64,"loc":{"start":{"line":64,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_1928)","line":72,"loc":{"start":{"line":72,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_1929)","line":76,"loc":{"start":{"line":76,"column":2},"end":{"line":76,"column":47}}},"8":{"name":"(anonymous_1930)","line":81,"loc":{"start":{"line":81,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_1931)","line":92,"loc":{"start":{"line":92,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_1932)","line":93,"loc":{"start":{"line":93,"column":41},"end":{"line":93,"column":46}}},"11":{"name":"(anonymous_1933)","line":100,"loc":{"start":{"line":100,"column":18},"end":{"line":100,"column":36}}},"12":{"name":"(anonymous_1934)","line":107,"loc":{"start":{"line":107,"column":2},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_1935)","line":108,"loc":{"start":{"line":108,"column":35},"end":{"line":108,"column":40}}},"14":{"name":"(anonymous_1936)","line":116,"loc":{"start":{"line":116,"column":18},"end":{"line":116,"column":36}}},"15":{"name":"(anonymous_1937)","line":124,"loc":{"start":{"line":124,"column":46},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":62},"end":{"line":24,"column":61}},{"start":{"line":24,"column":62},"end":{"line":24,"column":61}}]},"2":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":94},"end":{"line":24,"column":93}},{"start":{"line":24,"column":94},"end":{"line":24,"column":93}}]},"3":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":4},"end":{"line":27,"column":3}},{"start":{"line":27,"column":4},"end":{"line":27,"column":3}}]},"4":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":4},"end":{"line":30,"column":3}},{"start":{"line":30,"column":4},"end":{"line":30,"column":3}}]},"5":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":4},"end":{"line":34,"column":3}},{"start":{"line":34,"column":4},"end":{"line":34,"column":3}}]},"6":{"line":34,"type":"binary-expr","locations":[{"start":{"line":34,"column":8},"end":{"line":34,"column":22}},{"start":{"line":34,"column":26},"end":{"line":34,"column":72}}]},"7":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":4},"end":{"line":37,"column":3}},{"start":{"line":37,"column":4},"end":{"line":37,"column":3}}]},"8":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":4},"end":{"line":86,"column":3}},{"start":{"line":86,"column":4},"end":{"line":86,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":2,"6":1,"7":8,"8":8,"9":4,"10":4,"11":4,"12":0,"13":4,"14":4,"15":4,"16":4,"17":3,"18":4,"19":0,"20":1,"21":4,"22":4,"23":1,"24":0,"25":1,"26":0,"27":1,"28":158,"29":1,"30":0,"31":0,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":4,"39":4,"40":4,"41":4,"42":0,"43":4,"44":0,"45":0,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":0,"53":1,"54":0,"55":0,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1},"b":{"1":[4,0],"2":[4,0],"3":[0,4],"4":[4,0],"5":[3,1],"6":[4,4],"7":[0,4],"8":[1,0]},"f":{"1":1,"2":4,"3":4,"4":0,"5":0,"6":158,"7":0,"8":1,"9":1,"10":4,"11":0,"12":1,"13":1,"14":0,"15":1},"code":"import {Template} from './Template';\nimport {Assert} from '../../misc/Assert';\nimport {UnderscoreTemplate} from './UnderscoreTemplate';\nimport {HtmlTemplate} from './HtmlTemplate';\n\n/**\n * Holds a reference to all template available in the framework\n */\nexport class TemplateCache {\n  private static templates: { [templateName: string]: Template; } = {};\n  private static templateNames: string[] = [];\n  private static defaultTemplates: { [templateName: string]: Template; } = {};\n\n\n  public static registerTemplate(name: string, template: Template, publicTemplate?: boolean, defaultTemplate?: boolean);\n  public static registerTemplate(name: string, template: (data: {}) => string, publicTemplate?: boolean, defaultTemplate?: boolean);\n  /**\n   * Register a new template in the framework, which will be available to render any results.\n   * @param name\n   * @param template\n   * @param publicTemplate\n   * @param defaultTemplate\n   */\n  public static registerTemplate(name: string, template: any, publicTemplate: boolean = true, defaultTemplate: boolean = false) {\n    Assert.isNonEmptyString(name);\n    Assert.exists(template);\n    if (!(template instanceof Template)) {\n      template = new Template(template);\n    }\n    if (template.name == null) {\n      template.name = name;\n    }\n    TemplateCache.templates[name] = template;\n    if (publicTemplate && !_.contains(TemplateCache.templateNames, name)) {\n      TemplateCache.templateNames.push(name);\n    }\n    if (defaultTemplate) {\n      TemplateCache.defaultTemplates[name] = template;\n    }\n  }\n\n  /**\n   * Return a template by it's name/id.\n   * @param name\n   * @returns {Template}\n   */\n  public static getTemplate(name: string): Template {\n    Assert.exists(TemplateCache.templates[name]);\n    return TemplateCache.templates[name];\n  }\n\n  /**\n   * Get all templates currently registered in the framework.\n   * @returns {{}}\n   */\n  public static getTemplates(): { [templateName: string]: Template; } {\n    return TemplateCache.templates;\n  }\n\n  /**\n   * Get all templates name currently registered in the framework.\n   * @returns {string[]}\n   */\n  public static getTemplateNames(): string[] {\n    return TemplateCache.templateNames;\n  }\n\n  /**\n   * Get all the \"default\" templates in the framework.\n   * @returns {string[]}\n   */\n  public static getDefaultTemplates(): string[] {\n    return _.keys(TemplateCache.defaultTemplates);\n  }\n\n  public static getDefaultTemplate(name: string): Template {\n    Assert.exists(TemplateCache.defaultTemplates[name]);\n    return TemplateCache.defaultTemplates[name];\n  }\n\n  static scanAndRegisterTemplates() {\n    // Here we take care not to scan for templates for which the base library\n    // is not available. Case in point: someone was using the JS UI on a page\n    // that was also using Handlebars, but our code was initialized before\n    // the Handlebars library (loaded through AMD).\n    if (UnderscoreTemplate.isLibraryAvailable()) {\n      TemplateCache.scanAndRegisterUnderscoreTemplates();\n    }\n    TemplateCache.scanAndRegisterHtmlTemplates();\n  }\n\n  private static scanAndRegisterUnderscoreTemplates() {\n    _.each(UnderscoreTemplate.mimeTypes, (type) => {\n      let scriptList = document.querySelectorAll(`script[id][type='${type}']`);\n      let i = scriptList.length;\n      let arr: HTMLElement[] = new Array(i);\n      while (i--) {\n        arr[i] = <HTMLElement>scriptList.item(i);\n      }\n      _.each(arr, (elem: HTMLElement) => {\n        let template = new UnderscoreTemplate(elem);\n        TemplateCache.registerTemplate(elem.getAttribute('id'), template);\n      })\n    });\n  }\n\n  private static scanAndRegisterHtmlTemplates() {\n    _.each(HtmlTemplate.mimeTypes, (type) => {\n      let scriptList = document.querySelectorAll(`script[id][type='${type}']`);\n      let i = scriptList.length;\n      let arr: HTMLElement[] = new Array(i);\n      while (i--) {\n        arr[i] = <HTMLElement>scriptList.item(i);\n      }\n\n      _.each(arr, (elem: HTMLElement) => {\n        let template = new HtmlTemplate(elem);\n        TemplateCache.registerTemplate(elem.getAttribute('id'), template);\n      })\n    });\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  TemplateCache.scanAndRegisterTemplates();\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Templates/TemplateCache.ts\n **/","l":{"1":1,"2":1,"3":1,"4":1,"9":2,"10":1,"11":1,"12":1,"24":8,"25":4,"26":4,"27":4,"28":0,"30":4,"31":4,"33":4,"34":4,"35":3,"37":4,"38":0,"47":1,"48":4,"49":4,"56":1,"57":0,"64":1,"65":0,"72":1,"73":158,"76":1,"77":0,"78":0,"81":1,"86":1,"87":1,"89":1,"92":1,"93":1,"94":4,"95":4,"96":4,"97":4,"98":0,"100":4,"101":0,"102":0,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":0,"116":1,"117":0,"118":0,"122":1,"124":1,"125":1}},"src/ui/Templates/Template.ts":{"path":"src/ui/Templates/Template.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":52}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":54}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":42}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":52}},"6":{"start":{"line":7,"column":0},"end":{"line":57,"column":1}},"7":{"start":{"line":25,"column":2},"end":{"line":26,"column":3}},"8":{"start":{"line":25,"column":21},"end":{"line":25,"column":60}},"9":{"start":{"line":25,"column":69},"end":{"line":25,"column":89}},"10":{"start":{"line":23,"column":10},"end":{"line":23,"column":44}},"11":{"start":{"line":8,"column":9},"end":{"line":21,"column":3}},"12":{"start":{"line":9,"column":4},"end":{"line":11,"column":7}},"13":{"start":{"line":10,"column":6},"end":{"line":10,"column":66}},"14":{"start":{"line":13,"column":4},"end":{"line":18,"column":7}},"15":{"start":{"line":14,"column":6},"end":{"line":14,"column":93}},"16":{"start":{"line":15,"column":6},"end":{"line":17,"column":7}},"17":{"start":{"line":16,"column":8},"end":{"line":16,"column":48}},"18":{"start":{"line":20,"column":4},"end":{"line":20,"column":18}},"19":{"start":{"line":28,"column":2},"end":{"line":33,"column":3}},"20":{"start":{"line":28,"column":36},"end":{"line":28,"column":57}},"21":{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},"22":{"start":{"line":30,"column":6},"end":{"line":30,"column":39}},"23":{"start":{"line":32,"column":4},"end":{"line":32,"column":16}},"24":{"start":{"line":35,"column":2},"end":{"line":44,"column":3}},"25":{"start":{"line":35,"column":37},"end":{"line":35,"column":58}},"26":{"start":{"line":36,"column":4},"end":{"line":36,"column":64}},"27":{"start":{"line":37,"column":4},"end":{"line":42,"column":5}},"28":{"start":{"line":38,"column":6},"end":{"line":38,"column":49}},"29":{"start":{"line":39,"column":6},"end":{"line":39,"column":73}},"30":{"start":{"line":40,"column":6},"end":{"line":40,"column":33}},"31":{"start":{"line":41,"column":6},"end":{"line":41,"column":21}},"32":{"start":{"line":43,"column":4},"end":{"line":43,"column":16}},"33":{"start":{"line":46,"column":2},"end":{"line":48,"column":3}},"34":{"start":{"line":47,"column":4},"end":{"line":47,"column":16}},"35":{"start":{"line":50,"column":2},"end":{"line":52,"column":3}},"36":{"start":{"line":51,"column":4},"end":{"line":51,"column":14}},"37":{"start":{"line":54,"column":2},"end":{"line":56,"column":3}},"38":{"start":{"line":55,"column":4},"end":{"line":55,"column":21}},"39":{"start":{"line":57,"column":0},"end":{"line":57,"column":1}},"40":{"start":{"line":7,"column":13},"end":{"line":57,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1940)","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Template","line":25,"loc":{"start":{"line":25,"column":2},"end":{"line":25,"column":89}}},"3":{"name":"(anonymous_1942)","line":8,"loc":{"start":{"line":8,"column":2},"end":{"line":8,"column":40}}},"4":{"name":"(anonymous_1943)","line":9,"loc":{"start":{"line":9,"column":161},"end":{"line":9,"column":167}}},"5":{"name":"(anonymous_1944)","line":13,"loc":{"start":{"line":13,"column":59},"end":{"line":13,"column":79}}},"6":{"name":"(anonymous_1945)","line":28,"loc":{"start":{"line":28,"column":2},"end":{"line":28,"column":57}}},"7":{"name":"(anonymous_1946)","line":35,"loc":{"start":{"line":35,"column":2},"end":{"line":35,"column":58}}},"8":{"name":"(anonymous_1947)","line":46,"loc":{"start":{"line":46,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_1948)","line":50,"loc":{"start":{"line":50,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_1949)","line":54,"loc":{"start":{"line":54,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":13},"end":{"line":10,"column":21}},{"start":{"line":10,"column":25},"end":{"line":10,"column":33}},{"start":{"line":10,"column":37},"end":{"line":10,"column":45}},{"start":{"line":10,"column":49},"end":{"line":10,"column":57}},{"start":{"line":10,"column":61},"end":{"line":10,"column":65}}]},"2":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":6},"end":{"line":15,"column":5}},{"start":{"line":15,"column":6},"end":{"line":15,"column":5}}]},"3":{"line":15,"type":"binary-expr","locations":[{"start":{"line":15,"column":10},"end":{"line":15,"column":33}},{"start":{"line":15,"column":37},"end":{"line":15,"column":110}}]},"4":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":36},"end":{"line":28,"column":35}},{"start":{"line":28,"column":36},"end":{"line":28,"column":35}}]},"5":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":29,"column":3}},{"start":{"line":29,"column":4},"end":{"line":29,"column":3}}]},"6":{"line":29,"type":"binary-expr","locations":[{"start":{"line":29,"column":8},"end":{"line":29,"column":25}},{"start":{"line":29,"column":30},"end":{"line":29,"column":45}},{"start":{"line":29,"column":49},"end":{"line":29,"column":71}},{"start":{"line":29,"column":75},"end":{"line":29,"column":97}}]},"7":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":37},"end":{"line":35,"column":36}},{"start":{"line":35,"column":37},"end":{"line":35,"column":36}}]},"8":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":4},"end":{"line":37,"column":3}},{"start":{"line":37,"column":4},"end":{"line":37,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":188,"9":188,"10":188,"11":1,"12":18,"13":0,"14":18,"15":1112,"16":1112,"17":1,"18":18,"19":1,"20":71,"21":69,"22":69,"23":0,"24":1,"25":261,"26":131,"27":131,"28":131,"29":131,"30":131,"31":131,"32":0,"33":1,"34":0,"35":1,"36":0,"37":1,"38":0,"39":1,"40":1},"b":{"1":[0,0,0,0,0],"2":[1,1111],"3":[1112,198],"4":[2,67],"5":[69,0],"6":[69,69,69,0],"7":[130,1],"8":[131,0]},"f":{"1":1,"2":188,"3":18,"4":0,"5":1112,"6":69,"7":131,"8":0,"9":0,"10":0},"code":"import {Logger} from '../../misc/Logger';\nimport {StringUtils} from '../../utils/StringUtils';\nimport {Initialization} from '../Base/Initialization';\nimport {htmlToDom} from '../../utils/Dom';\nimport {BaseComponent} from '../Base/BaseComponent';\n\nexport class Template {\n  static getFieldFromString(text: string) {\n    var fields: string[] = _.map(StringUtils.match(text, /(?:(?!\\b@)@([a-z0-9]+(?:\\.[a-z0-9]+)*\\b))|\\braw.([a-z0-9]+)|\\braw\\['([^']+)'\\]|\\braw\\['([^']+)'\\]/gi), (field) => {\n      return field[1] || field[2] || field[3] || field[4] || null;\n    });\n\n    _.each(Initialization.getListOfRegisteredComponents(), (componentId: string) => {\n      var componentFields = (<any>Initialization.getRegisteredComponent(componentId)).fields;\n      if (componentFields != null && text.indexOf(BaseComponent.computeCssClassNameForType(componentId)) != -1) {\n        fields = fields.concat(componentFields);\n      }\n    });\n\n    return fields;\n  }\n\n  private logger: Logger = new Logger(this);\n\n  constructor(public dataToString?: (object?: any) => string, public condition?: Function) {\n  }\n\n  instantiateToString(object?: any, checkCondition = true): string {\n    if (this.dataToString && (!checkCondition || this.condition == null || this.condition(object))) {\n      return this.dataToString(object);\n    }\n    return null;\n  }\n\n  instantiateToElement(object?: any, checkCondition = true): HTMLElement {\n    var html = this.instantiateToString(object, checkCondition);\n    if (html != null) {\n      var element = <HTMLElement>htmlToDom(html);\n      this.logger.trace('Instantiated result template', object, element);\n      element['template'] = this;\n      return element;\n    }\n    return null;\n  }\n\n  toHtmlElement(): HTMLElement {\n    return null;\n  }\n\n  getFields(): string[] {\n    return [];\n  }\n\n  getType() {\n    return 'Template'\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Templates/Template.ts\n **/","l":{"1":1,"2":1,"3":1,"4":1,"5":1,"7":1,"8":1,"9":18,"10":0,"13":18,"14":1112,"15":1112,"16":1,"20":18,"23":188,"25":188,"28":71,"29":69,"30":69,"32":0,"35":261,"36":131,"37":131,"38":131,"39":131,"40":131,"41":131,"43":0,"46":1,"47":0,"50":1,"51":0,"54":1,"55":0,"57":1}},"src/ui/Templates/UnderscoreTemplate.ts":{"path":"src/ui/Templates/UnderscoreTemplate.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":36}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":41}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":89}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":35}},"6":{"start":{"line":8,"column":0},"end":{"line":12,"column":1}},"7":{"start":{"line":14,"column":0},"end":{"line":90,"column":1}},"8":{"start":{"line":14,"column":40},"end":{"line":14,"column":48}},"9":{"start":{"line":26,"column":2},"end":{"line":50,"column":3}},"10":{"start":{"line":27,"column":4},"end":{"line":27,"column":12}},"11":{"start":{"line":26,"column":21},"end":{"line":26,"column":41}},"12":{"start":{"line":29,"column":4},"end":{"line":29,"column":27}},"13":{"start":{"line":30,"column":4},"end":{"line":30,"column":43}},"14":{"start":{"line":31,"column":4},"end":{"line":31,"column":47}},"15":{"start":{"line":33,"column":4},"end":{"line":33,"column":63}},"16":{"start":{"line":34,"column":4},"end":{"line":36,"column":5}},"17":{"start":{"line":35,"column":6},"end":{"line":35,"column":85}},"18":{"start":{"line":38,"column":4},"end":{"line":41,"column":6}},"19":{"start":{"line":39,"column":6},"end":{"line":39,"column":78}},"20":{"start":{"line":40,"column":6},"end":{"line":40,"column":37}},"21":{"start":{"line":43,"column":4},"end":{"line":43,"column":80}},"22":{"start":{"line":45,"column":4},"end":{"line":45,"column":139}},"23":{"start":{"line":46,"column":4},"end":{"line":49,"column":5}},"24":{"start":{"line":48,"column":6},"end":{"line":48,"column":92}},"25":{"start":{"line":48,"column":74},"end":{"line":48,"column":89}},"26":{"start":{"line":52,"column":2},"end":{"line":58,"column":3}},"27":{"start":{"line":53,"column":4},"end":{"line":53,"column":30}},"28":{"start":{"line":54,"column":4},"end":{"line":54,"column":71}},"29":{"start":{"line":55,"column":4},"end":{"line":55,"column":77}},"30":{"start":{"line":56,"column":4},"end":{"line":56,"column":40}},"31":{"start":{"line":57,"column":4},"end":{"line":57,"column":21}},"32":{"start":{"line":60,"column":2},"end":{"line":62,"column":3}},"33":{"start":{"line":61,"column":4},"end":{"line":61,"column":31}},"34":{"start":{"line":64,"column":9},"end":{"line":67,"column":3}},"35":{"start":{"line":65,"column":4},"end":{"line":65,"column":27}},"36":{"start":{"line":66,"column":4},"end":{"line":66,"column":43}},"37":{"start":{"line":69,"column":9},"end":{"line":77,"column":3}},"38":{"start":{"line":70,"column":4},"end":{"line":70,"column":50}},"39":{"start":{"line":71,"column":4},"end":{"line":71,"column":27}},"40":{"start":{"line":72,"column":4},"end":{"line":74,"column":5}},"41":{"start":{"line":73,"column":6},"end":{"line":73,"column":59}},"42":{"start":{"line":75,"column":4},"end":{"line":75,"column":69}},"43":{"start":{"line":76,"column":4},"end":{"line":76,"column":42}},"44":{"start":{"line":79,"column":2},"end":{"line":81,"column":3}},"45":{"start":{"line":80,"column":4},"end":{"line":80,"column":23}},"46":{"start":{"line":83,"column":9},"end":{"line":85,"column":3}},"47":{"start":{"line":84,"column":4},"end":{"line":84,"column":60}},"48":{"start":{"line":87,"column":9},"end":{"line":89,"column":3}},"49":{"start":{"line":88,"column":4},"end":{"line":88,"column":37}},"50":{"start":{"line":16,"column":16},"end":{"line":16,"column":91}},"51":{"start":{"line":19,"column":16},"end":{"line":24,"column":4}},"52":{"start":{"line":90,"column":0},"end":{"line":90,"column":1}},"53":{"start":{"line":14,"column":13},"end":{"line":90,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1954)","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"UnderscoreTemplate","line":26,"loc":{"start":{"line":26,"column":2},"end":{"line":26,"column":41}}},"3":{"name":"(anonymous_1956)","line":38,"loc":{"start":{"line":38,"column":24},"end":{"line":38,"column":31}}},"4":{"name":"(anonymous_1957)","line":48,"loc":{"start":{"line":48,"column":63},"end":{"line":48,"column":69}}},"5":{"name":"(anonymous_1958)","line":52,"loc":{"start":{"line":52,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_1959)","line":60,"loc":{"start":{"line":60,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_1960)","line":64,"loc":{"start":{"line":64,"column":2},"end":{"line":64,"column":36}}},"8":{"name":"(anonymous_1961)","line":69,"loc":{"start":{"line":69,"column":2},"end":{"line":69,"column":56}}},"9":{"name":"(anonymous_1962)","line":79,"loc":{"start":{"line":79,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_1963)","line":83,"loc":{"start":{"line":83,"column":2},"end":{"line":83,"column":83}}},"11":{"name":"(anonymous_1964)","line":87,"loc":{"start":{"line":87,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":4},"end":{"line":34,"column":3}},{"start":{"line":34,"column":4},"end":{"line":34,"column":3}}]},"2":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":4},"end":{"line":46,"column":3}},{"start":{"line":46,"column":4},"end":{"line":46,"column":3}}]},"3":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":4},"end":{"line":72,"column":3}},{"start":{"line":72,"column":4},"end":{"line":72,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":8,"8":1,"9":1,"10":7,"11":7,"12":7,"13":7,"14":7,"15":7,"16":7,"17":0,"18":7,"19":19,"20":19,"21":7,"22":7,"23":7,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":1,"35":1,"36":1,"37":1,"38":6,"39":6,"40":6,"41":0,"42":6,"43":6,"44":1,"45":0,"46":1,"47":29,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1},"b":{"1":[0,7],"2":[0,7],"3":[0,6]},"f":{"1":1,"2":7,"3":19,"4":0,"5":0,"6":0,"7":1,"8":6,"9":0,"10":29,"11":1},"code":"import {Template} from './Template';\nimport {ITemplateHelperFunction} from './TemplateHelpers';\nimport {Assert} from '../../misc/Assert';\nimport {ComponentOptions, IComponentOptionsFieldsOption} from '../Base/ComponentOptions';\nimport {Utils} from '../../utils/Utils';\nimport {$$} from '../../utils/Dom';\n\n_.templateSettings = {\n  evaluate: /(?:<%|{{)([\\s\\S]+?)(?:%>|}})/g,\n  interpolate: /(?:<%|{{)=([\\s\\S]+?)(?:%>|}})/g,\n  escape: /(?:<%|{{)-([\\s\\S]+?)(?:%>|}})/g\n}\n\nexport class UnderscoreTemplate extends Template {\n  private template: (data: any) => string;\n  public static templateHelpers: { [templateName: string]: ITemplateHelperFunction; } = {};\n  private fields: string[];\n\n  public static mimeTypes = [\n    'text/underscore',\n    'text/underscore-template',\n    'text/x-underscore',\n    'text/x-underscore-template'\n  ];\n\n  constructor(public element: HTMLElement) {\n    super();\n\n    Assert.exists(element);\n    var templateString = element.innerHTML;\n    this.template = _.template(templateString);\n\n    var condition = $$(element).getAttribute('data-condition');\n    if (condition != null) {\n      this.condition = new Function('obj', 'with(obj||{}){return ' + condition + '}')\n    }\n\n    this.dataToString = (object) => {\n      var extended = _.extend({}, object, UnderscoreTemplate.templateHelpers);\n      return this.template(extended);\n    };\n\n    this.fields = Template.getFieldFromString(templateString + ' ' + condition);\n\n    var additionalFields = ComponentOptions.loadFieldsOption(element, 'fields', <IComponentOptionsFieldsOption>{ includeInResults: true });\n    if (additionalFields != null) {\n      // remove the @\n      this.fields = this.fields.concat(_.map(additionalFields, (field) => field.substr(1)));\n    }\n  }\n\n  toHtmlElement(): HTMLElement {\n    var script = $$('script');\n    script.setAttribute('type', _.first(UnderscoreTemplate.mimeTypes));\n    script.setAttribute('data-condition', $(this.element).data('condition'));\n    script.text(this.element.innerHTML);\n    return script.el;\n  }\n\n  getType() {\n    return 'UnderscoreTemplate'\n  }\n\n  static create(element: HTMLElement): UnderscoreTemplate {\n    Assert.exists(element);\n    return new UnderscoreTemplate(element);\n  }\n\n  static fromString(template: string, condition?: string): UnderscoreTemplate {\n    var script = document.createElement('script');\n    script.text = template;\n    if (condition != null) {\n      $$(script).setAttribute('data-condition', condition);\n    }\n    $$(script).setAttribute('type', UnderscoreTemplate.mimeTypes[0]);\n    return new UnderscoreTemplate(script);\n  }\n\n  getFields() {\n    return this.fields;\n  }\n\n  static registerTemplateHelper(helperName: string, helper: ITemplateHelperFunction) {\n    UnderscoreTemplate.templateHelpers[helperName] = helper;\n  }\n\n  static isLibraryAvailable(): boolean {\n    return Utils.exists(window['_']);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Templates/UnderscoreTemplate.ts\n **/","l":{"1":1,"3":1,"4":1,"5":1,"6":1,"8":1,"14":8,"16":1,"19":1,"26":7,"27":7,"29":7,"30":7,"31":7,"33":7,"34":7,"35":0,"38":7,"39":19,"40":19,"43":7,"45":7,"46":7,"48":0,"52":1,"53":0,"54":0,"55":0,"56":0,"57":0,"60":1,"61":0,"64":1,"65":1,"66":1,"69":1,"70":6,"71":6,"72":6,"73":0,"75":6,"76":6,"79":1,"80":0,"83":1,"84":29,"87":1,"88":1,"90":1}},"src/ui/Templates/HtmlTemplate.ts":{"path":"src/ui/Templates/HtmlTemplate.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":36}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":89}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":41}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":35}},"5":{"start":{"line":7,"column":0},"end":{"line":66,"column":1}},"6":{"start":{"line":7,"column":34},"end":{"line":7,"column":42}},"7":{"start":{"line":15,"column":2},"end":{"line":34,"column":3}},"8":{"start":{"line":16,"column":4},"end":{"line":18,"column":7}},"9":{"start":{"line":17,"column":6},"end":{"line":17,"column":31}},"10":{"start":{"line":15,"column":21},"end":{"line":15,"column":41}},"11":{"start":{"line":20,"column":4},"end":{"line":20,"column":62}},"12":{"start":{"line":21,"column":4},"end":{"line":25,"column":5}},"13":{"start":{"line":23,"column":6},"end":{"line":23,"column":63}},"14":{"start":{"line":24,"column":6},"end":{"line":24,"column":85}},"15":{"start":{"line":27,"column":4},"end":{"line":27,"column":83}},"16":{"start":{"line":29,"column":4},"end":{"line":29,"column":139}},"17":{"start":{"line":30,"column":4},"end":{"line":33,"column":5}},"18":{"start":{"line":32,"column":6},"end":{"line":32,"column":92}},"19":{"start":{"line":32,"column":74},"end":{"line":32,"column":89}},"20":{"start":{"line":36,"column":2},"end":{"line":42,"column":3}},"21":{"start":{"line":37,"column":4},"end":{"line":37,"column":30}},"22":{"start":{"line":38,"column":4},"end":{"line":38,"column":65}},"23":{"start":{"line":39,"column":4},"end":{"line":39,"column":91}},"24":{"start":{"line":40,"column":4},"end":{"line":40,"column":40}},"25":{"start":{"line":41,"column":4},"end":{"line":41,"column":21}},"26":{"start":{"line":44,"column":2},"end":{"line":46,"column":3}},"27":{"start":{"line":45,"column":4},"end":{"line":45,"column":25}},"28":{"start":{"line":48,"column":2},"end":{"line":50,"column":3}},"29":{"start":{"line":49,"column":4},"end":{"line":49,"column":23}},"30":{"start":{"line":52,"column":9},"end":{"line":55,"column":3}},"31":{"start":{"line":53,"column":4},"end":{"line":53,"column":27}},"32":{"start":{"line":54,"column":4},"end":{"line":54,"column":37}},"33":{"start":{"line":57,"column":9},"end":{"line":65,"column":3}},"34":{"start":{"line":58,"column":4},"end":{"line":58,"column":50}},"35":{"start":{"line":59,"column":4},"end":{"line":59,"column":27}},"36":{"start":{"line":60,"column":4},"end":{"line":62,"column":5}},"37":{"start":{"line":61,"column":6},"end":{"line":61,"column":59}},"38":{"start":{"line":63,"column":4},"end":{"line":63,"column":63}},"39":{"start":{"line":64,"column":4},"end":{"line":64,"column":36}},"40":{"start":{"line":9,"column":16},"end":{"line":11,"column":4}},"41":{"start":{"line":66,"column":0},"end":{"line":66,"column":1}},"42":{"start":{"line":7,"column":13},"end":{"line":66,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1969)","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"HtmlTemplate","line":15,"loc":{"start":{"line":15,"column":2},"end":{"line":15,"column":41}}},"3":{"name":"(anonymous_1971)","line":16,"loc":{"start":{"line":16,"column":10},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_1972)","line":32,"loc":{"start":{"line":32,"column":63},"end":{"line":32,"column":69}}},"5":{"name":"(anonymous_1973)","line":36,"loc":{"start":{"line":36,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_1974)","line":44,"loc":{"start":{"line":44,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_1975)","line":48,"loc":{"start":{"line":48,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_1976)","line":52,"loc":{"start":{"line":52,"column":2},"end":{"line":52,"column":36}}},"9":{"name":"(anonymous_1977)","line":57,"loc":{"start":{"line":57,"column":2},"end":{"line":57,"column":56}}}},"branchMap":{"1":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":3}},{"start":{"line":21,"column":4},"end":{"line":21,"column":3}}]},"2":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":4},"end":{"line":30,"column":3}},{"start":{"line":30,"column":4},"end":{"line":30,"column":3}}]},"3":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":4},"end":{"line":60,"column":3}},{"start":{"line":60,"column":4},"end":{"line":60,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":11,"9":0,"10":11,"11":11,"12":11,"13":5,"14":5,"15":11,"16":11,"17":11,"18":0,"19":0,"20":1,"21":6,"22":6,"23":6,"24":6,"25":6,"26":1,"27":1,"28":1,"29":0,"30":1,"31":0,"32":0,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":1,"41":1,"42":1},"b":{"1":[5,6],"2":[0,11],"3":[0,0]},"f":{"1":1,"2":11,"3":0,"4":0,"5":6,"6":1,"7":0,"8":0,"9":0},"code":"import {Template} from './Template';\nimport {ComponentOptions, IComponentOptionsFieldsOption} from '../Base/ComponentOptions';\nimport {Assert} from '../../misc/Assert';\nimport {$$} from '../../utils/Dom';\n\n\nexport class HtmlTemplate extends Template {\n\n  public static mimeTypes = [\n    'text/html'\n  ];\n\n  private fields: string[];\n\n  constructor(public element: HTMLElement) {\n    super(() => {\n      return element.innerHTML;\n    });\n\n    var condition = $$(element).getAttribute('data-condition')\n    if (condition != null) {\n      // Allows to add quotes in data-condition on the templates\n      condition = condition.toString().replace(/&quot;/g, '\"');\n      this.condition = new Function('obj', 'with(obj||{}){return ' + condition + '}')\n    }\n\n    this.fields = Template.getFieldFromString(element.innerHTML + ' ' + condition);\n\n    var additionalFields = ComponentOptions.loadFieldsOption(element, 'fields', <IComponentOptionsFieldsOption>{ includeInResults: true });\n    if (additionalFields != null) {\n      // remove the @\n      this.fields = this.fields.concat(_.map(additionalFields, (field) => field.substr(1)));\n    }\n  }\n\n  toHtmlElement(): HTMLElement {\n    var script = $$('script');\n    script.setAttribute('type', _.first(HtmlTemplate.mimeTypes));\n    script.setAttribute('data-condition', $$(this.element).getAttribute('data-condition'));\n    script.text(this.element.innerHTML);\n    return script.el;\n  }\n\n  getType() {\n    return 'HtmlTemplate'\n  }\n\n  getFields(): string[] {\n    return this.fields;\n  }\n\n  static create(element: HTMLElement): HtmlTemplate {\n    Assert.exists(element);\n    return new HtmlTemplate(element);\n  }\n\n  static fromString(template: string, condition?: string): HtmlTemplate {\n    var script = document.createElement('script');\n    script.text = template;\n    if (condition != null) {\n      $$(script).setAttribute('data-condition', condition);\n    }\n    $$(script).setAttribute('type', HtmlTemplate.mimeTypes[0]);\n    return new HtmlTemplate(script);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Templates/HtmlTemplate.ts\n **/","l":{"1":1,"2":1,"3":1,"4":1,"7":1,"9":1,"15":11,"16":11,"17":0,"20":11,"21":11,"23":5,"24":5,"27":11,"29":11,"30":11,"32":0,"36":1,"37":6,"38":6,"39":6,"40":6,"41":6,"44":1,"45":1,"48":1,"49":0,"52":1,"53":0,"54":0,"57":1,"58":0,"59":0,"60":0,"61":0,"63":0,"64":0,"66":1}},"src/ui/Templates/TemplateList.ts":{"path":"src/ui/Templates/TemplateList.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":36}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":4,"column":0},"end":{"line":38,"column":1}},"4":{"start":{"line":4,"column":34},"end":{"line":4,"column":42}},"5":{"start":{"line":6,"column":2},"end":{"line":8,"column":3}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":12}},"7":{"start":{"line":6,"column":22},"end":{"line":6,"column":43}},"8":{"start":{"line":10,"column":2},"end":{"line":18,"column":3}},"9":{"start":{"line":11,"column":4},"end":{"line":16,"column":5}},"10":{"start":{"line":12,"column":6},"end":{"line":12,"column":81}},"11":{"start":{"line":13,"column":6},"end":{"line":15,"column":7}},"12":{"start":{"line":14,"column":8},"end":{"line":14,"column":22}},"13":{"start":{"line":17,"column":4},"end":{"line":17,"column":67}},"14":{"start":{"line":20,"column":2},"end":{"line":29,"column":3}},"15":{"start":{"line":20,"column":37},"end":{"line":20,"column":58}},"16":{"start":{"line":21,"column":4},"end":{"line":26,"column":5}},"17":{"start":{"line":22,"column":6},"end":{"line":22,"column":83}},"18":{"start":{"line":23,"column":6},"end":{"line":25,"column":7}},"19":{"start":{"line":24,"column":8},"end":{"line":24,"column":23}},"20":{"start":{"line":28,"column":4},"end":{"line":28,"column":67}},"21":{"start":{"line":31,"column":2},"end":{"line":33,"column":3}},"22":{"start":{"line":32,"column":4},"end":{"line":32,"column":119}},"23":{"start":{"line":32,"column":78},"end":{"line":32,"column":113}},"24":{"start":{"line":35,"column":2},"end":{"line":37,"column":3}},"25":{"start":{"line":36,"column":4},"end":{"line":36,"column":25}},"26":{"start":{"line":38,"column":0},"end":{"line":38,"column":1}},"27":{"start":{"line":4,"column":13},"end":{"line":38,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1982)","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"TemplateList","line":6,"loc":{"start":{"line":6,"column":2},"end":{"line":6,"column":43}}},"3":{"name":"(anonymous_1984)","line":10,"loc":{"start":{"line":10,"column":2},"end":{"line":10,"column":60}}},"4":{"name":"(anonymous_1985)","line":20,"loc":{"start":{"line":20,"column":2},"end":{"line":20,"column":58}}},"5":{"name":"(anonymous_1986)","line":31,"loc":{"start":{"line":31,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_1987)","line":32,"loc":{"start":{"line":32,"column":36},"end":{"line":32,"column":73}}},"7":{"name":"(anonymous_1988)","line":35,"loc":{"start":{"line":35,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":6},"end":{"line":13,"column":5}},{"start":{"line":13,"column":6},"end":{"line":13,"column":5}}]},"2":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":37},"end":{"line":20,"column":36}},{"start":{"line":20,"column":37},"end":{"line":20,"column":36}}]},"3":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":6},"end":{"line":23,"column":5}},{"start":{"line":23,"column":6},"end":{"line":23,"column":5}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":4,"7":4,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":2,"16":1,"17":1,"18":1,"19":1,"20":0,"21":1,"22":0,"23":0,"24":1,"25":3,"26":1,"27":1},"b":{"1":[0,0],"2":[1,0],"3":[1,0]},"f":{"1":1,"2":4,"3":0,"4":1,"5":0,"6":0,"7":3},"code":"import {Template} from './Template';\nimport {DefaultResultTemplate} from './DefaultResultTemplate';\n\nexport class TemplateList extends Template {\n\n  constructor(private templates: Template[]) {\n    super();\n  }\n\n  instantiateToString(object?: any, checkCondition?: boolean): string {\n    for (var i = 0; i < this.templates.length; i++) {\n      var result = this.templates[i].instantiateToString(object, checkCondition);\n      if (result != null) {\n        return result;\n      }\n    }\n    return new DefaultResultTemplate().instantiateToString(object);\n  }\n\n  instantiateToElement(object?: any, checkCondition = true): HTMLElement {\n    for (var i = 0; i < this.templates.length; i++) {\n      var element = this.templates[i].instantiateToElement(object, checkCondition);\n      if (element != null) {\n        return element;\n      }\n    }\n\n    return new DefaultResultTemplate().instantiateToElement(object)\n  }\n\n  getFields() {\n    return _.reduce(this.templates, (fields: string[], template: Template) => fields.concat(template.getFields()), []);\n  }\n\n  getType() {\n    return 'TemplateList'\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Templates/TemplateList.ts\n **/","l":{"1":1,"2":1,"4":1,"6":4,"7":4,"10":1,"11":0,"12":0,"13":0,"14":0,"17":0,"20":2,"21":1,"22":1,"23":1,"24":1,"28":0,"31":1,"32":0,"35":1,"36":3,"38":1}},"src/ui/Templates/DefaultResultTemplate.ts":{"path":"src/ui/Templates/DefaultResultTemplate.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":36}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":56}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":46}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}},"5":{"start":{"line":8,"column":0},"end":{"line":59,"column":1}},"6":{"start":{"line":8,"column":43},"end":{"line":8,"column":51}},"7":{"start":{"line":10,"column":2},"end":{"line":12,"column":3}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":12}},"9":{"start":{"line":14,"column":2},"end":{"line":42,"column":3}},"10":{"start":{"line":15,"column":4},"end":{"line":15,"column":31}},"11":{"start":{"line":16,"column":4},"end":{"line":16,"column":80}},"12":{"start":{"line":18,"column":4},"end":{"line":18,"column":113}},"13":{"start":{"line":18,"column":80},"end":{"line":18,"column":111}},"14":{"start":{"line":21,"column":4},"end":{"line":28,"column":7}},"15":{"start":{"line":22,"column":6},"end":{"line":26,"column":7}},"16":{"start":{"line":23,"column":8},"end":{"line":23,"column":17}},"17":{"start":{"line":24,"column":13},"end":{"line":26,"column":7}},"18":{"start":{"line":25,"column":8},"end":{"line":25,"column":18}},"19":{"start":{"line":27,"column":6},"end":{"line":27,"column":15}},"20":{"start":{"line":30,"column":4},"end":{"line":35,"column":5}},"21":{"start":{"line":31,"column":6},"end":{"line":31,"column":72}},"22":{"start":{"line":32,"column":6},"end":{"line":34,"column":7}},"23":{"start":{"line":33,"column":8},"end":{"line":33,"column":22}},"24":{"start":{"line":37,"column":4},"end":{"line":41,"column":29}},"25":{"start":{"line":44,"column":2},"end":{"line":48,"column":3}},"26":{"start":{"line":45,"column":4},"end":{"line":45,"column":44}},"27":{"start":{"line":46,"column":4},"end":{"line":46,"column":58}},"28":{"start":{"line":47,"column":4},"end":{"line":47,"column":15}},"29":{"start":{"line":51,"column":2},"end":{"line":54,"column":3}},"30":{"start":{"line":52,"column":4},"end":{"line":52,"column":113}},"31":{"start":{"line":52,"column":80},"end":{"line":52,"column":111}},"32":{"start":{"line":53,"column":4},"end":{"line":53,"column":92}},"33":{"start":{"line":53,"column":69},"end":{"line":53,"column":89}},"34":{"start":{"line":56,"column":2},"end":{"line":58,"column":3}},"35":{"start":{"line":57,"column":4},"end":{"line":57,"column":34}},"36":{"start":{"line":59,"column":0},"end":{"line":59,"column":1}},"37":{"start":{"line":8,"column":13},"end":{"line":59,"column":1}}},"fnMap":{"1":{"name":"(anonymous_1993)","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"DefaultResultTemplate","line":10,"loc":{"start":{"line":10,"column":2},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_1995)","line":14,"loc":{"start":{"line":14,"column":2},"end":{"line":14,"column":48}}},"4":{"name":"(anonymous_1996)","line":18,"loc":{"start":{"line":18,"column":70},"end":{"line":18,"column":75}}},"5":{"name":"(anonymous_1997)","line":21,"loc":{"start":{"line":21,"column":26},"end":{"line":21,"column":31}}},"6":{"name":"(anonymous_1998)","line":44,"loc":{"start":{"line":44,"column":2},"end":{"line":44,"column":49}}},"7":{"name":"(anonymous_1999)","line":51,"loc":{"start":{"line":51,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_2000)","line":52,"loc":{"start":{"line":52,"column":70},"end":{"line":52,"column":75}}},"9":{"name":"(anonymous_2001)","line":53,"loc":{"start":{"line":53,"column":45},"end":{"line":53,"column":64}}},"10":{"name":"(anonymous_2002)","line":56,"loc":{"start":{"line":56,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":6},"end":{"line":22,"column":5}},{"start":{"line":22,"column":6},"end":{"line":22,"column":5}}]},"2":{"line":22,"type":"binary-expr","locations":[{"start":{"line":22,"column":10},"end":{"line":22,"column":29}},{"start":{"line":22,"column":33},"end":{"line":22,"column":52}}]},"3":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":13},"end":{"line":24,"column":12}},{"start":{"line":24,"column":13},"end":{"line":24,"column":12}}]},"4":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":17},"end":{"line":24,"column":36}},{"start":{"line":24,"column":40},"end":{"line":24,"column":59}}]},"5":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":6},"end":{"line":32,"column":5}},{"start":{"line":32,"column":6},"end":{"line":32,"column":5}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":30,"9":1,"10":158,"11":158,"12":158,"13":0,"14":158,"15":0,"16":0,"17":0,"18":0,"19":0,"20":158,"21":0,"22":0,"23":0,"24":158,"25":1,"26":158,"27":158,"28":158,"29":1,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":1,"37":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":1,"2":30,"3":158,"4":0,"5":0,"6":158,"7":0,"8":0,"9":0,"10":0},"code":"import {Template} from './Template';\nimport {UnderscoreTemplate} from './UnderscoreTemplate';\nimport {TemplateCache} from './TemplateCache';\nimport {IQueryResult} from '../../rest/QueryResult';\nimport {Assert} from '../../misc/Assert';\n\n\nexport class DefaultResultTemplate extends Template {\n\n  constructor() {\n    super();\n  }\n\n  instantiateToString(queryResult?: IQueryResult): string {\n    Assert.exists(queryResult);\n    queryResult = _.extend({}, queryResult, UnderscoreTemplate.templateHelpers);\n\n    var defaultTemplates = _.map(TemplateCache.getDefaultTemplates(), (name) => TemplateCache.getTemplate(name));\n\n    // We want to put templates with conditions first\n    defaultTemplates.sort((a, b) => {\n      if (a.condition == null && b.condition != null) {\n        return 1;\n      } else if (a.condition != null && b.condition == null) {\n        return -1;\n      }\n      return 0;\n    });\n\n    for (var i = 0; i < defaultTemplates.length; i++) {\n      var result = defaultTemplates[i].instantiateToString(queryResult);\n      if (result != null) {\n        return result;\n      }\n    }\n\n    return _.template('<div>' +\n      '<div class=\"coveo-title\"><a class=\"CoveoResultLink\"><%= title?Coveo.TemplateHelpers.getHelper(\"highlight\").call(title, titleHighlights):clickUri %></a></div>' +\n      '<% if(excerpt){ %><div class=\"coveo-excerpt\"><%= Coveo.TemplateHelpers.getHelper(\"highlight\").call(excerpt, excerptHighlights) %></div><% } %>' +\n      '<table class=\"CoveoFieldTable\"><%= Coveo.TemplateHelpers.getHelper(\"highlight\").call() %></table>' +\n      '</div>')(queryResult);\n  }\n\n  instantiateToElement(queryResult?: IQueryResult): HTMLElement {\n    var div = document.createElement('div');\n    div.innerHTML = this.instantiateToString(queryResult);\n    return div;\n  }\n\n\n  getFields() {\n    var defaultTemplates = _.map(TemplateCache.getDefaultTemplates(), (name) => TemplateCache.getTemplate(name));\n    return _.flatten(_.map(defaultTemplates, (template: Template) => template.getFields()));\n  }\n\n  getType() {\n    return 'DefaultResultTemplate'\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Templates/DefaultResultTemplate.ts\n **/","l":{"1":1,"2":1,"3":1,"5":1,"8":1,"10":1,"11":30,"14":1,"15":158,"16":158,"18":158,"21":158,"22":0,"23":0,"24":0,"25":0,"27":0,"30":158,"31":0,"32":0,"33":0,"37":158,"44":1,"45":158,"46":158,"47":158,"51":1,"52":0,"53":0,"56":1,"57":0,"59":1}},"src/ui/Analytics/NoopAnalyticsClient.ts":{"path":"src/ui/Analytics/NoopAnalyticsClient.ts","statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":5,"column":36}},"2":{"start":{"line":7,"column":0},"end":{"line":62,"column":1}},"3":{"start":{"line":8,"column":9},"end":{"line":8,"column":39}},"4":{"start":{"line":10,"column":2},"end":{"line":12,"column":3}},"5":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"6":{"start":{"line":14,"column":2},"end":{"line":16,"column":3}},"7":{"start":{"line":15,"column":4},"end":{"line":15,"column":16}},"8":{"start":{"line":18,"column":2},"end":{"line":20,"column":3}},"9":{"start":{"line":19,"column":4},"end":{"line":19,"column":14}},"10":{"start":{"line":22,"column":2},"end":{"line":23,"column":3}},"11":{"start":{"line":25,"column":2},"end":{"line":26,"column":3}},"12":{"start":{"line":28,"column":2},"end":{"line":29,"column":3}},"13":{"start":{"line":31,"column":2},"end":{"line":32,"column":3}},"14":{"start":{"line":34,"column":2},"end":{"line":38,"column":3}},"15":{"start":{"line":35,"column":4},"end":{"line":37,"column":6}},"16":{"start":{"line":36,"column":6},"end":{"line":36,"column":18}},"17":{"start":{"line":40,"column":2},"end":{"line":44,"column":3}},"18":{"start":{"line":41,"column":4},"end":{"line":43,"column":6}},"19":{"start":{"line":42,"column":6},"end":{"line":42,"column":20}},"20":{"start":{"line":46,"column":2},"end":{"line":48,"column":3}},"21":{"start":{"line":47,"column":4},"end":{"line":47,"column":16}},"22":{"start":{"line":50,"column":2},"end":{"line":51,"column":3}},"23":{"start":{"line":53,"column":2},"end":{"line":54,"column":3}},"24":{"start":{"line":56,"column":2},"end":{"line":57,"column":3}},"25":{"start":{"line":59,"column":2},"end":{"line":61,"column":3}},"26":{"start":{"line":60,"column":4},"end":{"line":60,"column":16}},"27":{"start":{"line":62,"column":0},"end":{"line":62,"column":1}},"28":{"start":{"line":7,"column":13},"end":{"line":62,"column":1}}},"fnMap":{"1":{"name":"(anonymous_2004)","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_2006)","line":10,"loc":{"start":{"line":10,"column":2},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_2007)","line":14,"loc":{"start":{"line":14,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_2008)","line":18,"loc":{"start":{"line":18,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_2009)","line":22,"loc":{"start":{"line":22,"column":2},"end":{"line":22,"column":71}}},"6":{"name":"(anonymous_2010)","line":25,"loc":{"start":{"line":25,"column":2},"end":{"line":25,"column":75}}},"7":{"name":"(anonymous_2011)","line":28,"loc":{"start":{"line":28,"column":2},"end":{"line":28,"column":116}}},"8":{"name":"(anonymous_2012)","line":31,"loc":{"start":{"line":31,"column":2},"end":{"line":31,"column":94}}},"9":{"name":"(anonymous_2013)","line":34,"loc":{"start":{"line":34,"column":2},"end":{"line":34,"column":35}}},"10":{"name":"(anonymous_2014)","line":35,"loc":{"start":{"line":35,"column":23},"end":{"line":35,"column":39}}},"11":{"name":"(anonymous_2015)","line":40,"loc":{"start":{"line":40,"column":2},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_2016)","line":41,"loc":{"start":{"line":41,"column":23},"end":{"line":41,"column":39}}},"13":{"name":"(anonymous_2017)","line":46,"loc":{"start":{"line":46,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_2018)","line":50,"loc":{"start":{"line":50,"column":2},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_2019)","line":53,"loc":{"start":{"line":53,"column":2},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_2020)","line":56,"loc":{"start":{"line":56,"column":2},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_2021)","line":59,"loc":{"start":{"line":59,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{},"s":{"1":1,"2":2,"3":147,"4":1,"5":0,"6":1,"7":0,"8":1,"9":0,"10":1,"11":1,"12":1,"13":1,"14":1,"15":0,"16":0,"17":1,"18":0,"19":0,"20":1,"21":0,"22":1,"23":1,"24":1,"25":1,"26":0,"27":1,"28":1},"b":{},"f":{"1":148,"2":0,"3":0,"4":0,"5":9,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":6,"17":0},"code":"import {IAnalyticsClient} from './AnalyticsClient';\nimport {IAnalyticsActionCause} from './AnalyticsActionListMeta';\nimport {IQueryResult} from '../../rest/QueryResult';\nimport {ITopQueries} from '../../rest/TopQueries';\nimport {Promise} from 'es6-promise';\n\nexport class NoopAnalyticsClient implements IAnalyticsClient {\n  public isContextual: boolean = false;\n\n  isActivated() {\n    return false;\n  }\n\n  getCurrentEventCause(): string {\n    return null;\n  }\n\n  getCurrentEventMeta(): { [key: string]: any } {\n    return {};\n  }\n\n  logSearchEvent<TMeta>(actionCause: IAnalyticsActionCause, meta: TMeta) {\n  }\n\n  logSearchAsYouType<TMeta>(actionCause: IAnalyticsActionCause, meta: TMeta) {\n  }\n\n  logClickEvent<TMeta>(actionCause: IAnalyticsActionCause, meta: TMeta, result?: IQueryResult, element?: HTMLElement) {\n  }\n\n  logCustomEvent<TMeta>(actionCause: IAnalyticsActionCause, meta: TMeta, element?: HTMLElement) {\n  }\n\n  getTopQueries(params: ITopQueries): Promise<string[]> {\n    return new Promise((resolve, reject) => {\n      resolve([]);\n    })\n  }\n\n  getCurrentVisitIdPromise(): Promise<string> {\n    return new Promise((resolve, reject) => {\n      resolve(null);\n    })\n  }\n\n  getCurrentVisitId(): string {\n    return null;\n  }\n\n  sendAllPendingEvents() {\n  }\n\n  cancelAllPendingEvents() {\n  }\n\n  warnAboutSearchEvent() {\n  }\n\n  getPendingSearchEvent() {\n    return null;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Analytics/NoopAnalyticsClient.ts\n **/","l":{"5":1,"7":2,"8":147,"10":1,"11":0,"14":1,"15":0,"18":1,"19":0,"22":1,"25":1,"28":1,"31":1,"34":1,"35":0,"36":0,"40":1,"41":0,"42":0,"46":1,"47":0,"50":1,"53":1,"56":1,"59":1,"60":0,"62":1}},"src/ui/Debug/Debug.ts":{"path":"src/ui/Debug/Debug.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":58}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":64}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":102}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":93}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":53}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":40}},"7":{"start":{"line":11,"column":0},"end":{"line":11,"column":52}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":57}},"9":{"start":{"line":13,"column":0},"end":{"line":13,"column":47}},"10":{"start":{"line":14,"column":0},"end":{"line":14,"column":36}},"11":{"start":{"line":15,"column":0},"end":{"line":15,"column":52}},"12":{"start":{"line":17,"column":0},"end":{"line":17,"column":52}},"13":{"start":{"line":18,"column":0},"end":{"line":18,"column":51}},"14":{"start":{"line":19,"column":0},"end":{"line":19,"column":40}},"15":{"start":{"line":25,"column":0},"end":{"line":670,"column":1}},"16":{"start":{"line":25,"column":27},"end":{"line":25,"column":40}},"17":{"start":{"line":45,"column":2},"end":{"line":58,"column":3}},"18":{"start":{"line":46,"column":4},"end":{"line":46,"column":29}},"19":{"start":{"line":45,"column":21},"end":{"line":45,"column":41}},"20":{"start":{"line":45,"column":50},"end":{"line":45,"column":82}},"21":{"start":{"line":45,"column":91},"end":{"line":45,"column":114}},"22":{"start":{"line":39,"column":10},"end":{"line":39,"column":24}},"23":{"start":{"line":40,"column":10},"end":{"line":40,"column":42}},"24":{"start":{"line":47,"column":4},"end":{"line":47,"column":82}},"25":{"start":{"line":48,"column":4},"end":{"line":50,"column":6}},"26":{"start":{"line":49,"column":6},"end":{"line":49,"column":82}},"27":{"start":{"line":51,"column":4},"end":{"line":51,"column":141}},"28":{"start":{"line":51,"column":104},"end":{"line":51,"column":139}},"29":{"start":{"line":52,"column":4},"end":{"line":54,"column":6}},"30":{"start":{"line":53,"column":6},"end":{"line":53,"column":38}},"31":{"start":{"line":56,"column":4},"end":{"line":56,"column":75}},"32":{"start":{"line":57,"column":4},"end":{"line":57,"column":65}},"33":{"start":{"line":60,"column":10},"end":{"line":82,"column":3}},"34":{"start":{"line":60,"column":2},"end":{"line":82,"column":3}},"35":{"start":{"line":61,"column":4},"end":{"line":61,"column":26}},"36":{"start":{"line":63,"column":4},"end":{"line":68,"column":7}},"37":{"start":{"line":69,"column":4},"end":{"line":69,"column":58}},"38":{"start":{"line":70,"column":4},"end":{"line":70,"column":49}},"39":{"start":{"line":71,"column":4},"end":{"line":71,"column":110}},"40":{"start":{"line":72,"column":4},"end":{"line":76,"column":6}},"41":{"start":{"line":73,"column":6},"end":{"line":73,"column":28}},"42":{"start":{"line":74,"column":6},"end":{"line":74,"column":74}},"43":{"start":{"line":75,"column":6},"end":{"line":75,"column":24}},"44":{"start":{"line":77,"column":4},"end":{"line":77,"column":66}},"45":{"start":{"line":78,"column":4},"end":{"line":78,"column":86}},"46":{"start":{"line":79,"column":4},"end":{"line":79,"column":30}},"47":{"start":{"line":81,"column":4},"end":{"line":81,"column":38}},"48":{"start":{"line":84,"column":10},"end":{"line":94,"column":3}},"49":{"start":{"line":84,"column":2},"end":{"line":94,"column":3}},"50":{"start":{"line":85,"column":4},"end":{"line":92,"column":5}},"51":{"start":{"line":86,"column":6},"end":{"line":90,"column":9}},"52":{"start":{"line":87,"column":8},"end":{"line":87,"column":41}},"53":{"start":{"line":88,"column":8},"end":{"line":88,"column":68}},"54":{"start":{"line":88,"column":34},"end":{"line":88,"column":66}},"55":{"start":{"line":89,"column":8},"end":{"line":89,"column":31}},"56":{"start":{"line":91,"column":6},"end":{"line":91,"column":27}},"57":{"start":{"line":93,"column":4},"end":{"line":93,"column":36}},"58":{"start":{"line":96,"column":10},"end":{"line":105,"column":3}},"59":{"start":{"line":96,"column":2},"end":{"line":105,"column":3}},"60":{"start":{"line":97,"column":4},"end":{"line":104,"column":5}},"61":{"start":{"line":98,"column":6},"end":{"line":100,"column":7}},"62":{"start":{"line":99,"column":8},"end":{"line":99,"column":57}},"63":{"start":{"line":101,"column":6},"end":{"line":103,"column":8}},"64":{"start":{"line":102,"column":8},"end":{"line":102,"column":46}},"65":{"start":{"line":107,"column":10},"end":{"line":121,"column":3}},"66":{"start":{"line":107,"column":2},"end":{"line":121,"column":3}},"67":{"start":{"line":108,"column":4},"end":{"line":120,"column":5}},"68":{"start":{"line":109,"column":6},"end":{"line":109,"column":36}},"69":{"start":{"line":110,"column":6},"end":{"line":110,"column":157}},"70":{"start":{"line":110,"column":52},"end":{"line":110,"column":156}},"71":{"start":{"line":110,"column":120},"end":{"line":110,"column":141}},"72":{"start":{"line":111,"column":6},"end":{"line":111,"column":43}},"73":{"start":{"line":113,"column":6},"end":{"line":118,"column":8}},"74":{"start":{"line":115,"column":45},"end":{"line":115,"column":89}},"75":{"start":{"line":116,"column":50},"end":{"line":116,"column":99}},"76":{"start":{"line":119,"column":6},"end":{"line":119,"column":44}},"77":{"start":{"line":123,"column":10},"end":{"line":125,"column":3}},"78":{"start":{"line":124,"column":4},"end":{"line":124,"column":86}},"79":{"start":{"line":127,"column":9},"end":{"line":160,"column":3}},"80":{"start":{"line":127,"column":2},"end":{"line":160,"column":3}},"81":{"start":{"line":128,"column":4},"end":{"line":128,"column":70}},"82":{"start":{"line":130,"column":4},"end":{"line":130,"column":52}},"83":{"start":{"line":132,"column":4},"end":{"line":145,"column":7}},"84":{"start":{"line":133,"column":6},"end":{"line":133,"column":54}},"85":{"start":{"line":134,"column":6},"end":{"line":134,"column":54}},"86":{"start":{"line":135,"column":6},"end":{"line":137,"column":7}},"87":{"start":{"line":136,"column":8},"end":{"line":136,"column":31}},"88":{"start":{"line":138,"column":6},"end":{"line":140,"column":7}},"89":{"start":{"line":139,"column":8},"end":{"line":139,"column":18}},"90":{"start":{"line":141,"column":6},"end":{"line":143,"column":7}},"91":{"start":{"line":142,"column":8},"end":{"line":142,"column":17}},"92":{"start":{"line":144,"column":6},"end":{"line":144,"column":25}},"93":{"start":{"line":147,"column":4},"end":{"line":147,"column":18}},"94":{"start":{"line":149,"column":4},"end":{"line":157,"column":7}},"95":{"start":{"line":150,"column":6},"end":{"line":150,"column":46}},"96":{"start":{"line":151,"column":6},"end":{"line":151,"column":74}},"97":{"start":{"line":152,"column":6},"end":{"line":152,"column":51}},"98":{"start":{"line":153,"column":6},"end":{"line":155,"column":7}},"99":{"start":{"line":154,"column":8},"end":{"line":154,"column":34}},"100":{"start":{"line":156,"column":6},"end":{"line":156,"column":36}},"101":{"start":{"line":159,"column":4},"end":{"line":159,"column":38}},"102":{"start":{"line":162,"column":10},"end":{"line":170,"column":3}},"103":{"start":{"line":163,"column":4},"end":{"line":167,"column":5}},"104":{"start":{"line":164,"column":6},"end":{"line":164,"column":32}},"105":{"start":{"line":165,"column":11},"end":{"line":167,"column":5}},"106":{"start":{"line":166,"column":6},"end":{"line":166,"column":66}},"107":{"start":{"line":168,"column":4},"end":{"line":168,"column":34}},"108":{"start":{"line":169,"column":4},"end":{"line":169,"column":61}},"109":{"start":{"line":172,"column":10},"end":{"line":197,"column":3}},"110":{"start":{"line":172,"column":2},"end":{"line":197,"column":3}},"111":{"start":{"line":173,"column":4},"end":{"line":173,"column":102}},"112":{"start":{"line":174,"column":4},"end":{"line":176,"column":6}},"113":{"start":{"line":175,"column":6},"end":{"line":175,"column":26}},"114":{"start":{"line":177,"column":4},"end":{"line":177,"column":24}},"115":{"start":{"line":178,"column":4},"end":{"line":178,"column":63}},"116":{"start":{"line":179,"column":4},"end":{"line":179,"column":56}},"117":{"start":{"line":180,"column":4},"end":{"line":188,"column":6}},"118":{"start":{"line":181,"column":6},"end":{"line":187,"column":7}},"119":{"start":{"line":182,"column":8},"end":{"line":182,"column":46}},"120":{"start":{"line":183,"column":8},"end":{"line":186,"column":9}},"121":{"start":{"line":184,"column":10},"end":{"line":184,"column":29}},"122":{"start":{"line":185,"column":10},"end":{"line":185,"column":35}},"123":{"start":{"line":189,"column":4},"end":{"line":195,"column":6}},"124":{"start":{"line":190,"column":6},"end":{"line":190,"column":44}},"125":{"start":{"line":191,"column":6},"end":{"line":194,"column":7}},"126":{"start":{"line":192,"column":8},"end":{"line":192,"column":27}},"127":{"start":{"line":193,"column":8},"end":{"line":193,"column":33}},"128":{"start":{"line":196,"column":4},"end":{"line":196,"column":15}},"129":{"start":{"line":199,"column":10},"end":{"line":216,"column":3}},"130":{"start":{"line":199,"column":2},"end":{"line":216,"column":3}},"131":{"start":{"line":200,"column":4},"end":{"line":215,"column":5}},"132":{"start":{"line":201,"column":6},"end":{"line":203,"column":9}},"133":{"start":{"line":202,"column":8},"end":{"line":202,"column":71}},"134":{"start":{"line":204,"column":6},"end":{"line":204,"column":45}},"135":{"start":{"line":206,"column":6},"end":{"line":206,"column":51}},"136":{"start":{"line":207,"column":6},"end":{"line":214,"column":9}},"137":{"start":{"line":208,"column":8},"end":{"line":208,"column":107}},"138":{"start":{"line":209,"column":8},"end":{"line":211,"column":11}},"139":{"start":{"line":210,"column":10},"end":{"line":210,"column":46}},"140":{"start":{"line":212,"column":8},"end":{"line":212,"column":45}},"141":{"start":{"line":213,"column":8},"end":{"line":213,"column":56}},"142":{"start":{"line":218,"column":10},"end":{"line":245,"column":3}},"143":{"start":{"line":218,"column":2},"end":{"line":245,"column":3}},"144":{"start":{"line":219,"column":4},"end":{"line":219,"column":31}},"145":{"start":{"line":220,"column":4},"end":{"line":220,"column":54}},"146":{"start":{"line":221,"column":4},"end":{"line":225,"column":5}},"147":{"start":{"line":222,"column":6},"end":{"line":222,"column":55}},"148":{"start":{"line":224,"column":6},"end":{"line":224,"column":54}},"149":{"start":{"line":226,"column":4},"end":{"line":243,"column":5}},"150":{"start":{"line":227,"column":6},"end":{"line":227,"column":56}},"151":{"start":{"line":228,"column":6},"end":{"line":228,"column":44}},"152":{"start":{"line":229,"column":6},"end":{"line":229,"column":27}},"153":{"start":{"line":230,"column":6},"end":{"line":232,"column":9}},"154":{"start":{"line":231,"column":8},"end":{"line":231,"column":65}},"155":{"start":{"line":233,"column":6},"end":{"line":233,"column":62}},"156":{"start":{"line":234,"column":6},"end":{"line":234,"column":31}},"157":{"start":{"line":236,"column":6},"end":{"line":241,"column":7}},"158":{"start":{"line":237,"column":8},"end":{"line":237,"column":57}},"159":{"start":{"line":238,"column":8},"end":{"line":238,"column":21}},"160":{"start":{"line":240,"column":8},"end":{"line":240,"column":56}},"161":{"start":{"line":242,"column":6},"end":{"line":242,"column":56}},"162":{"start":{"line":244,"column":4},"end":{"line":244,"column":17}},"163":{"start":{"line":247,"column":10},"end":{"line":272,"column":3}},"164":{"start":{"line":247,"column":2},"end":{"line":272,"column":3}},"165":{"start":{"line":248,"column":4},"end":{"line":248,"column":141}},"166":{"start":{"line":249,"column":4},"end":{"line":251,"column":7}},"167":{"start":{"line":250,"column":6},"end":{"line":250,"column":26}},"168":{"start":{"line":252,"column":4},"end":{"line":252,"column":41}},"169":{"start":{"line":253,"column":4},"end":{"line":255,"column":5}},"170":{"start":{"line":254,"column":6},"end":{"line":254,"column":50}},"171":{"start":{"line":256,"column":4},"end":{"line":270,"column":6}},"172":{"start":{"line":257,"column":6},"end":{"line":257,"column":31}},"173":{"start":{"line":258,"column":6},"end":{"line":264,"column":8}},"174":{"start":{"line":259,"column":8},"end":{"line":259,"column":52}},"175":{"start":{"line":260,"column":8},"end":{"line":260,"column":25}},"176":{"start":{"line":261,"column":8},"end":{"line":263,"column":11}},"177":{"start":{"line":262,"column":10},"end":{"line":262,"column":34}},"178":{"start":{"line":265,"column":6},"end":{"line":265,"column":66}},"179":{"start":{"line":266,"column":6},"end":{"line":266,"column":47}},"180":{"start":{"line":267,"column":6},"end":{"line":267,"column":68}},"181":{"start":{"line":268,"column":6},"end":{"line":268,"column":23}},"182":{"start":{"line":269,"column":6},"end":{"line":269,"column":26}},"183":{"start":{"line":271,"column":4},"end":{"line":271,"column":15}},"184":{"start":{"line":274,"column":10},"end":{"line":288,"column":3}},"185":{"start":{"line":274,"column":2},"end":{"line":288,"column":3}},"186":{"start":{"line":275,"column":4},"end":{"line":275,"column":166}},"187":{"start":{"line":276,"column":4},"end":{"line":278,"column":6}},"188":{"start":{"line":277,"column":6},"end":{"line":277,"column":26}},"189":{"start":{"line":279,"column":4},"end":{"line":279,"column":41}},"190":{"start":{"line":280,"column":4},"end":{"line":282,"column":5}},"191":{"start":{"line":281,"column":6},"end":{"line":281,"column":49}},"192":{"start":{"line":283,"column":4},"end":{"line":286,"column":6}},"193":{"start":{"line":284,"column":6},"end":{"line":284,"column":67}},"194":{"start":{"line":285,"column":6},"end":{"line":285,"column":66}},"195":{"start":{"line":287,"column":4},"end":{"line":287,"column":15}},"196":{"start":{"line":290,"column":10},"end":{"line":318,"column":3}},"197":{"start":{"line":290,"column":2},"end":{"line":318,"column":3}},"198":{"start":{"line":291,"column":4},"end":{"line":291,"column":96}},"199":{"start":{"line":292,"column":4},"end":{"line":292,"column":81}},"200":{"start":{"line":293,"column":4},"end":{"line":293,"column":24}},"201":{"start":{"line":294,"column":4},"end":{"line":294,"column":28}},"202":{"start":{"line":296,"column":4},"end":{"line":296,"column":87}},"203":{"start":{"line":297,"column":4},"end":{"line":297,"column":31}},"204":{"start":{"line":299,"column":4},"end":{"line":301,"column":5}},"205":{"start":{"line":300,"column":6},"end":{"line":300,"column":48}},"206":{"start":{"line":303,"column":4},"end":{"line":311,"column":6}},"207":{"start":{"line":304,"column":6},"end":{"line":304,"column":51}},"208":{"start":{"line":305,"column":6},"end":{"line":309,"column":7}},"209":{"start":{"line":306,"column":8},"end":{"line":306,"column":71}},"210":{"start":{"line":308,"column":8},"end":{"line":308,"column":40}},"211":{"start":{"line":310,"column":6},"end":{"line":310,"column":58}},"212":{"start":{"line":313,"column":4},"end":{"line":317,"column":5}},"213":{"start":{"line":320,"column":10},"end":{"line":332,"column":3}},"214":{"start":{"line":320,"column":2},"end":{"line":332,"column":3}},"215":{"start":{"line":321,"column":4},"end":{"line":331,"column":5}},"216":{"start":{"line":322,"column":6},"end":{"line":328,"column":9}},"217":{"start":{"line":323,"column":8},"end":{"line":323,"column":25}},"218":{"start":{"line":324,"column":8},"end":{"line":326,"column":11}},"219":{"start":{"line":325,"column":10},"end":{"line":325,"column":42}},"220":{"start":{"line":327,"column":8},"end":{"line":327,"column":27}},"221":{"start":{"line":330,"column":6},"end":{"line":330,"column":41}},"222":{"start":{"line":334,"column":10},"end":{"line":355,"column":3}},"223":{"start":{"line":335,"column":4},"end":{"line":354,"column":9}},"224":{"start":{"line":337,"column":8},"end":{"line":337,"column":24}},"225":{"start":{"line":338,"column":8},"end":{"line":352,"column":11}},"226":{"start":{"line":339,"column":10},"end":{"line":339,"column":62}},"227":{"start":{"line":340,"column":10},"end":{"line":342,"column":11}},"228":{"start":{"line":341,"column":12},"end":{"line":341,"column":70}},"229":{"start":{"line":343,"column":10},"end":{"line":351,"column":11}},"230":{"start":{"line":344,"column":12},"end":{"line":344,"column":38}},"231":{"start":{"line":345,"column":17},"end":{"line":351,"column":11}},"232":{"start":{"line":346,"column":12},"end":{"line":346,"column":48}},"233":{"start":{"line":347,"column":17},"end":{"line":351,"column":11}},"234":{"start":{"line":348,"column":12},"end":{"line":348,"column":55}},"235":{"start":{"line":350,"column":12},"end":{"line":350,"column":38}},"236":{"start":{"line":353,"column":8},"end":{"line":353,"column":22}},"237":{"start":{"line":357,"column":10},"end":{"line":359,"column":3}},"238":{"start":{"line":358,"column":4},"end":{"line":358,"column":75}},"239":{"start":{"line":361,"column":9},"end":{"line":393,"column":3}},"240":{"start":{"line":361,"column":2},"end":{"line":393,"column":3}},"241":{"start":{"line":362,"column":4},"end":{"line":362,"column":25}},"242":{"start":{"line":364,"column":4},"end":{"line":364,"column":125}},"243":{"start":{"line":366,"column":4},"end":{"line":368,"column":5}},"244":{"start":{"line":367,"column":6},"end":{"line":367,"column":68}},"245":{"start":{"line":369,"column":4},"end":{"line":389,"column":5}},"246":{"start":{"line":370,"column":6},"end":{"line":370,"column":103}},"247":{"start":{"line":371,"column":6},"end":{"line":388,"column":10}},"248":{"start":{"line":372,"column":8},"end":{"line":380,"column":12}},"249":{"start":{"line":373,"column":10},"end":{"line":379,"column":12}},"250":{"start":{"line":381,"column":8},"end":{"line":381,"column":49}},"251":{"start":{"line":382,"column":8},"end":{"line":387,"column":13}},"252":{"start":{"line":390,"column":4},"end":{"line":390,"column":51}},"253":{"start":{"line":392,"column":4},"end":{"line":392,"column":23}},"254":{"start":{"line":395,"column":10},"end":{"line":401,"column":3}},"255":{"start":{"line":396,"column":4},"end":{"line":396,"column":66}},"256":{"start":{"line":397,"column":4},"end":{"line":400,"column":8}},"257":{"start":{"line":398,"column":6},"end":{"line":398,"column":69}},"258":{"start":{"line":399,"column":6},"end":{"line":399,"column":54}},"259":{"start":{"line":403,"column":10},"end":{"line":411,"column":3}},"260":{"start":{"line":404,"column":4},"end":{"line":410,"column":5}},"261":{"start":{"line":405,"column":6},"end":{"line":405,"column":45}},"262":{"start":{"line":406,"column":11},"end":{"line":410,"column":5}},"263":{"start":{"line":407,"column":6},"end":{"line":407,"column":52}},"264":{"start":{"line":409,"column":6},"end":{"line":409,"column":51}},"265":{"start":{"line":413,"column":10},"end":{"line":421,"column":3}},"266":{"start":{"line":413,"column":2},"end":{"line":421,"column":3}},"267":{"start":{"line":414,"column":4},"end":{"line":414,"column":57}},"268":{"start":{"line":415,"column":4},"end":{"line":415,"column":60}},"269":{"start":{"line":416,"column":4},"end":{"line":419,"column":7}},"270":{"start":{"line":417,"column":6},"end":{"line":417,"column":57}},"271":{"start":{"line":418,"column":6},"end":{"line":418,"column":39}},"272":{"start":{"line":420,"column":4},"end":{"line":420,"column":15}},"273":{"start":{"line":423,"column":10},"end":{"line":488,"column":3}},"274":{"start":{"line":423,"column":2},"end":{"line":488,"column":3}},"275":{"start":{"line":424,"column":4},"end":{"line":424,"column":57}},"276":{"start":{"line":425,"column":4},"end":{"line":425,"column":59}},"277":{"start":{"line":427,"column":4},"end":{"line":427,"column":68}},"278":{"start":{"line":428,"column":4},"end":{"line":428,"column":54}},"279":{"start":{"line":430,"column":4},"end":{"line":430,"column":30}},"280":{"start":{"line":431,"column":4},"end":{"line":433,"column":5}},"281":{"start":{"line":432,"column":6},"end":{"line":432,"column":18}},"282":{"start":{"line":435,"column":4},"end":{"line":435,"column":32}},"283":{"start":{"line":436,"column":4},"end":{"line":448,"column":6}},"284":{"start":{"line":437,"column":6},"end":{"line":446,"column":7}},"285":{"start":{"line":438,"column":8},"end":{"line":438,"column":22}},"286":{"start":{"line":439,"column":8},"end":{"line":445,"column":11}},"287":{"start":{"line":440,"column":10},"end":{"line":440,"column":62}},"288":{"start":{"line":441,"column":10},"end":{"line":444,"column":11}},"289":{"start":{"line":442,"column":12},"end":{"line":442,"column":36}},"290":{"start":{"line":443,"column":12},"end":{"line":443,"column":49}},"291":{"start":{"line":447,"column":6},"end":{"line":447,"column":22}},"292":{"start":{"line":449,"column":4},"end":{"line":449,"column":33}},"293":{"start":{"line":451,"column":4},"end":{"line":473,"column":5}},"294":{"start":{"line":452,"column":6},"end":{"line":452,"column":51}},"295":{"start":{"line":453,"column":6},"end":{"line":453,"column":50}},"296":{"start":{"line":454,"column":6},"end":{"line":454,"column":59}},"297":{"start":{"line":455,"column":6},"end":{"line":455,"column":33}},"298":{"start":{"line":457,"column":6},"end":{"line":457,"column":32}},"299":{"start":{"line":458,"column":6},"end":{"line":470,"column":7}},"300":{"start":{"line":459,"column":8},"end":{"line":459,"column":46}},"301":{"start":{"line":460,"column":8},"end":{"line":469,"column":9}},"302":{"start":{"line":461,"column":10},"end":{"line":461,"column":22}},"303":{"start":{"line":462,"column":10},"end":{"line":462,"column":53}},"304":{"start":{"line":463,"column":10},"end":{"line":467,"column":11}},"305":{"start":{"line":464,"column":12},"end":{"line":464,"column":63}},"306":{"start":{"line":466,"column":12},"end":{"line":466,"column":44}},"307":{"start":{"line":468,"column":10},"end":{"line":468,"column":46}},"308":{"start":{"line":472,"column":6},"end":{"line":472,"column":18}},"309":{"start":{"line":474,"column":4},"end":{"line":484,"column":5}},"310":{"start":{"line":475,"column":6},"end":{"line":475,"column":85}},"311":{"start":{"line":476,"column":6},"end":{"line":476,"column":45}},"312":{"start":{"line":477,"column":6},"end":{"line":477,"column":42}},"313":{"start":{"line":478,"column":6},"end":{"line":482,"column":7}},"314":{"start":{"line":479,"column":8},"end":{"line":479,"column":40}},"315":{"start":{"line":481,"column":8},"end":{"line":481,"column":40}},"316":{"start":{"line":483,"column":6},"end":{"line":483,"column":24}},"317":{"start":{"line":485,"column":4},"end":{"line":485,"column":60}},"318":{"start":{"line":486,"column":4},"end":{"line":486,"column":36}},"319":{"start":{"line":487,"column":4},"end":{"line":487,"column":15}},"320":{"start":{"line":490,"column":10},"end":{"line":540,"column":3}},"321":{"start":{"line":490,"column":2},"end":{"line":540,"column":3}},"322":{"start":{"line":491,"column":4},"end":{"line":491,"column":57}},"323":{"start":{"line":492,"column":4},"end":{"line":492,"column":58}},"324":{"start":{"line":494,"column":4},"end":{"line":500,"column":5}},"325":{"start":{"line":495,"column":6},"end":{"line":495,"column":51}},"326":{"start":{"line":496,"column":6},"end":{"line":496,"column":50}},"327":{"start":{"line":497,"column":6},"end":{"line":497,"column":59}},"328":{"start":{"line":498,"column":6},"end":{"line":498,"column":32}},"329":{"start":{"line":499,"column":6},"end":{"line":499,"column":33}},"330":{"start":{"line":501,"column":4},"end":{"line":501,"column":71}},"331":{"start":{"line":502,"column":4},"end":{"line":504,"column":5}},"332":{"start":{"line":503,"column":6},"end":{"line":503,"column":27}},"333":{"start":{"line":505,"column":4},"end":{"line":505,"column":49}},"334":{"start":{"line":506,"column":4},"end":{"line":506,"column":63}},"335":{"start":{"line":507,"column":4},"end":{"line":509,"column":6}},"336":{"start":{"line":508,"column":6},"end":{"line":508,"column":39}},"337":{"start":{"line":510,"column":4},"end":{"line":510,"column":30}},"338":{"start":{"line":511,"column":4},"end":{"line":511,"column":31}},"339":{"start":{"line":513,"column":4},"end":{"line":513,"column":55}},"340":{"start":{"line":514,"column":4},"end":{"line":516,"column":5}},"341":{"start":{"line":515,"column":6},"end":{"line":515,"column":52}},"342":{"start":{"line":517,"column":4},"end":{"line":519,"column":5}},"343":{"start":{"line":518,"column":6},"end":{"line":518,"column":50}},"344":{"start":{"line":520,"column":4},"end":{"line":522,"column":5}},"345":{"start":{"line":521,"column":6},"end":{"line":521,"column":52}},"346":{"start":{"line":523,"column":4},"end":{"line":525,"column":5}},"347":{"start":{"line":524,"column":6},"end":{"line":524,"column":53}},"348":{"start":{"line":526,"column":4},"end":{"line":528,"column":5}},"349":{"start":{"line":527,"column":6},"end":{"line":527,"column":50}},"350":{"start":{"line":529,"column":4},"end":{"line":531,"column":5}},"351":{"start":{"line":530,"column":6},"end":{"line":530,"column":52}},"352":{"start":{"line":532,"column":4},"end":{"line":534,"column":5}},"353":{"start":{"line":533,"column":6},"end":{"line":533,"column":51}},"354":{"start":{"line":535,"column":4},"end":{"line":535,"column":45}},"355":{"start":{"line":537,"column":4},"end":{"line":537,"column":60}},"356":{"start":{"line":538,"column":4},"end":{"line":538,"column":45}},"357":{"start":{"line":539,"column":4},"end":{"line":539,"column":15}},"358":{"start":{"line":542,"column":10},"end":{"line":579,"column":3}},"359":{"start":{"line":542,"column":2},"end":{"line":579,"column":3}},"360":{"start":{"line":542,"column":29},"end":{"line":542,"column":38}},"361":{"start":{"line":542,"column":40},"end":{"line":542,"column":56}},"362":{"start":{"line":543,"column":4},"end":{"line":545,"column":5}},"363":{"start":{"line":544,"column":6},"end":{"line":544,"column":48}},"364":{"start":{"line":546,"column":4},"end":{"line":548,"column":5}},"365":{"start":{"line":547,"column":6},"end":{"line":547,"column":36}},"366":{"start":{"line":549,"column":4},"end":{"line":551,"column":5}},"367":{"start":{"line":550,"column":6},"end":{"line":550,"column":40}},"368":{"start":{"line":552,"column":4},"end":{"line":556,"column":5}},"369":{"start":{"line":553,"column":6},"end":{"line":555,"column":9}},"370":{"start":{"line":554,"column":8},"end":{"line":554,"column":47}},"371":{"start":{"line":557,"column":4},"end":{"line":559,"column":5}},"372":{"start":{"line":558,"column":6},"end":{"line":558,"column":35}},"373":{"start":{"line":560,"column":4},"end":{"line":577,"column":5}},"374":{"start":{"line":561,"column":6},"end":{"line":576,"column":7}},"375":{"start":{"line":562,"column":8},"end":{"line":562,"column":54}},"376":{"start":{"line":563,"column":13},"end":{"line":576,"column":7}},"377":{"start":{"line":564,"column":8},"end":{"line":564,"column":37}},"378":{"start":{"line":565,"column":13},"end":{"line":576,"column":7}},"379":{"start":{"line":566,"column":8},"end":{"line":566,"column":103}},"380":{"start":{"line":566,"column":47},"end":{"line":566,"column":101}},"381":{"start":{"line":567,"column":13},"end":{"line":576,"column":7}},"382":{"start":{"line":568,"column":8},"end":{"line":568,"column":67}},"383":{"start":{"line":570,"column":8},"end":{"line":570,"column":24}},"384":{"start":{"line":571,"column":8},"end":{"line":573,"column":11}},"385":{"start":{"line":572,"column":10},"end":{"line":572,"column":78}},"386":{"start":{"line":574,"column":8},"end":{"line":574,"column":21}},"387":{"start":{"line":575,"column":8},"end":{"line":575,"column":22}},"388":{"start":{"line":578,"column":4},"end":{"line":578,"column":17}},"389":{"start":{"line":581,"column":10},"end":{"line":585,"column":3}},"390":{"start":{"line":582,"column":4},"end":{"line":582,"column":51}},"391":{"start":{"line":583,"column":4},"end":{"line":583,"column":31}},"392":{"start":{"line":584,"column":4},"end":{"line":584,"column":23}},"393":{"start":{"line":587,"column":10},"end":{"line":594,"column":3}},"394":{"start":{"line":587,"column":48},"end":{"line":587,"column":57}},"395":{"start":{"line":588,"column":4},"end":{"line":588,"column":43}},"396":{"start":{"line":589,"column":4},"end":{"line":593,"column":5}},"397":{"start":{"line":590,"column":6},"end":{"line":590,"column":50}},"398":{"start":{"line":592,"column":6},"end":{"line":592,"column":72}},"399":{"start":{"line":596,"column":10},"end":{"line":605,"column":3}},"400":{"start":{"line":597,"column":4},"end":{"line":599,"column":5}},"401":{"start":{"line":598,"column":6},"end":{"line":598,"column":23}},"402":{"start":{"line":600,"column":4},"end":{"line":604,"column":5}},"403":{"start":{"line":607,"column":10},"end":{"line":621,"column":3}},"404":{"start":{"line":608,"column":4},"end":{"line":610,"column":5}},"405":{"start":{"line":609,"column":6},"end":{"line":609,"column":18}},"406":{"start":{"line":611,"column":4},"end":{"line":611,"column":51}},"407":{"start":{"line":612,"column":4},"end":{"line":614,"column":6}},"408":{"start":{"line":615,"column":4},"end":{"line":619,"column":5}},"409":{"start":{"line":616,"column":6},"end":{"line":616,"column":37}},"410":{"start":{"line":617,"column":6},"end":{"line":617,"column":70}},"411":{"start":{"line":618,"column":6},"end":{"line":618,"column":49}},"412":{"start":{"line":620,"column":4},"end":{"line":620,"column":26}},"413":{"start":{"line":623,"column":10},"end":{"line":635,"column":3}},"414":{"start":{"line":624,"column":4},"end":{"line":634,"column":5}},"415":{"start":{"line":625,"column":6},"end":{"line":625,"column":44}},"416":{"start":{"line":626,"column":6},"end":{"line":626,"column":41}},"417":{"start":{"line":627,"column":6},"end":{"line":627,"column":35}},"418":{"start":{"line":628,"column":6},"end":{"line":628,"column":34}},"419":{"start":{"line":629,"column":6},"end":{"line":629,"column":32}},"420":{"start":{"line":630,"column":11},"end":{"line":634,"column":5}},"421":{"start":{"line":631,"column":6},"end":{"line":631,"column":57}},"422":{"start":{"line":632,"column":6},"end":{"line":632,"column":38}},"423":{"start":{"line":633,"column":6},"end":{"line":633,"column":25}},"424":{"start":{"line":637,"column":10},"end":{"line":659,"column":3}},"425":{"start":{"line":638,"column":4},"end":{"line":658,"column":5}},"426":{"start":{"line":639,"column":6},"end":{"line":639,"column":107}},"427":{"start":{"line":640,"column":6},"end":{"line":640,"column":29}},"428":{"start":{"line":641,"column":6},"end":{"line":657,"column":8}},"429":{"start":{"line":642,"column":8},"end":{"line":642,"column":81}},"430":{"start":{"line":643,"column":8},"end":{"line":643,"column":39}},"431":{"start":{"line":644,"column":8},"end":{"line":644,"column":34}},"432":{"start":{"line":645,"column":8},"end":{"line":656,"column":9}},"433":{"start":{"line":646,"column":10},"end":{"line":646,"column":83}},"434":{"start":{"line":647,"column":10},"end":{"line":647,"column":62}},"435":{"start":{"line":648,"column":10},"end":{"line":648,"column":36}},"436":{"start":{"line":649,"column":10},"end":{"line":649,"column":43}},"437":{"start":{"line":650,"column":10},"end":{"line":650,"column":83}},"438":{"start":{"line":651,"column":10},"end":{"line":651,"column":36}},"439":{"start":{"line":653,"column":10},"end":{"line":653,"column":43}},"440":{"start":{"line":654,"column":10},"end":{"line":654,"column":59}},"441":{"start":{"line":655,"column":10},"end":{"line":655,"column":36}},"442":{"start":{"line":661,"column":10},"end":{"line":665,"column":3}},"443":{"start":{"line":662,"column":4},"end":{"line":664,"column":5}},"444":{"start":{"line":663,"column":6},"end":{"line":663,"column":44}},"445":{"start":{"line":667,"column":9},"end":{"line":669,"column":3}},"446":{"start":{"line":668,"column":4},"end":{"line":668,"column":16}},"447":{"start":{"line":26,"column":9},"end":{"line":26,"column":22}},"448":{"start":{"line":27,"column":9},"end":{"line":29,"column":4}},"449":{"start":{"line":31,"column":9},"end":{"line":31,"column":126}},"450":{"start":{"line":33,"column":9},"end":{"line":33,"column":89}},"451":{"start":{"line":34,"column":9},"end":{"line":34,"column":23}},"452":{"start":{"line":670,"column":0},"end":{"line":670,"column":1}},"453":{"start":{"line":25,"column":13},"end":{"line":670,"column":1}}},"fnMap":{"1":{"name":"(anonymous_2026)","line":25,"loc":{"start":{"line":25,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Debug","line":45,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":114}}},"3":{"name":"(anonymous_2028)","line":48,"loc":{"start":{"line":48,"column":51},"end":{"line":48,"column":84}}},"4":{"name":"(anonymous_2029)","line":51,"loc":{"start":{"line":51,"column":61},"end":{"line":51,"column":99}}},"5":{"name":"(anonymous_2030)","line":52,"loc":{"start":{"line":52,"column":52},"end":{"line":52,"column":60}}},"6":{"name":"(anonymous_2031)","line":60,"loc":{"start":{"line":60,"column":2},"end":{"line":60,"column":96}}},"7":{"name":"(anonymous_2032)","line":72,"loc":{"start":{"line":72,"column":22},"end":{"line":72,"column":46}}},"8":{"name":"(anonymous_2033)","line":84,"loc":{"start":{"line":84,"column":2},"end":{"line":84,"column":40}}},"9":{"name":"(anonymous_2034)","line":86,"loc":{"start":{"line":86,"column":17},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_2035)","line":88,"loc":{"start":{"line":88,"column":28},"end":{"line":88,"column":33}}},"11":{"name":"(anonymous_2036)","line":96,"loc":{"start":{"line":96,"column":2},"end":{"line":96,"column":69}}},"12":{"name":"(anonymous_2037)","line":101,"loc":{"start":{"line":101,"column":35},"end":{"line":101,"column":49}}},"13":{"name":"(anonymous_2038)","line":107,"loc":{"start":{"line":107,"column":2},"end":{"line":107,"column":83}}},"14":{"name":"(anonymous_2039)","line":110,"loc":{"start":{"line":110,"column":23},"end":{"line":110,"column":47}}},"15":{"name":"(anonymous_2040)","line":110,"loc":{"start":{"line":110,"column":94},"end":{"line":110,"column":115}}},"16":{"name":"(anonymous_2041)","line":115,"loc":{"start":{"line":115,"column":16},"end":{"line":115,"column":40}}},"17":{"name":"(anonymous_2042)","line":116,"loc":{"start":{"line":116,"column":21},"end":{"line":116,"column":45}}},"18":{"name":"(anonymous_2043)","line":123,"loc":{"start":{"line":123,"column":2},"end":{"line":123,"column":32}}},"19":{"name":"(anonymous_2044)","line":127,"loc":{"start":{"line":127,"column":2},"end":{"line":127,"column":65}}},"20":{"name":"(anonymous_2045)","line":132,"loc":{"start":{"line":132,"column":21},"end":{"line":132,"column":40}}},"21":{"name":"(anonymous_2046)","line":149,"loc":{"start":{"line":149,"column":20},"end":{"line":149,"column":34}}},"22":{"name":"(anonymous_2047)","line":162,"loc":{"start":{"line":162,"column":2},"end":{"line":162,"column":67}}},"23":{"name":"(anonymous_2048)","line":172,"loc":{"start":{"line":172,"column":2},"end":{"line":172,"column":42}}},"24":{"name":"(anonymous_2049)","line":174,"loc":{"start":{"line":174,"column":18},"end":{"line":174,"column":20}}},"25":{"name":"(anonymous_2050)","line":180,"loc":{"start":{"line":180,"column":20},"end":{"line":180,"column":22}}},"26":{"name":"(anonymous_2051)","line":189,"loc":{"start":{"line":189,"column":21},"end":{"line":null,"column":-1}}},"27":{"name":"(anonymous_2052)","line":199,"loc":{"start":{"line":199,"column":2},"end":{"line":199,"column":49}}},"28":{"name":"(anonymous_2053)","line":201,"loc":{"start":{"line":201,"column":78},"end":{"line":201,"column":81}}},"29":{"name":"(anonymous_2054)","line":207,"loc":{"start":{"line":207,"column":17},"end":{"line":null,"column":-1}}},"30":{"name":"(anonymous_2055)","line":209,"loc":{"start":{"line":209,"column":31},"end":{"line":209,"column":52}}},"31":{"name":"(anonymous_2056)","line":218,"loc":{"start":{"line":218,"column":2},"end":{"line":218,"column":60}}},"32":{"name":"(anonymous_2057)","line":230,"loc":{"start":{"line":230,"column":23},"end":{"line":230,"column":42}}},"33":{"name":"(anonymous_2058)","line":247,"loc":{"start":{"line":247,"column":2},"end":{"line":247,"column":127}}},"34":{"name":"(anonymous_2059)","line":249,"loc":{"start":{"line":249,"column":24},"end":{"line":249,"column":26}}},"35":{"name":"(anonymous_2060)","line":256,"loc":{"start":{"line":256,"column":24},"end":{"line":null,"column":-1}}},"36":{"name":"(anonymous_2061)","line":258,"loc":{"start":{"line":258,"column":84},"end":{"line":258,"column":123}}},"37":{"name":"(anonymous_2062)","line":261,"loc":{"start":{"line":261,"column":57},"end":{"line":261,"column":63}}},"38":{"name":"(anonymous_2063)","line":274,"loc":{"start":{"line":274,"column":2},"end":{"line":null,"column":-1}}},"39":{"name":"(anonymous_2064)","line":276,"loc":{"start":{"line":276,"column":18},"end":{"line":276,"column":20}}},"40":{"name":"(anonymous_2065)","line":283,"loc":{"start":{"line":283,"column":24},"end":{"line":null,"column":-1}}},"41":{"name":"(anonymous_2066)","line":290,"loc":{"start":{"line":290,"column":2},"end":{"line":290,"column":33}}},"42":{"name":"(anonymous_2067)","line":303,"loc":{"start":{"line":303,"column":21},"end":{"line":null,"column":-1}}},"43":{"name":"(anonymous_2068)","line":320,"loc":{"start":{"line":320,"column":2},"end":{"line":null,"column":-1}}},"44":{"name":"(anonymous_2069)","line":322,"loc":{"start":{"line":322,"column":66},"end":{"line":322,"column":94}}},"45":{"name":"(anonymous_2070)","line":324,"loc":{"start":{"line":324,"column":23},"end":{"line":324,"column":29}}},"46":{"name":"(anonymous_2071)","line":334,"loc":{"start":{"line":334,"column":2},"end":{"line":334,"column":49}}},"47":{"name":"(anonymous_2072)","line":336,"loc":{"start":{"line":336,"column":12},"end":{"line":336,"column":70}}},"48":{"name":"(anonymous_2073)","line":338,"loc":{"start":{"line":338,"column":27},"end":{"line":338,"column":51}}},"49":{"name":"(anonymous_2074)","line":357,"loc":{"start":{"line":357,"column":2},"end":{"line":357,"column":54}}},"50":{"name":"(anonymous_2075)","line":361,"loc":{"start":{"line":361,"column":2},"end":{"line":361,"column":39}}},"51":{"name":"(anonymous_2076)","line":371,"loc":{"start":{"line":371,"column":59},"end":{"line":371,"column":64}}},"52":{"name":"(anonymous_2077)","line":372,"loc":{"start":{"line":372,"column":97},"end":{"line":372,"column":102}}},"53":{"name":"(anonymous_2078)","line":395,"loc":{"start":{"line":395,"column":2},"end":{"line":395,"column":36}}},"54":{"name":"(anonymous_2079)","line":397,"loc":{"start":{"line":397,"column":40},"end":{"line":397,"column":47}}},"55":{"name":"(anonymous_2080)","line":403,"loc":{"start":{"line":403,"column":2},"end":{"line":403,"column":50}}},"56":{"name":"(anonymous_2081)","line":413,"loc":{"start":{"line":413,"column":2},"end":{"line":413,"column":60}}},"57":{"name":"(anonymous_2082)","line":416,"loc":{"start":{"line":416,"column":17},"end":{"line":416,"column":23}}},"58":{"name":"(anonymous_2083)","line":423,"loc":{"start":{"line":423,"column":2},"end":{"line":423,"column":57}}},"59":{"name":"(anonymous_2084)","line":436,"loc":{"start":{"line":436,"column":20},"end":{"line":null,"column":-1}}},"60":{"name":"(anonymous_2085)","line":439,"loc":{"start":{"line":439,"column":21},"end":{"line":439,"column":33}}},"61":{"name":"(anonymous_2086)","line":460,"loc":{"start":{"line":460,"column":27},"end":{"line":null,"column":-1}}},"62":{"name":"(anonymous_2087)","line":490,"loc":{"start":{"line":490,"column":2},"end":{"line":490,"column":58}}},"63":{"name":"(anonymous_2088)","line":507,"loc":{"start":{"line":507,"column":26},"end":{"line":null,"column":-1}}},"64":{"name":"(anonymous_2089)","line":542,"loc":{"start":{"line":542,"column":2},"end":{"line":542,"column":56}}},"65":{"name":"(anonymous_2090)","line":553,"loc":{"start":{"line":553,"column":24},"end":{"line":553,"column":30}}},"66":{"name":"(anonymous_2091)","line":566,"loc":{"start":{"line":566,"column":28},"end":{"line":566,"column":42}}},"67":{"name":"(anonymous_2092)","line":571,"loc":{"start":{"line":571,"column":22},"end":{"line":571,"column":36}}},"68":{"name":"(anonymous_2093)","line":581,"loc":{"start":{"line":581,"column":2},"end":{"line":581,"column":52}}},"69":{"name":"(anonymous_2094)","line":587,"loc":{"start":{"line":587,"column":2},"end":{"line":587,"column":57}}},"70":{"name":"(anonymous_2095)","line":596,"loc":{"start":{"line":596,"column":2},"end":{"line":596,"column":39}}},"71":{"name":"(anonymous_2096)","line":607,"loc":{"start":{"line":607,"column":2},"end":{"line":607,"column":43}}},"72":{"name":"(anonymous_2097)","line":623,"loc":{"start":{"line":623,"column":2},"end":{"line":623,"column":43}}},"73":{"name":"(anonymous_2098)","line":637,"loc":{"start":{"line":637,"column":2},"end":{"line":637,"column":62}}},"74":{"name":"(anonymous_2099)","line":641,"loc":{"start":{"line":641,"column":20},"end":{"line":641,"column":26}}},"75":{"name":"(anonymous_2100)","line":661,"loc":{"start":{"line":661,"column":2},"end":{"line":661,"column":52}}},"76":{"name":"(anonymous_2101)","line":667,"loc":{"start":{"line":667,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":49,"type":"binary-expr","locations":[{"start":{"line":49,"column":38},"end":{"line":49,"column":48}},{"start":{"line":49,"column":52},"end":{"line":49,"column":81}}]},"2":{"line":57,"type":"binary-expr","locations":[{"start":{"line":57,"column":29},"end":{"line":57,"column":58}},{"start":{"line":57,"column":62},"end":{"line":57,"column":64}}]},"3":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":4},"end":{"line":85,"column":3}},{"start":{"line":85,"column":4},"end":{"line":85,"column":3}}]},"4":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":4},"end":{"line":97,"column":3}},{"start":{"line":97,"column":4},"end":{"line":97,"column":3}}]},"5":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":6},"end":{"line":98,"column":5}},{"start":{"line":98,"column":6},"end":{"line":98,"column":5}}]},"6":{"line":98,"type":"binary-expr","locations":[{"start":{"line":98,"column":10},"end":{"line":98,"column":38}},{"start":{"line":98,"column":42},"end":{"line":98,"column":70}}]},"7":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":4},"end":{"line":108,"column":3}},{"start":{"line":108,"column":4},"end":{"line":108,"column":3}}]},"8":{"line":110,"type":"cond-expr","locations":[{"start":{"line":110,"column":70},"end":{"line":110,"column":142}},{"start":{"line":110,"column":145},"end":{"line":110,"column":156}}]},"9":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":6},"end":{"line":135,"column":5}},{"start":{"line":135,"column":6},"end":{"line":135,"column":5}}]},"10":{"line":135,"type":"binary-expr","locations":[{"start":{"line":135,"column":10},"end":{"line":135,"column":22}},{"start":{"line":135,"column":26},"end":{"line":135,"column":38}}]},"11":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":6},"end":{"line":138,"column":5}},{"start":{"line":138,"column":6},"end":{"line":138,"column":5}}]},"12":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":6},"end":{"line":141,"column":5}},{"start":{"line":141,"column":6},"end":{"line":141,"column":5}}]},"13":{"line":153,"type":"if","locations":[{"start":{"line":153,"column":6},"end":{"line":153,"column":5}},{"start":{"line":153,"column":6},"end":{"line":153,"column":5}}]},"14":{"line":163,"type":"if","locations":[{"start":{"line":163,"column":4},"end":{"line":163,"column":3}},{"start":{"line":163,"column":4},"end":{"line":163,"column":3}}]},"15":{"line":165,"type":"if","locations":[{"start":{"line":165,"column":11},"end":{"line":165,"column":10}},{"start":{"line":165,"column":11},"end":{"line":165,"column":10}}]},"16":{"line":181,"type":"if","locations":[{"start":{"line":181,"column":6},"end":{"line":181,"column":5}},{"start":{"line":181,"column":6},"end":{"line":181,"column":5}}]},"17":{"line":181,"type":"binary-expr","locations":[{"start":{"line":181,"column":10},"end":{"line":181,"column":19}},{"start":{"line":181,"column":23},"end":{"line":181,"column":38}}]},"18":{"line":183,"type":"if","locations":[{"start":{"line":183,"column":8},"end":{"line":183,"column":7}},{"start":{"line":183,"column":8},"end":{"line":183,"column":7}}]},"19":{"line":191,"type":"if","locations":[{"start":{"line":191,"column":6},"end":{"line":191,"column":5}},{"start":{"line":191,"column":6},"end":{"line":191,"column":5}}]},"20":{"line":200,"type":"if","locations":[{"start":{"line":200,"column":4},"end":{"line":200,"column":3}},{"start":{"line":200,"column":4},"end":{"line":200,"column":3}}]},"21":{"line":221,"type":"if","locations":[{"start":{"line":221,"column":4},"end":{"line":221,"column":3}},{"start":{"line":221,"column":4},"end":{"line":221,"column":3}}]},"22":{"line":226,"type":"if","locations":[{"start":{"line":226,"column":4},"end":{"line":226,"column":3}},{"start":{"line":226,"column":4},"end":{"line":226,"column":3}}]},"23":{"line":231,"type":"binary-expr","locations":[{"start":{"line":231,"column":19},"end":{"line":231,"column":52}},{"start":{"line":231,"column":56},"end":{"line":231,"column":64}}]},"24":{"line":234,"type":"binary-expr","locations":[{"start":{"line":234,"column":13},"end":{"line":234,"column":18}},{"start":{"line":234,"column":22},"end":{"line":234,"column":30}}]},"25":{"line":236,"type":"if","locations":[{"start":{"line":236,"column":6},"end":{"line":236,"column":5}},{"start":{"line":236,"column":6},"end":{"line":236,"column":5}}]},"26":{"line":253,"type":"if","locations":[{"start":{"line":253,"column":4},"end":{"line":253,"column":3}},{"start":{"line":253,"column":4},"end":{"line":253,"column":3}}]},"27":{"line":280,"type":"if","locations":[{"start":{"line":280,"column":4},"end":{"line":280,"column":3}},{"start":{"line":280,"column":4},"end":{"line":280,"column":3}}]},"28":{"line":299,"type":"if","locations":[{"start":{"line":299,"column":4},"end":{"line":299,"column":3}},{"start":{"line":299,"column":4},"end":{"line":299,"column":3}}]},"29":{"line":305,"type":"if","locations":[{"start":{"line":305,"column":6},"end":{"line":305,"column":5}},{"start":{"line":305,"column":6},"end":{"line":305,"column":5}}]},"30":{"line":321,"type":"if","locations":[{"start":{"line":321,"column":4},"end":{"line":321,"column":3}},{"start":{"line":321,"column":4},"end":{"line":321,"column":3}}]},"31":{"line":340,"type":"if","locations":[{"start":{"line":340,"column":10},"end":{"line":340,"column":9}},{"start":{"line":340,"column":10},"end":{"line":340,"column":9}}]},"32":{"line":340,"type":"binary-expr","locations":[{"start":{"line":340,"column":14},"end":{"line":340,"column":38}},{"start":{"line":340,"column":42},"end":{"line":340,"column":59}}]},"33":{"line":343,"type":"if","locations":[{"start":{"line":343,"column":10},"end":{"line":343,"column":9}},{"start":{"line":343,"column":10},"end":{"line":343,"column":9}}]},"34":{"line":345,"type":"if","locations":[{"start":{"line":345,"column":17},"end":{"line":345,"column":16}},{"start":{"line":345,"column":17},"end":{"line":345,"column":16}}]},"35":{"line":347,"type":"if","locations":[{"start":{"line":347,"column":17},"end":{"line":347,"column":16}},{"start":{"line":347,"column":17},"end":{"line":347,"column":16}}]},"36":{"line":358,"type":"binary-expr","locations":[{"start":{"line":358,"column":11},"end":{"line":358,"column":29}},{"start":{"line":358,"column":33},"end":{"line":358,"column":74}}]},"37":{"line":366,"type":"if","locations":[{"start":{"line":366,"column":4},"end":{"line":366,"column":3}},{"start":{"line":366,"column":4},"end":{"line":366,"column":3}}]},"38":{"line":369,"type":"if","locations":[{"start":{"line":369,"column":4},"end":{"line":369,"column":3}},{"start":{"line":369,"column":4},"end":{"line":369,"column":3}}]},"39":{"line":404,"type":"if","locations":[{"start":{"line":404,"column":4},"end":{"line":404,"column":3}},{"start":{"line":404,"column":4},"end":{"line":404,"column":3}}]},"40":{"line":406,"type":"if","locations":[{"start":{"line":406,"column":11},"end":{"line":406,"column":10}},{"start":{"line":406,"column":11},"end":{"line":406,"column":10}}]},"41":{"line":406,"type":"binary-expr","locations":[{"start":{"line":406,"column":16},"end":{"line":406,"column":32}},{"start":{"line":406,"column":37},"end":{"line":406,"column":54}},{"start":{"line":406,"column":60},"end":{"line":406,"column":78}}]},"42":{"line":431,"type":"if","locations":[{"start":{"line":431,"column":4},"end":{"line":431,"column":3}},{"start":{"line":431,"column":4},"end":{"line":431,"column":3}}]},"43":{"line":437,"type":"if","locations":[{"start":{"line":437,"column":6},"end":{"line":437,"column":5}},{"start":{"line":437,"column":6},"end":{"line":437,"column":5}}]},"44":{"line":441,"type":"if","locations":[{"start":{"line":441,"column":10},"end":{"line":441,"column":9}},{"start":{"line":441,"column":10},"end":{"line":441,"column":9}}]},"45":{"line":451,"type":"if","locations":[{"start":{"line":451,"column":4},"end":{"line":451,"column":3}},{"start":{"line":451,"column":4},"end":{"line":451,"column":3}}]},"46":{"line":458,"type":"if","locations":[{"start":{"line":458,"column":6},"end":{"line":458,"column":5}},{"start":{"line":458,"column":6},"end":{"line":458,"column":5}}]},"47":{"line":463,"type":"if","locations":[{"start":{"line":463,"column":10},"end":{"line":463,"column":9}},{"start":{"line":463,"column":10},"end":{"line":463,"column":9}}]},"48":{"line":474,"type":"if","locations":[{"start":{"line":474,"column":4},"end":{"line":474,"column":3}},{"start":{"line":474,"column":4},"end":{"line":474,"column":3}}]},"49":{"line":478,"type":"if","locations":[{"start":{"line":478,"column":6},"end":{"line":478,"column":5}},{"start":{"line":478,"column":6},"end":{"line":478,"column":5}}]},"50":{"line":485,"type":"cond-expr","locations":[{"start":{"line":485,"column":35},"end":{"line":485,"column":54}},{"start":{"line":485,"column":57},"end":{"line":485,"column":59}}]},"51":{"line":494,"type":"if","locations":[{"start":{"line":494,"column":4},"end":{"line":494,"column":3}},{"start":{"line":494,"column":4},"end":{"line":494,"column":3}}]},"52":{"line":501,"type":"cond-expr","locations":[{"start":{"line":501,"column":38},"end":{"line":501,"column":54}},{"start":{"line":501,"column":57},"end":{"line":501,"column":70}}]},"53":{"line":502,"type":"if","locations":[{"start":{"line":502,"column":4},"end":{"line":502,"column":3}},{"start":{"line":502,"column":4},"end":{"line":502,"column":3}}]},"54":{"line":502,"type":"binary-expr","locations":[{"start":{"line":502,"column":8},"end":{"line":502,"column":21}},{"start":{"line":502,"column":25},"end":{"line":502,"column":45}}]},"55":{"line":514,"type":"if","locations":[{"start":{"line":514,"column":4},"end":{"line":514,"column":3}},{"start":{"line":514,"column":4},"end":{"line":514,"column":3}}]},"56":{"line":517,"type":"if","locations":[{"start":{"line":517,"column":4},"end":{"line":517,"column":3}},{"start":{"line":517,"column":4},"end":{"line":517,"column":3}}]},"57":{"line":517,"type":"binary-expr","locations":[{"start":{"line":517,"column":8},"end":{"line":517,"column":23}},{"start":{"line":517,"column":27},"end":{"line":517,"column":47}}]},"58":{"line":520,"type":"if","locations":[{"start":{"line":520,"column":4},"end":{"line":520,"column":3}},{"start":{"line":520,"column":4},"end":{"line":520,"column":3}}]},"59":{"line":523,"type":"if","locations":[{"start":{"line":523,"column":4},"end":{"line":523,"column":3}},{"start":{"line":523,"column":4},"end":{"line":523,"column":3}}]},"60":{"line":526,"type":"if","locations":[{"start":{"line":526,"column":4},"end":{"line":526,"column":3}},{"start":{"line":526,"column":4},"end":{"line":526,"column":3}}]},"61":{"line":529,"type":"if","locations":[{"start":{"line":529,"column":4},"end":{"line":529,"column":3}},{"start":{"line":529,"column":4},"end":{"line":529,"column":3}}]},"62":{"line":532,"type":"if","locations":[{"start":{"line":532,"column":4},"end":{"line":532,"column":3}},{"start":{"line":532,"column":4},"end":{"line":532,"column":3}}]},"63":{"line":537,"type":"cond-expr","locations":[{"start":{"line":537,"column":35},"end":{"line":537,"column":54}},{"start":{"line":537,"column":57},"end":{"line":537,"column":59}}]},"64":{"line":542,"type":"if","locations":[{"start":{"line":542,"column":29},"end":{"line":542,"column":28}},{"start":{"line":542,"column":29},"end":{"line":542,"column":28}}]},"65":{"line":542,"type":"if","locations":[{"start":{"line":542,"column":40},"end":{"line":542,"column":39}},{"start":{"line":542,"column":40},"end":{"line":542,"column":39}}]},"66":{"line":543,"type":"if","locations":[{"start":{"line":543,"column":4},"end":{"line":543,"column":3}},{"start":{"line":543,"column":4},"end":{"line":543,"column":3}}]},"67":{"line":543,"type":"binary-expr","locations":[{"start":{"line":543,"column":8},"end":{"line":543,"column":38}},{"start":{"line":543,"column":42},"end":{"line":543,"column":73}}]},"68":{"line":546,"type":"if","locations":[{"start":{"line":546,"column":4},"end":{"line":546,"column":3}},{"start":{"line":546,"column":4},"end":{"line":546,"column":3}}]},"69":{"line":549,"type":"if","locations":[{"start":{"line":549,"column":4},"end":{"line":549,"column":3}},{"start":{"line":549,"column":4},"end":{"line":549,"column":3}}]},"70":{"line":552,"type":"if","locations":[{"start":{"line":552,"column":4},"end":{"line":552,"column":3}},{"start":{"line":552,"column":4},"end":{"line":552,"column":3}}]},"71":{"line":557,"type":"if","locations":[{"start":{"line":557,"column":4},"end":{"line":557,"column":3}},{"start":{"line":557,"column":4},"end":{"line":557,"column":3}}]},"72":{"line":560,"type":"if","locations":[{"start":{"line":560,"column":4},"end":{"line":560,"column":3}},{"start":{"line":560,"column":4},"end":{"line":560,"column":3}}]},"73":{"line":560,"type":"binary-expr","locations":[{"start":{"line":560,"column":8},"end":{"line":560,"column":24}},{"start":{"line":560,"column":28},"end":{"line":560,"column":45}}]},"74":{"line":561,"type":"if","locations":[{"start":{"line":561,"column":6},"end":{"line":561,"column":5}},{"start":{"line":561,"column":6},"end":{"line":561,"column":5}}]},"75":{"line":563,"type":"if","locations":[{"start":{"line":563,"column":13},"end":{"line":563,"column":12}},{"start":{"line":563,"column":13},"end":{"line":563,"column":12}}]},"76":{"line":565,"type":"if","locations":[{"start":{"line":565,"column":13},"end":{"line":565,"column":12}},{"start":{"line":565,"column":13},"end":{"line":565,"column":12}}]},"77":{"line":567,"type":"if","locations":[{"start":{"line":567,"column":13},"end":{"line":567,"column":12}},{"start":{"line":567,"column":13},"end":{"line":567,"column":12}}]},"78":{"line":582,"type":"binary-expr","locations":[{"start":{"line":582,"column":29},"end":{"line":582,"column":40}},{"start":{"line":582,"column":44},"end":{"line":582,"column":49}}]},"79":{"line":587,"type":"if","locations":[{"start":{"line":587,"column":48},"end":{"line":587,"column":47}},{"start":{"line":587,"column":48},"end":{"line":587,"column":47}}]},"80":{"line":589,"type":"if","locations":[{"start":{"line":589,"column":4},"end":{"line":589,"column":3}},{"start":{"line":589,"column":4},"end":{"line":589,"column":3}}]},"81":{"line":597,"type":"if","locations":[{"start":{"line":597,"column":4},"end":{"line":597,"column":3}},{"start":{"line":597,"column":4},"end":{"line":597,"column":3}}]},"82":{"line":608,"type":"if","locations":[{"start":{"line":608,"column":4},"end":{"line":608,"column":3}},{"start":{"line":608,"column":4},"end":{"line":608,"column":3}}]},"83":{"line":615,"type":"if","locations":[{"start":{"line":615,"column":4},"end":{"line":615,"column":3}},{"start":{"line":615,"column":4},"end":{"line":615,"column":3}}]},"84":{"line":624,"type":"if","locations":[{"start":{"line":624,"column":4},"end":{"line":624,"column":3}},{"start":{"line":624,"column":4},"end":{"line":624,"column":3}}]},"85":{"line":624,"type":"binary-expr","locations":[{"start":{"line":624,"column":8},"end":{"line":624,"column":27}},{"start":{"line":624,"column":31},"end":{"line":624,"column":51}}]},"86":{"line":630,"type":"if","locations":[{"start":{"line":630,"column":11},"end":{"line":630,"column":10}},{"start":{"line":630,"column":11},"end":{"line":630,"column":10}}]},"87":{"line":638,"type":"if","locations":[{"start":{"line":638,"column":4},"end":{"line":638,"column":3}},{"start":{"line":638,"column":4},"end":{"line":638,"column":3}}]},"88":{"line":645,"type":"if","locations":[{"start":{"line":645,"column":8},"end":{"line":645,"column":7}},{"start":{"line":645,"column":8},"end":{"line":645,"column":7}}]},"89":{"line":662,"type":"if","locations":[{"start":{"line":662,"column":4},"end":{"line":662,"column":3}},{"start":{"line":662,"column":4},"end":{"line":662,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":116,"16":1,"17":1,"18":115,"19":115,"20":115,"21":115,"22":115,"23":115,"24":115,"25":115,"26":0,"27":115,"28":0,"29":115,"30":0,"31":115,"32":115,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":1,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":1,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":1,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":1,"78":0,"79":1,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":1,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":1,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":1,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":1,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":1,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":1,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":1,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":1,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":1,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":1,"238":0,"239":1,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":1,"255":0,"256":0,"257":0,"258":0,"259":1,"260":0,"261":0,"262":0,"263":0,"264":0,"265":1,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":1,"274":0,"275":0,"276":0,"277":0,"278":0,"279":0,"280":0,"281":0,"282":0,"283":0,"284":0,"285":0,"286":0,"287":0,"288":0,"289":0,"290":0,"291":0,"292":0,"293":0,"294":0,"295":0,"296":0,"297":0,"298":0,"299":0,"300":0,"301":0,"302":0,"303":0,"304":0,"305":0,"306":0,"307":0,"308":0,"309":0,"310":0,"311":0,"312":0,"313":0,"314":0,"315":0,"316":0,"317":0,"318":0,"319":0,"320":1,"321":0,"322":0,"323":0,"324":0,"325":0,"326":0,"327":0,"328":0,"329":0,"330":0,"331":0,"332":0,"333":0,"334":0,"335":0,"336":0,"337":0,"338":0,"339":0,"340":0,"341":0,"342":0,"343":0,"344":0,"345":0,"346":0,"347":0,"348":0,"349":0,"350":0,"351":0,"352":0,"353":0,"354":0,"355":0,"356":0,"357":0,"358":1,"359":0,"360":0,"361":0,"362":0,"363":0,"364":0,"365":0,"366":0,"367":0,"368":0,"369":0,"370":0,"371":0,"372":0,"373":0,"374":0,"375":0,"376":0,"377":0,"378":0,"379":0,"380":0,"381":0,"382":0,"383":0,"384":0,"385":0,"386":0,"387":0,"388":0,"389":1,"390":0,"391":0,"392":0,"393":1,"394":0,"395":0,"396":0,"397":0,"398":0,"399":1,"400":0,"401":0,"402":0,"403":1,"404":0,"405":0,"406":0,"407":0,"408":0,"409":0,"410":0,"411":0,"412":0,"413":1,"414":0,"415":0,"416":0,"417":0,"418":0,"419":0,"420":0,"421":0,"422":0,"423":0,"424":1,"425":0,"426":0,"427":0,"428":0,"429":0,"430":0,"431":0,"432":0,"433":0,"434":0,"435":0,"436":0,"437":0,"438":0,"439":0,"440":0,"441":0,"442":1,"443":0,"444":0,"445":1,"446":0,"447":1,"448":1,"449":1,"450":1,"451":1,"452":1,"453":1},"b":{"1":[0,0],"2":[115,115],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0],"69":[0,0],"70":[0,0],"71":[0,0],"72":[0,0],"73":[0,0],"74":[0,0],"75":[0,0],"76":[0,0],"77":[0,0],"78":[0,0],"79":[0,0],"80":[0,0],"81":[0,0],"82":[0,0],"83":[0,0],"84":[0,0],"85":[0,0],"86":[0,0],"87":[0,0],"88":[0,0],"89":[0,0]},"f":{"1":1,"2":115,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0},"code":"/// <reference path=\"../../../node_modules/modal-box/bin/ModalBox.d.ts\" />\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {LocalStorageUtils} from '../../utils/LocalStorageUtils';\nimport {IFieldDescription} from '../../rest/FieldDescription';\nimport {IBuildingQueryEventArgs, IQuerySuccessEventArgs, QueryEvents} from '../../events/QueryEvents';\nimport {ResultListEvents, IDisplayedNewResultEventArgs} from '../../events/ResultListEvents';\nimport {DebugEvents} from '../../events/DebugEvents';\nimport {IQueryResults} from '../../rest/QueryResults';\nimport {IQueryResult} from '../../rest/QueryResult';\nimport {$$, Dom} from '../../utils/Dom';\nimport {StringUtils} from '../../utils/StringUtils';\nimport {SearchEndpoint} from '../../rest/SearchEndpoint';\nimport {Template} from '../Templates/Template';\nimport {Promise} from 'es6-promise';\nimport {RootComponent} from '../Base/RootComponent';\nimport {QueryController} from '../../controllers/QueryController';\nimport {BaseComponent} from '../Base/BaseComponent';\nimport {ModalBox} from '../../ExternalModulesShim';\nimport Globalize = require('globalize');\n\nexport interface IDebugOptions {\n  enableDebug?: boolean;\n}\n\nexport class Debug extends RootComponent {\n  static ID = 'Debug';\n  static options: IDebugOptions = {\n    enableDebug: ComponentOptions.buildBooleanOption({ defaultValue: false })\n  };\n\n  static customOrder = ['error', 'queryDuration', 'result', 'fields', 'rankingInfo', 'template', 'query', 'results', 'state'];\n\n  static durationKeys = ['indexDuration', 'proxyDuration', 'clientDuration', 'duration'];\n  static maxDepth = 10;\n\n  public localStorageDebug: LocalStorageUtils<string[]>;\n  public collapsedSections: string[];\n\n  private debug = false;\n  private highlightRecommendation = false;\n  private fields: { [field: string]: IFieldDescription };\n\n  private stackDebug: any;\n\n  constructor(public element: HTMLElement, public queryController: QueryController, public options?: IDebugOptions) {\n    super(element, Debug.ID);\n    this.options = ComponentOptions.initComponentOptions(element, Debug, options);\n    $$(this.element).on(QueryEvents.buildingQuery, (e, args: IBuildingQueryEventArgs) => {\n      args.queryBuilder.enableDebug = this.debug || args.queryBuilder.enableDebug;\n    })\n    $$(this.element).on(ResultListEvents.newResultDisplayed, (e, args: IDisplayedNewResultEventArgs) => this.handleNewResultDisplayed(args));\n    $$(this.element).on(DebugEvents.showDebugPanel, (e, args) => {\n      this.handleShowDebugPanel(args);\n    })\n\n    this.localStorageDebug = new LocalStorageUtils<string[]>('DebugPanel');\n    this.collapsedSections = this.localStorageDebug.load() || [];\n  }\n\n  private showDebugPanel(builder: (results?: IQueryResults) => { body: HTMLElement; json: any; }) {\n    let build = builder();\n\n    let modalbox = ModalBox.open(build.body, {\n      title: '',\n      className: 'coveo-debug',\n      titleClose: true,\n      overlayClose: true\n    });\n    let title = $$(modalbox.wrapper).find('.coveo-title');\n    let search = this.buildSearchBox(build.body);\n    let downloadLink = $$('a', { download: 'debug.json', 'href': this.downloadHref(build.json) }, 'Download');\n    let bodyBuilder = (results?: IQueryResults) => {\n      let build = builder();\n      downloadLink.el.setAttribute('href', this.downloadHref(build.json));\n      return build.body;\n    };\n    title.appendChild(this.buildEnabledHighlightRecommendation());\n    title.appendChild(this.buildEnableDebugCheckbox(build.body, search, bodyBuilder));\n    title.appendChild(search);\n\n    title.appendChild(downloadLink.el)\n  }\n\n  private handleShowDebugPanel(info: any) {\n    if (this.stackDebug == null) {\n      setTimeout(() => {\n        let stackDebug = this.stackDebug;\n        this.showDebugPanel(() => this.buildStackPanel(stackDebug));\n        this.stackDebug = null;\n      });\n      this.stackDebug = {};\n    }\n    _.extend(this.stackDebug, info);\n  }\n\n  private handleNewResultDisplayed(args: IDisplayedNewResultEventArgs) {\n    if (args.item != null) {\n      if (this.highlightRecommendation && args.result.isRecommendation) {\n        $$(args.item).addClass('coveo-is-recommendation')\n      }\n      $$(args.item).on('dblclick', (e: MouseEvent) => {\n        this.handleResultDoubleClick(e, args);\n      })\n    }\n  }\n\n  private handleResultDoubleClick(e: MouseEvent, args: IDisplayedNewResultEventArgs) {\n    if (e.altKey) {\n      let index = args.result.index;\n      let findResult = (results?: IQueryResults) => results != null ? _.find(results.results, (result: IQueryResult) => result.index == index) : args.result;\n      let template = args.item['template'];\n\n      let debugPanel = {\n        result: findResult,\n        fields: (results?: IQueryResults) => this.buildFieldsSection(findResult(results)),\n        rankingInfo: (results?: IQueryResults) => this.buildRankingInfoSection(findResult(results)),\n        template: this.templateToJson(template),\n      };\n      this.handleShowDebugPanel(debugPanel);\n    }\n  }\n\n  private downloadHref(info: any) {\n    return 'data:text/json;charset=utf-8,' + encodeURIComponent(JSON.stringify(info));\n  }\n\n  public buildStackPanel(stackDebug: any, results?: IQueryResults): { body: HTMLElement; json: any; } {\n    let body = Dom.createElement('div', { className: 'coveo-debug' });\n\n    let keys: any[][] = _.pairs(_.keys(stackDebug));\n\n    keys = keys.sort((a: any[], b: any[]) => {\n      let indexA = _.indexOf(Debug.customOrder, a[1]);\n      let indexB = _.indexOf(Debug.customOrder, b[1]);\n      if (indexA != -1 && indexB != -1) {\n        return indexA - indexB;\n      }\n      if (indexA != -1) {\n        return -1;\n      }\n      if (indexB != -1) {\n        return 1;\n      }\n      return a[0] - b[0];\n    });\n\n    let json = {};\n\n    _.forEach(keys, (key: string[]) => {\n      let section = this.buildSection(key[1]);\n      let build = this.buildStackPanelSection(stackDebug[key[1]], results)\n      section.container.appendChild(build.section);\n      if (build.json != null) {\n        json[key[1]] = build.json;\n      }\n      body.appendChild(section.dom);\n    });\n\n    return { body: body, json: json };\n  }\n\n  private buildStackPanelSection(value: any, results: IQueryResults): { section: HTMLElement; json?: any; } {\n    if (value instanceof HTMLElement) {\n      return { section: value };\n    } else if (_.isFunction(value)) {\n      return this.buildStackPanelSection(value(results), results);\n    }\n    let json = this.toJson(value);\n    return { section: this.buildProperty(json), json: json };\n  }\n\n  private buildSearchBox(body: HTMLElement) {\n    let dom = Dom.createElement('div', { className: 'coveo-debug-search' }, '<input type=\\'text\\'/>');\n    dom.onclick = (e) => {\n      e.stopPropagation();\n    };\n    let lastSearch = '';\n    let input = dom.querySelector('input') as HTMLInputElement;\n    input.setAttribute('placeholder', 'Search in debug')\n    input.onkeyup = (e) => {\n      if (e == null || e.keyCode == 13) {\n        let value = input.value.toLowerCase();\n        if (lastSearch != value) {\n          lastSearch = value;\n          this.search(value, body);\n        }\n      }\n    };\n    input.onchange = () => {\n      let value = input.value.toLowerCase();\n      if (lastSearch != value) {\n        lastSearch = value;\n        this.search(value, body);\n      }\n    };\n    return dom;\n  }\n\n  private search(value: string, body: HTMLElement) {\n    if (_.isEmpty(value)) {\n      $$(body).findAll('.coveo-search-match, .coveo-search-submatch').forEach((el) => {\n        $$(el).removeClass('coveo-search-match, coveo-search-submatch')\n      });\n      $$(body).removeClass('coveo-searching')\n    } else {\n      $$(body).addClass('coveo-searching-loading');\n      setTimeout(() => {\n        let rootProperties = $$(body).findAll('.coveo-section .coveo-section-container > .coveo-property');\n        _.each(rootProperties, (element: HTMLElement) => {\n          this.findInProperty(element, value);\n        });\n        $$(body).addClass('coveo-searching');\n        $$(body).removeClass('coveo-searching-loading');\n      });\n    }\n  }\n\n  private findInProperty(element: HTMLElement, value: string): boolean {\n    let jElement = $$(element);\n    let match = element['label'].indexOf(value) != -1;\n    if (match) {\n      this.highlightSearch(element['labelDom'], value);\n    } else {\n      this.removeHighlightSearch(element['labelDom']);\n    }\n    if (jElement.hasClass('coveo-property-object')) {\n      jElement.toggleClass('coveo-search-match', match);\n      let children = element['buildKeys']();\n      let submatch = false;\n      _.each(children, (child: HTMLElement) => {\n        submatch = this.findInProperty(child, value) || submatch;\n      });\n      jElement.toggleClass('coveo-search-submatch', submatch);\n      return match || submatch;\n    } else {\n      if (element['value'].indexOf(value) != -1) {\n        this.highlightSearch(element['valueDom'], value);\n        match = true;\n      } else {\n        this.removeHighlightSearch(element['valueDom']);\n      }\n      jElement.toggleClass('coveo-search-match', match);\n    }\n    return match;\n  }\n\n  private buildEnableDebugCheckbox(body: HTMLElement, search: HTMLElement, bodyBuilder: (results: IQueryResults) => HTMLElement) {\n    let dom = Dom.createElement('div', { className: 'coveo-enabled-debug' }, '<label>Enable query debug <input type=\\'checkbox\\'/></label>');\n    $$(dom).on('click', (e) => {\n      e.stopPropagation();\n    });\n    let checkbox = $$(dom).find('input');\n    if (this.debug) {\n      checkbox.setAttribute('checked', 'checked');\n    }\n    checkbox.onchange = () => {\n      this.debug = !this.debug;\n      $$(this.element).one(QueryEvents.querySuccess + ' ' + QueryEvents.queryError, (e: Event, args: IQuerySuccessEventArgs) => {\n        $$(body).removeClass('coveo-debug-loading');\n        $$(body).empty();\n        $$(bodyBuilder(args.results)).children().forEach((child) => {\n          body.appendChild(child);\n        });\n      })\n      this.queryController.executeQuery({ closeModalBox: false });\n      $$(body).addClass('coveo-debug-loading');\n      let input = search.querySelector('input') as HTMLInputElement;\n      input.value = '';\n      input.onkeyup(null);\n    };\n    return dom;\n  }\n\n  private buildEnabledHighlightRecommendation() {\n    let dom = Dom.createElement('div', { className: 'coveo-enabled-highlight-recommendation' }, '<label>Highlight recommendation <input type=\\'checkbox\\'/></label>');\n    dom.onclick = (e) => {\n      e.stopPropagation();\n    };\n    let checkbox = $$(dom).find('input');\n    if (this.highlightRecommendation) {\n      checkbox.setAttribute('checked', 'checked')\n    }\n    checkbox.onchange = () => {\n      this.highlightRecommendation = !this.highlightRecommendation;\n      this.queryController.executeQuery({ closeModalBox: false });\n    };\n    return dom;\n  }\n\n  private buildSection(id: string) {\n    let dom = Dom.createElement('div', { className: 'coveo-section coveo-' + id + '-section' });\n    let header = Dom.createElement('div', { className: 'coveo-section-header' });\n    $$(header).text(id);\n    dom.appendChild(header);\n\n    let container = Dom.createElement('div', { className: 'coveo-section-container' });\n    dom.appendChild(container);\n\n    if (_.contains(this.collapsedSections, id)) {\n      $$(dom).addClass('coveo-debug-collapsed');\n    }\n\n    header.onclick = () => {\n      $$(dom).toggleClass('coveo-debug-collapsed');\n      if (_.contains(this.collapsedSections, id)) {\n        this.collapsedSections = _.without(this.collapsedSections, id);\n      } else {\n        this.collapsedSections.push(id);\n      }\n      this.localStorageDebug.save(this.collapsedSections);\n    };\n\n    return {\n      dom: dom,\n      header: header,\n      container: container\n    }\n  }\n\n  private fetchFields(): Promise<{ [field: string]: IFieldDescription }> {\n    if (this.fields == null) {\n      return this.queryController.getEndpoint().listFields().then((fields: IFieldDescription[]) => {\n        this.fields = {};\n        fields.forEach((field) => {\n          this.fields[field.name] = field;\n        });\n        return this.fields;\n      });\n    } else {\n      return Promise.resolve(this.fields)\n    }\n  }\n\n  private buildFieldsSection(result: IQueryResult) {\n    return this.fetchFields()\n      .then((fieldDescriptions: { [field: string]: IFieldDescription }) => {\n        let fields = {};\n        _.each(result.raw, (value: any, key: string) => {\n          let fieldDescription = fieldDescriptions['@' + key];\n          if (fieldDescription == null && key.match(/^sys/)) {\n            fieldDescription = fieldDescriptions['@' + key.substr(3)];\n          }\n          if (fieldDescription == null) {\n            fields['@' + key] = value;\n          } else if (fieldDescription.fieldType == 'Date') {\n            fields['@' + key] = new Date(value);\n          } else if (fieldDescription.splitGroupByField) {\n            fields['@' + key] = value.split(/\\s*;\\s*/);\n          } else {\n            fields['@' + key] = value;\n          }\n        });\n        return fields;\n      });\n  }\n\n  private buildRankingInfoSection(result: IQueryResult) {\n    return result.rankingInfo && this.parseRankingInfo(result.rankingInfo);\n  }\n\n  public parseRankingInfo(value: string) {\n    let rankingInfo = {};\n\n    let infos = value.match(/^(?:Document weights:\\n((?:.)*?)\\n)?\\n(?:Terms weights:\\n((?:.|\\n)*))?Total weight: ([0-9]+)$/);\n\n    if (infos[1] != null) {\n      rankingInfo['Document weights'] = this.parseWeights(infos[1]);\n    }\n    if (infos[2] != null) {\n      let terms = StringUtils.match(infos[2], /((?:[^:]+: [0-9]+, [0-9]+; )+)\\n((?:\\w+: [0-9]+; )+)/g);\n      rankingInfo['Terms weights'] = _.object(_.map(terms, (term) => {\n        let words = _.object(_.map(StringUtils.match(term[1], /([^:]+): ([0-9]+), ([0-9]+); /g), (word) => {\n          return [\n            word[1],\n            {\n              Correlation: Number(word[2]),\n              'TF-IDF': Number(word[3]),\n            }\n          ];\n        }));\n        let weights = this.parseWeights(term[2]);\n        return [\n          _.keys(words).join(', '),\n          {\n            terms: words,\n            Weights: weights\n          }];\n      }));\n    }\n    rankingInfo['Total weight'] = Number(infos[3]);\n\n    return rankingInfo;\n  }\n\n  private parseWeights(value: string) {\n    let listOfWeight = value.match(/(\\w+(?:\\s\\w+)*): ([-0-9]+)/g);\n    return _.object(_.map(listOfWeight, (weight) => {\n      let weightGroup = weight.match(/^(\\w+(?:\\s\\w+)*): ([-0-9]+)$/);\n      return [weightGroup[1], Number(weightGroup[2])];\n    }));\n  }\n\n  private buildProperty(value: any, label?: string): HTMLElement {\n    if (value instanceof Promise) {\n      return this.buildPromise(value, label);\n    } else if ((_.isArray(value) || (_.isObject(value))) && !_.isString(value)) {\n      return this.buildObjectProperty(value, label);\n    } else {\n      return this.buildBasicProperty(value, label);\n    }\n  }\n\n  private buildPromise(promise: Promise<any>, label?: string): HTMLElement {\n    let dom: HTMLElement = document.createElement('div');\n    dom.className = 'coveo-property coveo-property-promise';\n    promise.then((value) => {\n      let resolvedDom = this.buildProperty(value, label);\n      $$(dom).replaceWith(resolvedDom);\n    });\n    return dom;\n  }\n\n  private buildObjectProperty(object: any, label?: string): HTMLElement {\n    let dom: HTMLElement = document.createElement('div');\n    dom.className = 'coveo-property coveo-property-object';\n\n    let valueContainer: HTMLElement = document.createElement('div');\n    valueContainer.className = 'coveo-property-value';\n\n    let keys = _.keys(object);\n    if (!_.isArray(object)) {\n      keys.sort();\n    }\n\n    let children: HTMLElement[];\n    let buildKeys = () => {\n      if (children == null) {\n        children = [];\n        _.each(keys, (key: string) => {\n          let property = this.buildProperty(object[key], key);\n          if (property != null) {\n            children.push(property);\n            valueContainer.appendChild(property);\n          }\n        });\n      }\n      return children;\n    };\n    dom['buildKeys'] = buildKeys;\n\n    if (label != null) {\n      let labelDom = document.createElement('div');\n      labelDom.className = 'coveo-property-label';\n      labelDom.appendChild(document.createTextNode(label));\n      dom['labelDom'] = labelDom;\n\n      dom.appendChild(labelDom);\n      if (keys.length != 0) {\n        dom.className += ' coveo-collapsible';\n        labelDom.onclick = () => {\n          buildKeys();\n          let className = dom.className.split(/\\s+/);\n          if (_.contains(className, 'coveo-expanded')) {\n            className = _.without(className, 'coveo-expanded');\n          } else {\n            className.push('coveo-expanded')\n          }\n          dom.className = className.join(' ');\n        }\n      }\n    } else {\n      buildKeys();\n    }\n    if (keys.length == 0) {\n      let className = _.without(dom.className.split(/\\s+/), 'coveo-property-object');\n      className.push('coveo-property-basic');\n      dom.className = className.join(' ');\n      if (_.isArray(object)) {\n        valueContainer.innerHTML = '[]';\n      } else {\n        valueContainer.innerHTML = '{}';\n      }\n      dom['value'] = '';\n    }\n    dom['label'] = label != null ? label.toLowerCase() : '';\n    dom.appendChild(valueContainer);\n    return dom;\n  }\n\n  private buildBasicProperty(value: string, label?: string): HTMLElement {\n    let dom: HTMLElement = document.createElement('div');\n    dom.className = 'coveo-property coveo-property-basic';\n\n    if (label != null) {\n      let labelDom = document.createElement('div');\n      labelDom.className = 'coveo-property-label';\n      labelDom.appendChild(document.createTextNode(label));\n      dom.appendChild(labelDom);\n      dom['labelDom'] = labelDom;\n    }\n    let stringValue = value != null ? value.toString() : String(value);\n    if (value != null && value['ref'] != null) {\n      value = value['ref'];\n    }\n    let valueDom = document.createElement('div');\n    valueDom.appendChild(document.createTextNode(stringValue));\n    valueDom.ondblclick = () => {\n      this.selectElementText(valueDom);\n    };\n    dom.appendChild(valueDom);\n    dom['valueDom'] = valueDom;\n\n    let className: string[] = ['coveo-property-value'];\n    if (_.isString(value)) {\n      className.push('coveo-property-value-string');\n    }\n    if (_.isNull(value) || _.isUndefined(value)) {\n      className.push('coveo-property-value-null');\n    }\n    if (_.isNumber(value)) {\n      className.push('coveo-property-value-number');\n    }\n    if (_.isBoolean(value)) {\n      className.push('coveo-property-value-boolean');\n    }\n    if (_.isDate(value)) {\n      className.push('coveo-property-value-date');\n    }\n    if (_.isObject(value)) {\n      className.push('coveo-property-value-object');\n    }\n    if (_.isArray(value)) {\n      className.push('coveo-property-value-array');\n    }\n    valueDom.className = className.join(' ');\n\n    dom['label'] = label != null ? label.toLowerCase() : '';\n    dom['value'] = stringValue.toLowerCase();\n    return dom;\n  }\n\n  private toJson(value: any, depth = 0, done: any[] = []) {\n    if (value instanceof BaseComponent || value instanceof SearchEndpoint) {\n      return this.componentToJson(value, depth);\n    }\n    if (value instanceof HTMLElement) {\n      return this.htmlToJson(value);\n    }\n    if (value instanceof Template) {\n      return this.templateToJson(value);\n    }\n    if (value instanceof Promise) {\n      return value.then((value) => {\n        return this.toJson(value, depth, done);\n      });\n    }\n    if (value == window) {\n      return this.toJsonRef(value);\n    }\n    if (_.isArray(value) || _.isObject(value)) {\n      if (_.contains(done, value)) {\n        return this.toJsonRef(value, '< RECURSIVE >');\n      } else if (depth >= Debug.maxDepth) {\n        return this.toJsonRef(value);\n      } else if (_.isArray(value)) {\n        return _.map(value, (subValue, key) => this.toJson(subValue, depth + 1, done.concat([value])));\n      } else if (_.isDate(value)) {\n        return this.toJsonRef(value, Globalize.format(value, 'F'));\n      } else {\n        let result = {};\n        _.each(value, (subValue, key) => {\n          result[key] = this.toJson(subValue, depth + 1, done.concat([value]))\n        });\n        result['ref']\n        return result;\n      }\n    }\n    return value;\n  }\n\n  private toJsonRef(value: any, stringValue?: String): String {\n    stringValue = new String(stringValue || value);\n    stringValue['ref'] = value;\n    return stringValue;\n  }\n\n  private componentToJson(value: BaseComponent, depth = 0): any {\n    let options = _.keys(value['options']);\n    if (options.length > 0) {\n      return this.toJson(value['options'], depth);\n    } else {\n      return this.toJsonRef(value['options'], new String('No options'));\n    }\n  }\n\n  private htmlToJson(value: HTMLElement): any {\n    if (value == null) {\n      return undefined;\n    }\n    return {\n      tagName: value.tagName,\n      id: value.id,\n      classList: value.className.split(/\\s+/)\n    }\n  }\n\n  private templateToJson(template: Template) {\n    if (template == null) {\n      return null;\n    }\n    let element: HTMLElement = template['element'];\n    let templateObject: any = {\n      type: template.getType(),\n    };\n    if (element != null) {\n      templateObject.id = element.id;\n      templateObject.condition = element.attributes['data-condition'];\n      templateObject.content = element.innerText;\n    }\n    return templateObject;\n  }\n\n  private selectElementText(el: HTMLElement) {\n    if (window.getSelection && document.createRange) {\n      let selection = window.getSelection();\n      let range = document.createRange();\n      range.selectNodeContents(el);\n      selection.removeAllRanges();\n      selection.addRange(range);\n    } else if ('createTextRange' in document.body) {\n      let textRange = document.body['createTextRange']();\n      textRange.moveToElementText(el);\n      textRange.select();\n    }\n  }\n\n  private highlightSearch(element: HTMLElement, search: string) {\n    if (element != null) {\n      let match = element.innerText.split(new RegExp('(?=' + StringUtils.regexEncode(search) + ')', 'gi'));\n      element.innerHTML = '';\n      match.forEach((value) => {\n        let regex = new RegExp('(' + StringUtils.regexEncode(search) + ')', 'i');\n        let group = value.match(regex);\n        let span: HTMLSpanElement;\n        if (group != null) {\n          span = Dom.createElement('span', { className: 'coveo-debug-highlight' });\n          span.appendChild(document.createTextNode(group[1]));\n          element.appendChild(span);\n          span = Dom.createElement('span');\n          span.appendChild(document.createTextNode(value.substr(group[1].length)));\n          element.appendChild(span);\n        } else {\n          span = Dom.createElement('span');\n          span.appendChild(document.createTextNode(value));\n          element.appendChild(span);\n        }\n      })\n    }\n  }\n\n  private removeHighlightSearch(element: HTMLElement) {\n    if (element != null) {\n      element.innerHTML = element.innerText;\n    }\n  }\n\n  public debugInfo() {\n    return null;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Debug/Debug.ts\n **/","l":{"2":1,"3":1,"5":1,"6":1,"7":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"17":1,"18":1,"19":1,"25":116,"26":1,"27":1,"31":1,"33":1,"34":1,"39":115,"40":115,"45":115,"46":115,"47":115,"48":115,"49":0,"51":115,"52":115,"53":0,"56":115,"57":115,"60":1,"61":0,"63":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"77":0,"78":0,"79":0,"81":0,"84":1,"85":0,"86":0,"87":0,"88":0,"89":0,"91":0,"93":0,"96":1,"97":0,"98":0,"99":0,"101":0,"102":0,"107":1,"108":0,"109":0,"110":0,"111":0,"113":0,"115":0,"116":0,"119":0,"123":1,"124":0,"127":1,"128":0,"130":0,"132":0,"133":0,"134":0,"135":0,"136":0,"138":0,"139":0,"141":0,"142":0,"144":0,"147":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"156":0,"159":0,"162":1,"163":0,"164":0,"165":0,"166":0,"168":0,"169":0,"172":1,"173":0,"174":0,"175":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"189":0,"190":0,"191":0,"192":0,"193":0,"196":0,"199":1,"200":0,"201":0,"202":0,"204":0,"206":0,"207":0,"208":0,"209":0,"210":0,"212":0,"213":0,"218":1,"219":0,"220":0,"221":0,"222":0,"224":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"233":0,"234":0,"236":0,"237":0,"238":0,"240":0,"242":0,"244":0,"247":1,"248":0,"249":0,"250":0,"252":0,"253":0,"254":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"265":0,"266":0,"267":0,"268":0,"269":0,"271":0,"274":1,"275":0,"276":0,"277":0,"279":0,"280":0,"281":0,"283":0,"284":0,"285":0,"287":0,"290":1,"291":0,"292":0,"293":0,"294":0,"296":0,"297":0,"299":0,"300":0,"303":0,"304":0,"305":0,"306":0,"308":0,"310":0,"313":0,"320":1,"321":0,"322":0,"323":0,"324":0,"325":0,"327":0,"330":0,"334":1,"335":0,"337":0,"338":0,"339":0,"340":0,"341":0,"343":0,"344":0,"345":0,"346":0,"347":0,"348":0,"350":0,"353":0,"357":1,"358":0,"361":1,"362":0,"364":0,"366":0,"367":0,"369":0,"370":0,"371":0,"372":0,"373":0,"381":0,"382":0,"390":0,"392":0,"395":1,"396":0,"397":0,"398":0,"399":0,"403":1,"404":0,"405":0,"406":0,"407":0,"409":0,"413":1,"414":0,"415":0,"416":0,"417":0,"418":0,"420":0,"423":1,"424":0,"425":0,"427":0,"428":0,"430":0,"431":0,"432":0,"435":0,"436":0,"437":0,"438":0,"439":0,"440":0,"441":0,"442":0,"443":0,"447":0,"449":0,"451":0,"452":0,"453":0,"454":0,"455":0,"457":0,"458":0,"459":0,"460":0,"461":0,"462":0,"463":0,"464":0,"466":0,"468":0,"472":0,"474":0,"475":0,"476":0,"477":0,"478":0,"479":0,"481":0,"483":0,"485":0,"486":0,"487":0,"490":1,"491":0,"492":0,"494":0,"495":0,"496":0,"497":0,"498":0,"499":0,"501":0,"502":0,"503":0,"505":0,"506":0,"507":0,"508":0,"510":0,"511":0,"513":0,"514":0,"515":0,"517":0,"518":0,"520":0,"521":0,"523":0,"524":0,"526":0,"527":0,"529":0,"530":0,"532":0,"533":0,"535":0,"537":0,"538":0,"539":0,"542":1,"543":0,"544":0,"546":0,"547":0,"549":0,"550":0,"552":0,"553":0,"554":0,"557":0,"558":0,"560":0,"561":0,"562":0,"563":0,"564":0,"565":0,"566":0,"567":0,"568":0,"570":0,"571":0,"572":0,"574":0,"575":0,"578":0,"581":1,"582":0,"583":0,"584":0,"587":1,"588":0,"589":0,"590":0,"592":0,"596":1,"597":0,"598":0,"600":0,"607":1,"608":0,"609":0,"611":0,"612":0,"615":0,"616":0,"617":0,"618":0,"620":0,"623":1,"624":0,"625":0,"626":0,"627":0,"628":0,"629":0,"630":0,"631":0,"632":0,"633":0,"637":1,"638":0,"639":0,"640":0,"641":0,"642":0,"643":0,"644":0,"645":0,"646":0,"647":0,"648":0,"649":0,"650":0,"651":0,"653":0,"654":0,"655":0,"661":1,"662":0,"663":0,"667":1,"668":0,"670":1}},"src/ui/Analytics/AnalyticsActionListMeta.ts":{"path":"src/ui/Analytics/AnalyticsActionListMeta.ts","statementMap":{"1":{"start":{"line":171,"column":11},"end":{"line":462,"column":1}}},"fnMap":{},"branchMap":{},"s":{"1":1},"b":{},"f":{},"code":"/**\n * Describe the cause of an event for the analytics service\n */\nexport interface IAnalyticsActionCause {\n  /**\n   * The name of the event. Should be unique for each event.<br/>\n   * Eg : searchBoxSubmit or resultSort\n   */\n  name: string;\n  /**\n   * The type of the event. Allow to regroup similar event type together when doing reporting.<br/>\n   * For example, all search box event will be of type \"search box\"\n   */\n  type: string;\n  metaMap?: { [name: string]: number };\n}\n\nexport interface IAnalyticsNoMeta {\n}\n\nexport interface IAnalyticsInterfaceChange {\n  interfaceChangeTo: string;\n}\n\nexport interface IAnalyticsContextAddMeta {\n  contextName: string;\n}\n\nexport interface IAnalyticsContextRemoveMeta {\n  contextName: string;\n}\n\nexport interface IAnalyticsResultsSortMeta {\n  resultsSortBy: string;\n}\n\n/**\n * The expected metadata when loggin a click event / document view\n */\nexport interface IAnalyticsDocumentViewMeta {\n  /**\n   * The url of the clicked document\n   */\n  documentURL?: string;\n  /**\n   * The title of the clicked document\n   */\n  documentTitle?: string;\n  /**\n   * The author of the clicked document\n   */\n  author: string;\n}\n\nexport interface IAnalyticsOmniboxFacetMeta {\n  facetId: string;\n  facetTitle: string;\n  facetValue?: string;\n  suggestions: string;\n  suggestionRanking: number;\n  query: string;\n}\n\nexport interface IAnalyticsFacetMeta {\n  facetId: string;\n  facetValue?: string;\n  facetTitle: string;\n}\n\nexport interface IAnalyticsQueryErrorMeta {\n  query: string;\n  aq: string;\n  cq: string;\n  dq: string;\n  errorType: string;\n  errorMessage: string;\n}\n\nexport interface IAnalyticsTopSuggestionMeta {\n  suggestionRanking: number;\n  partialQueries: string;\n  suggestions: string;\n  partialQuery: string;\n}\n\nexport interface IAnalyticsOmniboxSuggestionMeta {\n  suggestionRanking: number;\n  partialQueries: string;\n  suggestions: string;\n  partialQuery: string;\n}\n\nexport interface IAnalyticsFacetSliderChangeMeta {\n  facetId: string;\n  facetRangeStart: any;\n  facetRangeEnd: any;\n}\n\nexport interface IAnalyticsFacetGraphSelectedMeta extends IAnalyticsFacetSliderChangeMeta {\n}\n\nexport interface IAnalyticsFacetOperatorMeta extends IAnalyticsFacetMeta {\n  facetOperatorBefore: string;\n  facetOperatorAfter: string;\n}\n\nexport interface IAnalyticsPreferencesChangeMeta {\n  preferenceName: string;\n  preferenceType: string;\n}\n\nexport interface IAnalyticsCustomFiltersChangeMeta {\n  customFilterName: string;\n  customFilterType: string;\n  customFilterExpression: string;\n}\n\nexport interface IAnalyticsCaseAttachMeta {\n  resultUriHash: string;\n  articleID: string;\n  caseID: string;\n  author: string;\n}\n\nexport interface IAnalyticsCaseContextAddMeta {\n  caseID: string;\n}\n\nexport interface IAnalyticsCaseContextRemoveMeta {\n  caseID: string;\n}\n\nexport interface IAnalyticsCaseDetachMeta extends IAnalyticsCaseAttachMeta {\n}\n\nexport interface IAnalyticsCaseCreationInputChangeMeta {\n  inputTitle: string;\n  input: string;\n  value: string;\n}\n\nexport interface IAnalyticsCaseCreationDeflectionMeta {\n  hasClicks: boolean;\n  values: { [field: string]: string };\n}\n\nexport interface IAnalyticsPagerMeta {\n  pagerNumber: number;\n}\n\nexport interface IAnalyticsResultsPerPageMeta {\n  currentResultsPerPage: number;\n}\n\nexport interface IAnalyticsTriggerNotify {\n  notification: string;\n}\n\nexport interface IAnalyticsTriggerRedirect {\n  redirectedTo: string;\n}\n\nexport interface IAnalyticsTriggerQuery {\n  query: string;\n}\n\nexport interface IAnalyticsTriggerExecute {\n  executed: string;\n}\n\nexport var analyticsActionCauseList = {\n  interfaceLoad: <IAnalyticsActionCause>{\n    name: 'interfaceLoad',\n    type: 'interface'\n  },\n  interfaceChange: <IAnalyticsActionCause>{\n    name: 'interfaceChange',\n    type: 'interface',\n    metaMap: { interfaceChangeTo: 1 }\n  },\n  contextRemove: <IAnalyticsActionCause>{\n    name: 'contextRemove',\n    type: 'misc',\n    metaMap: { contextName: 1 }\n  },\n  didyoumeanAutomatic: <IAnalyticsActionCause>{\n    name: 'didyoumeanAutomatic',\n    type: 'misc'\n  },\n  didyoumeanClick: <IAnalyticsActionCause>{\n    name: 'didyoumeanClick',\n    type: 'misc'\n  },\n  resultsSort: <IAnalyticsActionCause>{\n    name: 'resultsSort',\n    type: 'misc',\n    metaMap: { resultsSortBy: 1 }\n  },\n  searchboxSubmit: <IAnalyticsActionCause>{\n    name: 'searchboxSubmit',\n    type: 'search box'\n  },\n  searchboxClear: <IAnalyticsActionCause>{\n    name: 'searchboxClear',\n    type: 'search box'\n  },\n  searchboxAsYouType: <IAnalyticsActionCause>{\n    name: 'searchboxAsYouType',\n    type: 'search box'\n  },\n  breadcrumbFacet: <IAnalyticsActionCause>{\n    name: 'breadcrumbFacet',\n    type: 'breadcrumb',\n    metaMap: { facetId: 1, facetValue: 2, facetTitle: 3 }\n  },\n  breadcrumbResetAll: <IAnalyticsActionCause>{\n    name: 'breadcrumbResetAll',\n    type: 'breadcrumb',\n  },\n  documentTag: <IAnalyticsActionCause>{\n    name: 'documentTag',\n    type: 'document',\n    metaMap: { facetId: 1, facetValue: 2, facetTitle: 3 }\n  },\n  documentField: <IAnalyticsActionCause>{\n    name: 'documentField',\n    type: 'document',\n    metaMap: { facetId: 1, facetValue: 2, facetTitle: 3 }\n  },\n  documentQuickview: <IAnalyticsActionCause>{\n    name: 'documentQuickview',\n    type: 'document',\n    metaMap: { documentTitle: 1, documentURL: 2 }\n  },\n  documentOpen: <IAnalyticsActionCause>{\n    name: 'documentOpen',\n    type: 'document',\n    metaMap: { documentTitle: 1, documentURL: 2 }\n  },\n  omniboxFacetSelect: <IAnalyticsActionCause>{\n    name: 'omniboxFacetSelect',\n    type: 'omnibox',\n    metaMap: { facetId: 1, facetValue: 2, facetTitle: 3 }\n  },\n  omniboxFacetExclude: <IAnalyticsActionCause>{\n    name: 'omniboxFacetExclude',\n    type: 'omnibox',\n    metaMap: { facetId: 1, facetValue: 2, facetTitle: 3 }\n  },\n  omniboxFacetDeselect: <IAnalyticsActionCause>{\n    name: 'omniboxFacetDeselect',\n    type: 'omnibox',\n    metaMap: { facetId: 1, facetValue: 2, facetTitle: 3 }\n  },\n  omniboxFacetUnexclude: <IAnalyticsActionCause>{\n    name: 'omniboxFacetUnexclude',\n    type: 'omnibox',\n    metaMap: { faceId: 1, facetValue: 2, facetTitle: 3 }\n  },\n  omniboxAnalytics: <IAnalyticsActionCause>{\n    name: 'omniboxAnalytics',\n    type: 'omnibox',\n    metaMap: {\n      partialQuery: 1,\n      suggestionRanking: 2,\n      partialQueries: 3,\n      suggestions: 4\n    }\n  },\n  omniboxField: <IAnalyticsActionCause>{\n    name: 'omniboxField',\n    type: 'omnibox'\n  },\n  facetClearAll: <IAnalyticsActionCause>{\n    name: 'facetClearAll',\n    type: 'facet',\n    metaMap: { facetId: 1 }\n  },\n  facetSearch: <IAnalyticsActionCause>{\n    name: 'facetSearch',\n    type: 'facet',\n    metaMap: { facetId: 1 }\n  },\n  facetToggle: <IAnalyticsActionCause>{\n    name: 'facetToggle',\n    type: 'facet',\n    metaMap: { facetId: 1, facetOperatorBefore: 2, facetOperatorAfter: 3 }\n  },\n  facetRangeSlider: <IAnalyticsActionCause>{\n    name: 'facetRangeSlider',\n    type: 'facet',\n    metaMap: { facetId: 1, facetRangeStart: 2, facetRangeEnd: 3 }\n  },\n  facetRangeGraph: <IAnalyticsActionCause>{\n    name: 'facetRangeGraph',\n    type: 'facet',\n    metaMap: { facetId: 1, facetRangeStart: 2, facetRangeEnd: 3 }\n  },\n  facetSelect: <IAnalyticsActionCause>{\n    name: 'facetSelect',\n    type: 'facet',\n    metaMap: { facetId: 1, facetValue: 2, facetTitle: 3 }\n  },\n  facetSelectAll: <IAnalyticsActionCause>{\n    name: 'facetSelectAll',\n    type: 'facet',\n    metaMap: { facetId: 1, facetValue: 2, facetTitle: 3 }\n  },\n  facetDeselect: <IAnalyticsActionCause>{\n    name: 'facetDeselect',\n    type: 'facet',\n    metaMap: { facetId: 1, facetValue: 2, facetTitle: 3 }\n  },\n  facetExclude: <IAnalyticsActionCause>{\n    name: 'facetExclude',\n    type: 'facet',\n    metaMap: { facetId: 1, facetValue: 2, facetTitle: 3 }\n  },\n  facetUnexclude: <IAnalyticsActionCause>{\n    name: 'facetUnexclude',\n    type: 'facet',\n    metaMap: { facetId: 1, facetValue: 2, facetTitle: 3 }\n  },\n  errorBack: <IAnalyticsActionCause>{\n    name: 'errorBack',\n    type: 'errors'\n  },\n  errorClearQuery: <IAnalyticsActionCause>{\n    name: 'errorClearQuery',\n    type: 'errors'\n  },\n  errorRetry: <IAnalyticsActionCause>{\n    name: 'errorRetry',\n    type: 'errors'\n  },\n  noResultsBack: <IAnalyticsActionCause>{\n    name: 'noResultsBack',\n    type: 'noResults'\n  },\n  expandToFullUI: <IAnalyticsActionCause>{\n    name: 'expandToFullUI',\n    type: 'interface'\n  },\n  caseCreationInputChange: <IAnalyticsActionCause>{\n    name: 'inputChange',\n    type: 'caseCreation'\n  },\n  caseCreationSubmitButton: <IAnalyticsActionCause>{\n    name: 'submitButton',\n    type: 'caseCreation'\n  },\n  caseCreationCancelButton: <IAnalyticsActionCause>{\n    name: 'cancelButton',\n    type: 'caseCreation'\n  },\n  caseCreationUnloadPage: <IAnalyticsActionCause>{\n    name: 'unloadPage',\n    type: 'caseCreation'\n  },\n  casecontextAdd: <IAnalyticsActionCause>{\n    name: 'casecontextAdd',\n    type: 'casecontext',\n    metaMap: { caseID: 5 }\n  },\n  casecontextRemove: <IAnalyticsActionCause>{\n    name: 'casecontextRemove',\n    type: 'casecontext',\n    metaMap: { caseID: 5 }\n  },\n  preferencesChange: <IAnalyticsActionCause>{\n    name: 'preferencesChange',\n    type: 'preferences',\n    metaMap: { preferenceName: 1, preferenceType: 2 }\n  },\n  getUserHistory: <IAnalyticsActionCause>{\n    name: 'getUserHistory',\n    type: 'userHistory'\n  },\n  userActionDocumentClick: <IAnalyticsActionCause>{\n    name: 'userActionDocumentClick',\n    type: 'userHistory'\n  },\n  caseAttach: <IAnalyticsActionCause>{\n    name: 'caseAttach',\n    type: 'case',\n    metaMap: { documentTitle: 1, resultUriHash: 3, articleID: 4, caseID: 5 }\n  },\n  caseDetach: <IAnalyticsActionCause>{\n    name: 'caseDetach',\n    type: 'case',\n    metaMap: { documentTitle: 1, resultUriHash: 3, articleID: 4, caseID: 5 }\n  },\n  customfiltersChange: <IAnalyticsActionCause>{\n    name: 'customfiltersChange',\n    type: 'customfilters',\n    metaMap: { customFilterName: 1, customFilterType: 2, customFilterExpression: 3 }\n  },\n  pagerNumber: <IAnalyticsActionCause>{\n    name: 'pagerNumber',\n    type: 'getMoreResults',\n    metaMap: { 'pagerNumber': 1 }\n  },\n  pagerNext: <IAnalyticsActionCause>{\n    name: 'pagerNext',\n    type: 'getMoreResults',\n    metaMap: { 'pagerNumber': 1 }\n  },\n  pagerPrevious: <IAnalyticsActionCause>{\n    name: 'pagerPrevious',\n    type: 'getMoreResults',\n    metaMap: { 'pagerNumber': 1 }\n  },\n  pagerScrolling: <IAnalyticsActionCause>{\n    name: 'pagerScrolling',\n    type: 'getMoreResults'\n  },\n  pagerResize: <IAnalyticsActionCause>{\n    name: 'pagerResize',\n    type: 'getMoreResults'\n  },\n  searchFromLink: <IAnalyticsActionCause>{\n    name: 'searchFromLink',\n    type: 'interface'\n  },\n  triggerNotify: <IAnalyticsActionCause>{\n    name: 'notify',\n    type: 'queryPipelineTriggers'\n  },\n  triggerExecute: <IAnalyticsActionCause>{\n    name: 'execute',\n    type: 'queryPipelineTriggers'\n  },\n  triggerQuery: <IAnalyticsActionCause>{\n    name: 'query',\n    type: 'queryPipelineTriggers'\n  },\n  triggerRedirect: <IAnalyticsActionCause>{\n    name: 'redirect',\n    type: 'queryPipelineTriggers'\n  },\n  queryError: <IAnalyticsActionCause>{\n    name: 'query',\n    type: 'errors',\n    metaMap: { 'query': 1, 'aq': 2, 'cq': 3, 'dq': 4, 'errorType': 5, 'errorMessage': 6 }\n  },\n  exportToExcel: <IAnalyticsActionCause>{\n    name: 'exportToExcel',\n    type: 'misc'\n  },\n  recommendation: <IAnalyticsActionCause>{\n    name: 'recommendation',\n    type: 'recommendation'\n  },\n  recommendationInterfaceLoad: <IAnalyticsActionCause>{\n    name: 'recommendationInterfaceLoad',\n    type: 'recommendation'\n  },\n  recommendationOpen: <IAnalyticsActionCause>{\n    name: 'recommendationOpen',\n    type: 'recommendation'\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Analytics/AnalyticsActionListMeta.ts\n **/","l":{"171":1}},"src/ui/Analytics/Analytics.ts":{"path":"src/ui/Analytics/Analytics.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":58}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":63}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":57}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":41}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":100}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":73}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":35}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":68}},"10":{"start":{"line":14,"column":0},"end":{"line":14,"column":40}},"11":{"start":{"line":15,"column":0},"end":{"line":15,"column":69}},"12":{"start":{"line":16,"column":0},"end":{"line":16,"column":58}},"13":{"start":{"line":17,"column":0},"end":{"line":17,"column":60}},"14":{"start":{"line":18,"column":0},"end":{"line":18,"column":93}},"15":{"start":{"line":19,"column":0},"end":{"line":19,"column":67}},"16":{"start":{"line":20,"column":0},"end":{"line":20,"column":64}},"17":{"start":{"line":21,"column":0},"end":{"line":21,"column":78}},"18":{"start":{"line":86,"column":0},"end":{"line":357,"column":1}},"19":{"start":{"line":86,"column":31},"end":{"line":86,"column":40}},"20":{"start":{"line":156,"column":2},"end":{"line":181,"column":3}},"21":{"start":{"line":156,"column":43},"end":{"line":156,"column":81}},"22":{"start":{"line":157,"column":4},"end":{"line":157,"column":43}},"23":{"start":{"line":156,"column":21},"end":{"line":156,"column":41}},"24":{"start":{"line":156,"column":50},"end":{"line":156,"column":81}},"25":{"start":{"line":156,"column":90},"end":{"line":156,"column":119}},"26":{"start":{"line":158,"column":4},"end":{"line":158,"column":86}},"27":{"start":{"line":160,"column":4},"end":{"line":160,"column":49}},"28":{"start":{"line":161,"column":4},"end":{"line":161,"column":37}},"29":{"start":{"line":162,"column":4},"end":{"line":162,"column":31}},"30":{"start":{"line":164,"column":4},"end":{"line":164,"column":122}},"31":{"start":{"line":164,"column":90},"end":{"line":164,"column":120}},"32":{"start":{"line":165,"column":4},"end":{"line":165,"column":113}},"33":{"start":{"line":165,"column":84},"end":{"line":165,"column":111}},"34":{"start":{"line":169,"column":4},"end":{"line":174,"column":5}},"35":{"start":{"line":170,"column":6},"end":{"line":170,"column":106}},"36":{"start":{"line":171,"column":6},"end":{"line":173,"column":7}},"37":{"start":{"line":172,"column":8},"end":{"line":172,"column":108}},"38":{"start":{"line":176,"column":4},"end":{"line":180,"column":5}},"39":{"start":{"line":177,"column":6},"end":{"line":177,"column":109}},"40":{"start":{"line":178,"column":6},"end":{"line":178,"column":135}},"41":{"start":{"line":179,"column":6},"end":{"line":179,"column":109}},"42":{"start":{"line":179,"column":74},"end":{"line":179,"column":107}},"43":{"start":{"line":193,"column":9},"end":{"line":195,"column":3}},"44":{"start":{"line":194,"column":4},"end":{"line":194,"column":53}},"45":{"start":{"line":205,"column":9},"end":{"line":207,"column":3}},"46":{"start":{"line":206,"column":4},"end":{"line":206,"column":54}},"47":{"start":{"line":215,"column":9},"end":{"line":217,"column":3}},"48":{"start":{"line":215,"column":72},"end":{"line":215,"column":107}},"49":{"start":{"line":216,"column":4},"end":{"line":216,"column":59}},"50":{"start":{"line":228,"column":9},"end":{"line":230,"column":3}},"51":{"start":{"line":228,"column":115},"end":{"line":228,"column":150}},"52":{"start":{"line":229,"column":4},"end":{"line":229,"column":66}},"53":{"start":{"line":232,"column":12},"end":{"line":238,"column":3}},"54":{"start":{"line":233,"column":4},"end":{"line":237,"column":7}},"55":{"start":{"line":240,"column":10},"end":{"line":259,"column":3}},"56":{"start":{"line":241,"column":4},"end":{"line":258,"column":5}},"57":{"start":{"line":242,"column":6},"end":{"line":242,"column":56}},"58":{"start":{"line":243,"column":6},"end":{"line":243,"column":49}},"59":{"start":{"line":244,"column":6},"end":{"line":251,"column":7}},"60":{"start":{"line":245,"column":8},"end":{"line":249,"column":9}},"61":{"start":{"line":246,"column":10},"end":{"line":246,"column":48}},"62":{"start":{"line":248,"column":10},"end":{"line":248,"column":51}},"63":{"start":{"line":253,"column":6},"end":{"line":253,"column":99}},"64":{"start":{"line":254,"column":6},"end":{"line":254,"column":93}},"65":{"start":{"line":257,"column":6},"end":{"line":257,"column":46}},"66":{"start":{"line":261,"column":10},"end":{"line":282,"column":3}},"67":{"start":{"line":262,"column":4},"end":{"line":281,"column":5}},"68":{"start":{"line":263,"column":6},"end":{"line":271,"column":28}},"69":{"start":{"line":273,"column":6},"end":{"line":280,"column":34}},"70":{"start":{"line":284,"column":10},"end":{"line":293,"column":3}},"71":{"start":{"line":285,"column":4},"end":{"line":285,"column":62}},"72":{"start":{"line":286,"column":4},"end":{"line":288,"column":5}},"73":{"start":{"line":287,"column":6},"end":{"line":287,"column":63}},"74":{"start":{"line":290,"column":4},"end":{"line":292,"column":5}},"75":{"start":{"line":291,"column":6},"end":{"line":291,"column":92}},"76":{"start":{"line":295,"column":10},"end":{"line":299,"column":3}},"77":{"start":{"line":296,"column":4},"end":{"line":296,"column":24}},"78":{"start":{"line":298,"column":4},"end":{"line":298,"column":57}},"79":{"start":{"line":301,"column":10},"end":{"line":303,"column":3}},"80":{"start":{"line":302,"column":4},"end":{"line":302,"column":40}},"81":{"start":{"line":305,"column":10},"end":{"line":316,"column":3}},"82":{"start":{"line":306,"column":4},"end":{"line":306,"column":24}},"83":{"start":{"line":308,"column":4},"end":{"line":315,"column":21}},"84":{"start":{"line":318,"column":16},"end":{"line":338,"column":3}},"85":{"start":{"line":319,"column":4},"end":{"line":319,"column":66}},"86":{"start":{"line":320,"column":4},"end":{"line":320,"column":34}},"87":{"start":{"line":321,"column":4},"end":{"line":321,"column":56}},"88":{"start":{"line":322,"column":4},"end":{"line":324,"column":5}},"89":{"start":{"line":323,"column":6},"end":{"line":323,"column":70}},"90":{"start":{"line":325,"column":4},"end":{"line":325,"column":78}},"91":{"start":{"line":326,"column":4},"end":{"line":328,"column":5}},"92":{"start":{"line":327,"column":6},"end":{"line":327,"column":26}},"93":{"start":{"line":329,"column":4},"end":{"line":329,"column":29}},"94":{"start":{"line":331,"column":4},"end":{"line":337,"column":5}},"95":{"start":{"line":332,"column":6},"end":{"line":332,"column":62}},"96":{"start":{"line":333,"column":11},"end":{"line":337,"column":5}},"97":{"start":{"line":334,"column":6},"end":{"line":334,"column":104}},"98":{"start":{"line":334,"column":59},"end":{"line":334,"column":101}},"99":{"start":{"line":336,"column":6},"end":{"line":336,"column":39}},"100":{"start":{"line":340,"column":17},"end":{"line":344,"column":3}},"101":{"start":{"line":341,"column":4},"end":{"line":343,"column":7}},"102":{"start":{"line":342,"column":6},"end":{"line":342,"column":94}},"103":{"start":{"line":346,"column":17},"end":{"line":356,"column":3}},"104":{"start":{"line":350,"column":4},"end":{"line":350,"column":65}},"105":{"start":{"line":351,"column":4},"end":{"line":355,"column":5}},"106":{"start":{"line":352,"column":6},"end":{"line":352,"column":48}},"107":{"start":{"line":354,"column":6},"end":{"line":354,"column":62}},"108":{"start":{"line":87,"column":9},"end":{"line":87,"column":26}},"109":{"start":{"line":95,"column":9},"end":{"line":143,"column":4}},"110":{"start":{"line":357,"column":0},"end":{"line":357,"column":1}},"111":{"start":{"line":86,"column":13},"end":{"line":357,"column":1}}},"fnMap":{"1":{"name":"(anonymous_2150)","line":86,"loc":{"start":{"line":86,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Analytics","line":156,"loc":{"start":{"line":156,"column":2},"end":{"line":156,"column":119}}},"3":{"name":"(anonymous_2152)","line":164,"loc":{"start":{"line":164,"column":55},"end":{"line":164,"column":85}}},"4":{"name":"(anonymous_2153)","line":165,"loc":{"start":{"line":165,"column":52},"end":{"line":165,"column":79}}},"5":{"name":"(anonymous_2154)","line":179,"loc":{"start":{"line":179,"column":37},"end":{"line":179,"column":69}}},"6":{"name":"(anonymous_2155)","line":193,"loc":{"start":{"line":193,"column":2},"end":{"line":193,"column":70}}},"7":{"name":"(anonymous_2156)","line":205,"loc":{"start":{"line":205,"column":2},"end":{"line":205,"column":74}}},"8":{"name":"(anonymous_2157)","line":215,"loc":{"start":{"line":215,"column":2},"end":{"line":215,"column":107}}},"9":{"name":"(anonymous_2158)","line":228,"loc":{"start":{"line":228,"column":2},"end":{"line":228,"column":150}}},"10":{"name":"(anonymous_2159)","line":232,"loc":{"start":{"line":232,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_2160)","line":240,"loc":{"start":{"line":240,"column":2},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_2161)","line":261,"loc":{"start":{"line":261,"column":2},"end":{"line":261,"column":131}}},"13":{"name":"(anonymous_2162)","line":284,"loc":{"start":{"line":284,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_2163)","line":295,"loc":{"start":{"line":295,"column":2},"end":{"line":295,"column":59}}},"15":{"name":"(anonymous_2164)","line":301,"loc":{"start":{"line":301,"column":2},"end":{"line":301,"column":64}}},"16":{"name":"(anonymous_2165)","line":305,"loc":{"start":{"line":305,"column":2},"end":{"line":305,"column":53}}},"17":{"name":"(anonymous_2166)","line":318,"loc":{"start":{"line":318,"column":2},"end":{"line":318,"column":101}}},"18":{"name":"(anonymous_2167)","line":334,"loc":{"start":{"line":334,"column":51},"end":{"line":334,"column":54}}},"19":{"name":"(anonymous_2168)","line":340,"loc":{"start":{"line":340,"column":2},"end":{"line":340,"column":81}}},"20":{"name":"(anonymous_2169)","line":341,"loc":{"start":{"line":341,"column":27},"end":{"line":341,"column":35}}},"21":{"name":"(anonymous_2170)","line":346,"loc":{"start":{"line":346,"column":2},"end":{"line":346,"column":105}}}},"branchMap":{"1":{"line":156,"type":"if","locations":[{"start":{"line":156,"column":43},"end":{"line":156,"column":42}},{"start":{"line":156,"column":43},"end":{"line":156,"column":42}}]},"2":{"line":169,"type":"if","locations":[{"start":{"line":169,"column":4},"end":{"line":169,"column":3}},{"start":{"line":169,"column":4},"end":{"line":169,"column":3}}]},"3":{"line":171,"type":"if","locations":[{"start":{"line":171,"column":6},"end":{"line":171,"column":5}},{"start":{"line":171,"column":6},"end":{"line":171,"column":5}}]},"4":{"line":176,"type":"if","locations":[{"start":{"line":176,"column":4},"end":{"line":176,"column":3}},{"start":{"line":176,"column":4},"end":{"line":176,"column":3}}]},"5":{"line":215,"type":"if","locations":[{"start":{"line":215,"column":72},"end":{"line":215,"column":71}},{"start":{"line":215,"column":72},"end":{"line":215,"column":71}}]},"6":{"line":228,"type":"if","locations":[{"start":{"line":228,"column":115},"end":{"line":228,"column":114}},{"start":{"line":228,"column":115},"end":{"line":228,"column":114}}]},"7":{"line":241,"type":"if","locations":[{"start":{"line":241,"column":4},"end":{"line":241,"column":3}},{"start":{"line":241,"column":4},"end":{"line":241,"column":3}}]},"8":{"line":244,"type":"if","locations":[{"start":{"line":244,"column":6},"end":{"line":244,"column":5}},{"start":{"line":244,"column":6},"end":{"line":244,"column":5}}]},"9":{"line":244,"type":"binary-expr","locations":[{"start":{"line":244,"column":10},"end":{"line":244,"column":19}},{"start":{"line":244,"column":23},"end":{"line":244,"column":35}}]},"10":{"line":245,"type":"if","locations":[{"start":{"line":245,"column":8},"end":{"line":245,"column":7}},{"start":{"line":245,"column":8},"end":{"line":245,"column":7}}]},"11":{"line":262,"type":"if","locations":[{"start":{"line":262,"column":4},"end":{"line":262,"column":3}},{"start":{"line":262,"column":4},"end":{"line":262,"column":3}}]},"12":{"line":286,"type":"if","locations":[{"start":{"line":286,"column":4},"end":{"line":286,"column":3}},{"start":{"line":286,"column":4},"end":{"line":286,"column":3}}]},"13":{"line":286,"type":"binary-expr","locations":[{"start":{"line":286,"column":8},"end":{"line":286,"column":34}},{"start":{"line":286,"column":38},"end":{"line":286,"column":53}}]},"14":{"line":290,"type":"if","locations":[{"start":{"line":290,"column":4},"end":{"line":290,"column":3}},{"start":{"line":290,"column":4},"end":{"line":290,"column":3}}]},"15":{"line":290,"type":"binary-expr","locations":[{"start":{"line":290,"column":8},"end":{"line":290,"column":34}},{"start":{"line":290,"column":38},"end":{"line":290,"column":53}}]},"16":{"line":322,"type":"if","locations":[{"start":{"line":322,"column":4},"end":{"line":322,"column":3}},{"start":{"line":322,"column":4},"end":{"line":322,"column":3}}]},"17":{"line":326,"type":"if","locations":[{"start":{"line":326,"column":4},"end":{"line":326,"column":3}},{"start":{"line":326,"column":4},"end":{"line":326,"column":3}}]},"18":{"line":331,"type":"if","locations":[{"start":{"line":331,"column":4},"end":{"line":331,"column":3}},{"start":{"line":331,"column":4},"end":{"line":331,"column":3}}]},"19":{"line":333,"type":"if","locations":[{"start":{"line":333,"column":11},"end":{"line":333,"column":10}},{"start":{"line":333,"column":11},"end":{"line":333,"column":10}}]},"20":{"line":351,"type":"if","locations":[{"start":{"line":351,"column":4},"end":{"line":351,"column":3}},{"start":{"line":351,"column":4},"end":{"line":351,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":25,"19":1,"20":1,"21":33,"22":24,"23":24,"24":24,"25":24,"26":24,"27":24,"28":24,"29":24,"30":24,"31":2,"32":24,"33":1,"34":24,"35":0,"36":0,"37":0,"38":24,"39":24,"40":24,"41":24,"42":0,"43":1,"44":0,"45":1,"46":0,"47":1,"48":0,"49":0,"50":1,"51":0,"52":0,"53":1,"54":24,"55":1,"56":24,"57":24,"58":24,"59":24,"60":24,"61":21,"62":3,"63":24,"64":24,"65":0,"66":1,"67":24,"68":0,"69":24,"70":1,"71":24,"72":24,"73":5,"74":24,"75":4,"76":1,"77":2,"78":2,"79":1,"80":0,"81":1,"82":1,"83":1,"84":1,"85":125,"86":125,"87":125,"88":125,"89":95,"90":125,"91":125,"92":0,"93":125,"94":125,"95":6,"96":119,"97":2,"98":4,"99":117,"100":1,"101":95,"102":6,"103":1,"104":10,"105":10,"106":1,"107":9,"108":1,"109":1,"110":1,"111":1},"b":{"1":[9,15],"2":[0,24],"3":[0,0],"4":[24,0],"5":[0,0],"6":[0,0],"7":[24,0],"8":[24,0],"9":[24,24],"10":[21,3],"11":[0,24],"12":[5,19],"13":[24,23],"14":[4,20],"15":[24,23],"16":[95,30],"17":[0,125],"18":[6,119],"19":[2,117],"20":[1,9]},"f":{"1":1,"2":24,"3":2,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":24,"11":24,"12":24,"13":24,"14":2,"15":0,"16":1,"17":125,"18":4,"19":95,"20":6,"21":10},"code":"import {Component} from '../Base/Component';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {IAnalyticsClient} from './AnalyticsClient';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {AnalyticsEndpoint} from '../../rest/AnalyticsEndpoint';\nimport {SearchEndpoint} from '../../rest/SearchEndpoint';\nimport {Assert} from '../../misc/Assert';\nimport {QueryEvents, IBuildingQueryEventArgs, IQueryErrorEventArgs} from '../../events/QueryEvents';\nimport {ComponentOptionsModel} from '../../models/ComponentOptionsModel';\nimport {$$} from '../../utils/Dom';\nimport {Model, IAttributeChangedEventArg} from '../../models/Model';\nimport {IAnalyticsActionCause, IAnalyticsDocumentViewMeta} from '../Analytics/AnalyticsActionListMeta';\nimport {IQueryResult} from '../../rest/QueryResult';\nimport {Utils} from '../../utils/Utils';\nimport {NoopAnalyticsClient} from '../Analytics/NoopAnalyticsClient';\nimport {LiveAnalyticsClient} from './LiveAnalyticsClient';\nimport {MultiAnalyticsClient} from './MultiAnalyticsClient';\nimport {IAnalyticsQueryErrorMeta, analyticsActionCauseList} from './AnalyticsActionListMeta';\nimport {SearchInterface} from '../SearchInterface/SearchInterface';\nimport {Recommendation} from '../Recommendation/Recommendation';\nimport {RecommendationAnalyticsClient} from './RecommendationAnalyticsClient';\n\n\nexport interface IAnalyticsOptions {\n  user?: string;\n  userDisplayName?: string;\n  token?: string;\n  endpoint?: string;\n  anonymous?: boolean;\n  searchHub?: string;\n  splitTestRunName?: string;\n  splitTestRunVersion?: string;\n  sendToCloud?: boolean;\n  organization?: string;\n}\n\n/**\n * This component logs all user actions performed in the search interface and sends them to a REST web service exposed through the Coveo Cloud platform.<br/>\n * You can use this data to evaluate how users are interacting with the search interface, improve relevance and produce analytics dashboards in the Coveo platform.\n *\n * # Sending Custom Events\n * In some scenarios, you want to send custom data to the Coveo Cloud analytics (see Coveo Cloud Usage Analytics). The Coveo JavaScript Search Framework offers helpers to communicate with the Coveo Analytics REST API, so you do not have to write code to call the API directly.\n *\n * 1. First, you need to craft your custom event cause and meta.\n * ```\n *   var customEventCause = {name: 'customEventName', type:'customEventType'};\n *   var metadata = {key1: \"value1\", key2:\"value2\"};\n * ```\n *\n * 2. Sending a custom event.\n * ```\n *   Coveo.logCustomEvent(document.querySelector('#search'), customEventCause, metadata);\n *      // OR (using the jquery extension)\n *   $('#search').coveo('logCustomEvent', customEventCause, metadata);\n * ```\n *\n * 3. Sending a custom search event<br/>(**NB : If you want to log a searchEvent, be sure to always call the helper before you call executeQuery.**)\n * ```\n * function myCustomButtonWasClicked() {\n *      Coveo.logSearchEvent(document.querySelector('#search'), customEventCause, metadata);\n *      Coveo.executeQuery(document.querySelector('#search'));\n *      // OR (using the jquery extension)\n *      $('#search').coveo('logSearchEvent', customEventCause, metadata);\n *      $('#search').coveo('executeQuery');\n * }\n * ```\n *\n * 4. Sending a custom searchAsYouType event<br/>(NB : **If you want to log a searchAsYouTypeEvent, be sure to always call the helper before you call executeQuery.**)\n * ```\n * function myCustomButtonWasClicked() {\n *      Coveo.logSearchAsYouTypeEvent(document.querySelector('#search'), customEventCause, metadata);\n *      Coveo.executeQuery(document.querySelector('#search'));\n *      // OR (using the jquery extension)\n *      $('#search').coveo('logSearchAsYouTypeEvent', customEventCause, metadata);\n *      $('#search').coveo('executeQuery');\n * }\n * ```\n *\n * 5. Sending a custom click event\n * ```\n * Coveo.logClickEvent(document.querySelector('#search'), customEventCause, metadata, result);\n * // OR (using the jquery extension)\n * $('#search').coveo('logClickEvent', customEventCause, metadata, result);\n * ```\n */\nexport class Analytics extends Component {\n  static ID = 'Analytics';\n  // NOTE: The default values for some of those options (organization, endpoint, searchHub) can be\n  // overridden by generated code when using hosted search pages.\n\n  /**\n   * Options for the component\n   * @componentOptions\n   */\n  static options: IAnalyticsOptions = {\n    /**\n     * Specifies the name of the user for usage analytics logs.\n     */\n    user: ComponentOptions.buildStringOption(),\n    /**\n     * Specifies the name of the user display name for usage analytics logs.\n     */\n    userDisplayName: ComponentOptions.buildStringOption(),\n    /**\n     * Specifies the token used to gain access the analytics endpoint.<br/>\n     * This attribute is optional, the component will use the search token by default.\n     */\n    token: ComponentOptions.buildStringOption(),\n    /**\n     * Specifies the URL of the analytics logger for rare cases where it is different from the default usage analytics Coveo Cloud endpoint (https://usageanalytics.coveo.com).\n     */\n    endpoint: ComponentOptions.buildStringOption({ defaultValue: AnalyticsEndpoint.DEFAULT_ANALYTICS_URI }),\n    /**\n     * Specifies whether the search user identities are converted in a unique hash in the logged analytics data to prevent analytics reviewers and managers to identify who performs which queries.<br/>\n     * When enabled, the Coveo Analytics Platform can still properly identify sessions made by anonymous users, versus ones from users that are authenticated in some way with the site containing the search page.<br/>\n     * The default value is false.\n     */\n    anonymous: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    /**\n     * Sets the Search Hub dimension on the search events.<br/>\n     * The Search Hub dimension is typically a name that refers to a specific search page. For example, one could use the CommunitySite value to refer to a search page on a company's public community site.<br/>\n     * The default value is default.\n     */\n    searchHub: ComponentOptions.buildStringOption({ defaultValue: 'default' }),\n    /**\n     * Specifies the name of the split test run that the search page is a part of.<br/>\n     * This dimension can be used to perform A/B testing using different search page layouts and features, inside the Coveo Query pipeline.<br/>\n     * By default, this value is not specified and no split test run name is reported to the Coveo Analytics Platform.\n     */\n    splitTestRunName: ComponentOptions.buildStringOption(),\n    /**\n     * Specifies the version name for the page when a split test run is active.<br/>\n     * When reporting on A/B testing analytics data, this value specifies the test run version name that has been presented to the user.<br/>\n     * By default, this value is not specified.\n     */\n    splitTestRunVersion: ComponentOptions.buildStringOption(),\n    sendToCloud: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies the organization bound to the access token. This is necessary when using an access token because it can be associated with more than organization.\n     * If this parameter is not specified, it will fallback on the organization used for the search endpoint.\n     */\n    organization: ComponentOptions.buildStringOption()\n  };\n\n  /**\n   * A reference to the analyticsClient, which will perform the heavy duty part of logging the actual events on the service.\n   */\n  public client: IAnalyticsClient;\n\n  /**\n   * Create a new Analytics component. Create the {@link IAnalyticsClient}\n   * @param element The HTMLElement on which the component will be instantiated.\n   * @param options The options for the Analytics.\n   * @param bindings The bindings that the component requires to function normally. If not set, will automatically resolve them (With slower execution time)\n   */\n  constructor(public element: HTMLElement, public options: IAnalyticsOptions = {}, public bindings?: IComponentBindings) {\n    super(element, Analytics.ID, bindings);\n    this.options = ComponentOptions.initComponentOptions(element, Analytics, options);\n\n    this.retrieveInfoFromDefaultSearchEndpoint();\n    this.initializeAnalyticsClient();\n    Assert.exists(this.client);\n\n    this.bind.onRootElement(QueryEvents.buildingQuery, (data: IBuildingQueryEventArgs) => this.handleBuildingQuery(data));\n    this.bind.onRootElement(QueryEvents.queryError, (data: IQueryErrorEventArgs) => this.handleQueryError(data));\n\n    // Analytics component is a bit special : It can be higher in the dom tree than the search interface\n    // Need to resolve down to find the componentOptionsModel if we need to.\n    if (!this.componentOptionsModel) {\n      let cmpOptionElement = $$(element).find('.' + Component.computeCssClassName(ComponentOptionsModel));\n      if (cmpOptionElement) {\n        this.componentOptionsModel = cmpOptionElement[Component.computeCssClassName(ComponentOptionsModel)];\n      }\n    }\n\n    if (this.componentOptionsModel) {\n      this.componentOptionsModel.set(ComponentOptionsModel.attributesEnum.searchHub, this.options.searchHub);\n      let event = this.componentOptionsModel.getEventName(Model.eventTypes.changeOne + ComponentOptionsModel.attributesEnum.searchHub);\n      this.bind.onRootElement(event, (args: IAttributeChangedEventArg) => this.handleSearchHubChanged(args));\n    }\n  }\n\n  /**\n   * Log a search event on the service, using a cause and a meta object.<br/>\n   * Note that the event will be sent on the service when a query successfully return, not immediately after calling this method.<br/>\n   * Normally, this should be called using the following \"format\" : <br/>\n   * usageAnalytics.logSearchEvent<SomeMeta>({name : 'foo', type : 'bar'}, <SomeMeta>{'key':'value'});<br/>\n   * this.queryController.executeQuery();<br/>\n   * This will queue up an analytics search event. Then the query is executed. The search event will be sent to the service when the query successfully complete.<br/>\n   * @param actionCause\n   * @param meta Can be an empty object ( {} )\n   */\n  public logSearchEvent<T>(actionCause: IAnalyticsActionCause, meta: T) {\n    this.client.logSearchEvent<T>(actionCause, meta);\n  }\n\n  /**\n   * Log a search as you type event on the service, using a cause and a meta object.<br/>\n   * This is extremely similar to a search event, except that search as you type, by definition, will be frequently called.<br/>\n   * The {@link PendingSearchAsYouTypeEvent} will take care of logging only the \"relevant\" last event : After 5 seconds of no event logged, or after another search event is triggered somewhere else in the interface.<br/>\n   * This is to ensure that we do not needlessly log every single partial query, which would make the reporting very confusing.\n   * @param actionCause\n   * @param meta Can be an empty object ( {} )\n   */\n  public logSearchAsYouType<T>(actionCause: IAnalyticsActionCause, meta: T) {\n    this.client.logSearchAsYouType(actionCause, meta);\n  }\n\n  /**\n   * Log a custom event on the service. A custom event can be used to create customized report, or to track events which are not queries or document view.\n   * @param actionCause\n   * @param meta\n   * @param element The HTMLElement that was interacted with for this custom event.\n   */\n  public logCustomEvent<T>(actionCause: IAnalyticsActionCause, meta: T, element: HTMLElement = this.element) {\n    this.client.logCustomEvent(actionCause, meta, element);\n  }\n\n  /**\n   * Log a click event. A click event can be understood as a document view.<br/>\n   * eg : Clicking on a result link of opening a quickview.<br/>\n   * This event will be logged immediately on the service.\n   * @param actionCause\n   * @param meta Can be an empty object ( {} )\n   * @param result The result that was clicked\n   * @param element The HTMLElement that was clicked in the interface\n   */\n  public logClickEvent(actionCause: IAnalyticsActionCause, meta: IAnalyticsDocumentViewMeta, result: IQueryResult, element: HTMLElement = this.element) {\n    this.client.logClickEvent(actionCause, meta, result, element);\n  }\n\n  protected initializeAnalyticsEndpoint(): AnalyticsEndpoint {\n    return new AnalyticsEndpoint({\n      token: this.options.token,\n      serviceUrl: this.options.endpoint,\n      organization: this.options.organization\n    });\n  }\n\n  private initializeAnalyticsClient() {\n    if (Utils.isNonEmptyString(this.options.endpoint)) {\n      let endpoint = this.initializeAnalyticsEndpoint();\n      let elementToInitializeClient: HTMLElement;\n      if (this.root && this.element) {\n        if (this.root.contains(this.element)) {\n          elementToInitializeClient = this.root;\n        } else {\n          elementToInitializeClient = this.element;\n        }\n\n      }\n\n      let isRecommendation = $$(this.root).hasClass(Component.computeCssClassName(Recommendation));\n      this.instantiateAnalyticsClient(endpoint, elementToInitializeClient, isRecommendation);\n\n    } else {\n      this.client = new NoopAnalyticsClient();\n    }\n  }\n\n  private instantiateAnalyticsClient(endpoint: AnalyticsEndpoint, elementToInitializeClient: HTMLElement, isRecommendation: boolean) {\n    if (isRecommendation) {\n      this.client = new RecommendationAnalyticsClient(endpoint, elementToInitializeClient,\n        this.options.user,\n        this.options.userDisplayName,\n        this.options.anonymous,\n        this.options.splitTestRunName,\n        this.options.splitTestRunVersion,\n        this.options.searchHub,\n        this.options.sendToCloud,\n        this.getBindings());\n    } else {\n      this.client = new LiveAnalyticsClient(endpoint, elementToInitializeClient,\n        this.options.user,\n        this.options.userDisplayName,\n        this.options.anonymous,\n        this.options.splitTestRunName,\n        this.options.splitTestRunVersion,\n        this.options.searchHub,\n        this.options.sendToCloud);\n    }\n  }\n\n  private retrieveInfoFromDefaultSearchEndpoint() {\n    let defaultEndpoint = SearchEndpoint.endpoints['default'];\n    if (this.options.token == null && defaultEndpoint) {\n      this.options.token = defaultEndpoint.options.accessToken;\n    }\n\n    if (!this.options.organization && defaultEndpoint) {\n      this.options.organization = defaultEndpoint.options.queryStringArguments['workgroup'];\n    }\n  }\n\n  private handleBuildingQuery(data: IBuildingQueryEventArgs) {\n    Assert.exists(data);\n\n    data.queryBuilder.searchHub = this.options.searchHub;\n  }\n\n  private handleSearchHubChanged(data: IAttributeChangedEventArg) {\n    this.options.searchHub = data.value;\n  }\n\n  private handleQueryError(data: IQueryErrorEventArgs) {\n    Assert.exists(data);\n\n    this.client.logCustomEvent<IAnalyticsQueryErrorMeta>(analyticsActionCauseList.queryError, {\n      query: data.query.q,\n      aq: data.query.aq,\n      cq: data.query.cq,\n      dq: data.query.dq,\n      errorType: data.error.type,\n      errorMessage: data.error.message\n    }, this.element);\n  }\n\n  public static create(element: HTMLElement, options: IAnalyticsOptions, bindings: IComponentBindings) {\n    let selector = Component.computeSelectorForType(Analytics.ID);\n    let found: HTMLElement[] = [];\n    found = found.concat($$(element).findAll(selector));\n    if (!(Component.get(element, SearchInterface) instanceof Recommendation)) {\n      found = this.ignoreElementsInsideRecommendationInterface(found);\n    }\n    found.push($$(element).closest(Component.computeCssClassName(Analytics)));\n    if ($$(element).is(selector)) {\n      found.push(element);\n    }\n    found = _.compact(found);\n\n    if (found.length == 1) {\n      return Analytics.getClient(found[0], options, bindings);\n    } else if (found.length > 1) {\n      return new MultiAnalyticsClient(_.map(found, (el) => Analytics.getClient(el, options, bindings)));\n    } else {\n      return new NoopAnalyticsClient();\n    }\n  }\n\n  private static ignoreElementsInsideRecommendationInterface(found: HTMLElement[]): HTMLElement[] {\n    return _.filter(found, (element) => {\n      return $$(element).closest(Component.computeCssClassName(Recommendation)) === undefined;\n    });\n  }\n\n  private static getClient(element: HTMLElement, options: IAnalyticsOptions, bindings: IComponentBindings): IAnalyticsClient {\n    // This check if an element is already initialized as an analytics component\n    // If that's the case, return the client on that element.\n    // Otherwise, init and return.\n    let foundOnElement = Component.get(element, Analytics, true);\n    if (foundOnElement instanceof Analytics) {\n      return (<Analytics>foundOnElement).client;\n    } else {\n      return new Analytics(element, options, bindings).client;\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Analytics/Analytics.ts\n **/","l":{"1":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"86":25,"87":1,"95":1,"156":33,"157":24,"158":24,"160":24,"161":24,"162":24,"164":24,"165":24,"169":24,"170":0,"171":0,"172":0,"176":24,"177":24,"178":24,"179":24,"193":1,"194":0,"205":1,"206":0,"215":1,"216":0,"228":1,"229":0,"232":1,"233":24,"240":1,"241":24,"242":24,"243":24,"244":24,"245":24,"246":21,"248":3,"253":24,"254":24,"257":0,"261":1,"262":24,"263":0,"273":24,"284":1,"285":24,"286":24,"287":5,"290":24,"291":4,"295":1,"296":2,"298":2,"301":1,"302":0,"305":1,"306":1,"308":1,"318":1,"319":125,"320":125,"321":125,"322":125,"323":95,"325":125,"326":125,"327":0,"329":125,"331":125,"332":6,"333":119,"334":4,"336":117,"340":1,"341":95,"342":6,"346":1,"350":10,"351":10,"352":1,"354":9,"357":1}},"src/ui/Analytics/LiveAnalyticsClient.ts":{"path":"src/ui/Analytics/LiveAnalyticsClient.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":52}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":56}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":86}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":41}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":41}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":90}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":39}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":35}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":88}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":67}},"11":{"start":{"line":20,"column":0},"end":{"line":20,"column":61}},"12":{"start":{"line":21,"column":0},"end":{"line":21,"column":44}},"13":{"start":{"line":22,"column":0},"end":{"line":22,"column":43}},"14":{"start":{"line":24,"column":0},"end":{"line":351,"column":1}},"15":{"start":{"line":33,"column":2},"end":{"line":41,"column":3}},"16":{"start":{"line":33,"column":21},"end":{"line":33,"column":48}},"17":{"start":{"line":33,"column":57},"end":{"line":33,"column":81}},"18":{"start":{"line":33,"column":90},"end":{"line":33,"column":104}},"19":{"start":{"line":33,"column":113},"end":{"line":33,"column":136}},"20":{"start":{"line":33,"column":145},"end":{"line":33,"column":163}},"21":{"start":{"line":33,"column":172},"end":{"line":33,"column":196}},"22":{"start":{"line":33,"column":205},"end":{"line":33,"column":232}},"23":{"start":{"line":33,"column":241},"end":{"line":33,"column":261}},"24":{"start":{"line":33,"column":270},"end":{"line":33,"column":290}},"25":{"start":{"line":25,"column":9},"end":{"line":25,"column":39}},"26":{"start":{"line":26,"column":10},"end":{"line":26,"column":46}},"27":{"start":{"line":27,"column":10},"end":{"line":27,"column":47}},"28":{"start":{"line":28,"column":10},"end":{"line":28,"column":48}},"29":{"start":{"line":35,"column":4},"end":{"line":35,"column":28}},"30":{"start":{"line":36,"column":4},"end":{"line":36,"column":31}},"31":{"start":{"line":37,"column":4},"end":{"line":37,"column":43}},"32":{"start":{"line":38,"column":4},"end":{"line":38,"column":41}},"33":{"start":{"line":39,"column":4},"end":{"line":39,"column":47}},"34":{"start":{"line":40,"column":4},"end":{"line":40,"column":35}},"35":{"start":{"line":43,"column":9},"end":{"line":45,"column":3}},"36":{"start":{"line":44,"column":4},"end":{"line":44,"column":16}},"37":{"start":{"line":47,"column":9},"end":{"line":49,"column":3}},"38":{"start":{"line":48,"column":4},"end":{"line":48,"column":45}},"39":{"start":{"line":51,"column":9},"end":{"line":53,"column":3}},"40":{"start":{"line":52,"column":4},"end":{"line":52,"column":52}},"41":{"start":{"line":55,"column":9},"end":{"line":63,"column":3}},"42":{"start":{"line":56,"column":4},"end":{"line":58,"column":5}},"43":{"start":{"line":57,"column":6},"end":{"line":57,"column":53}},"44":{"start":{"line":59,"column":4},"end":{"line":61,"column":5}},"45":{"start":{"line":60,"column":6},"end":{"line":60,"column":68}},"46":{"start":{"line":62,"column":4},"end":{"line":62,"column":16}},"47":{"start":{"line":65,"column":9},"end":{"line":73,"column":3}},"48":{"start":{"line":66,"column":4},"end":{"line":68,"column":5}},"49":{"start":{"line":67,"column":6},"end":{"line":67,"column":52}},"50":{"start":{"line":69,"column":4},"end":{"line":71,"column":5}},"51":{"start":{"line":70,"column":6},"end":{"line":70,"column":67}},"52":{"start":{"line":72,"column":4},"end":{"line":72,"column":16}},"53":{"start":{"line":75,"column":9},"end":{"line":78,"column":3}},"54":{"start":{"line":76,"column":4},"end":{"line":76,"column":48}},"55":{"start":{"line":77,"column":4},"end":{"line":77,"column":50}},"56":{"start":{"line":80,"column":9},"end":{"line":83,"column":3}},"57":{"start":{"line":81,"column":4},"end":{"line":81,"column":48}},"58":{"start":{"line":82,"column":4},"end":{"line":82,"column":59}},"59":{"start":{"line":85,"column":9},"end":{"line":88,"column":3}},"60":{"start":{"line":86,"column":4},"end":{"line":86,"column":48}},"61":{"start":{"line":87,"column":4},"end":{"line":87,"column":66}},"62":{"start":{"line":90,"column":9},"end":{"line":93,"column":3}},"63":{"start":{"line":91,"column":4},"end":{"line":91,"column":48}},"64":{"start":{"line":92,"column":4},"end":{"line":92,"column":59}},"65":{"start":{"line":95,"column":9},"end":{"line":97,"column":3}},"66":{"start":{"line":96,"column":4},"end":{"line":96,"column":47}},"67":{"start":{"line":99,"column":9},"end":{"line":103,"column":3}},"68":{"start":{"line":100,"column":4},"end":{"line":102,"column":5}},"69":{"start":{"line":101,"column":6},"end":{"line":101,"column":60}},"70":{"start":{"line":105,"column":9},"end":{"line":114,"column":3}},"71":{"start":{"line":106,"column":4},"end":{"line":109,"column":5}},"72":{"start":{"line":107,"column":6},"end":{"line":107,"column":54}},"73":{"start":{"line":108,"column":6},"end":{"line":108,"column":52}},"74":{"start":{"line":110,"column":4},"end":{"line":113,"column":5}},"75":{"start":{"line":111,"column":6},"end":{"line":111,"column":39}},"76":{"start":{"line":112,"column":6},"end":{"line":112,"column":37}},"77":{"start":{"line":116,"column":9},"end":{"line":123,"column":3}},"78":{"start":{"line":117,"column":4},"end":{"line":121,"column":5}},"79":{"start":{"line":118,"column":6},"end":{"line":118,"column":36}},"80":{"start":{"line":119,"column":11},"end":{"line":121,"column":5}},"81":{"start":{"line":120,"column":6},"end":{"line":120,"column":52}},"82":{"start":{"line":122,"column":4},"end":{"line":122,"column":16}},"83":{"start":{"line":125,"column":9},"end":{"line":132,"column":3}},"84":{"start":{"line":126,"column":4},"end":{"line":131,"column":5}},"85":{"start":{"line":127,"column":6},"end":{"line":127,"column":247}},"86":{"start":{"line":128,"column":6},"end":{"line":130,"column":7}},"87":{"start":{"line":129,"column":8},"end":{"line":129,"column":24}},"88":{"start":{"line":134,"column":10},"end":{"line":144,"column":3}},"89":{"start":{"line":134,"column":2},"end":{"line":144,"column":3}},"90":{"start":{"line":135,"column":4},"end":{"line":135,"column":78}},"91":{"start":{"line":136,"column":4},"end":{"line":136,"column":82}},"92":{"start":{"line":137,"column":4},"end":{"line":137,"column":59}},"93":{"start":{"line":138,"column":4},"end":{"line":143,"column":7}},"94":{"start":{"line":139,"column":6},"end":{"line":141,"column":7}},"95":{"start":{"line":140,"column":8},"end":{"line":140,"column":51}},"96":{"start":{"line":142,"column":6},"end":{"line":142,"column":166}},"97":{"start":{"line":146,"column":10},"end":{"line":167,"column":3}},"98":{"start":{"line":146,"column":2},"end":{"line":167,"column":3}},"99":{"start":{"line":147,"column":4},"end":{"line":147,"column":31}},"100":{"start":{"line":148,"column":4},"end":{"line":151,"column":5}},"101":{"start":{"line":149,"column":6},"end":{"line":149,"column":46}},"102":{"start":{"line":150,"column":6},"end":{"line":150,"column":37}},"103":{"start":{"line":152,"column":4},"end":{"line":152,"column":59}},"104":{"start":{"line":154,"column":4},"end":{"line":166,"column":5}},"105":{"start":{"line":155,"column":6},"end":{"line":155,"column":71}},"106":{"start":{"line":156,"column":6},"end":{"line":156,"column":84}},"107":{"start":{"line":157,"column":6},"end":{"line":157,"column":144}},"108":{"start":{"line":159,"column":6},"end":{"line":165,"column":8}},"109":{"start":{"line":163,"column":8},"end":{"line":163,"column":44}},"110":{"start":{"line":164,"column":8},"end":{"line":164,"column":43}},"111":{"start":{"line":169,"column":10},"end":{"line":175,"column":3}},"112":{"start":{"line":170,"column":4},"end":{"line":174,"column":5}},"113":{"start":{"line":171,"column":6},"end":{"line":171,"column":33}},"114":{"start":{"line":173,"column":6},"end":{"line":173,"column":50}},"115":{"start":{"line":177,"column":10},"end":{"line":182,"column":3}},"116":{"start":{"line":178,"column":4},"end":{"line":178,"column":48}},"117":{"start":{"line":179,"column":4},"end":{"line":179,"column":69}},"118":{"start":{"line":180,"column":4},"end":{"line":180,"column":82}},"119":{"start":{"line":181,"column":4},"end":{"line":181,"column":147}},"120":{"start":{"line":184,"column":10},"end":{"line":200,"column":3}},"121":{"start":{"line":184,"column":2},"end":{"line":200,"column":3}},"122":{"start":{"line":185,"column":4},"end":{"line":185,"column":79}},"123":{"start":{"line":186,"column":4},"end":{"line":186,"column":59}},"124":{"start":{"line":187,"column":4},"end":{"line":187,"column":99}},"125":{"start":{"line":188,"column":4},"end":{"line":188,"column":50}},"126":{"start":{"line":189,"column":4},"end":{"line":189,"column":50}},"127":{"start":{"line":190,"column":4},"end":{"line":190,"column":46}},"128":{"start":{"line":191,"column":4},"end":{"line":191,"column":44}},"129":{"start":{"line":192,"column":4},"end":{"line":199,"column":7}},"130":{"start":{"line":193,"column":6},"end":{"line":195,"column":7}},"131":{"start":{"line":194,"column":8},"end":{"line":194,"column":51}},"132":{"start":{"line":196,"column":6},"end":{"line":198,"column":8}},"133":{"start":{"line":202,"column":10},"end":{"line":219,"column":3}},"134":{"start":{"line":203,"column":4},"end":{"line":218,"column":5}},"135":{"start":{"line":221,"column":10},"end":{"line":236,"column":3}},"136":{"start":{"line":222,"column":4},"end":{"line":235,"column":7}},"137":{"start":{"line":238,"column":10},"end":{"line":257,"column":3}},"138":{"start":{"line":239,"column":4},"end":{"line":256,"column":6}},"139":{"start":{"line":259,"column":10},"end":{"line":266,"column":3}},"140":{"start":{"line":260,"column":4},"end":{"line":265,"column":6}},"141":{"start":{"line":268,"column":12},"end":{"line":270,"column":3}},"142":{"start":{"line":269,"column":4},"end":{"line":269,"column":66}},"143":{"start":{"line":272,"column":10},"end":{"line":276,"column":3}},"144":{"start":{"line":273,"column":4},"end":{"line":273,"column":67}},"145":{"start":{"line":274,"column":4},"end":{"line":274,"column":63}},"146":{"start":{"line":275,"column":4},"end":{"line":275,"column":17}},"147":{"start":{"line":278,"column":10},"end":{"line":283,"column":3}},"148":{"start":{"line":279,"column":4},"end":{"line":282,"column":5}},"149":{"start":{"line":280,"column":6},"end":{"line":280,"column":54}},"150":{"start":{"line":281,"column":6},"end":{"line":281,"column":57}},"151":{"start":{"line":285,"column":10},"end":{"line":289,"column":3}},"152":{"start":{"line":286,"column":4},"end":{"line":286,"column":27}},"153":{"start":{"line":287,"column":4},"end":{"line":287,"column":63}},"154":{"start":{"line":288,"column":4},"end":{"line":288,"column":94}},"155":{"start":{"line":291,"column":10},"end":{"line":293,"column":3}},"156":{"start":{"line":292,"column":4},"end":{"line":292,"column":83}},"157":{"start":{"line":295,"column":10},"end":{"line":297,"column":3}},"158":{"start":{"line":296,"column":4},"end":{"line":296,"column":124}},"159":{"start":{"line":299,"column":10},"end":{"line":346,"column":3}},"160":{"start":{"line":300,"column":4},"end":{"line":305,"column":6}},"161":{"start":{"line":311,"column":10},"end":{"line":311,"column":47}},"162":{"start":{"line":312,"column":10},"end":{"line":312,"column":47}},"163":{"start":{"line":314,"column":4},"end":{"line":319,"column":38}},"164":{"start":{"line":320,"column":4},"end":{"line":320,"column":82}},"165":{"start":{"line":322,"column":4},"end":{"line":322,"column":35}},"166":{"start":{"line":323,"column":4},"end":{"line":323,"column":43}},"167":{"start":{"line":324,"column":4},"end":{"line":324,"column":43}},"168":{"start":{"line":325,"column":4},"end":{"line":325,"column":43}},"169":{"start":{"line":326,"column":4},"end":{"line":326,"column":34}},"170":{"start":{"line":333,"column":4},"end":{"line":333,"column":64}},"171":{"start":{"line":334,"column":4},"end":{"line":337,"column":5}},"172":{"start":{"line":335,"column":6},"end":{"line":335,"column":155}},"173":{"start":{"line":336,"column":6},"end":{"line":336,"column":51}},"174":{"start":{"line":338,"column":4},"end":{"line":338,"column":48}},"175":{"start":{"line":340,"column":4},"end":{"line":340,"column":64}},"176":{"start":{"line":341,"column":4},"end":{"line":344,"column":5}},"177":{"start":{"line":342,"column":6},"end":{"line":342,"column":155}},"178":{"start":{"line":343,"column":6},"end":{"line":343,"column":51}},"179":{"start":{"line":345,"column":4},"end":{"line":345,"column":48}},"180":{"start":{"line":348,"column":10},"end":{"line":350,"column":3}},"181":{"start":{"line":349,"column":4},"end":{"line":349,"column":39}},"182":{"start":{"line":351,"column":0},"end":{"line":351,"column":1}},"183":{"start":{"line":24,"column":13},"end":{"line":351,"column":1}}},"fnMap":{"1":{"name":"(anonymous_2173)","line":24,"loc":{"start":{"line":24,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"LiveAnalyticsClient","line":33,"loc":{"start":{"line":33,"column":2},"end":{"line":33,"column":290}}},"3":{"name":"(anonymous_2175)","line":43,"loc":{"start":{"line":43,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_2176)","line":47,"loc":{"start":{"line":47,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_2177)","line":51,"loc":{"start":{"line":51,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_2178)","line":55,"loc":{"start":{"line":55,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_2179)","line":65,"loc":{"start":{"line":65,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_2180)","line":75,"loc":{"start":{"line":75,"column":2},"end":{"line":75,"column":78}}},"9":{"name":"(anonymous_2181)","line":80,"loc":{"start":{"line":80,"column":2},"end":{"line":80,"column":83}}},"10":{"name":"(anonymous_2182)","line":85,"loc":{"start":{"line":85,"column":2},"end":{"line":85,"column":121}}},"11":{"name":"(anonymous_2183)","line":90,"loc":{"start":{"line":90,"column":2},"end":{"line":90,"column":100}}},"12":{"name":"(anonymous_2184)","line":95,"loc":{"start":{"line":95,"column":2},"end":{"line":95,"column":42}}},"13":{"name":"(anonymous_2185)","line":99,"loc":{"start":{"line":99,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_2186)","line":105,"loc":{"start":{"line":105,"column":2},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_2187)","line":116,"loc":{"start":{"line":116,"column":2},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_2188)","line":125,"loc":{"start":{"line":125,"column":2},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_2189)","line":134,"loc":{"start":{"line":134,"column":2},"end":{"line":134,"column":127}}},"18":{"name":"(anonymous_2190)","line":138,"loc":{"start":{"line":138,"column":16},"end":{"line":null,"column":-1}}},"19":{"name":"(anonymous_2191)","line":146,"loc":{"start":{"line":146,"column":2},"end":{"line":146,"column":104}}},"20":{"name":"(anonymous_2192)","line":159,"loc":{"start":{"line":159,"column":18},"end":{"line":null,"column":-1}}},"21":{"name":"(anonymous_2193)","line":169,"loc":{"start":{"line":169,"column":2},"end":{"line":169,"column":81}}},"22":{"name":"(anonymous_2194)","line":177,"loc":{"start":{"line":177,"column":2},"end":{"line":177,"column":113}}},"23":{"name":"(anonymous_2195)","line":184,"loc":{"start":{"line":184,"column":2},"end":{"line":184,"column":147}}},"24":{"name":"(anonymous_2196)","line":192,"loc":{"start":{"line":192,"column":16},"end":{"line":null,"column":-1}}},"25":{"name":"(anonymous_2197)","line":202,"loc":{"start":{"line":202,"column":2},"end":{"line":202,"column":108}}},"26":{"name":"(anonymous_2198)","line":221,"loc":{"start":{"line":221,"column":2},"end":{"line":221,"column":105}}},"27":{"name":"(anonymous_2199)","line":238,"loc":{"start":{"line":238,"column":2},"end":{"line":238,"column":148}}},"28":{"name":"(anonymous_2200)","line":259,"loc":{"start":{"line":259,"column":2},"end":{"line":259,"column":127}}},"29":{"name":"(anonymous_2201)","line":268,"loc":{"start":{"line":268,"column":2},"end":{"line":268,"column":48}}},"30":{"name":"(anonymous_2202)","line":272,"loc":{"start":{"line":272,"column":2},"end":{"line":272,"column":44}}},"31":{"name":"(anonymous_2203)","line":278,"loc":{"start":{"line":278,"column":2},"end":{"line":null,"column":-1}}},"32":{"name":"(anonymous_2204)","line":285,"loc":{"start":{"line":285,"column":2},"end":{"line":285,"column":58}}},"33":{"name":"(anonymous_2205)","line":291,"loc":{"start":{"line":291,"column":2},"end":{"line":291,"column":57}}},"34":{"name":"(anonymous_2206)","line":295,"loc":{"start":{"line":295,"column":2},"end":{"line":295,"column":52}}},"35":{"name":"(anonymous_2207)","line":299,"loc":{"start":{"line":299,"column":2},"end":{"line":299,"column":135}}},"36":{"name":"(anonymous_2208)","line":348,"loc":{"start":{"line":348,"column":2},"end":{"line":348,"column":78}}}},"branchMap":{"1":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":4},"end":{"line":56,"column":3}},{"start":{"line":56,"column":4},"end":{"line":56,"column":3}}]},"2":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":4},"end":{"line":59,"column":3}},{"start":{"line":59,"column":4},"end":{"line":59,"column":3}}]},"3":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":4},"end":{"line":66,"column":3}},{"start":{"line":66,"column":4},"end":{"line":66,"column":3}}]},"4":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":4},"end":{"line":69,"column":3}},{"start":{"line":69,"column":4},"end":{"line":69,"column":3}}]},"5":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":4},"end":{"line":100,"column":3}},{"start":{"line":100,"column":4},"end":{"line":100,"column":3}}]},"6":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":4},"end":{"line":106,"column":3}},{"start":{"line":106,"column":4},"end":{"line":106,"column":3}}]},"7":{"line":110,"type":"if","locations":[{"start":{"line":110,"column":4},"end":{"line":110,"column":3}},{"start":{"line":110,"column":4},"end":{"line":110,"column":3}}]},"8":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":4},"end":{"line":117,"column":3}},{"start":{"line":117,"column":4},"end":{"line":117,"column":3}}]},"9":{"line":119,"type":"if","locations":[{"start":{"line":119,"column":11},"end":{"line":119,"column":10}},{"start":{"line":119,"column":11},"end":{"line":119,"column":10}}]},"10":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":4},"end":{"line":126,"column":3}},{"start":{"line":126,"column":4},"end":{"line":126,"column":3}}]},"11":{"line":126,"type":"binary-expr","locations":[{"start":{"line":126,"column":8},"end":{"line":126,"column":46}},{"start":{"line":126,"column":50},"end":{"line":126,"column":103}}]},"12":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":6},"end":{"line":128,"column":5}},{"start":{"line":128,"column":6},"end":{"line":128,"column":5}}]},"13":{"line":128,"type":"binary-expr","locations":[{"start":{"line":128,"column":10},"end":{"line":128,"column":27}},{"start":{"line":128,"column":31},"end":{"line":128,"column":44}}]},"14":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":6},"end":{"line":139,"column":5}},{"start":{"line":139,"column":6},"end":{"line":139,"column":5}}]},"15":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":4},"end":{"line":148,"column":3}},{"start":{"line":148,"column":4},"end":{"line":148,"column":3}}]},"16":{"line":148,"type":"binary-expr","locations":[{"start":{"line":148,"column":8},"end":{"line":148,"column":31}},{"start":{"line":148,"column":35},"end":{"line":148,"column":95}}]},"17":{"line":154,"type":"if","locations":[{"start":{"line":154,"column":4},"end":{"line":154,"column":3}},{"start":{"line":154,"column":4},"end":{"line":154,"column":3}}]},"18":{"line":170,"type":"if","locations":[{"start":{"line":170,"column":4},"end":{"line":170,"column":3}},{"start":{"line":170,"column":4},"end":{"line":170,"column":3}}]},"19":{"line":193,"type":"if","locations":[{"start":{"line":193,"column":6},"end":{"line":193,"column":5}},{"start":{"line":193,"column":6},"end":{"line":193,"column":5}}]},"20":{"line":216,"type":"cond-expr","locations":[{"start":{"line":216,"column":50},"end":{"line":216,"column":60}},{"start":{"line":216,"column":63},"end":{"line":216,"column":72}}]},"21":{"line":242,"type":"binary-expr","locations":[{"start":{"line":242,"column":24},"end":{"line":242,"column":45}},{"start":{"line":242,"column":49},"end":{"line":242,"column":68}}]},"22":{"line":243,"type":"binary-expr","locations":[{"start":{"line":243,"column":27},"end":{"line":243,"column":51}},{"start":{"line":243,"column":56},"end":{"line":243,"column":118}}]},"23":{"line":243,"type":"cond-expr","locations":[{"start":{"line":243,"column":91},"end":{"line":243,"column":106}},{"start":{"line":243,"column":109},"end":{"line":243,"column":118}}]},"24":{"line":269,"type":"binary-expr","locations":[{"start":{"line":269,"column":11},"end":{"line":269,"column":52}},{"start":{"line":269,"column":56},"end":{"line":269,"column":65}}]},"25":{"line":279,"type":"if","locations":[{"start":{"line":279,"column":4},"end":{"line":279,"column":3}},{"start":{"line":279,"column":4},"end":{"line":279,"column":3}}]},"26":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":27}},{"start":{"line":288,"column":39},"end":{"line":288,"column":92}}]},"27":{"line":296,"type":"binary-expr","locations":[{"start":{"line":296,"column":11},"end":{"line":296,"column":66}},{"start":{"line":296,"column":70},"end":{"line":296,"column":124}}]},"28":{"line":334,"type":"if","locations":[{"start":{"line":334,"column":4},"end":{"line":334,"column":3}},{"start":{"line":334,"column":4},"end":{"line":334,"column":3}}]},"29":{"line":341,"type":"if","locations":[{"start":{"line":341,"column":4},"end":{"line":341,"column":3}},{"start":{"line":341,"column":4},"end":{"line":341,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":46,"17":46,"18":46,"19":46,"20":46,"21":46,"22":46,"23":46,"24":46,"25":46,"26":46,"27":46,"28":46,"29":46,"30":46,"31":46,"32":46,"33":46,"34":46,"35":1,"36":0,"37":1,"38":0,"39":1,"40":0,"41":1,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1,"48":0,"49":0,"50":0,"51":0,"52":0,"53":1,"54":12,"55":12,"56":1,"57":4,"58":4,"59":1,"60":4,"61":4,"62":1,"63":2,"64":2,"65":1,"66":0,"67":1,"68":6,"69":1,"70":1,"71":1,"72":0,"73":0,"74":1,"75":1,"76":1,"77":1,"78":2,"79":1,"80":1,"81":1,"82":0,"83":1,"84":0,"85":0,"86":0,"87":0,"88":1,"89":2,"90":2,"91":2,"92":2,"93":2,"94":2,"95":2,"96":2,"97":1,"98":11,"99":11,"100":11,"101":0,"102":0,"103":11,"104":11,"105":11,"106":11,"107":11,"108":11,"109":11,"110":11,"111":1,"112":16,"113":6,"114":10,"115":1,"116":4,"117":4,"118":4,"119":4,"120":1,"121":3,"122":3,"123":3,"124":3,"125":3,"126":3,"127":3,"128":3,"129":3,"130":3,"131":3,"132":3,"133":1,"134":20,"135":1,"136":15,"137":1,"138":3,"139":1,"140":2,"141":1,"142":21,"143":1,"144":22,"145":22,"146":22,"147":1,"148":14,"149":1,"150":1,"151":1,"152":21,"153":21,"154":21,"155":1,"156":21,"157":1,"158":16,"159":1,"160":20,"161":20,"162":20,"163":20,"164":20,"165":20,"166":20,"167":20,"168":20,"169":20,"170":20,"171":20,"172":0,"173":0,"174":20,"175":20,"176":20,"177":0,"178":0,"179":20,"180":1,"181":20,"182":1,"183":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,5],"6":[0,1],"7":[1,0],"8":[1,1],"9":[1,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[2,0],"15":[0,11],"16":[11,0],"17":[11,0],"18":[6,10],"19":[3,0],"20":[20,0],"21":[3,0],"22":[3,0],"23":[0,0],"24":[21,21],"25":[1,13],"26":[21,13],"27":[16,6],"28":[0,20],"29":[0,20]},"f":{"1":1,"2":46,"3":0,"4":0,"5":0,"6":0,"7":0,"8":12,"9":4,"10":4,"11":2,"12":0,"13":6,"14":1,"15":2,"16":0,"17":2,"18":2,"19":11,"20":11,"21":16,"22":4,"23":3,"24":3,"25":20,"26":15,"27":3,"28":2,"29":21,"30":22,"31":14,"32":21,"33":21,"34":16,"35":20,"36":20},"code":"import {IAnalyticsClient} from './AnalyticsClient';\nimport {DeviceUtils} from '../../utils/DeviceUtils';\nimport {PendingSearchEvent} from './PendingSearchEvent';\nimport {PendingSearchAsYouTypeSearchEvent} from './PendingSearchAsYouTypeSearchEvent';\nimport {AnalyticsEndpoint} from '../../rest/AnalyticsEndpoint';\nimport {Assert} from '../../misc/Assert';\nimport {Logger} from '../../misc/Logger';\nimport {IAnalyticsActionCause, analyticsActionCauseList} from './AnalyticsActionListMeta';\nimport {IQueryResult} from '../../rest/QueryResult';\nimport {ITopQueries} from '../../rest/TopQueries';\nimport {IChangeableAnalyticsMetaObject, IChangeableAnalyticsDataObject, IChangeAnalyticsCustomDataEventArgs} from '../../events/AnalyticsEvents';\nimport {Defer} from '../../misc/Defer';\nimport {$$} from '../../utils/Dom';\nimport {AnalyticsEvents, IAnalyticsCustomEventArgs} from '../../events/AnalyticsEvents';\nimport {APIAnalyticsBuilder} from '../../rest/APIAnalyticsBuilder';\nimport {IAnalyticsEvent} from '../../rest/AnalyticsEvent';\nimport {ISearchEvent} from '../../rest/SearchEvent';\nimport {IClickEvent} from '../../rest/ClickEvent';\nimport {ICustomEvent} from '../../rest/CustomEvent';\nimport {QueryStateModel} from '../../models/QueryStateModel';\nimport {Component} from '../Base/Component';\nimport {version} from '../../misc/Version';\n\nexport class LiveAnalyticsClient implements IAnalyticsClient {\n  public isContextual: boolean = false;\n  private language = <string>String['locale'];\n  private device = DeviceUtils.getDeviceName();\n  private mobile = DeviceUtils.isMobileDevice();\n  private pendingSearchEvent: PendingSearchEvent;\n  private pendingSearchAsYouTypeSearchEvent: PendingSearchAsYouTypeSearchEvent;\n  private logger: Logger;\n\n  constructor(public endpoint: AnalyticsEndpoint, public rootElement: HTMLElement, public userId: string, public userDisplayName: string, public anonymous: boolean, public splitTestRunName: string, public splitTestRunVersion: string, public originLevel1: string, public sendToCloud: boolean) {\n\n    Assert.exists(endpoint);\n    Assert.exists(rootElement);\n    Assert.isNonEmptyString(this.language);\n    Assert.isNonEmptyString(this.device);\n    Assert.isNonEmptyString(this.originLevel1);\n    this.logger = new Logger(this);\n  }\n\n  public isActivated(): boolean {\n    return true;\n  }\n\n  public getCurrentVisitId(): string {\n    return this.endpoint.getCurrentVisitId();\n  }\n\n  public getCurrentVisitIdPromise(): Promise<string> {\n    return this.endpoint.getCurrentVisitIdPromise();\n  }\n\n  public getCurrentEventCause() {\n    if (this.pendingSearchEvent != null) {\n      return this.pendingSearchEvent.getEventCause();\n    }\n    if (this.pendingSearchAsYouTypeSearchEvent != null) {\n      return this.pendingSearchAsYouTypeSearchEvent.getEventCause();\n    }\n    return null;\n  }\n\n  public getCurrentEventMeta() {\n    if (this.pendingSearchEvent != null) {\n      return this.pendingSearchEvent.getEventMeta();\n    }\n    if (this.pendingSearchAsYouTypeSearchEvent != null) {\n      return this.pendingSearchAsYouTypeSearchEvent.getEventMeta();\n    }\n    return null;\n  }\n\n  public logSearchEvent<TMeta>(actionCause: IAnalyticsActionCause, meta: TMeta) {\n    var metaObject = this.buildMetaObject(meta);\n    this.pushSearchEvent(actionCause, metaObject);\n  }\n\n  public logSearchAsYouType<TMeta>(actionCause: IAnalyticsActionCause, meta?: TMeta) {\n    var metaObject = this.buildMetaObject(meta);\n    this.pushSearchAsYouTypeEvent(actionCause, metaObject);\n  }\n\n  public logClickEvent<TMeta>(actionCause: IAnalyticsActionCause, meta: TMeta, result: IQueryResult, element: HTMLElement) {\n    var metaObject = this.buildMetaObject(meta);\n    this.pushClickEvent(actionCause, metaObject, result, element);\n  }\n\n  public logCustomEvent<TMeta>(actionCause: IAnalyticsActionCause, meta: TMeta, element: HTMLElement) {\n    var metaObject = this.buildMetaObject(meta);\n    this.pushCustomEvent(actionCause, metaObject, element);\n  }\n\n  public getTopQueries(params: ITopQueries): Promise<string[]> {\n    return this.endpoint.getTopQueries(params);\n  }\n\n  public sendAllPendingEvents() {\n    if (this.pendingSearchAsYouTypeSearchEvent) {\n      this.pendingSearchAsYouTypeSearchEvent.sendRightNow();\n    }\n  }\n\n  public cancelAllPendingEvents() {\n    if (this.pendingSearchAsYouTypeSearchEvent) {\n      this.pendingSearchAsYouTypeSearchEvent.cancel();\n      this.pendingSearchAsYouTypeSearchEvent = null;\n    }\n    if (this.pendingSearchEvent) {\n      this.pendingSearchEvent.cancel();\n      this.pendingSearchEvent = null;\n    }\n  }\n\n  public getPendingSearchEvent(): PendingSearchEvent {\n    if (this.pendingSearchEvent) {\n      return this.pendingSearchEvent\n    } else if (this.pendingSearchAsYouTypeSearchEvent) {\n      return this.pendingSearchAsYouTypeSearchEvent;\n    }\n    return null;\n  }\n\n  public warnAboutSearchEvent() {\n    if (_.isUndefined(this.pendingSearchEvent) && _.isUndefined(this.pendingSearchAsYouTypeSearchEvent)) {\n      this.logger.warn('A search was triggered, but no analytics event was logged. If you wish to have consistent analytics data, consider logging a search event using the methods provided by the framework', 'https://developers.coveo.com/x/TwA5');\n      if (window['console'] && console.trace) {\n        console.trace();\n      }\n    }\n  }\n\n  private pushCustomEvent(actionCause: IAnalyticsActionCause, metaObject: IChangeableAnalyticsMetaObject, element?: HTMLElement) {\n    var customEvent = this.buildCustomEvent(actionCause, metaObject, element);\n    this.triggerChangeAnalyticsCustomData('CustomEvent', metaObject, customEvent);\n    this.checkToSendAnyPendingSearchAsYouType(actionCause);\n    Defer.defer(() => {\n      if (this.sendToCloud) {\n        this.endpoint.sendCustomEvent(customEvent);\n      }\n      $$(this.rootElement).trigger(AnalyticsEvents.customEvent, <IAnalyticsCustomEventArgs>{ customEvent: APIAnalyticsBuilder.convertCustomEventToAPI(customEvent) });\n    });\n  }\n\n  private pushSearchEvent(actionCause: IAnalyticsActionCause, metaObject: IChangeableAnalyticsMetaObject) {\n    Assert.exists(actionCause);\n    if (this.pendingSearchEvent && this.pendingSearchEvent.getEventCause() !== actionCause.name) {\n      this.pendingSearchEvent.stopRecording();\n      this.pendingSearchEvent = null;\n    }\n    this.checkToSendAnyPendingSearchAsYouType(actionCause);\n\n    if (!this.pendingSearchEvent) {\n      var searchEvent = this.buildSearchEvent(actionCause, metaObject);\n      this.triggerChangeAnalyticsCustomData('SearchEvent', metaObject, searchEvent);\n      var pendingSearchEvent = this.pendingSearchEvent = new PendingSearchEvent(this.rootElement, this.endpoint, searchEvent, this.sendToCloud);\n\n      Defer.defer(() => {\n        // At this point all duringQuery events should have been fired, so we can forget\n        // about the pending search event. It'll finish processing automatically when\n        // all the deferred that were caught terminate.\n        this.pendingSearchEvent = undefined;\n        pendingSearchEvent.stopRecording();\n      })\n    }\n  }\n\n  private checkToSendAnyPendingSearchAsYouType(actionCause: IAnalyticsActionCause) {\n    if (this.eventIsNotRelatedToSearchbox(actionCause.name)) {\n      this.sendAllPendingEvents()\n    } else {\n      this.cancelAnyPendingSearchAsYouTypeEvent();\n    }\n  }\n\n  private pushSearchAsYouTypeEvent(actionCause: IAnalyticsActionCause, metaObject: IChangeableAnalyticsMetaObject) {\n    this.cancelAnyPendingSearchAsYouTypeEvent();\n    var searchEvent = this.buildSearchEvent(actionCause, metaObject);\n    this.triggerChangeAnalyticsCustomData('SearchEvent', metaObject, searchEvent);\n    this.pendingSearchAsYouTypeSearchEvent = new PendingSearchAsYouTypeSearchEvent(this.rootElement, this.endpoint, searchEvent, this.sendToCloud);\n  }\n\n  private pushClickEvent(actionCause: IAnalyticsActionCause, metaObject: IChangeableAnalyticsMetaObject, result: IQueryResult, element: HTMLElement) {\n    var event = this.buildClickEvent(actionCause, metaObject, result, element);\n    this.checkToSendAnyPendingSearchAsYouType(actionCause);\n    this.triggerChangeAnalyticsCustomData('ClickEvent', metaObject, event, { resultData: result });\n    Assert.isNonEmptyString(event.searchQueryUid);\n    Assert.isNonEmptyString(event.collectionName);\n    Assert.isNonEmptyString(event.sourceName);\n    Assert.isNumber(event.documentPosition);\n    Defer.defer(() => {\n      if (this.sendToCloud) {\n        this.endpoint.sendDocumentViewEvent(event);\n      }\n      $$(this.rootElement).trigger(AnalyticsEvents.documentViewEvent, {\n        documentViewEvent: APIAnalyticsBuilder.convertDocumentViewToAPI(event)\n      })\n    });\n  }\n\n  private buildAnalyticsEvent(actionCause: IAnalyticsActionCause, metaObject: IChangeableAnalyticsMetaObject): IAnalyticsEvent {\n    return {\n      actionCause: actionCause.name,\n      actionType: actionCause.type,\n      username: this.userId,\n      userDisplayName: this.userDisplayName,\n      anonymous: this.anonymous,\n      device: this.device,\n      mobile: this.mobile,\n      language: this.language,\n      responseTime: undefined,\n      originLevel1: this.originLevel1,\n      originLevel2: this.getOriginLevel2(this.rootElement),\n      originLevel3: document.referrer,\n      customData: _.keys(metaObject).length > 0 ? metaObject : undefined,\n      userAgent: navigator.userAgent\n    }\n  }\n\n  private buildSearchEvent(actionCause: IAnalyticsActionCause, metaObject: IChangeableAnalyticsMetaObject): ISearchEvent {\n    return this.merge<ISearchEvent>(this.buildAnalyticsEvent(actionCause, metaObject), {\n      searchQueryUid: undefined,\n      pipeline: undefined,\n      splitTestRunName: this.splitTestRunName,\n      splitTestRunVersion: this.splitTestRunVersion,\n      queryText: undefined,\n      advancedQuery: undefined,\n      results: undefined,\n      resultsPerPage: undefined,\n      pageNumber: undefined,\n      didYouMean: undefined,\n      facets: undefined,\n      contextual: this.isContextual\n    });\n  }\n\n  private buildClickEvent(actionCause: IAnalyticsActionCause, metaObject: IChangeableAnalyticsMetaObject, result: IQueryResult, element: HTMLElement): IClickEvent {\n    return this.merge<IClickEvent>(this.buildAnalyticsEvent(actionCause, metaObject), {\n      searchQueryUid: result.queryUid,\n      queryPipeline: result.pipeline,\n      splitTestRunName: this.splitTestRunName || result.splitTestRun,\n      splitTestRunVersion: this.splitTestRunVersion || (result.splitTestRun != undefined ? result.pipeline : undefined),\n      documentUri: result.uri,\n      documentUriHash: result.raw['urihash'],\n      documentUrl: result.clickUri,\n      documentTitle: result.title,\n      documentCategory: result.raw['objecttype'],\n      originLevel2: this.getOriginLevel2(element),\n      collectionName: <string>result.raw['collection'],\n      sourceName: <string>result.raw['source'],\n      documentPosition: result.index + 1,\n      responseTime: 0,\n      viewMethod: actionCause.name,\n      rankingModifier: result.rankingModifier\n    })\n  }\n\n  private buildCustomEvent(actionCause: IAnalyticsActionCause, metaObject: IChangeableAnalyticsMetaObject, element: HTMLElement): ICustomEvent {\n    return this.merge<ICustomEvent>(this.buildAnalyticsEvent(actionCause, metaObject), {\n      eventType: actionCause.type,\n      eventValue: actionCause.name,\n      originLevel2: this.getOriginLevel2(element),\n      responseTime: 0\n    })\n  }\n\n  protected getOriginLevel2(element: HTMLElement): string {\n    return this.resolveActiveTabFromElement(element) || 'default';\n  }\n\n  private buildMetaObject<TMeta>(meta: TMeta): IChangeableAnalyticsMetaObject {\n    var build: IChangeableAnalyticsMetaObject = _.extend({}, meta);\n    build['JSUIVersion'] = version.lib + ';' + version.product;\n    return build;\n  }\n\n  private cancelAnyPendingSearchAsYouTypeEvent() {\n    if (this.pendingSearchAsYouTypeSearchEvent) {\n      this.pendingSearchAsYouTypeSearchEvent.cancel();\n      this.pendingSearchAsYouTypeSearchEvent = undefined;\n    }\n  }\n\n  private resolveActiveTabFromElement(element: HTMLElement): string {\n    Assert.exists(element);\n    var queryStateModel = this.resolveQueryStateModel(element);\n    return (queryStateModel && <string>queryStateModel.get(QueryStateModel.attributesEnum.t));\n  }\n\n  private resolveQueryStateModel(rootElement: HTMLElement): QueryStateModel {\n    return <QueryStateModel>Component.resolveBinding(rootElement, QueryStateModel);\n  }\n\n  private eventIsNotRelatedToSearchbox(event: string) {\n    return event !== analyticsActionCauseList.searchboxSubmit.name && event !== analyticsActionCauseList.searchboxClear.name\n  }\n\n  private triggerChangeAnalyticsCustomData(type: string, metaObject: IChangeableAnalyticsMetaObject, event: IAnalyticsEvent, data?: any) {\n    var changeableAnalyticsDataObject: IChangeableAnalyticsDataObject = {\n      language: event.language,\n      originLevel1: event.originLevel1,\n      originLevel2: event.originLevel2,\n      originLevel3: event.originLevel3\n    };\n\n    // This is for backward compatibility. Before the analytics were using either numbered\n    // metas in metaDataAsNumber of later on named metas in metaDataAsString. Thus we still\n    // provide those properties in a deprecated way. Below we're moving any data that's put\n    // in them to the root.\n    (<any>metaObject)['metaDataAsString'] = {};\n    (<any>metaObject)['metaDataAsNumber'] = {};\n\n    var args: IChangeAnalyticsCustomDataEventArgs = _.extend({}, {\n      type: type,\n      metaObject: metaObject,\n      actionType: event.actionType,\n      actionCause: event.actionCause\n    }, changeableAnalyticsDataObject);\n    $$(this.rootElement).trigger(AnalyticsEvents.changeAnalyticsCustomData, args);\n\n    event.language = args.language;\n    event.originLevel1 = args.originLevel1;\n    event.originLevel2 = args.originLevel2;\n    event.originLevel3 = args.originLevel3;\n    event.customData = metaObject;\n\n    // This is for backward compatibility. Before the analytics were using either numbered\n    // metas in metaDataAsNumber of later on named metas in metaDataAsString. I'm now putting\n    // them all at the root, and if I encounter the older properties I move them to the top\n    // level after issuing a warning.\n\n    var metaDataAsString = event.customData['metaDataAsString'];\n    if (_.keys(metaDataAsString).length > 0) {\n      this.logger.warn('Using deprecated \\'metaDataAsString\\' key to log custom analytics data. Custom meta should now be put at the root of the object.');\n      _.extend(event.customData, metaDataAsString);\n    }\n    delete event.customData['metaDataAsString'];\n\n    var metaDataAsNumber = event.customData['metaDataAsNumber'];\n    if (_.keys(metaDataAsNumber).length > 0) {\n      this.logger.warn('Using deprecated \\'metaDataAsNumber\\' key to log custom analytics data. Custom meta should now be put at the root of the object.');\n      _.extend(event.customData, metaDataAsNumber);\n    }\n    delete event.customData['metaDataAsNumber'];\n  }\n\n  private merge<T extends IAnalyticsEvent>(first: IAnalyticsEvent, second: any): T {\n    return _.extend({}, first, second);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Analytics/LiveAnalyticsClient.ts\n **/","l":{"2":1,"3":1,"4":1,"6":1,"7":1,"8":1,"12":1,"13":1,"14":1,"15":1,"20":1,"21":1,"22":1,"24":1,"25":46,"26":46,"27":46,"28":46,"33":46,"35":46,"36":46,"37":46,"38":46,"39":46,"40":46,"43":1,"44":0,"47":1,"48":0,"51":1,"52":0,"55":1,"56":0,"57":0,"59":0,"60":0,"62":0,"65":1,"66":0,"67":0,"69":0,"70":0,"72":0,"75":1,"76":12,"77":12,"80":1,"81":4,"82":4,"85":1,"86":4,"87":4,"90":1,"91":2,"92":2,"95":1,"96":0,"99":1,"100":6,"101":1,"105":1,"106":1,"107":0,"108":0,"110":1,"111":1,"112":1,"116":1,"117":2,"118":1,"119":1,"120":1,"122":0,"125":1,"126":0,"127":0,"128":0,"129":0,"134":2,"135":2,"136":2,"137":2,"138":2,"139":2,"140":2,"142":2,"146":11,"147":11,"148":11,"149":0,"150":0,"152":11,"154":11,"155":11,"156":11,"157":11,"159":11,"163":11,"164":11,"169":1,"170":16,"171":6,"173":10,"177":1,"178":4,"179":4,"180":4,"181":4,"184":3,"185":3,"186":3,"187":3,"188":3,"189":3,"190":3,"191":3,"192":3,"193":3,"194":3,"196":3,"202":1,"203":20,"221":1,"222":15,"238":1,"239":3,"259":1,"260":2,"268":1,"269":21,"272":1,"273":22,"274":22,"275":22,"278":1,"279":14,"280":1,"281":1,"285":1,"286":21,"287":21,"288":21,"291":1,"292":21,"295":1,"296":16,"299":1,"300":20,"311":20,"312":20,"314":20,"320":20,"322":20,"323":20,"324":20,"325":20,"326":20,"333":20,"334":20,"335":0,"336":0,"338":20,"340":20,"341":20,"342":0,"343":0,"345":20,"348":1,"349":20,"351":1}},"src/ui/Analytics/PendingSearchEvent.ts":{"path":"src/ui/Analytics/PendingSearchEvent.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":76}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":41}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":35}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":67}},"5":{"start":{"line":9,"column":0},"end":{"line":9,"column":44}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":66}},"7":{"start":{"line":11,"column":0},"end":{"line":11,"column":39}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":67}},"9":{"start":{"line":13,"column":0},"end":{"line":13,"column":89}},"10":{"start":{"line":14,"column":0},"end":{"line":14,"column":78}},"11":{"start":{"line":15,"column":0},"end":{"line":15,"column":61}},"12":{"start":{"line":17,"column":0},"end":{"line":144,"column":1}},"13":{"start":{"line":25,"column":2},"end":{"line":34,"column":3}},"14":{"start":{"line":25,"column":21},"end":{"line":25,"column":38}},"15":{"start":{"line":25,"column":47},"end":{"line":25,"column":74}},"16":{"start":{"line":25,"column":83},"end":{"line":25,"column":116}},"17":{"start":{"line":25,"column":125},"end":{"line":25,"column":145}},"18":{"start":{"line":19,"column":10},"end":{"line":19,"column":56}},"19":{"start":{"line":20,"column":10},"end":{"line":20,"column":40}},"20":{"start":{"line":21,"column":12},"end":{"line":21,"column":30}},"21":{"start":{"line":22,"column":12},"end":{"line":22,"column":29}},"22":{"start":{"line":23,"column":12},"end":{"line":23,"column":46}},"23":{"start":{"line":26,"column":4},"end":{"line":26,"column":24}},"24":{"start":{"line":27,"column":4},"end":{"line":27,"column":28}},"25":{"start":{"line":28,"column":4},"end":{"line":28,"column":39}},"26":{"start":{"line":30,"column":4},"end":{"line":32,"column":6}},"27":{"start":{"line":31,"column":6},"end":{"line":31,"column":38}},"28":{"start":{"line":33,"column":4},"end":{"line":33,"column":55}},"29":{"start":{"line":36,"column":9},"end":{"line":38,"column":3}},"30":{"start":{"line":37,"column":4},"end":{"line":37,"column":48}},"31":{"start":{"line":40,"column":9},"end":{"line":42,"column":3}},"32":{"start":{"line":41,"column":4},"end":{"line":41,"column":47}},"33":{"start":{"line":44,"column":9},"end":{"line":47,"column":3}},"34":{"start":{"line":45,"column":4},"end":{"line":45,"column":25}},"35":{"start":{"line":46,"column":4},"end":{"line":46,"column":26}},"36":{"start":{"line":49,"column":12},"end":{"line":86,"column":3}},"37":{"start":{"line":49,"column":2},"end":{"line":86,"column":3}},"38":{"start":{"line":50,"column":4},"end":{"line":50,"column":33}},"39":{"start":{"line":51,"column":4},"end":{"line":51,"column":34}},"40":{"start":{"line":58,"column":4},"end":{"line":58,"column":43}},"41":{"start":{"line":61,"column":4},"end":{"line":61,"column":33}},"42":{"start":{"line":62,"column":4},"end":{"line":62,"column":42}},"43":{"start":{"line":63,"column":4},"end":{"line":63,"column":87}},"44":{"start":{"line":64,"column":4},"end":{"line":64,"column":35}},"45":{"start":{"line":66,"column":4},"end":{"line":66,"column":70}},"46":{"start":{"line":67,"column":4},"end":{"line":67,"column":35}},"47":{"start":{"line":69,"column":4},"end":{"line":85,"column":6}},"48":{"start":{"line":70,"column":6},"end":{"line":70,"column":34}},"49":{"start":{"line":71,"column":6},"end":{"line":71,"column":35}},"50":{"start":{"line":72,"column":6},"end":{"line":78,"column":7}},"51":{"start":{"line":73,"column":8},"end":{"line":73,"column":79}},"52":{"start":{"line":74,"column":8},"end":{"line":74,"column":85}},"53":{"start":{"line":75,"column":8},"end":{"line":75,"column":44}},"54":{"start":{"line":76,"column":8},"end":{"line":76,"column":40}},"55":{"start":{"line":77,"column":8},"end":{"line":77,"column":28}},"56":{"start":{"line":80,"column":6},"end":{"line":80,"column":63}},"57":{"start":{"line":81,"column":6},"end":{"line":81,"column":43}},"58":{"start":{"line":82,"column":6},"end":{"line":84,"column":7}},"59":{"start":{"line":83,"column":8},"end":{"line":83,"column":21}},"60":{"start":{"line":88,"column":9},"end":{"line":94,"column":3}},"61":{"start":{"line":89,"column":4},"end":{"line":93,"column":5}},"62":{"start":{"line":90,"column":6},"end":{"line":90,"column":63}},"63":{"start":{"line":91,"column":6},"end":{"line":91,"column":72}},"64":{"start":{"line":92,"column":6},"end":{"line":92,"column":26}},"65":{"start":{"line":96,"column":10},"end":{"line":112,"column":3}},"66":{"start":{"line":96,"column":2},"end":{"line":112,"column":3}},"67":{"start":{"line":97,"column":4},"end":{"line":111,"column":5}},"68":{"start":{"line":98,"column":6},"end":{"line":98,"column":27}},"69":{"start":{"line":99,"column":6},"end":{"line":99,"column":27}},"70":{"start":{"line":100,"column":6},"end":{"line":100,"column":68}},"71":{"start":{"line":102,"column":6},"end":{"line":110,"column":9}},"72":{"start":{"line":103,"column":8},"end":{"line":105,"column":9}},"73":{"start":{"line":104,"column":10},"end":{"line":104,"column":60}},"74":{"start":{"line":106,"column":8},"end":{"line":108,"column":11}},"75":{"start":{"line":107,"column":10},"end":{"line":107,"column":74}},"76":{"start":{"line":109,"column":8},"end":{"line":109,"column":122}},"77":{"start":{"line":114,"column":10},"end":{"line":143,"column":3}},"78":{"start":{"line":115,"column":4},"end":{"line":115,"column":31}},"79":{"start":{"line":116,"column":4},"end":{"line":116,"column":35}},"80":{"start":{"line":117,"column":4},"end":{"line":117,"column":25}},"81":{"start":{"line":118,"column":4},"end":{"line":118,"column":32}},"82":{"start":{"line":120,"column":4},"end":{"line":120,"column":101}},"83":{"start":{"line":121,"column":4},"end":{"line":121,"column":54}},"84":{"start":{"line":122,"column":4},"end":{"line":122,"column":93}},"85":{"start":{"line":123,"column":4},"end":{"line":123,"column":150}},"86":{"start":{"line":124,"column":4},"end":{"line":124,"column":113}},"87":{"start":{"line":125,"column":4},"end":{"line":125,"column":58}},"88":{"start":{"line":126,"column":4},"end":{"line":126,"column":47}},"89":{"start":{"line":127,"column":4},"end":{"line":127,"column":52}},"90":{"start":{"line":128,"column":4},"end":{"line":128,"column":58}},"91":{"start":{"line":129,"column":4},"end":{"line":129,"column":53}},"92":{"start":{"line":130,"column":4},"end":{"line":130,"column":73}},"93":{"start":{"line":131,"column":4},"end":{"line":131,"column":55}},"94":{"start":{"line":132,"column":4},"end":{"line":132,"column":56}},"95":{"start":{"line":133,"column":4},"end":{"line":133,"column":54}},"96":{"start":{"line":138,"column":4},"end":{"line":142,"column":5}},"97":{"start":{"line":139,"column":6},"end":{"line":141,"column":8}},"98":{"start":{"line":140,"column":8},"end":{"line":140,"column":57}},"99":{"start":{"line":144,"column":0},"end":{"line":144,"column":1}},"100":{"start":{"line":17,"column":13},"end":{"line":144,"column":1}}},"fnMap":{"1":{"name":"(anonymous_2211)","line":17,"loc":{"start":{"line":17,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"PendingSearchEvent","line":25,"loc":{"start":{"line":25,"column":2},"end":{"line":25,"column":145}}},"3":{"name":"(anonymous_2213)","line":30,"loc":{"start":{"line":30,"column":19},"end":{"line":30,"column":58}}},"4":{"name":"(anonymous_2214)","line":36,"loc":{"start":{"line":36,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_2215)","line":40,"loc":{"start":{"line":40,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_2216)","line":44,"loc":{"start":{"line":44,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_2217)","line":49,"loc":{"start":{"line":49,"column":2},"end":{"line":49,"column":69}}},"8":{"name":"(anonymous_2218)","line":69,"loc":{"start":{"line":69,"column":22},"end":{"line":69,"column":50}}},"9":{"name":"(anonymous_2219)","line":79,"loc":{"start":{"line":79,"column":15},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_2220)","line":88,"loc":{"start":{"line":88,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_2221)","line":96,"loc":{"start":{"line":96,"column":2},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_2222)","line":102,"loc":{"start":{"line":102,"column":18},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_2223)","line":106,"loc":{"start":{"line":106,"column":55},"end":{"line":106,"column":81}}},"14":{"name":"(anonymous_2224)","line":114,"loc":{"start":{"line":114,"column":2},"end":{"line":114,"column":129}}},"15":{"name":"(anonymous_2225)","line":139,"loc":{"start":{"line":139,"column":28},"end":{"line":139,"column":55}}}},"branchMap":{"1":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":6},"end":{"line":72,"column":5}},{"start":{"line":72,"column":6},"end":{"line":72,"column":5}}]},"2":{"line":72,"type":"binary-expr","locations":[{"start":{"line":72,"column":10},"end":{"line":72,"column":48}},{"start":{"line":72,"column":52},"end":{"line":72,"column":136}}]},"3":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":6},"end":{"line":82,"column":5}},{"start":{"line":82,"column":6},"end":{"line":82,"column":5}}]},"4":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":4},"end":{"line":89,"column":3}},{"start":{"line":89,"column":4},"end":{"line":89,"column":3}}]},"5":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":4},"end":{"line":97,"column":3}},{"start":{"line":97,"column":4},"end":{"line":97,"column":3}}]},"6":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":8},"end":{"line":103,"column":7}},{"start":{"line":103,"column":8},"end":{"line":103,"column":7}}]},"7":{"line":122,"type":"binary-expr","locations":[{"start":{"line":122,"column":35},"end":{"line":122,"column":63}},{"start":{"line":122,"column":67},"end":{"line":122,"column":92}}]},"8":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":38},"end":{"line":123,"column":69}},{"start":{"line":123,"column":74},"end":{"line":123,"column":148}}]},"9":{"line":123,"type":"cond-expr","locations":[{"start":{"line":123,"column":115},"end":{"line":123,"column":136}},{"start":{"line":123,"column":139},"end":{"line":123,"column":148}}]},"10":{"line":124,"type":"binary-expr","locations":[{"start":{"line":124,"column":31},"end":{"line":124,"column":55}},{"start":{"line":124,"column":59},"end":{"line":124,"column":99}},{"start":{"line":124,"column":103},"end":{"line":124,"column":112}}]},"11":{"line":125,"type":"binary-expr","locations":[{"start":{"line":125,"column":28},"end":{"line":125,"column":40}},{"start":{"line":125,"column":44},"end":{"line":125,"column":51}},{"start":{"line":125,"column":55},"end":{"line":125,"column":57}}]},"12":{"line":126,"type":"binary-expr","locations":[{"start":{"line":126,"column":32},"end":{"line":126,"column":40}},{"start":{"line":126,"column":44},"end":{"line":126,"column":46}}]},"13":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":4},"end":{"line":138,"column":3}},{"start":{"line":138,"column":4},"end":{"line":138,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":18,"13":1,"14":17,"15":17,"16":17,"17":17,"18":17,"19":17,"20":17,"21":17,"22":17,"23":17,"24":17,"25":17,"26":17,"27":24,"28":17,"29":1,"30":1,"31":1,"32":1,"33":1,"34":2,"35":2,"36":1,"37":22,"38":22,"39":22,"40":22,"41":22,"42":22,"43":22,"44":22,"45":22,"46":22,"47":22,"48":21,"49":21,"50":21,"51":21,"52":21,"53":21,"54":21,"55":21,"56":22,"57":22,"58":22,"59":11,"60":1,"61":24,"62":14,"63":14,"64":14,"65":1,"66":11,"67":11,"68":11,"69":11,"70":11,"71":11,"72":11,"73":11,"74":11,"75":21,"76":11,"77":1,"78":21,"79":21,"80":21,"81":21,"82":21,"83":21,"84":21,"85":21,"86":21,"87":21,"88":21,"89":21,"90":21,"91":21,"92":21,"93":21,"94":21,"95":21,"96":21,"97":1,"98":2,"99":1,"100":1},"b":{"1":[21,0],"2":[21,0],"3":[11,11],"4":[14,10],"5":[11,0],"6":[11,0],"7":[21,0],"8":[21,0],"9":[0,0],"10":[21,0,0],"11":[21,20,0],"12":[21,19],"13":[1,20]},"f":{"1":1,"2":17,"3":24,"4":1,"5":1,"6":2,"7":22,"8":21,"9":22,"10":24,"11":11,"12":11,"13":21,"14":21,"15":2},"code":"import {IDuringQueryEventArgs, QueryEvents} from '../../events/QueryEvents';\nimport {IQueryResults} from '../../rest/QueryResults';\nimport {IQuery} from '../../rest/Query';\nimport {ISearchEvent} from '../../rest/SearchEvent';\nimport {AnalyticsEndpoint} from '../../rest/AnalyticsEndpoint';\nimport {Assert} from '../../misc/Assert';\nimport {$$} from '../../utils/Dom';\nimport {SearchInterface} from '../SearchInterface/SearchInterface';\nimport {Component} from '../Base/Component';\nimport {QueryController} from '../../controllers/QueryController';\nimport {Defer} from '../../misc/Defer';\nimport {APIAnalyticsBuilder} from '../../rest/APIAnalyticsBuilder';\nimport {IAnalyticsSearchEventsArgs, AnalyticsEvents} from '../../events/AnalyticsEvents';\nimport {analyticsActionCauseList} from '../Analytics/AnalyticsActionListMeta';\nimport {QueryStateModel} from '../../models/QueryStateModel';\n\nexport class PendingSearchEvent {\n  private handler: (evt: Event, arg: IDuringQueryEventArgs) => void;\n  private searchPromises: Promise<IQueryResults>[] = [];\n  private results: IQueryResults[] = [];\n  protected cancelled = false;\n  protected finished = false;\n  protected searchEvents: ISearchEvent[] = [];\n\n  constructor(public root: HTMLElement, public endpoint: AnalyticsEndpoint, public templateSearchEvent: ISearchEvent, public sendToCloud: boolean) {\n    Assert.exists(root);\n    Assert.exists(endpoint);\n    Assert.exists(templateSearchEvent);\n\n    this.handler = (evt: Event, arg: IDuringQueryEventArgs) => {\n      this.handleDuringQuery(evt, arg)\n    };\n    $$(root).on(QueryEvents.duringQuery, this.handler);\n  }\n\n  public getEventCause() {\n    return this.templateSearchEvent.actionCause;\n  }\n\n  public getEventMeta() {\n    return this.templateSearchEvent.customData;\n  }\n\n  public cancel() {\n    this.stopRecording();\n    this.cancelled = true;\n  }\n\n  protected handleDuringQuery(evt: Event, args: IDuringQueryEventArgs) {\n    Assert.check(!this.finished);\n    Assert.check(!this.cancelled);\n\n    // When synchronizing multiple search interfaces under a single search event\n    // (think Salesforce boxes), we need to collect all search events and send them\n    // in one single batch. So we gather all events until we idle out and then we\n    // monitor those before sending the data.\n\n    this.searchPromises.push(args.promise);\n\n    // TODO: Maybe a better way to grab the search interface?\n    let eventTarget: HTMLElement;\n    eventTarget = <HTMLElement>evt.target;\n    let searchInterface = <SearchInterface>Component.get(eventTarget, SearchInterface);\n    Assert.exists(searchInterface);\n    // TODO: Maybe a better way to grab the query controller?\n    let queryController = Component.get(eventTarget, QueryController);\n    Assert.exists(queryController);\n\n    args.promise.then((queryResults: IQueryResults) => {\n      Assert.exists(queryResults);\n      Assert.check(!this.finished);\n      if (queryResults._reusedSearchUid !== true || this.templateSearchEvent.actionCause == analyticsActionCauseList.recommendation.name) {\n        let searchEvent = <ISearchEvent>_.extend({}, this.templateSearchEvent);\n        this.fillSearchEvent(searchEvent, searchInterface, args.query, queryResults);\n        this.searchEvents.push(searchEvent);\n        this.results.push(queryResults);\n        return queryResults;\n      }\n    }).finally(() => {\n      let index = _.indexOf(this.searchPromises, args.promise);\n      this.searchPromises.splice(index, 1);\n      if (this.searchPromises.length == 0) {\n        this.flush();\n      }\n    })\n  }\n\n  public stopRecording() {\n    if (this.handler) {\n      $$(this.root).off(QueryEvents.duringQuery, this.handler);\n      $$(this.root).off(QueryEvents.duringFetchMoreQuery, this.handler);\n      this.handler = null;\n    }\n  }\n\n  private flush() {\n    if (!this.cancelled) {\n      this.stopRecording();\n      this.finished = true;\n      Assert.check(this.searchEvents.length == this.results.length);\n\n      Defer.defer(() => {\n        if (this.sendToCloud) {\n          this.endpoint.sendSearchEvents(this.searchEvents);\n        }\n        let apiSearchEvents = _.map(this.searchEvents, (searchEvent: ISearchEvent) => {\n          return APIAnalyticsBuilder.convertSearchEventToAPI(searchEvent);\n        });\n        $$(this.root).trigger(AnalyticsEvents.searchEvent, <IAnalyticsSearchEventsArgs>{ searchEvents: apiSearchEvents });\n      });\n    }\n  }\n\n  private fillSearchEvent(searchEvent: ISearchEvent, searchInterface: SearchInterface, query: IQuery, queryResults: IQueryResults) {\n    Assert.exists(searchEvent);\n    Assert.exists(searchInterface);\n    Assert.exists(query);\n    Assert.exists(queryResults);\n\n    let currentQuery = <string>searchInterface.queryStateModel.get(QueryStateModel.attributesEnum.q);\n    searchEvent.queryPipeline = queryResults.pipeline;\n    searchEvent.splitTestRunName = searchEvent.splitTestRunName || queryResults.splitTestRun;\n    searchEvent.splitTestRunVersion = searchEvent.splitTestRunVersion || (queryResults.splitTestRun != undefined ? queryResults.pipeline : undefined);\n    searchEvent.originLevel2 = searchEvent.originLevel2 || searchInterface.queryStateModel.get('t') || 'default';\n    searchEvent.queryText = currentQuery || query.q || ''; // do not log the query sent to the server if possible; it may contain added syntax depending on options\n    searchEvent.advancedQuery = query.aq || '';\n    searchEvent.didYouMean = query.enableDidYouMean;\n    searchEvent.numberOfResults = queryResults.totalCount;\n    searchEvent.responseTime = queryResults.duration;\n    searchEvent.pageNumber = (query.firstResult / query.numberOfResults);\n    searchEvent.resultsPerPage = query.numberOfResults;\n    searchEvent.searchQueryUid = queryResults.searchUid;\n    searchEvent.queryPipeline = queryResults.pipeline;\n\n    // The context_${key} format is important for the Analytics backend\n    // This is what they use to recognize a custom data that will be used internally by other coveo's service.\n    // In this case, Reveal will be the consumer of this information.\n    if (query.context != undefined) {\n      _.each(query.context, (value: string, key: string) => {\n        searchEvent.customData[`context_${key}`] = value;\n      })\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Analytics/PendingSearchEvent.ts\n **/","l":{"1":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"17":18,"19":17,"20":17,"21":17,"22":17,"23":17,"25":17,"26":17,"27":17,"28":17,"30":17,"31":24,"33":17,"36":1,"37":1,"40":1,"41":1,"44":1,"45":2,"46":2,"49":22,"50":22,"51":22,"58":22,"61":22,"62":22,"63":22,"64":22,"66":22,"67":22,"69":22,"70":21,"71":21,"72":21,"73":21,"74":21,"75":21,"76":21,"77":21,"80":22,"81":22,"82":22,"83":11,"88":1,"89":24,"90":14,"91":14,"92":14,"96":11,"97":11,"98":11,"99":11,"100":11,"102":11,"103":11,"104":11,"106":11,"107":21,"109":11,"114":1,"115":21,"116":21,"117":21,"118":21,"120":21,"121":21,"122":21,"123":21,"124":21,"125":21,"126":21,"127":21,"128":21,"129":21,"130":21,"131":21,"132":21,"133":21,"138":21,"139":1,"140":2,"144":1}},"src/rest/APIAnalyticsBuilder.ts":{"path":"src/rest/APIAnalyticsBuilder.ts","statementMap":{"1":{"start":{"line":8,"column":0},"end":{"line":72,"column":1}},"2":{"start":{"line":9,"column":16},"end":{"line":31,"column":3}},"3":{"start":{"line":10,"column":4},"end":{"line":29,"column":5}},"4":{"start":{"line":30,"column":4},"end":{"line":30,"column":26}},"5":{"start":{"line":33,"column":16},"end":{"line":56,"column":3}},"6":{"start":{"line":34,"column":4},"end":{"line":54,"column":5}},"7":{"start":{"line":55,"column":4},"end":{"line":55,"column":27}},"8":{"start":{"line":58,"column":16},"end":{"line":71,"column":3}},"9":{"start":{"line":60,"column":4},"end":{"line":69,"column":5}},"10":{"start":{"line":70,"column":4},"end":{"line":70,"column":26}},"11":{"start":{"line":72,"column":0},"end":{"line":72,"column":1}},"12":{"start":{"line":8,"column":13},"end":{"line":72,"column":1}}},"fnMap":{"1":{"name":"(anonymous_2227)","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_2229)","line":9,"loc":{"start":{"line":9,"column":2},"end":{"line":9,"column":65}}},"3":{"name":"(anonymous_2230)","line":33,"loc":{"start":{"line":33,"column":2},"end":{"line":33,"column":66}}},"4":{"name":"(anonymous_2231)","line":58,"loc":{"start":{"line":58,"column":2},"end":{"line":58,"column":65}}}},"branchMap":{},"s":{"1":2,"2":1,"3":21,"4":21,"5":1,"6":3,"7":3,"8":1,"9":2,"10":2,"11":1,"12":1},"b":{},"f":{"1":1,"2":21,"3":3,"4":2},"code":"import {ISearchEvent} from './SearchEvent';\nimport {IAPISearchEvent} from './APISearchEvent';\nimport {IClickEvent} from './ClickEvent';\nimport {IAPIDocumentViewEvent} from './APIDocumentViewEvent';\nimport {IAPICustomEvent} from './APICustomEvent';\nimport {ICustomEvent} from './CustomEvent';\n\nexport class APIAnalyticsBuilder {\n  public static convertSearchEventToAPI(searchEvent: ISearchEvent) {\n    var apiSearchEvent: IAPISearchEvent = {\n      advancedQuery: searchEvent.advancedQuery,\n      customMetadatas: searchEvent.customData,\n      device: searchEvent.device,\n      didYouMean: searchEvent.didYouMean,\n      language: searchEvent.language,\n      pageNumber: searchEvent.pageNumber,\n      queryText: searchEvent.queryText,\n      responseTime: searchEvent.responseTime,\n      numberOfResults: searchEvent.numberOfResults,\n      resultsPerPage: searchEvent.resultsPerPage,\n      searchHub: searchEvent.originLevel1,\n      searchInterface: searchEvent.originLevel2,\n      searchQueryUid: searchEvent.searchQueryUid,\n      type: searchEvent.actionType,\n      actionCause: searchEvent.actionCause,\n      queryPipeline: searchEvent.queryPipeline,\n      splitTestRunName: searchEvent.splitTestRunName,\n      splitTestRunVersion: searchEvent.splitTestRunVersion\n    }\n    return apiSearchEvent;\n  }\n\n  public static convertDocumentViewToAPI(documentView: IClickEvent): IAPIDocumentViewEvent {\n    var apiDocumentView: IAPIDocumentViewEvent = {\n      collectionName: documentView.collectionName,\n      device: documentView.device,\n      documentPosition: documentView.documentPosition,\n      title: documentView.documentTitle,\n      documentUrl: documentView.documentUrl,\n      documentUri: documentView.documentUri,\n      documentUriHash: documentView.documentUriHash,\n      language: documentView.language,\n      responseTime: documentView.responseTime,\n      searchHub: documentView.originLevel1,\n      searchInterface: documentView.originLevel2,\n      searchQueryUid: documentView.searchQueryUid,\n      sourceName: documentView.sourceName,\n      viewMethod: documentView.viewMethod,\n      customMetadatas: documentView.customData,\n      actionCause: documentView.actionCause,\n      queryPipeline: documentView.queryPipeline,\n      splitTestRunName: documentView.splitTestRunName,\n      splitTestRunVersion: documentView.splitTestRunVersion\n    }\n    return apiDocumentView;\n  }\n\n  public static convertCustomEventToAPI(customEvent: ICustomEvent): IAPICustomEvent {\n\n    var apiCustomEvent: IAPICustomEvent = {\n      actionCause: customEvent.actionCause,\n      actionType: customEvent.actionType,\n      device: customEvent.device,\n      language: customEvent.language,\n      responseTime: customEvent.responseTime,\n      searchHub: customEvent.originLevel1,\n      searchInterface: customEvent.originLevel2,\n      customMetadatas: customEvent.customData\n    }\n    return apiCustomEvent;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/rest/APIAnalyticsBuilder.ts\n **/","l":{"8":2,"9":1,"10":21,"30":21,"33":1,"34":3,"55":3,"58":1,"60":2,"70":2,"72":1}},"src/ui/Analytics/PendingSearchAsYouTypeSearchEvent.ts":{"path":"src/ui/Analytics/PendingSearchAsYouTypeSearchEvent.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":56}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":71}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":33}},"5":{"start":{"line":10,"column":0},"end":{"line":97,"column":1}},"6":{"start":{"line":10,"column":55},"end":{"line":10,"column":73}},"7":{"start":{"line":17,"column":2},"end":{"line":24,"column":3}},"8":{"start":{"line":18,"column":4},"end":{"line":18,"column":60}},"9":{"start":{"line":17,"column":21},"end":{"line":17,"column":38}},"10":{"start":{"line":17,"column":47},"end":{"line":17,"column":74}},"11":{"start":{"line":17,"column":83},"end":{"line":17,"column":116}},"12":{"start":{"line":17,"column":125},"end":{"line":17,"column":136}},"13":{"start":{"line":11,"column":9},"end":{"line":11,"column":35}},"14":{"start":{"line":14,"column":10},"end":{"line":14,"column":29}},"15":{"start":{"line":19,"column":4},"end":{"line":21,"column":5}},"16":{"start":{"line":20,"column":6},"end":{"line":20,"column":28}},"17":{"start":{"line":22,"column":4},"end":{"line":22,"column":70}},"18":{"start":{"line":23,"column":4},"end":{"line":23,"column":68}},"19":{"start":{"line":23,"column":49},"end":{"line":23,"column":66}},"20":{"start":{"line":26,"column":12},"end":{"line":39,"column":3}},"21":{"start":{"line":26,"column":2},"end":{"line":39,"column":3}},"22":{"start":{"line":27,"column":4},"end":{"line":27,"column":27}},"23":{"start":{"line":28,"column":4},"end":{"line":38,"column":6}},"24":{"start":{"line":29,"column":6},"end":{"line":34,"column":7}},"25":{"start":{"line":30,"column":8},"end":{"line":33,"column":9}},"26":{"start":{"line":31,"column":10},"end":{"line":31,"column":24}},"27":{"start":{"line":32,"column":10},"end":{"line":32,"column":47}},"28":{"start":{"line":35,"column":6},"end":{"line":37,"column":34}},"29":{"start":{"line":36,"column":8},"end":{"line":36,"column":30}},"30":{"start":{"line":41,"column":9},"end":{"line":45,"column":3}},"31":{"start":{"line":42,"column":4},"end":{"line":44,"column":5}},"32":{"start":{"line":43,"column":6},"end":{"line":43,"column":28}},"33":{"start":{"line":47,"column":9},"end":{"line":55,"column":3}},"34":{"start":{"line":48,"column":4},"end":{"line":50,"column":6}},"35":{"start":{"line":49,"column":6},"end":{"line":49,"column":44}},"36":{"start":{"line":51,"column":4},"end":{"line":53,"column":5}},"37":{"start":{"line":52,"column":6},"end":{"line":52,"column":47}},"38":{"start":{"line":54,"column":4},"end":{"line":54,"column":55}},"39":{"start":{"line":57,"column":9},"end":{"line":64,"column":3}},"40":{"start":{"line":58,"column":4},"end":{"line":61,"column":6}},"41":{"start":{"line":59,"column":6},"end":{"line":59,"column":46}},"42":{"start":{"line":60,"column":6},"end":{"line":60,"column":45}},"43":{"start":{"line":62,"column":4},"end":{"line":62,"column":57}},"44":{"start":{"line":63,"column":4},"end":{"line":63,"column":56}},"45":{"start":{"line":66,"column":9},"end":{"line":72,"column":3}},"46":{"start":{"line":67,"column":4},"end":{"line":67,"column":26}},"47":{"start":{"line":68,"column":4},"end":{"line":71,"column":5}},"48":{"start":{"line":69,"column":6},"end":{"line":69,"column":75}},"49":{"start":{"line":70,"column":6},"end":{"line":70,"column":43}},"50":{"start":{"line":74,"column":10},"end":{"line":76,"column":3}},"51":{"start":{"line":75,"column":4},"end":{"line":75,"column":73}},"52":{"start":{"line":78,"column":10},"end":{"line":83,"column":3}},"53":{"start":{"line":79,"column":4},"end":{"line":82,"column":5}},"54":{"start":{"line":80,"column":6},"end":{"line":80,"column":29}},"55":{"start":{"line":81,"column":6},"end":{"line":81,"column":26}},"56":{"start":{"line":85,"column":10},"end":{"line":96,"column":3}},"57":{"start":{"line":86,"column":4},"end":{"line":95,"column":5}},"58":{"start":{"line":87,"column":6},"end":{"line":92,"column":7}},"59":{"start":{"line":88,"column":8},"end":{"line":88,"column":22}},"60":{"start":{"line":89,"column":8},"end":{"line":89,"column":20}},"61":{"start":{"line":91,"column":8},"end":{"line":91,"column":21}},"62":{"start":{"line":94,"column":6},"end":{"line":94,"column":18}},"63":{"start":{"line":97,"column":0},"end":{"line":97,"column":1}},"64":{"start":{"line":10,"column":13},"end":{"line":97,"column":1}}},"fnMap":{"1":{"name":"(anonymous_2235)","line":10,"loc":{"start":{"line":10,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"PendingSearchAsYouTypeSearchEvent","line":17,"loc":{"start":{"line":17,"column":2},"end":{"line":17,"column":136}}},"3":{"name":"(anonymous_2237)","line":19,"loc":{"start":{"line":19,"column":31},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_2238)","line":23,"loc":{"start":{"line":23,"column":43},"end":{"line":23,"column":48}}},"5":{"name":"(anonymous_2239)","line":26,"loc":{"start":{"line":26,"column":2},"end":{"line":26,"column":67}}},"6":{"name":"(anonymous_2240)","line":28,"loc":{"start":{"line":28,"column":37},"end":{"line":28,"column":45}}},"7":{"name":"(anonymous_2241)","line":29,"loc":{"start":{"line":29,"column":28},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_2242)","line":35,"loc":{"start":{"line":35,"column":14},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_2243)","line":41,"loc":{"start":{"line":41,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_2244)","line":47,"loc":{"start":{"line":47,"column":2},"end":{"line":47,"column":51}}},"11":{"name":"(anonymous_2245)","line":48,"loc":{"start":{"line":48,"column":30},"end":{"line":48,"column":56}}},"12":{"name":"(anonymous_2246)","line":57,"loc":{"start":{"line":57,"column":2},"end":{"line":57,"column":57}}},"13":{"name":"(anonymous_2247)","line":58,"loc":{"start":{"line":58,"column":30},"end":{"line":58,"column":56}}},"14":{"name":"(anonymous_2248)","line":66,"loc":{"start":{"line":66,"column":2},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_2249)","line":74,"loc":{"start":{"line":74,"column":2},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_2250)","line":78,"loc":{"start":{"line":78,"column":2},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_2251)","line":85,"loc":{"start":{"line":85,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":8},"end":{"line":30,"column":7}},{"start":{"line":30,"column":8},"end":{"line":30,"column":7}}]},"2":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":4},"end":{"line":42,"column":3}},{"start":{"line":42,"column":4},"end":{"line":42,"column":3}}]},"3":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":4},"end":{"line":51,"column":3}},{"start":{"line":51,"column":4},"end":{"line":51,"column":3}}]},"4":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":4},"end":{"line":68,"column":3}},{"start":{"line":68,"column":4},"end":{"line":68,"column":3}}]},"5":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":4},"end":{"line":79,"column":3}},{"start":{"line":79,"column":4},"end":{"line":79,"column":3}}]},"6":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":4},"end":{"line":86,"column":3}},{"start":{"line":86,"column":4},"end":{"line":86,"column":3}}]},"7":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":6},"end":{"line":87,"column":5}},{"start":{"line":87,"column":6},"end":{"line":87,"column":5}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":7,"6":1,"7":1,"8":6,"9":6,"10":6,"11":6,"12":6,"13":6,"14":6,"15":6,"16":0,"17":6,"18":6,"19":0,"20":1,"21":4,"22":4,"23":4,"24":4,"25":2,"26":2,"27":2,"28":4,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":0,"36":1,"37":1,"38":1,"39":1,"40":1,"41":0,"42":0,"43":1,"44":1,"45":1,"46":3,"47":3,"48":3,"49":3,"50":1,"51":0,"52":1,"53":0,"54":0,"55":0,"56":1,"57":2,"58":2,"59":0,"60":0,"61":2,"62":0,"63":1,"64":1},"b":{"1":[2,0],"2":[1,0],"3":[1,0],"4":[3,0],"5":[0,0],"6":[2,0],"7":[0,2]},"f":{"1":1,"2":6,"3":0,"4":0,"5":4,"6":4,"7":2,"8":1,"9":1,"10":1,"11":0,"12":1,"13":0,"14":3,"15":0,"16":0,"17":2},"code":"import {PendingSearchEvent} from './PendingSearchEvent';\nimport {AnalyticsEndpoint} from '../../rest/AnalyticsEndpoint';\nimport {$$} from '../../utils/Dom';\nimport {InitializationEvents} from '../../events/InitializationEvents';\nimport {ISearchEvent} from '../../rest/SearchEvent';\nimport {IDuringQueryEventArgs} from '../../events/QueryEvents';\nimport {IAnalyticsActionCause} from './AnalyticsActionListMeta';\nimport _ = require('underscore');\n\nexport class PendingSearchAsYouTypeSearchEvent extends PendingSearchEvent {\n  public delayBeforeSending = 5000;\n  public beforeResolve: Promise<PendingSearchAsYouTypeSearchEvent>;\n  private beforeUnloadHandler: (...args: any[]) => void;\n  private armBatchDelay = 50;\n  private toSendRightNow: () => void;\n\n  constructor(public root: HTMLElement, public endpoint: AnalyticsEndpoint, public templateSearchEvent: ISearchEvent, public sendToCloud) {\n    super(root, endpoint, templateSearchEvent, sendToCloud);\n    this.beforeUnloadHandler = () => {\n      this.onWindowUnload();\n    }\n    window.addEventListener('beforeunload', this.beforeUnloadHandler);\n    $$(root).on(InitializationEvents.nuke, () => this.handleNuke());\n  }\n\n  protected handleDuringQuery(e: Event, args: IDuringQueryEventArgs) {\n    var event = _.clone(e);\n    this.beforeResolve = new Promise((resolve) => {\n      this.toSendRightNow = () => {\n        if (!this.isCancelledOrFinished()) {\n          resolve(this);\n          super.handleDuringQuery(event, args);\n        }\n      }\n      _.delay(() => {\n        this.toSendRightNow();\n      }, this.delayBeforeSending);\n    })\n  }\n\n  public sendRightNow() {\n    if (this.toSendRightNow) {\n      this.toSendRightNow();\n    }\n  }\n\n  public modifyCustomData(key: string, newData: any) {\n    _.each(this.searchEvents, (searchEvent: ISearchEvent) => {\n      searchEvent.customData[key] = newData;\n    })\n    if (!this.templateSearchEvent.customData) {\n      this.templateSearchEvent.customData = {};\n    }\n    this.templateSearchEvent.customData[key] = newData;\n  }\n\n  public modifyEventCause(newCause: IAnalyticsActionCause) {\n    _.each(this.searchEvents, (searchEvent: ISearchEvent) => {\n      searchEvent.actionCause = newCause.name;\n      searchEvent.actionType = newCause.type;\n    })\n    this.templateSearchEvent.actionCause = newCause.name;\n    this.templateSearchEvent.actionType = newCause.type;\n  }\n\n  public stopRecording() {\n    super.stopRecording();\n    if (this.beforeUnloadHandler) {\n      window.removeEventListener('beforeunload', this.beforeUnloadHandler);\n      this.beforeUnloadHandler = undefined;\n    }\n  }\n\n  private handleNuke() {\n    window.removeEventListener('beforeunload', this.beforeUnloadHandler);\n  }\n\n  private onWindowUnload() {\n    if (!this.isCancelledOrFinished()) {\n      this.armBatchDelay = 0;\n      this.sendRightNow();\n    }\n  }\n\n  private isCancelledOrFinished() {\n    if (!this.cancelled) {\n      if (this.finished) {\n        this.cancel();\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      return true;\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Analytics/PendingSearchAsYouTypeSearchEvent.ts\n **/","l":{"1":1,"3":1,"4":1,"8":1,"10":7,"11":6,"14":6,"17":6,"18":6,"19":6,"20":0,"22":6,"23":6,"26":4,"27":4,"28":4,"29":4,"30":2,"31":2,"32":2,"35":4,"36":1,"41":1,"42":1,"43":1,"47":1,"48":1,"49":0,"51":1,"52":1,"54":1,"57":1,"58":1,"59":0,"60":0,"62":1,"63":1,"66":1,"67":3,"68":3,"69":3,"70":3,"74":1,"75":0,"78":1,"79":0,"80":0,"81":0,"85":1,"86":2,"87":2,"88":0,"89":0,"91":2,"94":0,"97":1}},"src/ui/Analytics/MultiAnalyticsClient.ts":{"path":"src/ui/Analytics/MultiAnalyticsClient.ts","statementMap":{"1":{"start":{"line":7,"column":0},"end":{"line":80,"column":1}},"2":{"start":{"line":10,"column":2},"end":{"line":11,"column":3}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":63}},"4":{"start":{"line":10,"column":22},"end":{"line":10,"column":63}},"5":{"start":{"line":8,"column":9},"end":{"line":8,"column":30}},"6":{"start":{"line":13,"column":9},"end":{"line":15,"column":3}},"7":{"start":{"line":14,"column":4},"end":{"line":14,"column":111}},"8":{"start":{"line":14,"column":80},"end":{"line":14,"column":109}},"9":{"start":{"line":17,"column":9},"end":{"line":19,"column":3}},"10":{"start":{"line":18,"column":4},"end":{"line":18,"column":185}},"11":{"start":{"line":18,"column":86},"end":{"line":18,"column":124}},"12":{"start":{"line":18,"column":158},"end":{"line":18,"column":183}},"13":{"start":{"line":21,"column":9},"end":{"line":23,"column":3}},"14":{"start":{"line":22,"column":4},"end":{"line":22,"column":198}},"15":{"start":{"line":22,"column":86},"end":{"line":22,"column":123}},"16":{"start":{"line":22,"column":172},"end":{"line":22,"column":196}},"17":{"start":{"line":25,"column":9},"end":{"line":27,"column":3}},"18":{"start":{"line":26,"column":4},"end":{"line":26,"column":131}},"19":{"start":{"line":26,"column":73},"end":{"line":26,"column":129}},"20":{"start":{"line":29,"column":9},"end":{"line":31,"column":3}},"21":{"start":{"line":30,"column":4},"end":{"line":30,"column":131}},"22":{"start":{"line":30,"column":73},"end":{"line":30,"column":129}},"23":{"start":{"line":33,"column":9},"end":{"line":35,"column":3}},"24":{"start":{"line":34,"column":4},"end":{"line":34,"column":140}},"25":{"start":{"line":34,"column":73},"end":{"line":34,"column":138}},"26":{"start":{"line":37,"column":9},"end":{"line":39,"column":3}},"27":{"start":{"line":38,"column":4},"end":{"line":38,"column":140}},"28":{"start":{"line":38,"column":73},"end":{"line":38,"column":138}},"29":{"start":{"line":41,"column":9},"end":{"line":48,"column":3}},"30":{"start":{"line":41,"column":2},"end":{"line":48,"column":3}},"31":{"start":{"line":42,"column":4},"end":{"line":47,"column":8}},"32":{"start":{"line":43,"column":6},"end":{"line":43,"column":41}},"33":{"start":{"line":46,"column":8},"end":{"line":46,"column":60}},"34":{"start":{"line":50,"column":9},"end":{"line":52,"column":3}},"35":{"start":{"line":51,"column":4},"end":{"line":51,"column":69}},"36":{"start":{"line":54,"column":9},"end":{"line":56,"column":3}},"37":{"start":{"line":55,"column":4},"end":{"line":55,"column":62}},"38":{"start":{"line":58,"column":9},"end":{"line":60,"column":3}},"39":{"start":{"line":59,"column":4},"end":{"line":59,"column":113}},"40":{"start":{"line":59,"column":73},"end":{"line":59,"column":111}},"41":{"start":{"line":62,"column":9},"end":{"line":64,"column":3}},"42":{"start":{"line":63,"column":4},"end":{"line":63,"column":113}},"43":{"start":{"line":63,"column":73},"end":{"line":63,"column":111}},"44":{"start":{"line":66,"column":9},"end":{"line":68,"column":3}},"45":{"start":{"line":67,"column":4},"end":{"line":67,"column":115}},"46":{"start":{"line":67,"column":73},"end":{"line":67,"column":113}},"47":{"start":{"line":70,"column":9},"end":{"line":72,"column":3}},"48":{"start":{"line":71,"column":4},"end":{"line":71,"column":66}},"49":{"start":{"line":74,"column":10},"end":{"line":79,"column":3}},"50":{"start":{"line":74,"column":46},"end":{"line":74,"column":66}},"51":{"start":{"line":75,"column":4},"end":{"line":78,"column":15}},"52":{"start":{"line":80,"column":0},"end":{"line":80,"column":1}},"53":{"start":{"line":7,"column":13},"end":{"line":80,"column":1}}},"fnMap":{"1":{"name":"(anonymous_2254)","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"MultiAnalyticsClient","line":10,"loc":{"start":{"line":10,"column":2},"end":{"line":10,"column":63}}},"3":{"name":"(anonymous_2256)","line":13,"loc":{"start":{"line":13,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_2257)","line":14,"loc":{"start":{"line":14,"column":41},"end":{"line":14,"column":75}}},"5":{"name":"(anonymous_2258)","line":17,"loc":{"start":{"line":17,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_2259)","line":18,"loc":{"start":{"line":18,"column":47},"end":{"line":18,"column":81}}},"7":{"name":"(anonymous_2260)","line":18,"loc":{"start":{"line":18,"column":127},"end":{"line":18,"column":153}}},"8":{"name":"(anonymous_2261)","line":21,"loc":{"start":{"line":21,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_2262)","line":22,"loc":{"start":{"line":22,"column":47},"end":{"line":22,"column":81}}},"10":{"name":"(anonymous_2263)","line":22,"loc":{"start":{"line":22,"column":126},"end":{"line":22,"column":167}}},"11":{"name":"(anonymous_2264)","line":25,"loc":{"start":{"line":25,"column":2},"end":{"line":25,"column":78}}},"12":{"name":"(anonymous_2265)","line":26,"loc":{"start":{"line":26,"column":34},"end":{"line":26,"column":68}}},"13":{"name":"(anonymous_2266)","line":29,"loc":{"start":{"line":29,"column":2},"end":{"line":29,"column":82}}},"14":{"name":"(anonymous_2267)","line":30,"loc":{"start":{"line":30,"column":34},"end":{"line":30,"column":68}}},"15":{"name":"(anonymous_2268)","line":33,"loc":{"start":{"line":33,"column":2},"end":{"line":33,"column":138}}},"16":{"name":"(anonymous_2269)","line":34,"loc":{"start":{"line":34,"column":34},"end":{"line":34,"column":68}}},"17":{"name":"(anonymous_2270)","line":37,"loc":{"start":{"line":37,"column":2},"end":{"line":37,"column":102}}},"18":{"name":"(anonymous_2271)","line":38,"loc":{"start":{"line":38,"column":34},"end":{"line":38,"column":68}}},"19":{"name":"(anonymous_2272)","line":41,"loc":{"start":{"line":41,"column":2},"end":{"line":41,"column":42}}},"20":{"name":"(anonymous_2273)","line":42,"loc":{"start":{"line":42,"column":52},"end":{"line":42,"column":59}}},"21":{"name":"(anonymous_2274)","line":45,"loc":{"start":{"line":45,"column":12},"end":{"line":45,"column":31}}},"22":{"name":"(anonymous_2275)","line":50,"loc":{"start":{"line":50,"column":2},"end":{"line":null,"column":-1}}},"23":{"name":"(anonymous_2276)","line":54,"loc":{"start":{"line":54,"column":2},"end":{"line":null,"column":-1}}},"24":{"name":"(anonymous_2277)","line":58,"loc":{"start":{"line":58,"column":2},"end":{"line":null,"column":-1}}},"25":{"name":"(anonymous_2278)","line":59,"loc":{"start":{"line":59,"column":34},"end":{"line":59,"column":68}}},"26":{"name":"(anonymous_2279)","line":62,"loc":{"start":{"line":62,"column":2},"end":{"line":null,"column":-1}}},"27":{"name":"(anonymous_2280)","line":63,"loc":{"start":{"line":63,"column":34},"end":{"line":63,"column":68}}},"28":{"name":"(anonymous_2281)","line":66,"loc":{"start":{"line":66,"column":2},"end":{"line":null,"column":-1}}},"29":{"name":"(anonymous_2282)","line":67,"loc":{"start":{"line":67,"column":34},"end":{"line":67,"column":68}}},"30":{"name":"(anonymous_2283)","line":70,"loc":{"start":{"line":70,"column":2},"end":{"line":null,"column":-1}}},"31":{"name":"(anonymous_2284)","line":74,"loc":{"start":{"line":74,"column":2},"end":{"line":74,"column":66}}}},"branchMap":{"1":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":14},"end":{"line":10,"column":13}},{"start":{"line":10,"column":14},"end":{"line":10,"column":13}}]},"2":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":46},"end":{"line":74,"column":45}},{"start":{"line":74,"column":46},"end":{"line":74,"column":45}}]}},"s":{"1":1,"2":1,"3":2,"4":2,"5":2,"6":1,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":1,"18":0,"19":0,"20":1,"21":0,"22":0,"23":1,"24":0,"25":0,"26":1,"27":0,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":1,"37":0,"38":1,"39":0,"40":0,"41":1,"42":0,"43":0,"44":1,"45":0,"46":0,"47":1,"48":0,"49":1,"50":0,"51":0,"52":1,"53":1},"b":{"1":[0,2],"2":[0,0]},"f":{"1":1,"2":2,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},"code":"import {IAnalyticsClient} from './AnalyticsClient';\nimport {PendingSearchEvent} from './PendingSearchEvent';\nimport {IAnalyticsActionCause, IAnalyticsDocumentViewMeta} from './AnalyticsActionListMeta';\nimport {IQueryResult} from '../../rest/QueryResult';\nimport {ITopQueries} from '../../rest/TopQueries';\n\nexport class MultiAnalyticsClient implements IAnalyticsClient {\n  public isContextual = false;\n\n  constructor(private analyticsClients: IAnalyticsClient[] = []) {\n  }\n\n  public isActivated(): boolean {\n    return _.some(this.analyticsClients, (analyticsClient: IAnalyticsClient) => analyticsClient.isActivated());\n  }\n\n  public getCurrentEventCause(): string {\n    return _.find(_.map(this.analyticsClients, (analyticsClient: IAnalyticsClient) => analyticsClient.getCurrentEventCause()), (currentEventCause: string) => currentEventCause != null);\n  }\n\n  public getCurrentEventMeta(): { [key: string]: any } {\n    return _.find(_.map(this.analyticsClients, (analyticsClient: IAnalyticsClient) => analyticsClient.getCurrentEventMeta()), (currentEventMeta: { [key: string]: any }) => currentEventMeta != null);\n  }\n\n  public logSearchEvent<TMeta>(actionCause: IAnalyticsActionCause, meta: TMeta) {\n    _.each(this.analyticsClients, (analyticsClient: IAnalyticsClient) => analyticsClient.logSearchEvent<TMeta>(actionCause, meta));\n  }\n\n  public logSearchAsYouType<TMeta>(actionCause: IAnalyticsActionCause, meta: TMeta) {\n    _.each(this.analyticsClients, (analyticsClient: IAnalyticsClient) => analyticsClient.logSearchEvent<TMeta>(actionCause, meta));\n  }\n\n  public logClickEvent(actionCause: IAnalyticsActionCause, meta?: IAnalyticsDocumentViewMeta, result?: IQueryResult, element?: HTMLElement) {\n    _.each(this.analyticsClients, (analyticsClient: IAnalyticsClient) => analyticsClient.logClickEvent(actionCause, meta, result, element));\n  }\n\n  public logCustomEvent<TMeta>(actionCause: IAnalyticsActionCause, meta?: TMeta, element?: HTMLElement) {\n    _.each(this.analyticsClients, (analyticsClient: IAnalyticsClient) => analyticsClient.logCustomEvent<TMeta>(actionCause, meta, element));\n  }\n\n  public getTopQueries(params: ITopQueries): Promise<string[]> {\n    return Promise.all(_.map(this.analyticsClients, (client) => {\n      return client.getTopQueries(params)\n    }))\n      .then((values: string[][]) => {\n        return this.mergeTopQueries(values, params.pageSize)\n      })\n  }\n\n  public getCurrentVisitIdPromise(): Promise<string> {\n    return _.first(this.analyticsClients).getCurrentVisitIdPromise();\n  }\n\n  public getCurrentVisitId(): string {\n    return _.first(this.analyticsClients).getCurrentVisitId();\n  }\n\n  public sendAllPendingEvents(): void {\n    _.each(this.analyticsClients, (analyticsClient: IAnalyticsClient) => analyticsClient.sendAllPendingEvents());\n  }\n\n  public warnAboutSearchEvent(): void {\n    _.each(this.analyticsClients, (analyticsClient: IAnalyticsClient) => analyticsClient.warnAboutSearchEvent());\n  }\n\n  public cancelAllPendingEvents(): void {\n    _.each(this.analyticsClients, (analyticsClient: IAnalyticsClient) => analyticsClient.cancelAllPendingEvents());\n  }\n\n  public getPendingSearchEvent(): PendingSearchEvent {\n    return _.first(this.analyticsClients).getPendingSearchEvent();\n  }\n\n  private mergeTopQueries(values: string[][], pageSize: number = 5) {\n    return _.chain(values)\n      .flatten()\n      .first(pageSize)\n      .value();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Analytics/MultiAnalyticsClient.ts\n **/","l":{"7":1,"8":2,"10":2,"13":1,"14":0,"17":1,"18":0,"21":1,"22":0,"25":1,"26":0,"29":1,"30":0,"33":1,"34":0,"37":1,"38":0,"41":1,"42":0,"43":0,"46":0,"50":1,"51":0,"54":1,"55":0,"58":1,"59":0,"62":1,"63":0,"66":1,"67":0,"70":1,"71":0,"74":1,"75":0,"80":1}},"src/ui/Recommendation/Recommendation.ts":{"path":"src/ui/Recommendation/Recommendation.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":92}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":58}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":102}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":57}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":63}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":59}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":75}},"8":{"start":{"line":8,"column":0},"end":{"line":8,"column":61}},"9":{"start":{"line":9,"column":0},"end":{"line":9,"column":95}},"10":{"start":{"line":10,"column":0},"end":{"line":10,"column":63}},"11":{"start":{"line":11,"column":0},"end":{"line":11,"column":61}},"12":{"start":{"line":12,"column":0},"end":{"line":12,"column":68}},"13":{"start":{"line":13,"column":0},"end":{"line":13,"column":41}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":40}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":35}},"16":{"start":{"line":38,"column":0},"end":{"line":222,"column":1}},"17":{"start":{"line":38,"column":36},"end":{"line":38,"column":51}},"18":{"start":{"line":92,"column":2},"end":{"line":115,"column":3}},"19":{"start":{"line":92,"column":43},"end":{"line":92,"column":86}},"20":{"start":{"line":92,"column":88},"end":{"line":92,"column":116}},"21":{"start":{"line":92,"column":118},"end":{"line":92,"column":134}},"22":{"start":{"line":93,"column":4},"end":{"line":93,"column":119}},"23":{"start":{"line":92,"column":21},"end":{"line":92,"column":41}},"24":{"start":{"line":92,"column":50},"end":{"line":92,"column":86}},"25":{"start":{"line":92,"column":95},"end":{"line":92,"column":116}},"26":{"start":{"line":95,"column":4},"end":{"line":97,"column":5}},"27":{"start":{"line":96,"column":6},"end":{"line":96,"column":31}},"28":{"start":{"line":99,"column":4},"end":{"line":101,"column":5}},"29":{"start":{"line":100,"column":6},"end":{"line":100,"column":39}},"30":{"start":{"line":103,"column":4},"end":{"line":103,"column":142}},"31":{"start":{"line":103,"column":96},"end":{"line":103,"column":140}},"32":{"start":{"line":104,"column":4},"end":{"line":104,"column":139}},"33":{"start":{"line":104,"column":94},"end":{"line":104,"column":137}},"34":{"start":{"line":105,"column":4},"end":{"line":109,"column":7}},"35":{"start":{"line":106,"column":6},"end":{"line":108,"column":7}},"36":{"start":{"line":107,"column":8},"end":{"line":107,"column":20}},"37":{"start":{"line":110,"column":4},"end":{"line":110,"column":103}},"38":{"start":{"line":110,"column":90},"end":{"line":110,"column":101}},"39":{"start":{"line":113,"column":4},"end":{"line":113,"column":35}},"40":{"start":{"line":117,"column":9},"end":{"line":119,"column":3}},"41":{"start":{"line":118,"column":4},"end":{"line":118,"column":27}},"42":{"start":{"line":121,"column":9},"end":{"line":124,"column":3}},"43":{"start":{"line":122,"column":4},"end":{"line":122,"column":51}},"44":{"start":{"line":123,"column":4},"end":{"line":123,"column":28}},"45":{"start":{"line":126,"column":9},"end":{"line":131,"column":3}},"46":{"start":{"line":127,"column":4},"end":{"line":129,"column":5}},"47":{"start":{"line":128,"column":6},"end":{"line":128,"column":53}},"48":{"start":{"line":130,"column":4},"end":{"line":130,"column":51}},"49":{"start":{"line":133,"column":10},"end":{"line":140,"column":3}},"50":{"start":{"line":133,"column":2},"end":{"line":140,"column":3}},"51":{"start":{"line":134,"column":4},"end":{"line":139,"column":6}},"52":{"start":{"line":135,"column":6},"end":{"line":135,"column":37}},"53":{"start":{"line":136,"column":6},"end":{"line":136,"column":55}},"54":{"start":{"line":137,"column":6},"end":{"line":137,"column":104}},"55":{"start":{"line":138,"column":6},"end":{"line":138,"column":42}},"56":{"start":{"line":142,"column":10},"end":{"line":145,"column":3}},"57":{"start":{"line":143,"column":4},"end":{"line":143,"column":44}},"58":{"start":{"line":144,"column":4},"end":{"line":144,"column":44}},"59":{"start":{"line":147,"column":10},"end":{"line":155,"column":3}},"60":{"start":{"line":148,"column":4},"end":{"line":154,"column":5}},"61":{"start":{"line":149,"column":6},"end":{"line":153,"column":7}},"62":{"start":{"line":150,"column":8},"end":{"line":150,"column":20}},"63":{"start":{"line":152,"column":8},"end":{"line":152,"column":20}},"64":{"start":{"line":157,"column":10},"end":{"line":161,"column":3}},"65":{"start":{"line":158,"column":4},"end":{"line":160,"column":5}},"66":{"start":{"line":159,"column":6},"end":{"line":159,"column":117}},"67":{"start":{"line":163,"column":10},"end":{"line":172,"column":3}},"68":{"start":{"line":164,"column":4},"end":{"line":166,"column":5}},"69":{"start":{"line":165,"column":6},"end":{"line":165,"column":73}},"70":{"start":{"line":167,"column":4},"end":{"line":169,"column":5}},"71":{"start":{"line":168,"column":6},"end":{"line":168,"column":59}},"72":{"start":{"line":171,"column":4},"end":{"line":171,"column":55}},"73":{"start":{"line":174,"column":10},"end":{"line":181,"column":3}},"74":{"start":{"line":175,"column":4},"end":{"line":180,"column":5}},"75":{"start":{"line":176,"column":6},"end":{"line":176,"column":60}},"76":{"start":{"line":177,"column":6},"end":{"line":177,"column":48}},"77":{"start":{"line":179,"column":6},"end":{"line":179,"column":18}},"78":{"start":{"line":183,"column":10},"end":{"line":193,"column":3}},"79":{"start":{"line":184,"column":4},"end":{"line":184,"column":48}},"80":{"start":{"line":185,"column":4},"end":{"line":185,"column":50}},"81":{"start":{"line":186,"column":4},"end":{"line":186,"column":53}},"82":{"start":{"line":187,"column":4},"end":{"line":187,"column":51}},"83":{"start":{"line":188,"column":4},"end":{"line":188,"column":59}},"84":{"start":{"line":189,"column":4},"end":{"line":189,"column":52}},"85":{"start":{"line":190,"column":4},"end":{"line":190,"column":53}},"86":{"start":{"line":191,"column":4},"end":{"line":191,"column":52}},"87":{"start":{"line":192,"column":4},"end":{"line":192,"column":61}},"88":{"start":{"line":195,"column":10},"end":{"line":199,"column":3}},"89":{"start":{"line":195,"column":47},"end":{"line":195,"column":94}},"90":{"start":{"line":195,"column":80},"end":{"line":195,"column":92}},"91":{"start":{"line":196,"column":4},"end":{"line":198,"column":5}},"92":{"start":{"line":197,"column":6},"end":{"line":197,"column":80}},"93":{"start":{"line":197,"column":57},"end":{"line":197,"column":76}},"94":{"start":{"line":201,"column":10},"end":{"line":210,"column":3}},"95":{"start":{"line":201,"column":2},"end":{"line":210,"column":3}},"96":{"start":{"line":202,"column":4},"end":{"line":202,"column":20}},"97":{"start":{"line":203,"column":4},"end":{"line":208,"column":6}},"98":{"start":{"line":204,"column":6},"end":{"line":207,"column":8}},"99":{"start":{"line":205,"column":8},"end":{"line":205,"column":91}},"100":{"start":{"line":206,"column":8},"end":{"line":206,"column":38}},"101":{"start":{"line":209,"column":4},"end":{"line":209,"column":18}},"102":{"start":{"line":212,"column":10},"end":{"line":220,"column":3}},"103":{"start":{"line":213,"column":4},"end":{"line":213,"column":30}},"104":{"start":{"line":214,"column":4},"end":{"line":217,"column":5}},"105":{"start":{"line":215,"column":6},"end":{"line":215,"column":146}},"106":{"start":{"line":216,"column":6},"end":{"line":216,"column":45}},"107":{"start":{"line":218,"column":4},"end":{"line":218,"column":29}},"108":{"start":{"line":219,"column":4},"end":{"line":219,"column":25}},"109":{"start":{"line":39,"column":9},"end":{"line":39,"column":31}},"110":{"start":{"line":40,"column":17},"end":{"line":40,"column":29}},"111":{"start":{"line":46,"column":9},"end":{"line":86,"column":4}},"112":{"start":{"line":222,"column":0},"end":{"line":222,"column":1}},"113":{"start":{"line":38,"column":13},"end":{"line":222,"column":1}}},"fnMap":{"1":{"name":"(anonymous_2289)","line":38,"loc":{"start":{"line":38,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Recommendation","line":92,"loc":{"start":{"line":92,"column":2},"end":{"line":92,"column":134}}},"3":{"name":"(anonymous_2291)","line":103,"loc":{"start":{"line":103,"column":51},"end":{"line":103,"column":91}}},"4":{"name":"(anonymous_2292)","line":104,"loc":{"start":{"line":104,"column":50},"end":{"line":104,"column":89}}},"5":{"name":"(anonymous_2293)","line":105,"loc":{"start":{"line":105,"column":47},"end":{"line":105,"column":83}}},"6":{"name":"(anonymous_2294)","line":110,"loc":{"start":{"line":110,"column":48},"end":{"line":110,"column":85}}},"7":{"name":"(anonymous_2295)","line":117,"loc":{"start":{"line":117,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_2296)","line":121,"loc":{"start":{"line":121,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_2297)","line":126,"loc":{"start":{"line":126,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_2298)","line":133,"loc":{"start":{"line":133,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_2299)","line":134,"loc":{"start":{"line":134,"column":70},"end":{"line":134,"column":109}}},"12":{"name":"(anonymous_2300)","line":142,"loc":{"start":{"line":142,"column":2},"end":{"line":142,"column":73}}},"13":{"name":"(anonymous_2301)","line":147,"loc":{"start":{"line":147,"column":2},"end":{"line":147,"column":71}}},"14":{"name":"(anonymous_2302)","line":157,"loc":{"start":{"line":157,"column":2},"end":{"line":157,"column":68}}},"15":{"name":"(anonymous_2303)","line":163,"loc":{"start":{"line":163,"column":2},"end":{"line":163,"column":68}}},"16":{"name":"(anonymous_2304)","line":174,"loc":{"start":{"line":174,"column":2},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_2305)","line":183,"loc":{"start":{"line":183,"column":2},"end":{"line":null,"column":-1}}},"18":{"name":"(anonymous_2306)","line":195,"loc":{"start":{"line":195,"column":2},"end":{"line":195,"column":94}}},"19":{"name":"(anonymous_2307)","line":195,"loc":{"start":{"line":195,"column":59},"end":{"line":195,"column":73}}},"20":{"name":"(anonymous_2308)","line":197,"loc":{"start":{"line":197,"column":41},"end":{"line":197,"column":50}}},"21":{"name":"(anonymous_2309)","line":201,"loc":{"start":{"line":201,"column":2},"end":{"line":null,"column":-1}}},"22":{"name":"(anonymous_2310)","line":203,"loc":{"start":{"line":203,"column":39},"end":{"line":203,"column":45}}},"23":{"name":"(anonymous_2311)","line":204,"loc":{"start":{"line":204,"column":47},"end":{"line":204,"column":57}}},"24":{"name":"(anonymous_2312)","line":212,"loc":{"start":{"line":212,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":43},"end":{"line":92,"column":42}},{"start":{"line":92,"column":43},"end":{"line":92,"column":42}}]},"2":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":88},"end":{"line":92,"column":87}},{"start":{"line":92,"column":88},"end":{"line":92,"column":87}}]},"3":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":118},"end":{"line":92,"column":117}},{"start":{"line":92,"column":118},"end":{"line":92,"column":117}}]},"4":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":4},"end":{"line":95,"column":3}},{"start":{"line":95,"column":4},"end":{"line":95,"column":3}}]},"5":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":4},"end":{"line":99,"column":3}},{"start":{"line":99,"column":4},"end":{"line":99,"column":3}}]},"6":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":6},"end":{"line":106,"column":5}},{"start":{"line":106,"column":6},"end":{"line":106,"column":5}}]},"7":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":4},"end":{"line":127,"column":3}},{"start":{"line":127,"column":4},"end":{"line":127,"column":3}}]},"8":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":4},"end":{"line":148,"column":3}},{"start":{"line":148,"column":4},"end":{"line":148,"column":3}}]},"9":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":6},"end":{"line":149,"column":5}},{"start":{"line":149,"column":6},"end":{"line":149,"column":5}}]},"10":{"line":158,"type":"if","locations":[{"start":{"line":158,"column":4},"end":{"line":158,"column":3}},{"start":{"line":158,"column":4},"end":{"line":158,"column":3}}]},"11":{"line":164,"type":"if","locations":[{"start":{"line":164,"column":4},"end":{"line":164,"column":3}},{"start":{"line":164,"column":4},"end":{"line":164,"column":3}}]},"12":{"line":167,"type":"if","locations":[{"start":{"line":167,"column":4},"end":{"line":167,"column":3}},{"start":{"line":167,"column":4},"end":{"line":167,"column":3}}]},"13":{"line":175,"type":"if","locations":[{"start":{"line":175,"column":4},"end":{"line":175,"column":3}},{"start":{"line":175,"column":4},"end":{"line":175,"column":3}}]},"14":{"line":195,"type":"if","locations":[{"start":{"line":195,"column":47},"end":{"line":195,"column":46}},{"start":{"line":195,"column":47},"end":{"line":195,"column":46}}]},"15":{"line":214,"type":"if","locations":[{"start":{"line":214,"column":4},"end":{"line":214,"column":3}},{"start":{"line":214,"column":4},"end":{"line":214,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":31,"17":1,"18":1,"19":31,"20":60,"21":60,"22":30,"23":30,"24":30,"25":30,"26":30,"27":25,"28":30,"29":28,"30":30,"31":13,"32":30,"33":12,"34":30,"35":2,"36":1,"37":30,"38":1,"39":30,"40":1,"41":4,"42":1,"43":3,"44":3,"45":1,"46":10,"47":10,"48":10,"49":1,"50":28,"51":28,"52":3,"53":3,"54":3,"55":3,"56":1,"57":13,"58":13,"59":1,"60":12,"61":11,"62":1,"63":10,"64":1,"65":13,"66":1,"67":1,"68":13,"69":11,"70":13,"71":12,"72":13,"73":1,"74":12,"75":11,"76":11,"77":1,"78":1,"79":30,"80":30,"81":30,"82":30,"83":30,"84":30,"85":30,"86":30,"87":30,"88":1,"89":540,"90":2190,"91":270,"92":2190,"93":93,"94":1,"95":30,"96":30,"97":30,"98":150,"99":1200,"100":1200,"101":30,"102":1,"103":25,"104":25,"105":24,"106":24,"107":25,"108":25,"109":1,"110":1,"111":1,"112":1,"113":1},"b":{"1":[1,29],"2":[30,0],"3":[30,0],"4":[25,5],"5":[28,2],"6":[1,1],"7":[10,0],"8":[11,1],"9":[1,10],"10":[1,12],"11":[11,2],"12":[12,1],"13":[11,1],"14":[270,0],"15":[24,1]},"f":{"1":1,"2":30,"3":13,"4":12,"5":2,"6":1,"7":4,"8":3,"9":10,"10":28,"11":3,"12":13,"13":12,"14":13,"15":13,"16":12,"17":30,"18":270,"19":2190,"20":93,"21":30,"22":150,"23":1200,"24":25},"code":"import {SearchInterface, ISearchInterfaceOptions} from '../SearchInterface/SearchInterface';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {QueryEvents, IQuerySuccessEventArgs, IBuildingQueryEventArgs} from '../../events/QueryEvents';\nimport {OmniboxEvents} from '../../events/OmniboxEvents';\nimport {ResultListEvents} from '../../events/ResultListEvents';\nimport {SettingsEvents} from '../../events/SettingsEvents';\nimport {PreferencesPanelEvents} from '../../events/PreferencesPanelEvents';\nimport {AnalyticsEvents} from '../../events/AnalyticsEvents';\nimport {analyticsActionCauseList, IAnalyticsNoMeta} from '../Analytics/AnalyticsActionListMeta'\nimport {BreadcrumbEvents} from '../../events/BreadcrumbEvents';\nimport {QuickviewEvents} from '../../events/QuickviewEvents';\nimport {QUERY_STATE_ATTRIBUTES} from '../../models/QueryStateModel';\nimport {Model} from '../../models/Model';\nimport {Utils} from '../../utils/Utils';\nimport {$$} from '../../utils/Dom';\nimport {INoResultsEventArgs} from '../../events/QueryEvents';\nimport {IQueryErrorEventArgs} from '../../events/QueryEvents';\n\ndeclare var coveoanalytics: CoveoAnalytics.CoveoUA;\n\nexport interface IRecommendationOptions extends ISearchInterfaceOptions {\n  mainSearchInterface?: HTMLElement;\n  userContext?: string;\n  id?: string;\n  optionsToUse?: string[];\n  sendActionsHistory?: boolean;\n  hideIfNoResults?: boolean;\n}\n\n/**\n * This component is a {@link SearchInterface} that will display recommendations based on the user history.\n * To get recommendations, the page view script must also be included in the page. View: https://github.com/coveo/coveo.analytics.js\n * This component listens when the main search interface generates a query and it generates another to get the recommendations at the same time.\n *\n * This component can be included in another SearchInterface, but you need to initialize the recommendation component with Coveo('initRecommendation'), before\n * the parent SearchInterface.\n */\nexport class Recommendation extends SearchInterface {\n  static ID = 'Recommendation';\n  private static NEXT_ID = 1;\n\n  /**\n   * The options for the recommendation component\n   * @componentOptions\n   */\n  static options: IRecommendationOptions = {\n    /**\n     * Specifies the main {@link SearchInterface} to listen to.\n     */\n    mainSearchInterface: ComponentOptions.buildSelectorOption(),\n\n    /**\n     * Specifies the user context to send to Coveo analytics.\n     * It will be sent with the query alongside the user history to get the recommendations.\n     */\n    userContext: ComponentOptions.buildJsonOption(),\n\n    /**\n     * Specifies the id of the interface.\n     * It is used by the analytics to know which recommendation interface was selected.\n     * The default value is \"Recommendation\" for the first one and \"Recommendation_{number}\" where {number} depends on the number of recommendation interface with default ids in the page for the others. \n     */\n    id: ComponentOptions.buildStringOption(),\n\n    /**\n     * Specifies which options from the main {@link QueryBuilder} to use in the triggered query.\n     * Ex: <code data-options-to-use=\"expression, advancedExpression\"></code> would add the expression and the advanced expression parts from the main query in the triggered query.\n     * The default value is undefined.\n     */\n    optionsToUse: ComponentOptions.buildListOption(),\n\n    /**\n     * Specifies whether or not to send the actions history along with the triggered query.\n     * Disabling this option means this component won't be able to get Reveal recommendations.\n     * However, it could be useful to display side results in a search page.\n     * The default value is true.\n     */\n    sendActionsHistory: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n\n    /**\n     * Hides the component if there a no results / recommendations.\n     * The default value is false.\n     */\n    hideIfNoResults: ComponentOptions.buildBooleanOption({ defaultValue: true })\n\n  };\n\n  private mainInterfaceQuery: IQuerySuccessEventArgs;\n  public mainQuerySearchUID: string;\n  private displayStyle: string;\n\n  constructor(public element: HTMLElement, public options: IRecommendationOptions = {}, public analyticsOptions = {}, _window = window) {\n    super(element, ComponentOptions.initComponentOptions(element, Recommendation, options), analyticsOptions, _window);\n\n    if (!this.options.id) {\n      this.generateDefaultId();\n    }\n\n    if (this.options.mainSearchInterface) {\n      this.bindToMainSearchInterface();\n    }\n\n    $$(this.element).on(QueryEvents.buildingQuery, (e: Event, args: IBuildingQueryEventArgs) => this.handleRecommendationBuildingQuery(args));\n    $$(this.element).on(QueryEvents.querySuccess, (e: Event, args: IQuerySuccessEventArgs) => this.handleRecommendationQuerySuccess(args));\n    $$(this.element).on(QueryEvents.noResults, (e: Event, args: INoResultsEventArgs) => {\n      if (this.options.hideIfNoResults) {\n        this.hide();\n      }\n    });\n    $$(this.element).on(QueryEvents.queryError, (e: Event, args: IQueryErrorEventArgs) => this.hide());\n\n    // This is done to allow the component to be included in another search interface without triggering the parent events.\n    this.preventEventPropagation();\n\n  }\n\n  public getId(): string {\n    return this.options.id;\n  }\n\n  public hide(): void {\n    this.displayStyle = this.element.style.display;\n    $$(this.element).hide();\n  }\n\n  public show(): void {\n    if (!this.displayStyle) {\n      this.displayStyle = this.element.style.display;\n    }\n    this.element.style.display = this.displayStyle;\n  }\n\n  private bindToMainSearchInterface() {\n    $$(this.options.mainSearchInterface).on(QueryEvents.querySuccess, (e: Event, args: IQuerySuccessEventArgs) => {\n      this.mainInterfaceQuery = args;\n      this.mainQuerySearchUID = args.results.searchUid;\n      this.usageAnalytics.logSearchEvent<IAnalyticsNoMeta>(analyticsActionCauseList.recommendation, {});\n      this.queryController.executeQuery();\n    })\n  }\n\n  private handleRecommendationBuildingQuery(data: IBuildingQueryEventArgs) {\n    this.modifyQueryForRecommendation(data);\n    this.addRecommendationInfoInQuery(data);\n  }\n\n  private handleRecommendationQuerySuccess(data: IQuerySuccessEventArgs) {\n    if (this.options.hideIfNoResults) {\n      if (data.results.totalCount === 0) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    }\n  }\n\n  private modifyQueryForRecommendation(data: IBuildingQueryEventArgs) {\n    if (this.mainInterfaceQuery) {\n      Utils.copyObjectAttributes(data.queryBuilder, this.mainInterfaceQuery.queryBuilder, this.options.optionsToUse);\n    }\n  }\n\n  private addRecommendationInfoInQuery(data: IBuildingQueryEventArgs) {\n    if (!_.isEmpty(this.options.userContext)) {\n      data.queryBuilder.addContext(JSON.parse(this.options.userContext));\n    }\n    if (this.options.sendActionsHistory) {\n      data.queryBuilder.actionsHistory = this.getHistory();\n    }\n\n    data.queryBuilder.recommendation = this.options.id;\n  }\n\n  private getHistory(): string {\n    if (typeof coveoanalytics != 'undefined') {\n      var store = new coveoanalytics.history.HistoryStore();\n      return JSON.stringify(store.getHistory());\n    } else {\n      return '[]';\n    }\n  }\n\n  private preventEventPropagation() {\n    this.preventEventPropagationOn(QueryEvents);\n    this.preventEventPropagationOn(OmniboxEvents);\n    this.preventEventPropagationOn(ResultListEvents);\n    this.preventEventPropagationOn(SettingsEvents);\n    this.preventEventPropagationOn(PreferencesPanelEvents);\n    this.preventEventPropagationOn(AnalyticsEvents);\n    this.preventEventPropagationOn(BreadcrumbEvents);\n    this.preventEventPropagationOn(QuickviewEvents);\n    this.preventEventPropagationOn(this.getAllModelEvents());\n  }\n\n  private preventEventPropagationOn(eventType, eventName = (event: string) => { return event }) {\n    for (let event in eventType) {\n      $$(this.root).on(eventName(event), (e: Event) => { e.stopPropagation() });\n    }\n  }\n\n  private getAllModelEvents() {\n    let events = {};\n    _.each(_.values(Model.eventTypes), (event) => {\n      _.each(_.values(QUERY_STATE_ATTRIBUTES), (attribute) => {\n        let eventName = this.getBindings().queryStateModel.getEventName(event + attribute);\n        events[eventName] = eventName;\n      })\n    })\n    return events;\n  }\n\n  private generateDefaultId() {\n    let id = 'Recommendation';\n    if (Recommendation.NEXT_ID !== 1) {\n      this.logger.warn('Generating another recommendation default id', 'Consider configuring a human friendly / meaningful id for this interface')\n      id = id + '_' + Recommendation.NEXT_ID;\n    }\n    Recommendation.NEXT_ID++;\n    this.options.id = id;\n  }\n\n}\n// We do not register the Recommendation component since it is done with .coveo('initRecommendation')\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Recommendation/Recommendation.ts\n **/","l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"38":31,"39":1,"40":1,"46":1,"92":60,"93":30,"95":30,"96":25,"99":30,"100":28,"103":30,"104":30,"105":30,"106":2,"107":1,"110":30,"113":30,"117":1,"118":4,"121":1,"122":3,"123":3,"126":1,"127":10,"128":10,"130":10,"133":28,"134":28,"135":3,"136":3,"137":3,"138":3,"142":1,"143":13,"144":13,"147":1,"148":12,"149":11,"150":1,"152":10,"157":1,"158":13,"159":1,"163":1,"164":13,"165":11,"167":13,"168":12,"171":13,"174":1,"175":12,"176":11,"177":11,"179":1,"183":1,"184":30,"185":30,"186":30,"187":30,"188":30,"189":30,"190":30,"191":30,"192":30,"195":2190,"196":270,"197":2190,"201":30,"202":30,"203":30,"204":150,"205":1200,"206":1200,"209":30,"212":1,"213":25,"214":25,"215":24,"216":24,"218":25,"219":25,"222":1}},"src/events/QuickviewEvents.ts":{"path":"src/events/QuickviewEvents.ts","statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":8,"column":1}},"2":{"start":{"line":6,"column":16},"end":{"line":6,"column":52}},"3":{"start":{"line":7,"column":16},"end":{"line":7,"column":48}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":1}},"5":{"start":{"line":5,"column":13},"end":{"line":8,"column":1}}},"fnMap":{"1":{"name":"(anonymous_2314)","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":null,"column":-1}}}},"branchMap":{},"s":{"1":2,"2":1,"3":1,"4":1,"5":1},"b":{},"f":{"1":1},"code":"export interface IQuickviewLoadedEventArgs {\n  duration: number;\n}\n\nexport class QuickviewEvents {\n  public static quickviewLoaded = 'quickviewLoaded';\n  public static openQuickview = 'openQuickview';\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/events/QuickviewEvents.ts\n **/","l":{"5":2,"6":1,"7":1,"8":1}},"src/ui/Analytics/RecommendationAnalyticsClient.ts":{"path":"src/ui/Analytics/RecommendationAnalyticsClient.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":58}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":90}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":44}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":67}},"5":{"start":{"line":10,"column":0},"end":{"line":53,"column":1}},"6":{"start":{"line":10,"column":51},"end":{"line":10,"column":70}},"7":{"start":{"line":14,"column":2},"end":{"line":26,"column":3}},"8":{"start":{"line":24,"column":4},"end":{"line":24,"column":135}},"9":{"start":{"line":14,"column":21},"end":{"line":14,"column":48}},"10":{"start":{"line":15,"column":11},"end":{"line":15,"column":35}},"11":{"start":{"line":16,"column":11},"end":{"line":16,"column":25}},"12":{"start":{"line":17,"column":11},"end":{"line":17,"column":34}},"13":{"start":{"line":18,"column":11},"end":{"line":18,"column":29}},"14":{"start":{"line":19,"column":11},"end":{"line":19,"column":35}},"15":{"start":{"line":20,"column":11},"end":{"line":20,"column":38}},"16":{"start":{"line":21,"column":11},"end":{"line":21,"column":31}},"17":{"start":{"line":22,"column":11},"end":{"line":22,"column":31}},"18":{"start":{"line":23,"column":11},"end":{"line":23,"column":39}},"19":{"start":{"line":25,"column":4},"end":{"line":25,"column":72}},"20":{"start":{"line":28,"column":9},"end":{"line":33,"column":3}},"21":{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},"22":{"start":{"line":30,"column":6},"end":{"line":30,"column":73}},"23":{"start":{"line":32,"column":4},"end":{"line":32,"column":44}},"24":{"start":{"line":35,"column":9},"end":{"line":48,"column":3}},"25":{"start":{"line":36,"column":4},"end":{"line":38,"column":5}},"26":{"start":{"line":37,"column":6},"end":{"line":37,"column":64}},"27":{"start":{"line":40,"column":4},"end":{"line":40,"column":60}},"28":{"start":{"line":42,"column":4},"end":{"line":47,"column":5}},"29":{"start":{"line":44,"column":6},"end":{"line":44,"column":123}},"30":{"start":{"line":45,"column":6},"end":{"line":45,"column":63}},"31":{"start":{"line":46,"column":6},"end":{"line":46,"column":85}},"32":{"start":{"line":50,"column":12},"end":{"line":52,"column":3}},"33":{"start":{"line":51,"column":4},"end":{"line":51,"column":39}},"34":{"start":{"line":53,"column":0},"end":{"line":53,"column":1}},"35":{"start":{"line":10,"column":13},"end":{"line":53,"column":1}}},"fnMap":{"1":{"name":"(anonymous_2319)","line":10,"loc":{"start":{"line":10,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"RecommendationAnalyticsClient","line":14,"loc":{"start":{"line":14,"column":2},"end":{"line":23,"column":39}}},"3":{"name":"(anonymous_2321)","line":28,"loc":{"start":{"line":28,"column":2},"end":{"line":28,"column":78}}},"4":{"name":"(anonymous_2322)","line":35,"loc":{"start":{"line":35,"column":2},"end":{"line":35,"column":121}}},"5":{"name":"(anonymous_2323)","line":50,"loc":{"start":{"line":50,"column":2},"end":{"line":50,"column":48}}}},"branchMap":{"1":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":29,"column":3}},{"start":{"line":29,"column":4},"end":{"line":29,"column":3}}]},"2":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":4},"end":{"line":36,"column":3}},{"start":{"line":36,"column":4},"end":{"line":36,"column":3}}]},"3":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":4},"end":{"line":42,"column":3}},{"start":{"line":42,"column":4},"end":{"line":42,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":4,"9":4,"10":4,"11":4,"12":4,"13":4,"14":4,"15":4,"16":4,"17":4,"18":4,"19":4,"20":1,"21":1,"22":1,"23":1,"24":1,"25":3,"26":3,"27":3,"28":3,"29":1,"30":1,"31":1,"32":1,"33":4,"34":1,"35":1},"b":{"1":[1,0],"2":[3,0],"3":[1,2]},"f":{"1":1,"2":4,"3":1,"4":3,"5":4},"code":"import {LiveAnalyticsClient} from './LiveAnalyticsClient';\nimport {IAnalyticsActionCause, analyticsActionCauseList} from './AnalyticsActionListMeta';\nimport {IQueryResult} from '../../rest/QueryResult';\nimport {AnalyticsEndpoint} from '../../rest/AnalyticsEndpoint';\nimport {Component} from '../Base/Component';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {Recommendation} from '../Recommendation/Recommendation';\nimport {SearchInterface} from '../SearchInterface/SearchInterface';\n\nexport class RecommendationAnalyticsClient extends LiveAnalyticsClient {\n\n  private recommendation: Recommendation;\n\n  constructor(public endpoint: AnalyticsEndpoint,\n    public rootElement: HTMLElement,\n    public userId: string,\n    public userDisplayName: string,\n    public anonymous: boolean,\n    public splitTestRunName: string,\n    public splitTestRunVersion: string,\n    public originLevel1: string,\n    public sendToCloud: boolean,\n    public bindings: IComponentBindings) {\n    super(endpoint, rootElement, userId, userDisplayName, anonymous, splitTestRunName, splitTestRunVersion, originLevel1, sendToCloud);\n    this.recommendation = <Recommendation>this.bindings.searchInterface;\n  }\n\n  public logSearchEvent<TMeta>(actionCause: IAnalyticsActionCause, meta: TMeta) {\n    if (actionCause == analyticsActionCauseList.interfaceLoad) {\n      actionCause = analyticsActionCauseList.recommendationInterfaceLoad;\n    }\n    super.logSearchEvent(actionCause, meta);\n  }\n\n  public logClickEvent<TMeta>(actionCause: IAnalyticsActionCause, meta: TMeta, result: IQueryResult, element: HTMLElement) {\n    if (actionCause == analyticsActionCauseList.documentOpen) {\n      actionCause = analyticsActionCauseList.recommendationOpen;\n    }\n\n    super.logClickEvent(actionCause, meta, result, element);\n\n    if (this.recommendation.mainQuerySearchUID) {\n      // We log a second click associated with the main interface query to tell the analytics that the query was a success.\n      let mainInterface = <SearchInterface>Component.get(this.recommendation.options.mainSearchInterface, SearchInterface);\n      result.queryUid = this.recommendation.mainQuerySearchUID;\n      mainInterface.usageAnalytics.logClickEvent(actionCause, meta, result, element);\n    }\n  }\n\n  protected getOriginLevel2(element: HTMLElement): string {\n    return this.recommendation.getId();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Analytics/RecommendationAnalyticsClient.ts\n **/","l":{"1":1,"2":1,"5":1,"8":1,"10":1,"14":4,"15":4,"16":4,"17":4,"18":4,"19":4,"20":4,"21":4,"22":4,"23":4,"24":4,"25":4,"28":1,"29":1,"30":1,"32":1,"35":1,"36":3,"37":3,"40":3,"42":3,"44":1,"45":1,"46":1,"50":1,"51":4,"53":1}},"src/TemplatesModules.ts":{"path":"src/TemplatesModules.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":63}},"2":{"start":{"line":1,"column":8},"end":{"line":1,"column":63}},"3":{"start":{"line":2,"column":0},"end":{"line":2,"column":59}},"4":{"start":{"line":2,"column":8},"end":{"line":2,"column":59}},"5":{"start":{"line":3,"column":0},"end":{"line":3,"column":57}},"6":{"start":{"line":3,"column":8},"end":{"line":3,"column":57}},"7":{"start":{"line":4,"column":0},"end":{"line":4,"column":69}},"8":{"start":{"line":4,"column":8},"end":{"line":4,"column":69}}},"fnMap":{},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"b":{},"f":{},"code":"export {TemplateHelpers} from './ui/Templates/TemplateHelpers';\nexport {TemplateCache} from './ui/Templates/TemplateCache';\nexport {HtmlTemplate} from './ui/Templates/HtmlTemplate';\nexport {UnderscoreTemplate} from './ui/Templates/UnderscoreTemplate';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/TemplatesModules.ts\n **/","l":{"1":1,"2":1,"3":1,"4":1}},"src/ui/Templates/TemplateHelpers.ts":{"path":"src/ui/Templates/TemplateHelpers.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":56}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"4":{"start":{"line":17,"column":0},"end":{"line":66,"column":1}},"5":{"start":{"line":21,"column":9},"end":{"line":24,"column":3}},"6":{"start":{"line":22,"column":4},"end":{"line":22,"column":44}},"7":{"start":{"line":23,"column":4},"end":{"line":23,"column":57}},"8":{"start":{"line":36,"column":9},"end":{"line":42,"column":3}},"9":{"start":{"line":37,"column":4},"end":{"line":37,"column":34}},"10":{"start":{"line":38,"column":4},"end":{"line":38,"column":26}},"11":{"start":{"line":40,"column":4},"end":{"line":40,"column":69}},"12":{"start":{"line":41,"column":4},"end":{"line":41,"column":43}},"13":{"start":{"line":49,"column":9},"end":{"line":51,"column":3}},"14":{"start":{"line":50,"column":4},"end":{"line":50,"column":75}},"15":{"start":{"line":57,"column":9},"end":{"line":59,"column":3}},"16":{"start":{"line":58,"column":4},"end":{"line":58,"column":35}},"17":{"start":{"line":61,"column":17},"end":{"line":65,"column":3}},"18":{"start":{"line":62,"column":4},"end":{"line":62,"column":34}},"19":{"start":{"line":63,"column":4},"end":{"line":63,"column":26}},"20":{"start":{"line":64,"column":4},"end":{"line":64,"column":60}},"21":{"start":{"line":18,"column":17},"end":{"line":18,"column":84}},"22":{"start":{"line":19,"column":16},"end":{"line":19,"column":44}},"23":{"start":{"line":66,"column":0},"end":{"line":66,"column":1}},"24":{"start":{"line":17,"column":13},"end":{"line":66,"column":1}}},"fnMap":{"1":{"name":"(anonymous_2326)","line":17,"loc":{"start":{"line":17,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_2328)","line":21,"loc":{"start":{"line":21,"column":2},"end":{"line":21,"column":95}}},"3":{"name":"(anonymous_2329)","line":36,"loc":{"start":{"line":36,"column":2},"end":{"line":36,"column":77}}},"4":{"name":"(anonymous_2330)","line":49,"loc":{"start":{"line":49,"column":2},"end":{"line":49,"column":31}}},"5":{"name":"(anonymous_2331)","line":57,"loc":{"start":{"line":57,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_2332)","line":61,"loc":{"start":{"line":61,"column":2},"end":{"line":61,"column":97}}}},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":2,"5":1,"6":14,"7":14,"8":1,"9":29,"10":29,"11":29,"12":29,"13":1,"14":479,"15":1,"16":0,"17":1,"18":29,"19":29,"20":29,"21":1,"22":1,"23":1,"24":1},"b":{},"f":{"1":1,"2":14,"3":29,"4":479,"5":0,"6":29},"code":"import {Assert} from '../../misc/Assert';\nimport {UnderscoreTemplate} from './UnderscoreTemplate';\nimport {Utils} from '../../utils/Utils';\n\n/**\n * A function that describe a templates.\n *\n * It can take any number of arguments, but needs to return a simple string.\n */\nexport interface ITemplateHelperFunction {\n  (...args: any[]): string;\n}\n\n/**\n * Allow to register and return template helpers (essentially : Utility functions that can be executed in the context of a template to render complex elements)\n */\nexport class TemplateHelpers {\n  private static helpers: { [templateName: string]: ITemplateHelperFunction; } = {};\n  public static fieldHelpers: string[] = [];\n\n  static registerFieldHelper<T1>(name: string, helper: (value: string, options?: any) => string) {\n    TemplateHelpers.fieldHelpers.push(name);\n    TemplateHelpers.registerTemplateHelper(name, helper);\n  }\n\n  static registerTemplateHelper<T1>(name: string, helper: (arg1: T1) => string);\n  static registerTemplateHelper<T1, T2>(name: string, helper: (arg1: T1, arg2: T2) => string);\n  static registerTemplateHelper<T1, T2, T3>(name: string, helper: (arg1: T1, arg2: T2, arg3: T3) => string);\n  static registerTemplateHelper<T1, T2, T3, T4>(name: string, helper: (arg1: T1, arg2: T2, arg3: T3, arg4: T4) => string);\n  static registerTemplateHelper<T1, T2, T3, T4, T5>(name: string, helper: (arg1: T1, arg2: T2, arg3: T3, arg4: T4, arg5: T5) => string);\n  /**\n   * Register a new helper in the framework, that will be available inside all templates execution context.\n   * @param name\n   * @param helper\n   */\n  static registerTemplateHelper(name: string, helper: ITemplateHelperFunction) {\n    Assert.isNonEmptyString(name);\n    Assert.exists(helper);\n\n    TemplateHelpers.registerTemplateHelperInUnderscore(name, helper);\n    TemplateHelpers.helpers[name] = helper;\n  }\n\n  /**\n   * Return a template helper function\n   * @param name\n   * @returns {any}\n   */\n  static getHelper(name: string): ITemplateHelperFunction {\n    return Utils.getCaseInsensitiveProperty(TemplateHelpers.helpers, name);\n  }\n\n  /**\n   * Get all available helpers\n   * @returns {{}}\n   */\n  static getHelpers() {\n    return TemplateHelpers.helpers;\n  }\n\n  private static registerTemplateHelperInUnderscore(name: string, helper: ITemplateHelperFunction) {\n    Assert.isNonEmptyString(name);\n    Assert.exists(helper);\n    UnderscoreTemplate.registerTemplateHelper(name, helper);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Templates/TemplateHelpers.ts\n **/","l":{"1":1,"2":1,"3":1,"17":2,"18":1,"19":1,"21":1,"22":14,"23":14,"36":1,"37":29,"38":29,"40":29,"41":29,"49":1,"50":479,"57":1,"58":0,"61":1,"62":29,"63":29,"64":29,"66":1}},"src/ui/Templates/CoreHelpers.ts":{"path":"src/ui/Templates/CoreHelpers.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":49}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":57}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":73}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":69}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":81}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":102}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":47}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":39}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":51}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":73}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":49}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":49}},"13":{"start":{"line":16,"column":0},"end":{"line":16,"column":51}},"14":{"start":{"line":17,"column":0},"end":{"line":17,"column":45}},"15":{"start":{"line":18,"column":0},"end":{"line":18,"column":34}},"16":{"start":{"line":19,"column":0},"end":{"line":19,"column":56}},"17":{"start":{"line":20,"column":0},"end":{"line":20,"column":52}},"18":{"start":{"line":21,"column":0},"end":{"line":21,"column":70}},"19":{"start":{"line":22,"column":0},"end":{"line":22,"column":40}},"20":{"start":{"line":236,"column":0},"end":{"line":240,"column":1}},"21":{"start":{"line":237,"column":2},"end":{"line":239,"column":3}},"22":{"start":{"line":240,"column":0},"end":{"line":240,"column":1}},"23":{"start":{"line":236,"column":13},"end":{"line":240,"column":1}},"24":{"start":{"line":242,"column":0},"end":{"line":244,"column":3}},"25":{"start":{"line":243,"column":2},"end":{"line":243,"column":79}},"26":{"start":{"line":246,"column":0},"end":{"line":254,"column":3}},"27":{"start":{"line":247,"column":2},"end":{"line":247,"column":73}},"28":{"start":{"line":249,"column":2},"end":{"line":253,"column":3}},"29":{"start":{"line":250,"column":4},"end":{"line":250,"column":117}},"30":{"start":{"line":252,"column":4},"end":{"line":252,"column":29}},"31":{"start":{"line":256,"column":0},"end":{"line":264,"column":3}},"32":{"start":{"line":257,"column":2},"end":{"line":257,"column":64}},"33":{"start":{"line":259,"column":2},"end":{"line":263,"column":3}},"34":{"start":{"line":260,"column":4},"end":{"line":260,"column":117}},"35":{"start":{"line":262,"column":4},"end":{"line":262,"column":29}},"36":{"start":{"line":266,"column":0},"end":{"line":274,"column":3}},"37":{"start":{"line":267,"column":2},"end":{"line":267,"column":63}},"38":{"start":{"line":269,"column":2},"end":{"line":273,"column":3}},"39":{"start":{"line":270,"column":4},"end":{"line":270,"column":117}},"40":{"start":{"line":272,"column":4},"end":{"line":272,"column":29}},"41":{"start":{"line":276,"column":0},"end":{"line":286,"column":3}},"42":{"start":{"line":277,"column":2},"end":{"line":285,"column":3}},"43":{"start":{"line":278,"column":4},"end":{"line":282,"column":5}},"44":{"start":{"line":279,"column":6},"end":{"line":279,"column":96}},"45":{"start":{"line":281,"column":6},"end":{"line":281,"column":21}},"46":{"start":{"line":284,"column":4},"end":{"line":284,"column":21}},"47":{"start":{"line":288,"column":0},"end":{"line":298,"column":3}},"48":{"start":{"line":288,"column":80},"end":{"line":288,"column":136}},"49":{"start":{"line":288,"column":138},"end":{"line":288,"column":198}},"50":{"start":{"line":289,"column":2},"end":{"line":297,"column":3}},"51":{"start":{"line":290,"column":4},"end":{"line":294,"column":5}},"52":{"start":{"line":291,"column":6},"end":{"line":291,"column":107}},"53":{"start":{"line":293,"column":6},"end":{"line":293,"column":21}},"54":{"start":{"line":296,"column":4},"end":{"line":296,"column":21}},"55":{"start":{"line":300,"column":0},"end":{"line":310,"column":3}},"56":{"start":{"line":300,"column":80},"end":{"line":300,"column":136}},"57":{"start":{"line":300,"column":138},"end":{"line":300,"column":198}},"58":{"start":{"line":301,"column":2},"end":{"line":309,"column":3}},"59":{"start":{"line":302,"column":4},"end":{"line":306,"column":5}},"60":{"start":{"line":303,"column":6},"end":{"line":303,"column":107}},"61":{"start":{"line":305,"column":6},"end":{"line":305,"column":21}},"62":{"start":{"line":308,"column":4},"end":{"line":308,"column":21}},"63":{"start":{"line":312,"column":0},"end":{"line":323,"column":3}},"64":{"start":{"line":313,"column":2},"end":{"line":313,"column":33}},"65":{"start":{"line":314,"column":2},"end":{"line":322,"column":3}},"66":{"start":{"line":315,"column":4},"end":{"line":319,"column":5}},"67":{"start":{"line":316,"column":6},"end":{"line":316,"column":84}},"68":{"start":{"line":318,"column":6},"end":{"line":318,"column":60}},"69":{"start":{"line":321,"column":4},"end":{"line":321,"column":21}},"70":{"start":{"line":325,"column":0},"end":{"line":327,"column":3}},"71":{"start":{"line":326,"column":2},"end":{"line":326,"column":87}},"72":{"start":{"line":329,"column":0},"end":{"line":331,"column":3}},"73":{"start":{"line":330,"column":2},"end":{"line":330,"column":87}},"74":{"start":{"line":333,"column":0},"end":{"line":335,"column":3}},"75":{"start":{"line":334,"column":2},"end":{"line":334,"column":91}},"76":{"start":{"line":337,"column":0},"end":{"line":342,"column":3}},"77":{"start":{"line":338,"column":2},"end":{"line":338,"column":48}},"78":{"start":{"line":339,"column":2},"end":{"line":339,"column":46}},"79":{"start":{"line":340,"column":2},"end":{"line":340,"column":77}},"80":{"start":{"line":341,"column":2},"end":{"line":341,"column":116}},"81":{"start":{"line":344,"column":0},"end":{"line":346,"column":3}},"82":{"start":{"line":345,"column":2},"end":{"line":345,"column":56}},"83":{"start":{"line":348,"column":0},"end":{"line":350,"column":3}},"84":{"start":{"line":348,"column":61},"end":{"line":348,"column":119}},"85":{"start":{"line":349,"column":2},"end":{"line":349,"column":65}},"86":{"start":{"line":352,"column":0},"end":{"line":383,"column":3}},"87":{"start":{"line":352,"column":58},"end":{"line":352,"column":72}},"88":{"start":{"line":354,"column":2},"end":{"line":354,"column":28}},"89":{"start":{"line":355,"column":2},"end":{"line":355,"column":17}},"90":{"start":{"line":356,"column":2},"end":{"line":356,"column":26}},"91":{"start":{"line":357,"column":2},"end":{"line":357,"column":28}},"92":{"start":{"line":358,"column":2},"end":{"line":368,"column":3}},"93":{"start":{"line":359,"column":4},"end":{"line":359,"column":45}},"94":{"start":{"line":360,"column":4},"end":{"line":360,"column":23}},"95":{"start":{"line":361,"column":4},"end":{"line":361,"column":41}},"96":{"start":{"line":362,"column":4},"end":{"line":362,"column":43}},"97":{"start":{"line":364,"column":4},"end":{"line":364,"column":28}},"98":{"start":{"line":365,"column":4},"end":{"line":365,"column":17}},"99":{"start":{"line":366,"column":4},"end":{"line":366,"column":26}},"100":{"start":{"line":367,"column":4},"end":{"line":367,"column":27}},"101":{"start":{"line":369,"column":2},"end":{"line":371,"column":3}},"102":{"start":{"line":370,"column":4},"end":{"line":370,"column":20}},"103":{"start":{"line":372,"column":2},"end":{"line":374,"column":3}},"104":{"start":{"line":373,"column":4},"end":{"line":373,"column":25}},"105":{"start":{"line":375,"column":2},"end":{"line":382,"column":3}},"106":{"start":{"line":376,"column":4},"end":{"line":376,"column":96}},"107":{"start":{"line":377,"column":4},"end":{"line":377,"column":112}},"108":{"start":{"line":378,"column":9},"end":{"line":382,"column":3}},"109":{"start":{"line":379,"column":4},"end":{"line":379,"column":112}},"110":{"start":{"line":381,"column":4},"end":{"line":381,"column":21}},"111":{"start":{"line":385,"column":0},"end":{"line":398,"column":2}},"112":{"start":{"line":386,"column":2},"end":{"line":386,"column":41}},"113":{"start":{"line":387,"column":2},"end":{"line":396,"column":3}},"114":{"start":{"line":388,"column":4},"end":{"line":390,"column":6}},"115":{"start":{"line":389,"column":6},"end":{"line":389,"column":43}},"116":{"start":{"line":391,"column":9},"end":{"line":396,"column":3}},"117":{"start":{"line":392,"column":4},"end":{"line":392,"column":56}},"118":{"start":{"line":393,"column":4},"end":{"line":395,"column":6}},"119":{"start":{"line":394,"column":6},"end":{"line":394,"column":43}},"120":{"start":{"line":397,"column":2},"end":{"line":397,"column":19}},"121":{"start":{"line":400,"column":0},"end":{"line":402,"column":3}},"122":{"start":{"line":401,"column":2},"end":{"line":401,"column":48}},"123":{"start":{"line":404,"column":0},"end":{"line":406,"column":3}},"124":{"start":{"line":405,"column":2},"end":{"line":405,"column":45}},"125":{"start":{"line":408,"column":0},"end":{"line":412,"column":3}},"126":{"start":{"line":408,"column":53},"end":{"line":408,"column":96}},"127":{"start":{"line":408,"column":98},"end":{"line":408,"column":126}},"128":{"start":{"line":409,"column":2},"end":{"line":411,"column":3}},"129":{"start":{"line":410,"column":4},"end":{"line":410,"column":96}},"130":{"start":{"line":414,"column":0},"end":{"line":416,"column":3}},"131":{"start":{"line":414,"column":62},"end":{"line":414,"column":105}},"132":{"start":{"line":414,"column":107},"end":{"line":414,"column":133}},"133":{"start":{"line":415,"column":2},"end":{"line":415,"column":52}},"134":{"start":{"line":418,"column":0},"end":{"line":425,"column":3}},"135":{"start":{"line":419,"column":2},"end":{"line":424,"column":26}},"136":{"start":{"line":427,"column":0},"end":{"line":444,"column":2}},"137":{"start":{"line":427,"column":58},"end":{"line":427,"column":101}},"138":{"start":{"line":428,"column":2},"end":{"line":428,"column":26}},"139":{"start":{"line":429,"column":2},"end":{"line":441,"column":3}},"140":{"start":{"line":430,"column":4},"end":{"line":440,"column":7}},"141":{"start":{"line":431,"column":6},"end":{"line":431,"column":24}},"142":{"start":{"line":432,"column":6},"end":{"line":438,"column":9}},"143":{"start":{"line":433,"column":8},"end":{"line":437,"column":9}},"144":{"start":{"line":434,"column":10},"end":{"line":434,"column":89}},"145":{"start":{"line":436,"column":10},"end":{"line":436,"column":73}},"146":{"start":{"line":439,"column":6},"end":{"line":439,"column":40}},"147":{"start":{"line":442,"column":2},"end":{"line":442,"column":23}},"148":{"start":{"line":446,"column":0},"end":{"line":470,"column":2}},"149":{"start":{"line":446,"column":97},"end":{"line":446,"column":108}},"150":{"start":{"line":447,"column":2},"end":{"line":447,"column":15}},"151":{"start":{"line":448,"column":2},"end":{"line":448,"column":34}},"152":{"start":{"line":449,"column":2},"end":{"line":449,"column":34}},"153":{"start":{"line":450,"column":2},"end":{"line":450,"column":31}},"154":{"start":{"line":451,"column":2},"end":{"line":451,"column":18}},"155":{"start":{"line":452,"column":2},"end":{"line":456,"column":4}},"156":{"start":{"line":453,"column":4},"end":{"line":455,"column":5}},"157":{"start":{"line":454,"column":6},"end":{"line":454,"column":24}},"158":{"start":{"line":457,"column":2},"end":{"line":459,"column":3}},"159":{"start":{"line":458,"column":4},"end":{"line":458,"column":49}},"160":{"start":{"line":460,"column":2},"end":{"line":465,"column":4}},"161":{"start":{"line":461,"column":4},"end":{"line":464,"column":5}},"162":{"start":{"line":462,"column":6},"end":{"line":462,"column":61}},"163":{"start":{"line":463,"column":6},"end":{"line":463,"column":76}},"164":{"start":{"line":466,"column":2},"end":{"line":468,"column":3}},"165":{"start":{"line":467,"column":4},"end":{"line":467,"column":78}},"166":{"start":{"line":469,"column":2},"end":{"line":469,"column":13}},"167":{"start":{"line":472,"column":0},"end":{"line":472,"column":60}},"168":{"start":{"line":474,"column":0},"end":{"line":484,"column":3}},"169":{"start":{"line":475,"column":2},"end":{"line":475,"column":27}},"170":{"start":{"line":476,"column":2},"end":{"line":476,"column":89}},"171":{"start":{"line":477,"column":2},"end":{"line":477,"column":74}},"172":{"start":{"line":478,"column":2},"end":{"line":481,"column":3}},"173":{"start":{"line":479,"column":4},"end":{"line":479,"column":17}},"174":{"start":{"line":480,"column":4},"end":{"line":480,"column":11}},"175":{"start":{"line":482,"column":2},"end":{"line":482,"column":78}},"176":{"start":{"line":483,"column":2},"end":{"line":483,"column":40}},"177":{"start":{"line":486,"column":0},"end":{"line":494,"column":3}},"178":{"start":{"line":486,"column":68},"end":{"line":486,"column":93}},"179":{"start":{"line":487,"column":2},"end":{"line":489,"column":3}},"180":{"start":{"line":488,"column":4},"end":{"line":488,"column":32}},"181":{"start":{"line":490,"column":2},"end":{"line":492,"column":3}},"182":{"start":{"line":491,"column":4},"end":{"line":491,"column":74}},"183":{"start":{"line":493,"column":2},"end":{"line":493,"column":12}},"184":{"start":{"line":496,"column":0},"end":{"line":502,"column":3}},"185":{"start":{"line":497,"column":2},"end":{"line":501,"column":3}},"186":{"start":{"line":498,"column":4},"end":{"line":498,"column":21}},"187":{"start":{"line":500,"column":4},"end":{"line":500,"column":50}},"188":{"start":{"line":504,"column":0},"end":{"line":506,"column":3}},"189":{"start":{"line":505,"column":2},"end":{"line":505,"column":75}},"190":{"start":{"line":508,"column":0},"end":{"line":510,"column":1}},"191":{"start":{"line":509,"column":2},"end":{"line":509,"column":49}}},"fnMap":{"1":{"name":"(anonymous_2335)","line":236,"loc":{"start":{"line":236,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"CoreHelpers","line":237,"loc":{"start":{"line":237,"column":2},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_2337)","line":242,"loc":{"start":{"line":242,"column":56},"end":{"line":242,"column":70}}},"4":{"name":"(anonymous_2338)","line":246,"loc":{"start":{"line":246,"column":50},"end":{"line":246,"column":128}}},"5":{"name":"(anonymous_2339)","line":256,"loc":{"start":{"line":256,"column":54},"end":{"line":256,"column":132}}},"6":{"name":"(anonymous_2340)","line":266,"loc":{"start":{"line":266,"column":53},"end":{"line":266,"column":131}}},"7":{"name":"(anonymous_2341)","line":276,"loc":{"start":{"line":276,"column":52},"end":{"line":276,"column":113}}},"8":{"name":"(anonymous_2342)","line":288,"loc":{"start":{"line":288,"column":62},"end":{"line":288,"column":230}}},"9":{"name":"(anonymous_2343)","line":300,"loc":{"start":{"line":300,"column":62},"end":{"line":300,"column":230}}},"10":{"name":"(anonymous_2344)","line":312,"loc":{"start":{"line":312,"column":46},"end":{"line":312,"column":72}}},"11":{"name":"(anonymous_2345)","line":325,"loc":{"start":{"line":325,"column":44},"end":{"line":325,"column":87}}},"12":{"name":"(anonymous_2346)","line":329,"loc":{"start":{"line":329,"column":44},"end":{"line":329,"column":87}}},"13":{"name":"(anonymous_2347)","line":333,"loc":{"start":{"line":333,"column":48},"end":{"line":333,"column":91}}},"14":{"name":"(anonymous_2348)","line":337,"loc":{"start":{"line":337,"column":53},"end":{"line":337,"column":96}}},"15":{"name":"(anonymous_2349)","line":344,"loc":{"start":{"line":344,"column":48},"end":{"line":344,"column":95}}},"16":{"name":"(anonymous_2350)","line":348,"loc":{"start":{"line":348,"column":48},"end":{"line":348,"column":119}}},"17":{"name":"(anonymous_2351)","line":352,"loc":{"start":{"line":352,"column":45},"end":{"line":352,"column":56}}},"18":{"name":"(anonymous_2352)","line":385,"loc":{"start":{"line":385,"column":60},"end":{"line":385,"column":80}}},"19":{"name":"(anonymous_2353)","line":388,"loc":{"start":{"line":388,"column":65},"end":{"line":388,"column":73}}},"20":{"name":"(anonymous_2354)","line":393,"loc":{"start":{"line":393,"column":80},"end":{"line":393,"column":88}}},"21":{"name":"(anonymous_2355)","line":400,"loc":{"start":{"line":400,"column":46},"end":{"line":400,"column":90}}},"22":{"name":"(anonymous_2356)","line":404,"loc":{"start":{"line":404,"column":45},"end":{"line":404,"column":87}}},"23":{"name":"(anonymous_2357)","line":408,"loc":{"start":{"line":408,"column":52},"end":{"line":408,"column":156}}},"24":{"name":"(anonymous_2358)","line":414,"loc":{"start":{"line":414,"column":61},"end":{"line":414,"column":133}}},"25":{"name":"(anonymous_2359)","line":418,"loc":{"start":{"line":418,"column":53},"end":{"line":418,"column":67}}},"26":{"name":"(anonymous_2360)","line":427,"loc":{"start":{"line":427,"column":57},"end":{"line":427,"column":101}}},"27":{"name":"(anonymous_2361)","line":430,"loc":{"start":{"line":430,"column":29},"end":{"line":430,"column":45}}},"28":{"name":"(anonymous_2362)","line":432,"loc":{"start":{"line":432,"column":28},"end":{"line":432,"column":52}}},"29":{"name":"(anonymous_2363)","line":446,"loc":{"start":{"line":446,"column":56},"end":{"line":446,"column":108}}},"30":{"name":"(anonymous_2364)","line":452,"loc":{"start":{"line":452,"column":26},"end":{"line":452,"column":44}}},"31":{"name":"(anonymous_2365)","line":460,"loc":{"start":{"line":460,"column":17},"end":{"line":460,"column":38}}},"32":{"name":"(anonymous_2366)","line":474,"loc":{"start":{"line":474,"column":44},"end":{"line":474,"column":105}}},"33":{"name":"(anonymous_2367)","line":486,"loc":{"start":{"line":486,"column":55},"end":{"line":486,"column":105}}},"34":{"name":"(anonymous_2368)","line":496,"loc":{"start":{"line":496,"column":63},"end":{"line":496,"column":76}}},"35":{"name":"(anonymous_2369)","line":504,"loc":{"start":{"line":504,"column":57},"end":{"line":null,"column":-1}}},"36":{"name":"resolveQueryResult","line":508,"loc":{"start":{"line":508,"column":0},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":243,"type":"cond-expr","locations":[{"start":{"line":243,"column":31},"end":{"line":243,"column":66}},{"start":{"line":243,"column":69},"end":{"line":243,"column":78}}]},"2":{"line":249,"type":"if","locations":[{"start":{"line":249,"column":2},"end":{"line":249,"column":1}},{"start":{"line":249,"column":2},"end":{"line":249,"column":1}}]},"3":{"line":250,"type":"binary-expr","locations":[{"start":{"line":250,"column":92},"end":{"line":250,"column":100}},{"start":{"line":250,"column":104},"end":{"line":250,"column":115}}]},"4":{"line":259,"type":"if","locations":[{"start":{"line":259,"column":2},"end":{"line":259,"column":1}},{"start":{"line":259,"column":2},"end":{"line":259,"column":1}}]},"5":{"line":260,"type":"binary-expr","locations":[{"start":{"line":260,"column":92},"end":{"line":260,"column":100}},{"start":{"line":260,"column":104},"end":{"line":260,"column":115}}]},"6":{"line":269,"type":"if","locations":[{"start":{"line":269,"column":2},"end":{"line":269,"column":1}},{"start":{"line":269,"column":2},"end":{"line":269,"column":1}}]},"7":{"line":270,"type":"binary-expr","locations":[{"start":{"line":270,"column":92},"end":{"line":270,"column":100}},{"start":{"line":270,"column":104},"end":{"line":270,"column":115}}]},"8":{"line":277,"type":"if","locations":[{"start":{"line":277,"column":2},"end":{"line":277,"column":1}},{"start":{"line":277,"column":2},"end":{"line":277,"column":1}}]},"9":{"line":278,"type":"if","locations":[{"start":{"line":278,"column":4},"end":{"line":278,"column":3}},{"start":{"line":278,"column":4},"end":{"line":278,"column":3}}]},"10":{"line":279,"type":"binary-expr","locations":[{"start":{"line":279,"column":71},"end":{"line":279,"column":79}},{"start":{"line":279,"column":83},"end":{"line":279,"column":94}}]},"11":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":80},"end":{"line":288,"column":79}},{"start":{"line":288,"column":80},"end":{"line":288,"column":79}}]},"12":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":138},"end":{"line":288,"column":137}},{"start":{"line":288,"column":138},"end":{"line":288,"column":137}}]},"13":{"line":289,"type":"if","locations":[{"start":{"line":289,"column":2},"end":{"line":289,"column":1}},{"start":{"line":289,"column":2},"end":{"line":289,"column":1}}]},"14":{"line":290,"type":"if","locations":[{"start":{"line":290,"column":4},"end":{"line":290,"column":3}},{"start":{"line":290,"column":4},"end":{"line":290,"column":3}}]},"15":{"line":290,"type":"binary-expr","locations":[{"start":{"line":290,"column":8},"end":{"line":290,"column":55}},{"start":{"line":290,"column":59},"end":{"line":290,"column":108}}]},"16":{"line":300,"type":"if","locations":[{"start":{"line":300,"column":80},"end":{"line":300,"column":79}},{"start":{"line":300,"column":80},"end":{"line":300,"column":79}}]},"17":{"line":300,"type":"if","locations":[{"start":{"line":300,"column":138},"end":{"line":300,"column":137}},{"start":{"line":300,"column":138},"end":{"line":300,"column":137}}]},"18":{"line":301,"type":"if","locations":[{"start":{"line":301,"column":2},"end":{"line":301,"column":1}},{"start":{"line":301,"column":2},"end":{"line":301,"column":1}}]},"19":{"line":302,"type":"if","locations":[{"start":{"line":302,"column":4},"end":{"line":302,"column":3}},{"start":{"line":302,"column":4},"end":{"line":302,"column":3}}]},"20":{"line":314,"type":"if","locations":[{"start":{"line":314,"column":2},"end":{"line":314,"column":1}},{"start":{"line":314,"column":2},"end":{"line":314,"column":1}}]},"21":{"line":315,"type":"if","locations":[{"start":{"line":315,"column":4},"end":{"line":315,"column":3}},{"start":{"line":315,"column":4},"end":{"line":315,"column":3}}]},"22":{"line":341,"type":"cond-expr","locations":[{"start":{"line":341,"column":17},"end":{"line":341,"column":103}},{"start":{"line":341,"column":106},"end":{"line":341,"column":115}}]},"23":{"line":348,"type":"if","locations":[{"start":{"line":348,"column":61},"end":{"line":348,"column":60}},{"start":{"line":348,"column":61},"end":{"line":348,"column":60}}]},"24":{"line":358,"type":"if","locations":[{"start":{"line":358,"column":2},"end":{"line":358,"column":1}},{"start":{"line":358,"column":2},"end":{"line":358,"column":1}}]},"25":{"line":369,"type":"if","locations":[{"start":{"line":369,"column":2},"end":{"line":369,"column":1}},{"start":{"line":369,"column":2},"end":{"line":369,"column":1}}]},"26":{"line":372,"type":"if","locations":[{"start":{"line":372,"column":2},"end":{"line":372,"column":1}},{"start":{"line":372,"column":2},"end":{"line":372,"column":1}}]},"27":{"line":375,"type":"if","locations":[{"start":{"line":375,"column":2},"end":{"line":375,"column":1}},{"start":{"line":375,"column":2},"end":{"line":375,"column":1}}]},"28":{"line":378,"type":"if","locations":[{"start":{"line":378,"column":9},"end":{"line":378,"column":8}},{"start":{"line":378,"column":9},"end":{"line":378,"column":8}}]},"29":{"line":387,"type":"if","locations":[{"start":{"line":387,"column":2},"end":{"line":387,"column":1}},{"start":{"line":387,"column":2},"end":{"line":387,"column":1}}]},"30":{"line":391,"type":"if","locations":[{"start":{"line":391,"column":9},"end":{"line":391,"column":8}},{"start":{"line":391,"column":9},"end":{"line":391,"column":8}}]},"31":{"line":408,"type":"if","locations":[{"start":{"line":408,"column":53},"end":{"line":408,"column":52}},{"start":{"line":408,"column":53},"end":{"line":408,"column":52}}]},"32":{"line":408,"type":"if","locations":[{"start":{"line":408,"column":98},"end":{"line":408,"column":97}},{"start":{"line":408,"column":98},"end":{"line":408,"column":97}}]},"33":{"line":409,"type":"if","locations":[{"start":{"line":409,"column":2},"end":{"line":409,"column":1}},{"start":{"line":409,"column":2},"end":{"line":409,"column":1}}]},"34":{"line":414,"type":"if","locations":[{"start":{"line":414,"column":62},"end":{"line":414,"column":61}},{"start":{"line":414,"column":62},"end":{"line":414,"column":61}}]},"35":{"line":414,"type":"if","locations":[{"start":{"line":414,"column":107},"end":{"line":414,"column":106}},{"start":{"line":414,"column":107},"end":{"line":414,"column":106}}]},"36":{"line":427,"type":"if","locations":[{"start":{"line":427,"column":58},"end":{"line":427,"column":57}},{"start":{"line":427,"column":58},"end":{"line":427,"column":57}}]},"37":{"line":429,"type":"if","locations":[{"start":{"line":429,"column":2},"end":{"line":429,"column":1}},{"start":{"line":429,"column":2},"end":{"line":429,"column":1}}]},"38":{"line":433,"type":"if","locations":[{"start":{"line":433,"column":8},"end":{"line":433,"column":7}},{"start":{"line":433,"column":8},"end":{"line":433,"column":7}}]},"39":{"line":446,"type":"if","locations":[{"start":{"line":446,"column":97},"end":{"line":446,"column":96}},{"start":{"line":446,"column":97},"end":{"line":446,"column":96}}]},"40":{"line":453,"type":"if","locations":[{"start":{"line":453,"column":4},"end":{"line":453,"column":3}},{"start":{"line":453,"column":4},"end":{"line":453,"column":3}}]},"41":{"line":457,"type":"if","locations":[{"start":{"line":457,"column":2},"end":{"line":457,"column":1}},{"start":{"line":457,"column":2},"end":{"line":457,"column":1}}]},"42":{"line":461,"type":"if","locations":[{"start":{"line":461,"column":4},"end":{"line":461,"column":3}},{"start":{"line":461,"column":4},"end":{"line":461,"column":3}}]},"43":{"line":461,"type":"binary-expr","locations":[{"start":{"line":461,"column":8},"end":{"line":461,"column":28}},{"start":{"line":461,"column":32},"end":{"line":461,"column":37}}]},"44":{"line":462,"type":"binary-expr","locations":[{"start":{"line":462,"column":28},"end":{"line":462,"column":47}},{"start":{"line":462,"column":51},"end":{"line":462,"column":60}}]},"45":{"line":466,"type":"if","locations":[{"start":{"line":466,"column":2},"end":{"line":466,"column":1}},{"start":{"line":466,"column":2},"end":{"line":466,"column":1}}]},"46":{"line":466,"type":"binary-expr","locations":[{"start":{"line":466,"column":6},"end":{"line":466,"column":26}},{"start":{"line":466,"column":30},"end":{"line":466,"column":54}}]},"47":{"line":476,"type":"cond-expr","locations":[{"start":{"line":476,"column":66},"end":{"line":476,"column":83}},{"start":{"line":476,"column":86},"end":{"line":476,"column":87}}]},"48":{"line":476,"type":"binary-expr","locations":[{"start":{"line":476,"column":19},"end":{"line":476,"column":34}},{"start":{"line":476,"column":38},"end":{"line":476,"column":63}}]},"49":{"line":477,"type":"cond-expr","locations":[{"start":{"line":477,"column":56},"end":{"line":477,"column":68}},{"start":{"line":477,"column":71},"end":{"line":477,"column":72}}]},"50":{"line":477,"type":"binary-expr","locations":[{"start":{"line":477,"column":14},"end":{"line":477,"column":29}},{"start":{"line":477,"column":33},"end":{"line":477,"column":53}}]},"51":{"line":478,"type":"binary-expr","locations":[{"start":{"line":478,"column":9},"end":{"line":478,"column":20}},{"start":{"line":478,"column":24},"end":{"line":478,"column":53}}]},"52":{"line":486,"type":"if","locations":[{"start":{"line":486,"column":68},"end":{"line":486,"column":67}},{"start":{"line":486,"column":68},"end":{"line":486,"column":67}}]},"53":{"line":487,"type":"if","locations":[{"start":{"line":487,"column":2},"end":{"line":487,"column":1}},{"start":{"line":487,"column":2},"end":{"line":487,"column":1}}]},"54":{"line":490,"type":"if","locations":[{"start":{"line":490,"column":2},"end":{"line":490,"column":1}},{"start":{"line":490,"column":2},"end":{"line":490,"column":1}}]},"55":{"line":497,"type":"if","locations":[{"start":{"line":497,"column":2},"end":{"line":497,"column":1}},{"start":{"line":497,"column":2},"end":{"line":497,"column":1}}]},"56":{"line":505,"type":"cond-expr","locations":[{"start":{"line":505,"column":40},"end":{"line":505,"column":67}},{"start":{"line":505,"column":70},"end":{"line":505,"column":74}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":1,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":1,"42":474,"43":316,"44":0,"45":316,"46":158,"47":1,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":1,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":1,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":1,"71":1,"72":1,"73":0,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":0,"83":1,"84":0,"85":0,"86":1,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":1,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":1,"122":0,"123":1,"124":0,"125":1,"126":0,"127":0,"128":0,"129":0,"130":1,"131":0,"132":0,"133":0,"134":1,"135":0,"136":1,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":1,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":1,"168":1,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":1,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":1,"185":0,"186":0,"187":0,"188":1,"189":0,"190":1,"191":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[316,158],"9":[0,316],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[1,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":474,"8":0,"9":0,"10":0,"11":1,"12":0,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0},"code":"import {TemplateHelpers} from './TemplateHelpers'\nimport {ComponentOptions} from '../Base/ComponentOptions'\nimport {IHighlight, IHighlightPhrase, IHighlightTerm} from '../../rest/Highlight'\nimport {HighlightUtils, StringAndHoles} from '../../utils/HighlightUtils'\nimport {IStreamHighlightOptions} from '../../utils/StreamHighlightUtils'\nimport {IDateToStringOptions, DateUtils} from '../../utils/DateUtils'\nimport {ICurrencyToStringOptions, CurrencyUtils} from '../../utils/CurrencyUtils'\nimport {IAnchorUtilsOptions, IImageUtilsOptions, AnchorUtils, ImageUtils} from '../../utils/HtmlUtils'\nimport {IQueryResult} from '../../rest/QueryResult'\nimport {IIconOptions, Icon} from '../Icon/Icon'\nimport {Utils} from '../../utils/Utils'\nimport {StringUtils} from '../../utils/StringUtils'\nimport {TimeSpan, ITimeSpanUtilsOptions} from '../../utils/TimeSpanUtils'\nimport {EmailUtils} from '../../utils/EmailUtils'\nimport {QueryUtils} from '../../utils/QueryUtils'\nimport {DeviceUtils} from '../../utils/DeviceUtils'\nimport {TemplateCache} from './TemplateCache'\nimport {$$} from '../../utils/Dom'\nimport {SearchEndpoint} from '../../rest/SearchEndpoint'\nimport {ResultList} from '../ResultList/ResultList';\nimport {StreamHighlightUtils} from '../../utils/StreamHighlightUtils';\nimport Globalize = require('globalize');\n\n/**\n * The core template helpers provided by default.\n *\n * Example usage (using Underscore templating):\n *\n * ```\n * <%= helperName(argument1, argument2) %>\n * ```\n */\nexport interface ICoreHelpers {\n  /**\n   * Shortens a string so that its length does not exceed a specific number of\n   * characters. An ellipsis is appended to the string if it exceeds the\n   * maximum length.\n   *\n   * - `value`: The string to shorten.\n   * - `length`: The maximum length of the resulting string.\n   * - `highlights`: Optional. If provided, the string will be highlighted\n   *   using this highlight information.\n   * - `cssClass`: Optional. When highlighting, the name of the CSS class to use.\n   */\n  shorten: (content: string, length: number, highlights?: IHighlight[], cssClass?: string) => string;\n  /**\n   * Shortens a string using an algorithm suitable for file paths. The helper\n   * will insert an ellipsis in the string where text has been removed when\n   * the path exceeds the maximum length.\n   *\n   * - `value`: The path to shorten.\n   * - `length`: The maximum length of the resulting string.\n   * - `highlights`: Optional. If provided, the string will be highlighted using\n   *   this highlight information.\n   * - `cssClass`: Optional. When highlighting, the name of the CSS class to use.\n   */\n  shortenPath: (content: string, length: number, highlights?: IHighlight[], cssClass?: string) => string;\n  /**\n   * Shortens a string using an algorithm suitable for URIs. The helper will\n   * insert an ellipsis in the string where text has been removed when the URI\n   * exceeds the maximum length.\n   *\n   * - `value`: The URI to shorten.\n   * - `length`: The maximum length of the resulting string.\n   * - `highlights`: Optional. If provided, the string will be highlighted\n   *   using this highlight information.\n   * - `cssClass`: Optional. When highlighting, the name of the CSS class to use.\n   */\n  shortenUri: (content: string, length: number, highlights?: IHighlight[], cssClass?: string) => string;\n  /**\n   * Highlights a string using the provided highlight information.\n   *\n   * - `highlights`: The highlight information to use.\n   * - `cssClass`: Optional. The name of the CSS class to use for highlighting.\n   */\n  highlight: (content: string, highlights?: IHighlight[], cssClass?: string) => string;\n  /**\n   * This helper highlights the provided terms in a given string.<br/>\n   * By default, the terms to highlight are the current query and the\n   * associated stemming words from the index.\n   *\n   * - `content`: The string content to highlight\n   * - `termsToHighlight`: The terms to highlight (see {@link IHighlightTerm})\n   * - `phraseToHighlight`: The phrases to highlight (see {@link IHighlightPhrase})\n   * - `options`: Optional. The options defined below as {@link IStreamHighlightOptions}\n   */\n  highlightStreamText: (content: string,\n    termsToHighlight: IHighlightTerm,\n    phrasesToHighlight: IHighlightPhrase,\n    options?: IStreamHighlightOptions) => string;\n  /**\n   * This helper operates exactly like the {@link highlightStreamText} helper, except\n   * that it should be used to highlight HTML content. The helper takes care\n   * of not highlighting the HTML markup.\n   *\n   * - `content`: The string content to highlight\n   * - `termsToHighlight`: The terms to highlight (see {@link IHighlightTerm})\n   * - `phraseToHighlight`: The phrases to highlight (see {@link IHighlightPhrase})\n   * - `options`: Optional. The options defined below as {@link IStreamHighlightOptions}\n   */\n  highlightStreamHTML: (content: string,\n    termsToHighlight: IHighlightTerm,\n    phrasesToHighlight: IHighlightPhrase,\n    options?: IStreamHighlightOptions) => string;\n  /**\n   * Formats a numeric value using the format string.\n   *\n   * - `value`: The numeric value to format.\n   * - `format`: The format string to use. The options available are defined by\n   *   the [Globalize](https://github.com/klaaspieter/jquery-global#numbers) library.\n   */\n  number: (content: string, format: string) => string;\n  /**\n   * Formats a date value to a date-only string using the specified options.\n   *\n   * - `value`: The Date value to format.\n   * - `options`: The options to use (see IDateToStringOptions).\n   */\n  date: (content: any, options?: IDateToStringOptions) => string;\n  /**\n   * Formats a date value to a time-only string using the sepcified options.\n   *\n   * - `value`: The Date value to format.\n   * - `options`: The options to use (see IDateToStringOptions).\n   */\n  time: (content: any, options?: IDateToStringOptions) => string;\n  /**\n   * Formats a date value to a date and time string using the specified\n   * options.\n   *\n   * - `value`: The Date value to format.\n   * - `options`: The options to use (see IDateToStringOptions).\n   */\n  dateTime: (content: any, options?: IDateToStringOptions) => string;\n  /**\n   * Formats a currency value to a string using the specified options.\n   *\n   * - `value`: The number value to format.\n   * - `options`: The options to use (see ICurrencyToStringOptions).\n   */\n  currency: (content: any, options?: ICurrencyToStringOptions) => string;\n  /**\n   * Formats a date value to a date and time string using options suitable for\n   * email dates\n   *\n   * - `value`: The Date value to format.\n   * - `options`: The options to use (see IDateToStringOptions).\n   */\n  emailDateTime: (content: any, options?: IDateToStringOptions) => string;\n  /**\n   * Renders one or several email values in `mailto:` hyperlinks.\n   *\n   * - `value`: The string that contains a list of semicolon-separated email\n   *   values. When multiple values are passed, each value is displayed in a\n   *   separate hyperlink.\n   * - `companyDomain`: The string that contains your own domain (e.g.,\n   *   coveo.com). When specified, this parameter allows email addresses\n   *   coming from your own domain to be displayed in a shortened format\n   *   (e.g., Full Name), whereas email addresses coming from an external\n   *   domain will be displayed in an extended format (e.g., Full Name\n   *   (domain.com)). If this parameter is not specified, then the shortened\n   *   format will automatically be used.\n   * - `me`: The string that contains the current username. If it is\n   *   specified, then the email address containing the current username will\n   *   be replaced by the localized string 'Me'.\n   * - `lengthLimit`: The number of email addresses that you want to display\n   *   before an ellipse is added (e.g., 'From Joe, John and 5 others').<br/>\n   *   The default value is 2.\n   * - `truncateName`: When the username is available from the email address,\n   *   then you can specify if you want to truncate the full name. (e.g.,\n   *   'John S.' instead of 'John Smith').<br/>\n   *   The default value is `false`.\n   */\n  email: (value: string, companyDomain?: string, me?: string, lengthLimit?: number, truncateName?: boolean) => string;\n  /**\n   * Formats a clickable HTML link (`<a>`).\n   *\n   * - `href`: The link URI\n   * - `options`: The options to use (see {@link IAnchorUtilsOptions})\n   */\n  anchor: (href: string, options?: IAnchorUtilsOptions) => string;\n  /**\n   * Formats an HTML image tag (`<img>`).\n   *\n   * - `src`: The image source URI\n   * - `options`: The options to use (see {@link IImageUtilsOptions})\n   */\n  image: (src: string, options?: IImageUtilsOptions) => string;\n  /**\n   * Formats an HTML image tag (`<img>`), and automatically uses the result\n   * object to query the REST API to get the thumbnail for this result. For\n   * example, this can be used to great effect when designing a template\n   * showing users or preview of files.\n   * - `result`: The current result object inside your template. In\n   *   underscore, it is referenced as `obj`. Optional, by default the result\n   *   will be resolved automatically from your current template function (\n   *   Meaning the nearest result in the current call stack execution inside\n   *   your template)\n   * - `endpoint`: Optional. The name of the endpoint to use for your\n   *   thumbnail. Default is default.\n   * - `options`: The options to use (see {@link IImageUtilsOptions}).\n   */\n  thumbnail: (result?: IQueryResult, endpoint?: string, options?: IImageUtilsOptions) => string;\n  /**\n   * Generates an icon based on the file type of the current result. The icon\n   * will be contained inside a `<span>` element with the appropriate CSS\n   * class.\n   *\n   * - `result`: The current result object inside your template. In\n   *   underscore, it is referenced as `obj`. *Optional*, by default the result\n   *   will be resolved automatically from your current template function (\n   *   Meaning the nearest result in the current call stack execution inside\n   *   your template)\n   * - `options`: The options to use (see {@link IIconOptions}).\n   */\n  fromFileTypeToIcon: (result?: IQueryResult, options?: IIconOptions) => string;\n  /**\n   * Loads a partial template in the current template, by passing the ID of\n   * the template to load, the condition for which this template should be\n   * loaded, and the context object (the object that the loaded template will\n   * use as its data). By default, the context object will be the same as the\n   * template that called this helper function. So, for example, in a\n   * ResultList Component, the contextObject would, by default, be the Query\n   * Results.\n   *\n   * - `templateId`: the ID of the template to load.\n   * - `condition`: The boolean condition to determine if this template should\n   *   load for this result set. Most of the time this would be a condition of\n   *   the type if raw.somefield == 'something'.\n   * - `contextObject`: The object that should be used by the loaded template\n   *   as its contextObject.\n   */\n  loadTemplate: (templateId: string, condition?: boolean, contextObject?: any) => string;\n}\n\nexport class CoreHelpers {\n  public constructor() {\n\n  }\n}\n\nTemplateHelpers.registerFieldHelper('javascriptEncode', (value: string) => {\n  return Utils.exists(value) ? StringUtils.javascriptEncode(value) : undefined;\n});\n\nTemplateHelpers.registerTemplateHelper('shorten', (content: string, length: number, highlights?: IHighlight[], cssClass?: string) => {\n  var strAndHoles = StringAndHoles.shortenString(content, length, '...');\n\n  if (Utils.exists(highlights)) {\n    return HighlightUtils.highlightString(strAndHoles.value, highlights, strAndHoles.holes, cssClass || 'highlight');\n  } else {\n    return strAndHoles.value;\n  }\n});\n\nTemplateHelpers.registerTemplateHelper('shortenPath', (content: string, length: number, highlights?: IHighlight[], cssClass?: string) => {\n  var strAndHoles = StringAndHoles.shortenPath(content, length);\n\n  if (Utils.exists(highlights)) {\n    return HighlightUtils.highlightString(strAndHoles.value, highlights, strAndHoles.holes, cssClass || 'highlight');\n  } else {\n    return strAndHoles.value;\n  }\n});\n\nTemplateHelpers.registerTemplateHelper('shortenUri', (content: string, length: number, highlights?: IHighlight[], cssClass?: string) => {\n  var strAndHoles = StringAndHoles.shortenUri(content, length);\n\n  if (Utils.exists(highlights)) {\n    return HighlightUtils.highlightString(strAndHoles.value, highlights, strAndHoles.holes, cssClass || 'highlight');\n  } else {\n    return strAndHoles.value;\n  }\n});\n\nTemplateHelpers.registerTemplateHelper('highlight', (content: string, highlights: IHighlight[], cssClass?: string) => {\n  if (Utils.exists(content)) {\n    if (Utils.exists(highlights)) {\n      return HighlightUtils.highlightString(content, highlights, null, cssClass || 'highlight');\n    } else {\n      return content;\n    }\n  } else {\n    return undefined;\n  }\n});\n\nTemplateHelpers.registerTemplateHelper('highlightStreamText', (content: string, termsToHighlight = resolveQueryResult().termsToHighlight, phrasesToHighlight = resolveQueryResult().phrasesToHighlight, opts?: IStreamHighlightOptions) => {\n  if (Utils.exists(content)) {\n    if (Utils.isNonEmptyArray(_.keys(termsToHighlight)) || Utils.isNonEmptyArray(_.keys(phrasesToHighlight))) {\n      return StreamHighlightUtils.highlightStreamText(content, termsToHighlight, phrasesToHighlight, opts);\n    } else {\n      return content;\n    }\n  } else {\n    return undefined;\n  }\n});\n\nTemplateHelpers.registerTemplateHelper('highlightStreamHTML', (content: string, termsToHighlight = resolveQueryResult().termsToHighlight, phrasesToHighlight = resolveQueryResult().phrasesToHighlight, opts?: IStreamHighlightOptions) => {\n  if (Utils.exists(content)) {\n    if (Utils.isNonEmptyArray(termsToHighlight)) {\n      return StreamHighlightUtils.highlightStreamHTML(content, termsToHighlight, phrasesToHighlight, opts);\n    } else {\n      return content;\n    }\n  } else {\n    return undefined;\n  }\n});\n\nTemplateHelpers.registerFieldHelper('number', (value: any, options?: any) => {\n  var numberValue = Number(value)\n  if (Utils.exists(value)) {\n    if (_.isString(options)) {\n      return StringUtils.htmlEncode(Globalize.format(numberValue, <string>options));\n    } else {\n      return StringUtils.htmlEncode(numberValue.toString());\n    }\n  } else {\n    return undefined;\n  }\n});\n\nTemplateHelpers.registerFieldHelper('date', (value: any, options?: IDateToStringOptions) => {\n  return DateUtils.dateToString(DateUtils.convertFromJsonDateIfNeeded(value), options);\n});\n\nTemplateHelpers.registerFieldHelper('time', (value: any, options?: IDateToStringOptions) => {\n  return DateUtils.timeToString(DateUtils.convertFromJsonDateIfNeeded(value), options);\n});\n\nTemplateHelpers.registerFieldHelper('dateTime', (value: any, options?: IDateToStringOptions) => {\n  return DateUtils.dateTimeToString(DateUtils.convertFromJsonDateIfNeeded(value), options);\n});\n\nTemplateHelpers.registerFieldHelper('emailDateTime', (value: any, options?: IDateToStringOptions) => {\n  var defaultOptions = <IDateToStringOptions>{};\n  defaultOptions.includeTimeIfThisWeek = true;\n  var optionsToUse = <IDateToStringOptions>_.extend(options, defaultOptions);\n  return value ? DateUtils.dateTimeToString(DateUtils.convertFromJsonDateIfNeeded(value), optionsToUse) : undefined;\n});\n\nTemplateHelpers.registerFieldHelper('currency', (value: any, options?: ICurrencyToStringOptions) => {\n  return CurrencyUtils.currencyToString(value, options);\n});\n\nTemplateHelpers.registerFieldHelper('timeSpan', (value: any, options: ITimeSpanUtilsOptions = { isMilliseconds: false }) => {\n  return new TimeSpan(value, options.isMilliseconds).getHHMMSS();\n});\n\nTemplateHelpers.registerFieldHelper('email', (value: any, ...args: any[]) => {\n  // support old arguments (value: any, companyDomain: string, me: string, lengthLimit = 2, truncateName = false)\n  var companyDomain: string;\n  var me: string;\n  var lengthLimit: number;\n  var truncateName: boolean;\n  if (_.isObject(args[0])) {\n    companyDomain = args[0]['companyDomain'];\n    me = args[0]['me'];\n    lengthLimit = args[0]['lengthLimit'];\n    truncateName = args[0]['truncateName'];\n  } else {\n    companyDomain = args[0];\n    me = args[1];\n    lengthLimit = args[2];\n    truncateName = args[3];\n  }\n  if (lengthLimit == undefined) {\n    lengthLimit = 2;\n  }\n  if (truncateName == undefined) {\n    truncateName = false;\n  }\n  if (_.isString(value)) {\n    var listOfAddresses = EmailUtils.splitSemicolonSeparatedListOfEmailAddresses(<string>value);\n    return EmailUtils.emailAddressesToHyperlinks(listOfAddresses, companyDomain, me, lengthLimit, truncateName);\n  } else if (_.isArray(value)) {\n    return EmailUtils.emailAddressesToHyperlinks(<string[]>value, companyDomain, me, lengthLimit, truncateName);\n  } else {\n    return undefined;\n  }\n});\n\nTemplateHelpers.registerTemplateHelper('excessEmailToggle', (target: HTMLElement) => {\n  $$(target).removeClass('coveo-active');\n  if ($$(target).hasClass('coveo-emails-excess-collapsed')) {\n    _.each($$(target).siblings('.coveo-emails-excess-expanded'), (sibling) => {\n      $$(sibling).addClass('coveo-active');\n    })\n  } else if ($$(target).hasClass('coveo-hide-expanded')) {\n    $$(target.parentElement).addClass('coveo-inactive');\n    _.each($$(target.parentElement).siblings('.coveo-emails-excess-collapsed'), (sibling) => {\n      $$(sibling).addClass('coveo-active');\n    })\n  }\n  return undefined;\n})\n\nTemplateHelpers.registerFieldHelper('anchor', (href: string, options?: IAnchorUtilsOptions) => {\n  return AnchorUtils.buildAnchor(href, options);\n});\n\nTemplateHelpers.registerFieldHelper('image', (src: string, options?: IImageUtilsOptions) => {\n  return ImageUtils.buildImage(src, options);\n});\n\nTemplateHelpers.registerTemplateHelper('thumbnail', (result: IQueryResult = resolveQueryResult(), endpoint: string = 'default', options?: IImageUtilsOptions) => {\n  if (QueryUtils.hasThumbnail(result)) {\n    return ImageUtils.buildImageFromResult(result, SearchEndpoint.endpoints[endpoint], options);\n  }\n});\n\nTemplateHelpers.registerTemplateHelper('fromFileTypeToIcon', (result: IQueryResult = resolveQueryResult(), options: IIconOptions = {}) => {\n  return Icon.createIcon(result, options).outerHTML;\n});\n\nTemplateHelpers.registerTemplateHelper('attrEncode', (value: string) => {\n  return ('' + value)/* Forces the conversion to string. */\n    .replace(/&/g, '&amp;')/* This MUST be the 1st replacement. */\n    .replace(/'/g, '&apos;')/* The 4 other predefined entities, required. */\n    .replace(/'/g, '&quot;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n});\n\nTemplateHelpers.registerTemplateHelper('templateFields', (result: IQueryResult = resolveQueryResult()) => {\n  var rows: string[] = [];\n  if (result.fields != null) {\n    _.forEach(result.fields, (tableField: any) => {\n      var tr = $$('tr');\n      _.forEach(tableField, (value: any, key: string) => {\n        if (_.isObject(value)) {\n          tr.setAttribute(ComponentOptions.attrNameFromName(key), JSON.stringify(value));\n        } else {\n          tr.setAttribute(ComponentOptions.attrNameFromName(key), value);\n        }\n      });\n      return rows.push(tr.el.outerHTML);\n    });\n  }\n  return rows.join('');\n}\n);\n\nTemplateHelpers.registerTemplateHelper('loadTemplates', (templatesToLoad: { [id: string]: any }, once = true) => {\n  var ret = '';\n  var data = resolveQueryResult();\n  var atLeastOneWasLoaded = false;\n  var toLoad = templatesToLoad;\n  var defaultTmpl;\n  _.each(templatesToLoad, (value, key?, obj?) => {\n    if (value == 'default') {\n      defaultTmpl = key;\n    }\n  })\n  if (defaultTmpl != undefined) {\n    toLoad = _.omit(templatesToLoad, defaultTmpl)\n  }\n  _.each(toLoad, (condition, id?, obj?) => {\n    if (!atLeastOneWasLoaded || !once) {\n      atLeastOneWasLoaded = atLeastOneWasLoaded || condition;\n      ret += TemplateHelpers.getHelper('loadTemplate')(id, condition, data);\n    }\n  })\n  if (!atLeastOneWasLoaded && defaultTmpl != undefined) {\n    ret += TemplateHelpers.getHelper('loadTemplate')(defaultTmpl, true, data);\n  }\n  return ret;\n})\n\nvar byteMeasure = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB'];\n\nTemplateHelpers.registerFieldHelper('size', (value: any, options?: { base?: number; presision?: number; }) => {\n  var size = Number(value);\n  var presision = (options != null && options.presision != null ? options.presision : 2);\n  var base = (options != null && options.base != null ? options.base : 0);\n  while (size > 1024 && base + 1 < byteMeasure.length) {\n    size /= 1024;\n    base++;\n  }\n  size = Math.floor(size * Math.pow(10, presision)) / Math.pow(10, presision);\n  return size + ' ' + byteMeasure[base];\n});\n\nTemplateHelpers.registerTemplateHelper('loadTemplate', (id: string, condition: boolean = true, data?: any) => {\n  if (Utils.isNullOrUndefined(data)) {\n    data = resolveQueryResult();\n  }\n  if (condition) {\n    return TemplateCache.getTemplate(id).instantiateToString(data, false);\n  }\n  return '';\n});\n\nTemplateHelpers.registerTemplateHelper('encodeCarriageReturn', (data: string) => {\n  if (Utils.isNullOrUndefined(data)) {\n    return undefined;\n  } else {\n    return StringUtils.encodeCarriageReturn(data);\n  }\n});\n\nTemplateHelpers.registerTemplateHelper('isMobileDevice', () => {\n  return DeviceUtils.isMobileDevice() ? DeviceUtils.getDeviceName() : null;\n});\n\nfunction resolveQueryResult(): IQueryResult {\n  return ResultList.resultCurrentlyBeingRendered;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Templates/CoreHelpers.ts\n **/","l":{"1":1,"2":1,"4":1,"6":1,"7":1,"8":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"236":1,"237":1,"240":1,"242":1,"243":0,"246":1,"247":0,"249":0,"250":0,"252":0,"256":1,"257":0,"259":0,"260":0,"262":0,"266":1,"267":0,"269":0,"270":0,"272":0,"276":1,"277":474,"278":316,"279":0,"281":316,"284":158,"288":1,"289":0,"290":0,"291":0,"293":0,"296":0,"300":1,"301":0,"302":0,"303":0,"305":0,"308":0,"312":1,"313":0,"314":0,"315":0,"316":0,"318":0,"321":0,"325":1,"326":1,"329":1,"330":0,"333":1,"334":1,"337":1,"338":1,"339":1,"340":1,"341":1,"344":1,"345":0,"348":1,"349":0,"352":1,"354":0,"355":0,"356":0,"357":0,"358":0,"359":0,"360":0,"361":0,"362":0,"364":0,"365":0,"366":0,"367":0,"369":0,"370":0,"372":0,"373":0,"375":0,"376":0,"377":0,"378":0,"379":0,"381":0,"385":1,"386":0,"387":0,"388":0,"389":0,"391":0,"392":0,"393":0,"394":0,"397":0,"400":1,"401":0,"404":1,"405":0,"408":1,"409":0,"410":0,"414":1,"415":0,"418":1,"419":0,"427":1,"428":0,"429":0,"430":0,"431":0,"432":0,"433":0,"434":0,"436":0,"439":0,"442":0,"446":1,"447":0,"448":0,"449":0,"450":0,"451":0,"452":0,"453":0,"454":0,"457":0,"458":0,"460":0,"461":0,"462":0,"463":0,"466":0,"467":0,"469":0,"472":1,"474":1,"475":0,"476":0,"477":0,"478":0,"479":0,"480":0,"482":0,"483":0,"486":1,"487":0,"488":0,"490":0,"491":0,"493":0,"496":1,"497":0,"498":0,"500":0,"504":1,"505":0,"508":1,"509":0}},"src/ui/Icon/Icon.ts":{"path":"src/ui/Icon/Icon.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":57}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":49}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":53}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":39}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":58}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":48}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":34}},"10":{"start":{"line":24,"column":0},"end":{"line":128,"column":1}},"11":{"start":{"line":24,"column":26},"end":{"line":24,"column":35}},"12":{"start":{"line":67,"column":2},"end":{"line":84,"column":3}},"13":{"start":{"line":68,"column":4},"end":{"line":68,"column":38}},"14":{"start":{"line":67,"column":21},"end":{"line":67,"column":41}},"15":{"start":{"line":67,"column":50},"end":{"line":67,"column":72}},"16":{"start":{"line":67,"column":112},"end":{"line":67,"column":133}},"17":{"start":{"line":70,"column":4},"end":{"line":70,"column":81}},"18":{"start":{"line":71,"column":4},"end":{"line":71,"column":54}},"19":{"start":{"line":72,"column":4},"end":{"line":72,"column":31}},"20":{"start":{"line":74,"column":4},"end":{"line":74,"column":116}},"21":{"start":{"line":75,"column":4},"end":{"line":81,"column":5}},"22":{"start":{"line":76,"column":6},"end":{"line":76,"column":56}},"23":{"start":{"line":77,"column":6},"end":{"line":80,"column":9}},"24":{"start":{"line":78,"column":8},"end":{"line":78,"column":80}},"25":{"start":{"line":79,"column":8},"end":{"line":79,"column":18}},"26":{"start":{"line":83,"column":4},"end":{"line":83,"column":66}},"27":{"start":{"line":86,"column":9},"end":{"line":101,"column":3}},"28":{"start":{"line":86,"column":42},"end":{"line":86,"column":68}},"29":{"start":{"line":86,"column":70},"end":{"line":86,"column":105}},"30":{"start":{"line":87,"column":4},"end":{"line":87,"column":37}},"31":{"start":{"line":88,"column":4},"end":{"line":88,"column":50}},"32":{"start":{"line":89,"column":4},"end":{"line":89,"column":36}},"33":{"start":{"line":90,"column":4},"end":{"line":90,"column":48}},"34":{"start":{"line":91,"column":4},"end":{"line":93,"column":5}},"35":{"start":{"line":92,"column":6},"end":{"line":92,"column":42}},"36":{"start":{"line":94,"column":4},"end":{"line":99,"column":5}},"37":{"start":{"line":95,"column":6},"end":{"line":97,"column":27}},"38":{"start":{"line":98,"column":6},"end":{"line":98,"column":62}},"39":{"start":{"line":100,"column":4},"end":{"line":100,"column":19}},"40":{"start":{"line":103,"column":9},"end":{"line":111,"column":3}},"41":{"start":{"line":110,"column":4},"end":{"line":110,"column":93}},"42":{"start":{"line":113,"column":9},"end":{"line":127,"column":3}},"43":{"start":{"line":114,"column":4},"end":{"line":116,"column":5}},"44":{"start":{"line":115,"column":6},"end":{"line":115,"column":40}},"45":{"start":{"line":117,"column":4},"end":{"line":119,"column":5}},"46":{"start":{"line":118,"column":6},"end":{"line":118,"column":48}},"47":{"start":{"line":120,"column":4},"end":{"line":122,"column":5}},"48":{"start":{"line":121,"column":6},"end":{"line":121,"column":24}},"49":{"start":{"line":123,"column":4},"end":{"line":125,"column":5}},"50":{"start":{"line":124,"column":6},"end":{"line":124,"column":52}},"51":{"start":{"line":126,"column":4},"end":{"line":126,"column":16}},"52":{"start":{"line":25,"column":9},"end":{"line":25,"column":21}},"53":{"start":{"line":31,"column":9},"end":{"line":53,"column":4}},"54":{"start":{"line":55,"column":9},"end":{"line":58,"column":4}},"55":{"start":{"line":128,"column":0},"end":{"line":128,"column":1}},"56":{"start":{"line":24,"column":13},"end":{"line":128,"column":1}},"57":{"start":{"line":129,"column":0},"end":{"line":129,"column":49}}},"fnMap":{"1":{"name":"(anonymous_2374)","line":24,"loc":{"start":{"line":24,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Icon","line":67,"loc":{"start":{"line":67,"column":2},"end":{"line":67,"column":133}}},"3":{"name":"(anonymous_2376)","line":77,"loc":{"start":{"line":77,"column":35},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_2377)","line":86,"loc":{"start":{"line":86,"column":2},"end":{"line":86,"column":136}}},"5":{"name":"(anonymous_2378)","line":103,"loc":{"start":{"line":103,"column":2},"end":{"line":103,"column":79}}},"6":{"name":"(anonymous_2379)","line":113,"loc":{"start":{"line":113,"column":2},"end":{"line":113,"column":70}}}},"branchMap":{"1":{"line":71,"type":"binary-expr","locations":[{"start":{"line":71,"column":18},"end":{"line":71,"column":29}},{"start":{"line":71,"column":33},"end":{"line":71,"column":53}}]},"2":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":4},"end":{"line":75,"column":3}},{"start":{"line":75,"column":4},"end":{"line":75,"column":3}}]},"3":{"line":75,"type":"binary-expr","locations":[{"start":{"line":75,"column":8},"end":{"line":75,"column":59}},{"start":{"line":75,"column":63},"end":{"line":75,"column":101}}]},"4":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":42},"end":{"line":86,"column":41}},{"start":{"line":86,"column":42},"end":{"line":86,"column":41}}]},"5":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":70},"end":{"line":86,"column":69}},{"start":{"line":86,"column":70},"end":{"line":86,"column":69}}]},"6":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":4},"end":{"line":91,"column":3}},{"start":{"line":91,"column":4},"end":{"line":91,"column":3}}]},"7":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":4},"end":{"line":94,"column":3}},{"start":{"line":94,"column":4},"end":{"line":94,"column":3}}]},"8":{"line":110,"type":"binary-expr","locations":[{"start":{"line":110,"column":11},"end":{"line":110,"column":19}},{"start":{"line":110,"column":23},"end":{"line":110,"column":61}},{"start":{"line":110,"column":65},"end":{"line":110,"column":92}}]},"9":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":4},"end":{"line":114,"column":3}},{"start":{"line":114,"column":4},"end":{"line":114,"column":3}}]},"10":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":4},"end":{"line":117,"column":3}},{"start":{"line":117,"column":4},"end":{"line":117,"column":3}}]},"11":{"line":120,"type":"if","locations":[{"start":{"line":120,"column":4},"end":{"line":120,"column":3}},{"start":{"line":120,"column":4},"end":{"line":120,"column":3}}]},"12":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":4},"end":{"line":123,"column":3}},{"start":{"line":123,"column":4},"end":{"line":123,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":77,"14":77,"15":77,"16":77,"17":77,"18":77,"19":77,"20":77,"21":77,"22":0,"23":0,"24":0,"25":0,"26":77,"27":1,"28":77,"29":77,"30":77,"31":77,"32":77,"33":77,"34":77,"35":1,"36":77,"37":76,"38":76,"39":77,"40":1,"41":77,"42":1,"43":77,"44":1,"45":77,"46":1,"47":77,"48":0,"49":77,"50":0,"51":77,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1},"b":{"1":[77,0],"2":[0,77],"3":[77,1],"4":[0,77],"5":[0,77],"6":[1,76],"7":[76,1],"8":[77,77,77],"9":[1,76],"10":[1,76],"11":[0,77],"12":[0,77]},"f":{"1":1,"2":77,"3":0,"4":77,"5":77,"6":77},"code":"import {Component} from '../Base/Component'\nimport {IComponentBindings} from '../Base/ComponentBindings'\nimport {ComponentOptions} from '../Base/ComponentOptions'\nimport {IQueryResult} from '../../rest/QueryResult'\nimport {Assert} from '../../misc/Assert'\nimport {QueryUtils} from '../../utils/QueryUtils'\nimport {Initialization} from '../Base/Initialization'\nimport {Utils} from '../../utils/Utils'\nimport {FileTypes, IFileTypeInfo} from '../Misc/FileTypes'\nimport {Quickview} from '../Quickview/Quickview'\nimport {$$} from '../../utils/Dom'\n\nexport interface IIconOptions {\n  value?: string;\n  small?: boolean;\n  withLabel?: boolean;\n  labelValue?: string;\n}\n\n/**\n * An icon component is a Result template component which outputs the corresponding icon for a give filetype. It uses the\n * available icons in the framework, and if no suitable one are found, it fallback on a generic icon.\n */\nexport class Icon extends Component {\n  static ID = 'Icon';\n\n  /**\n   * The options for the component\n   * @componentOptions\n   */\n  static options: IIconOptions = {\n    /**\n     * Setting this value will tell the Icon component to output this value as it's css class, instead of the auto-selected one.<br/>\n     * Default is `undefined`, and the framework will determine an icon from the result filetype.\n     */\n    value: ComponentOptions.buildIconOption(),\n    /**\n     * Setting this value to true will output the smaller version of the auto-generated icon.<br/>\n     * Default is `false`.\n     */\n    small: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    /**\n     * Setting this to true will force the caption/label to appear.<br/>\n     * Setting this to false will force the caption/label to never appear.<br/>\n     * Default value is `undefined`, and the framework will determine if a label needs to be displayed.\n     */\n    withLabel: ComponentOptions.buildBooleanOption(),\n    /**\n     * Setting this option allow to set the label that should be displayed.<br/>\n     * Default value is `undefined`, and the framework will determine the label that will be displayed.\n     */\n    labelValue: ComponentOptions.buildLocalizedStringOption()\n  };\n\n  static fields = [\n    'objecttype',\n    'filetype',\n  ];\n\n  /**\n   * Create a new Icon component\n   * @param element\n   * @param options\n   * @param bindings\n   * @param result\n   */\n  constructor(public element: HTMLElement, public options?: IIconOptions, bindings?: IComponentBindings, public result?: IQueryResult) {\n    super(element, Icon.ID, bindings);\n\n    this.options = ComponentOptions.initComponentOptions(element, Icon, options);\n    this.result = this.result || this.resolveResult();\n    Assert.exists(this.result);\n\n    var possibleInternalQuickview = $$(this.element).find('.' + Component.computeCssClassNameForType(Quickview.ID));\n    if (!Utils.isNullOrUndefined(possibleInternalQuickview) && QueryUtils.hasHTMLVersion(this.result)) {\n      $$(this.element).addClass('coveo-with-quickview');\n      $$(this.element).on('click', () => {\n        var qv: Quickview = <Quickview>Component.get(possibleInternalQuickview);\n        qv.open();\n      });\n    }\n\n    Icon.createIcon(this.result, this.options, element, bindings);\n  }\n\n  static createIcon(result: IQueryResult, options: IIconOptions = {}, element: HTMLElement = $$('div').el, bindings?: IComponentBindings) {\n    var info = FileTypes.get(result);\n    info = Icon.preprocessIconInfo(options, info);\n    $$(element).addClass(info.icon);\n    element.setAttribute('title', info.caption);\n    if (options.small) {\n      $$(element).addClass('coveo-small');\n    }\n    if (Icon.shouldDisplayLabel(options, bindings)) {\n      element.appendChild($$('span', {\n        className: 'coveo-icon-caption-overlay'\n      }, info.caption).el);\n      $$(element).addClass('coveo-icon-with-caption-overlay');\n    }\n    return element;\n  }\n\n  static shouldDisplayLabel(options: IIconOptions, bindings: IComponentBindings) {\n    // Display only in new design.\n    // If withLabel is explicitely set to false, the label will never display\n    // If withLabel is explicitely set to true, the label will always display\n    // If withLabel is set to default value (not a hard true or false), the label will display based on ./core/filetypes/**.json\n    // with the property shouldDisplayLabel set on each file type/ objecttype\n    // In this case, the generated css will take care of outputting the correct css to display : block\n    return bindings && bindings.searchInterface.isNewDesign() && options.withLabel !== false;\n  }\n\n  static preprocessIconInfo(options: IIconOptions, info: IFileTypeInfo) {\n    if (options.labelValue != null) {\n      info.caption = options.labelValue;\n    }\n    if (options.value != null) {\n      info.icon = 'coveo-icon ' + options.value;\n    }\n    if (info.caption == null) {\n      info.caption = '';\n    }\n    if (info.icon == null) {\n      info.icon = 'coveo-icon coveo-sprites-custom';\n    }\n    return info;\n  }\n}\nInitialization.registerAutoCreateComponent(Icon);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Icon/Icon.ts\n **/","l":{"1":1,"3":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"24":1,"25":1,"31":1,"55":1,"67":77,"68":77,"70":77,"71":77,"72":77,"74":77,"75":77,"76":0,"77":0,"78":0,"79":0,"83":77,"86":77,"87":77,"88":77,"89":77,"90":77,"91":77,"92":1,"94":77,"95":76,"98":76,"100":77,"103":1,"110":77,"113":1,"114":77,"115":1,"117":77,"118":1,"120":77,"121":0,"123":77,"124":0,"126":77,"128":1,"129":1}},"src/ui/Quickview/Quickview.ts":{"path":"src/ui/Quickview/Quickview.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":79}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":45}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":51}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":39}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":67}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":62}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":51}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":53}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":60}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":60}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":81}},"13":{"start":{"line":16,"column":0},"end":{"line":16,"column":51}},"14":{"start":{"line":17,"column":0},"end":{"line":17,"column":51}},"15":{"start":{"line":68,"column":0},"end":{"line":314,"column":1}},"16":{"start":{"line":68,"column":31},"end":{"line":68,"column":40}},"17":{"start":{"line":136,"column":2},"end":{"line":167,"column":3}},"18":{"start":{"line":137,"column":4},"end":{"line":137,"column":43}},"19":{"start":{"line":136,"column":21},"end":{"line":136,"column":41}},"20":{"start":{"line":136,"column":50},"end":{"line":136,"column":77}},"21":{"start":{"line":136,"column":86},"end":{"line":136,"column":122}},"22":{"start":{"line":136,"column":131},"end":{"line":136,"column":152}},"23":{"start":{"line":134,"column":10},"end":{"line":134,"column":70}},"24":{"start":{"line":138,"column":4},"end":{"line":138,"column":86}},"25":{"start":{"line":140,"column":4},"end":{"line":142,"column":5}},"26":{"start":{"line":141,"column":6},"end":{"line":141,"column":68}},"27":{"start":{"line":146,"column":4},"end":{"line":161,"column":5}},"28":{"start":{"line":147,"column":6},"end":{"line":147,"column":39}},"29":{"start":{"line":148,"column":6},"end":{"line":148,"column":59}},"30":{"start":{"line":149,"column":6},"end":{"line":160,"column":7}},"31":{"start":{"line":150,"column":8},"end":{"line":150,"column":44}},"32":{"start":{"line":151,"column":8},"end":{"line":151,"column":67}},"33":{"start":{"line":152,"column":8},"end":{"line":152,"column":62}},"34":{"start":{"line":153,"column":8},"end":{"line":153,"column":28}},"35":{"start":{"line":154,"column":8},"end":{"line":154,"column":40}},"36":{"start":{"line":155,"column":8},"end":{"line":155,"column":43}},"37":{"start":{"line":156,"column":8},"end":{"line":156,"column":40}},"38":{"start":{"line":158,"column":8},"end":{"line":158,"column":60}},"39":{"start":{"line":159,"column":8},"end":{"line":159,"column":53}},"40":{"start":{"line":163,"column":4},"end":{"line":163,"column":27}},"41":{"start":{"line":164,"column":4},"end":{"line":166,"column":5}},"42":{"start":{"line":165,"column":6},"end":{"line":165,"column":99}},"43":{"start":{"line":165,"column":86},"end":{"line":165,"column":97}},"44":{"start":{"line":172,"column":9},"end":{"line":183,"column":3}},"45":{"start":{"line":173,"column":4},"end":{"line":182,"column":5}},"46":{"start":{"line":175,"column":6},"end":{"line":175,"column":62}},"47":{"start":{"line":177,"column":6},"end":{"line":177,"column":59}},"48":{"start":{"line":178,"column":6},"end":{"line":178,"column":40}},"49":{"start":{"line":179,"column":6},"end":{"line":179,"column":45}},"50":{"start":{"line":180,"column":6},"end":{"line":180,"column":28}},"51":{"start":{"line":181,"column":6},"end":{"line":181,"column":91}},"52":{"start":{"line":188,"column":9},"end":{"line":194,"column":3}},"53":{"start":{"line":189,"column":4},"end":{"line":193,"column":5}},"54":{"start":{"line":190,"column":6},"end":{"line":190,"column":28}},"55":{"start":{"line":191,"column":6},"end":{"line":191,"column":27}},"56":{"start":{"line":192,"column":6},"end":{"line":192,"column":67}},"57":{"start":{"line":196,"column":9},"end":{"line":198,"column":3}},"58":{"start":{"line":197,"column":4},"end":{"line":197,"column":109}},"59":{"start":{"line":200,"column":10},"end":{"line":206,"column":3}},"60":{"start":{"line":200,"column":2},"end":{"line":206,"column":3}},"61":{"start":{"line":201,"column":4},"end":{"line":205,"column":5}},"62":{"start":{"line":202,"column":6},"end":{"line":202,"column":54}},"63":{"start":{"line":202,"column":41},"end":{"line":202,"column":52}},"64":{"start":{"line":204,"column":6},"end":{"line":204,"column":42}},"65":{"start":{"line":208,"column":10},"end":{"line":226,"column":3}},"66":{"start":{"line":208,"column":2},"end":{"line":226,"column":3}},"67":{"start":{"line":210,"column":4},"end":{"line":210,"column":86}},"68":{"start":{"line":211,"column":4},"end":{"line":214,"column":6}},"69":{"start":{"line":212,"column":6},"end":{"line":212,"column":28}},"70":{"start":{"line":213,"column":6},"end":{"line":213,"column":19}},"71":{"start":{"line":216,"column":4},"end":{"line":218,"column":6}},"72":{"start":{"line":217,"column":6},"end":{"line":217,"column":28}},"73":{"start":{"line":220,"column":4},"end":{"line":223,"column":6}},"74":{"start":{"line":221,"column":6},"end":{"line":221,"column":49}},"75":{"start":{"line":222,"column":6},"end":{"line":222,"column":30}},"76":{"start":{"line":225,"column":4},"end":{"line":225,"column":22}},"77":{"start":{"line":228,"column":10},"end":{"line":244,"column":3}},"78":{"start":{"line":228,"column":2},"end":{"line":244,"column":3}},"79":{"start":{"line":229,"column":4},"end":{"line":229,"column":74}},"80":{"start":{"line":230,"column":4},"end":{"line":243,"column":5}},"81":{"start":{"line":231,"column":6},"end":{"line":231,"column":60}},"82":{"start":{"line":232,"column":6},"end":{"line":232,"column":77}},"83":{"start":{"line":234,"column":6},"end":{"line":239,"column":21}},"84":{"start":{"line":235,"column":8},"end":{"line":238,"column":9}},"85":{"start":{"line":236,"column":10},"end":{"line":236,"column":122}},"86":{"start":{"line":237,"column":10},"end":{"line":237,"column":101}},"87":{"start":{"line":241,"column":6},"end":{"line":241,"column":118}},"88":{"start":{"line":242,"column":6},"end":{"line":242,"column":97}},"89":{"start":{"line":246,"column":10},"end":{"line":260,"column":3}},"90":{"start":{"line":248,"column":4},"end":{"line":248,"column":43}},"91":{"start":{"line":249,"column":4},"end":{"line":249,"column":60}},"92":{"start":{"line":250,"column":4},"end":{"line":258,"column":7}},"93":{"start":{"line":256,"column":24},"end":{"line":256,"column":28}},"94":{"start":{"line":259,"column":4},"end":{"line":259,"column":28}},"95":{"start":{"line":262,"column":10},"end":{"line":268,"column":3}},"96":{"start":{"line":263,"column":4},"end":{"line":263,"column":57}},"97":{"start":{"line":264,"column":4},"end":{"line":267,"column":5}},"98":{"start":{"line":270,"column":10},"end":{"line":283,"column":3}},"99":{"start":{"line":271,"column":4},"end":{"line":271,"column":85}},"100":{"start":{"line":272,"column":4},"end":{"line":272,"column":51}},"101":{"start":{"line":273,"column":4},"end":{"line":277,"column":6}},"102":{"start":{"line":278,"column":4},"end":{"line":278,"column":83}},"103":{"start":{"line":279,"column":4},"end":{"line":281,"column":5}},"104":{"start":{"line":280,"column":6},"end":{"line":280,"column":40}},"105":{"start":{"line":282,"column":4},"end":{"line":282,"column":19}},"106":{"start":{"line":285,"column":10},"end":{"line":287,"column":3}},"107":{"start":{"line":286,"column":4},"end":{"line":286,"column":64}},"108":{"start":{"line":289,"column":10},"end":{"line":294,"column":3}},"109":{"start":{"line":290,"column":4},"end":{"line":290,"column":114}},"110":{"start":{"line":291,"column":4},"end":{"line":291,"column":61}},"111":{"start":{"line":292,"column":4},"end":{"line":292,"column":81}},"112":{"start":{"line":293,"column":4},"end":{"line":293,"column":55}},"113":{"start":{"line":296,"column":10},"end":{"line":298,"column":3}},"114":{"start":{"line":297,"column":4},"end":{"line":297,"column":75}},"115":{"start":{"line":300,"column":10},"end":{"line":306,"column":3}},"116":{"start":{"line":301,"column":4},"end":{"line":301,"column":72}},"117":{"start":{"line":302,"column":4},"end":{"line":302,"column":47}},"118":{"start":{"line":303,"column":4},"end":{"line":303,"column":48}},"119":{"start":{"line":304,"column":4},"end":{"line":304,"column":50}},"120":{"start":{"line":305,"column":4},"end":{"line":305,"column":51}},"121":{"start":{"line":308,"column":10},"end":{"line":313,"column":3}},"122":{"start":{"line":309,"column":4},"end":{"line":312,"column":5}},"123":{"start":{"line":310,"column":6},"end":{"line":310,"column":28}},"124":{"start":{"line":311,"column":6},"end":{"line":311,"column":19}},"125":{"start":{"line":69,"column":9},"end":{"line":69,"column":26}},"126":{"start":{"line":71,"column":9},"end":{"line":76,"column":4}},"127":{"start":{"line":81,"column":9},"end":{"line":131,"column":4}},"128":{"start":{"line":109,"column":6},"end":{"line":109,"column":93}},"129":{"start":{"line":110,"column":6},"end":{"line":116,"column":7}},"130":{"start":{"line":111,"column":8},"end":{"line":111,"column":91}},"131":{"start":{"line":112,"column":8},"end":{"line":115,"column":9}},"132":{"start":{"line":113,"column":10},"end":{"line":113,"column":40}},"133":{"start":{"line":114,"column":10},"end":{"line":114,"column":34}},"134":{"start":{"line":117,"column":6},"end":{"line":117,"column":74}},"135":{"start":{"line":118,"column":6},"end":{"line":123,"column":7}},"136":{"start":{"line":119,"column":8},"end":{"line":119,"column":85}},"137":{"start":{"line":120,"column":8},"end":{"line":122,"column":9}},"138":{"start":{"line":121,"column":10},"end":{"line":121,"column":67}},"139":{"start":{"line":124,"column":6},"end":{"line":124,"column":49}},"140":{"start":{"line":314,"column":0},"end":{"line":314,"column":1}},"141":{"start":{"line":68,"column":13},"end":{"line":314,"column":1}},"142":{"start":{"line":315,"column":0},"end":{"line":315,"column":54}}},"fnMap":{"1":{"name":"(anonymous_2383)","line":68,"loc":{"start":{"line":68,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Quickview","line":136,"loc":{"start":{"line":136,"column":2},"end":{"line":136,"column":152}}},"3":{"name":"(anonymous_2385)","line":165,"loc":{"start":{"line":165,"column":80},"end":{"line":165,"column":85}}},"4":{"name":"(anonymous_2386)","line":172,"loc":{"start":{"line":172,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_2387)","line":188,"loc":{"start":{"line":188,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_2388)","line":196,"loc":{"start":{"line":196,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_2389)","line":200,"loc":{"start":{"line":200,"column":2},"end":{"line":200,"column":40}}},"8":{"name":"(anonymous_2390)","line":202,"loc":{"start":{"line":202,"column":35},"end":{"line":202,"column":40}}},"9":{"name":"(anonymous_2391)","line":208,"loc":{"start":{"line":208,"column":2},"end":{"line":208,"column":66}}},"10":{"name":"(anonymous_2392)","line":211,"loc":{"start":{"line":211,"column":32},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_2393)","line":216,"loc":{"start":{"line":216,"column":42},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_2394)","line":220,"loc":{"start":{"line":220,"column":66},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_2395)","line":228,"loc":{"start":{"line":228,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_2396)","line":234,"loc":{"start":{"line":234,"column":17},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_2397)","line":246,"loc":{"start":{"line":246,"column":2},"end":{"line":246,"column":61}}},"16":{"name":"(anonymous_2398)","line":256,"loc":{"start":{"line":256,"column":18},"end":{"line":256,"column":23}}},"17":{"name":"(anonymous_2399)","line":262,"loc":{"start":{"line":262,"column":2},"end":{"line":null,"column":-1}}},"18":{"name":"(anonymous_2400)","line":270,"loc":{"start":{"line":270,"column":2},"end":{"line":270,"column":63}}},"19":{"name":"(anonymous_2401)","line":285,"loc":{"start":{"line":285,"column":2},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_2402)","line":289,"loc":{"start":{"line":289,"column":2},"end":{"line":null,"column":-1}}},"21":{"name":"(anonymous_2403)","line":296,"loc":{"start":{"line":296,"column":2},"end":{"line":null,"column":-1}}},"22":{"name":"(anonymous_2404)","line":300,"loc":{"start":{"line":300,"column":2},"end":{"line":null,"column":-1}}},"23":{"name":"(anonymous_2405)","line":308,"loc":{"start":{"line":308,"column":2},"end":{"line":308,"column":44}}},"24":{"name":"(anonymous_2406)","line":108,"loc":{"start":{"line":108,"column":91},"end":{"line":108,"column":112}}}},"branchMap":{"1":{"line":140,"type":"if","locations":[{"start":{"line":140,"column":4},"end":{"line":140,"column":3}},{"start":{"line":140,"column":4},"end":{"line":140,"column":3}}]},"2":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":4},"end":{"line":146,"column":3}},{"start":{"line":146,"column":4},"end":{"line":146,"column":3}}]},"3":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":6},"end":{"line":149,"column":5}},{"start":{"line":149,"column":6},"end":{"line":149,"column":5}}]},"4":{"line":164,"type":"if","locations":[{"start":{"line":164,"column":4},"end":{"line":164,"column":3}},{"start":{"line":164,"column":4},"end":{"line":164,"column":3}}]},"5":{"line":173,"type":"if","locations":[{"start":{"line":173,"column":4},"end":{"line":173,"column":3}},{"start":{"line":173,"column":4},"end":{"line":173,"column":3}}]},"6":{"line":189,"type":"if","locations":[{"start":{"line":189,"column":4},"end":{"line":189,"column":3}},{"start":{"line":189,"column":4},"end":{"line":189,"column":3}}]},"7":{"line":201,"type":"if","locations":[{"start":{"line":201,"column":4},"end":{"line":201,"column":3}},{"start":{"line":201,"column":4},"end":{"line":201,"column":3}}]},"8":{"line":201,"type":"binary-expr","locations":[{"start":{"line":201,"column":8},"end":{"line":201,"column":51}},{"start":{"line":201,"column":55},"end":{"line":201,"column":76}},{"start":{"line":201,"column":80},"end":{"line":201,"column":103}}]},"9":{"line":230,"type":"if","locations":[{"start":{"line":230,"column":4},"end":{"line":230,"column":3}},{"start":{"line":230,"column":4},"end":{"line":230,"column":3}}]},"10":{"line":232,"type":"cond-expr","locations":[{"start":{"line":232,"column":67},"end":{"line":232,"column":71}},{"start":{"line":232,"column":74},"end":{"line":232,"column":75}}]},"11":{"line":235,"type":"if","locations":[{"start":{"line":235,"column":8},"end":{"line":235,"column":7}},{"start":{"line":235,"column":8},"end":{"line":235,"column":7}}]},"12":{"line":279,"type":"if","locations":[{"start":{"line":279,"column":4},"end":{"line":279,"column":3}},{"start":{"line":279,"column":4},"end":{"line":279,"column":3}}]},"13":{"line":279,"type":"binary-expr","locations":[{"start":{"line":279,"column":8},"end":{"line":279,"column":89}},{"start":{"line":279,"column":93},"end":{"line":279,"column":128}}]},"14":{"line":309,"type":"if","locations":[{"start":{"line":309,"column":4},"end":{"line":309,"column":3}},{"start":{"line":309,"column":4},"end":{"line":309,"column":3}}]},"15":{"line":110,"type":"if","locations":[{"start":{"line":110,"column":6},"end":{"line":110,"column":5}},{"start":{"line":110,"column":6},"end":{"line":110,"column":5}}]},"16":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":8},"end":{"line":112,"column":7}},{"start":{"line":112,"column":8},"end":{"line":112,"column":7}}]},"17":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":6},"end":{"line":118,"column":5}},{"start":{"line":118,"column":6},"end":{"line":118,"column":5}}]},"18":{"line":120,"type":"if","locations":[{"start":{"line":120,"column":8},"end":{"line":120,"column":7}},{"start":{"line":120,"column":8},"end":{"line":120,"column":7}}]},"19":{"line":130,"type":"cond-expr","locations":[{"start":{"line":130,"column":92},"end":{"line":130,"column":98}},{"start":{"line":130,"column":101},"end":{"line":130,"column":106}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":65,"16":1,"17":1,"18":64,"19":64,"20":64,"21":64,"22":64,"23":64,"24":64,"25":64,"26":64,"27":64,"28":64,"29":64,"30":64,"31":64,"32":64,"33":64,"34":64,"35":64,"36":64,"37":64,"38":0,"39":0,"40":64,"41":64,"42":0,"43":0,"44":1,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":0,"55":0,"56":0,"57":1,"58":0,"59":1,"60":64,"61":64,"62":64,"63":0,"64":0,"65":1,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":1,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":1,"90":0,"91":0,"92":0,"93":0,"94":0,"95":1,"96":0,"97":0,"98":1,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":1,"107":0,"108":1,"109":0,"110":0,"111":0,"112":0,"113":1,"114":0,"115":1,"116":0,"117":0,"118":0,"119":0,"120":0,"121":1,"122":0,"123":0,"124":0,"125":1,"126":1,"127":1,"128":64,"129":64,"130":0,"131":0,"132":0,"133":0,"134":64,"135":64,"136":0,"137":0,"138":0,"139":64,"140":1,"141":1,"142":1},"b":{"1":[64,0],"2":[64,0],"3":[64,0],"4":[0,64],"5":[0,0],"6":[0,0],"7":[64,0],"8":[64,64,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,64],"16":[0,0],"17":[0,64],"18":[0,0],"19":[0,1]},"f":{"1":1,"2":64,"3":0,"4":0,"5":0,"6":0,"7":64,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":64},"code":"import {Component} from '../Base/Component'\nimport {ComponentOptions, ComponentOptionsType} from '../Base/ComponentOptions'\nimport {IResultsComponentBindings} from '../Base/ResultsComponentBindings'\nimport {Template} from '../Templates/Template'\nimport {DomUtils} from '../../utils/DomUtils'\nimport {DeviceUtils} from '../../utils/DeviceUtils'\nimport {IQueryResult} from '../../rest/QueryResult'\nimport {$$, Dom} from '../../utils/Dom'\nimport {DefaultQuickviewTemplate} from './DefaultQuickviewTemplate'\nimport {ResultListEvents} from '../../events/ResultListEvents'\nimport {StringUtils} from '../../utils/StringUtils'\nimport {QuickviewDocument} from './QuickviewDocument'\nimport {QueryStateModel} from '../../models/QueryStateModel'\nimport {QuickviewEvents} from '../../events/QuickviewEvents'\nimport {Initialization, IInitializationParameters} from '../Base/Initialization';\nimport {KEYBOARD} from '../../utils/KeyboardUtils';\nimport {ModalBox} from '../../ExternalModulesShim';\n\nexport interface IQuickviewOptions {\n  title?: string;\n  showDate?: boolean;\n  contentTemplate?: Template;\n  enableLoadingAnimation?: boolean;\n  loadingAnimation?: HTMLElement;\n  alwaysShow?: boolean;\n  size?: string;\n}\n\ninterface IQuickviewOpenerObject {\n  content: Dom;\n  loadingAnimation: HTMLElement\n}\n\n/**\n * This component is meant to exist within a result template.\n * It allows to create a button/link inside the result list that opens a modal box for a given result.\n *\n * Most of the time, this component will reference a {@link QuickviewDocument} in it's content template.\n *\n * # Choosing what to display for the Quickview\n * The Quick View uses any HTML structure you put inside its tag and uses that as the content of the dialog box. This content can thus be any element you decide, using your CSS and your structure.\n *\n * > Example\n * > You can change the appearance of the Quick View link by adding HTML inside the body of the div.\n * > You can change the content of the Quick View link by specifying a template id.\n *\n * ```html\n * <!-- This would change the appearance of the quickview button itself in the result. -->\n * <div class=\"CoveoQuickview\" data-template-id=\"TemplateId\">\n *   <span>Click here for Quickview</span>\n * </div>\n *\n * <!-- This would modify the content of the quickview when it is opened in the modal box -->\n * <script class='result-template' type='text/underscore' id='TemplateId' >\n *   <div>\n *     <span>This is the content that will be displayed when you open the Quick View. You can also include any other Coveo components.</span>\n *     <table class=\"CoveoFieldTable\">\n *       <tr data-field=\"@liboardshorttitle\" data-caption=\"Board\" />\n *       <tr data-field=\"@licategoryshorttitle\" data-caption=\"Category\" />\n *       <tr data-field=\"@sysauthor\" data-caption=\"Author\" />\n *     </table>\n *   </div>\n * </script>\n *\n * <!-- Note that this is all optional : Just including a <div class='CoveoQuickview'></div> will do the job most of the time, and will include a default template and default button appearance -->\n * ```\n */\nexport class Quickview extends Component {\n  static ID = 'Quickview';\n\n  static fields = [\n    'urihash', // analytics\n    'collection', // analytics\n    'source', // analytics,\n    'author' // analytics\n  ];\n\n  /**\n   * @componentOptions\n   */\n  static options: IQuickviewOptions = {\n    /**\n     * Specifies whether the quickview is always shown, even when the index body for a document is empty.<br/>\n     * In such cases, the {@link Quickview.options.contentTemplate} specifies what appears in the quickview.<br/>\n     * If there is no quickview for the document, you *MUST* specify a contentTemplate otherwise the component will throw an error when opened.\n     */\n    alwaysShow: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    /**\n     * Specifies the title of your choice that appears at the top of the Quick View modal window.\n     */\n    title: ComponentOptions.buildStringOption(),\n    /**\n     * Specifies whether to show the document date in the Quick View modal window header.<br/>\n     * The default value is `true`.\n     */\n    showDate: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    enableLoadingAnimation: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies the template to use to present the Quick View content in the modal window.<br/>\n     * eg : <br/>\n     *     <div class=\"CoveoQuickview\" data-template-id=\"TemplateId\"></div>\n     *     <div class=\"CoveoQuickview\" data-template-selector=\".templateSelector\"></div>\n     */\n    contentTemplate: ComponentOptions.buildTemplateOption({\n      selectorAttr: 'data-template-selector',\n      idAttr: 'data-template-id'\n    }),\n    loadingAnimation: ComponentOptions.buildOption<HTMLElement>(ComponentOptionsType.NONE, (element: HTMLElement) => {\n      let loadingAnimationSelector = element.getAttribute('data-loading-animation-selector');\n      if (loadingAnimationSelector != null) {\n        let loadingAnimation = $$(document.documentElement).find(loadingAnimationSelector);\n        if (loadingAnimation != null) {\n          $$(loadingAnimation).detach();\n          return loadingAnimation;\n        }\n      }\n      let id = element.getAttribute('data-loading-animation-template-id');\n      if (id != null) {\n        let loadingAnimationTemplate = ComponentOptions.loadResultTemplateFromId(id);\n        if (loadingAnimationTemplate) {\n          return loadingAnimationTemplate.instantiateToElement({});\n        }\n      }\n      return DomUtils.getBasicLoadingAnimation();\n    }),\n    /**\n     * Specifies the Quick View modal window size (width and height) relative to the full window.<br/>\n     * The default value is 95% on a desktop and 100% on a mobile device.\n     */\n    size: ComponentOptions.buildStringOption({ defaultValue: DeviceUtils.isMobileDevice() ? '100%' : '95%' })\n  };\n\n  private modalbox: Coveo.ModalBox.ModalBox;\n  private bindedHandleEscapeEvent = this.handleEscapeEvent.bind(this);\n\n  constructor(public element: HTMLElement, public options?: IQuickviewOptions, public bindings?: IResultsComponentBindings, public result?: IQueryResult) {\n    super(element, Quickview.ID, bindings);\n    this.options = ComponentOptions.initComponentOptions(element, Quickview, options);\n\n    if (this.options.contentTemplate == null) {\n      this.options.contentTemplate = new DefaultQuickviewTemplate();\n    }\n\n    // If there is no content inside the Quickview div,\n    // we need to add something that will show up in the result template itself\n    if (/^\\s*$/.test(this.element.innerHTML)) {\n      let iconForQuickview = $$('div');\n      iconForQuickview.addClass('coveo-icon-for-quickview')\n      if (this.searchInterface.isNewDesign()) {\n        let captionForQuickview = $$('div');\n        captionForQuickview.addClass('coveo-caption-for-quickview')\n        captionForQuickview.text('Quickview'.toLocaleString())\n        let div = $$('div');\n        div.append(iconForQuickview.el);\n        div.append(captionForQuickview.el);\n        $$(this.element).append(div.el);\n      } else {\n        iconForQuickview.text('Quickview'.toLocaleString());\n        $$(this.element).append(iconForQuickview.el);\n      }\n    }\n\n    this.bindClick(result);\n    if (this.bindings.resultElement) {\n      this.bind.on(this.bindings.resultElement, ResultListEvents.openQuickview, () => this.open());\n    }\n  }\n\n  /**\n   * Open the quickview\n   */\n  public open() {\n    if (this.modalbox == null) {\n      // To prevent the keyboard from opening on mobile if the search bar has focus\n      $$(<HTMLElement>document.activeElement).trigger('blur');\n\n      let openerObject = this.prepareOpenQuickviewObject();\n      this.createModalBox(openerObject);\n      this.bindQuickviewEvents(openerObject);\n      this.animateAndOpen();\n      this.queryStateModel.set(QueryStateModel.attributesEnum.quickview, this.getHashId());\n    }\n  }\n\n  /**\n   * Close the quickview\n   */\n  public close() {\n    if (this.modalbox != null) {\n      this.modalbox.close();\n      this.modalbox = null;\n      $$(document.body).off('keyup', this.bindedHandleEscapeEvent);\n    }\n  }\n\n  public getHashId() {\n    return this.result.queryUid + '.' + this.result.index + '.' + StringUtils.hashCode(this.result.uniqueId);\n  }\n\n  private bindClick(result: IQueryResult) {\n    if (typeof result.hasHtmlVersion == 'undefined' || result.hasHtmlVersion || this.options.alwaysShow) {\n      $$(this.element).on('click', () => this.open());\n    } else {\n      this.element.style.display = 'none';\n    }\n  }\n\n  private bindQuickviewEvents(openerObject: IQuickviewOpenerObject) {\n\n    let closeButton = $$(this.modalbox.wrapper).find('.coveo-quickview-close-button');\n    $$(closeButton).on('click', () => {\n      this.closeQuickview();\n      this.close();\n    })\n\n    $$(this.modalbox.overlay).on('click', () => {\n      this.closeQuickview();\n    })\n\n    $$(this.modalbox.content).on(QuickviewEvents.quickviewLoaded, () => {\n      $$(openerObject.loadingAnimation).remove();\n      this.bindIFrameEscape();\n    })\n\n    this.bindEscape();\n  }\n\n  private animateAndOpen() {\n    let animationDuration = this.modalbox.wrapper.style.animationDuration;\n    if (animationDuration) {\n      let duration = /^(.+)(ms|s)$/.exec(animationDuration);\n      let durationMs = Number(duration[1]) * (duration[2] == 's' ? 1000 : 1);\n      // open the QuickviewDocument\n      setTimeout(() => {\n        if (this.modalbox != null) {\n          let quickviewDocument = $$(this.modalbox.modalBox).find('.' + Component.computeCssClassName(QuickviewDocument));\n          Initialization.dispatchNamedMethodCallOrComponentCreation('open', quickviewDocument, null);\n        }\n      }, durationMs);\n    } else {\n      let quickviewDocument = $$(this.modalbox.modalBox).find('.' + Component.computeCssClassName(QuickviewDocument));\n      Initialization.dispatchNamedMethodCallOrComponentCreation('open', quickviewDocument, null);\n    }\n  }\n\n  private createModalBox(openerObject: IQuickviewOpenerObject) {\n\n    let computedModalBoxContent = $$('div')\n    computedModalBoxContent.append(openerObject.content.el);\n    this.modalbox = ModalBox.open(computedModalBoxContent.el, {\n      title: DomUtils.getQuickviewHeader(this.result, {\n        showDate: this.options.showDate,\n        title: this.options.title\n      }, this.bindings).el.outerHTML,\n      className: 'coveo-quick-view',\n      validation: () => true,\n      body: this.element.ownerDocument.body\n    });\n    this.setQuickviewSize();\n  }\n\n  private prepareOpenQuickviewObject() {\n    let loadingAnimation = this.options.loadingAnimation;\n    return {\n      loadingAnimation: loadingAnimation,\n      content: this.prepareQuickviewContent(loadingAnimation)\n    }\n  }\n\n  private prepareQuickviewContent(loadingAnimation: HTMLElement) {\n    let content = $$(this.options.contentTemplate.instantiateToElement(this.result));\n    let initOptions = this.searchInterface.options;\n    let initParameters: IInitializationParameters = {\n      options: initOptions,\n      bindings: this.getBindings(),\n      result: this.result\n    };\n    Initialization.automaticallyCreateComponentsInside(content.el, initParameters);\n    if (content.find('.' + Component.computeCssClassName(QuickviewDocument)) != undefined && this.options.enableLoadingAnimation) {\n      content.prepend(loadingAnimation);\n    }\n    return content;\n  }\n\n  private bindEscape() {\n    $$(document.body).on('keyup', this.bindedHandleEscapeEvent);\n  }\n\n  private bindIFrameEscape() {\n    let quickviewDocument = $$(this.modalbox.content).find('.' + Component.computeCssClassName(QuickviewDocument))\n    quickviewDocument = $$(quickviewDocument).find('iframe');\n    let body = (<HTMLIFrameElement>quickviewDocument).contentWindow.document.body\n    $$(body).on('keyup', this.bindedHandleEscapeEvent);\n  }\n\n  private closeQuickview() {\n    this.queryStateModel.set(QueryStateModel.attributesEnum.quickview, '');\n  }\n\n  private setQuickviewSize() {\n    let wrapper = $$($$(this.modalbox.modalBox).find('.coveo-wrapper'));\n    wrapper.el.style.width = this.options.size;\n    wrapper.el.style.height = this.options.size;\n    wrapper.el.style.maxWidth = this.options.size;\n    wrapper.el.style.maxHeight = this.options.size;\n  }\n\n  private handleEscapeEvent(e: KeyboardEvent) {\n    if (e.keyCode == KEYBOARD.ESCAPE) {\n      this.closeQuickview();\n      this.close();\n    }\n  }\n}\nInitialization.registerAutoCreateComponent(Quickview);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Quickview/Quickview.ts\n **/","l":{"1":1,"2":1,"5":1,"6":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"68":65,"69":1,"71":1,"81":1,"109":64,"110":64,"111":0,"112":0,"113":0,"114":0,"117":64,"118":64,"119":0,"120":0,"121":0,"124":64,"134":64,"136":64,"137":64,"138":64,"140":64,"141":64,"146":64,"147":64,"148":64,"149":64,"150":64,"151":64,"152":64,"153":64,"154":64,"155":64,"156":64,"158":0,"159":0,"163":64,"164":64,"165":0,"172":1,"173":0,"175":0,"177":0,"178":0,"179":0,"180":0,"181":0,"188":1,"189":0,"190":0,"191":0,"192":0,"196":1,"197":0,"200":64,"201":64,"202":64,"204":0,"208":1,"210":0,"211":0,"212":0,"213":0,"216":0,"217":0,"220":0,"221":0,"222":0,"225":0,"228":1,"229":0,"230":0,"231":0,"232":0,"234":0,"235":0,"236":0,"237":0,"241":0,"242":0,"246":1,"248":0,"249":0,"250":0,"256":0,"259":0,"262":1,"263":0,"264":0,"270":1,"271":0,"272":0,"273":0,"278":0,"279":0,"280":0,"282":0,"285":1,"286":0,"289":1,"290":0,"291":0,"292":0,"293":0,"296":1,"297":0,"300":1,"301":0,"302":0,"303":0,"304":0,"305":0,"308":1,"309":0,"310":0,"311":0,"314":1,"315":1}},"src/ui/Quickview/DefaultQuickviewTemplate.ts":{"path":"src/ui/Quickview/DefaultQuickviewTemplate.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":46}},"2":{"start":{"line":4,"column":0},"end":{"line":13,"column":1}},"3":{"start":{"line":4,"column":46},"end":{"line":4,"column":54}},"4":{"start":{"line":6,"column":2},"end":{"line":8,"column":3}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":12}},"6":{"start":{"line":10,"column":2},"end":{"line":12,"column":3}},"7":{"start":{"line":11,"column":4},"end":{"line":11,"column":104}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":1}},"9":{"start":{"line":4,"column":13},"end":{"line":13,"column":1}}},"fnMap":{"1":{"name":"(anonymous_2410)","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"DefaultQuickviewTemplate","line":6,"loc":{"start":{"line":6,"column":2},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_2412)","line":10,"loc":{"start":{"line":10,"column":2},"end":{"line":10,"column":48}}}},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":64,"6":1,"7":0,"8":1,"9":1},"b":{},"f":{"1":1,"2":64,"3":0},"code":"import {Template} from '../Templates/Template'\nimport {IQueryResult} from '../../rest/QueryResult'\n\nexport class DefaultQuickviewTemplate extends Template {\n\n  constructor() {\n    super();\n  }\n\n  instantiateToString(queryResult?: IQueryResult): string {\n    return '<div class=\"coveo-quick-view-full-height\"><div class=\"CoveoQuickviewDocument\"></div></div>';\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Quickview/DefaultQuickviewTemplate.ts\n **/","l":{"1":1,"4":1,"6":1,"7":64,"10":1,"11":0,"13":1}},"src/ui/Quickview/QuickviewDocument.ts":{"path":"src/ui/Quickview/QuickviewDocument.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":57}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":77}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":40}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":39}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":87}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":51}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":39}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":49}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":53}},"11":{"start":{"line":17,"column":0},"end":{"line":17,"column":39}},"12":{"start":{"line":19,"column":0},"end":{"line":19,"column":42}},"13":{"start":{"line":46,"column":0},"end":{"line":618,"column":1}},"14":{"start":{"line":46,"column":39},"end":{"line":46,"column":48}},"15":{"start":{"line":74,"column":2},"end":{"line":81,"column":3}},"16":{"start":{"line":75,"column":4},"end":{"line":75,"column":51}},"17":{"start":{"line":74,"column":21},"end":{"line":74,"column":41}},"18":{"start":{"line":74,"column":50},"end":{"line":74,"column":85}},"19":{"start":{"line":74,"column":125},"end":{"line":74,"column":146}},"20":{"start":{"line":77,"column":4},"end":{"line":77,"column":94}},"21":{"start":{"line":78,"column":4},"end":{"line":78,"column":49}},"22":{"start":{"line":79,"column":4},"end":{"line":79,"column":46}},"23":{"start":{"line":80,"column":4},"end":{"line":80,"column":31}},"24":{"start":{"line":83,"column":9},"end":{"line":93,"column":3}},"25":{"start":{"line":84,"column":4},"end":{"line":84,"column":30}},"26":{"start":{"line":85,"column":4},"end":{"line":85,"column":51}},"27":{"start":{"line":86,"column":4},"end":{"line":86,"column":43}},"28":{"start":{"line":88,"column":4},"end":{"line":88,"column":37}},"29":{"start":{"line":89,"column":4},"end":{"line":89,"column":37}},"30":{"start":{"line":91,"column":4},"end":{"line":91,"column":37}},"31":{"start":{"line":92,"column":4},"end":{"line":92,"column":37}},"32":{"start":{"line":95,"column":9},"end":{"line":158,"column":3}},"33":{"start":{"line":95,"column":2},"end":{"line":158,"column":3}},"34":{"start":{"line":96,"column":4},"end":{"line":96,"column":21}},"35":{"start":{"line":97,"column":4},"end":{"line":97,"column":60}},"36":{"start":{"line":98,"column":4},"end":{"line":100,"column":5}},"37":{"start":{"line":99,"column":6},"end":{"line":99,"column":41}},"38":{"start":{"line":101,"column":4},"end":{"line":105,"column":50}},"39":{"start":{"line":106,"column":4},"end":{"line":106,"column":44}},"40":{"start":{"line":107,"column":4},"end":{"line":107,"column":63}},"41":{"start":{"line":108,"column":4},"end":{"line":108,"column":31}},"42":{"start":{"line":109,"column":4},"end":{"line":109,"column":54}},"43":{"start":{"line":111,"column":4},"end":{"line":111,"column":64}},"44":{"start":{"line":112,"column":4},"end":{"line":114,"column":5}},"45":{"start":{"line":116,"column":4},"end":{"line":116,"column":87}},"46":{"start":{"line":117,"column":4},"end":{"line":117,"column":89}},"47":{"start":{"line":119,"column":4},"end":{"line":119,"column":86}},"48":{"start":{"line":121,"column":4},"end":{"line":123,"column":5}},"49":{"start":{"line":122,"column":6},"end":{"line":122,"column":91}},"50":{"start":{"line":125,"column":4},"end":{"line":128,"column":6}},"51":{"start":{"line":130,"column":4},"end":{"line":157,"column":9}},"52":{"start":{"line":134,"column":8},"end":{"line":136,"column":9}},"53":{"start":{"line":135,"column":10},"end":{"line":135,"column":17}},"54":{"start":{"line":138,"column":8},"end":{"line":138,"column":46}},"55":{"start":{"line":139,"column":8},"end":{"line":139,"column":48}},"56":{"start":{"line":144,"column":8},"end":{"line":146,"column":9}},"57":{"start":{"line":145,"column":10},"end":{"line":145,"column":17}},"58":{"start":{"line":148,"column":8},"end":{"line":156,"column":9}},"59":{"start":{"line":149,"column":10},"end":{"line":149,"column":55}},"60":{"start":{"line":150,"column":10},"end":{"line":150,"column":50}},"61":{"start":{"line":152,"column":10},"end":{"line":154,"column":11}},"62":{"start":{"line":153,"column":12},"end":{"line":153,"column":52}},"63":{"start":{"line":155,"column":10},"end":{"line":155,"column":84}},"64":{"start":{"line":160,"column":12},"end":{"line":180,"column":3}},"65":{"start":{"line":160,"column":2},"end":{"line":180,"column":3}},"66":{"start":{"line":161,"column":4},"end":{"line":176,"column":6}},"67":{"start":{"line":162,"column":6},"end":{"line":162,"column":51}},"68":{"start":{"line":165,"column":6},"end":{"line":171,"column":7}},"69":{"start":{"line":166,"column":8},"end":{"line":166,"column":58}},"70":{"start":{"line":167,"column":8},"end":{"line":167,"column":33}},"71":{"start":{"line":168,"column":8},"end":{"line":168,"column":70}},"72":{"start":{"line":169,"column":8},"end":{"line":169,"column":39}},"73":{"start":{"line":170,"column":8},"end":{"line":170,"column":40}},"74":{"start":{"line":173,"column":6},"end":{"line":175,"column":7}},"75":{"start":{"line":174,"column":8},"end":{"line":174,"column":80}},"76":{"start":{"line":178,"column":4},"end":{"line":178,"column":37}},"77":{"start":{"line":179,"column":4},"end":{"line":179,"column":41}},"78":{"start":{"line":183,"column":10},"end":{"line":192,"column":3}},"79":{"start":{"line":184,"column":4},"end":{"line":184,"column":25}},"80":{"start":{"line":185,"column":4},"end":{"line":189,"column":5}},"81":{"start":{"line":186,"column":6},"end":{"line":186,"column":34}},"82":{"start":{"line":188,"column":6},"end":{"line":188,"column":32}},"83":{"start":{"line":190,"column":4},"end":{"line":190,"column":181}},"84":{"start":{"line":191,"column":4},"end":{"line":191,"column":45}},"85":{"start":{"line":196,"column":10},"end":{"line":207,"column":3}},"86":{"start":{"line":197,"column":4},"end":{"line":197,"column":26}},"87":{"start":{"line":200,"column":4},"end":{"line":202,"column":5}},"88":{"start":{"line":201,"column":6},"end":{"line":201,"column":66}},"89":{"start":{"line":204,"column":4},"end":{"line":204,"column":41}},"90":{"start":{"line":205,"column":4},"end":{"line":205,"column":49}},"91":{"start":{"line":206,"column":4},"end":{"line":206,"column":42}},"92":{"start":{"line":209,"column":10},"end":{"line":252,"column":3}},"93":{"start":{"line":210,"column":4},"end":{"line":251,"column":5}},"94":{"start":{"line":211,"column":6},"end":{"line":211,"column":50}},"95":{"start":{"line":212,"column":6},"end":{"line":212,"column":30}},"96":{"start":{"line":215,"column":6},"end":{"line":215,"column":159}},"97":{"start":{"line":218,"column":6},"end":{"line":218,"column":136}},"98":{"start":{"line":220,"column":6},"end":{"line":240,"column":7}},"99":{"start":{"line":228,"column":8},"end":{"line":228,"column":96}},"100":{"start":{"line":229,"column":8},"end":{"line":229,"column":51}},"101":{"start":{"line":233,"column":8},"end":{"line":233,"column":47}},"102":{"start":{"line":234,"column":8},"end":{"line":234,"column":58}},"103":{"start":{"line":239,"column":8},"end":{"line":239,"column":43}},"104":{"start":{"line":242,"column":6},"end":{"line":246,"column":7}},"105":{"start":{"line":243,"column":8},"end":{"line":243,"column":46}},"106":{"start":{"line":245,"column":8},"end":{"line":245,"column":60}},"107":{"start":{"line":247,"column":6},"end":{"line":247,"column":52}},"108":{"start":{"line":248,"column":6},"end":{"line":248,"column":30}},"109":{"start":{"line":254,"column":10},"end":{"line":258,"column":3}},"110":{"start":{"line":255,"column":4},"end":{"line":255,"column":43}},"111":{"start":{"line":256,"column":4},"end":{"line":256,"column":84}},"112":{"start":{"line":257,"column":4},"end":{"line":257,"column":73}},"113":{"start":{"line":303,"column":9},"end":{"line":393,"column":3}},"114":{"start":{"line":303,"column":2},"end":{"line":393,"column":3}},"115":{"start":{"line":304,"column":4},"end":{"line":304,"column":28}},"116":{"start":{"line":305,"column":4},"end":{"line":305,"column":28}},"117":{"start":{"line":307,"column":4},"end":{"line":307,"column":47}},"118":{"start":{"line":308,"column":4},"end":{"line":308,"column":28}},"119":{"start":{"line":309,"column":4},"end":{"line":365,"column":7}},"120":{"start":{"line":310,"column":6},"end":{"line":310,"column":54}},"121":{"start":{"line":312,"column":6},"end":{"line":364,"column":7}},"122":{"start":{"line":313,"column":8},"end":{"line":313,"column":37}},"123":{"start":{"line":314,"column":8},"end":{"line":314,"column":55}},"124":{"start":{"line":315,"column":8},"end":{"line":315,"column":50}},"125":{"start":{"line":317,"column":8},"end":{"line":317,"column":38}},"126":{"start":{"line":321,"column":8},"end":{"line":352,"column":9}},"127":{"start":{"line":322,"column":10},"end":{"line":338,"column":12}},"128":{"start":{"line":339,"column":15},"end":{"line":352,"column":9}},"129":{"start":{"line":340,"column":10},"end":{"line":348,"column":11}},"130":{"start":{"line":341,"column":12},"end":{"line":347,"column":13}},"131":{"start":{"line":342,"column":14},"end":{"line":342,"column":63}},"132":{"start":{"line":344,"column":19},"end":{"line":347,"column":13}},"133":{"start":{"line":345,"column":14},"end":{"line":345,"column":63}},"134":{"start":{"line":346,"column":14},"end":{"line":346,"column":35}},"135":{"start":{"line":350,"column":10},"end":{"line":350,"column":61}},"136":{"start":{"line":351,"column":10},"end":{"line":351,"column":31}},"137":{"start":{"line":356,"column":8},"end":{"line":363,"column":9}},"138":{"start":{"line":357,"column":10},"end":{"line":357,"column":81}},"139":{"start":{"line":358,"column":10},"end":{"line":358,"column":84}},"140":{"start":{"line":360,"column":10},"end":{"line":362,"column":11}},"141":{"start":{"line":361,"column":12},"end":{"line":361,"column":71}},"142":{"start":{"line":367,"column":4},"end":{"line":369,"column":5}},"143":{"start":{"line":368,"column":6},"end":{"line":368,"column":43}},"144":{"start":{"line":371,"column":4},"end":{"line":371,"column":27}},"145":{"start":{"line":373,"column":4},"end":{"line":390,"column":7}},"146":{"start":{"line":377,"column":6},"end":{"line":377,"column":67}},"147":{"start":{"line":379,"column":6},"end":{"line":384,"column":7}},"148":{"start":{"line":386,"column":6},"end":{"line":386,"column":37}},"149":{"start":{"line":387,"column":6},"end":{"line":387,"column":66}},"150":{"start":{"line":389,"column":6},"end":{"line":389,"column":36}},"151":{"start":{"line":392,"column":4},"end":{"line":392,"column":25}},"152":{"start":{"line":395,"column":10},"end":{"line":402,"column":3}},"153":{"start":{"line":396,"column":4},"end":{"line":399,"column":47}},"154":{"start":{"line":401,"column":4},"end":{"line":401,"column":54}},"155":{"start":{"line":404,"column":10},"end":{"line":411,"column":3}},"156":{"start":{"line":405,"column":4},"end":{"line":410,"column":5}},"157":{"start":{"line":407,"column":6},"end":{"line":407,"column":98}},"158":{"start":{"line":409,"column":6},"end":{"line":409,"column":39}},"159":{"start":{"line":413,"column":10},"end":{"line":417,"column":3}},"160":{"start":{"line":414,"column":4},"end":{"line":414,"column":70}},"161":{"start":{"line":416,"column":4},"end":{"line":416,"column":77}},"162":{"start":{"line":419,"column":10},"end":{"line":434,"column":3}},"163":{"start":{"line":419,"column":2},"end":{"line":434,"column":3}},"164":{"start":{"line":420,"column":4},"end":{"line":420,"column":26}},"165":{"start":{"line":423,"column":4},"end":{"line":432,"column":5}},"166":{"start":{"line":426,"column":6},"end":{"line":431,"column":18}},"167":{"start":{"line":429,"column":8},"end":{"line":430,"column":150}},"168":{"start":{"line":430,"column":85},"end":{"line":430,"column":135}},"169":{"start":{"line":433,"column":4},"end":{"line":433,"column":17}},"170":{"start":{"line":436,"column":10},"end":{"line":473,"column":3}},"171":{"start":{"line":436,"column":2},"end":{"line":473,"column":3}},"172":{"start":{"line":437,"column":4},"end":{"line":437,"column":29}},"173":{"start":{"line":438,"column":4},"end":{"line":438,"column":50}},"174":{"start":{"line":440,"column":4},"end":{"line":440,"column":35}},"175":{"start":{"line":441,"column":4},"end":{"line":441,"column":60}},"176":{"start":{"line":442,"column":4},"end":{"line":442,"column":47}},"177":{"start":{"line":443,"column":4},"end":{"line":445,"column":6}},"178":{"start":{"line":444,"column":6},"end":{"line":444,"column":46}},"179":{"start":{"line":446,"column":4},"end":{"line":446,"column":38}},"180":{"start":{"line":448,"column":4},"end":{"line":448,"column":38}},"181":{"start":{"line":449,"column":4},"end":{"line":449,"column":67}},"182":{"start":{"line":450,"column":4},"end":{"line":450,"column":42}},"183":{"start":{"line":451,"column":4},"end":{"line":451,"column":76}},"184":{"start":{"line":452,"column":4},"end":{"line":452,"column":53}},"185":{"start":{"line":453,"column":4},"end":{"line":455,"column":6}},"186":{"start":{"line":454,"column":6},"end":{"line":454,"column":45}},"187":{"start":{"line":456,"column":4},"end":{"line":456,"column":40}},"188":{"start":{"line":458,"column":4},"end":{"line":458,"column":40}},"189":{"start":{"line":459,"column":4},"end":{"line":459,"column":71}},"190":{"start":{"line":460,"column":4},"end":{"line":460,"column":44}},"191":{"start":{"line":461,"column":4},"end":{"line":461,"column":80}},"192":{"start":{"line":462,"column":4},"end":{"line":462,"column":57}},"193":{"start":{"line":463,"column":4},"end":{"line":465,"column":6}},"194":{"start":{"line":464,"column":6},"end":{"line":464,"column":46}},"195":{"start":{"line":466,"column":4},"end":{"line":466,"column":43}},"196":{"start":{"line":468,"column":4},"end":{"line":468,"column":56}},"197":{"start":{"line":469,"column":4},"end":{"line":469,"column":76}},"198":{"start":{"line":470,"column":4},"end":{"line":470,"column":86}},"199":{"start":{"line":472,"column":4},"end":{"line":472,"column":23}},"200":{"start":{"line":475,"column":10},"end":{"line":533,"column":3}},"201":{"start":{"line":476,"column":4},"end":{"line":476,"column":39}},"202":{"start":{"line":477,"column":4},"end":{"line":477,"column":24}},"203":{"start":{"line":478,"column":4},"end":{"line":482,"column":5}},"204":{"start":{"line":479,"column":6},"end":{"line":479,"column":66}},"205":{"start":{"line":481,"column":6},"end":{"line":481,"column":66}},"206":{"start":{"line":484,"column":4},"end":{"line":484,"column":50}},"207":{"start":{"line":487,"column":4},"end":{"line":487,"column":113}},"208":{"start":{"line":488,"column":4},"end":{"line":490,"column":5}},"209":{"start":{"line":489,"column":6},"end":{"line":489,"column":32}},"210":{"start":{"line":493,"column":4},"end":{"line":493,"column":125}},"211":{"start":{"line":494,"column":4},"end":{"line":494,"column":45}},"212":{"start":{"line":495,"column":4},"end":{"line":495,"column":33}},"213":{"start":{"line":500,"column":4},"end":{"line":503,"column":5}},"214":{"start":{"line":501,"column":6},"end":{"line":501,"column":42}},"215":{"start":{"line":502,"column":6},"end":{"line":502,"column":33}},"216":{"start":{"line":511,"column":4},"end":{"line":521,"column":5}},"217":{"start":{"line":512,"column":6},"end":{"line":512,"column":31}},"218":{"start":{"line":516,"column":6},"end":{"line":516,"column":52}},"219":{"start":{"line":517,"column":6},"end":{"line":517,"column":26}},"220":{"start":{"line":518,"column":6},"end":{"line":518,"column":25}},"221":{"start":{"line":520,"column":6},"end":{"line":520,"column":13}},"222":{"start":{"line":525,"column":4},"end":{"line":527,"column":78}},"223":{"start":{"line":529,"column":4},"end":{"line":531,"column":79}},"224":{"start":{"line":535,"column":10},"end":{"line":539,"column":3}},"225":{"start":{"line":536,"column":4},"end":{"line":536,"column":26}},"226":{"start":{"line":537,"column":4},"end":{"line":537,"column":46}},"227":{"start":{"line":538,"column":4},"end":{"line":538,"column":18}},"228":{"start":{"line":541,"column":10},"end":{"line":548,"column":3}},"229":{"start":{"line":542,"column":4},"end":{"line":542,"column":30}},"230":{"start":{"line":543,"column":4},"end":{"line":543,"column":56}},"231":{"start":{"line":544,"column":4},"end":{"line":544,"column":34}},"232":{"start":{"line":545,"column":4},"end":{"line":545,"column":50}},"233":{"start":{"line":546,"column":4},"end":{"line":546,"column":44}},"234":{"start":{"line":547,"column":4},"end":{"line":547,"column":25}},"235":{"start":{"line":550,"column":10},"end":{"line":565,"column":3}},"236":{"start":{"line":551,"column":4},"end":{"line":551,"column":27}},"237":{"start":{"line":553,"column":4},"end":{"line":557,"column":5}},"238":{"start":{"line":556,"column":6},"end":{"line":556,"column":69}},"239":{"start":{"line":560,"column":4},"end":{"line":562,"column":5}},"240":{"start":{"line":561,"column":6},"end":{"line":561,"column":48}},"241":{"start":{"line":564,"column":4},"end":{"line":564,"column":17}},"242":{"start":{"line":567,"column":10},"end":{"line":570,"column":3}},"243":{"start":{"line":568,"column":4},"end":{"line":568,"column":79}},"244":{"start":{"line":569,"column":4},"end":{"line":569,"column":64}},"245":{"start":{"line":572,"column":10},"end":{"line":583,"column":3}},"246":{"start":{"line":572,"column":2},"end":{"line":583,"column":3}},"247":{"start":{"line":573,"column":4},"end":{"line":575,"column":5}},"248":{"start":{"line":574,"column":6},"end":{"line":574,"column":48}},"249":{"start":{"line":576,"column":4},"end":{"line":576,"column":19}},"250":{"start":{"line":577,"column":4},"end":{"line":580,"column":7}},"251":{"start":{"line":578,"column":6},"end":{"line":578,"column":26}},"252":{"start":{"line":579,"column":6},"end":{"line":579,"column":67}},"253":{"start":{"line":581,"column":4},"end":{"line":581,"column":49}},"254":{"start":{"line":582,"column":4},"end":{"line":582,"column":26}},"255":{"start":{"line":585,"column":10},"end":{"line":589,"column":3}},"256":{"start":{"line":586,"column":4},"end":{"line":588,"column":5}},"257":{"start":{"line":587,"column":6},"end":{"line":587,"column":47}},"258":{"start":{"line":591,"column":10},"end":{"line":602,"column":3}},"259":{"start":{"line":592,"column":4},"end":{"line":592,"column":44}},"260":{"start":{"line":593,"column":4},"end":{"line":593,"column":45}},"261":{"start":{"line":594,"column":4},"end":{"line":594,"column":46}},"262":{"start":{"line":595,"column":4},"end":{"line":595,"column":43}},"263":{"start":{"line":596,"column":4},"end":{"line":596,"column":16}},"264":{"start":{"line":597,"column":4},"end":{"line":599,"column":5}},"265":{"start":{"line":598,"column":6},"end":{"line":598,"column":17}},"266":{"start":{"line":600,"column":4},"end":{"line":600,"column":57}},"267":{"start":{"line":601,"column":4},"end":{"line":601,"column":98}},"268":{"start":{"line":604,"column":10},"end":{"line":617,"column":3}},"269":{"start":{"line":604,"column":94},"end":{"line":604,"column":116}},"270":{"start":{"line":605,"column":4},"end":{"line":605,"column":80}},"271":{"start":{"line":606,"column":4},"end":{"line":606,"column":77}},"272":{"start":{"line":608,"column":4},"end":{"line":616,"column":10}},"273":{"start":{"line":609,"column":6},"end":{"line":615,"column":7}},"274":{"start":{"line":610,"column":8},"end":{"line":610,"column":38}},"275":{"start":{"line":611,"column":8},"end":{"line":611,"column":36}},"276":{"start":{"line":612,"column":8},"end":{"line":612,"column":21}},"277":{"start":{"line":614,"column":8},"end":{"line":614,"column":32}},"278":{"start":{"line":47,"column":9},"end":{"line":47,"column":34}},"279":{"start":{"line":53,"column":9},"end":{"line":60,"column":4}},"280":{"start":{"line":618,"column":0},"end":{"line":618,"column":1}},"281":{"start":{"line":46,"column":13},"end":{"line":618,"column":1}},"282":{"start":{"line":620,"column":0},"end":{"line":620,"column":62}}},"fnMap":{"1":{"name":"(anonymous_2417)","line":46,"loc":{"start":{"line":46,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"QuickviewDocument","line":74,"loc":{"start":{"line":74,"column":2},"end":{"line":74,"column":146}}},"3":{"name":"(anonymous_2419)","line":83,"loc":{"start":{"line":83,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_2420)","line":95,"loc":{"start":{"line":95,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_2421)","line":131,"loc":{"start":{"line":131,"column":12},"end":{"line":131,"column":31}}},"6":{"name":"(anonymous_2422)","line":141,"loc":{"start":{"line":141,"column":13},"end":{"line":141,"column":30}}},"7":{"name":"(anonymous_2423)","line":152,"loc":{"start":{"line":152,"column":26},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_2424)","line":160,"loc":{"start":{"line":160,"column":2},"end":{"line":160,"column":76}}},"9":{"name":"(anonymous_2425)","line":161,"loc":{"start":{"line":161,"column":20},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_2426)","line":183,"loc":{"start":{"line":183,"column":2},"end":{"line":183,"column":74}}},"11":{"name":"(anonymous_2427)","line":196,"loc":{"start":{"line":196,"column":2},"end":{"line":196,"column":63}}},"12":{"name":"(anonymous_2428)","line":209,"loc":{"start":{"line":209,"column":2},"end":{"line":209,"column":59}}},"13":{"name":"(anonymous_2429)","line":254,"loc":{"start":{"line":254,"column":2},"end":{"line":254,"column":51}}},"14":{"name":"(anonymous_2430)","line":303,"loc":{"start":{"line":303,"column":2},"end":{"line":303,"column":41}}},"15":{"name":"(anonymous_2431)","line":309,"loc":{"start":{"line":309,"column":81},"end":{"line":309,"column":117}}},"16":{"name":"(anonymous_2432)","line":373,"loc":{"start":{"line":373,"column":18},"end":{"line":373,"column":23}}},"17":{"name":"(anonymous_2433)","line":395,"loc":{"start":{"line":395,"column":2},"end":{"line":395,"column":50}}},"18":{"name":"(anonymous_2434)","line":404,"loc":{"start":{"line":404,"column":2},"end":{"line":404,"column":52}}},"19":{"name":"(anonymous_2435)","line":413,"loc":{"start":{"line":413,"column":2},"end":{"line":413,"column":63}}},"20":{"name":"(anonymous_2436)","line":419,"loc":{"start":{"line":419,"column":2},"end":{"line":419,"column":60}}},"21":{"name":"(anonymous_2437)","line":426,"loc":{"start":{"line":426,"column":59},"end":{"line":426,"column":80}}},"22":{"name":"(anonymous_2438)","line":430,"loc":{"start":{"line":430,"column":62},"end":{"line":430,"column":80}}},"23":{"name":"(anonymous_2439)","line":436,"loc":{"start":{"line":436,"column":2},"end":{"line":436,"column":63}}},"24":{"name":"(anonymous_2440)","line":443,"loc":{"start":{"line":443,"column":30},"end":{"line":null,"column":-1}}},"25":{"name":"(anonymous_2441)","line":453,"loc":{"start":{"line":453,"column":33},"end":{"line":null,"column":-1}}},"26":{"name":"(anonymous_2442)","line":463,"loc":{"start":{"line":463,"column":35},"end":{"line":null,"column":-1}}},"27":{"name":"(anonymous_2443)","line":475,"loc":{"start":{"line":475,"column":2},"end":{"line":475,"column":71}}},"28":{"name":"(anonymous_2444)","line":535,"loc":{"start":{"line":535,"column":2},"end":{"line":null,"column":-1}}},"29":{"name":"(anonymous_2445)","line":541,"loc":{"start":{"line":541,"column":2},"end":{"line":null,"column":-1}}},"30":{"name":"(anonymous_2446)","line":550,"loc":{"start":{"line":550,"column":2},"end":{"line":550,"column":50}}},"31":{"name":"(anonymous_2447)","line":567,"loc":{"start":{"line":567,"column":2},"end":{"line":567,"column":53}}},"32":{"name":"(anonymous_2448)","line":572,"loc":{"start":{"line":572,"column":2},"end":{"line":572,"column":85}}},"33":{"name":"(anonymous_2449)","line":577,"loc":{"start":{"line":577,"column":29},"end":{"line":577,"column":34}}},"34":{"name":"(anonymous_2450)","line":585,"loc":{"start":{"line":585,"column":2},"end":{"line":585,"column":77}}},"35":{"name":"(anonymous_2451)","line":591,"loc":{"start":{"line":591,"column":2},"end":{"line":591,"column":41}}},"36":{"name":"(anonymous_2452)","line":604,"loc":{"start":{"line":604,"column":2},"end":{"line":604,"column":116}}},"37":{"name":"(anonymous_2453)","line":608,"loc":{"start":{"line":608,"column":31},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":78,"type":"binary-expr","locations":[{"start":{"line":78,"column":18},"end":{"line":78,"column":24}},{"start":{"line":78,"column":28},"end":{"line":78,"column":48}}]},"2":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":4},"end":{"line":98,"column":3}},{"start":{"line":98,"column":4},"end":{"line":98,"column":3}}]},"3":{"line":98,"type":"binary-expr","locations":[{"start":{"line":98,"column":8},"end":{"line":98,"column":32}},{"start":{"line":98,"column":36},"end":{"line":98,"column":53}}]},"4":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":4},"end":{"line":121,"column":3}},{"start":{"line":121,"column":4},"end":{"line":121,"column":3}}]},"5":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":8},"end":{"line":134,"column":7}},{"start":{"line":134,"column":8},"end":{"line":134,"column":7}}]},"6":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":8},"end":{"line":144,"column":7}},{"start":{"line":144,"column":8},"end":{"line":144,"column":7}}]},"7":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":8},"end":{"line":148,"column":7}},{"start":{"line":148,"column":8},"end":{"line":148,"column":7}}]},"8":{"line":165,"type":"if","locations":[{"start":{"line":165,"column":6},"end":{"line":165,"column":5}},{"start":{"line":165,"column":6},"end":{"line":165,"column":5}}]},"9":{"line":173,"type":"if","locations":[{"start":{"line":173,"column":6},"end":{"line":173,"column":5}},{"start":{"line":173,"column":6},"end":{"line":173,"column":5}}]},"10":{"line":185,"type":"if","locations":[{"start":{"line":185,"column":4},"end":{"line":185,"column":3}},{"start":{"line":185,"column":4},"end":{"line":185,"column":3}}]},"11":{"line":200,"type":"if","locations":[{"start":{"line":200,"column":4},"end":{"line":200,"column":3}},{"start":{"line":200,"column":4},"end":{"line":200,"column":3}}]},"12":{"line":220,"type":"if","locations":[{"start":{"line":220,"column":6},"end":{"line":220,"column":5}},{"start":{"line":220,"column":6},"end":{"line":220,"column":5}}]},"13":{"line":242,"type":"if","locations":[{"start":{"line":242,"column":6},"end":{"line":242,"column":5}},{"start":{"line":242,"column":6},"end":{"line":242,"column":5}}]},"14":{"line":312,"type":"if","locations":[{"start":{"line":312,"column":6},"end":{"line":312,"column":5}},{"start":{"line":312,"column":6},"end":{"line":312,"column":5}}]},"15":{"line":321,"type":"if","locations":[{"start":{"line":321,"column":8},"end":{"line":321,"column":7}},{"start":{"line":321,"column":8},"end":{"line":321,"column":7}}]},"16":{"line":321,"type":"binary-expr","locations":[{"start":{"line":321,"column":12},"end":{"line":321,"column":24}},{"start":{"line":321,"column":28},"end":{"line":321,"column":43}}]},"17":{"line":335,"type":"cond-expr","locations":[{"start":{"line":335,"column":78},"end":{"line":335,"column":79}},{"start":{"line":335,"column":82},"end":{"line":335,"column":83}}]},"18":{"line":339,"type":"if","locations":[{"start":{"line":339,"column":15},"end":{"line":339,"column":14}},{"start":{"line":339,"column":15},"end":{"line":339,"column":14}}]},"19":{"line":340,"type":"if","locations":[{"start":{"line":340,"column":10},"end":{"line":340,"column":9}},{"start":{"line":340,"column":10},"end":{"line":340,"column":9}}]},"20":{"line":341,"type":"if","locations":[{"start":{"line":341,"column":12},"end":{"line":341,"column":11}},{"start":{"line":341,"column":12},"end":{"line":341,"column":11}}]},"21":{"line":344,"type":"if","locations":[{"start":{"line":344,"column":19},"end":{"line":344,"column":18}},{"start":{"line":344,"column":19},"end":{"line":344,"column":18}}]},"22":{"line":356,"type":"if","locations":[{"start":{"line":356,"column":8},"end":{"line":356,"column":7}},{"start":{"line":356,"column":8},"end":{"line":356,"column":7}}]},"23":{"line":356,"type":"binary-expr","locations":[{"start":{"line":356,"column":12},"end":{"line":356,"column":16}},{"start":{"line":356,"column":20},"end":{"line":356,"column":53}},{"start":{"line":356,"column":57},"end":{"line":356,"column":97}}]},"24":{"line":358,"type":"cond-expr","locations":[{"start":{"line":358,"column":49},"end":{"line":358,"column":76}},{"start":{"line":358,"column":79},"end":{"line":358,"column":83}}]},"25":{"line":360,"type":"if","locations":[{"start":{"line":360,"column":10},"end":{"line":360,"column":9}},{"start":{"line":360,"column":10},"end":{"line":360,"column":9}}]},"26":{"line":360,"type":"binary-expr","locations":[{"start":{"line":360,"column":14},"end":{"line":360,"column":26}},{"start":{"line":360,"column":30},"end":{"line":360,"column":90}}]},"27":{"line":361,"type":"binary-expr","locations":[{"start":{"line":361,"column":33},"end":{"line":361,"column":64}},{"start":{"line":361,"column":68},"end":{"line":361,"column":70}}]},"28":{"line":367,"type":"if","locations":[{"start":{"line":367,"column":4},"end":{"line":367,"column":3}},{"start":{"line":367,"column":4},"end":{"line":367,"column":3}}]},"29":{"line":401,"type":"cond-expr","locations":[{"start":{"line":401,"column":41},"end":{"line":401,"column":46}},{"start":{"line":401,"column":49},"end":{"line":401,"column":53}}]},"30":{"line":401,"type":"binary-expr","locations":[{"start":{"line":401,"column":12},"end":{"line":401,"column":17}},{"start":{"line":401,"column":21},"end":{"line":401,"column":37}}]},"31":{"line":405,"type":"if","locations":[{"start":{"line":405,"column":4},"end":{"line":405,"column":3}},{"start":{"line":405,"column":4},"end":{"line":405,"column":3}}]},"32":{"line":407,"type":"cond-expr","locations":[{"start":{"line":407,"column":47},"end":{"line":407,"column":91}},{"start":{"line":407,"column":95},"end":{"line":407,"column":97}}]},"33":{"line":407,"type":"binary-expr","locations":[{"start":{"line":407,"column":47},"end":{"line":407,"column":85}},{"start":{"line":407,"column":89},"end":{"line":407,"column":91}}]},"34":{"line":409,"type":"binary-expr","locations":[{"start":{"line":409,"column":13},"end":{"line":409,"column":32}},{"start":{"line":409,"column":36},"end":{"line":409,"column":38}}]},"35":{"line":416,"type":"cond-expr","locations":[{"start":{"line":416,"column":22},"end":{"line":416,"column":69}},{"start":{"line":416,"column":72},"end":{"line":416,"column":76}}]},"36":{"line":423,"type":"if","locations":[{"start":{"line":423,"column":4},"end":{"line":423,"column":3}},{"start":{"line":423,"column":4},"end":{"line":423,"column":3}}]},"37":{"line":426,"type":"binary-expr","locations":[{"start":{"line":426,"column":14},"end":{"line":431,"column":8}},{"start":{"line":431,"column":12},"end":{"line":431,"column":17}}]},"38":{"line":429,"type":"binary-expr","locations":[{"start":{"line":429,"column":16},"end":{"line":429,"column":69}},{"start":{"line":430,"column":11},"end":{"line":430,"column":149}}]},"39":{"line":478,"type":"if","locations":[{"start":{"line":478,"column":4},"end":{"line":478,"column":3}},{"start":{"line":478,"column":4},"end":{"line":478,"column":3}}]},"40":{"line":479,"type":"cond-expr","locations":[{"start":{"line":479,"column":48},"end":{"line":479,"column":49}},{"start":{"line":479,"column":52},"end":{"line":479,"column":65}}]},"41":{"line":481,"type":"cond-expr","locations":[{"start":{"line":481,"column":33},"end":{"line":481,"column":49}},{"start":{"line":481,"column":52},"end":{"line":481,"column":65}}]},"42":{"line":488,"type":"if","locations":[{"start":{"line":488,"column":4},"end":{"line":488,"column":3}},{"start":{"line":488,"column":4},"end":{"line":488,"column":3}}]},"43":{"line":500,"type":"if","locations":[{"start":{"line":500,"column":4},"end":{"line":500,"column":3}},{"start":{"line":500,"column":4},"end":{"line":500,"column":3}}]},"44":{"line":511,"type":"if","locations":[{"start":{"line":511,"column":4},"end":{"line":511,"column":3}},{"start":{"line":511,"column":4},"end":{"line":511,"column":3}}]},"45":{"line":511,"type":"binary-expr","locations":[{"start":{"line":511,"column":8},"end":{"line":511,"column":43}},{"start":{"line":511,"column":47},"end":{"line":511,"column":75}}]},"46":{"line":553,"type":"if","locations":[{"start":{"line":553,"column":4},"end":{"line":553,"column":3}},{"start":{"line":553,"column":4},"end":{"line":553,"column":3}}]},"47":{"line":560,"type":"if","locations":[{"start":{"line":560,"column":4},"end":{"line":560,"column":3}},{"start":{"line":560,"column":4},"end":{"line":560,"column":3}}]},"48":{"line":569,"type":"binary-expr","locations":[{"start":{"line":569,"column":11},"end":{"line":569,"column":15}},{"start":{"line":569,"column":19},"end":{"line":569,"column":63}}]},"49":{"line":586,"type":"if","locations":[{"start":{"line":586,"column":4},"end":{"line":586,"column":3}},{"start":{"line":586,"column":4},"end":{"line":586,"column":3}}]},"50":{"line":597,"type":"if","locations":[{"start":{"line":597,"column":4},"end":{"line":597,"column":3}},{"start":{"line":597,"column":4},"end":{"line":597,"column":3}}]},"51":{"line":604,"type":"if","locations":[{"start":{"line":604,"column":94},"end":{"line":604,"column":93}},{"start":{"line":604,"column":94},"end":{"line":604,"column":93}}]},"52":{"line":609,"type":"if","locations":[{"start":{"line":609,"column":6},"end":{"line":609,"column":5}},{"start":{"line":609,"column":6},"end":{"line":609,"column":5}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":1,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":1,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":1,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":1,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":1,"110":0,"111":0,"112":0,"113":1,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":1,"153":0,"154":0,"155":1,"156":0,"157":0,"158":0,"159":1,"160":0,"161":0,"162":1,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":1,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":1,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":1,"225":0,"226":0,"227":0,"228":1,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":1,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":1,"243":0,"244":0,"245":1,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":1,"256":0,"257":0,"258":1,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"268":1,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"277":0,"278":1,"279":1,"280":1,"281":1,"282":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0},"code":"import {Component} from '../Base/Component'\nimport {IComponentBindings} from '../Base/ComponentBindings'\nimport {ComponentOptions} from '../Base/ComponentOptions'\nimport {analyticsActionCauseList} from '../Analytics/AnalyticsActionListMeta'\nimport {IQueryResult} from '../../rest/QueryResult'\nimport {Assert} from '../../misc/Assert'\nimport {$$, Dom} from '../../utils/Dom'\nimport {IOpenQuickviewEventArgs} from '../../events/ResultListEvents'\nimport {QuickviewEvents, IQuickviewLoadedEventArgs} from '../../events/QuickviewEvents'\nimport {DeviceUtils} from '../../utils/DeviceUtils'\nimport {Utils} from '../../utils/Utils'\nimport {ColorUtils} from '../../utils/ColorUtils'\nimport {Initialization} from '../Base/Initialization'\nimport {IQuery} from '../../rest/Query'\nimport {IViewAsHtmlOptions} from '../../rest/SearchEndpointInterface'\nimport {AjaxError} from '../../rest/AjaxError'\nimport {l} from '../../strings/Strings'\n\nconst HIGHLIGHT_PREFIX = 'CoveoHighlight';\n\nexport interface IQuickviewDocumentOptions {\n  maximumDocumentSize?: number;\n}\n\ninterface IWord {\n  text: string;\n  count: number;\n  index: number;\n  termsCount: number;\n  element: HTMLElement;\n  occurence: number;\n}\n\ninterface IWordState {\n  word: IWord;\n  color: string;\n  currentIndex: number;\n  index: number;\n}\n\n/**\n * The QuickviewDocument component is meant to exist within Result Templates, more specifically inside a {@link Quickview} Component.\n * The sole purpose of this component is to include an iframe which will load the correct HTML version of the current document.\n * By default, this component is included in the default template for a {@link Quickview} Component.\n */\nexport class QuickviewDocument extends Component {\n  static ID = 'QuickviewDocument';\n\n  /**\n   * The options for the component\n   * @componentOptions\n   */\n  static options: IQuickviewDocumentOptions = {\n    /**\n     * Specifies the maximum document size (the preview) that should be returned by the index.\n     *\n     * By default it's value is 0, and the whole preview is returned.\n     */\n    maximumDocumentSize: ComponentOptions.buildNumberOption({ defaultValue: 0, min: 0 }),\n  };\n\n  private iframe: Dom;\n  private header: Dom;\n  private termsToHighlightWereModified: boolean;\n  private keywordsState: IWordState[];\n\n  /**\n   * Create a new instance of the component\n   * @param element\n   * @param options\n   * @param bindings\n   * @param result\n   */\n  constructor(public element: HTMLElement, public options?: IQuickviewDocumentOptions, bindings?: IComponentBindings, public result?: IQueryResult) {\n    super(element, QuickviewDocument.ID, bindings);\n\n    this.options = ComponentOptions.initComponentOptions(element, QuickviewDocument, options);\n    this.result = result || this.resolveResult();\n    this.termsToHighlightWereModified = false;\n    Assert.exists(this.result);\n  }\n\n  public createDom() {\n    let container = $$('div');\n    container.addClass('coveo-quickview-document');\n    this.element.appendChild(container.el);\n\n    this.header = this.buildHeader();\n    this.iframe = this.buildIFrame();\n\n    container.append(this.header.el);\n    container.append(this.iframe.el);\n  }\n\n  public open() {\n    this.ensureDom();\n    let documentURL = $$(this.element).getAttribute('href');\n    if (documentURL == undefined || documentURL == '') {\n      documentURL = this.result.clickUri;\n    }\n    this.usageAnalytics.logClickEvent(analyticsActionCauseList.documentQuickview, {\n      author: this.result.raw.author,\n      documentURL: documentURL,\n      documentTitle: this.result.title\n    }, this.result, this.queryController.element);\n    let beforeLoad = (new Date()).getTime();\n    let iframe = <HTMLIFrameElement>this.iframe.find('iframe');\n    iframe.src = 'about:blank';\n    let endpoint = this.queryController.getEndpoint();\n\n    let termsToHighlight = _.keys(this.result.termsToHighlight);\n    let dataToSendOnOpenQuickView: IOpenQuickviewEventArgs = {\n      termsToHighlight: termsToHighlight\n    }\n\n    $$(this.element).trigger(QuickviewEvents.openQuickview, dataToSendOnOpenQuickView);\n    this.checkIfTermsToHighlightWereModified(dataToSendOnOpenQuickView.termsToHighlight);\n\n    let queryObject = _.extend({}, this.getBindings().queryController.getLastQuery());\n\n    if (this.termsToHighlightWereModified) {\n      this.handleTermsToHighlight(dataToSendOnOpenQuickView.termsToHighlight, queryObject);\n    }\n\n    let callOptions: IViewAsHtmlOptions = {\n      queryObject: queryObject,\n      requestedOutputSize: this.options.maximumDocumentSize\n    };\n\n    endpoint.getDocumentHtml(this.result.uniqueId, callOptions)\n      .then((html: HTMLDocument) => {\n        // If the contentDocument is null at this point it means that the Quick View\n        // was closed before we've finished loading it. In this case do nothing.\n        if (iframe.contentDocument == null) {\n          return;\n        }\n\n        this.renderHTMLDocument(iframe, html);\n        this.triggerQuickviewLoaded(beforeLoad);\n      })\n      .catch((error: AjaxError) => {\n        // If the contentDocument is null at this point it means that the Quick View\n        // was closed before we've finished loading it. In this case do nothing.\n        if (iframe.contentDocument == null) {\n          return;\n        }\n\n        if (error.status != 0) {\n          this.renderErrorReport(iframe, error.status);\n          this.triggerQuickviewLoaded(beforeLoad);\n        } else {\n          iframe.onload = () => {\n            this.triggerQuickviewLoaded(beforeLoad);\n          }\n          iframe.src = endpoint.getViewAsHtmlUri(this.result.uniqueId, callOptions);\n        }\n      });\n  }\n\n  protected renderHTMLDocument(iframe: HTMLIFrameElement, html: HTMLDocument) {\n    iframe.onload = () => {\n      this.computeHighlights(iframe.contentWindow);\n\n      // Remove white border for new Quickview\n      if (this.isNewQuickviewDocument(iframe.contentWindow)) {\n        let body = $$(this.element).closest('.coveo-body')\n        body.style.padding = '0';\n        let header = $$(this.element).find('.coveo-quickview-header');\n        header.style.paddingTop = '10';\n        header.style.paddingLeft = '10';\n      }\n\n      if ($$(this.element).find('.coveo-quickview-header').innerHTML == '') {\n        $$(this.element).find('.coveo-quickview-header').style.display = 'none';\n      }\n    };\n\n    this.writeToIFrame(iframe, html);\n    this.wrapPreElementsInIframe(iframe);\n  }\n\n\n  private renderErrorReport(iframe: HTMLIFrameElement, errorStatus: number) {\n    let errorString = '';\n    if (errorStatus == 400) {\n      errorString = 'NoQuickview';\n    } else {\n      errorString = 'OopsError';\n    }\n    let errorMessage = `<html><body style='font-family: Arimo, \\'Helvetica Neue\\', Helvetica, Arial, sans-serif; -webkit-text-size-adjust: none;' >${l(errorString)} </body></html>`;\n    this.writeToIFrame(iframe, errorMessage);\n  }\n\n  private writeToIFrame(iframe: HTMLIFrameElement, content: HTMLDocument);\n  private writeToIFrame(iframe: HTMLIFrameElement, content: String);\n  private writeToIFrame(iframe: HTMLIFrameElement, content: any) {\n    let toWrite = content;\n    // This sucks because we can't do instanceof HTMLDocument\n    // lib.d.ts declare HTMLDocument as an interface, not an actual object\n    if (typeof content == 'object') {\n      toWrite = content.getElementsByTagName('html')[0].outerHTML;\n    }\n\n    iframe.contentWindow.document.open();\n    iframe.contentWindow.document.write(toWrite);\n    iframe.contentWindow.document.close();\n  }\n\n  private wrapPreElementsInIframe(iframe: HTMLIFrameElement) {\n    try {\n      let style = document.createElement('style');\n      style.type = 'text/css';\n\n      // This CSS forces <pre> tags used in some emails to wrap by default\n      let cssText = 'html pre { white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; }';\n\n      // Some people react strongly when presented with their browser's default font, so let's fix that\n      cssText += 'body, html { font-family: Arimo, \\'Helvetica Neue\\', Helvetica, Arial, sans-serif; -webkit-text-size-adjust: none; }';\n\n      if (DeviceUtils.isIos()) {\n        // Safari on iOS forces resize iframes to fit their content, even if an explicit size\n        // is set on the iframe. Isn't that great? By chance there is a trick around it: by\n        // setting a very small size on the body and instead using min-* to set the size to\n        // 100% we're able to trick Safari from thinking it must expand the iframe. Amazed.\n        // The 'scrolling' part is required otherwise the hack doesn't work.\n        //\n        // http://stackoverflow.com/questions/23083462/how-to-get-an-iframe-to-be-responsive-in-ios-safari\n        cssText += 'body, html { height: 1px !important; min-height: 100%; overflow: scroll; }';\n        $$(iframe).setAttribute('scrolling', 'no');\n\n        // Some content is cropped on iOs if a margin is present\n        // We remove it and add one on the iframe wrapper.\n        cssText += 'body, html {margin: auto}';\n        iframe.parentElement.style.margin = '0 0 5px 5px';\n\n        // While we're on the topic of iOS Safari: This magic trick prevents iOS from NOT\n        // displaying the content of the iframe. If we don't do this, you'll see the body\n        // of the iframe ONLY when viewing the page in the tab switcher.  Isn't that *magical*?\n        iframe.style.position = 'relative';\n      }\n\n      if ('styleSheet' in style) {\n        style['styleSheet'].cssText = cssText;\n      } else {\n        style.appendChild(document.createTextNode(cssText));\n      }\n      let head = iframe.contentWindow.document.head;\n      head.appendChild(style);\n    } catch (e) {\n      // if not allowed\n    }\n  }\n\n  private triggerQuickviewLoaded(beforeLoad: number) {\n    let afterLoad = (new Date()).getTime();\n    let eventArgs: IQuickviewLoadedEventArgs = { duration: afterLoad - beforeLoad };\n    $$(this.element).trigger(QuickviewEvents.quickviewLoaded, eventArgs);\n  }\n\n  // An highlighted term looks like:\n  //\n  //     <span id='CoveoHighlight:X.Y.Z'>a</span>\n  //\n  // The id has 3 components:\n  // - X: the term\n  // - Y: the term occurence\n  // - Z: the term part\n  //\n  // For the 'Z' component, if the term 'foo bar' is found in multiple elements, we will see:\n  //\n  //     <span id='CoveoHighlight:1.1.1'>foo</span>\n  //     <span id='CoveoHighlight:1.1.2'>bar</span>\n  //\n  // Highlighted words can overlap, which looks like:\n  //\n  //     <span id='CoveoHighlight:1.Y.Z'>\n  //         a\n  //         <coveotaggedword id='CoveoHighlight:2.Y.Z'>b</coveotaggedword>\n  //     </span>\n  //     <span id='CoveoHighlight:2.Y.Z'>c</span>\n  //\n  // In the previous example, the words 'ab' and 'bc' are highlighted.\n  //\n  // One thing important to note is that the id of all 'coveotaggedword' for\n  // the same word AND the first 'span' for that word will have the same id.\n  //\n  // Example:\n  //\n  //     <span id='CoveoHighlight:1.1.1'>\n  //         a\n  //         <coveotaggedword id='CoveoHighlight:2.1.1'>b</coveotaggedword>\n  //     </span>\n  //     <span id='CoveoHighlight:1.1.2'>\n  //         c\n  //         <coveotaggedword id='CoveoHighlight:2.1.1'>d</coveotaggedword>\n  //     </span>\n  //     <span id='CoveoHighlight:2.1.1'>e</span>\n  //     <span id='CoveoHighlight:2.1.2'>f</span>\n  //\n  // In the previous example, the words 'abcd' and 'bcdef' are highlighted.\n  //\n  // This method is public for testing purposes.\n  public computeHighlights(window: Window): string[] {\n    $$(this.header).empty();\n    this.keywordsState = [];\n\n    let words: { [index: string]: IWord } = {};\n    let highlightsCount = 0;\n    _.each($$(window.document.body).findAll('[id^=\"' + HIGHLIGHT_PREFIX + '\"]'), (element: HTMLElement, index: number) => {\n      let idParts = this.getHighlightIdParts(element);\n\n      if (idParts) {\n        let idIndexPart = idParts[1];                    // X\n        let idOccurencePart = parseInt(idParts[2], 10);  // Y\n        let idTermPart = parseInt(idParts[3], 10);       // Z in <span id='CoveoHighlight:X.Y.Z'>a</span>\n\n        let word = words[idIndexPart];\n\n        // The 'idTermPart' check is to circumvent a bug from the index\n        // where an highlight of an empty string start with an idTermPart > 1.\n        if (word == null && idTermPart == 1) {\n          words[idIndexPart] = word = {\n            text: this.getHighlightInnerText(element),\n            count: 1,\n            index: parseInt(idIndexPart, 10),\n\n            // Here I try to be clever.\n            // An overlaping word:\n            // 1) always start with a 'coveotaggedword' element.\n            // 2) then other 'coveotaggedword' elements may follow\n            // 3) then a 'span' element may follow.\n            //\n            // All 1), 2) and 3) will have the same id so I consider them as\n            // a whole having the id 0 instead of 1.\n            termsCount: element.nodeName.toLowerCase() == 'coveotaggedword' ? 0 : 1,\n            element: element,\n            occurence: idOccurencePart\n          };\n        } else if (word) {\n          if (word.occurence == idOccurencePart) {\n            if (element.nodeName.toLowerCase() == 'coveotaggedword') {\n              word.text += this.getHighlightInnerText(element);\n              // Doesn't count as a term part (see method description for more info).\n            } else if (word.termsCount < idTermPart) {\n              word.text += this.getHighlightInnerText(element);\n              word.termsCount += 1;\n            }\n          }\n\n          word.count = Math.max(word.count, idOccurencePart);\n          highlightsCount += 1;\n        }\n\n        // See the method description to understand why this code let us\n        // create the word 'bcdef' instead of 'bdef'.\n        if (word && word.occurence == idOccurencePart && element.nodeName.toLowerCase() == 'span') {\n          let embeddedWordParts = this.getHightlightEmbeddedWordIdParts(element);\n          let embeddedWord = embeddedWordParts ? words[embeddedWordParts[1]] : null;\n\n          if (embeddedWord && embeddedWord.occurence == parseInt(embeddedWordParts[2], 10)) {\n            embeddedWord.text += element.childNodes[0].nodeValue || ''; // only immediate text without children.\n          }\n        }\n      }\n    });\n\n    if (highlightsCount == 0) {\n      this.header.el.style.minHeight = '0';\n    }\n\n    let resolvedWords = [];\n\n    _.each(words, (word) => {\n      // When possible, take care to find the original term from the query instead of the\n      // first highlighted version we encounter. This relies on a recent feature by the\n      // Search API, but will fallback properly on older versions.\n      word.text = this.resolveOriginalTermFromHighlight(word.text);\n\n      let state = {\n        word: word,\n        color: word.element.style.backgroundColor,\n        currentIndex: 0,\n        index: word.index\n      }\n\n      this.keywordsState.push(state);\n      $$(this.header).append(this.buildWordButton(state, window));\n\n      resolvedWords.push(word.text);\n    });\n\n    return resolvedWords;\n  }\n\n  private getHighlightIdParts(element: HTMLElement): string[] {\n    let parts = element\n      .id\n      .substr(HIGHLIGHT_PREFIX.length + 1)\n      .match(/^([0-9]+)\\.([0-9]+)\\.([0-9]+)$/);\n\n    return (parts && parts.length > 3) ? parts : null;\n  }\n\n  private getHighlightInnerText(element: HTMLElement): string {\n    if (element.nodeName.toLowerCase() == 'coveotaggedword') {\n      // only immediate text without children.\n      return element.childNodes.length >= 1 ? (element.childNodes.item(0).textContent || '') : '';\n    } else {\n      return element.textContent || '';\n    }\n  }\n\n  private getHightlightEmbeddedWordIdParts(element: HTMLElement): string[] {\n    let embedded = element.getElementsByTagName('coveotaggedword')[0];\n\n    return embedded ? this.getHighlightIdParts(<HTMLElement>embedded) : null;\n  }\n\n  private resolveOriginalTermFromHighlight(highlight: string): string {\n    let found = highlight;\n\n    // Beware, terms to highlight is only set by recent search APIs.\n    if (this.result.termsToHighlight) {\n      // We look for the term expansion and we'll return the corresponding\n      // original term is one is found.\n      found = _.find(_.keys(this.result.termsToHighlight), (originalTerm: string) => {\n        // The expansions do NOT include the original term (makes sense), so be sure to check\n        // the original term for a match too.\n        return (originalTerm.toLowerCase() == highlight.toLowerCase()) ||\n          (_.find(this.result.termsToHighlight[originalTerm], (expansion: string) => expansion.toLowerCase() == highlight.toLowerCase()) != undefined)\n      }) || found;\n    }\n    return found;\n  }\n\n  private buildWordButton(wordState: IWordState, window: Window): HTMLElement {\n    let wordHtml = $$('span')\n    wordHtml.addClass('coveo-term-for-quickview');\n\n    let quickviewName = $$('span');\n    quickviewName.addClass('coveo-term-for-quickview-name');\n    quickviewName.setHtml(wordState.word.text);\n    quickviewName.on('click', () => {\n      this.navigate(wordState, false, window);\n    })\n    wordHtml.append(quickviewName.el);\n\n    let quickviewUpArrow = $$('span');\n    quickviewUpArrow.addClass('coveo-term-for-quickview-up-arrow');\n    let quickviewUpArrowIcon = $$('span');\n    quickviewUpArrowIcon.addClass('coveo-term-for-quickview-up-arrow-icon');\n    quickviewUpArrow.append(quickviewUpArrowIcon.el);\n    quickviewUpArrow.on('click', () => {\n      this.navigate(wordState, true, window);\n    })\n    wordHtml.append(quickviewUpArrow.el)\n\n    let quickviewDownArrow = $$('span');\n    quickviewDownArrow.addClass('coveo-term-for-quickview-down-arrow');\n    let quickviewDownArrowIcon = $$('span');\n    quickviewDownArrowIcon.addClass('coveo-term-for-quickview-down-arrow-icon');\n    quickviewDownArrow.append(quickviewDownArrowIcon.el);\n    quickviewDownArrow.on('click', () => {\n      this.navigate(wordState, false, window);\n    })\n    wordHtml.append(quickviewDownArrow.el);\n\n    wordHtml.el.style.backgroundColor = wordState.color;\n    wordHtml.el.style.borderColor = this.getSaturatedColor(wordState.color);\n    quickviewDownArrow.el.style.borderColor = this.getSaturatedColor(wordState.color);\n\n    return wordHtml.el;\n  }\n\n  private navigate(state: IWordState, backward: boolean, window: Window) {\n    let fromIndex = state.currentIndex;\n    let toIndex: number;\n    if (!backward) {\n      toIndex = fromIndex == state.word.count ? 1 : fromIndex + 1;\n    } else {\n      toIndex = fromIndex <= 1 ? state.word.count : fromIndex - 1;\n    }\n\n    let scroll = this.getScrollingElement(window);\n\n    // Un-highlight any currently selected element\n    let current = $$(scroll).find('[id^=\"' + HIGHLIGHT_PREFIX + ':' + state.word.index + '.' + fromIndex + '\"]');\n    if (current) {\n      current.style.border = '';\n    }\n\n    // Find and highlight the new element.\n    let element = $$(window.document.body).find('[id^=\"' + HIGHLIGHT_PREFIX + ':' + state.word.index + '.' + toIndex + '\"]');\n    element.style.border = '1px dotted #333';\n    state.currentIndex = toIndex;\n\n    // pdf2html docs hide the non-visible frames by default, to speed up browsers.\n    // But this prevents keyword navigation from working so we must force show it. This\n    // is done by adding the 'opened' class to it (defined by pdf2html).\n    if (this.isNewQuickviewDocument(window)) {\n      let pdf = $$(element).closest('.pc')\n      $$(pdf).addClass('opened');\n    }\n\n    // pdf2html docs hide the non-visible frames by default, to speed up browsers.\n    // Hack for now: the new Quick View is far too complex to manually scroll\n    // to the content, so SCREW IT and use good ol' scrollIntoView. I'm planning\n    // on a page-based quick view in an upcoming hackaton anyway :)\n    //\n    // Also, mobile devices have troubles with the animation.\n    if (this.isNewQuickviewDocument(window) || DeviceUtils.isMobileDevice()) {\n      element.scrollIntoView();\n\n      // iOS on Safari might scroll the whole modal box body when we do this,\n      // so give it a nudge in the right direction.\n      let body = this.iframe.closest('.coveo-body');\n      body.scrollLeft = 0;\n      body.scrollTop = 0;\n\n      return;\n    }\n\n    // For other quick views we use a nicer animation that centers the keyword\n\n    this.animateScroll(scroll,\n      element.offsetLeft - scroll.clientWidth / 2 + $$(element).width() / 2,\n      element.offsetTop - scroll.clientHeight / 2 + $$(element).height() / 2);\n\n    this.animateScroll(this.iframe.el,\n      element.offsetLeft - this.iframe.width() / 2 + $$(element).width() / 2,\n      element.offsetTop - this.iframe.height() / 2 + $$(element).height() / 2);\n\n  }\n\n  private buildHeader(): Dom {\n    let header = $$('div')\n    header.addClass('coveo-quickview-header');\n    return header;\n  }\n\n  private buildIFrame(): Dom {\n    let iFrame = $$('iframe');\n    iFrame.setAttribute('sandbox', 'allow-same-origin');\n    let iFrameWrapper = $$('div');\n    iFrameWrapper.addClass('coveo-iframeWrapper');\n    iFrameWrapper.el.appendChild(iFrame.el);\n    return iFrameWrapper;\n  }\n\n  private getScrollingElement(iframeWindow: Window): HTMLElement {\n    let found: HTMLElement;\n\n    if (this.isNewQuickviewDocument(iframeWindow)) {\n      // 'New' quick views have a #page-container element generated by the pdf2html thing.\n      // This is the element we want to scroll on.\n      found = $$(iframeWindow.document.body).find('#page-container');\n    }\n\n    // If all else fails, we use the body\n    if (!found) {\n      found = $$(iframeWindow.document.body).el;\n    }\n\n    return found;\n  }\n\n  private isNewQuickviewDocument(iframeWindow: Window): boolean {\n    let meta = $$(iframeWindow.document.head).find('meta[name=\\'generator\\']');\n    return meta && meta.getAttribute('content') == 'pdf2htmlEX';\n  }\n\n  private handleTermsToHighlight(termsToHighlight: Array<string>, queryObject: IQuery) {\n    for (let term in this.result.termsToHighlight) {\n      delete this.result.termsToHighlight[term];\n    }\n    let query = '';\n    _.each(termsToHighlight, (term) => {\n      query += term + ' ';\n      this.result.termsToHighlight[term] = new Array<string>(term);\n    });\n    query = query.substring(0, query.length - 1);\n    queryObject.q = query;\n  }\n\n  private checkIfTermsToHighlightWereModified(termsToHighlight: Array<string>) {\n    if (!Utils.arrayEqual(termsToHighlight, _.keys(this.result.termsToHighlight))) {\n      this.termsToHighlightWereModified = true;\n    }\n  }\n\n  private getSaturatedColor(color: string): string {\n    let r = parseInt(color.substring(4, 7));\n    let g = parseInt(color.substring(9, 12));\n    let b = parseInt(color.substring(14, 17));\n    let hsv = ColorUtils.rgbToHsv(r, g, b);\n    hsv[1] *= 2;\n    if (hsv[1] > 1) {\n      hsv[1] = 1;\n    }\n    let rgb = ColorUtils.hsvToRgb(hsv[0], hsv[1], hsv[2])\n    return 'rgb(' + rgb[0].toString() + ', ' + rgb[1].toString() + ', ' + rgb[2].toString() + ')';\n  }\n\n  private animateScroll(scroll: HTMLElement, scrollLeftValue: number, scrollTopValue: number, duration: number = 100) {\n    let leftStep = Math.round((scrollLeftValue - scroll.scrollLeft) / duration);\n    let topStep = Math.round((scrollTopValue - scroll.scrollTop) / duration);\n\n    let interval = setInterval(function () {\n      if (duration != 0) {\n        scroll.scrollLeft += leftStep;\n        scroll.scrollTop += topStep;\n        duration -= 1\n      } else {\n        clearInterval(interval);\n      }\n    }, 1);\n  }\n}\n\nInitialization.registerAutoCreateComponent(QuickviewDocument);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Quickview/QuickviewDocument.ts\n **/","l":{"1":1,"3":1,"4":1,"6":1,"7":1,"9":1,"10":1,"11":1,"12":1,"13":1,"17":1,"19":1,"46":1,"47":1,"53":1,"74":1,"75":0,"77":0,"78":0,"79":0,"80":0,"83":1,"84":0,"85":0,"86":0,"88":0,"89":0,"91":0,"92":0,"95":1,"96":0,"97":0,"98":0,"99":0,"101":0,"106":0,"107":0,"108":0,"109":0,"111":0,"112":0,"116":0,"117":0,"119":0,"121":0,"122":0,"125":0,"130":0,"134":0,"135":0,"138":0,"139":0,"144":0,"145":0,"148":0,"149":0,"150":0,"152":0,"153":0,"155":0,"160":1,"161":0,"162":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"173":0,"174":0,"178":0,"179":0,"183":1,"184":0,"185":0,"186":0,"188":0,"190":0,"191":0,"196":1,"197":0,"200":0,"201":0,"204":0,"205":0,"206":0,"209":1,"210":0,"211":0,"212":0,"215":0,"218":0,"220":0,"228":0,"229":0,"233":0,"234":0,"239":0,"242":0,"243":0,"245":0,"247":0,"248":0,"254":1,"255":0,"256":0,"257":0,"303":1,"304":0,"305":0,"307":0,"308":0,"309":0,"310":0,"312":0,"313":0,"314":0,"315":0,"317":0,"321":0,"322":0,"339":0,"340":0,"341":0,"342":0,"344":0,"345":0,"346":0,"350":0,"351":0,"356":0,"357":0,"358":0,"360":0,"361":0,"367":0,"368":0,"371":0,"373":0,"377":0,"379":0,"386":0,"387":0,"389":0,"392":0,"395":1,"396":0,"401":0,"404":1,"405":0,"407":0,"409":0,"413":1,"414":0,"416":0,"419":1,"420":0,"423":0,"426":0,"429":0,"430":0,"433":0,"436":1,"437":0,"438":0,"440":0,"441":0,"442":0,"443":0,"444":0,"446":0,"448":0,"449":0,"450":0,"451":0,"452":0,"453":0,"454":0,"456":0,"458":0,"459":0,"460":0,"461":0,"462":0,"463":0,"464":0,"466":0,"468":0,"469":0,"470":0,"472":0,"475":1,"476":0,"477":0,"478":0,"479":0,"481":0,"484":0,"487":0,"488":0,"489":0,"493":0,"494":0,"495":0,"500":0,"501":0,"502":0,"511":0,"512":0,"516":0,"517":0,"518":0,"520":0,"525":0,"529":0,"535":1,"536":0,"537":0,"538":0,"541":1,"542":0,"543":0,"544":0,"545":0,"546":0,"547":0,"550":1,"551":0,"553":0,"556":0,"560":0,"561":0,"564":0,"567":1,"568":0,"569":0,"572":1,"573":0,"574":0,"576":0,"577":0,"578":0,"579":0,"581":0,"582":0,"585":1,"586":0,"587":0,"591":1,"592":0,"593":0,"594":0,"595":0,"596":0,"597":0,"598":0,"600":0,"601":0,"604":1,"605":0,"606":0,"608":0,"609":0,"610":0,"611":0,"612":0,"614":0,"618":1,"620":1}},"src/ui/ResultList/ResultList.ts":{"path":"src/ui/ResultList/ResultList.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":73}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":44}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":58}},"4":{"start":{"line":9,"column":0},"end":{"line":9,"column":41}},"5":{"start":{"line":10,"column":0},"end":{"line":10,"column":167}},"6":{"start":{"line":11,"column":0},"end":{"line":11,"column":48}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":68}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":50}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":45}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":96}},"11":{"start":{"line":16,"column":0},"end":{"line":16,"column":81}},"12":{"start":{"line":17,"column":0},"end":{"line":17,"column":39}},"13":{"start":{"line":18,"column":0},"end":{"line":18,"column":52}},"14":{"start":{"line":19,"column":0},"end":{"line":19,"column":93}},"15":{"start":{"line":20,"column":0},"end":{"line":20,"column":40}},"16":{"start":{"line":21,"column":0},"end":{"line":21,"column":46}},"17":{"start":{"line":22,"column":0},"end":{"line":22,"column":64}},"18":{"start":{"line":23,"column":0},"end":{"line":23,"column":89}},"19":{"start":{"line":110,"column":0},"end":{"line":555,"column":1}},"20":{"start":{"line":110,"column":32},"end":{"line":110,"column":41}},"21":{"start":{"line":199,"column":2},"end":{"line":222,"column":3}},"22":{"start":{"line":199,"column":118},"end":{"line":199,"column":156}},"23":{"start":{"line":200,"column":4},"end":{"line":200,"column":45}},"24":{"start":{"line":199,"column":21},"end":{"line":199,"column":41}},"25":{"start":{"line":199,"column":50},"end":{"line":199,"column":78}},"26":{"start":{"line":199,"column":87},"end":{"line":199,"column":116}},"27":{"start":{"line":186,"column":9},"end":{"line":186,"column":56}},"28":{"start":{"line":188,"column":10},"end":{"line":188,"column":41}},"29":{"start":{"line":201,"column":4},"end":{"line":201,"column":87}},"30":{"start":{"line":203,"column":4},"end":{"line":203,"column":27}},"31":{"start":{"line":204,"column":4},"end":{"line":204,"column":32}},"32":{"start":{"line":205,"column":4},"end":{"line":205,"column":48}},"33":{"start":{"line":206,"column":4},"end":{"line":206,"column":47}},"34":{"start":{"line":207,"column":4},"end":{"line":207,"column":55}},"35":{"start":{"line":208,"column":4},"end":{"line":208,"column":56}},"36":{"start":{"line":210,"column":4},"end":{"line":210,"column":58}},"37":{"start":{"line":212,"column":4},"end":{"line":212,"column":123}},"38":{"start":{"line":212,"column":100},"end":{"line":212,"column":121}},"39":{"start":{"line":213,"column":4},"end":{"line":213,"column":147}},"40":{"start":{"line":213,"column":115},"end":{"line":213,"column":145}},"41":{"start":{"line":214,"column":4},"end":{"line":214,"column":143}},"42":{"start":{"line":214,"column":112},"end":{"line":214,"column":141}},"43":{"start":{"line":215,"column":4},"end":{"line":215,"column":135}},"44":{"start":{"line":215,"column":109},"end":{"line":215,"column":133}},"45":{"start":{"line":216,"column":4},"end":{"line":216,"column":131}},"46":{"start":{"line":216,"column":106},"end":{"line":216,"column":129}},"47":{"start":{"line":218,"column":4},"end":{"line":220,"column":5}},"48":{"start":{"line":219,"column":6},"end":{"line":219,"column":127}},"49":{"start":{"line":219,"column":94},"end":{"line":219,"column":125}},"50":{"start":{"line":221,"column":4},"end":{"line":221,"column":114}},"51":{"start":{"line":221,"column":88},"end":{"line":221,"column":112}},"52":{"start":{"line":231,"column":9},"end":{"line":240,"column":3}},"53":{"start":{"line":231,"column":2},"end":{"line":240,"column":3}},"54":{"start":{"line":231,"column":54},"end":{"line":231,"column":68}},"55":{"start":{"line":232,"column":4},"end":{"line":234,"column":5}},"56":{"start":{"line":233,"column":6},"end":{"line":233,"column":50}},"57":{"start":{"line":235,"column":4},"end":{"line":238,"column":7}},"58":{"start":{"line":236,"column":6},"end":{"line":236,"column":62}},"59":{"start":{"line":237,"column":6},"end":{"line":237,"column":88}},"60":{"start":{"line":239,"column":4},"end":{"line":239,"column":38}},"61":{"start":{"line":246,"column":9},"end":{"line":256,"column":3}},"62":{"start":{"line":246,"column":2},"end":{"line":256,"column":3}},"63":{"start":{"line":247,"column":4},"end":{"line":247,"column":32}},"64":{"start":{"line":248,"column":4},"end":{"line":253,"column":7}},"65":{"start":{"line":249,"column":6},"end":{"line":249,"column":51}},"66":{"start":{"line":250,"column":6},"end":{"line":252,"column":7}},"67":{"start":{"line":251,"column":8},"end":{"line":251,"column":32}},"68":{"start":{"line":254,"column":4},"end":{"line":254,"column":51}},"69":{"start":{"line":255,"column":4},"end":{"line":255,"column":15}},"70":{"start":{"line":263,"column":9},"end":{"line":273,"column":3}},"71":{"start":{"line":264,"column":4},"end":{"line":264,"column":26}},"72":{"start":{"line":265,"column":4},"end":{"line":265,"column":79}},"73":{"start":{"line":266,"column":4},"end":{"line":266,"column":53}},"74":{"start":{"line":267,"column":4},"end":{"line":267,"column":81}},"75":{"start":{"line":268,"column":4},"end":{"line":270,"column":5}},"76":{"start":{"line":269,"column":6},"end":{"line":269,"column":59}},"77":{"start":{"line":271,"column":4},"end":{"line":271,"column":65}},"78":{"start":{"line":272,"column":4},"end":{"line":272,"column":25}},"79":{"start":{"line":281,"column":9},"end":{"line":315,"column":3}},"80":{"start":{"line":281,"column":2},"end":{"line":315,"column":3}},"81":{"start":{"line":282,"column":4},"end":{"line":282,"column":42}},"82":{"start":{"line":284,"column":4},"end":{"line":287,"column":5}},"83":{"start":{"line":285,"column":6},"end":{"line":285,"column":97}},"84":{"start":{"line":286,"column":6},"end":{"line":286,"column":13}},"85":{"start":{"line":288,"column":4},"end":{"line":291,"column":5}},"86":{"start":{"line":289,"column":6},"end":{"line":289,"column":111}},"87":{"start":{"line":290,"column":6},"end":{"line":290,"column":13}},"88":{"start":{"line":293,"column":4},"end":{"line":295,"column":5}},"89":{"start":{"line":294,"column":6},"end":{"line":294,"column":54}},"90":{"start":{"line":297,"column":4},"end":{"line":297,"column":69}},"91":{"start":{"line":298,"column":4},"end":{"line":308,"column":7}},"92":{"start":{"line":299,"column":6},"end":{"line":299,"column":26}},"93":{"start":{"line":300,"column":6},"end":{"line":300,"column":118}},"94":{"start":{"line":301,"column":6},"end":{"line":301,"column":33}},"95":{"start":{"line":302,"column":6},"end":{"line":302,"column":64}},"96":{"start":{"line":303,"column":6},"end":{"line":303,"column":56}},"97":{"start":{"line":304,"column":6},"end":{"line":306,"column":9}},"98":{"start":{"line":305,"column":8},"end":{"line":305,"column":52}},"99":{"start":{"line":307,"column":6},"end":{"line":307,"column":40}},"100":{"start":{"line":310,"column":4},"end":{"line":314,"column":7}},"101":{"start":{"line":311,"column":6},"end":{"line":311,"column":54}},"102":{"start":{"line":312,"column":6},"end":{"line":312,"column":43}},"103":{"start":{"line":313,"column":6},"end":{"line":313,"column":57}},"104":{"start":{"line":313,"column":24},"end":{"line":313,"column":55}},"105":{"start":{"line":321,"column":9},"end":{"line":323,"column":3}},"106":{"start":{"line":322,"column":4},"end":{"line":322,"column":42}},"107":{"start":{"line":329,"column":9},"end":{"line":331,"column":3}},"108":{"start":{"line":330,"column":4},"end":{"line":330,"column":68}},"109":{"start":{"line":333,"column":12},"end":{"line":346,"column":3}},"110":{"start":{"line":334,"column":4},"end":{"line":334,"column":27}},"111":{"start":{"line":336,"column":4},"end":{"line":336,"column":73}},"112":{"start":{"line":337,"column":4},"end":{"line":339,"column":6}},"113":{"start":{"line":340,"column":4},"end":{"line":344,"column":5}},"114":{"start":{"line":345,"column":4},"end":{"line":345,"column":80}},"115":{"start":{"line":348,"column":12},"end":{"line":354,"column":3}},"116":{"start":{"line":349,"column":4},"end":{"line":352,"column":6}},"117":{"start":{"line":353,"column":4},"end":{"line":353,"column":72}},"118":{"start":{"line":356,"column":12},"end":{"line":358,"column":3}},"119":{"start":{"line":357,"column":4},"end":{"line":357,"column":71}},"120":{"start":{"line":360,"column":10},"end":{"line":365,"column":3}},"121":{"start":{"line":361,"column":4},"end":{"line":361,"column":55}},"122":{"start":{"line":362,"column":4},"end":{"line":362,"column":45}},"123":{"start":{"line":363,"column":4},"end":{"line":363,"column":32}},"124":{"start":{"line":364,"column":4},"end":{"line":364,"column":58}},"125":{"start":{"line":367,"column":10},"end":{"line":371,"column":3}},"126":{"start":{"line":368,"column":4},"end":{"line":368,"column":32}},"127":{"start":{"line":369,"column":4},"end":{"line":369,"column":45}},"128":{"start":{"line":370,"column":4},"end":{"line":370,"column":40}},"129":{"start":{"line":373,"column":10},"end":{"line":397,"column":3}},"130":{"start":{"line":374,"column":4},"end":{"line":374,"column":24}},"131":{"start":{"line":375,"column":4},"end":{"line":375,"column":32}},"132":{"start":{"line":376,"column":4},"end":{"line":376,"column":44}},"133":{"start":{"line":377,"column":4},"end":{"line":396,"column":5}},"134":{"start":{"line":378,"column":6},"end":{"line":378,"column":33}},"135":{"start":{"line":379,"column":6},"end":{"line":379,"column":74}},"136":{"start":{"line":380,"column":6},"end":{"line":380,"column":34}},"137":{"start":{"line":381,"column":6},"end":{"line":381,"column":58}},"138":{"start":{"line":382,"column":6},"end":{"line":382,"column":42}},"139":{"start":{"line":383,"column":6},"end":{"line":383,"column":58}},"140":{"start":{"line":384,"column":6},"end":{"line":384,"column":55}},"141":{"start":{"line":385,"column":6},"end":{"line":385,"column":42}},"142":{"start":{"line":386,"column":6},"end":{"line":386,"column":96}},"143":{"start":{"line":388,"column":6},"end":{"line":391,"column":7}},"144":{"start":{"line":390,"column":8},"end":{"line":390,"column":40}},"145":{"start":{"line":393,"column":6},"end":{"line":395,"column":7}},"146":{"start":{"line":394,"column":8},"end":{"line":394,"column":57}},"147":{"start":{"line":399,"column":10},"end":{"line":406,"column":3}},"148":{"start":{"line":400,"column":4},"end":{"line":402,"column":5}},"149":{"start":{"line":401,"column":6},"end":{"line":401,"column":13}},"150":{"start":{"line":403,"column":4},"end":{"line":405,"column":5}},"151":{"start":{"line":404,"column":6},"end":{"line":404,"column":67}},"152":{"start":{"line":408,"column":10},"end":{"line":420,"column":3}},"153":{"start":{"line":408,"column":2},"end":{"line":420,"column":3}},"154":{"start":{"line":409,"column":4},"end":{"line":419,"column":6}},"155":{"start":{"line":410,"column":6},"end":{"line":418,"column":7}},"156":{"start":{"line":411,"column":8},"end":{"line":411,"column":63}},"157":{"start":{"line":412,"column":8},"end":{"line":412,"column":27}},"158":{"start":{"line":414,"column":8},"end":{"line":414,"column":67}},"159":{"start":{"line":415,"column":8},"end":{"line":417,"column":9}},"160":{"start":{"line":416,"column":10},"end":{"line":416,"column":30}},"161":{"start":{"line":422,"column":10},"end":{"line":425,"column":3}},"162":{"start":{"line":423,"column":4},"end":{"line":423,"column":28}},"163":{"start":{"line":424,"column":4},"end":{"line":424,"column":56}},"164":{"start":{"line":427,"column":10},"end":{"line":436,"column":3}},"165":{"start":{"line":428,"column":4},"end":{"line":431,"column":5}},"166":{"start":{"line":430,"column":6},"end":{"line":430,"column":108}},"167":{"start":{"line":430,"column":90},"end":{"line":430,"column":105}},"168":{"start":{"line":432,"column":4},"end":{"line":435,"column":5}},"169":{"start":{"line":433,"column":6},"end":{"line":433,"column":81}},"170":{"start":{"line":434,"column":6},"end":{"line":434,"column":53}},"171":{"start":{"line":438,"column":10},"end":{"line":443,"column":3}},"172":{"start":{"line":439,"column":4},"end":{"line":442,"column":14}},"173":{"start":{"line":445,"column":10},"end":{"line":447,"column":3}},"174":{"start":{"line":446,"column":4},"end":{"line":446,"column":50}},"175":{"start":{"line":449,"column":10},"end":{"line":458,"column":3}},"176":{"start":{"line":451,"column":4},"end":{"line":451,"column":17}},"177":{"start":{"line":452,"column":4},"end":{"line":456,"column":5}},"178":{"start":{"line":453,"column":6},"end":{"line":453,"column":72}},"179":{"start":{"line":455,"column":6},"end":{"line":455,"column":23}},"180":{"start":{"line":457,"column":4},"end":{"line":457,"column":102}},"181":{"start":{"line":460,"column":10},"end":{"line":465,"column":3}},"182":{"start":{"line":461,"column":4},"end":{"line":461,"column":48}},"183":{"start":{"line":462,"column":4},"end":{"line":462,"column":35}},"184":{"start":{"line":463,"column":4},"end":{"line":463,"column":48}},"185":{"start":{"line":464,"column":4},"end":{"line":464,"column":70}},"186":{"start":{"line":467,"column":10},"end":{"line":473,"column":3}},"187":{"start":{"line":468,"column":4},"end":{"line":468,"column":63}},"188":{"start":{"line":469,"column":4},"end":{"line":469,"column":40}},"189":{"start":{"line":470,"column":4},"end":{"line":470,"column":39}},"190":{"start":{"line":471,"column":4},"end":{"line":471,"column":54}},"191":{"start":{"line":472,"column":4},"end":{"line":472,"column":63}},"192":{"start":{"line":475,"column":9},"end":{"line":477,"column":3}},"193":{"start":{"line":476,"column":4},"end":{"line":476,"column":85}},"194":{"start":{"line":479,"column":10},"end":{"line":485,"column":3}},"195":{"start":{"line":480,"column":4},"end":{"line":484,"column":5}},"196":{"start":{"line":481,"column":6},"end":{"line":481,"column":60}},"197":{"start":{"line":482,"column":6},"end":{"line":482,"column":47}},"198":{"start":{"line":483,"column":6},"end":{"line":483,"column":43}},"199":{"start":{"line":487,"column":10},"end":{"line":505,"column":3}},"200":{"start":{"line":488,"column":4},"end":{"line":488,"column":71}},"201":{"start":{"line":489,"column":4},"end":{"line":489,"column":76}},"202":{"start":{"line":490,"column":4},"end":{"line":490,"column":75}},"203":{"start":{"line":491,"column":4},"end":{"line":491,"column":80}},"204":{"start":{"line":493,"column":4},"end":{"line":495,"column":6}},"205":{"start":{"line":494,"column":6},"end":{"line":494,"column":29}},"206":{"start":{"line":496,"column":4},"end":{"line":498,"column":6}},"207":{"start":{"line":497,"column":6},"end":{"line":497,"column":30}},"208":{"start":{"line":499,"column":4},"end":{"line":501,"column":6}},"209":{"start":{"line":500,"column":6},"end":{"line":500,"column":43}},"210":{"start":{"line":502,"column":4},"end":{"line":504,"column":6}},"211":{"start":{"line":503,"column":6},"end":{"line":503,"column":44}},"212":{"start":{"line":507,"column":10},"end":{"line":521,"column":3}},"213":{"start":{"line":508,"column":4},"end":{"line":520,"column":5}},"214":{"start":{"line":510,"column":8},"end":{"line":510,"column":75}},"215":{"start":{"line":511,"column":8},"end":{"line":511,"column":14}},"216":{"start":{"line":513,"column":8},"end":{"line":515,"column":10}},"217":{"start":{"line":514,"column":10},"end":{"line":514,"column":27}},"218":{"start":{"line":516,"column":8},"end":{"line":518,"column":9}},"219":{"start":{"line":517,"column":10},"end":{"line":517,"column":95}},"220":{"start":{"line":519,"column":8},"end":{"line":519,"column":14}},"221":{"start":{"line":523,"column":10},"end":{"line":535,"column":3}},"222":{"start":{"line":524,"column":4},"end":{"line":534,"column":5}},"223":{"start":{"line":526,"column":8},"end":{"line":526,"column":78}},"224":{"start":{"line":527,"column":8},"end":{"line":527,"column":14}},"225":{"start":{"line":529,"column":8},"end":{"line":529,"column":93}},"226":{"start":{"line":530,"column":8},"end":{"line":532,"column":9}},"227":{"start":{"line":531,"column":10},"end":{"line":531,"column":31}},"228":{"start":{"line":533,"column":8},"end":{"line":533,"column":14}},"229":{"start":{"line":537,"column":10},"end":{"line":539,"column":3}},"230":{"start":{"line":538,"column":4},"end":{"line":538,"column":82}},"231":{"start":{"line":541,"column":10},"end":{"line":546,"column":3}},"232":{"start":{"line":542,"column":4},"end":{"line":542,"column":89}},"233":{"start":{"line":543,"column":4},"end":{"line":545,"column":5}},"234":{"start":{"line":544,"column":6},"end":{"line":544,"column":27}},"235":{"start":{"line":548,"column":17},"end":{"line":554,"column":3}},"236":{"start":{"line":549,"column":4},"end":{"line":549,"column":48}},"237":{"start":{"line":550,"column":4},"end":{"line":552,"column":5}},"238":{"start":{"line":551,"column":6},"end":{"line":551,"column":49}},"239":{"start":{"line":553,"column":4},"end":{"line":553,"column":39}},"240":{"start":{"line":111,"column":9},"end":{"line":111,"column":27}},"241":{"start":{"line":116,"column":9},"end":{"line":183,"column":4}},"242":{"start":{"line":124,"column":8},"end":{"line":124,"column":45}},"243":{"start":{"line":125,"column":8},"end":{"line":125,"column":31}},"244":{"start":{"line":126,"column":8},"end":{"line":126,"column":17}},"245":{"start":{"line":145,"column":131},"end":{"line":145,"column":163}},"246":{"start":{"line":162,"column":138},"end":{"line":162,"column":183}},"247":{"start":{"line":168,"column":89},"end":{"line":168,"column":149}},"248":{"start":{"line":185,"column":16},"end":{"line":185,"column":66}},"249":{"start":{"line":555,"column":0},"end":{"line":555,"column":1}},"250":{"start":{"line":110,"column":13},"end":{"line":555,"column":1}},"251":{"start":{"line":558,"column":0},"end":{"line":558,"column":55}}},"fnMap":{"1":{"name":"(anonymous_2458)","line":110,"loc":{"start":{"line":110,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"ResultList","line":199,"loc":{"start":{"line":199,"column":2},"end":{"line":199,"column":156}}},"3":{"name":"(anonymous_2460)","line":212,"loc":{"start":{"line":212,"column":70},"end":{"line":212,"column":95}}},"4":{"name":"(anonymous_2461)","line":213,"loc":{"start":{"line":213,"column":80},"end":{"line":213,"column":110}}},"5":{"name":"(anonymous_2462)","line":214,"loc":{"start":{"line":214,"column":78},"end":{"line":214,"column":107}}},"6":{"name":"(anonymous_2463)","line":215,"loc":{"start":{"line":215,"column":76},"end":{"line":215,"column":104}}},"7":{"name":"(anonymous_2464)","line":216,"loc":{"start":{"line":216,"column":74},"end":{"line":216,"column":101}}},"8":{"name":"(anonymous_2465)","line":219,"loc":{"start":{"line":219,"column":80},"end":{"line":219,"column":89}}},"9":{"name":"(anonymous_2466)","line":221,"loc":{"start":{"line":221,"column":82},"end":{"line":221,"column":87}}},"10":{"name":"(anonymous_2467)","line":231,"loc":{"start":{"line":231,"column":2},"end":{"line":231,"column":68}}},"11":{"name":"(anonymous_2468)","line":235,"loc":{"start":{"line":235,"column":27},"end":{"line":235,"column":41}}},"12":{"name":"(anonymous_2469)","line":246,"loc":{"start":{"line":246,"column":2},"end":{"line":246,"column":44}}},"13":{"name":"(anonymous_2470)","line":248,"loc":{"start":{"line":248,"column":28},"end":{"line":248,"column":49}}},"14":{"name":"(anonymous_2471)","line":263,"loc":{"start":{"line":263,"column":2},"end":{"line":263,"column":41}}},"15":{"name":"(anonymous_2472)","line":281,"loc":{"start":{"line":281,"column":2},"end":{"line":281,"column":41}}},"16":{"name":"(anonymous_2473)","line":298,"loc":{"start":{"line":298,"column":34},"end":{"line":298,"column":54}}},"17":{"name":"(anonymous_2474)","line":304,"loc":{"start":{"line":304,"column":22},"end":{"line":304,"column":29}}},"18":{"name":"(anonymous_2475)","line":310,"loc":{"start":{"line":310,"column":34},"end":{"line":null,"column":-1}}},"19":{"name":"(anonymous_2476)","line":313,"loc":{"start":{"line":313,"column":18},"end":{"line":313,"column":23}}},"20":{"name":"(anonymous_2477)","line":321,"loc":{"start":{"line":321,"column":2},"end":{"line":null,"column":-1}}},"21":{"name":"(anonymous_2478)","line":329,"loc":{"start":{"line":329,"column":2},"end":{"line":null,"column":-1}}},"22":{"name":"(anonymous_2479)","line":333,"loc":{"start":{"line":333,"column":2},"end":{"line":333,"column":87}}},"23":{"name":"(anonymous_2480)","line":348,"loc":{"start":{"line":348,"column":2},"end":{"line":348,"column":86}}},"24":{"name":"(anonymous_2481)","line":356,"loc":{"start":{"line":356,"column":2},"end":{"line":null,"column":-1}}},"25":{"name":"(anonymous_2482)","line":360,"loc":{"start":{"line":360,"column":2},"end":{"line":null,"column":-1}}},"26":{"name":"(anonymous_2483)","line":367,"loc":{"start":{"line":367,"column":2},"end":{"line":null,"column":-1}}},"27":{"name":"(anonymous_2484)","line":373,"loc":{"start":{"line":373,"column":2},"end":{"line":373,"column":57}}},"28":{"name":"(anonymous_2485)","line":399,"loc":{"start":{"line":399,"column":2},"end":{"line":null,"column":-1}}},"29":{"name":"(anonymous_2486)","line":408,"loc":{"start":{"line":408,"column":2},"end":{"line":null,"column":-1}}},"30":{"name":"(anonymous_2487)","line":409,"loc":{"start":{"line":409,"column":55},"end":{"line":null,"column":-1}}},"31":{"name":"(anonymous_2488)","line":422,"loc":{"start":{"line":422,"column":2},"end":{"line":null,"column":-1}}},"32":{"name":"(anonymous_2489)","line":427,"loc":{"start":{"line":427,"column":2},"end":{"line":427,"column":59}}},"33":{"name":"(anonymous_2490)","line":430,"loc":{"start":{"line":430,"column":79},"end":{"line":430,"column":85}}},"34":{"name":"(anonymous_2491)","line":438,"loc":{"start":{"line":438,"column":2},"end":{"line":null,"column":-1}}},"35":{"name":"(anonymous_2492)","line":445,"loc":{"start":{"line":445,"column":2},"end":{"line":null,"column":-1}}},"36":{"name":"(anonymous_2493)","line":449,"loc":{"start":{"line":449,"column":2},"end":{"line":null,"column":-1}}},"37":{"name":"(anonymous_2494)","line":460,"loc":{"start":{"line":460,"column":2},"end":{"line":null,"column":-1}}},"38":{"name":"(anonymous_2495)","line":467,"loc":{"start":{"line":467,"column":2},"end":{"line":null,"column":-1}}},"39":{"name":"(anonymous_2496)","line":475,"loc":{"start":{"line":475,"column":2},"end":{"line":null,"column":-1}}},"40":{"name":"(anonymous_2497)","line":479,"loc":{"start":{"line":479,"column":2},"end":{"line":null,"column":-1}}},"41":{"name":"(anonymous_2498)","line":487,"loc":{"start":{"line":487,"column":2},"end":{"line":487,"column":83}}},"42":{"name":"(anonymous_2499)","line":493,"loc":{"start":{"line":493,"column":24},"end":{"line":493,"column":39}}},"43":{"name":"(anonymous_2500)","line":496,"loc":{"start":{"line":496,"column":26},"end":{"line":496,"column":41}}},"44":{"name":"(anonymous_2501)","line":499,"loc":{"start":{"line":499,"column":26},"end":{"line":499,"column":41}}},"45":{"name":"(anonymous_2502)","line":502,"loc":{"start":{"line":502,"column":28},"end":{"line":502,"column":43}}},"46":{"name":"(anonymous_2503)","line":507,"loc":{"start":{"line":507,"column":2},"end":{"line":null,"column":-1}}},"47":{"name":"(anonymous_2504)","line":513,"loc":{"start":{"line":513,"column":54},"end":{"line":513,"column":73}}},"48":{"name":"(anonymous_2505)","line":523,"loc":{"start":{"line":523,"column":2},"end":{"line":null,"column":-1}}},"49":{"name":"(anonymous_2506)","line":537,"loc":{"start":{"line":537,"column":2},"end":{"line":null,"column":-1}}},"50":{"name":"(anonymous_2507)","line":541,"loc":{"start":{"line":541,"column":2},"end":{"line":null,"column":-1}}},"51":{"name":"(anonymous_2508)","line":548,"loc":{"start":{"line":548,"column":2},"end":{"line":548,"column":50}}},"52":{"name":"(anonymous_2509)","line":123,"loc":{"start":{"line":123,"column":23},"end":{"line":123,"column":44}}},"53":{"name":"(anonymous_2510)","line":145,"loc":{"start":{"line":145,"column":91},"end":{"line":145,"column":126}}},"54":{"name":"(anonymous_2511)","line":162,"loc":{"start":{"line":162,"column":125},"end":{"line":162,"column":133}}},"55":{"name":"(anonymous_2512)","line":168,"loc":{"start":{"line":168,"column":83},"end":{"line":168,"column":88}}}},"branchMap":{"1":{"line":199,"type":"if","locations":[{"start":{"line":199,"column":118},"end":{"line":199,"column":117}},{"start":{"line":199,"column":118},"end":{"line":199,"column":117}}]},"2":{"line":218,"type":"if","locations":[{"start":{"line":218,"column":4},"end":{"line":218,"column":3}},{"start":{"line":218,"column":4},"end":{"line":218,"column":3}}]},"3":{"line":231,"type":"if","locations":[{"start":{"line":231,"column":54},"end":{"line":231,"column":53}},{"start":{"line":231,"column":54},"end":{"line":231,"column":53}}]},"4":{"line":232,"type":"if","locations":[{"start":{"line":232,"column":4},"end":{"line":232,"column":3}},{"start":{"line":232,"column":4},"end":{"line":232,"column":3}}]},"5":{"line":250,"type":"if","locations":[{"start":{"line":250,"column":6},"end":{"line":250,"column":5}},{"start":{"line":250,"column":6},"end":{"line":250,"column":5}}]},"6":{"line":268,"type":"if","locations":[{"start":{"line":268,"column":4},"end":{"line":268,"column":3}},{"start":{"line":268,"column":4},"end":{"line":268,"column":3}}]},"7":{"line":284,"type":"if","locations":[{"start":{"line":284,"column":4},"end":{"line":284,"column":3}},{"start":{"line":284,"column":4},"end":{"line":284,"column":3}}]},"8":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":4},"end":{"line":288,"column":3}},{"start":{"line":288,"column":4},"end":{"line":288,"column":3}}]},"9":{"line":293,"type":"if","locations":[{"start":{"line":293,"column":4},"end":{"line":293,"column":3}},{"start":{"line":293,"column":4},"end":{"line":293,"column":3}}]},"10":{"line":377,"type":"if","locations":[{"start":{"line":377,"column":4},"end":{"line":377,"column":3}},{"start":{"line":377,"column":4},"end":{"line":377,"column":3}}]},"11":{"line":388,"type":"if","locations":[{"start":{"line":388,"column":6},"end":{"line":388,"column":5}},{"start":{"line":388,"column":6},"end":{"line":388,"column":5}}]},"12":{"line":388,"type":"binary-expr","locations":[{"start":{"line":388,"column":10},"end":{"line":388,"column":43}},{"start":{"line":388,"column":47},"end":{"line":388,"column":106}}]},"13":{"line":393,"type":"if","locations":[{"start":{"line":393,"column":6},"end":{"line":393,"column":5}},{"start":{"line":393,"column":6},"end":{"line":393,"column":5}}]},"14":{"line":393,"type":"binary-expr","locations":[{"start":{"line":393,"column":10},"end":{"line":393,"column":38}},{"start":{"line":393,"column":42},"end":{"line":393,"column":89}}]},"15":{"line":400,"type":"if","locations":[{"start":{"line":400,"column":4},"end":{"line":400,"column":3}},{"start":{"line":400,"column":4},"end":{"line":400,"column":3}}]},"16":{"line":400,"type":"binary-expr","locations":[{"start":{"line":400,"column":8},"end":{"line":400,"column":45}},{"start":{"line":400,"column":49},"end":{"line":400,"column":83}}]},"17":{"line":403,"type":"if","locations":[{"start":{"line":403,"column":4},"end":{"line":403,"column":3}},{"start":{"line":403,"column":4},"end":{"line":403,"column":3}}]},"18":{"line":403,"type":"binary-expr","locations":[{"start":{"line":403,"column":8},"end":{"line":403,"column":55}},{"start":{"line":403,"column":59},"end":{"line":403,"column":100}}]},"19":{"line":410,"type":"if","locations":[{"start":{"line":410,"column":6},"end":{"line":410,"column":5}},{"start":{"line":410,"column":6},"end":{"line":410,"column":5}}]},"20":{"line":415,"type":"if","locations":[{"start":{"line":415,"column":8},"end":{"line":415,"column":7}},{"start":{"line":415,"column":8},"end":{"line":415,"column":7}}]},"21":{"line":428,"type":"if","locations":[{"start":{"line":428,"column":4},"end":{"line":428,"column":3}},{"start":{"line":428,"column":4},"end":{"line":428,"column":3}}]},"22":{"line":432,"type":"if","locations":[{"start":{"line":432,"column":4},"end":{"line":432,"column":3}},{"start":{"line":432,"column":4},"end":{"line":432,"column":3}}]},"23":{"line":457,"type":"cond-expr","locations":[{"start":{"line":457,"column":22},"end":{"line":457,"column":61}},{"start":{"line":457,"column":64},"end":{"line":457,"column":101}}]},"24":{"line":476,"type":"binary-expr","locations":[{"start":{"line":476,"column":11},"end":{"line":476,"column":52}},{"start":{"line":476,"column":56},"end":{"line":476,"column":84}}]},"25":{"line":480,"type":"if","locations":[{"start":{"line":480,"column":4},"end":{"line":480,"column":3}},{"start":{"line":480,"column":4},"end":{"line":480,"column":3}}]},"26":{"line":500,"type":"binary-expr","locations":[{"start":{"line":500,"column":19},"end":{"line":500,"column":27}},{"start":{"line":500,"column":31},"end":{"line":500,"column":41}}]},"27":{"line":503,"type":"binary-expr","locations":[{"start":{"line":503,"column":19},"end":{"line":503,"column":27}},{"start":{"line":503,"column":31},"end":{"line":503,"column":42}}]},"28":{"line":509,"type":"switch","locations":[{"start":{"line":509,"column":6},"end":{"line":511,"column":14}},{"start":{"line":512,"column":6},"end":{"line":519,"column":14}}]},"29":{"line":516,"type":"if","locations":[{"start":{"line":516,"column":8},"end":{"line":516,"column":7}},{"start":{"line":516,"column":8},"end":{"line":516,"column":7}}]},"30":{"line":525,"type":"switch","locations":[{"start":{"line":525,"column":6},"end":{"line":527,"column":14}},{"start":{"line":528,"column":6},"end":{"line":533,"column":14}}]},"31":{"line":530,"type":"if","locations":[{"start":{"line":530,"column":8},"end":{"line":530,"column":7}},{"start":{"line":530,"column":8},"end":{"line":530,"column":7}}]},"32":{"line":543,"type":"if","locations":[{"start":{"line":543,"column":4},"end":{"line":543,"column":3}},{"start":{"line":543,"column":4},"end":{"line":543,"column":3}}]},"33":{"line":550,"type":"if","locations":[{"start":{"line":550,"column":4},"end":{"line":550,"column":3}},{"start":{"line":550,"column":4},"end":{"line":550,"column":3}}]},"34":{"line":145,"type":"binary-expr","locations":[{"start":{"line":145,"column":131},"end":{"line":145,"column":136}},{"start":{"line":145,"column":140},"end":{"line":145,"column":163}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":37,"20":1,"21":1,"22":61,"23":36,"24":36,"25":36,"26":36,"27":36,"28":36,"29":36,"30":36,"31":36,"32":36,"33":36,"34":36,"35":36,"36":36,"37":36,"38":18,"39":36,"40":18,"41":36,"42":17,"43":36,"44":18,"45":36,"46":1,"47":36,"48":2,"49":0,"50":36,"51":0,"52":1,"53":19,"54":38,"55":19,"56":19,"57":19,"58":189,"59":189,"60":19,"61":1,"62":21,"63":21,"64":21,"65":215,"66":215,"67":215,"68":21,"69":21,"70":1,"71":218,"72":218,"73":218,"74":218,"75":218,"76":218,"77":218,"78":218,"79":1,"80":2,"81":2,"82":2,"83":0,"84":0,"85":2,"86":0,"87":0,"88":2,"89":2,"90":2,"91":2,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":2,"101":0,"102":0,"103":0,"104":0,"105":1,"106":3,"107":1,"108":3,"109":1,"110":218,"111":218,"112":218,"113":218,"114":218,"115":1,"116":189,"117":189,"118":1,"119":19,"120":1,"121":18,"122":18,"123":18,"124":18,"125":1,"126":1,"127":1,"128":1,"129":1,"130":17,"131":17,"132":17,"133":17,"134":17,"135":17,"136":17,"137":17,"138":17,"139":17,"140":17,"141":17,"142":17,"143":17,"144":2,"145":17,"146":0,"147":1,"148":2,"149":0,"150":2,"151":2,"152":1,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":1,"162":18,"163":18,"164":1,"165":18,"166":1,"167":3,"168":18,"169":0,"170":0,"171":1,"172":0,"173":1,"174":22,"175":1,"176":2,"177":2,"178":2,"179":0,"180":2,"181":1,"182":2,"183":2,"184":2,"185":2,"186":1,"187":0,"188":0,"189":0,"190":0,"191":0,"192":1,"193":4,"194":1,"195":18,"196":0,"197":0,"198":0,"199":1,"200":71,"201":71,"202":71,"203":71,"204":71,"205":0,"206":71,"207":0,"208":71,"209":0,"210":71,"211":0,"212":1,"213":18,"214":2,"215":2,"216":1,"217":0,"218":1,"219":1,"220":1,"221":1,"222":18,"223":2,"224":2,"225":1,"226":1,"227":0,"228":1,"229":1,"230":2,"231":1,"232":0,"233":0,"234":0,"235":1,"236":30,"237":30,"238":0,"239":30,"240":1,"241":1,"242":35,"243":35,"244":35,"245":36,"246":36,"247":36,"248":1,"249":1,"250":1,"251":1},"b":{"1":[25,11],"2":[2,34],"3":[19,0],"4":[19,0],"5":[215,0],"6":[218,0],"7":[0,2],"8":[0,2],"9":[2,0],"10":[17,0],"11":[2,15],"12":[17,2],"13":[0,17],"14":[17,0],"15":[0,2],"16":[2,2],"17":[2,0],"18":[2,2],"19":[0,0],"20":[0,0],"21":[1,17],"22":[0,18],"23":[2,0],"24":[4,4],"25":[0,18],"26":[0,0],"27":[0,0],"28":[2,1],"29":[1,0],"30":[2,1],"31":[0,1],"32":[0,0],"33":[0,30],"34":[36,35]},"f":{"1":1,"2":36,"3":18,"4":18,"5":17,"6":18,"7":1,"8":0,"9":0,"10":19,"11":189,"12":21,"13":215,"14":218,"15":2,"16":0,"17":0,"18":0,"19":0,"20":3,"21":3,"22":218,"23":189,"24":19,"25":18,"26":1,"27":17,"28":2,"29":0,"30":0,"31":18,"32":18,"33":3,"34":0,"35":22,"36":2,"37":2,"38":0,"39":4,"40":18,"41":71,"42":0,"43":0,"44":0,"45":0,"46":18,"47":0,"48":18,"49":2,"50":0,"51":30,"52":35,"53":36,"54":36,"55":36},"code":"import {Template} from '../Templates/Template';\nimport {DefaultResultTemplate} from '../Templates/DefaultResultTemplate';\nimport {Component} from '../Base/Component';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {IResultsComponentBindings} from '../Base/ResultsComponentBindings';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {IQueryResult} from '../../rest/QueryResult';\nimport {IQueryResults} from '../../rest/QueryResults';\nimport {Assert} from '../../misc/Assert';\nimport {QueryEvents, INewQueryEventArgs, IBuildingQueryEventArgs, IQuerySuccessEventArgs, IDuringQueryEventArgs, IQueryErrorEventArgs} from '../../events/QueryEvents';\nimport {MODEL_EVENTS} from '../../models/Model';\nimport {QUERY_STATE_ATTRIBUTES} from '../../models/QueryStateModel';\nimport {QueryUtils} from '../../utils/QueryUtils';\nimport {$$, Win, Doc} from '../../utils/Dom';\nimport {analyticsActionCauseList, IAnalyticsNoMeta} from '../Analytics/AnalyticsActionListMeta';\nimport {Initialization, IInitializationParameters} from '../Base/Initialization';\nimport {Defer} from '../../misc/Defer';\nimport {DeviceUtils} from '../../utils/DeviceUtils';\nimport {ResultListEvents, IDisplayedNewResultEventArgs} from '../../events/ResultListEvents';\nimport {Utils} from '../../utils/Utils';\nimport {DomUtils} from '../../utils/DomUtils';\nimport {Recommendation} from '../Recommendation/Recommendation';\nimport {DefaultRecommendationTemplate} from '../Templates/DefaultRecommendationTemplate';\n\nexport interface IResultListOptions {\n  resultContainer?: HTMLElement;\n  resultTemplate?: Template;\n  resultOptions?: {};\n  waitAnimationContainer?: HTMLElement;\n  enableInfiniteScroll?: boolean;\n  infiniteScrollPageSize?: number;\n  infiniteScrollContainer?: HTMLElement | Window;\n  waitAnimation?: string;\n  mobileScrollContainer?: HTMLElement;\n  enableInfiniteScrollWaitingAnimation?: boolean;\n  fieldsToInclude?: string[];\n  autoSelectFieldsToInclude?: boolean;\n}\n\n/**\n * This component is responsible for displaying the results of the current query using one or more result templates.<br/>\n * It supports many additional features such as infinite scrolling.\n *\n * # Examples / samples\n * This contains some quick example. Refer to result templates on developers.coveo.com for more information.\n *\n * ```html\n * <!-- A very simple result list with a single underscore template.\n * The template has no condition : It will load for all results.\n * Every results will show the same template. -->\n *\n * <div class=\"CoveoResultList\">\n *   <script class=\"result-template\" type=\"text/underscore\" id='MyDefaultTemplate'>\n *     <div>\n *       <a class='CoveoResultLink'>Hey, click on this ! <%- title %></a>\n *     </div>\n *   </script>\n * </div>\n *\n * <!-- 2 different template in the same result list : The first template has a condition attribute, the second one does not.\n *\n * The first condition will be evaluated against each result. If a result match this condition (in this case if the result.raw.objecttype property in the JSON equals MyObjectType) then the template will be rendered and the next template won't be rendered or evaluated for this result. -->\n *\n * If the result does not match the first template, the next one will be evaluated. Since the second one has no condition, it is always considered \"true\" and will load as a fallback.\n *\n * This process will repeat for each result that was returned by the query to the index. -->\n *\n * <div class=\"CoveoResultList\">\n *   <script class=\"result-template\" type=\"text/underscore\" data-condition='raw.objecttype==MyObjectType' id='MyObjectTypeTemplate'>\n *     <div>\n *       <a class='CoveoResultLink'>Hey, click on this ! <%- title %></a>\n *       <div class='CoveoExcerpt'></div>\n *       <span>This is a result for the type : <%- raw.objecttype %></span>\n *     </div>\n *   </script>\n *\n *   <script class=\"result-template\" type=\"text/underscore\">\n *     <div>\n *       <a class='CoveoResultLink'>Hey, click on this ! <%- title %></a>\n *     </div>\n *   </script>\n * </div>\n *\n * <!-- 2 different template in the same result list : Both have a data-condition attribute.\n *\n * Same as before : the condition will be evaluated against all results.\n *\n * Since there is no \"default\" template with no condition specified, the framework will fallback on the default templates included in the framework if no template match a given result. This is to ensure that all results get rendered -->\n *\n * <div class=\"CoveoResultList\">\n *   <script class=\"result-template\" type=\"text/underscore\" data-condition='raw.objecttype==MyObjectType' id='MyObjectTypeTemplate'>\n *     <div>\n *       <a class='CoveoResultLink'>Hey, click on this ! <%- title %></a>\n *       <div class='CoveoExcerpt'></div>\n *       <span>This is a result for the type : <%- raw.objecttype %></span>\n *      </div>\n *   </script>\n *\n *   <script class=\"result-template\" type=\"text/underscore\" data-condition='raw.objecttype==MySecondObjectType' id='MySecondObjectTypeTemplate'>\n *     <div>\n *       <span class='CoveoIcon'></span>\n *       <a class='CoveoResultLink'></a>\n *     </div>\n *     <div class='CoveoExcerpt'></div>\n *     <div class='CoveoPrintableUri'></div>\n *   </script>\n * </div>\n * ```\n */\nexport class ResultList extends Component {\n  static ID = 'ResultList';\n  /**\n   * The options for the ResultList\n   * @componentOptions\n   */\n  static options: IResultListOptions = {\n    /**\n     * Specifies the element within which the rendered templates for results are inserted.<br/>\n     * The content of this element is cleared when a new query is performed. If this option is not specified, a &lt;div&gt; element will by dynamically created in javascript and appended to the result list and used as a result container.<br/>\n     * You can change the container by specifying it's selector: Eg  data-result-container-selector=\"#someCssSelector\"\n     */\n    resultContainer: ComponentOptions.buildChildHtmlElementOption({\n      defaultFunction: (element: HTMLElement) => {\n        var d = document.createElement('div')\n        element.appendChild(d);\n        return d;\n      }\n    }),\n    resultTemplate: ComponentOptions.buildTemplateOption({ defaultFunction: ResultList.getDefaultTemplate }),\n    /**\n     * Specifies the type of animation to display while waiting for a new query to finish executing.<br/>\n     * Possible values are :<br/>\n     * 'fade' : Fades out the currently displayed results while the query is executing.<br/>\n     * 'spinner' : Shows a spinning animation while the query is executing.<br/>\n     * 'none' : Use no animation during queries.<br/>\n     * Default value is 'none'\n     */\n    waitAnimation: ComponentOptions.buildStringOption({ defaultValue: 'none' }),\n    /**\n     * Specifies the element inside which an animation is displayed while waiting for a new query to finish executing.<br/>\n     * You can change this by specifying a css selector.<br/>\n     * Eg : data-wait-animation-container-selector=\"#someCssSelector\"\n     * By default, the animation appears in the the resultContainer.\n     */\n    waitAnimationContainer: ComponentOptions.buildChildHtmlElementOption({ postProcessing: (value, options: IResultListOptions) => value || options.resultContainer }),\n    /**\n     * Specifies whether the ResultList automatically retrieves an additional page of results and appends them to those already being displayed whenever the user scrolls to the end of the infiniteScrollContainer.<br/>\n     * The waitAnimation will be displayed while additional results are fetched.<br/>\n     * Default value is false\n     */\n    enableInfiniteScroll: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    /**\n     * When infiniteScroll is enabled, specifies the number of additional results that are fetched when the user scrolls to the bottom of the infiniteScrollContainer.<br/>\n     * Default value is 10\n     */\n    infiniteScrollPageSize: ComponentOptions.buildNumberOption({ defaultValue: 10, min: 1, depend: 'enableInfiniteScroll' }),\n    /**\n     * When infinite scrolling is enabled, specifies the element whose scrolling is monitored to trigger fetching of additional results.<br/>\n     * By default, the framework will try to find the first scrolling parent it encounter, starting from the ResultList itself<br/>\n     * This also means that if it encounter no parent that are scrollable (in css this means having overflow-y: scroll), then the window itself will be the scroll container\n     */\n    infiniteScrollContainer: ComponentOptions.buildChildHtmlElementOption({ depend: 'enableInfiniteScroll', defaultFunction: (element) => ComponentOptions.findParentScrolling(element) }),\n    /**\n     * Specifies if the wait animation should be displayed when a query is being performed using infinite scroll.<br/>\n     * Default value is true\n     */\n    enableInfiniteScrollWaitingAnimation: ComponentOptions.buildBooleanOption({ depend: 'enableInfiniteScroll', defaultValue: true }),\n    mobileScrollContainer: ComponentOptions.buildSelectorOption({ defaultFunction: () => <HTMLElement>document.querySelector('.coveo-results-column') }),\n    /**\n     * Specifies a list of fields to include in the query.<br/>\n     * This is to ensure that fields that are not needed for the UI to function are not sent by the search API.<br/>\n     * By default, this list is empty.<br/>\n     * Note that this option has an interaction with autoSelectFieldsToInclude\n     */\n    fieldsToInclude: ComponentOptions.buildFieldsOption({ includeInResults: true }),\n    /**\n     * Specifies that the result list should scan it's template and discover which field it will need to render every results.<br/>\n     * This is to ensure that fields that are not needed for the UI to function are not sent by the search API.<br/>\n     * Default value is false.<br/>\n     * NB: Many interface created by the interface editor will actually explicitly set this option to true.\n     */\n    autoSelectFieldsToInclude: ComponentOptions.buildBooleanOption({ defaultValue: false })\n  };\n\n  public static resultCurrentlyBeingRendered: IQueryResult = null;\n  public currentlyDisplayedResults: IQueryResult[] = [];\n  private fetchingMoreResults: Promise<IQueryResults>;\n  private reachedTheEndOfResults = false;\n\n  /**\n   * Create a new ResultList.<br/>\n   * Bind various event related to queries (eg : on querySuccess -> renderResults)<br/>\n   * Bind scroll event if infinite scrolling is enabled.\n   * @param element The HTMLElement on which the element will be instantiated.\n   * @param options The options for the ResultList.\n   * @param bindings The bindings that the component requires to function normally. If not set, will automatically resolve them (With slower execution time)\n   * @param elementClassId The class that this component should instantiate. By default this will be CoveoResultList. This is used by component that extends the base ResultList\n   */\n  constructor(public element: HTMLElement, public options?: IResultListOptions, public bindings?: IComponentBindings, elementClassId: string = ResultList.ID) {\n    super(element, elementClassId, bindings);\n    this.options = ComponentOptions.initComponentOptions(element, ResultList, options);\n\n    Assert.exists(element);\n    Assert.exists(this.options);\n    Assert.exists(this.options.resultContainer);\n    Assert.exists(this.options.resultTemplate);\n    Assert.exists(this.options.waitAnimationContainer);\n    Assert.exists(this.options.infiniteScrollContainer);\n\n    this.showOrHideElementsDependingOnState(false, false);\n\n    this.bind.onRootElement<INewQueryEventArgs>(QueryEvents.newQuery, (args: INewQueryEventArgs) => this.handleNewQuery());\n    this.bind.onRootElement<IBuildingQueryEventArgs>(QueryEvents.buildingQuery, (args: IBuildingQueryEventArgs) => this.handleBuildingQuery(args));\n    this.bind.onRootElement<IQuerySuccessEventArgs>(QueryEvents.querySuccess, (args: IQuerySuccessEventArgs) => this.handleQuerySuccess(args));\n    this.bind.onRootElement<IDuringQueryEventArgs>(QueryEvents.duringQuery, (args: IDuringQueryEventArgs) => this.handleDuringQuery());\n    this.bind.onRootElement<IQueryErrorEventArgs>(QueryEvents.queryError, (args: IQueryErrorEventArgs) => this.handleQueryError());\n\n    if (this.options.enableInfiniteScroll) {\n      this.bind.on(<HTMLElement>this.options.infiniteScrollContainer, 'scroll', (e: Event) => this.handleScrollOfResultList());\n    }\n    this.bind.onQueryState(MODEL_EVENTS.CHANGE_ONE, QUERY_STATE_ATTRIBUTES.FIRST, () => this.handlePageChanged());\n  }\n\n  /**\n   * Empty the current result list content and append the given array of HTMLElement.<br/>\n   * Can append to existing elements in the result list, or replace them.<br/>\n   * Triggers the newResultDiplayed and newResultsDisplayed event\n   * @param resultsElement\n   * @param append\n   */\n  public renderResults(resultsElement: HTMLElement[], append = false) {\n    if (!append) {\n      this.options.resultContainer.innerHTML = '';\n    }\n    _.each(resultsElement, (resultElement) => {\n      this.options.resultContainer.appendChild(resultElement);\n      this.triggerNewResultDisplayed(Component.getResult(resultElement), resultElement);\n    });\n    this.triggerNewResultsDisplayed();\n  }\n\n  /**\n   * Build and return an array of HTMLElement with the given result set.\n   * @param results\n   */\n  public buildResults(results: IQueryResults): HTMLElement[] {\n    var res: HTMLElement[] = [];\n    _.each(results.results, (result: IQueryResult) => {\n      var resultElement = this.buildResult(result);\n      if (resultElement != null) {\n        res.push(resultElement);\n      }\n    });\n    ResultList.resultCurrentlyBeingRendered = null;\n    return res;\n  }\n\n  /**\n   * Build and return an HTMLElement for the given result.\n   * @param result\n   * @returns {HTMLElement}\n   */\n  public buildResult(result: IQueryResult): HTMLElement {\n    Assert.exists(result);\n    QueryUtils.setStateObjectOnQueryResult(this.queryStateModel.get(), result);\n    ResultList.resultCurrentlyBeingRendered = result;\n    var resultElement = this.options.resultTemplate.instantiateToElement(result);\n    if (resultElement != null) {\n      Component.bindResultToElement(resultElement, result);\n    }\n    this.autoCreateComponentsInsideResult(resultElement, result);\n    return resultElement;\n  }\n\n  /**\n   * Execute a query to fetch new results. After the query is done, render those new results.<br/>\n   * Assert that there is actually more results to display by checking that the last query returned as many results as requested.<br/>\n   * Assert that the result list is not currently fetching results\n   * @param count The number of results to fetch and display\n   */\n  public displayMoreResults(count: number) {\n    Assert.isLargerOrEqualsThan(1, count);\n\n    if (this.isCurrentlyFetchingMoreResults()) {\n      this.logger.warn('Ignoring request to display more results since we\\'re already doing so');\n      return;\n    }\n    if (!this.hasPotentiallyMoreResultsToDisplay()) {\n      this.logger.warn('Ignoring request to display more results since we know there aren\\'t more to display');\n      return;\n    }\n\n    if (this.options.enableInfiniteScrollWaitingAnimation) {\n      this.showWaitingAnimationForInfiniteScrolling();\n    }\n\n    this.fetchingMoreResults = this.queryController.fetchMore(count);\n    this.fetchingMoreResults.then((data: IQueryResults) => {\n      Assert.exists(data);\n      this.usageAnalytics.logCustomEvent<IAnalyticsNoMeta>(analyticsActionCauseList.pagerScrolling, {}, this.element);\n      var results = data.results;\n      this.reachedTheEndOfResults = count > data.results.length;\n      this.renderResults(this.buildResults(data), true);\n      _.each(results, (result) => {\n        this.currentlyDisplayedResults.push(result);\n      });\n      this.triggerNewResultsDisplayed();\n    });\n\n    this.fetchingMoreResults.then(() => {\n      this.hideWaitingAnimationForInfiniteScrolling();\n      this.fetchingMoreResults = undefined;\n      Defer.defer(() => this.handleScrollOfResultList());\n    });\n  }\n\n  /**\n   * Get the list of currently displayed result\n   * @returns {IQueryResult[]}\n   */\n  public getDisplayedResults(): IQueryResult[] {\n    return this.currentlyDisplayedResults;\n  }\n\n  /**\n   * Get the list of currently displayed result HTMLElement\n   * @returns {HTMLElement[]}\n   */\n  public getDisplayedResultsElements(): HTMLElement[] {\n    return $$(this.options.resultContainer).findAll('.CoveoResult');\n  }\n\n  protected autoCreateComponentsInsideResult(element: HTMLElement, result: IQueryResult) {\n    Assert.exists(element);\n\n    var initOptions = this.searchInterface.options.originalOptionsObject;\n    var resultComponentBindings: IResultsComponentBindings = _.extend({}, this.getBindings(), {\n      resultElement: element\n    })\n    var initParameters: IInitializationParameters = {\n      options: initOptions,\n      bindings: resultComponentBindings,\n      result: result\n    }\n    Initialization.automaticallyCreateComponentsInside(element, initParameters);\n  }\n\n  protected triggerNewResultDisplayed(result: IQueryResult, resultElement: HTMLElement) {\n    var args: IDisplayedNewResultEventArgs = {\n      result: result,\n      item: resultElement\n    };\n    $$(this.element).trigger(ResultListEvents.newResultDisplayed, args);\n  }\n\n  protected triggerNewResultsDisplayed() {\n    $$(this.element).trigger(ResultListEvents.newResultsDisplayed, {});\n  }\n\n  private handleDuringQuery() {\n    this.logger.trace('Emptying the result container');\n    this.cancelFetchingMoreResultsIfNeeded();\n    this.showWaitingAnimation();\n    this.showOrHideElementsDependingOnState(false, false);\n  }\n\n  private handleQueryError() {\n    this.hideWaitingAnimation();\n    $$(this.options.resultContainer).empty();\n    this.currentlyDisplayedResults = [];\n  }\n\n  private handleQuerySuccess(data: IQuerySuccessEventArgs) {\n    Assert.exists(data);\n    Assert.exists(data.results);\n    $$(this.element).toggle(!this.disabled);\n    if (!this.disabled) {\n      var results = data.results;\n      this.logger.trace('Received query results from new query', results);\n      this.hideWaitingAnimation();\n      ResultList.resultCurrentlyBeingRendered = undefined;\n      this.currentlyDisplayedResults = [];\n      this.renderResults(this.buildResults(data.results));\n      this.currentlyDisplayedResults = results.results;\n      this.reachedTheEndOfResults = false;\n      this.showOrHideElementsDependingOnState(true, this.currentlyDisplayedResults.length != 0);\n\n      if (this.options.enableInfiniteScroll && results.results.length == data.queryBuilder.numberOfResults) {\n        // This will check right away if we need to add more results to make the scroll container full & scrolling.\n        this.handleScrollOfResultList();\n      }\n\n      if (DeviceUtils.isMobileDevice() && this.options.mobileScrollContainer != undefined) {\n        this.options.mobileScrollContainer.scrollTop = 0;\n      }\n    }\n  }\n\n  private handleScrollOfResultList() {\n    if (this.isCurrentlyFetchingMoreResults() || !this.options.enableInfiniteScroll) {\n      return;\n    }\n    if (this.isScrollingOfResultListAlmostAtTheBottom() && this.hasPotentiallyMoreResultsToDisplay()) {\n      this.displayMoreResults(this.options.infiniteScrollPageSize);\n    }\n  }\n\n  private handlePageChanged() {\n    this.bind.oneRootElement(QueryEvents.querySuccess, () => {\n      if (this.options.infiniteScrollContainer instanceof Window) {\n        var win = <Window>this.options.infiniteScrollContainer;\n        win.scrollTo(0, 0);\n      } else {\n        var el = <HTMLElement>this.options.infiniteScrollContainer;\n        if (el.scrollIntoView) {\n          el.scrollIntoView();\n        }\n      }\n    })\n  }\n\n  private handleNewQuery() {\n    $$(this.element).show();\n    ResultList.resultCurrentlyBeingRendered = undefined;\n  }\n\n  private handleBuildingQuery(args: IBuildingQueryEventArgs) {\n    if (this.options.fieldsToInclude != null) {\n      // remove the @\n      args.queryBuilder.addFieldsToInclude(_.map(this.options.fieldsToInclude, (field) => field.substr(1)));\n    }\n    if (this.options.autoSelectFieldsToInclude) {\n      args.queryBuilder.addRequiredFields(this.getAutoSelectedFieldsToInclude());\n      args.queryBuilder.includeRequiredFields = true;\n    }\n  }\n\n  private getAutoSelectedFieldsToInclude() {\n    return _.chain(this.options.resultTemplate.getFields())\n      .compact()\n      .unique()\n      .value()\n  }\n\n  private isCurrentlyFetchingMoreResults(): boolean {\n    return Utils.exists(this.fetchingMoreResults);\n  }\n\n  private isScrollingOfResultListAlmostAtTheBottom(): boolean {\n    // this is in a try catch because the unit test fail otherwise (Window does not exist for phantom js in the console)\n    var isWindow;\n    try {\n      isWindow = this.options.infiniteScrollContainer instanceof Window;\n    } catch (e) {\n      isWindow = false;\n    }\n    return isWindow ? this.isScrollAtBottomForWindowElement() : this.isScrollAtBottomForHtmlElement();\n  }\n\n  private isScrollAtBottomForWindowElement() {\n    var windowHeight = new Win(window).height();\n    var scrollTop = window.scrollY;\n    var bodyHeight = new Doc(document).height();\n    return bodyHeight - (windowHeight + scrollTop) < windowHeight / 2;\n  }\n\n  private isScrollAtBottomForHtmlElement() {\n    var el = <HTMLElement>this.options.infiniteScrollContainer;\n    var elementHeight = el.clientHeight;\n    var scrollHeight = el.scrollHeight;\n    var bottomPosition = el.scrollTop + elementHeight;\n    return (scrollHeight - bottomPosition) < elementHeight / 2;\n  }\n\n  public hasPotentiallyMoreResultsToDisplay(): boolean {\n    return this.currentlyDisplayedResults.length > 0 && !this.reachedTheEndOfResults;\n  }\n\n  private cancelFetchingMoreResultsIfNeeded() {\n    if (this.isCurrentlyFetchingMoreResults()) {\n      this.logger.trace('Cancelling fetching more results');\n      Promise.reject(this.fetchingMoreResults);\n      this.fetchingMoreResults = undefined;\n    }\n  }\n\n  private showOrHideElementsDependingOnState(hasQuery: boolean, hasResults: boolean) {\n    var showIfQuery = $$(this.element).findAll('.coveo-show-if-query');\n    var showIfNoQuery = $$(this.element).findAll('.coveo-show-if-no-query');\n    var showIfResults = $$(this.element).findAll('.coveo-show-if-results');\n    var showIfNoResults = $$(this.element).findAll('.coveo-show-if-no-results');\n\n    _.each(showIfQuery, (s: HTMLElement) => {\n      $$(s).toggle(hasQuery);\n    })\n    _.each(showIfNoQuery, (s: HTMLElement) => {\n      $$(s).toggle(!hasQuery);\n    })\n    _.each(showIfResults, (s: HTMLElement) => {\n      $$(s).toggle(hasQuery && hasResults);\n    })\n    _.each(showIfNoResults, (s: HTMLElement) => {\n      $$(s).toggle(hasQuery && !hasResults);\n    })\n  }\n\n  private showWaitingAnimation() {\n    switch (this.options.waitAnimation.toLowerCase()) {\n      case 'fade':\n        $$(this.options.waitAnimationContainer).addClass('coveo-fade-out');\n        break;\n      case 'spinner':\n        _.each(this.options.resultContainer.children, (child: HTMLElement) => {\n          $$(child).hide();\n        })\n        if ($$(this.options.waitAnimationContainer).find('.coveo-wait-animation') == undefined) {\n          this.options.waitAnimationContainer.appendChild(DomUtils.getBasicLoadingAnimation());\n        }\n        break;\n    }\n  }\n\n  private hideWaitingAnimation() {\n    switch (this.options.waitAnimation.toLowerCase()) {\n      case 'fade':\n        $$(this.options.waitAnimationContainer).removeClass('coveo-fade-out');\n        break;\n      case 'spinner':\n        var spinner = $$(this.options.waitAnimationContainer).find('.coveo-loading-spinner');\n        if (spinner) {\n          $$(spinner).detach();\n        }\n        break;\n    }\n  }\n\n  private showWaitingAnimationForInfiniteScrolling() {\n    this.options.waitAnimationContainer.appendChild(DomUtils.getLoadingSpinner());\n  }\n\n  private hideWaitingAnimationForInfiniteScrolling() {\n    var spinner = $$(this.options.waitAnimationContainer).find('.coveo-loading-spinner');\n    if (spinner) {\n      $$(spinner).detach();\n    }\n  }\n\n  private static getDefaultTemplate(e: HTMLElement): Template {\n    let component = <ResultList>Component.get(e)\n    if (component.searchInterface instanceof Recommendation) {\n      return new DefaultRecommendationTemplate();\n    }\n    return new DefaultResultTemplate();\n  }\n}\n\n\nInitialization.registerAutoCreateComponent(ResultList);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/ResultList/ResultList.ts\n **/","l":{"2":1,"3":1,"6":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"110":37,"111":1,"116":1,"124":35,"125":35,"126":35,"145":36,"162":36,"168":36,"185":1,"186":36,"188":36,"199":61,"200":36,"201":36,"203":36,"204":36,"205":36,"206":36,"207":36,"208":36,"210":36,"212":36,"213":36,"214":36,"215":36,"216":36,"218":36,"219":2,"221":36,"231":38,"232":19,"233":19,"235":19,"236":189,"237":189,"239":19,"246":21,"247":21,"248":21,"249":215,"250":215,"251":215,"254":21,"255":21,"263":1,"264":218,"265":218,"266":218,"267":218,"268":218,"269":218,"271":218,"272":218,"281":2,"282":2,"284":2,"285":0,"286":0,"288":2,"289":0,"290":0,"293":2,"294":2,"297":2,"298":2,"299":0,"300":0,"301":0,"302":0,"303":0,"304":0,"305":0,"307":0,"310":2,"311":0,"312":0,"313":0,"321":1,"322":3,"329":1,"330":3,"333":1,"334":218,"336":218,"337":218,"340":218,"345":218,"348":1,"349":189,"353":189,"356":1,"357":19,"360":1,"361":18,"362":18,"363":18,"364":18,"367":1,"368":1,"369":1,"370":1,"373":1,"374":17,"375":17,"376":17,"377":17,"378":17,"379":17,"380":17,"381":17,"382":17,"383":17,"384":17,"385":17,"386":17,"388":17,"390":2,"393":17,"394":0,"399":1,"400":2,"401":0,"403":2,"404":2,"408":1,"409":0,"410":0,"411":0,"412":0,"414":0,"415":0,"416":0,"422":1,"423":18,"424":18,"427":1,"428":18,"430":3,"432":18,"433":0,"434":0,"438":1,"439":0,"445":1,"446":22,"449":1,"451":2,"452":2,"453":2,"455":0,"457":2,"460":1,"461":2,"462":2,"463":2,"464":2,"467":1,"468":0,"469":0,"470":0,"471":0,"472":0,"475":1,"476":4,"479":1,"480":18,"481":0,"482":0,"483":0,"487":1,"488":71,"489":71,"490":71,"491":71,"493":71,"494":0,"496":71,"497":0,"499":71,"500":0,"502":71,"503":0,"507":1,"508":18,"510":2,"511":2,"513":1,"514":0,"516":1,"517":1,"519":1,"523":1,"524":18,"526":2,"527":2,"529":1,"530":1,"531":0,"533":1,"537":1,"538":2,"541":1,"542":0,"543":0,"544":0,"548":1,"549":30,"550":30,"551":0,"553":30,"555":1,"558":1}},"src/ui/Templates/DefaultRecommendationTemplate.ts":{"path":"src/ui/Templates/DefaultRecommendationTemplate.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":36}},"2":{"start":{"line":4,"column":0},"end":{"line":32,"column":1}},"3":{"start":{"line":4,"column":51},"end":{"line":4,"column":59}},"4":{"start":{"line":6,"column":2},"end":{"line":25,"column":3}},"5":{"start":{"line":7,"column":4},"end":{"line":23,"column":14}},"6":{"start":{"line":24,"column":4},"end":{"line":24,"column":20}},"7":{"start":{"line":27,"column":2},"end":{"line":31,"column":3}},"8":{"start":{"line":28,"column":4},"end":{"line":28,"column":44}},"9":{"start":{"line":29,"column":4},"end":{"line":29,"column":53}},"10":{"start":{"line":30,"column":4},"end":{"line":30,"column":15}},"11":{"start":{"line":32,"column":0},"end":{"line":32,"column":1}},"12":{"start":{"line":4,"column":13},"end":{"line":32,"column":1}}},"fnMap":{"1":{"name":"(anonymous_2516)","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_2518)","line":6,"loc":{"start":{"line":6,"column":2},"end":{"line":6,"column":43}}},"3":{"name":"(anonymous_2519)","line":27,"loc":{"start":{"line":27,"column":2},"end":{"line":27,"column":44}}}},"branchMap":{},"s":{"1":1,"2":2,"3":1,"4":1,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":1,"12":1},"b":{},"f":{"1":1,"2":0,"3":0},"code":"import {Template} from './Template';\nimport {IQueryResult} from '../../rest/QueryResult';\n\nexport class DefaultRecommendationTemplate extends Template {\n\n  instantiateToString(object?: IQueryResult): string {\n    var template =\n      `<div class=\"coveo-result-frame\">\n        <div class=\"coveo-result-row\">\n          <div class=\"coveo-result-cell\" style=\"width:40px;text-align:center;vertical-align:middle;\">\n            <span class=\"CoveoIcon\" data-small=\"true\">\n            </span>\n          </div>\n          <div class=\"coveo-result-cell\" style=\"padding:0 0 3px 5px;vertical-align:middle\">\n            <div class=\"coveo-result-row\">\n              <div class=\"coveo-result-cell\" style=\"font-size:10pt;\">\n                <a class=\"CoveoResultLink\" style=\"display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis\">\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>`;\n    return template;\n  }\n\n  instantiateToElement(object?: IQueryResult): HTMLElement {\n    var div = document.createElement('div');\n    div.innerHTML = this.instantiateToString(object);\n    return div;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Templates/DefaultRecommendationTemplate.ts\n **/","l":{"1":1,"4":2,"6":1,"7":0,"24":0,"27":1,"28":0,"29":0,"30":0,"32":1}},"src/ui/Aggregate/Aggregate.ts":{"path":"src/ui/Aggregate/Aggregate.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":58}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":102}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":54}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":35}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":40}},"7":{"start":{"line":20,"column":0},"end":{"line":100,"column":1}},"8":{"start":{"line":20,"column":31},"end":{"line":20,"column":40}},"9":{"start":{"line":66,"column":2},"end":{"line":74,"column":3}},"10":{"start":{"line":67,"column":4},"end":{"line":67,"column":43}},"11":{"start":{"line":66,"column":21},"end":{"line":66,"column":41}},"12":{"start":{"line":66,"column":50},"end":{"line":66,"column":77}},"13":{"start":{"line":69,"column":4},"end":{"line":69,"column":86}},"14":{"start":{"line":71,"column":4},"end":{"line":71,"column":122}},"15":{"start":{"line":71,"column":90},"end":{"line":71,"column":120}},"16":{"start":{"line":72,"column":4},"end":{"line":72,"column":119}},"17":{"start":{"line":72,"column":88},"end":{"line":72,"column":117}},"18":{"start":{"line":73,"column":4},"end":{"line":73,"column":28}},"19":{"start":{"line":76,"column":10},"end":{"line":88,"column":3}},"20":{"start":{"line":77,"column":4},"end":{"line":84,"column":6}},"21":{"start":{"line":86,"column":4},"end":{"line":86,"column":58}},"22":{"start":{"line":87,"column":4},"end":{"line":87,"column":52}},"23":{"start":{"line":90,"column":10},"end":{"line":99,"column":3}},"24":{"start":{"line":91,"column":4},"end":{"line":98,"column":5}},"25":{"start":{"line":92,"column":6},"end":{"line":92,"column":56}},"26":{"start":{"line":93,"column":6},"end":{"line":93,"column":56}},"27":{"start":{"line":94,"column":6},"end":{"line":94,"column":78}},"28":{"start":{"line":95,"column":6},"end":{"line":95,"column":30}},"29":{"start":{"line":97,"column":6},"end":{"line":97,"column":30}},"30":{"start":{"line":21,"column":9},"end":{"line":21,"column":26}},"31":{"start":{"line":27,"column":9},"end":{"line":56,"column":3}},"32":{"start":{"line":100,"column":0},"end":{"line":100,"column":1}},"33":{"start":{"line":20,"column":13},"end":{"line":100,"column":1}},"34":{"start":{"line":102,"column":0},"end":{"line":102,"column":54}}},"fnMap":{"1":{"name":"(anonymous_2524)","line":20,"loc":{"start":{"line":20,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Aggregate","line":66,"loc":{"start":{"line":66,"column":2},"end":{"line":66,"column":108}}},"3":{"name":"(anonymous_2526)","line":71,"loc":{"start":{"line":71,"column":55},"end":{"line":71,"column":85}}},"4":{"name":"(anonymous_2527)","line":72,"loc":{"start":{"line":72,"column":54},"end":{"line":72,"column":83}}},"5":{"name":"(anonymous_2528)","line":76,"loc":{"start":{"line":76,"column":2},"end":{"line":76,"column":59}}},"6":{"name":"(anonymous_2529)","line":90,"loc":{"start":{"line":90,"column":2},"end":{"line":90,"column":57}}}},"branchMap":{"1":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":4},"end":{"line":91,"column":3}},{"start":{"line":91,"column":4},"end":{"line":91,"column":3}}]},"2":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":8},"end":{"line":91,"column":30}},{"start":{"line":91,"column":34},"end":{"line":91,"column":73}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":4,"8":1,"9":1,"10":3,"11":3,"12":3,"13":3,"14":3,"15":3,"16":3,"17":3,"18":3,"19":1,"20":3,"21":3,"22":3,"23":1,"24":3,"25":1,"26":1,"27":1,"28":1,"29":2,"30":1,"31":1,"32":1,"33":1,"34":1},"b":{"1":[1,2],"2":[3,3]},"f":{"1":1,"2":3,"3":3,"4":3,"5":3,"6":3},"code":"import {Component} from '../Base/Component';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {QueryEvents, IBuildingQueryEventArgs, IQuerySuccessEventArgs} from '../../events/QueryEvents';\nimport {IGroupByRequest} from '../../rest/GroupByRequest';\nimport {Initialization} from '../Base/Initialization';\nimport {$$} from '../../utils/Dom';\nimport Globalize = require('globalize');\n\nexport interface IAggregateOptions {\n  field: string;\n  operation?: string;\n  format?: string;\n}\n\n/**\n * This simple component allows to display the result on an aggregate operation on the index.<br/>\n * It hook itself on the query to add a new group by request, then display the result.\n */\nexport class Aggregate extends Component {\n  static ID = 'Aggregate';\n\n  /**\n   * The options for the component\n   * @componentOptions\n   */\n  static options: IAggregateOptions = {\n    /**\n     * The field on which to do the aggregate operation\n     */\n    field: ComponentOptions.buildStringOption({ required: true }),\n    /**\n     * The aggregate operation to perform.<br/>\n     * The available values are:\n     * <ul>\n     *   <li>sum - Computes the sum of the computed field values.</li>\n     *   <li>average - Computes the average of the computed field values.</li>\n     *   <li>minimum - Finds the minimum value of the computed field values.</li>\n     *   <li>maximum - Finds the maximum value of the computed field values.</li>\n     * </ul><br/>\n     * The default value is sum.\n     */\n    operation: ComponentOptions.buildStringOption({ defaultValue: 'sum' }),\n    /**\n     * Specifies how to format the value<br/>\n     * The formats available are defined by the Globalize library. The most common used formats are:\n     * <ul>\n     *   <li>c0 - Formats the value as a currency.</li>\n     *   <li>n0 - Formats the value as an integer.</li>\n     *   <li>n2 - Formats the value as a floating point with 2 decimal digits.</li>\n     * </ul>\n     * See : <a href='https://github.com/klaaspieter/jquery-global#globalizeformat-value-format-culture-'>Globalize</a> for more informations.<br/>\n     * Default value is 'c0\n     */\n    format: ComponentOptions.buildStringOption({ defaultValue: 'c0' })\n  }\n\n  private index: number;\n\n  /**\n   * Create a new Aggregate component\n   * @param element\n   * @param options\n   * @param bindings\n   */\n  constructor(public element: HTMLElement, public options?: IAggregateOptions, bindings?: IComponentBindings) {\n    super(element, Aggregate.ID, bindings);\n\n    this.options = ComponentOptions.initComponentOptions(element, Aggregate, options);\n\n    this.bind.onRootElement(QueryEvents.buildingQuery, (args: IBuildingQueryEventArgs) => this.handleBuildingQuery(args));\n    this.bind.onRootElement(QueryEvents.querySuccess, (args: IQuerySuccessEventArgs) => this.handleQuerySuccess(args));\n    $$(this.element).hide();\n  }\n\n  private handleBuildingQuery(args: IBuildingQueryEventArgs) {\n    var request: IGroupByRequest = {\n      field: this.options.field,\n      maximumNumberOfValues: 0,\n      computedFields: [{\n        field: this.options.field,\n        operation: this.options.operation\n      }]\n    };\n\n    this.index = args.queryBuilder.groupByRequests.length;\n    args.queryBuilder.groupByRequests.push(request);\n  }\n\n  private handleQuerySuccess(args: IQuerySuccessEventArgs) {\n    if (_.isNumber(this.index) && args.results.groupByResults.length != 0) {\n      var gbr = args.results.groupByResults[this.index];\n      var aggregate = gbr.globalComputedFieldResults[0];\n      $$(this.element).text(Globalize.format(aggregate, this.options.format));\n      $$(this.element).show();\n    } else {\n      $$(this.element).hide();\n    }\n  }\n}\n\nInitialization.registerAutoCreateComponent(Aggregate);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Aggregate/Aggregate.ts\n **/","l":{"1":1,"3":1,"4":1,"6":1,"7":1,"8":1,"20":4,"21":1,"27":1,"66":3,"67":3,"69":3,"71":3,"72":3,"73":3,"76":1,"77":3,"86":3,"87":3,"90":1,"91":3,"92":1,"93":1,"94":1,"95":1,"97":2,"100":1,"102":1}},"src/ui/Querybox/Querybox.ts":{"path":"src/ui/Querybox/Querybox.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":54}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":44}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":58}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":78}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":75}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":85}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":93}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":96}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":35}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":41}},"11":{"start":{"line":12,"column":0},"end":{"line":12,"column":66}},"12":{"start":{"line":34,"column":0},"end":{"line":257,"column":1}},"13":{"start":{"line":34,"column":30},"end":{"line":34,"column":39}},"14":{"start":{"line":116,"column":2},"end":{"line":164,"column":3}},"15":{"start":{"line":117,"column":4},"end":{"line":117,"column":42}},"16":{"start":{"line":116,"column":21},"end":{"line":116,"column":41}},"17":{"start":{"line":116,"column":50},"end":{"line":116,"column":76}},"18":{"start":{"line":116,"column":85},"end":{"line":116,"column":114}},"19":{"start":{"line":119,"column":4},"end":{"line":121,"column":5}},"20":{"start":{"line":120,"column":6},"end":{"line":120,"column":72}},"21":{"start":{"line":123,"column":4},"end":{"line":123,"column":85}},"22":{"start":{"line":125,"column":4},"end":{"line":132,"column":9}},"23":{"start":{"line":134,"column":4},"end":{"line":134,"column":122}},"24":{"start":{"line":134,"column":90},"end":{"line":134,"column":120}},"25":{"start":{"line":135,"column":4},"end":{"line":135,"column":107}},"26":{"start":{"line":135,"column":82},"end":{"line":135,"column":105}},"27":{"start":{"line":136,"column":4},"end":{"line":136,"column":151}},"28":{"start":{"line":136,"column":115},"end":{"line":136,"column":149}},"29":{"start":{"line":138,"column":4},"end":{"line":143,"column":5}},"30":{"start":{"line":139,"column":6},"end":{"line":139,"column":60}},"31":{"start":{"line":140,"column":6},"end":{"line":142,"column":8}},"32":{"start":{"line":141,"column":8},"end":{"line":141,"column":31}},"33":{"start":{"line":145,"column":4},"end":{"line":147,"column":6}},"34":{"start":{"line":146,"column":6},"end":{"line":146,"column":20}},"35":{"start":{"line":149,"column":4},"end":{"line":151,"column":6}},"36":{"start":{"line":150,"column":6},"end":{"line":150,"column":30}},"37":{"start":{"line":153,"column":4},"end":{"line":159,"column":6}},"38":{"start":{"line":154,"column":6},"end":{"line":154,"column":30}},"39":{"start":{"line":155,"column":6},"end":{"line":158,"column":7}},"40":{"start":{"line":156,"column":8},"end":{"line":156,"column":105}},"41":{"start":{"line":157,"column":8},"end":{"line":157,"column":36}},"42":{"start":{"line":161,"column":4},"end":{"line":163,"column":5}},"43":{"start":{"line":162,"column":6},"end":{"line":162,"column":28}},"44":{"start":{"line":170,"column":9},"end":{"line":175,"column":3}},"45":{"start":{"line":171,"column":4},"end":{"line":171,"column":36}},"46":{"start":{"line":172,"column":4},"end":{"line":172,"column":28}},"47":{"start":{"line":173,"column":4},"end":{"line":173,"column":102}},"48":{"start":{"line":174,"column":4},"end":{"line":174,"column":32}},"49":{"start":{"line":181,"column":9},"end":{"line":184,"column":3}},"50":{"start":{"line":182,"column":4},"end":{"line":182,"column":32}},"51":{"start":{"line":183,"column":4},"end":{"line":183,"column":28}},"52":{"start":{"line":189,"column":9},"end":{"line":191,"column":3}},"53":{"start":{"line":190,"column":4},"end":{"line":190,"column":26}},"54":{"start":{"line":197,"column":9},"end":{"line":199,"column":3}},"55":{"start":{"line":198,"column":4},"end":{"line":198,"column":35}},"56":{"start":{"line":201,"column":9},"end":{"line":203,"column":3}},"57":{"start":{"line":202,"column":4},"end":{"line":202,"column":37}},"58":{"start":{"line":205,"column":9},"end":{"line":207,"column":3}},"59":{"start":{"line":206,"column":4},"end":{"line":206,"column":46}},"60":{"start":{"line":209,"column":9},"end":{"line":211,"column":3}},"61":{"start":{"line":210,"column":4},"end":{"line":210,"column":37}},"62":{"start":{"line":213,"column":9},"end":{"line":215,"column":3}},"63":{"start":{"line":214,"column":4},"end":{"line":214,"column":47}},"64":{"start":{"line":217,"column":10},"end":{"line":224,"column":3}},"65":{"start":{"line":218,"column":4},"end":{"line":218,"column":24}},"66":{"start":{"line":219,"column":4},"end":{"line":219,"column":37}},"67":{"start":{"line":221,"column":4},"end":{"line":221,"column":28}},"68":{"start":{"line":222,"column":4},"end":{"line":222,"column":45}},"69":{"start":{"line":223,"column":4},"end":{"line":223,"column":95}},"70":{"start":{"line":226,"column":10},"end":{"line":236,"column":3}},"71":{"start":{"line":227,"column":4},"end":{"line":227,"column":46}},"72":{"start":{"line":228,"column":4},"end":{"line":228,"column":39}},"73":{"start":{"line":229,"column":4},"end":{"line":235,"column":5}},"74":{"start":{"line":230,"column":6},"end":{"line":230,"column":28}},"75":{"start":{"line":231,"column":6},"end":{"line":234,"column":9}},"76":{"start":{"line":238,"column":10},"end":{"line":240,"column":3}},"77":{"start":{"line":239,"column":4},"end":{"line":239,"column":88}},"78":{"start":{"line":242,"column":10},"end":{"line":248,"column":3}},"79":{"start":{"line":243,"column":4},"end":{"line":243,"column":24}},"80":{"start":{"line":244,"column":4},"end":{"line":244,"column":31}},"81":{"start":{"line":245,"column":4},"end":{"line":247,"column":5}},"82":{"start":{"line":246,"column":6},"end":{"line":246,"column":31}},"83":{"start":{"line":250,"column":10},"end":{"line":256,"column":3}},"84":{"start":{"line":250,"column":2},"end":{"line":256,"column":3}},"85":{"start":{"line":251,"column":4},"end":{"line":251,"column":46}},"86":{"start":{"line":252,"column":4},"end":{"line":255,"column":42}},"87":{"start":{"line":253,"column":6},"end":{"line":253,"column":111}},"88":{"start":{"line":254,"column":6},"end":{"line":254,"column":33}},"89":{"start":{"line":35,"column":9},"end":{"line":35,"column":25}},"90":{"start":{"line":40,"column":16},"end":{"line":102,"column":3}},"91":{"start":{"line":257,"column":0},"end":{"line":257,"column":1}},"92":{"start":{"line":34,"column":13},"end":{"line":257,"column":1}},"93":{"start":{"line":258,"column":0},"end":{"line":258,"column":53}}},"fnMap":{"1":{"name":"(anonymous_2533)","line":34,"loc":{"start":{"line":34,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Querybox","line":116,"loc":{"start":{"line":116,"column":2},"end":{"line":116,"column":114}}},"3":{"name":"(anonymous_2535)","line":134,"loc":{"start":{"line":134,"column":55},"end":{"line":134,"column":85}}},"4":{"name":"(anonymous_2536)","line":135,"loc":{"start":{"line":135,"column":76},"end":{"line":135,"column":81}}},"5":{"name":"(anonymous_2537)","line":136,"loc":{"start":{"line":136,"column":78},"end":{"line":136,"column":110}}},"6":{"name":"(anonymous_2538)","line":140,"loc":{"start":{"line":140,"column":31},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_2539)","line":145,"loc":{"start":{"line":145,"column":29},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_2540)","line":149,"loc":{"start":{"line":149,"column":27},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_2541)","line":153,"loc":{"start":{"line":153,"column":28},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_2542)","line":170,"loc":{"start":{"line":170,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_2543)","line":181,"loc":{"start":{"line":181,"column":2},"end":{"line":181,"column":29}}},"12":{"name":"(anonymous_2544)","line":189,"loc":{"start":{"line":189,"column":2},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_2545)","line":197,"loc":{"start":{"line":197,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_2546)","line":201,"loc":{"start":{"line":201,"column":2},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_2547)","line":205,"loc":{"start":{"line":205,"column":2},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_2548)","line":209,"loc":{"start":{"line":209,"column":2},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_2549)","line":213,"loc":{"start":{"line":213,"column":2},"end":{"line":213,"column":63}}},"18":{"name":"(anonymous_2550)","line":217,"loc":{"start":{"line":217,"column":2},"end":{"line":217,"column":59}}},"19":{"name":"(anonymous_2551)","line":226,"loc":{"start":{"line":226,"column":2},"end":{"line":226,"column":50}}},"20":{"name":"(anonymous_2552)","line":238,"loc":{"start":{"line":238,"column":2},"end":{"line":null,"column":-1}}},"21":{"name":"(anonymous_2553)","line":242,"loc":{"start":{"line":242,"column":2},"end":{"line":242,"column":65}}},"22":{"name":"(anonymous_2554)","line":250,"loc":{"start":{"line":250,"column":2},"end":{"line":null,"column":-1}}},"23":{"name":"(anonymous_2555)","line":252,"loc":{"start":{"line":252,"column":45},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":119,"type":"if","locations":[{"start":{"line":119,"column":4},"end":{"line":119,"column":3}},{"start":{"line":119,"column":4},"end":{"line":119,"column":3}}]},"2":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":4},"end":{"line":138,"column":3}},{"start":{"line":138,"column":4},"end":{"line":138,"column":3}}]},"3":{"line":155,"type":"if","locations":[{"start":{"line":155,"column":6},"end":{"line":155,"column":5}},{"start":{"line":155,"column":6},"end":{"line":155,"column":5}}]},"4":{"line":161,"type":"if","locations":[{"start":{"line":161,"column":4},"end":{"line":161,"column":3}},{"start":{"line":161,"column":4},"end":{"line":161,"column":3}}]},"5":{"line":229,"type":"if","locations":[{"start":{"line":229,"column":4},"end":{"line":229,"column":3}},{"start":{"line":229,"column":4},"end":{"line":229,"column":3}}]},"6":{"line":229,"type":"binary-expr","locations":[{"start":{"line":229,"column":8},"end":{"line":229,"column":30}},{"start":{"line":229,"column":34},"end":{"line":229,"column":46}}]},"7":{"line":245,"type":"if","locations":[{"start":{"line":245,"column":4},"end":{"line":245,"column":3}},{"start":{"line":245,"column":4},"end":{"line":245,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":59,"13":1,"14":1,"15":58,"16":58,"17":58,"18":58,"19":58,"20":0,"21":58,"22":58,"23":58,"24":22,"25":58,"26":1,"27":58,"28":1,"29":58,"30":4,"31":4,"32":3,"33":58,"34":0,"35":58,"36":1,"37":58,"38":3,"39":3,"40":2,"41":2,"42":58,"43":58,"44":1,"45":12,"46":12,"47":12,"48":12,"49":1,"50":22,"51":22,"52":1,"53":0,"54":1,"55":2,"56":1,"57":1,"58":1,"59":1,"60":1,"61":2,"62":1,"63":2,"64":1,"65":22,"66":22,"67":22,"68":22,"69":22,"70":1,"71":17,"72":17,"73":17,"74":11,"75":11,"76":1,"77":61,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":3,"85":3,"86":3,"87":3,"88":3,"89":1,"90":1,"91":1,"92":1,"93":1},"b":{"1":[0,58],"2":[4,54],"3":[2,1],"4":[58,0],"5":[11,6],"6":[17,11],"7":[1,0]},"f":{"1":1,"2":58,"3":22,"4":1,"5":1,"6":3,"7":0,"8":1,"9":3,"10":12,"11":22,"12":0,"13":2,"14":1,"15":1,"16":2,"17":2,"18":22,"19":17,"20":61,"21":1,"22":3,"23":3},"code":"import {Initialization} from '../Base/Initialization';\nimport {Component} from '../Base/Component';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {QueryEvents, IBuildingQueryEventArgs} from '../../events/QueryEvents';\nimport {MODEL_EVENTS, IAttributeChangedEventArg} from '../../models/Model';\nimport {QUERY_STATE_ATTRIBUTES, QueryStateModel} from '../../models/QueryStateModel';\nimport {StandaloneSearchInterfaceEvents} from '../../events/StandaloneSearchInterfaceEvents';\nimport {IAnalyticsNoMeta, analyticsActionCauseList} from '../Analytics/AnalyticsActionListMeta';\nimport {$$} from '../../utils/Dom';\nimport {Assert} from '../../misc/Assert';\nimport {QueryboxQueryParameters} from './QueryboxQueryParameters';\n\nexport interface IQueryboxOptions {\n  enableSearchAsYouType?: boolean;\n  searchAsYouTypeDelay?: number;\n  enableQuerySyntax?: boolean;\n  enableWildcards?: boolean;\n  enableQuestionMarks?: boolean;\n  enableLowercaseOperators?: boolean;\n  enablePartialMatch?: boolean;\n  partialMatchKeywords?: number;\n  partialMatchThreshold?: string;\n  autoFocus?: boolean;\n  placeholder?: string;\n  triggerQueryOnClear?: boolean;\n}\n\n/**\n * A component that allows a user to enter a query inside an input.<br/>\n * The component will trigger a query when submitted (the 'Enter' keypress) and log the proper analytics data.<br/>\n * It must be instantiated on a div (and not directly on an input element) : This is for styling purpose (ghost type ahead, for example).\n */\nexport class Querybox extends Component {\n  static ID = 'Querybox';\n  /**\n   * The options for the Querybox.\n   * @componentOptions\n   */\n  public static options: IQueryboxOptions = {\n    /**\n     * Specify if search as you type should be enabled.<br/>\n     * Default to false.\n     */\n    enableSearchAsYouType: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    /**\n     * If enableSearchAsYouType is enabled, this option specify the delay (in ms) between a keypress and a query being triggered<br/>\n     * Default to 500 ms\n     */\n    searchAsYouTypeDelay: ComponentOptions.buildNumberOption({ defaultValue: 500, min: 0 }),\n    /**\n     * Specifies whether the Coveo Platform does try to interpret special query syntax such as field references in the query entered through the query box.<br/>\n     * This means that a\n     * The default value is true.\n     */\n    enableQuerySyntax: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies whether the Coveo Platform expands keywords containing wildcard characters (*) to the possible matching keywords to broaden the query.<br/>\n     * The default value is false.\n     */\n    enableWildcards: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    /**\n     * Specifies whether the Coveo Platform expands keywords containing question mark characters (?) to the possible matching keywords to broaden the query.<br/>\n     * The default value is false.\n     */\n    enableQuestionMarks: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    /**\n     * If true, the or and and keywords in the query box will be treated as boolean operators for the query when they are typed in lowercase.<br/>\n     * This applies for all operators<br/>\n     * Default value is false\n     */\n    enableLowercaseOperators: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    /**\n     * Specifies whether a query containing a large number of keywords (see partialMatchKeywords) is automatically converted to a partial match expression in order to match documents containing only a subset of the keywords (see partialMatchThreshold for defining the subset).<br/>\n     * The default value is false.\n     */\n    enablePartialMatch: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    /**\n     * When partial match is enabled, specifies the minimum number of keywords that must be present in the query to activate the partial match.<br/>\n     * The default value is 5.\n     */\n    partialMatchKeywords: ComponentOptions.buildNumberOption({ defaultValue: 5, min: 1 }),\n    /**\n     * When partial match is enabled, specifies either an absolute or percentage value indicating the minimum number of keywords a document must contain in order to match the query.<br/>\n     * The default value is 50%.\n     */\n    partialMatchThreshold: ComponentOptions.buildStringOption({ defaultValue: '50%' }),\n    /**\n     * Specifies whether or not to trigger a query when the searchbox is cleared.\n     * The default value is true.\n     */\n    triggerQueryOnClear: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n    * Specifies a placeholder for input.\n    */\n    placeholder: ComponentOptions.buildStringOption(),\n    /**\n    * Specifies whether the `QueryBox` gets the focus and is selected on initialization.\n    * The default value is `true`.\n    */\n    autoFocus: ComponentOptions.buildBooleanOption({ defaultValue: true })\n  }\n\n  public magicBox: Coveo.MagicBox.Instance;\n  private lastQuery: string;\n  private searchAsYouTypeTimeout: number;\n\n  /**\n   * Create a new Querybox.<br/>\n   * Create a new Coveo.Magicbox instance and wrap magic box method (on blur, on submit etc).<br/>\n   * Bind event on buildingQuery and on redirection (for standalone box).\n   * @param element The HTMLElement on which the element will be instantiated. This cannot be an HTMLInputElement for technical reason\n   * @param options The options for the querybox.\n   * @param bindings The bindings that the component requires to function normally. If not set, will automatically resolve them (With slower execution time)\n   */\n  constructor(public element: HTMLElement, public options?: IQueryboxOptions, public bindings?: IComponentBindings) {\n    super(element, Querybox.ID, bindings);\n\n    if (element instanceof HTMLInputElement) {\n      this.logger.error('QueryBox can\\'t be use on a HTMLInputElement');\n    }\n\n    this.options = ComponentOptions.initComponentOptions(element, Querybox, options);\n\n    this.magicBox = Coveo.MagicBox.create(element, new Coveo.MagicBox.Grammar('Query', {\n      Query: '[Term*][Spaces?]',\n      Term: '[Spaces?][Word]',\n      Spaces: / +/,\n      Word: /[^ ]+/\n    }), {\n        inline: true\n      });\n\n    this.bind.onRootElement(QueryEvents.buildingQuery, (args: IBuildingQueryEventArgs) => this.handleBuildingQuery(args));\n    this.bind.onRootElement(StandaloneSearchInterfaceEvents.beforeRedirect, () => this.updateQueryState());\n    this.bind.onQueryState(MODEL_EVENTS.CHANGE_ONE, QUERY_STATE_ATTRIBUTES.Q, (args: IAttributeChangedEventArg) => this.handleQueryStateChanged(args));\n\n    if (this.options.enableSearchAsYouType) {\n      $$(this.element).addClass('coveo-search-as-you-type');\n      this.magicBox.onchange = () => {\n        this.searchAsYouType();\n      };\n    }\n\n    this.magicBox.onsubmit = () => {\n      this.submit();\n    };\n\n    this.magicBox.onblur = () => {\n      this.updateQueryState();\n    };\n\n    this.magicBox.onclear = () => {\n      this.updateQueryState();\n      if (this.options.triggerQueryOnClear) {\n        this.usageAnalytics.logSearchEvent<IAnalyticsNoMeta>(analyticsActionCauseList.searchboxClear, {})\n        this.triggerNewQuery(false);\n      }\n    };\n\n    if (this.options.autoFocus) {\n      this.magicBox.focus();\n    }\n  }\n\n  /**\n   * Trigger a query. The current input content will be added to the query<br/>\n   * If the content of the input has not changed since the last submit, no new query will be triggered.\n   */\n  public submit(): void {\n    this.magicBox.clearSuggestion();\n    this.updateQueryState();\n    this.usageAnalytics.logSearchEvent<IAnalyticsNoMeta>(analyticsActionCauseList.searchboxSubmit, {})\n    this.triggerNewQuery(false);\n  }\n\n  /**\n   * Set the content of the input\n   * @param text The string to set in the input\n   */\n  public setText(text: string): void {\n    this.magicBox.setText(text);\n    this.updateQueryState();\n  }\n\n  /**\n   * Clear the content of the input\n   */\n  public clear(): void {\n    this.magicBox.clear();\n  }\n\n  /**\n   * Get the current content of the input\n   * @returns {string}\n   */\n  public getText(): string {\n    return this.magicBox.getText();\n  }\n\n  public getResult() {\n    return this.magicBox.getResult();\n  }\n\n  public getDisplayedResult() {\n    return this.magicBox.getDisplayedResult();\n  }\n\n  public getCursor(): number {\n    return this.magicBox.getCursor();\n  }\n\n  public resultAtCursor(match?: string | { (result): boolean; }) {\n    return this.magicBox.resultAtCursor(match);\n  }\n\n  private handleBuildingQuery(args: IBuildingQueryEventArgs): void {\n    Assert.exists(args);\n    Assert.exists(args.queryBuilder);\n\n    this.updateQueryState();\n    this.lastQuery = this.magicBox.getText();\n    new QueryboxQueryParameters(this.options).addParameters(args.queryBuilder, this.lastQuery);\n  }\n\n  private triggerNewQuery(searchAsYouType: boolean): void {\n    clearTimeout(this.searchAsYouTypeTimeout);\n    let text = this.magicBox.getText();\n    if (this.lastQuery != text && text != null) {\n      this.lastQuery = text;\n      this.queryController.executeQuery({\n        searchAsYouType: searchAsYouType,\n        logInActionsHistory: true\n      });\n    }\n  }\n\n  private updateQueryState(): void {\n    this.queryStateModel.set(QueryStateModel.attributesEnum.q, this.magicBox.getText());\n  }\n\n  private handleQueryStateChanged(args: IAttributeChangedEventArg): void {\n    Assert.exists(args);\n    let q = <string>args.value;\n    if (q != this.magicBox.getText()) {\n      this.magicBox.setText(q);\n    }\n  }\n\n  private searchAsYouType(): void {\n    clearTimeout(this.searchAsYouTypeTimeout);\n    this.searchAsYouTypeTimeout = setTimeout(() => {\n      this.usageAnalytics.logSearchAsYouType<IAnalyticsNoMeta>(analyticsActionCauseList.searchboxAsYouType, {})\n      this.triggerNewQuery(true);\n    }, this.options.searchAsYouTypeDelay);\n  }\n}\nInitialization.registerAutoCreateComponent(Querybox);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Querybox/Querybox.ts\n **/","l":{"1":1,"2":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"34":59,"35":1,"40":1,"116":58,"117":58,"119":58,"120":0,"123":58,"125":58,"134":58,"135":58,"136":58,"138":58,"139":4,"140":4,"141":3,"145":58,"146":0,"149":58,"150":1,"153":58,"154":3,"155":3,"156":2,"157":2,"161":58,"162":58,"170":1,"171":12,"172":12,"173":12,"174":12,"181":1,"182":22,"183":22,"189":1,"190":0,"197":1,"198":2,"201":1,"202":1,"205":1,"206":1,"209":1,"210":2,"213":1,"214":2,"217":1,"218":22,"219":22,"221":22,"222":22,"223":22,"226":1,"227":17,"228":17,"229":17,"230":11,"231":11,"238":1,"239":61,"242":1,"243":1,"244":1,"245":1,"246":1,"250":3,"251":3,"252":3,"253":3,"254":3,"257":1,"258":1}},"src/ui/Querybox/QueryboxQueryParameters.ts":{"path":"src/ui/Querybox/QueryboxQueryParameters.ts","statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":35,"column":1}},"2":{"start":{"line":5,"column":2},"end":{"line":6,"column":3}},"3":{"start":{"line":5,"column":22},"end":{"line":5,"column":47}},"4":{"start":{"line":8,"column":9},"end":{"line":34,"column":3}},"5":{"start":{"line":9,"column":4},"end":{"line":11,"column":5}},"6":{"start":{"line":10,"column":6},"end":{"line":10,"column":42}},"7":{"start":{"line":13,"column":4},"end":{"line":15,"column":5}},"8":{"start":{"line":14,"column":6},"end":{"line":14,"column":46}},"9":{"start":{"line":17,"column":4},"end":{"line":19,"column":5}},"10":{"start":{"line":18,"column":6},"end":{"line":18,"column":51}},"11":{"start":{"line":21,"column":4},"end":{"line":33,"column":5}},"12":{"start":{"line":22,"column":6},"end":{"line":22,"column":72}},"13":{"start":{"line":23,"column":6},"end":{"line":23,"column":45}},"14":{"start":{"line":24,"column":6},"end":{"line":32,"column":7}},"15":{"start":{"line":25,"column":8},"end":{"line":25,"column":74}},"16":{"start":{"line":26,"column":8},"end":{"line":28,"column":9}},"17":{"start":{"line":27,"column":10},"end":{"line":27,"column":80}},"18":{"start":{"line":29,"column":8},"end":{"line":31,"column":9}},"19":{"start":{"line":30,"column":10},"end":{"line":30,"column":82}},"20":{"start":{"line":35,"column":0},"end":{"line":35,"column":1}},"21":{"start":{"line":4,"column":13},"end":{"line":35,"column":1}}},"fnMap":{"1":{"name":"(anonymous_2558)","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"QueryboxQueryParameters","line":5,"loc":{"start":{"line":5,"column":2},"end":{"line":5,"column":47}}},"3":{"name":"(anonymous_2560)","line":8,"loc":{"start":{"line":8,"column":2},"end":{"line":8,"column":68}}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":3}},{"start":{"line":9,"column":4},"end":{"line":9,"column":3}}]},"2":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":4},"end":{"line":13,"column":3}},{"start":{"line":13,"column":4},"end":{"line":13,"column":3}}]},"3":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":3}},{"start":{"line":17,"column":4},"end":{"line":17,"column":3}}]},"4":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":3}},{"start":{"line":21,"column":4},"end":{"line":21,"column":3}}]},"5":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":6},"end":{"line":24,"column":5}},{"start":{"line":24,"column":6},"end":{"line":24,"column":5}}]},"6":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":8},"end":{"line":26,"column":7}},{"start":{"line":26,"column":8},"end":{"line":26,"column":7}}]},"7":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":8},"end":{"line":29,"column":7}},{"start":{"line":29,"column":8},"end":{"line":29,"column":7}}]}},"s":{"1":1,"2":1,"3":37,"4":1,"5":37,"6":3,"7":37,"8":3,"9":37,"10":3,"11":37,"12":23,"13":23,"14":23,"15":6,"16":6,"17":6,"18":6,"19":6,"20":1,"21":1},"b":{"1":[3,34],"2":[3,34],"3":[3,34],"4":[23,14],"5":[6,17],"6":[6,0],"7":[6,0]},"f":{"1":1,"2":37,"3":37},"code":"import {IQueryboxOptions} from './Querybox';\nimport {QueryBuilder} from '../Base/QueryBuilder';\n\nexport class QueryboxQueryParameters {\n  constructor(private options: IQueryboxOptions) {\n  }\n\n  public addParameters(queryBuilder: QueryBuilder, lastQuery: string) {\n    if (this.options.enableWildcards) {\n      queryBuilder.enableWildcards = true;\n    }\n\n    if (this.options.enableQuestionMarks) {\n      queryBuilder.enableQuestionMarks = true;\n    }\n\n    if (this.options.enableLowercaseOperators) {\n      queryBuilder.enableLowercaseOperators = true;\n    }\n\n    if (!_.isEmpty(lastQuery)) {\n      queryBuilder.disableQuerySyntax = !this.options.enableQuerySyntax;\n      queryBuilder.expression.add(lastQuery);\n      if (this.options.enablePartialMatch) {\n        queryBuilder.enablePartialMatch = this.options.enablePartialMatch;\n        if (this.options.partialMatchKeywords) {\n          queryBuilder.partialMatchKeywords = this.options.partialMatchKeywords;\n        }\n        if (this.options.partialMatchThreshold) {\n          queryBuilder.partialMatchThreshold = this.options.partialMatchThreshold;\n        }\n      }\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Querybox/QueryboxQueryParameters.ts\n **/","l":{"4":1,"5":37,"8":1,"9":37,"10":3,"13":37,"14":3,"17":37,"18":3,"21":37,"22":23,"23":23,"24":23,"25":6,"26":6,"27":6,"29":6,"30":6,"35":1}},"src/ui/SearchButton/SearchButton.ts":{"path":"src/ui/SearchButton/SearchButton.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":35}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":96}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":54}},"7":{"start":{"line":17,"column":0},"end":{"line":52,"column":1}},"8":{"start":{"line":17,"column":34},"end":{"line":17,"column":43}},"9":{"start":{"line":30,"column":2},"end":{"line":38,"column":3}},"10":{"start":{"line":31,"column":4},"end":{"line":31,"column":46}},"11":{"start":{"line":30,"column":21},"end":{"line":30,"column":41}},"12":{"start":{"line":30,"column":50},"end":{"line":30,"column":80}},"13":{"start":{"line":33,"column":4},"end":{"line":33,"column":61}},"14":{"start":{"line":33,"column":41},"end":{"line":33,"column":59}},"15":{"start":{"line":35,"column":4},"end":{"line":37,"column":5}},"16":{"start":{"line":36,"column":6},"end":{"line":36,"column":82}},"17":{"start":{"line":43,"column":9},"end":{"line":45,"column":3}},"18":{"start":{"line":44,"column":4},"end":{"line":44,"column":23}},"19":{"start":{"line":47,"column":10},"end":{"line":51,"column":3}},"20":{"start":{"line":48,"column":4},"end":{"line":48,"column":65}},"21":{"start":{"line":49,"column":4},"end":{"line":49,"column":103}},"22":{"start":{"line":50,"column":4},"end":{"line":50,"column":40}},"23":{"start":{"line":18,"column":9},"end":{"line":18,"column":29}},"24":{"start":{"line":20,"column":9},"end":{"line":20,"column":43}},"25":{"start":{"line":52,"column":0},"end":{"line":52,"column":1}},"26":{"start":{"line":17,"column":13},"end":{"line":52,"column":1}},"27":{"start":{"line":54,"column":0},"end":{"line":54,"column":57}}},"fnMap":{"1":{"name":"(anonymous_2564)","line":17,"loc":{"start":{"line":17,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"SearchButton","line":30,"loc":{"start":{"line":30,"column":2},"end":{"line":30,"column":111}}},"3":{"name":"(anonymous_2566)","line":33,"loc":{"start":{"line":33,"column":35},"end":{"line":33,"column":40}}},"4":{"name":"(anonymous_2567)","line":43,"loc":{"start":{"line":43,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_2568)","line":47,"loc":{"start":{"line":47,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":4},"end":{"line":35,"column":3}},{"start":{"line":35,"column":4},"end":{"line":35,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":4,"8":1,"9":1,"10":3,"11":3,"12":3,"13":3,"14":0,"15":3,"16":3,"17":1,"18":2,"19":1,"20":2,"21":2,"22":2,"23":1,"24":1,"25":1,"26":1,"27":1},"b":{"1":[3,0]},"f":{"1":1,"2":3,"3":0,"4":2,"5":2},"code":"import {Component} from '../Base/Component';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {Utils} from '../../utils/Utils';\nimport {$$} from '../../utils/Dom';\nimport {l} from '../../strings/Strings';\nimport {IAnalyticsNoMeta, analyticsActionCauseList} from '../Analytics/AnalyticsActionListMeta';\nimport {Initialization} from '../Base/Initialization';\n\nexport interface ISearchButtonOptions {\n}\n\n/**\n * A component that allows user to trigger a query by clicking on it.<br/>\n * This component will instantiate on an element and add a search icon.<br/>\n * It will also sends an analytics event to the coveo platform when clicked.\n */\nexport class SearchButton extends Component {\n  static ID = 'SearchButton';\n\n  static options: ISearchButtonOptions = {}\n\n  /**\n   * Create a new SearchButton on the given element with the given options\n   * Bind a click event on the element\n   * Adds a search icon on the element\n   * @param element\n   * @param options\n   * @param bindings\n   */\n  constructor(public element: HTMLElement, public options?: ISearchButtonOptions, bindings?: IComponentBindings) {\n    super(element, SearchButton.ID, bindings);\n\n    this.bind.on(element, 'click', () => this.handleClick());\n    // Provide a magnifier icon if element contains nothing\n    if (Utils.trim($$(this.element).text()) == '') {\n      element.innerHTML = '<span class=\\'coveo-icon\\'>' + l('Search') + '</span>';\n    }\n  }\n\n  /**\n   * Trigger the click handler\n   */\n  public click() {\n    this.handleClick();\n  }\n\n  private handleClick() {\n    this.logger.debug('Performing query following button click');\n    this.usageAnalytics.logSearchEvent<IAnalyticsNoMeta>(analyticsActionCauseList.searchboxSubmit, {});\n    this.queryController.executeQuery();\n  }\n}\n\nInitialization.registerAutoCreateComponent(SearchButton);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/SearchButton/SearchButton.ts\n **/","l":{"1":1,"3":1,"4":1,"5":1,"6":1,"7":1,"17":4,"18":1,"20":1,"30":3,"31":3,"33":3,"35":3,"36":3,"43":1,"44":2,"47":1,"48":2,"49":2,"50":2,"52":1,"54":1}},"src/ui/Searchbox/Searchbox.ts":{"path":"src/ui/Searchbox/Searchbox.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":44}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":43}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":58}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":58}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":46}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":35}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":54}},"8":{"start":{"line":21,"column":0},"end":{"line":86,"column":1}},"9":{"start":{"line":21,"column":31},"end":{"line":21,"column":40}},"10":{"start":{"line":62,"column":2},"end":{"line":85,"column":3}},"11":{"start":{"line":63,"column":4},"end":{"line":63,"column":43}},"12":{"start":{"line":62,"column":21},"end":{"line":62,"column":41}},"13":{"start":{"line":62,"column":50},"end":{"line":62,"column":77}},"14":{"start":{"line":65,"column":4},"end":{"line":65,"column":86}},"15":{"start":{"line":67,"column":4},"end":{"line":69,"column":5}},"16":{"start":{"line":68,"column":6},"end":{"line":68,"column":43}},"17":{"start":{"line":71,"column":4},"end":{"line":75,"column":5}},"18":{"start":{"line":72,"column":6},"end":{"line":72,"column":47}},"19":{"start":{"line":73,"column":6},"end":{"line":73,"column":39}},"20":{"start":{"line":74,"column":6},"end":{"line":74,"column":72}},"21":{"start":{"line":77,"column":4},"end":{"line":77,"column":44}},"22":{"start":{"line":78,"column":4},"end":{"line":78,"column":34}},"23":{"start":{"line":80,"column":4},"end":{"line":84,"column":5}},"24":{"start":{"line":81,"column":6},"end":{"line":81,"column":63}},"25":{"start":{"line":83,"column":6},"end":{"line":83,"column":64}},"26":{"start":{"line":22,"column":9},"end":{"line":22,"column":26}},"27":{"start":{"line":23,"column":9},"end":{"line":23,"column":26}},"28":{"start":{"line":29,"column":9},"end":{"line":41,"column":3}},"29":{"start":{"line":86,"column":0},"end":{"line":86,"column":1}},"30":{"start":{"line":21,"column":13},"end":{"line":86,"column":1}},"31":{"start":{"line":88,"column":0},"end":{"line":88,"column":87}},"32":{"start":{"line":91,"column":0},"end":{"line":95,"column":3}},"33":{"start":{"line":92,"column":2},"end":{"line":94,"column":3}},"34":{"start":{"line":93,"column":4},"end":{"line":93,"column":74}},"35":{"start":{"line":97,"column":0},"end":{"line":97,"column":54}}},"fnMap":{"1":{"name":"(anonymous_2573)","line":21,"loc":{"start":{"line":21,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Searchbox","line":62,"loc":{"start":{"line":62,"column":2},"end":{"line":62,"column":108}}},"3":{"name":"(anonymous_2575)","line":91,"loc":{"start":{"line":91,"column":26},"end":{"line":91,"column":45}}}},"branchMap":{"1":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":4},"end":{"line":67,"column":3}},{"start":{"line":67,"column":4},"end":{"line":67,"column":3}}]},"2":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":4},"end":{"line":71,"column":3}},{"start":{"line":71,"column":4},"end":{"line":71,"column":3}}]},"3":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":4},"end":{"line":80,"column":3}},{"start":{"line":80,"column":4},"end":{"line":80,"column":3}}]},"4":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":2},"end":{"line":92,"column":1}},{"start":{"line":92,"column":2},"end":{"line":92,"column":1}}]},"5":{"line":92,"type":"binary-expr","locations":[{"start":{"line":92,"column":6},"end":{"line":92,"column":28}},{"start":{"line":92,"column":32},"end":{"line":92,"column":58}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":21,"34":7,"35":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[7,14],"5":[21,19]},"f":{"1":1,"2":0,"3":21},"code":"import {IOmniboxOptions} from '../Omnibox/Omnibox';\nimport {Component} from '../Base/Component';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {Omnibox} from '../Omnibox/Omnibox';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {SearchButton} from '../SearchButton/SearchButton';\nimport {Querybox} from '../Querybox/Querybox';\nimport {$$} from '../../utils/Dom';\nimport {Initialization} from '../Base/Initialization';\n\nexport interface ISearchboxOptions extends IOmniboxOptions {\n  addSearchButton?: boolean;\n  enableOmnibox?: boolean;\n}\n\n/**\n * This component is mostly used for simplicity purpose because it creates 2 component that are very frequently used together.<br/>\n * This component attaches itself to a div and takes care of instantiating a {@link Querybox} Component or a {@link Omnibox} Component, depending on the options.<br/>\n * Add a {@link SearchButton} Component if desired, and appends them to the same div.\n */\nexport class Searchbox extends Component {\n  static ID = 'Searchbox';\n  static parent = Omnibox;\n\n  /**\n   * Possible options for the {@link Searchbox}\n   * @componentOptions\n   */\n  static options: ISearchboxOptions = {\n    /**\n     * Specifies whether the search box instantiates a {@link SearchButton}.<br/>\n     * Default value is true.\n     */\n    addSearchButton: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies whether the search box instantiates a {@link Omnibox} Component.<br/>\n     * Otherwise, the search box instantiates a {@link Querybox} Component.<br/>\n     * Default value is false.\n     */\n    enableOmnibox: ComponentOptions.buildBooleanOption({ defaultValue: false })\n  }\n\n  /**\n   * Instance of the {@link SearchButton}\n   */\n  public searchButton: SearchButton;\n\n  /**\n   * Instance of compomnent that allows user to input query.<br/>\n   * Can be a {@link Querybox} or {@link Omnibox}\n   */\n  public searchbox: Querybox | Omnibox;\n\n  /**\n   * Create a new Searchbox<br/>\n   * Create a new Coveo.Magicbox instance and wrap magic box method (on blur, on submit etc)<br/>\n   * Bind event on buildingQuery and on redirection (for standalone box)\n   * @param element The HTMLElement on which the element will be instantiated. This cannot be an HTMLInputElement for technical reason\n   * @param options The options for the component. Will be merged with the options from the component set directly on the HTMLElement\n   * @param bindings The bindings that the component requires to function normally. If not set, will automatically resolve them (With slower execution time)\n   */\n  constructor(public element: HTMLElement, public options?: ISearchboxOptions, bindings?: IComponentBindings) {\n    super(element, Searchbox.ID, bindings);\n\n    this.options = ComponentOptions.initComponentOptions(element, Searchbox, options);\n\n    if (this.options.inline) {\n      $$(element).addClass('coveo-inline');\n    }\n\n    if (this.options.addSearchButton) {\n      var anchor = document.createElement('a');\n      this.element.appendChild(anchor);\n      this.searchButton = new SearchButton(anchor, undefined, bindings);\n    }\n\n    var div = document.createElement('div');\n    this.element.appendChild(div);\n\n    if (this.options.enableOmnibox) {\n      this.searchbox = new Omnibox(div, this.options, bindings)\n    } else {\n      this.searchbox = new Querybox(div, this.options, bindings)\n    }\n  }\n}\n\nSearchbox.options = _.extend({}, Searchbox.options, Omnibox.options, Querybox.options);\n\n// Only parse omnibox option if omnibox is enabled\n_.each(Searchbox.options, (value, key: string) => {\n  if (key in Omnibox.options && !(key in Querybox.options)) {\n    Searchbox.options[key] = _.extend({ depend: 'enableOmnibox' }, value);\n  }\n});\n\nInitialization.registerAutoCreateComponent(Searchbox);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Searchbox/Searchbox.ts\n **/","l":{"2":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"21":1,"22":1,"23":1,"29":1,"62":1,"63":0,"65":0,"67":0,"68":0,"71":0,"72":0,"73":0,"74":0,"77":0,"78":0,"80":0,"81":0,"83":0,"86":1,"88":1,"91":1,"92":21,"93":7,"97":1}},"src/ui/Omnibox/Omnibox.ts":{"path":"src/ui/Omnibox/Omnibox.ts","statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":44}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":58}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":78}},"4":{"start":{"line":10,"column":0},"end":{"line":10,"column":93}},"5":{"start":{"line":11,"column":0},"end":{"line":11,"column":75}},"6":{"start":{"line":12,"column":0},"end":{"line":12,"column":68}},"7":{"start":{"line":13,"column":0},"end":{"line":13,"column":129}},"8":{"start":{"line":14,"column":0},"end":{"line":14,"column":100}},"9":{"start":{"line":15,"column":0},"end":{"line":15,"column":35}},"10":{"start":{"line":16,"column":0},"end":{"line":16,"column":41}},"11":{"start":{"line":17,"column":0},"end":{"line":17,"column":61}},"12":{"start":{"line":18,"column":0},"end":{"line":18,"column":54}},"13":{"start":{"line":19,"column":0},"end":{"line":19,"column":46}},"14":{"start":{"line":20,"column":0},"end":{"line":20,"column":40}},"15":{"start":{"line":21,"column":0},"end":{"line":21,"column":58}},"16":{"start":{"line":22,"column":0},"end":{"line":22,"column":66}},"17":{"start":{"line":23,"column":0},"end":{"line":23,"column":50}},"18":{"start":{"line":24,"column":0},"end":{"line":24,"column":76}},"19":{"start":{"line":27,"column":0},"end":{"line":27,"column":97}},"20":{"start":{"line":28,"column":0},"end":{"line":28,"column":40}},"21":{"start":{"line":29,"column":0},"end":{"line":29,"column":51}},"22":{"start":{"line":58,"column":0},"end":{"line":567,"column":1}},"23":{"start":{"line":58,"column":29},"end":{"line":58,"column":38}},"24":{"start":{"line":132,"column":2},"end":{"line":181,"column":3}},"25":{"start":{"line":133,"column":4},"end":{"line":133,"column":41}},"26":{"start":{"line":132,"column":21},"end":{"line":132,"column":41}},"27":{"start":{"line":132,"column":50},"end":{"line":132,"column":75}},"28":{"start":{"line":122,"column":10},"end":{"line":122,"column":40}},"29":{"start":{"line":123,"column":10},"end":{"line":123,"column":53}},"30":{"start":{"line":126,"column":10},"end":{"line":126,"column":28}},"31":{"start":{"line":135,"column":4},"end":{"line":135,"column":84}},"32":{"start":{"line":137,"column":4},"end":{"line":137,"column":96}},"33":{"start":{"line":139,"column":4},"end":{"line":154,"column":5}},"34":{"start":{"line":140,"column":6},"end":{"line":140,"column":74}},"35":{"start":{"line":142,"column":6},"end":{"line":144,"column":7}},"36":{"start":{"line":143,"column":8},"end":{"line":143,"column":29}},"37":{"start":{"line":145,"column":6},"end":{"line":148,"column":7}},"38":{"start":{"line":146,"column":8},"end":{"line":146,"column":68}},"39":{"start":{"line":147,"column":8},"end":{"line":147,"column":102}},"40":{"start":{"line":149,"column":6},"end":{"line":151,"column":7}},"41":{"start":{"line":150,"column":8},"end":{"line":150,"column":38}},"42":{"start":{"line":153,"column":6},"end":{"line":153,"column":61}},"43":{"start":{"line":156,"column":4},"end":{"line":158,"column":5}},"44":{"start":{"line":157,"column":6},"end":{"line":157,"column":40}},"45":{"start":{"line":160,"column":4},"end":{"line":160,"column":30}},"46":{"start":{"line":162,"column":4},"end":{"line":164,"column":5}},"47":{"start":{"line":163,"column":6},"end":{"line":163,"column":46}},"48":{"start":{"line":166,"column":4},"end":{"line":171,"column":7}},"49":{"start":{"line":173,"column":4},"end":{"line":173,"column":122}},"50":{"start":{"line":173,"column":90},"end":{"line":173,"column":120}},"51":{"start":{"line":174,"column":4},"end":{"line":174,"column":111}},"52":{"start":{"line":174,"column":82},"end":{"line":174,"column":109}},"53":{"start":{"line":175,"column":4},"end":{"line":175,"column":87}},"54":{"start":{"line":175,"column":60},"end":{"line":175,"column":85}},"55":{"start":{"line":176,"column":4},"end":{"line":176,"column":151}},"56":{"start":{"line":176,"column":115},"end":{"line":176,"column":149}},"57":{"start":{"line":177,"column":4},"end":{"line":179,"column":5}},"58":{"start":{"line":178,"column":6},"end":{"line":178,"column":118}},"59":{"start":{"line":178,"column":88},"end":{"line":178,"column":116}},"60":{"start":{"line":180,"column":4},"end":{"line":180,"column":25}},"61":{"start":{"line":187,"column":9},"end":{"line":193,"column":3}},"62":{"start":{"line":187,"column":2},"end":{"line":193,"column":3}},"63":{"start":{"line":188,"column":4},"end":{"line":188,"column":36}},"64":{"start":{"line":189,"column":4},"end":{"line":189,"column":28}},"65":{"start":{"line":190,"column":4},"end":{"line":192,"column":7}},"66":{"start":{"line":191,"column":6},"end":{"line":191,"column":104}},"67":{"start":{"line":199,"column":9},"end":{"line":201,"column":3}},"68":{"start":{"line":200,"column":4},"end":{"line":200,"column":35}},"69":{"start":{"line":207,"column":9},"end":{"line":210,"column":3}},"70":{"start":{"line":208,"column":4},"end":{"line":208,"column":32}},"71":{"start":{"line":209,"column":4},"end":{"line":209,"column":28}},"72":{"start":{"line":215,"column":9},"end":{"line":217,"column":3}},"73":{"start":{"line":216,"column":4},"end":{"line":216,"column":26}},"74":{"start":{"line":222,"column":9},"end":{"line":224,"column":3}},"75":{"start":{"line":223,"column":4},"end":{"line":223,"column":74}},"76":{"start":{"line":226,"column":9},"end":{"line":228,"column":3}},"77":{"start":{"line":227,"column":4},"end":{"line":227,"column":37}},"78":{"start":{"line":230,"column":9},"end":{"line":232,"column":3}},"79":{"start":{"line":231,"column":4},"end":{"line":231,"column":46}},"80":{"start":{"line":234,"column":9},"end":{"line":236,"column":3}},"81":{"start":{"line":235,"column":4},"end":{"line":235,"column":37}},"82":{"start":{"line":238,"column":9},"end":{"line":240,"column":3}},"83":{"start":{"line":239,"column":4},"end":{"line":239,"column":47}},"84":{"start":{"line":242,"column":10},"end":{"line":337,"column":3}},"85":{"start":{"line":242,"column":2},"end":{"line":337,"column":3}},"86":{"start":{"line":243,"column":4},"end":{"line":249,"column":5}},"87":{"start":{"line":245,"column":6},"end":{"line":247,"column":7}},"88":{"start":{"line":246,"column":8},"end":{"line":246,"column":71}},"89":{"start":{"line":248,"column":6},"end":{"line":248,"column":28}},"90":{"start":{"line":251,"column":4},"end":{"line":267,"column":5}},"91":{"start":{"line":254,"column":6},"end":{"line":256,"column":7}},"92":{"start":{"line":255,"column":8},"end":{"line":255,"column":33}},"93":{"start":{"line":257,"column":6},"end":{"line":257,"column":29}},"94":{"start":{"line":258,"column":6},"end":{"line":261,"column":22}},"95":{"start":{"line":260,"column":10},"end":{"line":260,"column":65}},"96":{"start":{"line":262,"column":6},"end":{"line":262,"column":41}},"97":{"start":{"line":264,"column":6},"end":{"line":266,"column":7}},"98":{"start":{"line":265,"column":8},"end":{"line":265,"column":31}},"99":{"start":{"line":268,"column":4},"end":{"line":273,"column":5}},"100":{"start":{"line":269,"column":6},"end":{"line":269,"column":69}},"101":{"start":{"line":270,"column":6},"end":{"line":272,"column":8}},"102":{"start":{"line":271,"column":8},"end":{"line":271,"column":31}},"103":{"start":{"line":274,"column":4},"end":{"line":276,"column":5}},"104":{"start":{"line":275,"column":25},"end":{"line":275,"column":110}},"105":{"start":{"line":277,"column":4},"end":{"line":283,"column":6}},"106":{"start":{"line":278,"column":6},"end":{"line":278,"column":38}},"107":{"start":{"line":279,"column":6},"end":{"line":279,"column":30}},"108":{"start":{"line":280,"column":6},"end":{"line":282,"column":9}},"109":{"start":{"line":281,"column":8},"end":{"line":281,"column":106}},"110":{"start":{"line":285,"column":4},"end":{"line":311,"column":5}},"111":{"start":{"line":286,"column":6},"end":{"line":286,"column":62}},"112":{"start":{"line":287,"column":6},"end":{"line":287,"column":85}},"113":{"start":{"line":287,"column":68},"end":{"line":287,"column":83}},"114":{"start":{"line":288,"column":6},"end":{"line":288,"column":38}},"115":{"start":{"line":289,"column":6},"end":{"line":289,"column":30}},"116":{"start":{"line":296,"column":6},"end":{"line":305,"column":7}},"117":{"start":{"line":297,"column":8},"end":{"line":297,"column":53}},"118":{"start":{"line":298,"column":8},"end":{"line":300,"column":11}},"119":{"start":{"line":299,"column":10},"end":{"line":299,"column":180}},"120":{"start":{"line":301,"column":13},"end":{"line":305,"column":7}},"121":{"start":{"line":302,"column":8},"end":{"line":302,"column":72}},"122":{"start":{"line":303,"column":13},"end":{"line":305,"column":7}},"123":{"start":{"line":304,"column":8},"end":{"line":304,"column":70}},"124":{"start":{"line":308,"column":6},"end":{"line":310,"column":7}},"125":{"start":{"line":309,"column":8},"end":{"line":309,"column":33}},"126":{"start":{"line":313,"column":4},"end":{"line":322,"column":6}},"127":{"start":{"line":314,"column":6},"end":{"line":318,"column":7}},"128":{"start":{"line":315,"column":8},"end":{"line":315,"column":37}},"129":{"start":{"line":317,"column":8},"end":{"line":317,"column":32}},"130":{"start":{"line":319,"column":6},"end":{"line":321,"column":7}},"131":{"start":{"line":320,"column":8},"end":{"line":320,"column":51}},"132":{"start":{"line":324,"column":4},"end":{"line":331,"column":6}},"133":{"start":{"line":325,"column":6},"end":{"line":325,"column":30}},"134":{"start":{"line":326,"column":6},"end":{"line":330,"column":7}},"135":{"start":{"line":327,"column":8},"end":{"line":329,"column":11}},"136":{"start":{"line":328,"column":10},"end":{"line":328,"column":107}},"137":{"start":{"line":333,"column":4},"end":{"line":335,"column":5}},"138":{"start":{"line":334,"column":6},"end":{"line":334,"column":28}},"139":{"start":{"line":336,"column":4},"end":{"line":336,"column":66}},"140":{"start":{"line":336,"column":41},"end":{"line":336,"column":65}},"141":{"start":{"line":339,"column":10},"end":{"line":347,"column":3}},"142":{"start":{"line":345,"column":4},"end":{"line":345,"column":55}},"143":{"start":{"line":346,"column":4},"end":{"line":346,"column":47}},"144":{"start":{"line":349,"column":10},"end":{"line":365,"column":3}},"145":{"start":{"line":349,"column":2},"end":{"line":365,"column":3}},"146":{"start":{"line":350,"column":4},"end":{"line":364,"column":5}},"147":{"start":{"line":354,"column":6},"end":{"line":354,"column":51}},"148":{"start":{"line":355,"column":6},"end":{"line":357,"column":8}},"149":{"start":{"line":356,"column":8},"end":{"line":356,"column":145}},"150":{"start":{"line":361,"column":6},"end":{"line":361,"column":69}},"151":{"start":{"line":362,"column":6},"end":{"line":362,"column":57}},"152":{"start":{"line":363,"column":6},"end":{"line":363,"column":49}},"153":{"start":{"line":367,"column":10},"end":{"line":375,"column":3}},"154":{"start":{"line":368,"column":4},"end":{"line":368,"column":65}},"155":{"start":{"line":369,"column":4},"end":{"line":374,"column":5}},"156":{"start":{"line":370,"column":6},"end":{"line":370,"column":84}},"157":{"start":{"line":371,"column":6},"end":{"line":373,"column":8}},"158":{"start":{"line":372,"column":44},"end":{"line":372,"column":94}},"159":{"start":{"line":377,"column":10},"end":{"line":384,"column":3}},"160":{"start":{"line":378,"column":4},"end":{"line":383,"column":5}},"161":{"start":{"line":386,"column":10},"end":{"line":417,"column":3}},"162":{"start":{"line":386,"column":45},"end":{"line":386,"column":63}},"163":{"start":{"line":388,"column":4},"end":{"line":390,"column":7}},"164":{"start":{"line":389,"column":6},"end":{"line":389,"column":53}},"165":{"start":{"line":394,"column":4},"end":{"line":396,"column":7}},"166":{"start":{"line":395,"column":6},"end":{"line":395,"column":39}},"167":{"start":{"line":399,"column":4},"end":{"line":399,"column":41}},"168":{"start":{"line":400,"column":4},"end":{"line":406,"column":10}},"169":{"start":{"line":401,"column":6},"end":{"line":401,"column":45}},"170":{"start":{"line":402,"column":6},"end":{"line":404,"column":7}},"171":{"start":{"line":403,"column":8},"end":{"line":403,"column":50}},"172":{"start":{"line":405,"column":6},"end":{"line":405,"column":24}},"173":{"start":{"line":407,"column":4},"end":{"line":407,"column":52}},"174":{"start":{"line":408,"column":4},"end":{"line":408,"column":32}},"175":{"start":{"line":412,"column":4},"end":{"line":414,"column":5}},"176":{"start":{"line":413,"column":6},"end":{"line":413,"column":62}},"177":{"start":{"line":416,"column":4},"end":{"line":416,"column":29}},"178":{"start":{"line":419,"column":10},"end":{"line":430,"column":3}},"179":{"start":{"line":420,"column":4},"end":{"line":423,"column":6}},"180":{"start":{"line":424,"column":4},"end":{"line":424,"column":100}},"181":{"start":{"line":425,"column":4},"end":{"line":425,"column":30}},"182":{"start":{"line":426,"column":4},"end":{"line":428,"column":5}},"183":{"start":{"line":427,"column":6},"end":{"line":427,"column":37}},"184":{"start":{"line":429,"column":4},"end":{"line":429,"column":44}},"185":{"start":{"line":432,"column":10},"end":{"line":434,"column":3}},"186":{"start":{"line":433,"column":4},"end":{"line":433,"column":28}},"187":{"start":{"line":436,"column":10},"end":{"line":464,"column":3}},"188":{"start":{"line":436,"column":2},"end":{"line":464,"column":3}},"189":{"start":{"line":437,"column":4},"end":{"line":437,"column":24}},"190":{"start":{"line":438,"column":4},"end":{"line":438,"column":37}},"191":{"start":{"line":439,"column":4},"end":{"line":439,"column":28}},"192":{"start":{"line":440,"column":4},"end":{"line":440,"column":57}},"193":{"start":{"line":442,"column":4},"end":{"line":442,"column":198}},"194":{"start":{"line":443,"column":4},"end":{"line":445,"column":6}},"195":{"start":{"line":447,"column":4},"end":{"line":459,"column":5}},"196":{"start":{"line":448,"column":6},"end":{"line":448,"column":95}},"197":{"start":{"line":449,"column":6},"end":{"line":449,"column":129}},"198":{"start":{"line":449,"column":64},"end":{"line":449,"column":127}},"199":{"start":{"line":450,"column":6},"end":{"line":458,"column":7}},"200":{"start":{"line":451,"column":8},"end":{"line":451,"column":163}},"201":{"start":{"line":451,"column":104},"end":{"line":451,"column":161}},"202":{"start":{"line":452,"column":8},"end":{"line":457,"column":11}},"203":{"start":{"line":453,"column":10},"end":{"line":453,"column":132}},"204":{"start":{"line":453,"column":81},"end":{"line":453,"column":130}},"205":{"start":{"line":454,"column":10},"end":{"line":456,"column":11}},"206":{"start":{"line":455,"column":12},"end":{"line":455,"column":58}},"207":{"start":{"line":461,"column":4},"end":{"line":461,"column":112}},"208":{"start":{"line":462,"column":4},"end":{"line":462,"column":63}},"209":{"start":{"line":463,"column":4},"end":{"line":463,"column":86}},"210":{"start":{"line":467,"column":10},"end":{"line":478,"column":3}},"211":{"start":{"line":468,"column":4},"end":{"line":468,"column":46}},"212":{"start":{"line":469,"column":4},"end":{"line":469,"column":46}},"213":{"start":{"line":470,"column":4},"end":{"line":477,"column":5}},"214":{"start":{"line":471,"column":6},"end":{"line":471,"column":28}},"215":{"start":{"line":472,"column":6},"end":{"line":472,"column":23}},"216":{"start":{"line":473,"column":6},"end":{"line":476,"column":9}},"217":{"start":{"line":480,"column":10},"end":{"line":492,"column":3}},"218":{"start":{"line":481,"column":4},"end":{"line":481,"column":21}},"219":{"start":{"line":482,"column":4},"end":{"line":490,"column":5}},"220":{"start":{"line":483,"column":6},"end":{"line":483,"column":48}},"221":{"start":{"line":484,"column":6},"end":{"line":489,"column":7}},"222":{"start":{"line":485,"column":8},"end":{"line":485,"column":119}},"223":{"start":{"line":485,"column":94},"end":{"line":485,"column":117}},"224":{"start":{"line":486,"column":8},"end":{"line":488,"column":9}},"225":{"start":{"line":487,"column":10},"end":{"line":487,"column":38}},"226":{"start":{"line":491,"column":4},"end":{"line":491,"column":44}},"227":{"start":{"line":494,"column":9},"end":{"line":496,"column":3}},"228":{"start":{"line":495,"column":4},"end":{"line":495,"column":88}},"229":{"start":{"line":498,"column":10},"end":{"line":504,"column":3}},"230":{"start":{"line":499,"column":4},"end":{"line":499,"column":24}},"231":{"start":{"line":500,"column":4},"end":{"line":500,"column":31}},"232":{"start":{"line":501,"column":4},"end":{"line":503,"column":5}},"233":{"start":{"line":502,"column":6},"end":{"line":502,"column":31}},"234":{"start":{"line":506,"column":10},"end":{"line":510,"column":3}},"235":{"start":{"line":507,"column":4},"end":{"line":509,"column":5}},"236":{"start":{"line":508,"column":6},"end":{"line":508,"column":31}},"237":{"start":{"line":512,"column":10},"end":{"line":529,"column":3}},"238":{"start":{"line":512,"column":2},"end":{"line":529,"column":3}},"239":{"start":{"line":514,"column":4},"end":{"line":528,"column":6}},"240":{"start":{"line":516,"column":6},"end":{"line":516,"column":69}},"241":{"start":{"line":517,"column":6},"end":{"line":527,"column":7}},"242":{"start":{"line":518,"column":44},"end":{"line":526,"column":10}},"243":{"start":{"line":520,"column":10},"end":{"line":525,"column":12}},"244":{"start":{"line":521,"column":12},"end":{"line":524,"column":13}},"245":{"start":{"line":522,"column":14},"end":{"line":522,"column":55}},"246":{"start":{"line":523,"column":14},"end":{"line":523,"column":40}},"247":{"start":{"line":531,"column":10},"end":{"line":562,"column":3}},"248":{"start":{"line":531,"column":2},"end":{"line":562,"column":3}},"249":{"start":{"line":532,"column":4},"end":{"line":532,"column":46}},"250":{"start":{"line":533,"column":4},"end":{"line":561,"column":5}},"251":{"start":{"line":534,"column":6},"end":{"line":534,"column":13}},"252":{"start":{"line":535,"column":11},"end":{"line":561,"column":5}},"253":{"start":{"line":536,"column":6},"end":{"line":536,"column":85}},"254":{"start":{"line":536,"column":68},"end":{"line":536,"column":83}},"255":{"start":{"line":537,"column":6},"end":{"line":537,"column":76}},"256":{"start":{"line":538,"column":6},"end":{"line":540,"column":9}},"257":{"start":{"line":539,"column":8},"end":{"line":539,"column":184}},"258":{"start":{"line":541,"column":11},"end":{"line":561,"column":5}},"259":{"start":{"line":542,"column":6},"end":{"line":544,"column":9}},"260":{"start":{"line":543,"column":8},"end":{"line":543,"column":113}},"261":{"start":{"line":546,"column":6},"end":{"line":560,"column":44}},"262":{"start":{"line":547,"column":8},"end":{"line":547,"column":39}},"263":{"start":{"line":548,"column":8},"end":{"line":558,"column":9}},"264":{"start":{"line":549,"column":10},"end":{"line":549,"column":89}},"265":{"start":{"line":549,"column":72},"end":{"line":549,"column":87}},"266":{"start":{"line":550,"column":10},"end":{"line":550,"column":80}},"267":{"start":{"line":551,"column":10},"end":{"line":553,"column":11}},"268":{"start":{"line":552,"column":12},"end":{"line":552,"column":188}},"269":{"start":{"line":555,"column":10},"end":{"line":557,"column":11}},"270":{"start":{"line":556,"column":12},"end":{"line":556,"column":117}},"271":{"start":{"line":559,"column":8},"end":{"line":559,"column":51}},"272":{"start":{"line":564,"column":10},"end":{"line":566,"column":3}},"273":{"start":{"line":565,"column":4},"end":{"line":565,"column":92}},"274":{"start":{"line":59,"column":16},"end":{"line":59,"column":31}},"275":{"start":{"line":65,"column":9},"end":{"line":119,"column":3}},"276":{"start":{"line":567,"column":0},"end":{"line":567,"column":1}},"277":{"start":{"line":58,"column":13},"end":{"line":567,"column":1}},"278":{"start":{"line":569,"column":0},"end":{"line":569,"column":66}},"279":{"start":{"line":570,"column":0},"end":{"line":570,"column":52}}},"fnMap":{"1":{"name":"(anonymous_2580)","line":58,"loc":{"start":{"line":58,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Omnibox","line":132,"loc":{"start":{"line":132,"column":2},"end":{"line":132,"column":106}}},"3":{"name":"(anonymous_2582)","line":173,"loc":{"start":{"line":173,"column":55},"end":{"line":173,"column":85}}},"4":{"name":"(anonymous_2583)","line":174,"loc":{"start":{"line":174,"column":76},"end":{"line":174,"column":81}}},"5":{"name":"(anonymous_2584)","line":175,"loc":{"start":{"line":175,"column":54},"end":{"line":175,"column":59}}},"6":{"name":"(anonymous_2585)","line":176,"loc":{"start":{"line":176,"column":78},"end":{"line":176,"column":110}}},"7":{"name":"(anonymous_2586)","line":178,"loc":{"start":{"line":178,"column":55},"end":{"line":178,"column":83}}},"8":{"name":"(anonymous_2587)","line":187,"loc":{"start":{"line":187,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_2588)","line":190,"loc":{"start":{"line":190,"column":32},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_2589)","line":199,"loc":{"start":{"line":199,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_2590)","line":207,"loc":{"start":{"line":207,"column":2},"end":{"line":207,"column":29}}},"12":{"name":"(anonymous_2591)","line":215,"loc":{"start":{"line":215,"column":2},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_2592)","line":222,"loc":{"start":{"line":222,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_2593)","line":226,"loc":{"start":{"line":226,"column":2},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_2594)","line":230,"loc":{"start":{"line":230,"column":2},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_2595)","line":234,"loc":{"start":{"line":234,"column":2},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_2596)","line":238,"loc":{"start":{"line":238,"column":2},"end":{"line":238,"column":86}}},"18":{"name":"(anonymous_2597)","line":242,"loc":{"start":{"line":242,"column":2},"end":{"line":null,"column":-1}}},"19":{"name":"(anonymous_2598)","line":243,"loc":{"start":{"line":243,"column":27},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_2599)","line":251,"loc":{"start":{"line":251,"column":34},"end":{"line":251,"column":68}}},"21":{"name":"(anonymous_2600)","line":259,"loc":{"start":{"line":259,"column":30},"end":{"line":259,"column":72}}},"22":{"name":"(anonymous_2601)","line":270,"loc":{"start":{"line":270,"column":31},"end":{"line":null,"column":-1}}},"23":{"name":"(anonymous_2602)","line":277,"loc":{"start":{"line":277,"column":29},"end":{"line":null,"column":-1}}},"24":{"name":"(anonymous_2603)","line":280,"loc":{"start":{"line":280,"column":34},"end":{"line":null,"column":-1}}},"25":{"name":"(anonymous_2604)","line":285,"loc":{"start":{"line":285,"column":29},"end":{"line":285,"column":60}}},"26":{"name":"(anonymous_2605)","line":287,"loc":{"start":{"line":287,"column":52},"end":{"line":287,"column":63}}},"27":{"name":"(anonymous_2606)","line":298,"loc":{"start":{"line":298,"column":36},"end":{"line":null,"column":-1}}},"28":{"name":"(anonymous_2607)","line":313,"loc":{"start":{"line":313,"column":27},"end":{"line":null,"column":-1}}},"29":{"name":"(anonymous_2608)","line":324,"loc":{"start":{"line":324,"column":28},"end":{"line":null,"column":-1}}},"30":{"name":"(anonymous_2609)","line":327,"loc":{"start":{"line":327,"column":36},"end":{"line":null,"column":-1}}},"31":{"name":"(anonymous_2610)","line":336,"loc":{"start":{"line":336,"column":35},"end":{"line":336,"column":40}}},"32":{"name":"(anonymous_2611)","line":339,"loc":{"start":{"line":339,"column":2},"end":{"line":339,"column":85}}},"33":{"name":"(anonymous_2612)","line":349,"loc":{"start":{"line":349,"column":2},"end":{"line":349,"column":83}}},"34":{"name":"(anonymous_2613)","line":355,"loc":{"start":{"line":355,"column":34},"end":{"line":null,"column":-1}}},"35":{"name":"(anonymous_2614)","line":367,"loc":{"start":{"line":367,"column":2},"end":{"line":367,"column":72}}},"36":{"name":"(anonymous_2615)","line":371,"loc":{"start":{"line":371,"column":36},"end":{"line":371,"column":46}}},"37":{"name":"(anonymous_2616)","line":377,"loc":{"start":{"line":377,"column":2},"end":{"line":377,"column":79}}},"38":{"name":"(anonymous_2617)","line":386,"loc":{"start":{"line":386,"column":2},"end":{"line":386,"column":63}}},"39":{"name":"(anonymous_2618)","line":388,"loc":{"start":{"line":388,"column":32},"end":{"line":388,"column":80}}},"40":{"name":"(anonymous_2619)","line":394,"loc":{"start":{"line":394,"column":29},"end":{"line":394,"column":37}}},"41":{"name":"(anonymous_2620)","line":400,"loc":{"start":{"line":400,"column":27},"end":{"line":400,"column":57}}},"42":{"name":"(anonymous_2621)","line":419,"loc":{"start":{"line":419,"column":2},"end":{"line":null,"column":-1}}},"43":{"name":"(anonymous_2622)","line":432,"loc":{"start":{"line":432,"column":2},"end":{"line":null,"column":-1}}},"44":{"name":"(anonymous_2623)","line":436,"loc":{"start":{"line":436,"column":2},"end":{"line":436,"column":59}}},"45":{"name":"(anonymous_2624)","line":449,"loc":{"start":{"line":449,"column":30},"end":{"line":449,"column":59}}},"46":{"name":"(anonymous_2625)","line":451,"loc":{"start":{"line":451,"column":69},"end":{"line":451,"column":99}}},"47":{"name":"(anonymous_2626)","line":452,"loc":{"start":{"line":452,"column":27},"end":{"line":452,"column":57}}},"48":{"name":"(anonymous_2627)","line":453,"loc":{"start":{"line":453,"column":62},"end":{"line":453,"column":76}}},"49":{"name":"(anonymous_2628)","line":467,"loc":{"start":{"line":467,"column":2},"end":{"line":467,"column":78}}},"50":{"name":"(anonymous_2629)","line":480,"loc":{"start":{"line":480,"column":2},"end":{"line":480,"column":43}}},"51":{"name":"(anonymous_2630)","line":485,"loc":{"start":{"line":485,"column":58},"end":{"line":485,"column":89}}},"52":{"name":"(anonymous_2631)","line":494,"loc":{"start":{"line":494,"column":2},"end":{"line":null,"column":-1}}},"53":{"name":"(anonymous_2632)","line":498,"loc":{"start":{"line":498,"column":2},"end":{"line":498,"column":65}}},"54":{"name":"(anonymous_2633)","line":506,"loc":{"start":{"line":506,"column":2},"end":{"line":null,"column":-1}}},"55":{"name":"(anonymous_2634)","line":512,"loc":{"start":{"line":512,"column":2},"end":{"line":512,"column":55}}},"56":{"name":"(anonymous_2635)","line":514,"loc":{"start":{"line":514,"column":22},"end":{"line":null,"column":-1}}},"57":{"name":"(anonymous_2636)","line":518,"loc":{"start":{"line":518,"column":77},"end":{"line":518,"column":81}}},"58":{"name":"(anonymous_2637)","line":520,"loc":{"start":{"line":520,"column":28},"end":{"line":null,"column":-1}}},"59":{"name":"(anonymous_2638)","line":531,"loc":{"start":{"line":531,"column":2},"end":{"line":null,"column":-1}}},"60":{"name":"(anonymous_2639)","line":536,"loc":{"start":{"line":536,"column":52},"end":{"line":536,"column":63}}},"61":{"name":"(anonymous_2640)","line":538,"loc":{"start":{"line":538,"column":33},"end":{"line":null,"column":-1}}},"62":{"name":"(anonymous_2641)","line":542,"loc":{"start":{"line":542,"column":33},"end":{"line":null,"column":-1}}},"63":{"name":"(anonymous_2642)","line":546,"loc":{"start":{"line":546,"column":47},"end":{"line":null,"column":-1}}},"64":{"name":"(anonymous_2643)","line":549,"loc":{"start":{"line":549,"column":56},"end":{"line":549,"column":67}}},"65":{"name":"(anonymous_2644)","line":551,"loc":{"start":{"line":551,"column":27},"end":{"line":null,"column":-1}}},"66":{"name":"(anonymous_2645)","line":555,"loc":{"start":{"line":555,"column":27},"end":{"line":null,"column":-1}}},"67":{"name":"(anonymous_2646)","line":564,"loc":{"start":{"line":564,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":4},"end":{"line":139,"column":3}},{"start":{"line":139,"column":4},"end":{"line":139,"column":3}}]},"2":{"line":142,"type":"if","locations":[{"start":{"line":142,"column":6},"end":{"line":142,"column":5}},{"start":{"line":142,"column":6},"end":{"line":142,"column":5}}]},"3":{"line":145,"type":"if","locations":[{"start":{"line":145,"column":6},"end":{"line":145,"column":5}},{"start":{"line":145,"column":6},"end":{"line":145,"column":5}}]},"4":{"line":146,"type":"binary-expr","locations":[{"start":{"line":146,"column":36},"end":{"line":146,"column":61}},{"start":{"line":146,"column":65},"end":{"line":146,"column":67}}]},"5":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":6},"end":{"line":149,"column":5}},{"start":{"line":149,"column":6},"end":{"line":149,"column":5}}]},"6":{"line":156,"type":"if","locations":[{"start":{"line":156,"column":4},"end":{"line":156,"column":3}},{"start":{"line":156,"column":4},"end":{"line":156,"column":3}}]},"7":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":4},"end":{"line":162,"column":3}},{"start":{"line":162,"column":4},"end":{"line":162,"column":3}}]},"8":{"line":177,"type":"if","locations":[{"start":{"line":177,"column":4},"end":{"line":177,"column":3}},{"start":{"line":177,"column":4},"end":{"line":177,"column":3}}]},"9":{"line":245,"type":"if","locations":[{"start":{"line":245,"column":6},"end":{"line":245,"column":5}},{"start":{"line":245,"column":6},"end":{"line":245,"column":5}}]},"10":{"line":254,"type":"if","locations":[{"start":{"line":254,"column":6},"end":{"line":254,"column":5}},{"start":{"line":254,"column":6},"end":{"line":254,"column":5}}]},"11":{"line":258,"type":"binary-expr","locations":[{"start":{"line":258,"column":17},"end":{"line":258,"column":66}},{"start":{"line":259,"column":8},"end":{"line":261,"column":21}}]},"12":{"line":264,"type":"if","locations":[{"start":{"line":264,"column":6},"end":{"line":264,"column":5}},{"start":{"line":264,"column":6},"end":{"line":264,"column":5}}]},"13":{"line":264,"type":"binary-expr","locations":[{"start":{"line":264,"column":10},"end":{"line":264,"column":44}},{"start":{"line":264,"column":49},"end":{"line":264,"column":53}},{"start":{"line":264,"column":57},"end":{"line":264,"column":80}}]},"14":{"line":268,"type":"if","locations":[{"start":{"line":268,"column":4},"end":{"line":268,"column":3}},{"start":{"line":268,"column":4},"end":{"line":268,"column":3}}]},"15":{"line":274,"type":"if","locations":[{"start":{"line":274,"column":4},"end":{"line":274,"column":3}},{"start":{"line":274,"column":4},"end":{"line":274,"column":3}}]},"16":{"line":296,"type":"if","locations":[{"start":{"line":296,"column":6},"end":{"line":296,"column":5}},{"start":{"line":296,"column":6},"end":{"line":296,"column":5}}]},"17":{"line":301,"type":"if","locations":[{"start":{"line":301,"column":13},"end":{"line":301,"column":12}},{"start":{"line":301,"column":13},"end":{"line":301,"column":12}}]},"18":{"line":301,"type":"binary-expr","locations":[{"start":{"line":301,"column":17},"end":{"line":301,"column":46}},{"start":{"line":301,"column":50},"end":{"line":301,"column":64}}]},"19":{"line":303,"type":"if","locations":[{"start":{"line":303,"column":13},"end":{"line":303,"column":12}},{"start":{"line":303,"column":13},"end":{"line":303,"column":12}}]},"20":{"line":303,"type":"binary-expr","locations":[{"start":{"line":303,"column":17},"end":{"line":303,"column":46}},{"start":{"line":303,"column":50},"end":{"line":303,"column":65}}]},"21":{"line":308,"type":"if","locations":[{"start":{"line":308,"column":6},"end":{"line":308,"column":5}},{"start":{"line":308,"column":6},"end":{"line":308,"column":5}}]},"22":{"line":314,"type":"if","locations":[{"start":{"line":314,"column":6},"end":{"line":314,"column":5}},{"start":{"line":314,"column":6},"end":{"line":314,"column":5}}]},"23":{"line":314,"type":"binary-expr","locations":[{"start":{"line":314,"column":10},"end":{"line":314,"column":44}},{"start":{"line":314,"column":48},"end":{"line":314,"column":68}}]},"24":{"line":319,"type":"if","locations":[{"start":{"line":319,"column":6},"end":{"line":319,"column":5}},{"start":{"line":319,"column":6},"end":{"line":319,"column":5}}]},"25":{"line":319,"type":"binary-expr","locations":[{"start":{"line":319,"column":10},"end":{"line":319,"column":44}},{"start":{"line":319,"column":48},"end":{"line":319,"column":90}}]},"26":{"line":326,"type":"if","locations":[{"start":{"line":326,"column":6},"end":{"line":326,"column":5}},{"start":{"line":326,"column":6},"end":{"line":326,"column":5}}]},"27":{"line":333,"type":"if","locations":[{"start":{"line":333,"column":4},"end":{"line":333,"column":3}},{"start":{"line":333,"column":4},"end":{"line":333,"column":3}}]},"28":{"line":350,"type":"if","locations":[{"start":{"line":350,"column":4},"end":{"line":350,"column":3}},{"start":{"line":350,"column":4},"end":{"line":350,"column":3}}]},"29":{"line":369,"type":"if","locations":[{"start":{"line":369,"column":4},"end":{"line":369,"column":3}},{"start":{"line":369,"column":4},"end":{"line":369,"column":3}}]},"30":{"line":386,"type":"if","locations":[{"start":{"line":386,"column":45},"end":{"line":386,"column":44}},{"start":{"line":386,"column":45},"end":{"line":386,"column":44}}]},"31":{"line":389,"type":"binary-expr","locations":[{"start":{"line":389,"column":13},"end":{"line":389,"column":22}},{"start":{"line":389,"column":26},"end":{"line":389,"column":52}}]},"32":{"line":402,"type":"if","locations":[{"start":{"line":402,"column":6},"end":{"line":402,"column":5}},{"start":{"line":402,"column":6},"end":{"line":402,"column":5}}]},"33":{"line":412,"type":"if","locations":[{"start":{"line":412,"column":4},"end":{"line":412,"column":3}},{"start":{"line":412,"column":4},"end":{"line":412,"column":3}}]},"34":{"line":426,"type":"if","locations":[{"start":{"line":426,"column":4},"end":{"line":426,"column":3}},{"start":{"line":426,"column":4},"end":{"line":426,"column":3}}]},"35":{"line":442,"type":"cond-expr","locations":[{"start":{"line":442,"column":101},"end":{"line":442,"column":143}},{"start":{"line":442,"column":146},"end":{"line":442,"column":197}}]},"36":{"line":447,"type":"if","locations":[{"start":{"line":447,"column":4},"end":{"line":447,"column":3}},{"start":{"line":447,"column":4},"end":{"line":447,"column":3}}]},"37":{"line":450,"type":"if","locations":[{"start":{"line":450,"column":6},"end":{"line":450,"column":5}},{"start":{"line":450,"column":6},"end":{"line":450,"column":5}}]},"38":{"line":451,"type":"binary-expr","locations":[{"start":{"line":451,"column":104},"end":{"line":451,"column":139}},{"start":{"line":451,"column":143},"end":{"line":451,"column":161}}]},"39":{"line":454,"type":"if","locations":[{"start":{"line":454,"column":10},"end":{"line":454,"column":9}},{"start":{"line":454,"column":10},"end":{"line":454,"column":9}}]},"40":{"line":470,"type":"if","locations":[{"start":{"line":470,"column":4},"end":{"line":470,"column":3}},{"start":{"line":470,"column":4},"end":{"line":470,"column":3}}]},"41":{"line":470,"type":"binary-expr","locations":[{"start":{"line":470,"column":8},"end":{"line":470,"column":30}},{"start":{"line":470,"column":34},"end":{"line":470,"column":46}}]},"42":{"line":482,"type":"if","locations":[{"start":{"line":482,"column":4},"end":{"line":482,"column":3}},{"start":{"line":482,"column":4},"end":{"line":482,"column":3}}]},"43":{"line":484,"type":"if","locations":[{"start":{"line":484,"column":6},"end":{"line":484,"column":5}},{"start":{"line":484,"column":6},"end":{"line":484,"column":5}}]},"44":{"line":484,"type":"binary-expr","locations":[{"start":{"line":484,"column":10},"end":{"line":484,"column":23}},{"start":{"line":484,"column":27},"end":{"line":484,"column":55}},{"start":{"line":484,"column":59},"end":{"line":484,"column":90}}]},"45":{"line":486,"type":"if","locations":[{"start":{"line":486,"column":8},"end":{"line":486,"column":7}},{"start":{"line":486,"column":8},"end":{"line":486,"column":7}}]},"46":{"line":491,"type":"binary-expr","locations":[{"start":{"line":491,"column":11},"end":{"line":491,"column":16}},{"start":{"line":491,"column":20},"end":{"line":491,"column":43}}]},"47":{"line":501,"type":"if","locations":[{"start":{"line":501,"column":4},"end":{"line":501,"column":3}},{"start":{"line":501,"column":4},"end":{"line":501,"column":3}}]},"48":{"line":507,"type":"if","locations":[{"start":{"line":507,"column":4},"end":{"line":507,"column":3}},{"start":{"line":507,"column":4},"end":{"line":507,"column":3}}]},"49":{"line":517,"type":"if","locations":[{"start":{"line":517,"column":6},"end":{"line":517,"column":5}},{"start":{"line":517,"column":6},"end":{"line":517,"column":5}}]},"50":{"line":521,"type":"if","locations":[{"start":{"line":521,"column":12},"end":{"line":521,"column":11}},{"start":{"line":521,"column":12},"end":{"line":521,"column":11}}]},"51":{"line":533,"type":"if","locations":[{"start":{"line":533,"column":4},"end":{"line":533,"column":3}},{"start":{"line":533,"column":4},"end":{"line":533,"column":3}}]},"52":{"line":535,"type":"if","locations":[{"start":{"line":535,"column":11},"end":{"line":535,"column":10}},{"start":{"line":535,"column":11},"end":{"line":535,"column":10}}]},"53":{"line":541,"type":"if","locations":[{"start":{"line":541,"column":11},"end":{"line":541,"column":10}},{"start":{"line":541,"column":11},"end":{"line":541,"column":10}}]},"54":{"line":548,"type":"if","locations":[{"start":{"line":548,"column":8},"end":{"line":548,"column":7}},{"start":{"line":548,"column":8},"end":{"line":548,"column":7}}]},"55":{"line":565,"type":"binary-expr","locations":[{"start":{"line":565,"column":11},"end":{"line":565,"column":45}},{"start":{"line":565,"column":49},"end":{"line":565,"column":91}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":48,"23":1,"24":1,"25":47,"26":47,"27":47,"28":47,"29":47,"30":47,"31":47,"32":47,"33":47,"34":46,"35":46,"36":2,"37":46,"38":0,"39":0,"40":46,"41":1,"42":1,"43":47,"44":3,"45":47,"46":47,"47":0,"48":47,"49":47,"50":10,"51":47,"52":0,"53":47,"54":10,"55":47,"56":2,"57":47,"58":1,"59":0,"60":47,"61":1,"62":2,"63":2,"64":2,"65":2,"66":2,"67":1,"68":50,"69":1,"70":20,"71":20,"72":1,"73":0,"74":1,"75":1,"76":1,"77":0,"78":1,"79":0,"80":1,"81":14,"82":1,"83":6,"84":1,"85":47,"86":47,"87":0,"88":0,"89":0,"90":47,"91":5,"92":4,"93":5,"94":5,"95":0,"96":5,"97":5,"98":1,"99":47,"100":3,"101":3,"102":3,"103":47,"104":1,"105":47,"106":0,"107":0,"108":0,"109":0,"110":47,"111":1,"112":1,"113":0,"114":1,"115":1,"116":1,"117":0,"118":0,"119":0,"120":1,"121":0,"122":1,"123":1,"124":1,"125":1,"126":47,"127":0,"128":0,"129":0,"130":0,"131":0,"132":47,"133":2,"134":2,"135":1,"136":1,"137":47,"138":47,"139":47,"140":9,"141":1,"142":0,"143":0,"144":1,"145":1,"146":1,"147":1,"148":1,"149":1,"150":0,"151":0,"152":0,"153":1,"154":0,"155":0,"156":0,"157":0,"158":0,"159":1,"160":1,"161":1,"162":4,"163":2,"164":0,"165":2,"166":0,"167":2,"168":2,"169":0,"170":0,"171":0,"172":0,"173":2,"174":2,"175":2,"176":0,"177":2,"178":1,"179":9,"180":9,"181":9,"182":9,"183":7,"184":9,"185":1,"186":0,"187":1,"188":10,"189":10,"190":10,"191":10,"192":10,"193":10,"194":10,"195":10,"196":9,"197":9,"198":8,"199":9,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":10,"208":10,"209":10,"210":1,"211":6,"212":6,"213":6,"214":5,"215":5,"216":5,"217":1,"218":19,"219":19,"220":5,"221":5,"222":0,"223":0,"224":0,"225":0,"226":19,"227":1,"228":35,"229":1,"230":2,"231":2,"232":2,"233":1,"234":1,"235":10,"236":10,"237":1,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":1,"248":4,"249":4,"250":4,"251":1,"252":3,"253":0,"254":0,"255":0,"256":0,"257":0,"258":3,"259":0,"260":0,"261":3,"262":2,"263":2,"264":0,"265":0,"266":0,"267":0,"268":0,"269":2,"270":1,"271":2,"272":1,"273":61,"274":1,"275":1,"276":1,"277":1,"278":1,"279":1},"b":{"1":[46,1],"2":[2,44],"3":[0,46],"4":[0,0],"5":[1,45],"6":[3,44],"7":[0,47],"8":[1,46],"9":[0,0],"10":[4,1],"11":[5,5],"12":[1,4],"13":[5,1,1],"14":[3,44],"15":[1,46],"16":[0,1],"17":[0,1],"18":[1,1],"19":[1,0],"20":[1,1],"21":[1,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[1,1],"27":[47,0],"28":[1,0],"29":[0,0],"30":[2,0],"31":[0,0],"32":[0,0],"33":[0,2],"34":[7,2],"35":[10,0],"36":[9,1],"37":[0,9],"38":[0,0],"39":[0,0],"40":[5,1],"41":[6,5],"42":[5,14],"43":[0,5],"44":[5,5,5],"45":[0,0],"46":[19,19],"47":[1,1],"48":[10,0],"49":[0,0],"50":[0,0],"51":[1,3],"52":[0,3],"53":[0,3],"54":[0,2],"55":[61,7]},"f":{"1":1,"2":47,"3":10,"4":0,"5":10,"6":2,"7":0,"8":2,"9":2,"10":50,"11":20,"12":0,"13":1,"14":0,"15":0,"16":14,"17":6,"18":47,"19":0,"20":5,"21":0,"22":3,"23":0,"24":0,"25":1,"26":0,"27":0,"28":0,"29":2,"30":1,"31":9,"32":0,"33":1,"34":1,"35":0,"36":0,"37":1,"38":2,"39":0,"40":0,"41":0,"42":9,"43":0,"44":10,"45":8,"46":0,"47":0,"48":0,"49":6,"50":19,"51":0,"52":35,"53":2,"54":10,"55":0,"56":0,"57":0,"58":0,"59":4,"60":0,"61":0,"62":0,"63":2,"64":0,"65":0,"66":1,"67":61},"code":"///<reference path=\"FieldAddon.ts\" />\n///<reference path=\"QueryExtensionAddon.ts\" />\n///<reference path=\"RevealQuerySuggestAddon.ts\" />\n///<reference path=\"OldOmniboxAddon.ts\" />\nimport {IQueryboxOptions} from '../Querybox/Querybox';\nimport {Component} from '../Base/Component';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {QueryEvents, IBuildingQueryEventArgs} from '../../events/QueryEvents';\nimport {StandaloneSearchInterfaceEvents} from '../../events/StandaloneSearchInterfaceEvents';\nimport {MODEL_EVENTS, IAttributeChangedEventArg} from '../../models/Model';\nimport {QUERY_STATE_ATTRIBUTES} from '../../models/QueryStateModel';\nimport {IAnalyticsNoMeta, analyticsActionCauseList, IAnalyticsOmniboxSuggestionMeta} from '../Analytics/AnalyticsActionListMeta';\nimport {OmniboxEvents, IOmniboxPreprocessResultForQueryEventArgs} from '../../events/OmniboxEvents';\nimport {$$} from '../../utils/Dom';\nimport {Assert} from '../../misc/Assert';\nimport {QueryStateModel} from '../../models/QueryStateModel';\nimport {Initialization} from '../Base/Initialization';\nimport {Querybox} from '../Querybox/Querybox';\nimport {FieldAddon} from './FieldAddon';\nimport {QueryExtensionAddon} from './QueryExtensionAddon';\nimport {RevealQuerySuggestAddon} from './RevealQuerySuggestAddon';\nimport {OldOmniboxAddon} from './OldOmniboxAddon';\nimport {QueryboxQueryParameters} from '../Querybox/QueryboxQueryParameters';\nimport {IAnalyticsActionCause} from '../Analytics/AnalyticsActionListMeta';\nimport {IDuringQueryEventArgs} from '../../events/QueryEvents';\nimport {PendingSearchAsYouTypeSearchEvent} from '../Analytics/PendingSearchAsYouTypeSearchEvent';\nimport {Utils} from '../../utils/Utils';\nimport {MagicBox} from '../../ExternalModulesShim';\n\nexport interface IPopulateOmniboxSuggestionsEventArgs {\n  omnibox: Omnibox;\n  suggestions: Array<Coveo.MagicBox.Suggestion[] | Promise<Coveo.MagicBox.Suggestion[]>>;\n}\n\nexport interface IOmniboxSuggestion extends Coveo.MagicBox.Suggestion {\n}\n\nexport interface IOmniboxOptions extends IQueryboxOptions {\n  inline?: boolean;\n  enableFieldAddon?: boolean;\n  enableSimpleFieldAddon?: boolean;\n  listOfFields?: string[];\n  fieldAlias?: { [alias: string]: string };\n  enableRevealQuerySuggestAddon?: boolean;\n  enableQueryExtensionAddon?: boolean;\n  omniboxTimeout?: number;\n  placeholder?: string;\n  grammar?: (grammar: { start: string; expressions: { [id: string]: Coveo.MagicBox.ExpressionDef }; }) => { start: string; expressions: { [id: string]: Coveo.MagicBox.ExpressionDef } }\n}\n\n/**\n * This component is very similar to the simpler {@link Querybox} Component and support all the same options/behavior except for the search-as-you-type feature.<br/>\n * In addition, it takes care of adding a type-ahead capability. The type-ahead and the suggestions it displays are customizable and extensible by any custom component.<br/>\n * The type-ahead is configurable by activating addon which are provided OOTB (facets, analytics suggestions, reveal suggestions, and advanced coveo syntax suggestions).<br/>\n * It is also possible for external code to provide suggestions.\n */\nexport class Omnibox extends Component {\n  public static ID = 'Omnibox';\n\n  /**\n   * The options for the omnibox\n   * @componentOptions\n   */\n  static options: IOmniboxOptions = {\n    /**\n     * Specifies that suggestions appearing in the omnibox should push the result down, instead of appearing over the results.<br/>\n     * Activate this as well a searchAsYouType + reveal suggestions for a cool effect !<br/>\n     * Default value is false\n     */\n    inline: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    /**\n     * Specifies whether a new query is automatically triggered whenever the user types new text inside the query box.<br/>\n     * Activate this as well a inline + reveal suggestions for a cool effect !<br/>\n     * The default is false.\n     */\n    enableSearchAsYouType: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    /**\n     * When search as you type is enabled, specifies the delay in milliseconds before a new query is triggered when the user types new text inside the query box.<br/>\n     * The default value is 2000 milliseconds.\n     */\n    searchAsYouTypeDelay: ComponentOptions.buildNumberOption({\n      defaultValue: 2000,\n      min: 0,\n      depend: 'enableSearchAsYouType'\n    }),\n    /**\n     * Specifies whether the field addon should be enabled.<br/>\n     * The field addon allows the search box to highlight and complete field syntax.<br/>\n     * Default value is false\n     *\n     * > Example:\n     * > You want to filter on a file type. You start typing @sysf and matching fields are proposed. You select the @sysfiletype suggestion, enter = and the available matching file types are proposed.\n     */\n    enableFieldAddon: ComponentOptions.buildBooleanOption({ defaultValue: false, depend: 'enableQuerySyntax' }),\n    enableSimpleFieldAddon: ComponentOptions.buildBooleanOption({ defaultValue: false, depend: 'enableFieldAddon' }),\n    listOfFields: ComponentOptions.buildFieldsOption({ depend: 'enableFieldAddon' }),\n    /**\n     * Specifies whether the reveal query suggestions should be enabled.<br/>\n     * This implies that your integration has a proper reveal integration configured.<br/>\n     * Default value is false\n     */\n    enableRevealQuerySuggestAddon: ComponentOptions.buildBooleanOption({ defaultValue: false, alias: 'enableTopQueryAddon' }),\n    /**\n     * Specifies whether the query extension addon should be enabled.<br/>\n     * This allows the omnibox to complete the syntax for query extensions.<br/>\n     * Default value is false\n     */\n    enableQueryExtensionAddon: ComponentOptions.buildBooleanOption({ defaultValue: false, depend: 'enableQuerySyntax' }),\n    /**\n     * Specifies a placeholder for input\n     */\n    placeholder: ComponentOptions.buildStringOption(),\n    /**\n     * Specifies a timeout before rejecting suggestions in the omnibox.<br/>\n     * Default value is 2000 (2 seconds)\n     */\n    omniboxTimeout: ComponentOptions.buildNumberOption({ defaultValue: 2000 })\n  }\n\n  public magicBox: Coveo.MagicBox.Instance;\n  private partialQueries: string[] = [];\n  private lastSuggestions: IOmniboxSuggestion[] = [];\n  private lastQuery: string;\n  private modifyEventTo: IAnalyticsActionCause;\n  private movedOnce = false;\n  private searchAsYouTypeTimeout: number;\n\n  /**\n   * Create a new omnibox with, enable required addons, and bind events on letious query events\n   */\n  constructor(public element: HTMLElement, public options?: IOmniboxOptions, bindings?: IComponentBindings) {\n    super(element, Omnibox.ID, bindings);\n\n    this.options = ComponentOptions.initComponentOptions(element, Omnibox, options);\n\n    let grammar: { start: string; expressions: { [id: string]: Coveo.MagicBox.ExpressionDef } };\n\n    if (this.options.enableQuerySyntax) {\n      grammar = MagicBox.Grammars.Expressions(MagicBox.Grammars.Complete);\n\n      if (this.options.enableFieldAddon) {\n        new FieldAddon(this);\n      }\n      if (this.options.fieldAlias != null) {\n        this.options.listOfFields = this.options.listOfFields || [];\n        this.options.listOfFields = this.options.listOfFields.concat(_.keys(this.options.fieldAlias));\n      }\n      if (this.options.enableQueryExtensionAddon) {\n        new QueryExtensionAddon(this);\n      }\n    } else {\n      grammar = { start: 'Any', expressions: { Any: /.*/ } };\n    }\n\n    if (this.options.enableRevealQuerySuggestAddon) {\n      new RevealQuerySuggestAddon(this);\n    }\n\n    new OldOmniboxAddon(this);\n\n    if (this.options.grammar != null) {\n      grammar = this.options.grammar(grammar);\n    }\n\n    this.magicBox = MagicBox.create(element, new MagicBox.Grammar(grammar.start, grammar.expressions), {\n      inline: this.options.inline,\n      selectableSuggestionClass: 'coveo-omnibox-selectable',\n      selectedSuggestionClass: 'coveo-omnibox-selected',\n      suggestionTimeout: this.options.omniboxTimeout\n    });\n\n    this.bind.onRootElement(QueryEvents.buildingQuery, (args: IBuildingQueryEventArgs) => this.handleBuildingQuery(args));\n    this.bind.onRootElement(StandaloneSearchInterfaceEvents.beforeRedirect, () => this.handleBeforeRedirect());\n    this.bind.onRootElement(QueryEvents.querySuccess, () => this.handleQuerySuccess());\n    this.bind.onQueryState(MODEL_EVENTS.CHANGE_ONE, QUERY_STATE_ATTRIBUTES.Q, (args: IAttributeChangedEventArg) => this.handleQueryStateChanged(args));\n    if (this.isRevealAutoSuggestion()) {\n      this.bind.onRootElement(QueryEvents.duringQuery, (args: IDuringQueryEventArgs) => this.handleDuringQuery(args));\n    }\n    this.setupMagicBox();\n  }\n\n  /**\n   * Trigger a query. The current input content will be added to the query<br/>\n   * If the content of the input has not changed since the last submit, no new query will be triggered.\n   */\n  public submit() {\n    this.magicBox.clearSuggestion();\n    this.updateQueryState();\n    this.triggerNewQuery(false, () => {\n      this.usageAnalytics.logSearchEvent<IAnalyticsNoMeta>(analyticsActionCauseList.searchboxSubmit, {})\n    });\n  }\n\n  /**\n   * Get the current content of the input\n   * @returns {string}\n   */\n  public getText() {\n    return this.magicBox.getText();\n  }\n\n  /**\n   * Set the content of the input\n   * @param text The string to set in the input\n   */\n  public setText(text: string) {\n    this.magicBox.setText(text);\n    this.updateQueryState();\n  }\n\n  /**\n   * Clear the content of the input\n   */\n  public clear() {\n    this.magicBox.clear();\n  }\n\n  /**\n   * Get the HTMLInputElement of the omnibox\n   */\n  public getInput() {\n    return <HTMLInputElement>this.magicBox.element.querySelector('input');\n  }\n\n  public getResult() {\n    return this.magicBox.getResult();\n  }\n\n  public getDisplayedResult() {\n    return this.magicBox.getDisplayedResult();\n  }\n\n  public getCursor() {\n    return this.magicBox.getCursor();\n  }\n\n  public resultAtCursor(match?: string | { (result: Coveo.MagicBox.Result): boolean; }) {\n    return this.magicBox.resultAtCursor(match);\n  }\n\n  private setupMagicBox() {\n    this.magicBox.onmove = () => {\n      // We assume that once the user has moved it's selection, it becomes an explicit omnibox analytics event\n      if (this.isRevealAutoSuggestion()) {\n        this.modifyEventTo = analyticsActionCauseList.omniboxAnalytics;\n      }\n      this.movedOnce = true;\n    }\n\n    this.magicBox.onsuggestions = (suggestions: IOmniboxSuggestion[]) => {\n      // If text is empty, this can mean that user selected text from the search box\n      // and hit \"delete\" : Reset the partial queries in this case\n      if (Utils.isEmptyString(this.getText())) {\n        this.partialQueries = [];\n      }\n      this.movedOnce = false;\n      let diff = suggestions.length != this.lastSuggestions.length ||\n        _.filter(suggestions, (suggestion: IOmniboxSuggestion, i: number) => {\n          return suggestion.text != this.lastSuggestions[i].text;\n        }).length > 0;\n      this.lastSuggestions = suggestions;\n      // retrigger a new search as you type only if there are diff or if the input is not the same\n      if (this.options.enableSearchAsYouType && (diff || suggestions.length == 0)) {\n        this.searchAsYouType();\n      }\n    }\n    if (this.options.enableSearchAsYouType) {\n      $$(this.element).addClass('coveo-magicbox-search-as-you-type');\n      this.magicBox.onchange = () => {\n        this.searchAsYouType();\n      };\n    }\n    if (this.options.placeholder) {\n      (<HTMLInputElement>this.magicBox.element.querySelector('input')).placeholder = this.options.placeholder;\n    }\n    this.magicBox.onsubmit = () => {\n      this.magicBox.clearSuggestion();\n      this.updateQueryState();\n      this.triggerNewQuery(false, () => {\n        this.usageAnalytics.logSearchEvent<IAnalyticsNoMeta>(analyticsActionCauseList.searchboxSubmit, {})\n      });\n    };\n\n    this.magicBox.onselect = (suggestion: IOmniboxSuggestion) => {\n      let index = _.indexOf(this.lastSuggestions, suggestion);\n      let suggestions = _.map(this.lastSuggestions, (suggestion) => suggestion.text);\n      this.magicBox.clearSuggestion();\n      this.updateQueryState();\n      // A bit tricky here : When it's reveal auto suggestions\n      // the mouse selection and keyboard selection acts differently :\n      // keyboard selection will automatically do the query (which will log a search as you type event -> further modified by this.modifyEventTo if needed)\n      // mouse selection will not \"auto\" send the query.\n      // the movedOnce variable detect the keyboard movement, and is used to differentiate mouse vs keyboard\n\n      if (!this.isRevealAutoSuggestion()) {\n        this.usageAnalytics.cancelAllPendingEvents();\n        this.triggerNewQuery(false, () => {\n          this.usageAnalytics.logSearchEvent<IAnalyticsOmniboxSuggestionMeta>(analyticsActionCauseList.omniboxAnalytics, this.buildCustomDataForPartialQueries(index, suggestions));\n        });\n      } else if (this.isRevealAutoSuggestion() && this.movedOnce) {\n        this.handleRevealAutoSuggestionWithKeyboard(index, suggestions);\n      } else if (this.isRevealAutoSuggestion() && !this.movedOnce) {\n        this.handleRevealAutoSuggestionsWithMouse(index, suggestions);\n      }\n\n      // Consider a selection like a reset of the partial queries (it's the end of a suggestion pattern)\n      if (this.isRevealAutoSuggestion()) {\n        this.partialQueries = [];\n      }\n    }\n\n    this.magicBox.onblur = () => {\n      if (this.options.enableSearchAsYouType && !this.options.inline) {\n        this.setText(this.lastQuery);\n      } else {\n        this.updateQueryState();\n      }\n      if (this.options.enableSearchAsYouType && this.options.enableRevealQuerySuggestAddon) {\n        this.usageAnalytics.sendAllPendingEvents();\n      }\n    };\n\n    this.magicBox.onclear = () => {\n      this.updateQueryState();\n      if (this.options.triggerQueryOnClear) {\n        this.triggerNewQuery(false, () => {\n          this.usageAnalytics.logSearchEvent<IAnalyticsNoMeta>(analyticsActionCauseList.searchboxClear, {})\n        });\n      }\n    };\n\n    if (this.options.autoFocus) {\n      this.magicBox.focus();\n    }\n    this.magicBox.getSuggestions = () => this.handleSuggestions();\n  }\n\n  private handleRevealAutoSuggestionWithKeyboard(index: number, suggestions: string[]) {\n    // Here : a selection was made using keyboard\n    // The event type has been modified on magicbox.onmove\n    // Set the new custom data as it can be empty\n    // For example, when the index 0 is selected, the query is already made and would be considered\n    // a search as you type : Modify the custom data after the fact\n    this.modifyCustomDataOnPending(index, suggestions);\n    this.usageAnalytics.sendAllPendingEvents();\n  }\n\n  private handleRevealAutoSuggestionsWithMouse(index: number, suggestions: string[]) {\n    if (index != 0) {\n      // Here : a selection was made using the mouse\n      // Cancel all search as you type\n      // Then, send omniboxAnalytics and do a query\n      this.usageAnalytics.cancelAllPendingEvents();\n      this.triggerNewQuery(false, () => {\n        this.usageAnalytics.logSearchEvent(analyticsActionCauseList.omniboxAnalytics, this.buildCustomDataForPartialQueries(index, suggestions));\n      })\n    } else {\n      // Same logic as keyboard selection : but when the user select the first suggestion\n      // with the mouse, there is no onmove => set the new type, then modify custom data\n      this.modifyEventTo = analyticsActionCauseList.omniboxAnalytics;\n      this.modifyCustomDataOnPending(index, suggestions);\n      this.usageAnalytics.sendAllPendingEvents();\n    }\n  }\n\n  private modifyCustomDataOnPending(index: number, suggestions: string[]) {\n    let pendingEvt = this.usageAnalytics.getPendingSearchEvent();\n    if (pendingEvt instanceof PendingSearchAsYouTypeSearchEvent) {\n      let newCustomData = this.buildCustomDataForPartialQueries(index, suggestions);\n      _.each(_.keys(newCustomData), (k: string) => {\n        (<PendingSearchAsYouTypeSearchEvent>pendingEvt).modifyCustomData(k, newCustomData[k]);\n      })\n    }\n  }\n\n  private buildCustomDataForPartialQueries(index: number, suggestions: string[]): IAnalyticsOmniboxSuggestionMeta {\n    return {\n      partialQueries: this.cleanCustomData(this.partialQueries),\n      suggestionRanking: index,\n      suggestions: this.cleanCustomData(suggestions),\n      partialQuery: _.last(this.partialQueries)\n    }\n  }\n\n  private cleanCustomData(toClean: string[], rejectLength = 256) {\n    // Filter out only consecutive values that are the identical\n    toClean = _.filter(toClean, (partial: string, pos?: number, array?: string[]) => {\n      return pos === 0 || partial !== array[pos - 1];\n    });\n\n    // Custom dimensions cannot be an array in analytics service: Send a string joined by ; instead.\n    // Need to replace ;\n    toClean = _.map(toClean, (partial) => {\n      return partial.replace(/;/g, '');\n    });\n\n    // Reduce right to get the last X words that adds to less then rejectLength\n    let reducedToRejectLengthOrLess = [];\n    _.reduceRight(toClean, (memo: number, partial: string) => {\n      let totalSoFar = memo + partial.length;\n      if (totalSoFar <= rejectLength) {\n        reducedToRejectLengthOrLess.push(partial);\n      }\n      return totalSoFar;\n    }, 0);\n    toClean = reducedToRejectLengthOrLess.reverse();\n    let ret = toClean.join(';');\n\n    // analytics service can store max 256 char in a custom event\n    // if we're over that, call cleanup again with an arbitrary 10 less char accepted\n    if (ret.length >= 256) {\n      return this.cleanCustomData(toClean, rejectLength - 10);\n    }\n\n    return toClean.join(';');\n  }\n\n  private handleSuggestions() {\n    let suggestionsEventArgs: IPopulateOmniboxSuggestionsEventArgs = {\n      suggestions: [],\n      omnibox: this\n    };\n    this.bind.trigger(this.element, OmniboxEvents.populateOmniboxSuggestions, suggestionsEventArgs);\n    let text = this.getText();\n    if (!Utils.isNullOrEmptyString(text)) {\n      this.partialQueries.push(text);\n    }\n    return suggestionsEventArgs.suggestions;\n  }\n\n  private handleBeforeRedirect() {\n    this.updateQueryState();\n  }\n\n  private handleBuildingQuery(data: IBuildingQueryEventArgs) {\n    Assert.exists(data);\n    Assert.exists(data.queryBuilder);\n    this.updateQueryState();\n    this.lastQuery = this.getQuery(data.searchAsYouType);\n\n    let result: Coveo.MagicBox.Result = this.lastQuery == this.magicBox.getDisplayedResult().input ? this.magicBox.getDisplayedResult().clone() : this.magicBox.grammar.parse(this.lastQuery).clean();\n    let preprocessResultForQueryArgs: IOmniboxPreprocessResultForQueryEventArgs = {\n      result: result\n    };\n\n    if (this.options.enableQuerySyntax) {\n      let notQuotedValues = preprocessResultForQueryArgs.result.findAll('FieldValueNotQuoted');\n      _.each(notQuotedValues, (value: Coveo.MagicBox.Result) => value.value = '\"' + value.value.replace(/\"|\\u00A0/g, ' ') + '\"');\n      if (this.options.fieldAlias) {\n        let fieldNames = preprocessResultForQueryArgs.result.findAll((result: Coveo.MagicBox.Result) => result.expression.id == 'FieldName' && result.isSuccess());\n        _.each(fieldNames, (result: Coveo.MagicBox.Result) => {\n          let alias = _.find(_.keys(this.options.fieldAlias), (alias: string) => alias.toLowerCase() == result.value.toLowerCase());\n          if (alias != null) {\n            result.value = this.options.fieldAlias[alias];\n          }\n        });\n      }\n    }\n\n    this.bind.trigger(this.element, OmniboxEvents.omniboxPreprocessResultForQuery, preprocessResultForQueryArgs)\n    let query = preprocessResultForQueryArgs.result.toString();\n    new QueryboxQueryParameters(this.options).addParameters(data.queryBuilder, query);\n  }\n\n\n  private triggerNewQuery(searchAsYouType: boolean, analyticsEvent: () => void) {\n    clearTimeout(this.searchAsYouTypeTimeout);\n    let text = this.getQuery(searchAsYouType);\n    if (this.lastQuery != text && text != null) {\n      this.lastQuery = text;\n      analyticsEvent();\n      this.queryController.executeQuery({\n        searchAsYouType: searchAsYouType,\n        logInActionsHistory: true\n      });\n    }\n  }\n\n  private getQuery(searchAsYouType: boolean) {\n    let query: string\n    if (searchAsYouType) {\n      query = this.magicBox.getWordCompletion();\n      if (query == null && this.lastSuggestions != null && this.lastSuggestions.length > 0) {\n        let textSuggestion = _.find(this.lastSuggestions, (suggestion: IOmniboxSuggestion) => suggestion.text != null);\n        if (textSuggestion != null) {\n          query = textSuggestion.text;\n        }\n      }\n    }\n    return query || this.magicBox.getText();\n  }\n\n  public updateQueryState() {\n    this.queryStateModel.set(QueryStateModel.attributesEnum.q, this.magicBox.getText());\n  }\n\n  private handleQueryStateChanged(args: IAttributeChangedEventArg) {\n    Assert.exists(args);\n    let q = <string>args.value;\n    if (q != this.magicBox.getText()) {\n      this.magicBox.setText(q);\n    }\n  }\n\n  private handleQuerySuccess() {\n    if (!this.isRevealAutoSuggestion()) {\n      this.partialQueries = [];\n    }\n  }\n\n  private handleDuringQuery(args: IDuringQueryEventArgs) {\n    // When the query results returns ... (args.promise)\n    args.promise.then(() => {\n      // Get a handle on a pending search as you type (those events are delayed, not sent instantly)\n      let pendingEvent = this.usageAnalytics.getPendingSearchEvent();\n      if (pendingEvent instanceof PendingSearchAsYouTypeSearchEvent) {\n        (<PendingSearchAsYouTypeSearchEvent>pendingEvent).beforeResolve.then((evt) => {\n          // Check if we need to modify the event type beforeResolving it\n          args.promise.then(() => {\n            if (this.modifyEventTo) {\n              evt.modifyEventCause(this.modifyEventTo);\n              this.modifyEventTo = null;\n            }\n          })\n        })\n      }\n    })\n  }\n\n  private searchAsYouType() {\n    clearTimeout(this.searchAsYouTypeTimeout);\n    if (this.getText().length == 0) {\n      return;\n    } else if (this.magicBox.getWordCompletion()) {\n      let suggestions = _.map(this.lastSuggestions, (suggestion) => suggestion.text);\n      let index = _.indexOf(suggestions, this.magicBox.getWordCompletion());\n      this.triggerNewQuery(true, () => {\n        this.usageAnalytics.logSearchAsYouType<IAnalyticsOmniboxSuggestionMeta>(analyticsActionCauseList.searchboxAsYouType, this.buildCustomDataForPartialQueries(index, suggestions));\n      });\n    } else if (this.getQuery(true) != this.getText()) {\n      this.triggerNewQuery(true, () => {\n        this.usageAnalytics.logSearchAsYouType<IAnalyticsNoMeta>(analyticsActionCauseList.searchboxAsYouType, {})\n      });\n    } else {\n      this.searchAsYouTypeTimeout = setTimeout(() => {\n        let analyticsEvent: () => void;\n        if (this.magicBox.getWordCompletion()) {\n          let suggestions = _.map(this.lastSuggestions, (suggestion) => suggestion.text);\n          let index = _.indexOf(suggestions, this.magicBox.getWordCompletion());\n          analyticsEvent = () => {\n            this.usageAnalytics.logSearchAsYouType<IAnalyticsOmniboxSuggestionMeta>(analyticsActionCauseList.searchboxAsYouType, this.buildCustomDataForPartialQueries(index, suggestions));\n          }\n        } else {\n          analyticsEvent = () => {\n            this.usageAnalytics.logSearchAsYouType<IAnalyticsNoMeta>(analyticsActionCauseList.searchboxAsYouType, {})\n          }\n        }\n        this.triggerNewQuery(true, analyticsEvent);\n      }, this.options.searchAsYouTypeDelay);\n    }\n  }\n\n  private isRevealAutoSuggestion() {\n    return this.options.enableSearchAsYouType && this.options.enableRevealQuerySuggestAddon;\n  }\n}\n\nOmnibox.options = _.extend({}, Omnibox.options, Querybox.options);\nInitialization.registerAutoCreateComponent(Omnibox);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Omnibox/Omnibox.ts\n **/","l":{"6":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"27":1,"28":1,"29":1,"58":48,"59":1,"65":1,"122":47,"123":47,"126":47,"132":47,"133":47,"135":47,"137":47,"139":47,"140":46,"142":46,"143":2,"145":46,"146":0,"147":0,"149":46,"150":1,"153":1,"156":47,"157":3,"160":47,"162":47,"163":0,"166":47,"173":47,"174":47,"175":47,"176":47,"177":47,"178":1,"180":47,"187":2,"188":2,"189":2,"190":2,"191":2,"199":1,"200":50,"207":1,"208":20,"209":20,"215":1,"216":0,"222":1,"223":1,"226":1,"227":0,"230":1,"231":0,"234":1,"235":14,"238":1,"239":6,"242":47,"243":47,"245":0,"246":0,"248":0,"251":47,"254":5,"255":4,"257":5,"258":5,"260":0,"262":5,"264":5,"265":1,"268":47,"269":3,"270":3,"271":3,"274":47,"275":1,"277":47,"278":0,"279":0,"280":0,"281":0,"285":47,"286":1,"287":1,"288":1,"289":1,"296":1,"297":0,"298":0,"299":0,"301":1,"302":0,"303":1,"304":1,"308":1,"309":1,"313":47,"314":0,"315":0,"317":0,"319":0,"320":0,"324":47,"325":2,"326":2,"327":1,"328":1,"333":47,"334":47,"336":47,"339":1,"345":0,"346":0,"349":1,"350":1,"354":1,"355":1,"356":1,"361":0,"362":0,"363":0,"367":1,"368":0,"369":0,"370":0,"371":0,"372":0,"377":1,"378":1,"386":4,"388":2,"389":0,"394":2,"395":0,"399":2,"400":2,"401":0,"402":0,"403":0,"405":0,"407":2,"408":2,"412":2,"413":0,"416":2,"419":1,"420":9,"424":9,"425":9,"426":9,"427":7,"429":9,"432":1,"433":0,"436":10,"437":10,"438":10,"439":10,"440":10,"442":10,"443":10,"447":10,"448":9,"449":9,"450":9,"451":0,"452":0,"453":0,"454":0,"455":0,"461":10,"462":10,"463":10,"467":1,"468":6,"469":6,"470":6,"471":5,"472":5,"473":5,"480":1,"481":19,"482":19,"483":5,"484":5,"485":0,"486":0,"487":0,"491":19,"494":1,"495":35,"498":1,"499":2,"500":2,"501":2,"502":1,"506":1,"507":10,"508":10,"512":1,"514":0,"516":0,"517":0,"518":0,"520":0,"521":0,"522":0,"523":0,"531":4,"532":4,"533":4,"534":1,"535":3,"536":0,"537":0,"538":0,"539":0,"541":3,"542":0,"543":0,"546":3,"547":2,"548":2,"549":0,"550":0,"551":0,"552":0,"555":2,"556":1,"559":2,"564":1,"565":61,"567":1,"569":1,"570":1}},"src/ui/Omnibox/FieldAddon.ts":{"path":"src/ui/Omnibox/FieldAddon.ts","statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":57}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":51}},"3":{"start":{"line":16,"column":0},"end":{"line":206,"column":1}},"4":{"start":{"line":21,"column":2},"end":{"line":25,"column":3}},"5":{"start":{"line":21,"column":21},"end":{"line":21,"column":37}},"6":{"start":{"line":19,"column":2},"end":{"line":19,"column":52}},"7":{"start":{"line":22,"column":4},"end":{"line":24,"column":6}},"8":{"start":{"line":23,"column":6},"end":{"line":23,"column":50}},"9":{"start":{"line":27,"column":9},"end":{"line":51,"column":3}},"10":{"start":{"line":27,"column":2},"end":{"line":51,"column":3}},"11":{"start":{"line":28,"column":4},"end":{"line":28,"column":30}},"12":{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},"13":{"start":{"line":30,"column":6},"end":{"line":30,"column":18}},"14":{"start":{"line":32,"column":4},"end":{"line":32,"column":45}},"15":{"start":{"line":33,"column":4},"end":{"line":35,"column":5}},"16":{"start":{"line":34,"column":6},"end":{"line":34,"column":70}},"17":{"start":{"line":36,"column":4},"end":{"line":36,"column":46}},"18":{"start":{"line":37,"column":4},"end":{"line":39,"column":5}},"19":{"start":{"line":38,"column":6},"end":{"line":38,"column":45}},"20":{"start":{"line":40,"column":4},"end":{"line":42,"column":5}},"21":{"start":{"line":41,"column":6},"end":{"line":41,"column":58}},"22":{"start":{"line":43,"column":4},"end":{"line":45,"column":5}},"23":{"start":{"line":44,"column":6},"end":{"line":44,"column":51}},"24":{"start":{"line":46,"column":4},"end":{"line":46,"column":36}},"25":{"start":{"line":47,"column":4},"end":{"line":49,"column":6}},"26":{"start":{"line":48,"column":6},"end":{"line":48,"column":36}},"27":{"start":{"line":50,"column":4},"end":{"line":50,"column":52}},"28":{"start":{"line":53,"column":10},"end":{"line":87,"column":3}},"29":{"start":{"line":54,"column":4},"end":{"line":54,"column":92}},"30":{"start":{"line":55,"column":4},"end":{"line":61,"column":5}},"31":{"start":{"line":56,"column":6},"end":{"line":56,"column":61}},"32":{"start":{"line":57,"column":6},"end":{"line":57,"column":46}},"33":{"start":{"line":58,"column":6},"end":{"line":58,"column":38}},"34":{"start":{"line":59,"column":6},"end":{"line":59,"column":36}},"35":{"start":{"line":60,"column":6},"end":{"line":60,"column":88}},"36":{"start":{"line":62,"column":4},"end":{"line":62,"column":94}},"37":{"start":{"line":63,"column":4},"end":{"line":77,"column":5}},"38":{"start":{"line":64,"column":6},"end":{"line":64,"column":153}},"39":{"start":{"line":65,"column":6},"end":{"line":76,"column":7}},"40":{"start":{"line":66,"column":8},"end":{"line":66,"column":60}},"41":{"start":{"line":67,"column":8},"end":{"line":71,"column":9}},"42":{"start":{"line":68,"column":10},"end":{"line":70,"column":11}},"43":{"start":{"line":69,"column":12},"end":{"line":69,"column":59}},"44":{"start":{"line":72,"column":8},"end":{"line":72,"column":42}},"45":{"start":{"line":73,"column":8},"end":{"line":73,"column":41}},"46":{"start":{"line":74,"column":8},"end":{"line":74,"column":39}},"47":{"start":{"line":75,"column":8},"end":{"line":75,"column":98}},"48":{"start":{"line":78,"column":4},"end":{"line":86,"column":5}},"49":{"start":{"line":79,"column":6},"end":{"line":79,"column":84}},"50":{"start":{"line":80,"column":6},"end":{"line":85,"column":7}},"51":{"start":{"line":81,"column":8},"end":{"line":81,"column":43}},"52":{"start":{"line":82,"column":8},"end":{"line":82,"column":35}},"53":{"start":{"line":83,"column":8},"end":{"line":83,"column":33}},"54":{"start":{"line":84,"column":8},"end":{"line":84,"column":96}},"55":{"start":{"line":89,"column":10},"end":{"line":94,"column":3}},"56":{"start":{"line":90,"column":4},"end":{"line":92,"column":5}},"57":{"start":{"line":91,"column":6},"end":{"line":91,"column":18}},"58":{"start":{"line":93,"column":4},"end":{"line":93,"column":57}},"59":{"start":{"line":96,"column":10},"end":{"line":107,"column":3}},"60":{"start":{"line":97,"column":4},"end":{"line":106,"column":7}},"61":{"start":{"line":98,"column":6},"end":{"line":104,"column":9}},"62":{"start":{"line":99,"column":8},"end":{"line":103,"column":9}},"63":{"start":{"line":105,"column":6},"end":{"line":105,"column":25}},"64":{"start":{"line":111,"column":10},"end":{"line":132,"column":3}},"65":{"start":{"line":111,"column":2},"end":{"line":132,"column":3}},"66":{"start":{"line":112,"column":4},"end":{"line":130,"column":5}},"67":{"start":{"line":113,"column":6},"end":{"line":129,"column":8}},"68":{"start":{"line":114,"column":8},"end":{"line":128,"column":9}},"69":{"start":{"line":115,"column":10},"end":{"line":115,"column":53}},"70":{"start":{"line":117,"column":10},"end":{"line":117,"column":127}},"71":{"start":{"line":118,"column":10},"end":{"line":127,"column":13}},"72":{"start":{"line":119,"column":12},"end":{"line":122,"column":23}},"73":{"start":{"line":120,"column":63},"end":{"line":120,"column":127}},"74":{"start":{"line":121,"column":60},"end":{"line":121,"column":91}},"75":{"start":{"line":124,"column":12},"end":{"line":124,"column":32}},"76":{"start":{"line":126,"column":12},"end":{"line":126,"column":21}},"77":{"start":{"line":131,"column":4},"end":{"line":131,"column":23}},"78":{"start":{"line":134,"column":10},"end":{"line":156,"column":3}},"79":{"start":{"line":135,"column":4},"end":{"line":135,"column":56}},"80":{"start":{"line":136,"column":4},"end":{"line":136,"column":57}},"81":{"start":{"line":137,"column":4},"end":{"line":137,"column":46}},"82":{"start":{"line":139,"column":4},"end":{"line":155,"column":6}},"83":{"start":{"line":140,"column":6},"end":{"line":152,"column":17}},"84":{"start":{"line":142,"column":10},"end":{"line":145,"column":12}},"85":{"start":{"line":148,"column":10},"end":{"line":148,"column":74}},"86":{"start":{"line":151,"column":24},"end":{"line":151,"column":35}},"87":{"start":{"line":153,"column":6},"end":{"line":153,"column":44}},"88":{"start":{"line":154,"column":6},"end":{"line":154,"column":25}},"89":{"start":{"line":158,"column":10},"end":{"line":182,"column":3}},"90":{"start":{"line":159,"column":4},"end":{"line":181,"column":6}},"91":{"start":{"line":166,"column":6},"end":{"line":180,"column":17}},"92":{"start":{"line":168,"column":10},"end":{"line":171,"column":12}},"93":{"start":{"line":174,"column":10},"end":{"line":174,"column":53}},"94":{"start":{"line":178,"column":10},"end":{"line":178,"column":53}},"95":{"start":{"line":184,"column":10},"end":{"line":205,"column":3}},"96":{"start":{"line":185,"column":4},"end":{"line":185,"column":28}},"97":{"start":{"line":186,"column":4},"end":{"line":186,"column":46}},"98":{"start":{"line":188,"column":4},"end":{"line":204,"column":6}},"99":{"start":{"line":189,"column":6},"end":{"line":201,"column":17}},"100":{"start":{"line":191,"column":10},"end":{"line":194,"column":12}},"101":{"start":{"line":197,"column":10},"end":{"line":197,"column":74}},"102":{"start":{"line":200,"column":24},"end":{"line":200,"column":35}},"103":{"start":{"line":202,"column":6},"end":{"line":202,"column":44}},"104":{"start":{"line":203,"column":6},"end":{"line":203,"column":25}},"105":{"start":{"line":17,"column":9},"end":{"line":17,"column":20}},"106":{"start":{"line":206,"column":0},"end":{"line":206,"column":1}},"107":{"start":{"line":16,"column":13},"end":{"line":206,"column":1}}},"fnMap":{"1":{"name":"(anonymous_2649)","line":16,"loc":{"start":{"line":16,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"FieldAddon","line":21,"loc":{"start":{"line":21,"column":2},"end":{"line":21,"column":37}}},"3":{"name":"(anonymous_2651)","line":22,"loc":{"start":{"line":22,"column":89},"end":{"line":22,"column":132}}},"4":{"name":"(anonymous_2652)","line":27,"loc":{"start":{"line":27,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_2653)","line":47,"loc":{"start":{"line":47,"column":17},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_2654)","line":53,"loc":{"start":{"line":53,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_2655)","line":89,"loc":{"start":{"line":89,"column":2},"end":{"line":89,"column":44}}},"8":{"name":"(anonymous_2656)","line":96,"loc":{"start":{"line":96,"column":2},"end":{"line":96,"column":81}}},"9":{"name":"(anonymous_2657)","line":97,"loc":{"start":{"line":97,"column":24},"end":{"line":97,"column":31}}},"10":{"name":"(anonymous_2658)","line":98,"loc":{"start":{"line":98,"column":60},"end":{"line":98,"column":77}}},"11":{"name":"(anonymous_2659)","line":111,"loc":{"start":{"line":111,"column":2},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_2660)","line":113,"loc":{"start":{"line":113,"column":42},"end":{"line":113,"column":58}}},"13":{"name":"(anonymous_2661)","line":118,"loc":{"start":{"line":118,"column":23},"end":{"line":118,"column":62}}},"14":{"name":"(anonymous_2662)","line":120,"loc":{"start":{"line":120,"column":22},"end":{"line":120,"column":58}}},"15":{"name":"(anonymous_2663)","line":121,"loc":{"start":{"line":121,"column":19},"end":{"line":121,"column":55}}},"16":{"name":"(anonymous_2664)","line":125,"loc":{"start":{"line":125,"column":19},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_2665)","line":134,"loc":{"start":{"line":134,"column":2},"end":{"line":134,"column":36}}},"18":{"name":"(anonymous_2666)","line":139,"loc":{"start":{"line":139,"column":33},"end":{"line":139,"column":50}}},"19":{"name":"(anonymous_2667)","line":141,"loc":{"start":{"line":141,"column":13},"end":{"line":141,"column":27}}},"20":{"name":"(anonymous_2668)","line":147,"loc":{"start":{"line":147,"column":16},"end":{"line":147,"column":22}}},"21":{"name":"(anonymous_2669)","line":151,"loc":{"start":{"line":151,"column":13},"end":{"line":151,"column":19}}},"22":{"name":"(anonymous_2670)","line":158,"loc":{"start":{"line":158,"column":2},"end":{"line":158,"column":52}}},"23":{"name":"(anonymous_2671)","line":165,"loc":{"start":{"line":165,"column":12},"end":{"line":165,"column":19}}},"24":{"name":"(anonymous_2672)","line":167,"loc":{"start":{"line":167,"column":13},"end":{"line":167,"column":19}}},"25":{"name":"(anonymous_2673)","line":173,"loc":{"start":{"line":173,"column":16},"end":{"line":173,"column":22}}},"26":{"name":"(anonymous_2674)","line":177,"loc":{"start":{"line":177,"column":13},"end":{"line":177,"column":19}}},"27":{"name":"(anonymous_2675)","line":184,"loc":{"start":{"line":184,"column":2},"end":{"line":184,"column":42}}},"28":{"name":"(anonymous_2676)","line":188,"loc":{"start":{"line":188,"column":33},"end":{"line":188,"column":50}}},"29":{"name":"(anonymous_2677)","line":190,"loc":{"start":{"line":190,"column":13},"end":{"line":190,"column":27}}},"30":{"name":"(anonymous_2678)","line":196,"loc":{"start":{"line":196,"column":16},"end":{"line":196,"column":22}}},"31":{"name":"(anonymous_2679)","line":200,"loc":{"start":{"line":200,"column":13},"end":{"line":200,"column":19}}}},"branchMap":{"1":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":29,"column":3}},{"start":{"line":29,"column":4},"end":{"line":29,"column":3}}]},"2":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":4},"end":{"line":33,"column":3}},{"start":{"line":33,"column":4},"end":{"line":33,"column":3}}]},"3":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":4},"end":{"line":37,"column":3}},{"start":{"line":37,"column":4},"end":{"line":37,"column":3}}]},"4":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":4},"end":{"line":40,"column":3}},{"start":{"line":40,"column":4},"end":{"line":40,"column":3}}]},"5":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":4},"end":{"line":43,"column":3}},{"start":{"line":43,"column":4},"end":{"line":43,"column":3}}]},"6":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":4},"end":{"line":55,"column":3}},{"start":{"line":55,"column":4},"end":{"line":55,"column":3}}]},"7":{"line":56,"type":"binary-expr","locations":[{"start":{"line":56,"column":18},"end":{"line":56,"column":47}},{"start":{"line":56,"column":51},"end":{"line":56,"column":60}}]},"8":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":4},"end":{"line":63,"column":3}},{"start":{"line":63,"column":4},"end":{"line":63,"column":3}}]},"9":{"line":64,"type":"binary-expr","locations":[{"start":{"line":64,"column":23},"end":{"line":64,"column":58}},{"start":{"line":64,"column":63},"end":{"line":64,"column":106}},{"start":{"line":64,"column":110},"end":{"line":64,"column":151}}]},"10":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":6},"end":{"line":65,"column":5}},{"start":{"line":65,"column":6},"end":{"line":65,"column":5}}]},"11":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":8},"end":{"line":67,"column":7}},{"start":{"line":67,"column":8},"end":{"line":67,"column":7}}]},"12":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":10},"end":{"line":68,"column":9}},{"start":{"line":68,"column":10},"end":{"line":68,"column":9}}]},"13":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":4},"end":{"line":78,"column":3}},{"start":{"line":78,"column":4},"end":{"line":78,"column":3}}]},"14":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":6},"end":{"line":80,"column":5}},{"start":{"line":80,"column":6},"end":{"line":80,"column":5}}]},"15":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":4},"end":{"line":90,"column":3}},{"start":{"line":90,"column":4},"end":{"line":90,"column":3}}]},"16":{"line":93,"type":"binary-expr","locations":[{"start":{"line":93,"column":39},"end":{"line":93,"column":49}},{"start":{"line":93,"column":53},"end":{"line":93,"column":55}}]},"17":{"line":100,"type":"cond-expr","locations":[{"start":{"line":100,"column":94},"end":{"line":100,"column":142}},{"start":{"line":100,"column":145},"end":{"line":100,"column":150}}]},"18":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":4},"end":{"line":112,"column":3}},{"start":{"line":112,"column":4},"end":{"line":112,"column":3}}]},"19":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":8},"end":{"line":114,"column":7}},{"start":{"line":114,"column":8},"end":{"line":114,"column":7}}]},"20":{"line":120,"type":"binary-expr","locations":[{"start":{"line":120,"column":63},"end":{"line":120,"column":94}},{"start":{"line":120,"column":98},"end":{"line":120,"column":127}}]},"21":{"line":135,"type":"binary-expr","locations":[{"start":{"line":135,"column":17},"end":{"line":135,"column":35}},{"start":{"line":135,"column":39},"end":{"line":135,"column":56}}]},"22":{"line":136,"type":"cond-expr","locations":[{"start":{"line":136,"column":29},"end":{"line":136,"column":46}},{"start":{"line":136,"column":49},"end":{"line":136,"column":56}}]},"23":{"line":144,"type":"cond-expr","locations":[{"start":{"line":144,"column":28},"end":{"line":144,"column":33}},{"start":{"line":144,"column":36},"end":{"line":144,"column":47}}]},"24":{"line":148,"type":"binary-expr","locations":[{"start":{"line":148,"column":17},"end":{"line":148,"column":34}},{"start":{"line":148,"column":38},"end":{"line":148,"column":73}}]},"25":{"line":197,"type":"binary-expr","locations":[{"start":{"line":197,"column":17},"end":{"line":197,"column":34}},{"start":{"line":197,"column":38},"end":{"line":197,"column":73}}]}},"s":{"1":1,"2":1,"3":3,"4":1,"5":2,"6":2,"7":2,"8":4,"9":1,"10":4,"11":4,"12":4,"13":1,"14":3,"15":3,"16":0,"17":3,"18":3,"19":2,"20":3,"21":1,"22":3,"23":0,"24":3,"25":3,"26":0,"27":3,"28":1,"29":4,"30":4,"31":2,"32":2,"33":2,"34":2,"35":2,"36":2,"37":2,"38":1,"39":1,"40":1,"41":1,"42":0,"43":0,"44":1,"45":1,"46":1,"47":1,"48":1,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":1,"56":3,"57":0,"58":3,"59":1,"60":3,"61":1,"62":2,"63":1,"64":1,"65":2,"66":2,"67":2,"68":2,"69":1,"70":1,"71":1,"72":0,"73":0,"74":0,"75":0,"76":0,"77":2,"78":1,"79":2,"80":2,"81":2,"82":2,"83":1,"84":2,"85":2,"86":2,"87":1,"88":1,"89":1,"90":1,"91":0,"92":0,"93":0,"94":0,"95":1,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":1,"106":1,"107":1},"b":{"1":[1,3],"2":[0,3],"3":[2,1],"4":[1,2],"5":[0,3],"6":[2,2],"7":[2,0],"8":[1,1],"9":[1,0,0],"10":[1,0],"11":[0,1],"12":[0,0],"13":[0,1],"14":[0,0],"15":[0,3],"16":[3,2],"17":[0,2],"18":[2,0],"19":[1,1],"20":[0,0],"21":[2,2],"22":[2,0],"23":[2,0],"24":[2,2],"25":[0,0]},"f":{"1":1,"2":2,"3":4,"4":4,"5":0,"6":4,"7":3,"8":3,"9":1,"10":2,"11":2,"12":2,"13":0,"14":0,"15":0,"16":0,"17":2,"18":1,"19":2,"20":2,"21":2,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},"code":"///<reference path='Omnibox.ts'/>\nimport {Omnibox, IPopulateOmniboxSuggestionsEventArgs, IOmniboxSuggestion} from './Omnibox';\nimport {OmniboxEvents} from '../../events/OmniboxEvents';\nimport {IFieldDescription} from '../../rest/FieldDescription';\nimport {IEndpointError} from '../../rest/EndpointError';\nimport {MagicBox} from '../../ExternalModulesShim';\n\ninterface IFieldAddonHash {\n  type: string;\n  before: string;\n  after: string;\n  current: string;\n  field?: string\n}\n\nexport class FieldAddon {\n  static INDEX = 64;\n\n  cache: { [hash: string]: Promise<string[]> } = {};\n\n  constructor(public omnibox: Omnibox) {\n    this.omnibox.bind.on(this.omnibox.element, OmniboxEvents.populateOmniboxSuggestions, (args: IPopulateOmniboxSuggestionsEventArgs) => {\n      args.suggestions.push(this.getSuggestion());\n    })\n  }\n\n  public getSuggestion(): Promise<IOmniboxSuggestion[]> {\n    var hash = this.getHash();\n    if (hash == null) {\n      return null;\n    }\n    var hashString = this.hashToString(hash);\n    if (this.cache[hashString] != null) {\n      return this.hashValueToSuggestion(hash, this.cache[hashString]);\n    }\n    var values: Promise<IOmniboxSuggestion[]>;\n    if (hash.type == 'FieldName') {\n      values = this.fieldNames(hash.current);\n    }\n    if (hash.type == 'FieldValue') {\n      values = this.fieldValues(hash.field, hash.current);\n    }\n    if (hash.type == 'SimpleFieldName') {\n      values = this.simpleFieldNames(hash.current);\n    }\n    this.cache[hashString] = values;\n    values.catch(() => {\n      delete this.cache[hashString];\n    })\n    return this.hashValueToSuggestion(hash, values);\n  }\n\n  private getHash(): IFieldAddonHash {\n    var fieldName: Coveo.MagicBox.Result = _.last(this.omnibox.resultAtCursor('FieldName'));\n    if (fieldName != null) {\n      fieldName = fieldName.findParent('Field') || fieldName;\n      var currentField = fieldName.toString();\n      var before = fieldName.before();\n      var after = fieldName.after();\n      return { type: 'FieldName', current: currentField, before: before, after: after };\n    }\n    var fieldValue: Coveo.MagicBox.Result = _.last(this.omnibox.resultAtCursor('FieldValue'));\n    if (fieldValue) {\n      var fieldQuery = fieldValue.findParent('FieldQuery') || (this.omnibox.options.enableSimpleFieldAddon && fieldValue.findParent('FieldSimpleQuery'));\n      if (fieldQuery) {\n        var field = fieldQuery.find('FieldName').toString();\n        if (this.omnibox.options.fieldAlias) {\n          if (field in this.omnibox.options.fieldAlias) {\n            field = this.omnibox.options.fieldAlias[field];\n          }\n        }\n        var value = fieldValue.toString();\n        var before = fieldValue.before();\n        var after = fieldValue.after();\n        return { type: 'FieldValue', field: field, current: value, before: before, after: after };\n      }\n    }\n    if (this.omnibox.options.enableSimpleFieldAddon) {\n      var word: Coveo.MagicBox.Result = _.last(this.omnibox.resultAtCursor('Word'));\n      if (word != null) {\n        var currentField = word.toString();\n        var before = word.before();\n        var after = word.after();\n        return { type: 'SimpleFieldName', current: currentField, before: before, after: after };\n      }\n    }\n  }\n\n  private hashToString(hash: IFieldAddonHash) {\n    if (hash == null) {\n      return null;\n    }\n    return hash.type + hash.current + (hash.field || '');\n  }\n\n  private hashValueToSuggestion(hash: IFieldAddonHash, promise: Promise<string[]>): Promise<IOmniboxSuggestion[]> {\n    return promise.then((values) => {\n      var suggestions: IOmniboxSuggestion[] = _.map(values, (value: string, i) => {\n        return {\n          text: hash.before + (hash.current.toLowerCase().indexOf(value.toLowerCase()) == 0 ? hash.current + value.substr(hash.current.length) : value) + hash.after,\n          html: MagicBox.Utils.highlightText(value, hash.current, true),\n          index: FieldAddon.INDEX - i / values.length\n        }\n      });\n      return suggestions;\n    });\n  }\n\n  private fields: Promise<string[]>;\n\n  private getFields(): Promise<string[]> {\n    if (this.fields == null) {\n      this.fields = new Promise<string[]>((resolve, reject) => {\n        if (this.omnibox.options.listOfFields != null) {\n          resolve(this.omnibox.options.listOfFields);\n        } else {\n          var promise: Promise<IFieldDescription[] | IEndpointError> = this.omnibox.queryController.getEndpoint().listFields();\n          promise.then((fieldDescriptions: IFieldDescription[]) => {\n            var fieldNames = _.chain(fieldDescriptions)\n              .filter((fieldDescription: IFieldDescription) => fieldDescription.includeInQuery && fieldDescription.groupByField)\n              .map((fieldDescription: IFieldDescription) => fieldDescription.name.substr(1))\n              .value();\n\n            resolve(fieldNames);\n          }).catch(() => {\n            reject();\n          });\n        }\n      })\n    }\n    return this.fields;\n  }\n\n  private fieldNames(current: string): Promise<IOmniboxSuggestion[]> {\n    var withAt = current.length > 0 && current[0] == '@'\n    var fieldName = withAt ? current.substr(1) : current;\n    var fieldNameLC = fieldName.toLowerCase();\n\n    return this.getFields().then((fields: string[]) => {\n      var matchFields = _.chain(fields)\n        .map((field: string) => {\n          return {\n            index: field.toLowerCase().indexOf(fieldNameLC),\n            field: withAt ? field : '@' + field\n          };\n        })\n        .filter((field) => {\n          return field.index != -1 && field.field.length > current.length;\n        })\n        .sortBy('index')\n        .map((field) => field.field)\n        .value();\n      matchFields = _.first(matchFields, 5);\n      return matchFields;\n    })\n  }\n\n  private fieldValues(field: string, current: string): Promise<IOmniboxSuggestion[]> {\n    return this.omnibox.queryController.getEndpoint().listFieldValues({\n      pattern: '.*' + current + '.*',\n      patternType: 'RegularExpression',\n      sortCriteria: 'occurrences',\n      field: '@' + field,\n      maximumNumberOfValues: 5\n    }).then((values) => {\n      return _.chain(values)\n        .map((value) => {\n          return {\n            index: value.value.toLowerCase().indexOf(current),\n            value: value.value\n          };\n        })\n        .filter((value) => {\n          return value.value.length > current.length;\n        })\n        .sortBy('index')\n        .map((value) => {\n          return value.value.replace(/ /g, '\\u00A0');\n        })\n        .value();\n    })\n  }\n\n  private simpleFieldNames(current: string): Promise<IOmniboxSuggestion[]> {\n    var fieldName = current;\n    var fieldNameLC = fieldName.toLowerCase();\n\n    return this.getFields().then((fields: string[]) => {\n      var matchFields = _.chain(fields)\n        .map((field: string) => {\n          return {\n            index: field.toLowerCase().indexOf(fieldNameLC),\n            field: field + ':'\n          };\n        })\n        .filter((field) => {\n          return field.index != -1 && field.field.length > current.length;\n        })\n        .sortBy('index')\n        .map((field) => field.field)\n        .value();\n      matchFields = _.first(matchFields, 5);\n      return matchFields;\n    })\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Omnibox/FieldAddon.ts\n **/","l":{"3":1,"6":1,"16":3,"17":1,"19":2,"21":2,"22":2,"23":4,"27":4,"28":4,"29":4,"30":1,"32":3,"33":3,"34":0,"36":3,"37":3,"38":2,"40":3,"41":1,"43":3,"44":0,"46":3,"47":3,"48":0,"50":3,"53":1,"54":4,"55":4,"56":2,"57":2,"58":2,"59":2,"60":2,"62":2,"63":2,"64":1,"65":1,"66":1,"67":1,"68":0,"69":0,"72":1,"73":1,"74":1,"75":1,"78":1,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"89":1,"90":3,"91":0,"93":3,"96":1,"97":3,"98":1,"99":2,"105":1,"111":2,"112":2,"113":2,"114":2,"115":1,"117":1,"118":1,"119":0,"120":0,"121":0,"124":0,"126":0,"131":2,"134":1,"135":2,"136":2,"137":2,"139":2,"140":1,"142":2,"148":2,"151":2,"153":1,"154":1,"158":1,"159":1,"166":0,"168":0,"174":0,"178":0,"184":1,"185":0,"186":0,"188":0,"189":0,"191":0,"197":0,"200":0,"202":0,"203":0,"206":1}},"src/ui/Omnibox/QueryExtensionAddon.ts":{"path":"src/ui/Omnibox/QueryExtensionAddon.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":57}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":51}},"3":{"start":{"line":16,"column":0},"end":{"line":148,"column":1}},"4":{"start":{"line":21,"column":2},"end":{"line":25,"column":3}},"5":{"start":{"line":21,"column":21},"end":{"line":21,"column":37}},"6":{"start":{"line":19,"column":2},"end":{"line":19,"column":52}},"7":{"start":{"line":22,"column":4},"end":{"line":24,"column":7}},"8":{"start":{"line":23,"column":6},"end":{"line":23,"column":50}},"9":{"start":{"line":27,"column":9},"end":{"line":42,"column":3}},"10":{"start":{"line":27,"column":2},"end":{"line":42,"column":3}},"11":{"start":{"line":28,"column":4},"end":{"line":28,"column":51}},"12":{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},"13":{"start":{"line":30,"column":6},"end":{"line":30,"column":18}},"14":{"start":{"line":32,"column":4},"end":{"line":32,"column":45}},"15":{"start":{"line":33,"column":4},"end":{"line":35,"column":5}},"16":{"start":{"line":34,"column":6},"end":{"line":34,"column":70}},"17":{"start":{"line":36,"column":4},"end":{"line":36,"column":137}},"18":{"start":{"line":37,"column":4},"end":{"line":37,"column":36}},"19":{"start":{"line":38,"column":4},"end":{"line":40,"column":6}},"20":{"start":{"line":39,"column":6},"end":{"line":39,"column":36}},"21":{"start":{"line":41,"column":4},"end":{"line":41,"column":52}},"22":{"start":{"line":44,"column":10},"end":{"line":82,"column":3}},"23":{"start":{"line":45,"column":4},"end":{"line":45,"column":98}},"24":{"start":{"line":46,"column":4},"end":{"line":80,"column":5}},"25":{"start":{"line":47,"column":6},"end":{"line":47,"column":91}},"26":{"start":{"line":48,"column":6},"end":{"line":48,"column":74}},"27":{"start":{"line":49,"column":6},"end":{"line":56,"column":7}},"28":{"start":{"line":50,"column":8},"end":{"line":55,"column":10}},"29":{"start":{"line":58,"column":6},"end":{"line":58,"column":78}},"30":{"start":{"line":59,"column":6},"end":{"line":79,"column":7}},"31":{"start":{"line":61,"column":8},"end":{"line":67,"column":19}},"32":{"start":{"line":63,"column":12},"end":{"line":63,"column":65}},"33":{"start":{"line":64,"column":12},"end":{"line":64,"column":43}},"34":{"start":{"line":69,"column":8},"end":{"line":69,"column":72}},"35":{"start":{"line":71,"column":8},"end":{"line":78,"column":10}},"36":{"start":{"line":81,"column":4},"end":{"line":81,"column":16}},"37":{"start":{"line":84,"column":10},"end":{"line":89,"column":3}},"38":{"start":{"line":85,"column":4},"end":{"line":87,"column":5}},"39":{"start":{"line":86,"column":6},"end":{"line":86,"column":18}},"40":{"start":{"line":88,"column":4},"end":{"line":88,"column":100}},"41":{"start":{"line":91,"column":10},"end":{"line":102,"column":3}},"42":{"start":{"line":92,"column":4},"end":{"line":101,"column":6}},"43":{"start":{"line":93,"column":6},"end":{"line":99,"column":9}},"44":{"start":{"line":94,"column":8},"end":{"line":98,"column":9}},"45":{"start":{"line":100,"column":6},"end":{"line":100,"column":25}},"46":{"start":{"line":106,"column":10},"end":{"line":111,"column":3}},"47":{"start":{"line":107,"column":4},"end":{"line":109,"column":5}},"48":{"start":{"line":108,"column":6},"end":{"line":108,"column":80}},"49":{"start":{"line":110,"column":4},"end":{"line":110,"column":27}},"50":{"start":{"line":113,"column":10},"end":{"line":132,"column":3}},"51":{"start":{"line":114,"column":4},"end":{"line":114,"column":46}},"52":{"start":{"line":115,"column":4},"end":{"line":131,"column":6}},"53":{"start":{"line":116,"column":6},"end":{"line":128,"column":17}},"54":{"start":{"line":118,"column":10},"end":{"line":121,"column":12}},"55":{"start":{"line":124,"column":10},"end":{"line":124,"column":92}},"56":{"start":{"line":129,"column":6},"end":{"line":129,"column":52}},"57":{"start":{"line":130,"column":6},"end":{"line":130,"column":29}},"58":{"start":{"line":134,"column":10},"end":{"line":143,"column":3}},"59":{"start":{"line":135,"column":4},"end":{"line":142,"column":6}},"60":{"start":{"line":136,"column":6},"end":{"line":136,"column":92}},"61":{"start":{"line":136,"column":68},"end":{"line":136,"column":90}},"62":{"start":{"line":137,"column":6},"end":{"line":141,"column":7}},"63":{"start":{"line":138,"column":8},"end":{"line":138,"column":18}},"64":{"start":{"line":140,"column":8},"end":{"line":140,"column":131}},"65":{"start":{"line":140,"column":95},"end":{"line":140,"column":129}},"66":{"start":{"line":145,"column":9},"end":{"line":147,"column":3}},"67":{"start":{"line":146,"column":4},"end":{"line":146,"column":10}},"68":{"start":{"line":17,"column":9},"end":{"line":17,"column":20}},"69":{"start":{"line":148,"column":0},"end":{"line":148,"column":1}},"70":{"start":{"line":16,"column":13},"end":{"line":148,"column":1}}},"fnMap":{"1":{"name":"(anonymous_2682)","line":16,"loc":{"start":{"line":16,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"QueryExtensionAddon","line":21,"loc":{"start":{"line":21,"column":2},"end":{"line":21,"column":37}}},"3":{"name":"(anonymous_2684)","line":22,"loc":{"start":{"line":22,"column":89},"end":{"line":22,"column":132}}},"4":{"name":"(anonymous_2685)","line":27,"loc":{"start":{"line":27,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_2686)","line":38,"loc":{"start":{"line":38,"column":17},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_2687)","line":44,"loc":{"start":{"line":44,"column":2},"end":{"line":44,"column":51}}},"7":{"name":"(anonymous_2688)","line":62,"loc":{"start":{"line":62,"column":15},"end":{"line":62,"column":22}}},"8":{"name":"(anonymous_2689)","line":84,"loc":{"start":{"line":84,"column":2},"end":{"line":84,"column":53}}},"9":{"name":"(anonymous_2690)","line":91,"loc":{"start":{"line":91,"column":2},"end":{"line":91,"column":90}}},"10":{"name":"(anonymous_2691)","line":92,"loc":{"start":{"line":92,"column":24},"end":{"line":92,"column":31}}},"11":{"name":"(anonymous_2692)","line":93,"loc":{"start":{"line":93,"column":60},"end":{"line":93,"column":69}}},"12":{"name":"(anonymous_2693)","line":106,"loc":{"start":{"line":106,"column":2},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_2694)","line":113,"loc":{"start":{"line":113,"column":2},"end":{"line":113,"column":31}}},"14":{"name":"(anonymous_2695)","line":115,"loc":{"start":{"line":115,"column":37},"end":{"line":115,"column":62}}},"15":{"name":"(anonymous_2696)","line":117,"loc":{"start":{"line":117,"column":13},"end":{"line":117,"column":35}}},"16":{"name":"(anonymous_2697)","line":123,"loc":{"start":{"line":123,"column":16},"end":{"line":123,"column":26}}},"17":{"name":"(anonymous_2698)","line":134,"loc":{"start":{"line":134,"column":2},"end":{"line":134,"column":70}}},"18":{"name":"(anonymous_2699)","line":135,"loc":{"start":{"line":135,"column":37},"end":{"line":135,"column":62}}},"19":{"name":"(anonymous_2700)","line":136,"loc":{"start":{"line":136,"column":41},"end":{"line":136,"column":63}}},"20":{"name":"(anonymous_2701)","line":140,"loc":{"start":{"line":140,"column":69},"end":{"line":140,"column":90}}},"21":{"name":"(anonymous_2702)","line":145,"loc":{"start":{"line":145,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":29,"column":3}},{"start":{"line":29,"column":4},"end":{"line":29,"column":3}}]},"2":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":4},"end":{"line":33,"column":3}},{"start":{"line":33,"column":4},"end":{"line":33,"column":3}}]},"3":{"line":36,"type":"cond-expr","locations":[{"start":{"line":36,"column":54},"end":{"line":36,"column":78}},{"start":{"line":36,"column":81},"end":{"line":36,"column":136}}]},"4":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":4},"end":{"line":46,"column":3}},{"start":{"line":46,"column":4},"end":{"line":46,"column":3}}]},"5":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":6},"end":{"line":49,"column":5}},{"start":{"line":49,"column":6},"end":{"line":49,"column":5}}]},"6":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":6},"end":{"line":59,"column":5}},{"start":{"line":59,"column":6},"end":{"line":59,"column":5}}]},"7":{"line":64,"type":"binary-expr","locations":[{"start":{"line":64,"column":19},"end":{"line":64,"column":23}},{"start":{"line":64,"column":27},"end":{"line":64,"column":42}}]},"8":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":4},"end":{"line":85,"column":3}},{"start":{"line":85,"column":4},"end":{"line":85,"column":3}}]},"9":{"line":88,"type":"binary-expr","locations":[{"start":{"line":88,"column":38},"end":{"line":88,"column":47}},{"start":{"line":88,"column":51},"end":{"line":88,"column":53}}]},"10":{"line":88,"type":"cond-expr","locations":[{"start":{"line":88,"column":69},"end":{"line":88,"column":85}},{"start":{"line":88,"column":88},"end":{"line":88,"column":90}}]},"11":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":4},"end":{"line":107,"column":3}},{"start":{"line":107,"column":4},"end":{"line":107,"column":3}}]},"12":{"line":124,"type":"binary-expr","locations":[{"start":{"line":124,"column":17},"end":{"line":124,"column":38}},{"start":{"line":124,"column":42},"end":{"line":124,"column":91}}]},"13":{"line":137,"type":"if","locations":[{"start":{"line":137,"column":6},"end":{"line":137,"column":5}},{"start":{"line":137,"column":6},"end":{"line":137,"column":5}}]}},"s":{"1":1,"2":1,"3":2,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":1,"15":1,"16":0,"17":1,"18":1,"19":1,"20":0,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":1,"39":0,"40":1,"41":1,"42":1,"43":0,"44":0,"45":0,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":0,"54":0,"55":0,"56":0,"57":0,"58":1,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":1,"67":0,"68":1,"69":1,"70":1},"b":{"1":[0,1],"2":[0,1],"3":[1,0],"4":[1,0],"5":[1,0],"6":[0,0],"7":[0,0],"8":[0,1],"9":[1,1],"10":[0,1],"11":[1,0],"12":[0,0],"13":[0,0]},"f":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":0,"8":1,"9":1,"10":0,"11":0,"12":1,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},"code":"///<reference path='Omnibox.ts'/>\nimport {OmniboxEvents} from '../../events/OmniboxEvents';\nimport {Omnibox, IPopulateOmniboxSuggestionsEventArgs, IOmniboxSuggestion} from './Omnibox';\nimport {IExtension} from '../../rest/Extension';\nimport {MagicBox} from '../../ExternalModulesShim';\n\ninterface IQueryExtensionAddonHash {\n  type: string;\n  before: string;\n  after: string;\n  current: string;\n  name?: string;\n  used?: string[];\n}\n\nexport class QueryExtensionAddon {\n  static INDEX = 62;\n\n  cache: { [hash: string]: Promise<string[]> } = {};\n\n  constructor(public omnibox: Omnibox) {\n    this.omnibox.bind.on(this.omnibox.element, OmniboxEvents.populateOmniboxSuggestions, (args: IPopulateOmniboxSuggestionsEventArgs) => {\n      args.suggestions.push(this.getSuggestion());\n    });\n  }\n\n  public getSuggestion(): Promise<IOmniboxSuggestion[]> {\n    var hash = this.getHash(this.omnibox.magicBox);\n    if (hash == null) {\n      return null;\n    }\n    var hashString = this.hashToString(hash);\n    if (this.cache[hashString] != null) {\n      return this.hashValueToSuggestion(hash, this.cache[hashString]);\n    }\n    var values = (hash.type == 'QueryExtensionName' ? this.names(hash.current) : this.attributeNames(hash.name, hash.current, hash.used))\n    this.cache[hashString] = values;\n    values.catch(() => {\n      delete this.cache[hashString];\n    })\n    return this.hashValueToSuggestion(hash, values);\n  }\n\n  private getHash(magicBox: Coveo.MagicBox.Instance): IQueryExtensionAddonHash {\n    var queryExtension: Coveo.MagicBox.Result = _.last(magicBox.resultAtCursor('QueryExtension'));\n    if (queryExtension != null) {\n      var queryExtensionArgumentResults = queryExtension.findAll('QueryExtensionArgument');\n      var current = _.last(magicBox.resultAtCursor('QueryExtensionName'));\n      if (current != null) {\n        return {\n          type: 'QueryExtensionName',\n          current: current.toString(),\n          before: current.before(),\n          after: current.after()\n        };\n      }\n\n      current = _.last(magicBox.resultAtCursor('QueryExtensionArgumentName'));\n      if (current != null) {\n\n        var used: string[] = _.chain(queryExtensionArgumentResults)\n          .map((result) => {\n            var name = result.find('QueryExtensionArgumentName');\n            return name && name.toString();\n          })\n          .compact()\n          .value();\n\n        var name = queryExtension.find('QueryExtensionName').toString();\n\n        return {\n          type: 'QueryExtensionArgumentName',\n          current: current.toString(),\n          before: current.before(),\n          after: current.after(),\n          name: name,\n          used: used\n        };\n      }\n    }\n    return null;\n  }\n\n  private hashToString(hash: IQueryExtensionAddonHash) {\n    if (hash == null) {\n      return null;\n    }\n    return [hash.type, hash.current, (hash.name || ''), (hash.used ? hash.used.join() : '')].join();\n  }\n\n  private hashValueToSuggestion(hash: IQueryExtensionAddonHash, promise: Promise<string[]>): Promise<IOmniboxSuggestion[]> {\n    return promise.then((values) => {\n      var suggestions: IOmniboxSuggestion[] = _.map(values, (value, i) => {\n        return {\n          html: MagicBox.Utils.highlightText(value, hash.current, true),\n          text: hash.before + value + hash.after,\n          index: QueryExtensionAddon.INDEX - i / values.length\n        }\n      });\n      return suggestions;\n    })\n  }\n\n  private extensions: Promise<any>;\n\n  private getExtensions() {\n    if (this.extensions == null) {\n      this.extensions = this.omnibox.queryController.getEndpoint().extensions();\n    }\n    return this.extensions;\n  }\n\n  private names(current: string): Promise<string[]> {\n    var extensionName = current.toLowerCase();\n    return this.getExtensions().then((extensions: IExtension[]) => {\n      var matchExtensions = _.chain(extensions)\n        .map((extension: IExtension) => {\n          return {\n            index: extension.name.toLowerCase().indexOf(extensionName),\n            extension: extension.name\n          };\n        })\n        .filter((extension) => {\n          return extension.index != -1 && extension.extension.length > extensionName.length;\n        })\n        .sortBy('index')\n        .pluck('extension')\n        .value();\n      matchExtensions = _.first(matchExtensions, 5);\n      return matchExtensions;\n    })\n  }\n\n  private attributeNames(name: string, current: string, used: string[]): Promise<string[]> {\n    return this.getExtensions().then((extensions: IExtension[]) => {\n      var extension = _.find(extensions, (extension: IExtension) => extension.name == name);\n      if (extension == null) {\n        return [];\n      } else {\n        return _.filter(_.difference(extension.argumentNames, used), (argumentName: string) => argumentName.indexOf(current) == 0);\n      }\n    })\n  }\n\n  public hash() {\n    return\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Omnibox/QueryExtensionAddon.ts\n **/","l":{"2":1,"5":1,"16":2,"17":1,"19":1,"21":1,"22":1,"23":1,"27":1,"28":1,"29":1,"30":0,"32":1,"33":1,"34":0,"36":1,"37":1,"38":1,"39":0,"41":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"58":0,"59":0,"61":0,"63":0,"64":0,"69":0,"71":0,"81":0,"84":1,"85":1,"86":0,"88":1,"91":1,"92":1,"93":0,"94":0,"100":0,"106":1,"107":1,"108":1,"110":1,"113":1,"114":1,"115":1,"116":0,"118":0,"124":0,"129":0,"130":0,"134":1,"135":0,"136":0,"137":0,"138":0,"140":0,"145":1,"146":0,"148":1}},"src/ui/Omnibox/RevealQuerySuggestAddon.ts":{"path":"src/ui/Omnibox/RevealQuerySuggestAddon.ts","statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":73}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":57}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":52}},"5":{"start":{"line":9,"column":0},"end":{"line":104,"column":1}},"6":{"start":{"line":45,"column":2},"end":{"line":49,"column":3}},"7":{"start":{"line":45,"column":21},"end":{"line":45,"column":37}},"8":{"start":{"line":43,"column":10},"end":{"line":43,"column":72}},"9":{"start":{"line":46,"column":4},"end":{"line":48,"column":7}},"10":{"start":{"line":47,"column":6},"end":{"line":47,"column":50}},"11":{"start":{"line":15,"column":17},"end":{"line":29,"column":3}},"12":{"start":{"line":16,"column":4},"end":{"line":28,"column":7}},"13":{"start":{"line":17,"column":6},"end":{"line":17,"column":25}},"14":{"start":{"line":18,"column":6},"end":{"line":20,"column":7}},"15":{"start":{"line":19,"column":8},"end":{"line":19,"column":46}},"16":{"start":{"line":21,"column":6},"end":{"line":23,"column":7}},"17":{"start":{"line":22,"column":8},"end":{"line":22,"column":47}},"18":{"start":{"line":24,"column":6},"end":{"line":27,"column":9}},"19":{"start":{"line":31,"column":17},"end":{"line":41,"column":3}},"20":{"start":{"line":33,"column":4},"end":{"line":33,"column":92}},"21":{"start":{"line":34,"column":4},"end":{"line":34,"column":71}},"22":{"start":{"line":34,"column":54},"end":{"line":34,"column":69}},"23":{"start":{"line":36,"column":4},"end":{"line":38,"column":5}},"24":{"start":{"line":37,"column":6},"end":{"line":37,"column":18}},"25":{"start":{"line":40,"column":4},"end":{"line":40,"column":115}},"26":{"start":{"line":40,"column":98},"end":{"line":40,"column":113}},"27":{"start":{"line":51,"column":9},"end":{"line":69,"column":3}},"28":{"start":{"line":51,"column":2},"end":{"line":69,"column":3}},"29":{"start":{"line":53,"column":4},"end":{"line":53,"column":47}},"30":{"start":{"line":55,"column":4},"end":{"line":57,"column":5}},"31":{"start":{"line":56,"column":6},"end":{"line":56,"column":18}},"32":{"start":{"line":59,"column":4},"end":{"line":61,"column":5}},"33":{"start":{"line":60,"column":6},"end":{"line":60,"column":30}},"34":{"start":{"line":63,"column":4},"end":{"line":63,"column":51}},"35":{"start":{"line":64,"column":4},"end":{"line":64,"column":31}},"36":{"start":{"line":65,"column":4},"end":{"line":67,"column":7}},"37":{"start":{"line":66,"column":6},"end":{"line":66,"column":30}},"38":{"start":{"line":68,"column":4},"end":{"line":68,"column":28}},"39":{"start":{"line":71,"column":10},"end":{"line":103,"column":3}},"40":{"start":{"line":72,"column":4},"end":{"line":75,"column":77}},"41":{"start":{"line":77,"column":4},"end":{"line":79,"column":5}},"42":{"start":{"line":78,"column":6},"end":{"line":78,"column":34}},"43":{"start":{"line":81,"column":4},"end":{"line":83,"column":5}},"44":{"start":{"line":82,"column":6},"end":{"line":82,"column":36}},"45":{"start":{"line":85,"column":4},"end":{"line":87,"column":5}},"46":{"start":{"line":86,"column":6},"end":{"line":86,"column":34}},"47":{"start":{"line":89,"column":4},"end":{"line":102,"column":9}},"48":{"start":{"line":92,"column":8},"end":{"line":92,"column":45}},"49":{"start":{"line":93,"column":8},"end":{"line":100,"column":11}},"50":{"start":{"line":94,"column":10},"end":{"line":99,"column":11}},"51":{"start":{"line":101,"column":8},"end":{"line":101,"column":23}},"52":{"start":{"line":11,"column":9},"end":{"line":11,"column":20}},"53":{"start":{"line":13,"column":9},"end":{"line":13,"column":125}},"54":{"start":{"line":104,"column":0},"end":{"line":104,"column":1}},"55":{"start":{"line":9,"column":13},"end":{"line":104,"column":1}}},"fnMap":{"1":{"name":"(anonymous_2705)","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"RevealQuerySuggestAddon","line":45,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":37}}},"3":{"name":"(anonymous_2707)","line":46,"loc":{"start":{"line":46,"column":74},"end":{"line":46,"column":127}}},"4":{"name":"(anonymous_2708)","line":15,"loc":{"start":{"line":15,"column":2},"end":{"line":15,"column":74}}},"5":{"name":"(anonymous_2709)","line":16,"loc":{"start":{"line":16,"column":76},"end":{"line":16,"column":113}}},"6":{"name":"(anonymous_2710)","line":31,"loc":{"start":{"line":31,"column":2},"end":{"line":31,"column":73}}},"7":{"name":"(anonymous_2711)","line":34,"loc":{"start":{"line":34,"column":34},"end":{"line":34,"column":49}}},"8":{"name":"(anonymous_2712)","line":40,"loc":{"start":{"line":40,"column":78},"end":{"line":40,"column":93}}},"9":{"name":"(anonymous_2713)","line":51,"loc":{"start":{"line":51,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_2714)","line":65,"loc":{"start":{"line":65,"column":18},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_2715)","line":71,"loc":{"start":{"line":71,"column":2},"end":{"line":71,"column":44}}},"12":{"name":"(anonymous_2716)","line":91,"loc":{"start":{"line":91,"column":12},"end":{"line":91,"column":48}}},"13":{"name":"(anonymous_2717)","line":93,"loc":{"start":{"line":93,"column":63},"end":{"line":93,"column":77}}}},"branchMap":{"1":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":6},"end":{"line":18,"column":5}},{"start":{"line":18,"column":6},"end":{"line":18,"column":5}}]},"2":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":6},"end":{"line":21,"column":5}},{"start":{"line":21,"column":6},"end":{"line":21,"column":5}}]},"3":{"line":26,"type":"binary-expr","locations":[{"start":{"line":26,"column":14},"end":{"line":26,"column":24}},{"start":{"line":26,"column":28},"end":{"line":26,"column":35}},{"start":{"line":26,"column":39},"end":{"line":26,"column":48}}]},"4":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":4},"end":{"line":36,"column":3}},{"start":{"line":36,"column":4},"end":{"line":36,"column":3}}]},"5":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":4},"end":{"line":55,"column":3}},{"start":{"line":55,"column":4},"end":{"line":55,"column":3}}]},"6":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":4},"end":{"line":59,"column":3}},{"start":{"line":59,"column":4},"end":{"line":59,"column":3}}]},"7":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":4},"end":{"line":77,"column":3}},{"start":{"line":77,"column":4},"end":{"line":77,"column":3}}]},"8":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":4},"end":{"line":81,"column":3}},{"start":{"line":81,"column":4},"end":{"line":81,"column":3}}]},"9":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":4},"end":{"line":85,"column":3}},{"start":{"line":85,"column":4},"end":{"line":85,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":4,"6":1,"7":3,"8":3,"9":3,"10":2,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":2,"29":2,"30":2,"31":0,"32":2,"33":0,"34":2,"35":2,"36":2,"37":0,"38":2,"39":1,"40":2,"41":2,"42":2,"43":2,"44":0,"45":2,"46":0,"47":2,"48":0,"49":0,"50":0,"51":0,"52":1,"53":1,"54":1,"55":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0,0],"4":[0,0],"5":[0,2],"6":[0,2],"7":[2,0],"8":[0,2],"9":[0,2]},"f":{"1":1,"2":3,"3":2,"4":0,"5":0,"6":0,"7":0,"8":0,"9":2,"10":0,"11":2,"12":0,"13":0},"code":"///<reference path=\"Omnibox.ts\"/>\nimport {Omnibox, IPopulateOmniboxSuggestionsEventArgs, IOmniboxSuggestion} from './Omnibox';\nimport {$$} from '../../utils/Dom';\nimport {IRevealQuerySuggestCompletion, IRevealQuerySuggestRequest, IRevealQuerySuggestResponse} from '../../rest/RevealQuerySuggest';\nimport {ComponentOptionsModel} from '../../models/ComponentOptionsModel';\nimport {OmniboxEvents} from '../../events/OmniboxEvents';\nimport {StringUtils} from '../../utils/StringUtils';\n\nexport class RevealQuerySuggestAddon {\n\n  static INDEX = 60;\n\n  static suggestiontHtmlTemplate = _.template('<span<%= className? \\' class=\"\\'+className+\\'\"\\':\\'\\' %>><%- text %></span>');\n\n  private static suggestiontHtml(suggestion: IRevealQuerySuggestCompletion) {\n    return suggestion.highlighted.replace(/\\[(.*?)\\]|\\{(.*?)\\}|\\((.*?)\\)/g, (part, notMatched, matched, corrected) => {\n      var className = '';\n      if (matched) {\n        className = 'coveo-omnibox-hightlight'\n      }\n      if (corrected) {\n        className = 'coveo-omnibox-hightlight2'\n      }\n      return RevealQuerySuggestAddon.suggestiontHtmlTemplate({\n        className: className,\n        text: notMatched || matched || corrected\n      });\n    });\n  }\n\n  private static isPartialMatch(suggestion: IRevealQuerySuggestCompletion) {\n    // groups : 1=notMatched, 2=matched, 3=corrected\n    var parts = StringUtils.match(suggestion.highlighted, /\\[(.*?)\\]|\\{(.*?)\\}|\\((.*?)\\)/g);\n    var firstFail = _.find(parts, (part: string[]) => part[1] != null);\n    // if no fail found, this is a partial or a full match\n    if (firstFail == null) {\n      return true;\n    }\n    // if all right parts are notMatched, the right parts is autocomplete\n    return _.every(_.last(parts, _.indexOf(parts, firstFail) - parts.length), (part: string[]) => part[1] != null);\n  }\n\n  private cache: { [hash: string]: Promise<IOmniboxSuggestion[]> } = {};\n\n  constructor(public omnibox: Omnibox) {\n    $$(this.omnibox.element).on(OmniboxEvents.populateOmniboxSuggestions, (e: Event, args: IPopulateOmniboxSuggestionsEventArgs) => {\n      args.suggestions.push(this.getSuggestion());\n    });\n  }\n\n  public getSuggestion(): Promise<IOmniboxSuggestion[]> {\n\n    var text = this.omnibox.magicBox.getText();\n\n    if (text.length == 0) {\n      return null;\n    }\n\n    if (this.cache[text] != null) {\n      return this.cache[text];\n    }\n\n    let promise = this.getRevealQuerySuggest(text);\n    this.cache[text] = promise;\n    promise.catch(() => {\n      delete this.cache[text];\n    });\n    return this.cache[text];\n  }\n\n  private getRevealQuerySuggest(text: string): Promise<IOmniboxSuggestion[]> {\n    var payload = <IRevealQuerySuggestRequest>{ q: text },\n      language = <string>String['locale'],\n      searchHub = this.omnibox.getBindings().componentOptionsModel.get(ComponentOptionsModel.attributesEnum.searchHub),\n      pipeline = this.omnibox.getBindings().searchInterface.options.pipeline;\n\n    if (language) {\n      payload.language = language;\n    }\n\n    if (searchHub) {\n      payload.searchHub = searchHub;\n    }\n\n    if (pipeline) {\n      payload.pipeline = pipeline;\n    }\n\n    return this.omnibox.queryController.getEndpoint()\n      .getRevealQuerySuggest(payload)\n      .then((result: IRevealQuerySuggestResponse) => {\n        var completions = result.completions;\n        var results: IOmniboxSuggestion[] = _.map(completions, (completion, i) => {\n          return {\n            html: RevealQuerySuggestAddon.suggestiontHtml(completion),\n            text: completion.expression,\n            index: RevealQuerySuggestAddon.INDEX - i / completions.length,\n            partial: RevealQuerySuggestAddon.isPartialMatch(completion)\n          }\n        });\n        return results;\n      });\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Omnibox/RevealQuerySuggestAddon.ts\n **/","l":{"3":1,"5":1,"6":1,"7":1,"9":4,"11":1,"13":1,"15":1,"16":0,"17":0,"18":0,"19":0,"21":0,"22":0,"24":0,"31":1,"33":0,"34":0,"36":0,"37":0,"40":0,"43":3,"45":3,"46":3,"47":2,"51":2,"53":2,"55":2,"56":0,"59":2,"60":0,"63":2,"64":2,"65":2,"66":0,"68":2,"71":1,"72":2,"77":2,"78":2,"81":2,"82":0,"85":2,"86":0,"89":2,"92":0,"93":0,"94":0,"101":0,"104":1}},"src/ui/Omnibox/OldOmniboxAddon.ts":{"path":"src/ui/Omnibox/OldOmniboxAddon.ts","statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":110}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":35}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":40}},"4":{"start":{"line":8,"column":0},"end":{"line":156,"column":1}},"5":{"start":{"line":9,"column":2},"end":{"line":15,"column":3}},"6":{"start":{"line":9,"column":21},"end":{"line":9,"column":37}},"7":{"start":{"line":10,"column":4},"end":{"line":14,"column":6}},"8":{"start":{"line":11,"column":6},"end":{"line":13,"column":8}},"9":{"start":{"line":12,"column":8},"end":{"line":12,"column":42}},"10":{"start":{"line":20,"column":9},"end":{"line":37,"column":3}},"11":{"start":{"line":21,"column":4},"end":{"line":21,"column":47}},"12":{"start":{"line":23,"column":4},"end":{"line":25,"column":5}},"13":{"start":{"line":24,"column":6},"end":{"line":24,"column":18}},"14":{"start":{"line":27,"column":4},"end":{"line":29,"column":5}},"15":{"start":{"line":28,"column":6},"end":{"line":28,"column":34}},"16":{"start":{"line":31,"column":4},"end":{"line":31,"column":26}},"17":{"start":{"line":33,"column":4},"end":{"line":33,"column":57}},"18":{"start":{"line":34,"column":4},"end":{"line":34,"column":79}},"19":{"start":{"line":36,"column":4},"end":{"line":36,"column":73}},"20":{"start":{"line":39,"column":10},"end":{"line":55,"column":3}},"21":{"start":{"line":40,"column":4},"end":{"line":40,"column":45}},"22":{"start":{"line":41,"column":4},"end":{"line":41,"column":39}},"23":{"start":{"line":42,"column":4},"end":{"line":42,"column":30}},"24":{"start":{"line":43,"column":4},"end":{"line":43,"column":26}},"25":{"start":{"line":44,"column":4},"end":{"line":44,"column":24}},"26":{"start":{"line":45,"column":4},"end":{"line":47,"column":5}},"27":{"start":{"line":46,"column":6},"end":{"line":46,"column":14}},"28":{"start":{"line":48,"column":4},"end":{"line":50,"column":5}},"29":{"start":{"line":49,"column":6},"end":{"line":49,"column":14}},"30":{"start":{"line":51,"column":4},"end":{"line":53,"column":5}},"31":{"start":{"line":52,"column":6},"end":{"line":52,"column":12}},"32":{"start":{"line":54,"column":4},"end":{"line":54,"column":39}},"33":{"start":{"line":57,"column":10},"end":{"line":62,"column":3}},"34":{"start":{"line":58,"column":4},"end":{"line":60,"column":5}},"35":{"start":{"line":59,"column":6},"end":{"line":59,"column":40}},"36":{"start":{"line":61,"column":4},"end":{"line":61,"column":65}},"37":{"start":{"line":64,"column":10},"end":{"line":74,"column":3}},"38":{"start":{"line":64,"column":2},"end":{"line":74,"column":3}},"39":{"start":{"line":65,"column":4},"end":{"line":65,"column":17}},"40":{"start":{"line":66,"column":4},"end":{"line":66,"column":55}},"41":{"start":{"line":67,"column":4},"end":{"line":72,"column":7}},"42":{"start":{"line":68,"column":6},"end":{"line":71,"column":9}},"43":{"start":{"line":73,"column":4},"end":{"line":73,"column":15}},"44":{"start":{"line":76,"column":10},"end":{"line":78,"column":3}},"45":{"start":{"line":77,"column":4},"end":{"line":77,"column":80}},"46":{"start":{"line":80,"column":10},"end":{"line":82,"column":3}},"47":{"start":{"line":81,"column":4},"end":{"line":81,"column":55}},"48":{"start":{"line":84,"column":10},"end":{"line":88,"column":3}},"49":{"start":{"line":85,"column":4},"end":{"line":85,"column":41}},"50":{"start":{"line":86,"column":4},"end":{"line":86,"column":82}},"51":{"start":{"line":87,"column":4},"end":{"line":87,"column":35}},"52":{"start":{"line":90,"column":10},"end":{"line":92,"column":3}},"53":{"start":{"line":91,"column":4},"end":{"line":91,"column":61}},"54":{"start":{"line":94,"column":10},"end":{"line":128,"column":3}},"55":{"start":{"line":94,"column":2},"end":{"line":128,"column":3}},"56":{"start":{"line":95,"column":4},"end":{"line":95,"column":66}},"57":{"start":{"line":96,"column":4},"end":{"line":126,"column":5}},"58":{"start":{"line":109,"column":8},"end":{"line":109,"column":29}},"59":{"start":{"line":112,"column":8},"end":{"line":112,"column":37}},"60":{"start":{"line":115,"column":8},"end":{"line":115,"column":43}},"61":{"start":{"line":118,"column":8},"end":{"line":118,"column":47}},"62":{"start":{"line":121,"column":8},"end":{"line":121,"column":35}},"63":{"start":{"line":124,"column":8},"end":{"line":124,"column":37}},"64":{"start":{"line":127,"column":4},"end":{"line":127,"column":15}},"65":{"start":{"line":130,"column":10},"end":{"line":155,"column":3}},"66":{"start":{"line":131,"column":4},"end":{"line":154,"column":6}},"67":{"start":{"line":132,"column":6},"end":{"line":152,"column":7}},"68":{"start":{"line":133,"column":8},"end":{"line":138,"column":10}},"69":{"start":{"line":134,"column":10},"end":{"line":137,"column":13}},"70":{"start":{"line":139,"column":13},"end":{"line":152,"column":7}},"71":{"start":{"line":140,"column":8},"end":{"line":151,"column":10}},"72":{"start":{"line":141,"column":10},"end":{"line":150,"column":12}},"73":{"start":{"line":142,"column":12},"end":{"line":149,"column":13}},"74":{"start":{"line":143,"column":14},"end":{"line":146,"column":17}},"75":{"start":{"line":148,"column":14},"end":{"line":148,"column":28}},"76":{"start":{"line":153,"column":6},"end":{"line":153,"column":18}},"77":{"start":{"line":156,"column":0},"end":{"line":156,"column":1}},"78":{"start":{"line":8,"column":13},"end":{"line":156,"column":1}}},"fnMap":{"1":{"name":"(anonymous_2720)","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"OldOmniboxAddon","line":9,"loc":{"start":{"line":9,"column":2},"end":{"line":9,"column":37}}},"3":{"name":"(anonymous_2722)","line":10,"loc":{"start":{"line":10,"column":89},"end":{"line":10,"column":132}}},"4":{"name":"(anonymous_2723)","line":11,"loc":{"start":{"line":11,"column":35},"end":{"line":11,"column":46}}},"5":{"name":"(anonymous_2724)","line":20,"loc":{"start":{"line":20,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_2725)","line":39,"loc":{"start":{"line":39,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_2726)","line":57,"loc":{"start":{"line":57,"column":2},"end":{"line":57,"column":44}}},"8":{"name":"(anonymous_2727)","line":64,"loc":{"start":{"line":64,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_2728)","line":67,"loc":{"start":{"line":67,"column":23},"end":{"line":67,"column":28}}},"10":{"name":"(anonymous_2729)","line":76,"loc":{"start":{"line":76,"column":2},"end":{"line":76,"column":55}}},"11":{"name":"(anonymous_2730)","line":80,"loc":{"start":{"line":80,"column":2},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_2731)","line":84,"loc":{"start":{"line":84,"column":2},"end":{"line":84,"column":47}}},"13":{"name":"(anonymous_2732)","line":90,"loc":{"start":{"line":90,"column":2},"end":{"line":90,"column":51}}},"14":{"name":"(anonymous_2733)","line":94,"loc":{"start":{"line":94,"column":2},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_2734)","line":108,"loc":{"start":{"line":108,"column":13},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_2735)","line":111,"loc":{"start":{"line":111,"column":30},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_2736)","line":114,"loc":{"start":{"line":114,"column":15},"end":{"line":114,"column":53}}},"18":{"name":"(anonymous_2737)","line":117,"loc":{"start":{"line":117,"column":32},"end":{"line":117,"column":49}}},"19":{"name":"(anonymous_2738)","line":120,"loc":{"start":{"line":120,"column":16},"end":{"line":120,"column":45}}},"20":{"name":"(anonymous_2739)","line":123,"loc":{"start":{"line":123,"column":20},"end":{"line":null,"column":-1}}},"21":{"name":"(anonymous_2740)","line":130,"loc":{"start":{"line":130,"column":2},"end":{"line":130,"column":51}}},"22":{"name":"(anonymous_2741)","line":131,"loc":{"start":{"line":131,"column":23},"end":{"line":131,"column":53}}},"23":{"name":"(anonymous_2742)","line":133,"loc":{"start":{"line":133,"column":49},"end":{"line":133,"column":57}}},"24":{"name":"(anonymous_2743)","line":140,"loc":{"start":{"line":140,"column":49},"end":{"line":140,"column":57}}},"25":{"name":"(anonymous_2744)","line":141,"loc":{"start":{"line":141,"column":28},"end":{"line":141,"column":32}}}},"branchMap":{"1":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":4},"end":{"line":23,"column":3}},{"start":{"line":23,"column":4},"end":{"line":23,"column":3}}]},"2":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":4},"end":{"line":27,"column":3}},{"start":{"line":27,"column":4},"end":{"line":27,"column":3}}]},"3":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":4},"end":{"line":45,"column":3}},{"start":{"line":45,"column":4},"end":{"line":45,"column":3}}]},"4":{"line":48,"type":"binary-expr","locations":[{"start":{"line":48,"column":11},"end":{"line":48,"column":20}},{"start":{"line":48,"column":24},"end":{"line":48,"column":43}}]},"5":{"line":51,"type":"binary-expr","locations":[{"start":{"line":51,"column":11},"end":{"line":51,"column":23}},{"start":{"line":51,"column":27},"end":{"line":51,"column":44}}]},"6":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":4},"end":{"line":58,"column":3}},{"start":{"line":58,"column":4},"end":{"line":58,"column":3}}]},"7":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":6},"end":{"line":132,"column":5}},{"start":{"line":132,"column":6},"end":{"line":132,"column":5}}]},"8":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":13},"end":{"line":139,"column":12}},{"start":{"line":139,"column":13},"end":{"line":139,"column":12}}]},"9":{"line":142,"type":"if","locations":[{"start":{"line":142,"column":12},"end":{"line":142,"column":11}},{"start":{"line":142,"column":12},"end":{"line":142,"column":11}}]}},"s":{"1":1,"2":1,"3":1,"4":48,"5":1,"6":47,"7":47,"8":9,"9":0,"10":1,"11":9,"12":9,"13":2,"14":7,"15":0,"16":7,"17":7,"18":7,"19":7,"20":1,"21":7,"22":7,"23":7,"24":7,"25":7,"26":7,"27":0,"28":7,"29":48,"30":7,"31":0,"32":7,"33":1,"34":25,"35":7,"36":25,"37":1,"38":7,"39":7,"40":7,"41":7,"42":11,"43":7,"44":1,"45":0,"46":1,"47":0,"48":1,"49":0,"50":0,"51":0,"52":1,"53":0,"54":1,"55":7,"56":7,"57":7,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":7,"65":1,"66":7,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":1,"78":1},"b":{"1":[2,7],"2":[0,7],"3":[0,7],"4":[55,49],"5":[7,0],"6":[7,18],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":1,"2":47,"3":9,"4":0,"5":9,"6":7,"7":25,"8":7,"9":11,"10":0,"11":0,"12":0,"13":0,"14":7,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":7,"22":0,"23":0,"24":0,"25":0},"code":"///<reference path=\"Omnibox.ts\"/>\nimport {Omnibox, IPopulateOmniboxSuggestionsEventArgs, IOmniboxSuggestion} from './Omnibox';\nimport {IOmniboxDataRow} from './OmniboxInterface';\nimport {OmniboxEvents, IPopulateOmniboxEventArgs, IPopulateOmniboxEventRow} from '../../events/OmniboxEvents';\nimport {$$} from '../../utils/Dom';\nimport {Utils} from '../../utils/Utils';\n\nexport class OldOmniboxAddon {\n  constructor(public omnibox: Omnibox) {\n    this.omnibox.bind.on(this.omnibox.element, OmniboxEvents.populateOmniboxSuggestions, (args: IPopulateOmniboxSuggestionsEventArgs) => {\n      _.each(this.getSuggestion(), (suggestion) => {\n        args.suggestions.push(suggestion);\n      })\n    })\n  }\n\n  private lastQuery: string\n  private lastSuggestions: Promise<IOmniboxSuggestion[]>[];\n\n  public getSuggestion(): Promise<IOmniboxSuggestion[]>[] {\n    let text = this.omnibox.magicBox.getText();\n\n    if (text.length == 0) {\n      return null;\n    }\n\n    if (this.lastQuery == text) {\n      return this.lastSuggestions;\n    }\n\n    this.lastQuery = text;\n\n    let eventArgs = this.buildPopulateOmniboxEventArgs();\n    $$(this.omnibox.element).trigger(OmniboxEvents.populateOmnibox, eventArgs);\n\n    return this.lastSuggestions = this.rowsToSuggestions(eventArgs.rows);\n  }\n\n  private getCurrentQueryExpression() {\n    let cursorPos = this.omnibox.getCursor();\n    let value = this.omnibox.getText();\n    let length = value.length;\n    let start = cursorPos;\n    let end = cursorPos;\n    if (value[start] == ' ') {\n      start--;\n    }\n    while (start > 0 && value[start] != ' ') {\n      start--;\n    }\n    while (end < length && value[end] != ' ') {\n      end++;\n    }\n    return value.substring(start, end);\n  }\n\n  private getRegexToSearch(strValue?: string) {\n    if (strValue == null) {\n      strValue = this.omnibox.getText();\n    }\n    return new RegExp(Utils.escapeRegexCharacter(strValue), 'i');\n  }\n\n  private getQueryExpressionBreakDown() {\n    let ret = [];\n    let queryWords = this.omnibox.getText().split(' ');\n    _.each(queryWords, (word) => {\n      ret.push({\n        word: word,\n        regex: this.getRegexToSearch(word)\n      });\n    });\n    return ret;\n  }\n\n  private replace(searchValue: string, newValue: string) {\n    this.omnibox.setText(this.omnibox.getText().replace(searchValue, newValue));\n  }\n\n  private clearCurrentExpression() {\n    this.replace(this.getCurrentQueryExpression(), '');\n  }\n\n  private insertAt(at: number, toInsert: string) {\n    let oldValue = this.omnibox.getText()\n    let newValue = [oldValue.slice(0, at), toInsert, oldValue.slice(at)].join('');\n    this.omnibox.setText(newValue);\n  }\n\n  private replaceCurrentExpression(newValue: string) {\n    this.replace(this.getCurrentQueryExpression(), newValue);\n  }\n\n  private buildPopulateOmniboxEventArgs() {\n    let currentQueryExpression = this.getCurrentQueryExpression();\n    let ret: IPopulateOmniboxEventArgs = {\n      rows: [],\n      completeQueryExpression: {\n        word: this.omnibox.getText(),\n        regex: this.getRegexToSearch()\n      },\n      currentQueryExpression: {\n        word: currentQueryExpression,\n        regex: this.getRegexToSearch(currentQueryExpression)\n      },\n      allQueryExpressions: this.getQueryExpressionBreakDown(),\n      cursorPosition: this.omnibox.getCursor(),\n      clear: () => {\n        this.omnibox.clear();\n      },\n      clearCurrentExpression: () => {\n        this.clearCurrentExpression()\n      },\n      replace: (searchValue: string, newValue: string) => {\n        this.replace(searchValue, newValue)\n      },\n      replaceCurrentExpression: (newValue: string) => {\n        this.replaceCurrentExpression(newValue)\n      },\n      insertAt: (at: number, toInsert: string) => {\n        this.insertAt(at, toInsert)\n      },\n      closeOmnibox: () => {\n        this.omnibox.magicBox.blur();\n      }\n    }\n    return ret;\n  }\n\n  private rowsToSuggestions(rows: IOmniboxDataRow[]): Promise<IOmniboxSuggestion[]>[] {\n    return _.map(rows, (row: IPopulateOmniboxEventRow) => {\n      if (!Utils.isNullOrUndefined(row.element)) {\n        return new Promise<IOmniboxSuggestion[]>((resolve) => {\n          resolve([{\n            dom: row.element,\n            index: row.zIndex\n          }])\n        })\n      } else if (!Utils.isNullOrUndefined(row.deferred)) {\n        return new Promise<IOmniboxSuggestion[]>((resolve) => {\n          row.deferred.then((row) => {\n            if (row.element != null) {\n              resolve([{\n                dom: row.element,\n                index: row.zIndex\n              }])\n            } else {\n              resolve(null);\n            }\n          })\n        })\n      }\n      return null;\n    })\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Omnibox/OldOmniboxAddon.ts\n **/","l":{"4":1,"5":1,"6":1,"8":48,"9":47,"10":47,"11":9,"12":0,"20":1,"21":9,"23":9,"24":2,"27":7,"28":0,"31":7,"33":7,"34":7,"36":7,"39":1,"40":7,"41":7,"42":7,"43":7,"44":7,"45":7,"46":0,"48":7,"49":48,"51":7,"52":0,"54":7,"57":1,"58":25,"59":7,"61":25,"64":7,"65":7,"66":7,"67":7,"68":11,"73":7,"76":1,"77":0,"80":1,"81":0,"84":1,"85":0,"86":0,"87":0,"90":1,"91":0,"94":7,"95":7,"96":7,"109":0,"112":0,"115":0,"118":0,"121":0,"124":0,"127":7,"130":1,"131":7,"132":0,"133":0,"134":0,"139":0,"140":0,"141":0,"142":0,"143":0,"148":0,"153":0,"156":1}},"src/ui/Breadcrumb/Breadcrumb.ts":{"path":"src/ui/Breadcrumb/Breadcrumb.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":58}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":71}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":137}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":96}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":35}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":40}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":54}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":53}},"10":{"start":{"line":28,"column":0},"end":{"line":131,"column":1}},"11":{"start":{"line":28,"column":32},"end":{"line":28,"column":41}},"12":{"start":{"line":40,"column":2},"end":{"line":48,"column":3}},"13":{"start":{"line":41,"column":4},"end":{"line":41,"column":44}},"14":{"start":{"line":40,"column":21},"end":{"line":40,"column":41}},"15":{"start":{"line":40,"column":50},"end":{"line":40,"column":78}},"16":{"start":{"line":43,"column":4},"end":{"line":43,"column":87}},"17":{"start":{"line":45,"column":4},"end":{"line":45,"column":111}},"18":{"start":{"line":45,"column":77},"end":{"line":45,"column":109}},"19":{"start":{"line":46,"column":4},"end":{"line":46,"column":94}},"20":{"start":{"line":46,"column":69},"end":{"line":46,"column":92}},"21":{"start":{"line":47,"column":4},"end":{"line":47,"column":40}},"22":{"start":{"line":55,"column":9},"end":{"line":61,"column":3}},"23":{"start":{"line":56,"column":4},"end":{"line":56,"column":65}},"24":{"start":{"line":57,"column":4},"end":{"line":57,"column":76}},"25":{"start":{"line":58,"column":4},"end":{"line":58,"column":65}},"26":{"start":{"line":59,"column":4},"end":{"line":59,"column":44}},"27":{"start":{"line":60,"column":4},"end":{"line":60,"column":28}},"28":{"start":{"line":67,"column":9},"end":{"line":73,"column":3}},"29":{"start":{"line":68,"column":4},"end":{"line":68,"column":45}},"30":{"start":{"line":69,"column":4},"end":{"line":69,"column":73}},"31":{"start":{"line":70,"column":4},"end":{"line":70,"column":46}},"32":{"start":{"line":71,"column":4},"end":{"line":71,"column":106}},"33":{"start":{"line":72,"column":4},"end":{"line":72,"column":40}},"34":{"start":{"line":79,"column":9},"end":{"line":116,"column":3}},"35":{"start":{"line":79,"column":2},"end":{"line":116,"column":3}},"36":{"start":{"line":80,"column":4},"end":{"line":80,"column":29}},"37":{"start":{"line":81,"column":4},"end":{"line":85,"column":5}},"38":{"start":{"line":82,"column":6},"end":{"line":82,"column":38}},"39":{"start":{"line":84,"column":6},"end":{"line":84,"column":42}},"40":{"start":{"line":87,"column":4},"end":{"line":87,"column":56}},"41":{"start":{"line":88,"column":4},"end":{"line":88,"column":59}},"42":{"start":{"line":89,"column":4},"end":{"line":89,"column":46}},"43":{"start":{"line":90,"column":4},"end":{"line":94,"column":6}},"44":{"start":{"line":91,"column":6},"end":{"line":91,"column":32}},"45":{"start":{"line":92,"column":6},"end":{"line":92,"column":49}},"46":{"start":{"line":93,"column":6},"end":{"line":93,"column":40}},"47":{"start":{"line":96,"column":4},"end":{"line":96,"column":46}},"48":{"start":{"line":97,"column":4},"end":{"line":97,"column":53}},"49":{"start":{"line":98,"column":4},"end":{"line":98,"column":54}},"50":{"start":{"line":100,"column":4},"end":{"line":100,"column":50}},"51":{"start":{"line":101,"column":4},"end":{"line":101,"column":73}},"52":{"start":{"line":102,"column":4},"end":{"line":102,"column":33}},"53":{"start":{"line":104,"column":4},"end":{"line":111,"column":5}},"54":{"start":{"line":105,"column":6},"end":{"line":105,"column":52}},"55":{"start":{"line":106,"column":6},"end":{"line":106,"column":41}},"56":{"start":{"line":107,"column":6},"end":{"line":107,"column":35}},"57":{"start":{"line":108,"column":6},"end":{"line":108,"column":38}},"58":{"start":{"line":110,"column":6},"end":{"line":110,"column":64}},"59":{"start":{"line":113,"column":4},"end":{"line":115,"column":6}},"60":{"start":{"line":114,"column":6},"end":{"line":114,"column":30}},"61":{"start":{"line":118,"column":10},"end":{"line":120,"column":3}},"62":{"start":{"line":119,"column":4},"end":{"line":119,"column":114}},"63":{"start":{"line":122,"column":10},"end":{"line":124,"column":3}},"64":{"start":{"line":123,"column":4},"end":{"line":123,"column":47}},"65":{"start":{"line":126,"column":10},"end":{"line":130,"column":3}},"66":{"start":{"line":126,"column":2},"end":{"line":130,"column":3}},"67":{"start":{"line":129,"column":4},"end":{"line":129,"column":103}},"68":{"start":{"line":129,"column":68},"end":{"line":129,"column":101}},"69":{"start":{"line":29,"column":9},"end":{"line":29,"column":27}},"70":{"start":{"line":30,"column":9},"end":{"line":30,"column":41}},"71":{"start":{"line":131,"column":0},"end":{"line":131,"column":1}},"72":{"start":{"line":28,"column":13},"end":{"line":131,"column":1}},"73":{"start":{"line":133,"column":0},"end":{"line":133,"column":55}}},"fnMap":{"1":{"name":"(anonymous_2749)","line":28,"loc":{"start":{"line":28,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Breadcrumb","line":40,"loc":{"start":{"line":40,"column":2},"end":{"line":40,"column":109}}},"3":{"name":"(anonymous_2751)","line":45,"loc":{"start":{"line":45,"column":71},"end":{"line":45,"column":76}}},"4":{"name":"(anonymous_2752)","line":46,"loc":{"start":{"line":46,"column":63},"end":{"line":46,"column":68}}},"5":{"name":"(anonymous_2753)","line":55,"loc":{"start":{"line":55,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_2754)","line":67,"loc":{"start":{"line":67,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_2755)","line":79,"loc":{"start":{"line":79,"column":2},"end":{"line":79,"column":54}}},"8":{"name":"(anonymous_2756)","line":90,"loc":{"start":{"line":90,"column":24},"end":{"line":90,"column":48}}},"9":{"name":"(anonymous_2757)","line":113,"loc":{"start":{"line":113,"column":33},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_2758)","line":118,"loc":{"start":{"line":118,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_2759)","line":122,"loc":{"start":{"line":122,"column":2},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_2760)","line":126,"loc":{"start":{"line":126,"column":2},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_2761)","line":129,"loc":{"start":{"line":129,"column":62},"end":{"line":129,"column":67}}}},"branchMap":{"1":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":4},"end":{"line":81,"column":3}},{"start":{"line":81,"column":4},"end":{"line":81,"column":3}}]},"2":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":4},"end":{"line":104,"column":3}},{"start":{"line":104,"column":4},"end":{"line":104,"column":3}}]},"3":{"line":119,"type":"cond-expr","locations":[{"start":{"line":119,"column":27},"end":{"line":119,"column":68}},{"start":{"line":119,"column":71},"end":{"line":119,"column":113}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":9,"11":1,"12":1,"13":8,"14":8,"15":8,"16":8,"17":8,"18":1,"19":8,"20":0,"21":8,"22":1,"23":2,"24":2,"25":2,"26":2,"27":2,"28":1,"29":3,"30":3,"31":3,"32":3,"33":3,"34":1,"35":3,"36":3,"37":3,"38":1,"39":2,"40":3,"41":3,"42":3,"43":3,"44":1,"45":1,"46":1,"47":3,"48":3,"49":3,"50":3,"51":3,"52":3,"53":3,"54":3,"55":3,"56":3,"57":3,"58":0,"59":3,"60":0,"61":1,"62":0,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1},"b":{"1":[1,2],"2":[3,0],"3":[0,0]},"f":{"1":1,"2":8,"3":1,"4":0,"5":2,"6":3,"7":3,"8":1,"9":0,"10":0,"11":1,"12":1,"13":1},"code":"import {Component} from '../Base/Component';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {InitializationEvents} from '../../events/InitializationEvents';\nimport {BreadcrumbEvents, IBreadcrumbItem, IPopulateBreadcrumbEventArgs, IClearBreadcrumbEventArgs} from '../../events/BreadcrumbEvents';\nimport {analyticsActionCauseList, IAnalyticsNoMeta} from '../Analytics/AnalyticsActionListMeta';\nimport {$$} from '../../utils/Dom';\nimport {l} from '../../strings/Strings';\nimport {Initialization} from '../Base/Initialization';\nimport {QueryEvents} from '../../events/QueryEvents';\n\nexport interface IBreadcrumbOptions {\n}\n\n/**\n * This component displays a summary of the filters currently active in the query.\n *\n * For example, when the user selects a facet value, the value is displayed in the breadcrumbs.\n *\n * The active filters are obtained by the component by firing an event in the breadcrumb component.\n *\n * All other components having an active state can answer to this event by providing custom bits of HTML that will be displayed inside the breadcrumb.\n *\n * Thus, the breadcrumb can easily be extended by custom code to display information about custom state and filters.\n *\n * See {@link BreadcrumbEvents} for the list of events and parameters sent when a breadcrumb is populated.\n */\nexport class Breadcrumb extends Component {\n  static ID = 'Breadcrumb';\n  static options: IBreadcrumbOptions = {}\n\n  private lastBreadcrumbs: IBreadcrumbItem[];\n\n  /**\n   * Create a new breadcrumb element, bind event on deferredQuerySuccess to draw the breadcrumb\n   * @param element\n   * @param options\n   * @param bindings\n   */\n  constructor(public element: HTMLElement, public options?: IBreadcrumbOptions, bindings?: IComponentBindings) {\n    super(element, Breadcrumb.ID, bindings);\n\n    this.options = ComponentOptions.initComponentOptions(element, Breadcrumb, options);\n\n    this.bind.oneRootElement(InitializationEvents.afterInitialization, () => this.handleAfterInitialization());\n    this.bind.onRootElement(BreadcrumbEvents.redrawBreadcrumb, () => this.redrawBreadcrumb());\n    this.element.style.display = 'none';\n  }\n\n  /**\n   * Trigger the event to populate breadcrumb, which component such as {@link Facet} can populate.<br/>\n   * Will trigger an event with {@link IPopulateBreadcrumbEventArgs} object (an array) which other component or code can populate.\n   * @returns {IBreadcrumbItem[]}\n   */\n  public getBreadcrumbs(): IBreadcrumbItem[] {\n    let args = <IPopulateBreadcrumbEventArgs>{ breadcrumbs: [] };\n    this.bind.trigger(this.root, BreadcrumbEvents.populateBreadcrumb, args);\n    this.logger.debug('Retrieved breadcrumbs', args.breadcrumbs);\n    this.lastBreadcrumbs = args.breadcrumbs;\n    return args.breadcrumbs;\n  }\n\n  /**\n   * Trigger the event to clear the current breadcrumbs, which component such as {@link Facet} can populate.<br/>\n   * Trigger a new query, and log a search event\n   */\n  public clearBreadcrumbs() {\n    let args = <IClearBreadcrumbEventArgs>{};\n    this.bind.trigger(this.root, BreadcrumbEvents.clearBreadcrumb, args);\n    this.logger.debug('Clearing breadcrumbs');\n    this.usageAnalytics.logSearchEvent<IAnalyticsNoMeta>(analyticsActionCauseList.breadcrumbResetAll, {});\n    this.queryController.executeQuery();\n  }\n\n  /**\n   * Draw the given breadcrumbs items\n   * @param breadcrumbs\n   */\n  public drawBreadcrumb(breadcrumbs: IBreadcrumbItem[]) {\n    $$(this.element).empty();\n    if (breadcrumbs.length != 0) {\n      this.element.style.display = '';\n    } else {\n      this.element.style.display = 'none';\n    }\n\n    let breadcrumbItems = document.createElement('div');\n    $$(breadcrumbItems).addClass('coveo-breadcrumb-items');\n    this.element.appendChild(breadcrumbItems);\n    _.each(breadcrumbs, (bcrumb: IBreadcrumbItem) => {\n      let elem = bcrumb.element;\n      $$(elem).addClass('coveo-breadcrumb-item');\n      breadcrumbItems.appendChild(elem);\n    })\n\n    let clear = document.createElement('div');\n    $$(clear).addClass('coveo-breadcrumb-clear-all');\n    clear.setAttribute('title', l('ClearAllFilters'));\n\n    let clearIcon = document.createElement('div');\n    $$(clearIcon).addClass('coveo-icon coveo-breadcrumb-icon-clear-all');\n    clear.appendChild(clearIcon);\n\n    if (this.searchInterface.isNewDesign()) {\n      let clearText = document.createElement('div');\n      $$(clearText).text(l('Clear', ''));\n      clear.appendChild(clearText);\n      this.element.appendChild(clear);\n    } else {\n      this.element.insertBefore(clear, this.element.firstChild);\n    }\n\n    this.bind.on(clear, 'click', () => {\n      this.clearBreadcrumbs();\n    })\n  }\n\n  private redrawBreadcrumb() {\n    this.lastBreadcrumbs ? this.drawBreadcrumb(this.lastBreadcrumbs) : this.drawBreadcrumb(this.getBreadcrumbs());\n  }\n\n  private handleDeferredQuerySuccess() {\n    this.drawBreadcrumb(this.getBreadcrumbs());\n  }\n\n  private handleAfterInitialization() {\n    // We must bind to these events after the initialization to make sure the breadcrumb generation\n    // is made with updated components. (E.G facet, facetrange, ...)\n    this.bind.onRootElement(QueryEvents.deferredQuerySuccess, () => this.handleDeferredQuerySuccess());\n  }\n}\n\nInitialization.registerAutoCreateComponent(Breadcrumb);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Breadcrumb/Breadcrumb.ts\n **/","l":{"1":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"28":9,"29":1,"30":1,"40":8,"41":8,"43":8,"45":8,"46":8,"47":8,"55":1,"56":2,"57":2,"58":2,"59":2,"60":2,"67":1,"68":3,"69":3,"70":3,"71":3,"72":3,"79":3,"80":3,"81":3,"82":1,"84":2,"87":3,"88":3,"89":3,"90":3,"91":1,"92":1,"93":1,"96":3,"97":3,"98":3,"100":3,"101":3,"102":3,"104":3,"105":3,"106":3,"107":3,"108":3,"110":0,"113":3,"114":0,"118":1,"119":0,"122":1,"123":1,"126":1,"129":1,"131":1,"133":1}},"src/ui/Facet/Facet.ts":{"path":"src/ui/Facet/Facet.ts","statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":12,"column":44}},"2":{"start":{"line":14,"column":0},"end":{"line":14,"column":54}},"3":{"start":{"line":15,"column":0},"end":{"line":15,"column":58}},"4":{"start":{"line":16,"column":0},"end":{"line":16,"column":52}},"5":{"start":{"line":17,"column":0},"end":{"line":17,"column":40}},"6":{"start":{"line":18,"column":0},"end":{"line":18,"column":76}},"7":{"start":{"line":19,"column":0},"end":{"line":19,"column":42}},"8":{"start":{"line":20,"column":0},"end":{"line":20,"column":46}},"9":{"start":{"line":21,"column":0},"end":{"line":21,"column":38}},"10":{"start":{"line":22,"column":0},"end":{"line":22,"column":50}},"11":{"start":{"line":23,"column":0},"end":{"line":23,"column":42}},"12":{"start":{"line":24,"column":0},"end":{"line":24,"column":40}},"13":{"start":{"line":25,"column":0},"end":{"line":25,"column":71}},"14":{"start":{"line":26,"column":0},"end":{"line":26,"column":151}},"15":{"start":{"line":27,"column":0},"end":{"line":27,"column":41}},"16":{"start":{"line":29,"column":0},"end":{"line":29,"column":35}},"17":{"start":{"line":30,"column":0},"end":{"line":30,"column":99}},"18":{"start":{"line":31,"column":0},"end":{"line":31,"column":40}},"19":{"start":{"line":34,"column":0},"end":{"line":34,"column":64}},"20":{"start":{"line":35,"column":0},"end":{"line":35,"column":59}},"21":{"start":{"line":36,"column":0},"end":{"line":36,"column":54}},"22":{"start":{"line":37,"column":0},"end":{"line":37,"column":62}},"23":{"start":{"line":38,"column":0},"end":{"line":38,"column":39}},"24":{"start":{"line":39,"column":0},"end":{"line":39,"column":121}},"25":{"start":{"line":40,"column":0},"end":{"line":40,"column":76}},"26":{"start":{"line":41,"column":0},"end":{"line":41,"column":84}},"27":{"start":{"line":42,"column":0},"end":{"line":42,"column":58}},"28":{"start":{"line":43,"column":0},"end":{"line":43,"column":54}},"29":{"start":{"line":46,"column":0},"end":{"line":46,"column":60}},"30":{"start":{"line":47,"column":0},"end":{"line":47,"column":62}},"31":{"start":{"line":49,"column":0},"end":{"line":49,"column":54}},"32":{"start":{"line":50,"column":0},"end":{"line":50,"column":90}},"33":{"start":{"line":51,"column":0},"end":{"line":51,"column":74}},"34":{"start":{"line":53,"column":0},"end":{"line":53,"column":52}},"35":{"start":{"line":106,"column":0},"end":{"line":1583,"column":1}},"36":{"start":{"line":106,"column":27},"end":{"line":106,"column":36}},"37":{"start":{"line":459,"column":2},"end":{"line":495,"column":3}},"38":{"start":{"line":459,"column":105},"end":{"line":459,"column":136}},"39":{"start":{"line":460,"column":4},"end":{"line":460,"column":43}},"40":{"start":{"line":459,"column":21},"end":{"line":459,"column":41}},"41":{"start":{"line":459,"column":50},"end":{"line":459,"column":72}},"42":{"start":{"line":410,"column":9},"end":{"line":410,"column":54}},"43":{"start":{"line":411,"column":9},"end":{"line":411,"column":36}},"44":{"start":{"line":412,"column":9},"end":{"line":412,"column":33}},"45":{"start":{"line":414,"column":9},"end":{"line":414,"column":27}},"46":{"start":{"line":435,"column":10},"end":{"line":435,"column":39}},"47":{"start":{"line":438,"column":10},"end":{"line":438,"column":39}},"48":{"start":{"line":448,"column":10},"end":{"line":448,"column":42}},"49":{"start":{"line":461,"column":4},"end":{"line":461,"column":82}},"50":{"start":{"line":463,"column":4},"end":{"line":465,"column":5}},"51":{"start":{"line":464,"column":6},"end":{"line":464,"column":117}},"52":{"start":{"line":464,"column":92},"end":{"line":464,"column":115}},"53":{"start":{"line":467,"column":4},"end":{"line":467,"column":57}},"54":{"start":{"line":470,"column":4},"end":{"line":470,"column":44}},"55":{"start":{"line":471,"column":4},"end":{"line":471,"column":25}},"56":{"start":{"line":473,"column":4},"end":{"line":473,"column":40}},"57":{"start":{"line":474,"column":4},"end":{"line":474,"column":36}},"58":{"start":{"line":475,"column":4},"end":{"line":475,"column":30}},"59":{"start":{"line":476,"column":4},"end":{"line":476,"column":36}},"60":{"start":{"line":477,"column":4},"end":{"line":477,"column":27}},"61":{"start":{"line":478,"column":4},"end":{"line":478,"column":32}},"62":{"start":{"line":479,"column":4},"end":{"line":479,"column":36}},"63":{"start":{"line":480,"column":4},"end":{"line":480,"column":29}},"64":{"start":{"line":481,"column":4},"end":{"line":481,"column":32}},"65":{"start":{"line":482,"column":4},"end":{"line":482,"column":32}},"66":{"start":{"line":484,"column":4},"end":{"line":488,"column":6}},"67":{"start":{"line":485,"column":6},"end":{"line":487,"column":7}},"68":{"start":{"line":486,"column":8},"end":{"line":486,"column":70}},"69":{"start":{"line":489,"column":4},"end":{"line":489,"column":68}},"70":{"start":{"line":490,"column":4},"end":{"line":490,"column":80}},"71":{"start":{"line":490,"column":61},"end":{"line":490,"column":78}},"72":{"start":{"line":492,"column":4},"end":{"line":494,"column":6}},"73":{"start":{"line":493,"column":6},"end":{"line":493,"column":30}},"74":{"start":{"line":497,"column":9},"end":{"line":510,"column":3}},"75":{"start":{"line":497,"column":2},"end":{"line":510,"column":3}},"76":{"start":{"line":498,"column":4},"end":{"line":498,"column":34}},"77":{"start":{"line":499,"column":4},"end":{"line":499,"column":29}},"78":{"start":{"line":500,"column":4},"end":{"line":500,"column":44}},"79":{"start":{"line":504,"column":4},"end":{"line":509,"column":5}},"80":{"start":{"line":505,"column":6},"end":{"line":507,"column":9}},"81":{"start":{"line":506,"column":8},"end":{"line":506,"column":68}},"82":{"start":{"line":508,"column":6},"end":{"line":508,"column":62}},"83":{"start":{"line":519,"column":9},"end":{"line":524,"column":3}},"84":{"start":{"line":520,"column":4},"end":{"line":520,"column":25}},"85":{"start":{"line":521,"column":4},"end":{"line":521,"column":21}},"86":{"start":{"line":522,"column":4},"end":{"line":522,"column":82}},"87":{"start":{"line":523,"column":4},"end":{"line":523,"column":32}},"88":{"start":{"line":533,"column":9},"end":{"line":540,"column":3}},"89":{"start":{"line":533,"column":2},"end":{"line":540,"column":3}},"90":{"start":{"line":534,"column":4},"end":{"line":534,"column":26}},"91":{"start":{"line":535,"column":4},"end":{"line":535,"column":21}},"92":{"start":{"line":536,"column":4},"end":{"line":538,"column":7}},"93":{"start":{"line":537,"column":6},"end":{"line":537,"column":84}},"94":{"start":{"line":539,"column":4},"end":{"line":539,"column":32}},"95":{"start":{"line":549,"column":9},"end":{"line":554,"column":3}},"96":{"start":{"line":550,"column":4},"end":{"line":550,"column":25}},"97":{"start":{"line":551,"column":4},"end":{"line":551,"column":21}},"98":{"start":{"line":552,"column":4},"end":{"line":552,"column":86}},"99":{"start":{"line":553,"column":4},"end":{"line":553,"column":32}},"100":{"start":{"line":563,"column":9},"end":{"line":570,"column":3}},"101":{"start":{"line":563,"column":2},"end":{"line":570,"column":3}},"102":{"start":{"line":564,"column":4},"end":{"line":564,"column":26}},"103":{"start":{"line":565,"column":4},"end":{"line":565,"column":21}},"104":{"start":{"line":566,"column":4},"end":{"line":568,"column":7}},"105":{"start":{"line":567,"column":6},"end":{"line":567,"column":88}},"106":{"start":{"line":569,"column":4},"end":{"line":569,"column":32}},"107":{"start":{"line":579,"column":9},"end":{"line":584,"column":3}},"108":{"start":{"line":580,"column":4},"end":{"line":580,"column":25}},"109":{"start":{"line":581,"column":4},"end":{"line":581,"column":21}},"110":{"start":{"line":582,"column":4},"end":{"line":582,"column":83}},"111":{"start":{"line":583,"column":4},"end":{"line":583,"column":32}},"112":{"start":{"line":593,"column":9},"end":{"line":600,"column":3}},"113":{"start":{"line":593,"column":2},"end":{"line":600,"column":3}},"114":{"start":{"line":594,"column":4},"end":{"line":594,"column":26}},"115":{"start":{"line":595,"column":4},"end":{"line":595,"column":21}},"116":{"start":{"line":596,"column":4},"end":{"line":598,"column":6}},"117":{"start":{"line":597,"column":6},"end":{"line":597,"column":85}},"118":{"start":{"line":599,"column":4},"end":{"line":599,"column":32}},"119":{"start":{"line":609,"column":9},"end":{"line":614,"column":3}},"120":{"start":{"line":610,"column":4},"end":{"line":610,"column":25}},"121":{"start":{"line":611,"column":4},"end":{"line":611,"column":21}},"122":{"start":{"line":612,"column":4},"end":{"line":612,"column":87}},"123":{"start":{"line":613,"column":4},"end":{"line":613,"column":32}},"124":{"start":{"line":623,"column":9},"end":{"line":630,"column":3}},"125":{"start":{"line":623,"column":2},"end":{"line":630,"column":3}},"126":{"start":{"line":624,"column":4},"end":{"line":624,"column":26}},"127":{"start":{"line":625,"column":4},"end":{"line":625,"column":21}},"128":{"start":{"line":626,"column":4},"end":{"line":628,"column":6}},"129":{"start":{"line":627,"column":6},"end":{"line":627,"column":89}},"130":{"start":{"line":629,"column":4},"end":{"line":629,"column":32}},"131":{"start":{"line":639,"column":9},"end":{"line":644,"column":3}},"132":{"start":{"line":640,"column":4},"end":{"line":640,"column":25}},"133":{"start":{"line":641,"column":4},"end":{"line":641,"column":21}},"134":{"start":{"line":642,"column":4},"end":{"line":642,"column":92}},"135":{"start":{"line":643,"column":4},"end":{"line":643,"column":32}},"136":{"start":{"line":653,"column":9},"end":{"line":658,"column":3}},"137":{"start":{"line":654,"column":4},"end":{"line":654,"column":25}},"138":{"start":{"line":655,"column":4},"end":{"line":655,"column":21}},"139":{"start":{"line":656,"column":4},"end":{"line":656,"column":94}},"140":{"start":{"line":657,"column":4},"end":{"line":657,"column":32}},"141":{"start":{"line":664,"column":9},"end":{"line":666,"column":3}},"142":{"start":{"line":665,"column":4},"end":{"line":665,"column":59}},"143":{"start":{"line":672,"column":9},"end":{"line":678,"column":3}},"144":{"start":{"line":673,"column":4},"end":{"line":673,"column":21}},"145":{"start":{"line":674,"column":4},"end":{"line":674,"column":68}},"146":{"start":{"line":675,"column":4},"end":{"line":677,"column":7}},"147":{"start":{"line":676,"column":6},"end":{"line":676,"column":30}},"148":{"start":{"line":684,"column":9},"end":{"line":687,"column":3}},"149":{"start":{"line":685,"column":4},"end":{"line":685,"column":21}},"150":{"start":{"line":686,"column":4},"end":{"line":686,"column":80}},"151":{"start":{"line":686,"column":67},"end":{"line":686,"column":78}},"152":{"start":{"line":693,"column":9},"end":{"line":696,"column":3}},"153":{"start":{"line":694,"column":4},"end":{"line":694,"column":21}},"154":{"start":{"line":695,"column":4},"end":{"line":695,"column":80}},"155":{"start":{"line":695,"column":67},"end":{"line":695,"column":78}},"156":{"start":{"line":701,"column":9},"end":{"line":707,"column":3}},"157":{"start":{"line":702,"column":4},"end":{"line":702,"column":21}},"158":{"start":{"line":703,"column":4},"end":{"line":703,"column":24}},"159":{"start":{"line":704,"column":4},"end":{"line":704,"column":32}},"160":{"start":{"line":705,"column":4},"end":{"line":705,"column":44}},"161":{"start":{"line":706,"column":4},"end":{"line":706,"column":33}},"162":{"start":{"line":712,"column":9},"end":{"line":716,"column":3}},"163":{"start":{"line":713,"column":4},"end":{"line":713,"column":21}},"164":{"start":{"line":714,"column":4},"end":{"line":714,"column":41}},"165":{"start":{"line":715,"column":4},"end":{"line":715,"column":35}},"166":{"start":{"line":721,"column":9},"end":{"line":725,"column":3}},"167":{"start":{"line":722,"column":4},"end":{"line":722,"column":21}},"168":{"start":{"line":723,"column":4},"end":{"line":723,"column":40}},"169":{"start":{"line":724,"column":4},"end":{"line":724,"column":34}},"170":{"start":{"line":731,"column":9},"end":{"line":733,"column":3}},"171":{"start":{"line":732,"column":4},"end":{"line":732,"column":46}},"172":{"start":{"line":741,"column":9},"end":{"line":747,"column":3}},"173":{"start":{"line":742,"column":4},"end":{"line":742,"column":21}},"174":{"start":{"line":743,"column":4},"end":{"line":746,"column":5}},"175":{"start":{"line":744,"column":6},"end":{"line":744,"column":43}},"176":{"start":{"line":745,"column":6},"end":{"line":745,"column":29}},"177":{"start":{"line":749,"column":9},"end":{"line":751,"column":3}},"178":{"start":{"line":750,"column":4},"end":{"line":750,"column":53}},"179":{"start":{"line":753,"column":9},"end":{"line":755,"column":3}},"180":{"start":{"line":754,"column":4},"end":{"line":754,"column":50}},"181":{"start":{"line":760,"column":9},"end":{"line":771,"column":3}},"182":{"start":{"line":761,"column":4},"end":{"line":761,"column":21}},"183":{"start":{"line":762,"column":4},"end":{"line":770,"column":5}},"184":{"start":{"line":765,"column":6},"end":{"line":767,"column":7}},"185":{"start":{"line":766,"column":8},"end":{"line":766,"column":74}},"186":{"start":{"line":768,"column":6},"end":{"line":768,"column":91}},"187":{"start":{"line":769,"column":6},"end":{"line":769,"column":39}},"188":{"start":{"line":776,"column":9},"end":{"line":783,"column":3}},"189":{"start":{"line":777,"column":4},"end":{"line":777,"column":21}},"190":{"start":{"line":778,"column":4},"end":{"line":782,"column":5}},"191":{"start":{"line":779,"column":6},"end":{"line":779,"column":68}},"192":{"start":{"line":780,"column":6},"end":{"line":780,"column":95}},"193":{"start":{"line":781,"column":6},"end":{"line":781,"column":40}},"194":{"start":{"line":785,"column":9},"end":{"line":807,"column":3}},"195":{"start":{"line":785,"column":2},"end":{"line":807,"column":3}},"196":{"start":{"line":786,"column":4},"end":{"line":786,"column":31}},"197":{"start":{"line":787,"column":4},"end":{"line":790,"column":7}},"198":{"start":{"line":788,"column":6},"end":{"line":788,"column":47}},"199":{"start":{"line":789,"column":6},"end":{"line":789,"column":48}},"200":{"start":{"line":794,"column":4},"end":{"line":794,"column":86}},"201":{"start":{"line":795,"column":4},"end":{"line":795,"column":101}},"202":{"start":{"line":796,"column":4},"end":{"line":796,"column":85}},"203":{"start":{"line":800,"column":4},"end":{"line":800,"column":111}},"204":{"start":{"line":802,"column":4},"end":{"line":802,"column":33}},"205":{"start":{"line":803,"column":4},"end":{"line":806,"column":8}},"206":{"start":{"line":803,"column":31},"end":{"line":806,"column":6}},"207":{"start":{"line":809,"column":9},"end":{"line":813,"column":3}},"208":{"start":{"line":810,"column":4},"end":{"line":812,"column":5}},"209":{"start":{"line":811,"column":6},"end":{"line":811,"column":77}},"210":{"start":{"line":821,"column":9},"end":{"line":837,"column":3}},"211":{"start":{"line":822,"column":4},"end":{"line":822,"column":30}},"212":{"start":{"line":823,"column":4},"end":{"line":823,"column":65}},"213":{"start":{"line":824,"column":4},"end":{"line":824,"column":26}},"214":{"start":{"line":825,"column":4},"end":{"line":825,"column":80}},"215":{"start":{"line":827,"column":4},"end":{"line":835,"column":5}},"216":{"start":{"line":828,"column":6},"end":{"line":830,"column":7}},"217":{"start":{"line":829,"column":8},"end":{"line":829,"column":60}},"218":{"start":{"line":831,"column":6},"end":{"line":834,"column":7}},"219":{"start":{"line":832,"column":8},"end":{"line":832,"column":36}},"220":{"start":{"line":833,"column":8},"end":{"line":833,"column":100}},"221":{"start":{"line":836,"column":4},"end":{"line":836,"column":15}},"222":{"start":{"line":843,"column":9},"end":{"line":851,"column":3}},"223":{"start":{"line":844,"column":4},"end":{"line":844,"column":23}},"224":{"start":{"line":845,"column":4},"end":{"line":845,"column":32}},"225":{"start":{"line":846,"column":4},"end":{"line":850,"column":5}},"226":{"start":{"line":847,"column":6},"end":{"line":847,"column":34}},"227":{"start":{"line":849,"column":6},"end":{"line":849,"column":30}},"228":{"start":{"line":856,"column":9},"end":{"line":863,"column":3}},"229":{"start":{"line":857,"column":4},"end":{"line":857,"column":53}},"230":{"start":{"line":858,"column":4},"end":{"line":858,"column":25}},"231":{"start":{"line":859,"column":4},"end":{"line":859,"column":32}},"232":{"start":{"line":860,"column":4},"end":{"line":860,"column":50}},"233":{"start":{"line":861,"column":4},"end":{"line":861,"column":65}},"234":{"start":{"line":862,"column":4},"end":{"line":862,"column":32}},"235":{"start":{"line":865,"column":9},"end":{"line":872,"column":3}},"236":{"start":{"line":866,"column":4},"end":{"line":870,"column":5}},"237":{"start":{"line":867,"column":6},"end":{"line":867,"column":75}},"238":{"start":{"line":869,"column":6},"end":{"line":869,"column":84}},"239":{"start":{"line":871,"column":4},"end":{"line":871,"column":32}},"240":{"start":{"line":874,"column":12},"end":{"line":885,"column":3}},"241":{"start":{"line":875,"column":4},"end":{"line":875,"column":24}},"242":{"start":{"line":876,"column":4},"end":{"line":876,"column":42}},"243":{"start":{"line":877,"column":4},"end":{"line":877,"column":32}},"244":{"start":{"line":878,"column":4},"end":{"line":878,"column":44}},"245":{"start":{"line":879,"column":4},"end":{"line":879,"column":103}},"246":{"start":{"line":880,"column":4},"end":{"line":880,"column":64}},"247":{"start":{"line":881,"column":4},"end":{"line":883,"column":5}},"248":{"start":{"line":882,"column":6},"end":{"line":882,"column":47}},"249":{"start":{"line":884,"column":4},"end":{"line":884,"column":49}},"250":{"start":{"line":887,"column":12},"end":{"line":896,"column":3}},"251":{"start":{"line":888,"column":4},"end":{"line":888,"column":24}},"252":{"start":{"line":890,"column":4},"end":{"line":895,"column":5}},"253":{"start":{"line":891,"column":6},"end":{"line":891,"column":143}},"254":{"start":{"line":892,"column":6},"end":{"line":894,"column":9}},"255":{"start":{"line":898,"column":12},"end":{"line":900,"column":3}},"256":{"start":{"line":899,"column":4},"end":{"line":899,"column":63}},"257":{"start":{"line":902,"column":12},"end":{"line":905,"column":3}},"258":{"start":{"line":903,"column":4},"end":{"line":903,"column":72}},"259":{"start":{"line":904,"column":4},"end":{"line":904,"column":59}},"260":{"start":{"line":907,"column":12},"end":{"line":910,"column":3}},"261":{"start":{"line":908,"column":4},"end":{"line":908,"column":79}},"262":{"start":{"line":909,"column":4},"end":{"line":909,"column":55}},"263":{"start":{"line":912,"column":12},"end":{"line":918,"column":3}},"264":{"start":{"line":912,"column":2},"end":{"line":918,"column":3}},"265":{"start":{"line":913,"column":4},"end":{"line":913,"column":33}},"266":{"start":{"line":914,"column":4},"end":{"line":914,"column":32}},"267":{"start":{"line":915,"column":4},"end":{"line":917,"column":7}},"268":{"start":{"line":916,"column":6},"end":{"line":916,"column":46}},"269":{"start":{"line":920,"column":12},"end":{"line":924,"column":3}},"270":{"start":{"line":921,"column":4},"end":{"line":921,"column":92}},"271":{"start":{"line":922,"column":4},"end":{"line":922,"column":92}},"272":{"start":{"line":923,"column":4},"end":{"line":923,"column":89}},"273":{"start":{"line":926,"column":12},"end":{"line":931,"column":3}},"274":{"start":{"line":926,"column":2},"end":{"line":931,"column":3}},"275":{"start":{"line":927,"column":4},"end":{"line":927,"column":85}},"276":{"start":{"line":927,"column":59},"end":{"line":927,"column":83}},"277":{"start":{"line":928,"column":4},"end":{"line":928,"column":122}},"278":{"start":{"line":928,"column":90},"end":{"line":928,"column":120}},"279":{"start":{"line":929,"column":4},"end":{"line":929,"column":134}},"280":{"start":{"line":929,"column":98},"end":{"line":929,"column":132}},"281":{"start":{"line":930,"column":4},"end":{"line":930,"column":134}},"282":{"start":{"line":930,"column":96},"end":{"line":930,"column":133}},"283":{"start":{"line":933,"column":12},"end":{"line":945,"column":3}},"284":{"start":{"line":933,"column":2},"end":{"line":945,"column":3}},"285":{"start":{"line":934,"column":4},"end":{"line":934,"column":75}},"286":{"start":{"line":935,"column":4},"end":{"line":935,"column":82}},"287":{"start":{"line":936,"column":4},"end":{"line":936,"column":81}},"288":{"start":{"line":937,"column":4},"end":{"line":937,"column":87}},"289":{"start":{"line":939,"column":4},"end":{"line":939,"column":76}},"290":{"start":{"line":940,"column":4},"end":{"line":940,"column":76}},"291":{"start":{"line":941,"column":4},"end":{"line":941,"column":76}},"292":{"start":{"line":942,"column":4},"end":{"line":942,"column":79}},"293":{"start":{"line":944,"column":4},"end":{"line":944,"column":133}},"294":{"start":{"line":944,"column":97},"end":{"line":944,"column":131}},"295":{"start":{"line":947,"column":12},"end":{"line":950,"column":3}},"296":{"start":{"line":948,"column":4},"end":{"line":948,"column":72}},"297":{"start":{"line":949,"column":4},"end":{"line":949,"column":76}},"298":{"start":{"line":952,"column":12},"end":{"line":956,"column":3}},"299":{"start":{"line":952,"column":2},"end":{"line":956,"column":3}},"300":{"start":{"line":953,"column":4},"end":{"line":955,"column":5}},"301":{"start":{"line":954,"column":6},"end":{"line":954,"column":132}},"302":{"start":{"line":954,"column":98},"end":{"line":954,"column":130}},"303":{"start":{"line":958,"column":12},"end":{"line":963,"column":3}},"304":{"start":{"line":958,"column":2},"end":{"line":963,"column":3}},"305":{"start":{"line":959,"column":4},"end":{"line":962,"column":5}},"306":{"start":{"line":960,"column":6},"end":{"line":960,"column":144}},"307":{"start":{"line":960,"column":107},"end":{"line":960,"column":142}},"308":{"start":{"line":961,"column":6},"end":{"line":961,"column":130}},"309":{"start":{"line":961,"column":101},"end":{"line":961,"column":129}},"310":{"start":{"line":965,"column":12},"end":{"line":979,"column":3}},"311":{"start":{"line":965,"column":2},"end":{"line":979,"column":3}},"312":{"start":{"line":966,"column":4},"end":{"line":966,"column":85}},"313":{"start":{"line":967,"column":4},"end":{"line":970,"column":45}},"314":{"start":{"line":968,"column":6},"end":{"line":968,"column":92}},"315":{"start":{"line":969,"column":6},"end":{"line":969,"column":31}},"316":{"start":{"line":971,"column":4},"end":{"line":973,"column":7}},"317":{"start":{"line":972,"column":6},"end":{"line":972,"column":59}},"318":{"start":{"line":974,"column":4},"end":{"line":974,"column":98}},"319":{"start":{"line":975,"column":4},"end":{"line":978,"column":6}},"320":{"start":{"line":981,"column":12},"end":{"line":1003,"column":3}},"321":{"start":{"line":982,"column":4},"end":{"line":982,"column":68}},"322":{"start":{"line":983,"column":4},"end":{"line":985,"column":5}},"323":{"start":{"line":984,"column":6},"end":{"line":984,"column":59}},"324":{"start":{"line":986,"column":4},"end":{"line":986,"column":56}},"325":{"start":{"line":987,"column":4},"end":{"line":987,"column":38}},"326":{"start":{"line":988,"column":4},"end":{"line":988,"column":69}},"327":{"start":{"line":990,"column":4},"end":{"line":996,"column":5}},"328":{"start":{"line":991,"column":6},"end":{"line":993,"column":10}},"329":{"start":{"line":992,"column":8},"end":{"line":992,"column":60}},"330":{"start":{"line":994,"column":11},"end":{"line":996,"column":5}},"331":{"start":{"line":995,"column":6},"end":{"line":995,"column":72}},"332":{"start":{"line":997,"column":4},"end":{"line":1001,"column":5}},"333":{"start":{"line":998,"column":6},"end":{"line":998,"column":34}},"334":{"start":{"line":999,"column":6},"end":{"line":999,"column":46}},"335":{"start":{"line":1000,"column":6},"end":{"line":1000,"column":41}},"336":{"start":{"line":1002,"column":4},"end":{"line":1002,"column":45}},"337":{"start":{"line":1005,"column":12},"end":{"line":1012,"column":3}},"338":{"start":{"line":1006,"column":4},"end":{"line":1006,"column":42}},"339":{"start":{"line":1007,"column":4},"end":{"line":1007,"column":41}},"340":{"start":{"line":1008,"column":4},"end":{"line":1008,"column":41}},"341":{"start":{"line":1009,"column":4},"end":{"line":1009,"column":53}},"342":{"start":{"line":1010,"column":4},"end":{"line":1010,"column":44}},"343":{"start":{"line":1011,"column":4},"end":{"line":1011,"column":41}},"344":{"start":{"line":1014,"column":12},"end":{"line":1025,"column":3}},"345":{"start":{"line":1015,"column":4},"end":{"line":1015,"column":32}},"346":{"start":{"line":1016,"column":4},"end":{"line":1016,"column":54}},"347":{"start":{"line":1017,"column":4},"end":{"line":1024,"column":5}},"348":{"start":{"line":1018,"column":6},"end":{"line":1018,"column":28}},"349":{"start":{"line":1019,"column":6},"end":{"line":1021,"column":7}},"350":{"start":{"line":1020,"column":8},"end":{"line":1020,"column":83}},"351":{"start":{"line":1022,"column":11},"end":{"line":1024,"column":5}},"352":{"start":{"line":1023,"column":6},"end":{"line":1023,"column":37}},"353":{"start":{"line":1027,"column":12},"end":{"line":1053,"column":3}},"354":{"start":{"line":1027,"column":2},"end":{"line":1053,"column":3}},"355":{"start":{"line":1027,"column":36},"end":{"line":1027,"column":62}},"356":{"start":{"line":1028,"column":4},"end":{"line":1052,"column":5}},"357":{"start":{"line":1029,"column":6},"end":{"line":1029,"column":84}},"358":{"start":{"line":1030,"column":6},"end":{"line":1030,"column":81}},"359":{"start":{"line":1031,"column":6},"end":{"line":1031,"column":66}},"360":{"start":{"line":1034,"column":6},"end":{"line":1045,"column":7}},"361":{"start":{"line":1035,"column":8},"end":{"line":1044,"column":10}},"362":{"start":{"line":1036,"column":10},"end":{"line":1040,"column":11}},"363":{"start":{"line":1037,"column":12},"end":{"line":1037,"column":54}},"364":{"start":{"line":1039,"column":12},"end":{"line":1039,"column":62}},"365":{"start":{"line":1041,"column":10},"end":{"line":1041,"column":47}},"366":{"start":{"line":1042,"column":10},"end":{"line":1042,"column":30}},"367":{"start":{"line":1043,"column":10},"end":{"line":1043,"column":29}},"368":{"start":{"line":1047,"column":6},"end":{"line":1050,"column":8}},"369":{"start":{"line":1048,"column":8},"end":{"line":1048,"column":59}},"370":{"start":{"line":1049,"column":8},"end":{"line":1049,"column":33}},"371":{"start":{"line":1051,"column":6},"end":{"line":1051,"column":73}},"372":{"start":{"line":1055,"column":12},"end":{"line":1073,"column":3}},"373":{"start":{"line":1055,"column":27},"end":{"line":1055,"column":110}},"374":{"start":{"line":1055,"column":112},"end":{"line":1055,"column":178}},"375":{"start":{"line":1056,"column":4},"end":{"line":1060,"column":5}},"376":{"start":{"line":1057,"column":6},"end":{"line":1057,"column":52}},"377":{"start":{"line":1059,"column":6},"end":{"line":1059,"column":55}},"378":{"start":{"line":1062,"column":4},"end":{"line":1066,"column":5}},"379":{"start":{"line":1063,"column":6},"end":{"line":1063,"column":52}},"380":{"start":{"line":1065,"column":6},"end":{"line":1065,"column":55}},"381":{"start":{"line":1068,"column":4},"end":{"line":1072,"column":5}},"382":{"start":{"line":1069,"column":6},"end":{"line":1069,"column":62}},"383":{"start":{"line":1071,"column":6},"end":{"line":1071,"column":59}},"384":{"start":{"line":1075,"column":12},"end":{"line":1077,"column":3}},"385":{"start":{"line":1076,"column":4},"end":{"line":1076,"column":20}},"386":{"start":{"line":1079,"column":12},"end":{"line":1081,"column":3}},"387":{"start":{"line":1080,"column":4},"end":{"line":1080,"column":20}},"388":{"start":{"line":1083,"column":10},"end":{"line":1085,"column":3}},"389":{"start":{"line":1084,"column":4},"end":{"line":1084,"column":54}},"390":{"start":{"line":1087,"column":10},"end":{"line":1091,"column":3}},"391":{"start":{"line":1088,"column":4},"end":{"line":1090,"column":5}},"392":{"start":{"line":1089,"column":6},"end":{"line":1089,"column":144}},"393":{"start":{"line":1093,"column":10},"end":{"line":1099,"column":3}},"394":{"start":{"line":1094,"column":4},"end":{"line":1098,"column":5}},"395":{"start":{"line":1095,"column":6},"end":{"line":1095,"column":45}},"396":{"start":{"line":1096,"column":6},"end":{"line":1096,"column":44}},"397":{"start":{"line":1097,"column":6},"end":{"line":1097,"column":177}},"398":{"start":{"line":1101,"column":10},"end":{"line":1108,"column":3}},"399":{"start":{"line":1102,"column":4},"end":{"line":1104,"column":5}},"400":{"start":{"line":1103,"column":6},"end":{"line":1103,"column":52}},"401":{"start":{"line":1105,"column":4},"end":{"line":1107,"column":5}},"402":{"start":{"line":1106,"column":6},"end":{"line":1106,"column":43}},"403":{"start":{"line":1110,"column":10},"end":{"line":1130,"column":3}},"404":{"start":{"line":1110,"column":2},"end":{"line":1130,"column":3}},"405":{"start":{"line":1111,"column":4},"end":{"line":1111,"column":83}},"406":{"start":{"line":1112,"column":4},"end":{"line":1112,"column":77}},"407":{"start":{"line":1113,"column":4},"end":{"line":1129,"column":5}},"408":{"start":{"line":1114,"column":6},"end":{"line":1114,"column":90}},"409":{"start":{"line":1114,"column":63},"end":{"line":1114,"column":88}},"410":{"start":{"line":1116,"column":6},"end":{"line":1116,"column":37}},"411":{"start":{"line":1117,"column":6},"end":{"line":1117,"column":43}},"412":{"start":{"line":1119,"column":6},"end":{"line":1123,"column":7}},"413":{"start":{"line":1120,"column":8},"end":{"line":1120,"column":60}},"414":{"start":{"line":1121,"column":8},"end":{"line":1121,"column":59}},"415":{"start":{"line":1122,"column":8},"end":{"line":1122,"column":100}},"416":{"start":{"line":1124,"column":6},"end":{"line":1128,"column":7}},"417":{"start":{"line":1125,"column":8},"end":{"line":1125,"column":63}},"418":{"start":{"line":1126,"column":8},"end":{"line":1126,"column":65}},"419":{"start":{"line":1127,"column":8},"end":{"line":1127,"column":74}},"420":{"start":{"line":1132,"column":10},"end":{"line":1138,"column":3}},"421":{"start":{"line":1133,"column":4},"end":{"line":1136,"column":6}},"422":{"start":{"line":1137,"column":4},"end":{"line":1137,"column":80}},"423":{"start":{"line":1140,"column":10},"end":{"line":1147,"column":3}},"424":{"start":{"line":1141,"column":4},"end":{"line":1144,"column":5}},"425":{"start":{"line":1146,"column":4},"end":{"line":1146,"column":80}},"426":{"start":{"line":1149,"column":10},"end":{"line":1157,"column":3}},"427":{"start":{"line":1150,"column":4},"end":{"line":1156,"column":5}},"428":{"start":{"line":1151,"column":6},"end":{"line":1151,"column":26}},"429":{"start":{"line":1152,"column":6},"end":{"line":1154,"column":8}},"430":{"start":{"line":1153,"column":8},"end":{"line":1153,"column":51}},"431":{"start":{"line":1155,"column":6},"end":{"line":1155,"column":72}},"432":{"start":{"line":1159,"column":10},"end":{"line":1165,"column":3}},"433":{"start":{"line":1160,"column":4},"end":{"line":1164,"column":5}},"434":{"start":{"line":1161,"column":6},"end":{"line":1161,"column":25}},"435":{"start":{"line":1162,"column":11},"end":{"line":1164,"column":5}},"436":{"start":{"line":1163,"column":6},"end":{"line":1163,"column":24}},"437":{"start":{"line":1167,"column":10},"end":{"line":1175,"column":3}},"438":{"start":{"line":1168,"column":4},"end":{"line":1168,"column":77}},"439":{"start":{"line":1169,"column":4},"end":{"line":1171,"column":5}},"440":{"start":{"line":1170,"column":6},"end":{"line":1170,"column":46}},"441":{"start":{"line":1172,"column":4},"end":{"line":1174,"column":5}},"442":{"start":{"line":1173,"column":6},"end":{"line":1173,"column":49}},"443":{"start":{"line":1177,"column":10},"end":{"line":1185,"column":3}},"444":{"start":{"line":1178,"column":4},"end":{"line":1178,"column":78}},"445":{"start":{"line":1179,"column":4},"end":{"line":1181,"column":5}},"446":{"start":{"line":1180,"column":6},"end":{"line":1180,"column":48}},"447":{"start":{"line":1182,"column":4},"end":{"line":1184,"column":5}},"448":{"start":{"line":1183,"column":6},"end":{"line":1183,"column":50}},"449":{"start":{"line":1187,"column":10},"end":{"line":1191,"column":3}},"450":{"start":{"line":1187,"column":2},"end":{"line":1191,"column":3}},"451":{"start":{"line":1188,"column":4},"end":{"line":1190,"column":6}},"452":{"start":{"line":1189,"column":6},"end":{"line":1189,"column":115}},"453":{"start":{"line":1193,"column":10},"end":{"line":1217,"column":3}},"454":{"start":{"line":1194,"column":4},"end":{"line":1194,"column":24}},"455":{"start":{"line":1195,"column":4},"end":{"line":1195,"column":21}},"456":{"start":{"line":1197,"column":4},"end":{"line":1197,"column":47}},"457":{"start":{"line":1198,"column":4},"end":{"line":1198,"column":73}},"458":{"start":{"line":1199,"column":4},"end":{"line":1199,"column":73}},"459":{"start":{"line":1200,"column":4},"end":{"line":1200,"column":66}},"460":{"start":{"line":1201,"column":4},"end":{"line":1201,"column":79}},"461":{"start":{"line":1203,"column":4},"end":{"line":1216,"column":5}},"462":{"start":{"line":1204,"column":6},"end":{"line":1206,"column":7}},"463":{"start":{"line":1205,"column":8},"end":{"line":1205,"column":55}},"464":{"start":{"line":1207,"column":6},"end":{"line":1209,"column":7}},"465":{"start":{"line":1208,"column":8},"end":{"line":1208,"column":62}},"466":{"start":{"line":1210,"column":6},"end":{"line":1212,"column":7}},"467":{"start":{"line":1211,"column":8},"end":{"line":1211,"column":62}},"468":{"start":{"line":1213,"column":6},"end":{"line":1215,"column":7}},"469":{"start":{"line":1214,"column":8},"end":{"line":1214,"column":58}},"470":{"start":{"line":1219,"column":10},"end":{"line":1234,"column":3}},"471":{"start":{"line":1220,"column":4},"end":{"line":1220,"column":24}},"472":{"start":{"line":1221,"column":4},"end":{"line":1221,"column":48}},"473":{"start":{"line":1227,"column":4},"end":{"line":1227,"column":53}},"474":{"start":{"line":1229,"column":4},"end":{"line":1233,"column":5}},"475":{"start":{"line":1230,"column":6},"end":{"line":1230,"column":48}},"476":{"start":{"line":1232,"column":6},"end":{"line":1232,"column":46}},"477":{"start":{"line":1236,"column":10},"end":{"line":1259,"column":3}},"478":{"start":{"line":1236,"column":2},"end":{"line":1259,"column":3}},"479":{"start":{"line":1237,"column":4},"end":{"line":1237,"column":85}},"480":{"start":{"line":1239,"column":4},"end":{"line":1257,"column":7}},"481":{"start":{"line":1240,"column":6},"end":{"line":1240,"column":61}},"482":{"start":{"line":1241,"column":6},"end":{"line":1241,"column":79}},"483":{"start":{"line":1242,"column":6},"end":{"line":1242,"column":72}},"484":{"start":{"line":1243,"column":6},"end":{"line":1256,"column":8}},"485":{"start":{"line":1244,"column":8},"end":{"line":1248,"column":11}},"486":{"start":{"line":1245,"column":10},"end":{"line":1245,"column":52}},"487":{"start":{"line":1247,"column":10},"end":{"line":1247,"column":90}},"488":{"start":{"line":1249,"column":8},"end":{"line":1249,"column":102}},"489":{"start":{"line":1250,"column":8},"end":{"line":1253,"column":11}},"490":{"start":{"line":1255,"column":8},"end":{"line":1255,"column":40}},"491":{"start":{"line":1258,"column":4},"end":{"line":1258,"column":46}},"492":{"start":{"line":1261,"column":10},"end":{"line":1266,"column":3}},"493":{"start":{"line":1262,"column":4},"end":{"line":1262,"column":21}},"494":{"start":{"line":1263,"column":4},"end":{"line":1265,"column":5}},"495":{"start":{"line":1264,"column":6},"end":{"line":1264,"column":71}},"496":{"start":{"line":1268,"column":10},"end":{"line":1278,"column":3}},"497":{"start":{"line":1269,"column":4},"end":{"line":1269,"column":24}},"498":{"start":{"line":1270,"column":4},"end":{"line":1270,"column":37}},"499":{"start":{"line":1272,"column":4},"end":{"line":1272,"column":51}},"500":{"start":{"line":1273,"column":4},"end":{"line":1277,"column":5}},"501":{"start":{"line":1274,"column":6},"end":{"line":1274,"column":78}},"502":{"start":{"line":1275,"column":6},"end":{"line":1275,"column":63}},"503":{"start":{"line":1276,"column":6},"end":{"line":1276,"column":59}},"504":{"start":{"line":1280,"column":10},"end":{"line":1285,"column":3}},"505":{"start":{"line":1281,"column":4},"end":{"line":1281,"column":24}},"506":{"start":{"line":1282,"column":4},"end":{"line":1282,"column":37}},"507":{"start":{"line":1283,"column":4},"end":{"line":1283,"column":41}},"508":{"start":{"line":1284,"column":4},"end":{"line":1284,"column":71}},"509":{"start":{"line":1287,"column":10},"end":{"line":1289,"column":3}},"510":{"start":{"line":1288,"column":4},"end":{"line":1288,"column":17}},"511":{"start":{"line":1291,"column":10},"end":{"line":1302,"column":3}},"512":{"start":{"line":1292,"column":4},"end":{"line":1292,"column":31}},"513":{"start":{"line":1293,"column":4},"end":{"line":1299,"column":5}},"514":{"start":{"line":1294,"column":6},"end":{"line":1294,"column":57}},"515":{"start":{"line":1296,"column":6},"end":{"line":1296,"column":63}},"516":{"start":{"line":1297,"column":6},"end":{"line":1297,"column":67}},"517":{"start":{"line":1298,"column":6},"end":{"line":1298,"column":32}},"518":{"start":{"line":1301,"column":4},"end":{"line":1301,"column":32}},"519":{"start":{"line":1304,"column":10},"end":{"line":1309,"column":3}},"520":{"start":{"line":1305,"column":4},"end":{"line":1305,"column":30}},"521":{"start":{"line":1306,"column":4},"end":{"line":1308,"column":5}},"522":{"start":{"line":1307,"column":6},"end":{"line":1307,"column":34}},"523":{"start":{"line":1311,"column":10},"end":{"line":1313,"column":3}},"524":{"start":{"line":1312,"column":4},"end":{"line":1312,"column":34}},"525":{"start":{"line":1315,"column":10},"end":{"line":1335,"column":3}},"526":{"start":{"line":1316,"column":4},"end":{"line":1316,"column":44}},"527":{"start":{"line":1317,"column":4},"end":{"line":1317,"column":49}},"528":{"start":{"line":1318,"column":4},"end":{"line":1318,"column":31}},"529":{"start":{"line":1319,"column":4},"end":{"line":1321,"column":5}},"530":{"start":{"line":1320,"column":6},"end":{"line":1320,"column":29}},"531":{"start":{"line":1322,"column":4},"end":{"line":1325,"column":5}},"532":{"start":{"line":1323,"column":6},"end":{"line":1323,"column":42}},"533":{"start":{"line":1324,"column":6},"end":{"line":1324,"column":42}},"534":{"start":{"line":1326,"column":4},"end":{"line":1326,"column":44}},"535":{"start":{"line":1327,"column":4},"end":{"line":1327,"column":49}},"536":{"start":{"line":1328,"column":4},"end":{"line":1334,"column":5}},"537":{"start":{"line":1329,"column":6},"end":{"line":1329,"column":55}},"538":{"start":{"line":1330,"column":6},"end":{"line":1330,"column":55}},"539":{"start":{"line":1331,"column":11},"end":{"line":1334,"column":5}},"540":{"start":{"line":1332,"column":6},"end":{"line":1332,"column":55}},"541":{"start":{"line":1333,"column":6},"end":{"line":1333,"column":55}},"542":{"start":{"line":1337,"column":10},"end":{"line":1359,"column":3}},"543":{"start":{"line":1338,"column":4},"end":{"line":1338,"column":39}},"544":{"start":{"line":1339,"column":4},"end":{"line":1341,"column":5}},"545":{"start":{"line":1340,"column":6},"end":{"line":1340,"column":22}},"546":{"start":{"line":1342,"column":4},"end":{"line":1354,"column":7}},"547":{"start":{"line":1355,"column":4},"end":{"line":1355,"column":41}},"548":{"start":{"line":1356,"column":4},"end":{"line":1356,"column":51}},"549":{"start":{"line":1357,"column":4},"end":{"line":1357,"column":43}},"550":{"start":{"line":1358,"column":4},"end":{"line":1358,"column":17}},"551":{"start":{"line":1361,"column":10},"end":{"line":1369,"column":3}},"552":{"start":{"line":1362,"column":4},"end":{"line":1368,"column":5}},"553":{"start":{"line":1363,"column":6},"end":{"line":1363,"column":63}},"554":{"start":{"line":1364,"column":6},"end":{"line":1364,"column":66}},"555":{"start":{"line":1365,"column":6},"end":{"line":1365,"column":47}},"556":{"start":{"line":1366,"column":6},"end":{"line":1366,"column":50}},"557":{"start":{"line":1367,"column":6},"end":{"line":1367,"column":48}},"558":{"start":{"line":1371,"column":10},"end":{"line":1373,"column":3}},"559":{"start":{"line":1372,"column":4},"end":{"line":1372,"column":53}},"560":{"start":{"line":1375,"column":10},"end":{"line":1377,"column":3}},"561":{"start":{"line":1376,"column":4},"end":{"line":1376,"column":55}},"562":{"start":{"line":1379,"column":10},"end":{"line":1429,"column":3}},"563":{"start":{"line":1379,"column":2},"end":{"line":1429,"column":3}},"564":{"start":{"line":1380,"column":4},"end":{"line":1428,"column":5}},"565":{"start":{"line":1381,"column":6},"end":{"line":1381,"column":49}},"566":{"start":{"line":1382,"column":6},"end":{"line":1382,"column":66}},"567":{"start":{"line":1383,"column":6},"end":{"line":1383,"column":69}},"568":{"start":{"line":1384,"column":6},"end":{"line":1384,"column":47}},"569":{"start":{"line":1385,"column":6},"end":{"line":1385,"column":50}},"570":{"start":{"line":1389,"column":6},"end":{"line":1389,"column":119}},"571":{"start":{"line":1390,"column":6},"end":{"line":1390,"column":77}},"572":{"start":{"line":1391,"column":6},"end":{"line":1391,"column":73}},"573":{"start":{"line":1392,"column":6},"end":{"line":1398,"column":7}},"574":{"start":{"line":1393,"column":8},"end":{"line":1397,"column":9}},"575":{"start":{"line":1394,"column":10},"end":{"line":1394,"column":54}},"576":{"start":{"line":1396,"column":24},"end":{"line":1396,"column":88}},"577":{"start":{"line":1400,"column":6},"end":{"line":1400,"column":23}},"578":{"start":{"line":1401,"column":6},"end":{"line":1401,"column":73}},"579":{"start":{"line":1402,"column":6},"end":{"line":1402,"column":69}},"580":{"start":{"line":1406,"column":6},"end":{"line":1425,"column":7}},"581":{"start":{"line":1409,"column":8},"end":{"line":1409,"column":64}},"582":{"start":{"line":1414,"column":8},"end":{"line":1424,"column":10}},"583":{"start":{"line":1415,"column":10},"end":{"line":1415,"column":31}},"584":{"start":{"line":1416,"column":10},"end":{"line":1416,"column":27}},"585":{"start":{"line":1417,"column":10},"end":{"line":1423,"column":11}},"586":{"start":{"line":1418,"column":12},"end":{"line":1418,"column":32}},"587":{"start":{"line":1419,"column":12},"end":{"line":1419,"column":70}},"588":{"start":{"line":1420,"column":12},"end":{"line":1420,"column":79}},"589":{"start":{"line":1421,"column":12},"end":{"line":1421,"column":75}},"590":{"start":{"line":1422,"column":12},"end":{"line":1422,"column":29}},"591":{"start":{"line":1426,"column":6},"end":{"line":1426,"column":66}},"592":{"start":{"line":1427,"column":6},"end":{"line":1427,"column":41}},"593":{"start":{"line":1431,"column":10},"end":{"line":1435,"column":3}},"594":{"start":{"line":1432,"column":4},"end":{"line":1432,"column":47}},"595":{"start":{"line":1433,"column":4},"end":{"line":1433,"column":46}},"596":{"start":{"line":1434,"column":4},"end":{"line":1434,"column":18}},"597":{"start":{"line":1437,"column":10},"end":{"line":1453,"column":3}},"598":{"start":{"line":1437,"column":2},"end":{"line":1453,"column":3}},"599":{"start":{"line":1438,"column":4},"end":{"line":1452,"column":5}},"600":{"start":{"line":1439,"column":6},"end":{"line":1439,"column":47}},"601":{"start":{"line":1440,"column":6},"end":{"line":1440,"column":44}},"602":{"start":{"line":1441,"column":6},"end":{"line":1441,"column":52}},"603":{"start":{"line":1442,"column":6},"end":{"line":1442,"column":42}},"604":{"start":{"line":1443,"column":6},"end":{"line":1443,"column":33}},"605":{"start":{"line":1444,"column":6},"end":{"line":1444,"column":56}},"606":{"start":{"line":1444,"column":33},"end":{"line":1444,"column":55}},"607":{"start":{"line":1445,"column":6},"end":{"line":1445,"column":18}},"608":{"start":{"line":1447,"column":6},"end":{"line":1447,"column":45}},"609":{"start":{"line":1448,"column":6},"end":{"line":1448,"column":44}},"610":{"start":{"line":1449,"column":6},"end":{"line":1449,"column":31}},"611":{"start":{"line":1450,"column":6},"end":{"line":1450,"column":57}},"612":{"start":{"line":1450,"column":33},"end":{"line":1450,"column":55}},"613":{"start":{"line":1451,"column":6},"end":{"line":1451,"column":18}},"614":{"start":{"line":1455,"column":10},"end":{"line":1471,"column":3}},"615":{"start":{"line":1455,"column":2},"end":{"line":1471,"column":3}},"616":{"start":{"line":1456,"column":4},"end":{"line":1470,"column":5}},"617":{"start":{"line":1457,"column":6},"end":{"line":1457,"column":47}},"618":{"start":{"line":1458,"column":6},"end":{"line":1458,"column":44}},"619":{"start":{"line":1459,"column":6},"end":{"line":1459,"column":52}},"620":{"start":{"line":1460,"column":6},"end":{"line":1460,"column":42}},"621":{"start":{"line":1461,"column":6},"end":{"line":1461,"column":33}},"622":{"start":{"line":1462,"column":6},"end":{"line":1462,"column":57}},"623":{"start":{"line":1462,"column":33},"end":{"line":1462,"column":55}},"624":{"start":{"line":1463,"column":6},"end":{"line":1463,"column":18}},"625":{"start":{"line":1465,"column":6},"end":{"line":1465,"column":45}},"626":{"start":{"line":1466,"column":6},"end":{"line":1466,"column":44}},"627":{"start":{"line":1467,"column":6},"end":{"line":1467,"column":31}},"628":{"start":{"line":1468,"column":6},"end":{"line":1468,"column":57}},"629":{"start":{"line":1468,"column":33},"end":{"line":1468,"column":55}},"630":{"start":{"line":1469,"column":6},"end":{"line":1469,"column":18}},"631":{"start":{"line":1473,"column":10},"end":{"line":1503,"column":3}},"632":{"start":{"line":1473,"column":2},"end":{"line":1503,"column":3}},"633":{"start":{"line":1474,"column":4},"end":{"line":1474,"column":56}},"634":{"start":{"line":1475,"column":4},"end":{"line":1475,"column":32}},"635":{"start":{"line":1478,"column":4},"end":{"line":1502,"column":48}},"636":{"start":{"line":1479,"column":6},"end":{"line":1479,"column":72}},"637":{"start":{"line":1481,"column":6},"end":{"line":1481,"column":63}},"638":{"start":{"line":1482,"column":6},"end":{"line":1482,"column":67}},"639":{"start":{"line":1483,"column":6},"end":{"line":1483,"column":32}},"640":{"start":{"line":1485,"column":6},"end":{"line":1485,"column":50}},"641":{"start":{"line":1487,"column":6},"end":{"line":1487,"column":34}},"642":{"start":{"line":1488,"column":6},"end":{"line":1488,"column":71}},"643":{"start":{"line":1490,"column":6},"end":{"line":1501,"column":7}},"644":{"start":{"line":1491,"column":8},"end":{"line":1491,"column":143}},"645":{"start":{"line":1491,"column":96},"end":{"line":1491,"column":140}},"646":{"start":{"line":1493,"column":8},"end":{"line":1498,"column":9}},"647":{"start":{"line":1494,"column":10},"end":{"line":1494,"column":76}},"648":{"start":{"line":1495,"column":10},"end":{"line":1495,"column":38}},"649":{"start":{"line":1497,"column":10},"end":{"line":1497,"column":38}},"650":{"start":{"line":1500,"column":8},"end":{"line":1500,"column":36}},"651":{"start":{"line":1502,"column":19},"end":{"line":1502,"column":46}},"652":{"start":{"line":1505,"column":10},"end":{"line":1520,"column":3}},"653":{"start":{"line":1505,"column":2},"end":{"line":1520,"column":3}},"654":{"start":{"line":1506,"column":4},"end":{"line":1506,"column":32}},"655":{"start":{"line":1507,"column":4},"end":{"line":1519,"column":6}},"656":{"start":{"line":1508,"column":6},"end":{"line":1508,"column":50}},"657":{"start":{"line":1509,"column":6},"end":{"line":1515,"column":9}},"658":{"start":{"line":1510,"column":8},"end":{"line":1514,"column":11}},"659":{"start":{"line":1511,"column":10},"end":{"line":1513,"column":11}},"660":{"start":{"line":1512,"column":12},"end":{"line":1512,"column":72}},"661":{"start":{"line":1516,"column":6},"end":{"line":1516,"column":61}},"662":{"start":{"line":1517,"column":6},"end":{"line":1517,"column":34}},"663":{"start":{"line":1518,"column":6},"end":{"line":1518,"column":34}},"664":{"start":{"line":1522,"column":12},"end":{"line":1534,"column":3}},"665":{"start":{"line":1523,"column":4},"end":{"line":1530,"column":5}},"666":{"start":{"line":1525,"column":6},"end":{"line":1525,"column":27}},"667":{"start":{"line":1526,"column":6},"end":{"line":1526,"column":30}},"668":{"start":{"line":1529,"column":6},"end":{"line":1529,"column":101}},"669":{"start":{"line":1533,"column":4},"end":{"line":1533,"column":98}},"670":{"start":{"line":1536,"column":10},"end":{"line":1552,"column":3}},"671":{"start":{"line":1538,"column":4},"end":{"line":1538,"column":87}},"672":{"start":{"line":1542,"column":4},"end":{"line":1550,"column":5}},"673":{"start":{"line":1543,"column":6},"end":{"line":1543,"column":38}},"674":{"start":{"line":1544,"column":6},"end":{"line":1548,"column":9}},"675":{"start":{"line":1545,"column":8},"end":{"line":1547,"column":9}},"676":{"start":{"line":1546,"column":10},"end":{"line":1546,"column":41}},"677":{"start":{"line":1549,"column":6},"end":{"line":1549,"column":44}},"678":{"start":{"line":1551,"column":4},"end":{"line":1551,"column":59}},"679":{"start":{"line":1554,"column":10},"end":{"line":1558,"column":3}},"680":{"start":{"line":1555,"column":4},"end":{"line":1557,"column":5}},"681":{"start":{"line":1556,"column":6},"end":{"line":1556,"column":147}},"682":{"start":{"line":1560,"column":10},"end":{"line":1564,"column":3}},"683":{"start":{"line":1561,"column":4},"end":{"line":1561,"column":63}},"684":{"start":{"line":1562,"column":4},"end":{"line":1562,"column":46}},"685":{"start":{"line":1563,"column":4},"end":{"line":1563,"column":48}},"686":{"start":{"line":1566,"column":10},"end":{"line":1568,"column":3}},"687":{"start":{"line":1567,"column":4},"end":{"line":1567,"column":42}},"688":{"start":{"line":1570,"column":10},"end":{"line":1572,"column":3}},"689":{"start":{"line":1571,"column":4},"end":{"line":1571,"column":39}},"690":{"start":{"line":1574,"column":9},"end":{"line":1582,"column":3}},"691":{"start":{"line":1575,"column":4},"end":{"line":1575,"column":23}},"692":{"start":{"line":1576,"column":4},"end":{"line":1580,"column":5}},"693":{"start":{"line":1581,"column":4},"end":{"line":1581,"column":16}},"694":{"start":{"line":107,"column":9},"end":{"line":107,"column":22}},"695":{"start":{"line":108,"column":9},"end":{"line":108,"column":27}},"696":{"start":{"line":114,"column":9},"end":{"line":407,"column":4}},"697":{"start":{"line":142,"column":57},"end":{"line":142,"column":79}},"698":{"start":{"line":181,"column":106},"end":{"line":181,"column":194}},"699":{"start":{"line":245,"column":29},"end":{"line":245,"column":65}},"700":{"start":{"line":267,"column":29},"end":{"line":267,"column":65}},"701":{"start":{"line":326,"column":91},"end":{"line":326,"column":112}},"702":{"start":{"line":331,"column":90},"end":{"line":331,"column":103}},"703":{"start":{"line":388,"column":6},"end":{"line":388,"column":18}},"704":{"start":{"line":1583,"column":0},"end":{"line":1583,"column":1}},"705":{"start":{"line":106,"column":13},"end":{"line":1583,"column":1}},"706":{"start":{"line":1584,"column":0},"end":{"line":1584,"column":50}}},"fnMap":{"1":{"name":"(anonymous_2763)","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":77}}},"2":{"name":"(anonymous_2766)","line":106,"loc":{"start":{"line":106,"column":0},"end":{"line":null,"column":-1}}},"3":{"name":"Facet","line":459,"loc":{"start":{"line":459,"column":2},"end":{"line":459,"column":136}}},"4":{"name":"(anonymous_2768)","line":464,"loc":{"start":{"line":464,"column":74},"end":{"line":464,"column":87}}},"5":{"name":"(anonymous_2769)","line":484,"loc":{"start":{"line":484,"column":18},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_2770)","line":490,"loc":{"start":{"line":490,"column":55},"end":{"line":490,"column":60}}},"7":{"name":"(anonymous_2771)","line":492,"loc":{"start":{"line":492,"column":55},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_2772)","line":497,"loc":{"start":{"line":497,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_2773)","line":505,"loc":{"start":{"line":505,"column":63},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_2774)","line":519,"loc":{"start":{"line":519,"column":2},"end":{"line":519,"column":31}}},"11":{"name":"(anonymous_2775)","line":533,"loc":{"start":{"line":533,"column":2},"end":{"line":533,"column":43}}},"12":{"name":"(anonymous_2776)","line":536,"loc":{"start":{"line":536,"column":19},"end":{"line":536,"column":25}}},"13":{"name":"(anonymous_2777)","line":549,"loc":{"start":{"line":549,"column":2},"end":{"line":549,"column":33}}},"14":{"name":"(anonymous_2778)","line":563,"loc":{"start":{"line":563,"column":2},"end":{"line":563,"column":45}}},"15":{"name":"(anonymous_2779)","line":566,"loc":{"start":{"line":566,"column":19},"end":{"line":566,"column":25}}},"16":{"name":"(anonymous_2780)","line":579,"loc":{"start":{"line":579,"column":2},"end":{"line":579,"column":32}}},"17":{"name":"(anonymous_2781)","line":593,"loc":{"start":{"line":593,"column":2},"end":{"line":593,"column":44}}},"18":{"name":"(anonymous_2782)","line":596,"loc":{"start":{"line":596,"column":19},"end":{"line":596,"column":25}}},"19":{"name":"(anonymous_2783)","line":609,"loc":{"start":{"line":609,"column":2},"end":{"line":609,"column":34}}},"20":{"name":"(anonymous_2784)","line":623,"loc":{"start":{"line":623,"column":2},"end":{"line":623,"column":46}}},"21":{"name":"(anonymous_2785)","line":626,"loc":{"start":{"line":626,"column":19},"end":{"line":626,"column":25}}},"22":{"name":"(anonymous_2786)","line":639,"loc":{"start":{"line":639,"column":2},"end":{"line":639,"column":37}}},"23":{"name":"(anonymous_2787)","line":653,"loc":{"start":{"line":653,"column":2},"end":{"line":653,"column":38}}},"24":{"name":"(anonymous_2788)","line":664,"loc":{"start":{"line":664,"column":2},"end":{"line":null,"column":-1}}},"25":{"name":"(anonymous_2789)","line":672,"loc":{"start":{"line":672,"column":2},"end":{"line":null,"column":-1}}},"26":{"name":"(anonymous_2790)","line":675,"loc":{"start":{"line":675,"column":28},"end":{"line":675,"column":48}}},"27":{"name":"(anonymous_2791)","line":684,"loc":{"start":{"line":684,"column":2},"end":{"line":null,"column":-1}}},"28":{"name":"(anonymous_2792)","line":686,"loc":{"start":{"line":686,"column":44},"end":{"line":686,"column":62}}},"29":{"name":"(anonymous_2793)","line":693,"loc":{"start":{"line":693,"column":2},"end":{"line":null,"column":-1}}},"30":{"name":"(anonymous_2794)","line":695,"loc":{"start":{"line":695,"column":44},"end":{"line":695,"column":62}}},"31":{"name":"(anonymous_2795)","line":701,"loc":{"start":{"line":701,"column":2},"end":{"line":null,"column":-1}}},"32":{"name":"(anonymous_2796)","line":712,"loc":{"start":{"line":712,"column":2},"end":{"line":null,"column":-1}}},"33":{"name":"(anonymous_2797)","line":721,"loc":{"start":{"line":721,"column":2},"end":{"line":null,"column":-1}}},"34":{"name":"(anonymous_2798)","line":731,"loc":{"start":{"line":731,"column":2},"end":{"line":null,"column":-1}}},"35":{"name":"(anonymous_2799)","line":741,"loc":{"start":{"line":741,"column":2},"end":{"line":741,"column":36}}},"36":{"name":"(anonymous_2800)","line":749,"loc":{"start":{"line":749,"column":2},"end":{"line":null,"column":-1}}},"37":{"name":"(anonymous_2801)","line":753,"loc":{"start":{"line":753,"column":2},"end":{"line":753,"column":51}}},"38":{"name":"(anonymous_2802)","line":760,"loc":{"start":{"line":760,"column":2},"end":{"line":null,"column":-1}}},"39":{"name":"(anonymous_2803)","line":776,"loc":{"start":{"line":776,"column":2},"end":{"line":null,"column":-1}}},"40":{"name":"(anonymous_2804)","line":785,"loc":{"start":{"line":785,"column":2},"end":{"line":785,"column":71}}},"41":{"name":"(anonymous_2805)","line":787,"loc":{"start":{"line":787,"column":24},"end":{"line":787,"column":35}}},"42":{"name":"(anonymous_2806)","line":803,"loc":{"start":{"line":803,"column":25},"end":{"line":803,"column":30}}},"43":{"name":"(anonymous_2807)","line":809,"loc":{"start":{"line":809,"column":2},"end":{"line":null,"column":-1}}},"44":{"name":"(anonymous_2808)","line":821,"loc":{"start":{"line":821,"column":2},"end":{"line":821,"column":40}}},"45":{"name":"(anonymous_2809)","line":843,"loc":{"start":{"line":843,"column":2},"end":{"line":null,"column":-1}}},"46":{"name":"(anonymous_2810)","line":856,"loc":{"start":{"line":856,"column":2},"end":{"line":null,"column":-1}}},"47":{"name":"(anonymous_2811)","line":865,"loc":{"start":{"line":865,"column":2},"end":{"line":865,"column":56}}},"48":{"name":"(anonymous_2812)","line":874,"loc":{"start":{"line":874,"column":2},"end":{"line":874,"column":67}}},"49":{"name":"(anonymous_2813)","line":887,"loc":{"start":{"line":887,"column":2},"end":{"line":887,"column":71}}},"50":{"name":"(anonymous_2814)","line":898,"loc":{"start":{"line":898,"column":2},"end":{"line":null,"column":-1}}},"51":{"name":"(anonymous_2815)","line":902,"loc":{"start":{"line":902,"column":2},"end":{"line":null,"column":-1}}},"52":{"name":"(anonymous_2816)","line":907,"loc":{"start":{"line":907,"column":2},"end":{"line":null,"column":-1}}},"53":{"name":"(anonymous_2817)","line":912,"loc":{"start":{"line":912,"column":2},"end":{"line":null,"column":-1}}},"54":{"name":"(anonymous_2818)","line":915,"loc":{"start":{"line":915,"column":16},"end":{"line":null,"column":-1}}},"55":{"name":"(anonymous_2819)","line":920,"loc":{"start":{"line":920,"column":2},"end":{"line":null,"column":-1}}},"56":{"name":"(anonymous_2820)","line":926,"loc":{"start":{"line":926,"column":2},"end":{"line":null,"column":-1}}},"57":{"name":"(anonymous_2821)","line":927,"loc":{"start":{"line":927,"column":53},"end":{"line":927,"column":58}}},"58":{"name":"(anonymous_2822)","line":928,"loc":{"start":{"line":928,"column":55},"end":{"line":928,"column":85}}},"59":{"name":"(anonymous_2823)","line":929,"loc":{"start":{"line":929,"column":59},"end":{"line":929,"column":93}}},"60":{"name":"(anonymous_2824)","line":930,"loc":{"start":{"line":930,"column":62},"end":{"line":930,"column":91}}},"61":{"name":"(anonymous_2825)","line":933,"loc":{"start":{"line":933,"column":2},"end":{"line":null,"column":-1}}},"62":{"name":"(anonymous_2826)","line":944,"loc":{"start":{"line":944,"column":59},"end":{"line":944,"column":92}}},"63":{"name":"(anonymous_2827)","line":947,"loc":{"start":{"line":947,"column":2},"end":{"line":null,"column":-1}}},"64":{"name":"(anonymous_2828)","line":952,"loc":{"start":{"line":952,"column":2},"end":{"line":null,"column":-1}}},"65":{"name":"(anonymous_2829)","line":954,"loc":{"start":{"line":954,"column":61},"end":{"line":954,"column":93}}},"66":{"name":"(anonymous_2830)","line":958,"loc":{"start":{"line":958,"column":2},"end":{"line":null,"column":-1}}},"67":{"name":"(anonymous_2831)","line":960,"loc":{"start":{"line":960,"column":67},"end":{"line":960,"column":102}}},"68":{"name":"(anonymous_2832)","line":961,"loc":{"start":{"line":961,"column":64},"end":{"line":961,"column":96}}},"69":{"name":"(anonymous_2833)","line":965,"loc":{"start":{"line":965,"column":2},"end":{"line":965,"column":76}}},"70":{"name":"(anonymous_2834)","line":967,"loc":{"start":{"line":967,"column":60},"end":{"line":967,"column":83}}},"71":{"name":"(anonymous_2835)","line":971,"loc":{"start":{"line":971,"column":35},"end":{"line":971,"column":53}}},"72":{"name":"(anonymous_2836)","line":981,"loc":{"start":{"line":981,"column":2},"end":{"line":981,"column":66}}},"73":{"name":"(anonymous_2837)","line":991,"loc":{"start":{"line":991,"column":66},"end":{"line":991,"column":89}}},"74":{"name":"(anonymous_2838)","line":1005,"loc":{"start":{"line":1005,"column":2},"end":{"line":null,"column":-1}}},"75":{"name":"(anonymous_2839)","line":1014,"loc":{"start":{"line":1014,"column":2},"end":{"line":null,"column":-1}}},"76":{"name":"(anonymous_2840)","line":1027,"loc":{"start":{"line":1027,"column":2},"end":{"line":1027,"column":62}}},"77":{"name":"(anonymous_2841)","line":1035,"loc":{"start":{"line":1035,"column":36},"end":{"line":1035,"column":45}}},"78":{"name":"(anonymous_2842)","line":1047,"loc":{"start":{"line":1047,"column":38},"end":{"line":null,"column":-1}}},"79":{"name":"(anonymous_2843)","line":1055,"loc":{"start":{"line":1055,"column":2},"end":{"line":1055,"column":178}}},"80":{"name":"(anonymous_2844)","line":1075,"loc":{"start":{"line":1075,"column":2},"end":{"line":null,"column":-1}}},"81":{"name":"(anonymous_2845)","line":1079,"loc":{"start":{"line":1079,"column":2},"end":{"line":null,"column":-1}}},"82":{"name":"(anonymous_2846)","line":1083,"loc":{"start":{"line":1083,"column":2},"end":{"line":null,"column":-1}}},"83":{"name":"(anonymous_2847)","line":1087,"loc":{"start":{"line":1087,"column":2},"end":{"line":null,"column":-1}}},"84":{"name":"(anonymous_2848)","line":1093,"loc":{"start":{"line":1093,"column":2},"end":{"line":null,"column":-1}}},"85":{"name":"(anonymous_2849)","line":1101,"loc":{"start":{"line":1101,"column":2},"end":{"line":null,"column":-1}}},"86":{"name":"(anonymous_2850)","line":1110,"loc":{"start":{"line":1110,"column":2},"end":{"line":null,"column":-1}}},"87":{"name":"(anonymous_2851)","line":1114,"loc":{"start":{"line":1114,"column":57},"end":{"line":1114,"column":62}}},"88":{"name":"(anonymous_2852)","line":1132,"loc":{"start":{"line":1132,"column":2},"end":{"line":null,"column":-1}}},"89":{"name":"(anonymous_2853)","line":1140,"loc":{"start":{"line":1140,"column":2},"end":{"line":null,"column":-1}}},"90":{"name":"(anonymous_2854)","line":1149,"loc":{"start":{"line":1149,"column":2},"end":{"line":null,"column":-1}}},"91":{"name":"(anonymous_2855)","line":1152,"loc":{"start":{"line":1152,"column":74},"end":{"line":1152,"column":80}}},"92":{"name":"(anonymous_2856)","line":1159,"loc":{"start":{"line":1159,"column":2},"end":{"line":1159,"column":58}}},"93":{"name":"(anonymous_2857)","line":1167,"loc":{"start":{"line":1167,"column":2},"end":{"line":1167,"column":57}}},"94":{"name":"(anonymous_2858)","line":1177,"loc":{"start":{"line":1177,"column":2},"end":{"line":1177,"column":57}}},"95":{"name":"(anonymous_2859)","line":1187,"loc":{"start":{"line":1187,"column":2},"end":{"line":1187,"column":82}}},"96":{"name":"(anonymous_2860)","line":1188,"loc":{"start":{"line":1188,"column":31},"end":{"line":1188,"column":50}}},"97":{"name":"(anonymous_2861)","line":1193,"loc":{"start":{"line":1193,"column":2},"end":{"line":1193,"column":66}}},"98":{"name":"(anonymous_2862)","line":1219,"loc":{"start":{"line":1219,"column":2},"end":{"line":1219,"column":63}}},"99":{"name":"(anonymous_2863)","line":1236,"loc":{"start":{"line":1236,"column":2},"end":{"line":1236,"column":76}}},"100":{"name":"(anonymous_2864)","line":1239,"loc":{"start":{"line":1239,"column":47},"end":{"line":1239,"column":63}}},"101":{"name":"(anonymous_2865)","line":1243,"loc":{"start":{"line":1243,"column":62},"end":{"line":1243,"column":74}}},"102":{"name":"(anonymous_2866)","line":1244,"loc":{"start":{"line":1244,"column":54},"end":{"line":1244,"column":83}}},"103":{"name":"(anonymous_2867)","line":1246,"loc":{"start":{"line":1246,"column":12},"end":{"line":1246,"column":23}}},"104":{"name":"(anonymous_2868)","line":1254,"loc":{"start":{"line":1254,"column":15},"end":{"line":null,"column":-1}}},"105":{"name":"(anonymous_2869)","line":1261,"loc":{"start":{"line":1261,"column":2},"end":{"line":null,"column":-1}}},"106":{"name":"(anonymous_2870)","line":1268,"loc":{"start":{"line":1268,"column":2},"end":{"line":1268,"column":59}}},"107":{"name":"(anonymous_2871)","line":1280,"loc":{"start":{"line":1280,"column":2},"end":{"line":1280,"column":67}}},"108":{"name":"(anonymous_2872)","line":1287,"loc":{"start":{"line":1287,"column":2},"end":{"line":null,"column":-1}}},"109":{"name":"(anonymous_2873)","line":1291,"loc":{"start":{"line":1291,"column":2},"end":{"line":1291,"column":47}}},"110":{"name":"(anonymous_2874)","line":1304,"loc":{"start":{"line":1304,"column":2},"end":{"line":1304,"column":57}}},"111":{"name":"(anonymous_2875)","line":1311,"loc":{"start":{"line":1311,"column":2},"end":{"line":null,"column":-1}}},"112":{"name":"(anonymous_2876)","line":1315,"loc":{"start":{"line":1315,"column":2},"end":{"line":null,"column":-1}}},"113":{"name":"(anonymous_2877)","line":1337,"loc":{"start":{"line":1337,"column":2},"end":{"line":null,"column":-1}}},"114":{"name":"(anonymous_2878)","line":1361,"loc":{"start":{"line":1361,"column":2},"end":{"line":null,"column":-1}}},"115":{"name":"(anonymous_2879)","line":1371,"loc":{"start":{"line":1371,"column":2},"end":{"line":null,"column":-1}}},"116":{"name":"(anonymous_2880)","line":1375,"loc":{"start":{"line":1375,"column":2},"end":{"line":null,"column":-1}}},"117":{"name":"(anonymous_2881)","line":1379,"loc":{"start":{"line":1379,"column":2},"end":{"line":null,"column":-1}}},"118":{"name":"(anonymous_2882)","line":1392,"loc":{"start":{"line":1392,"column":27},"end":{"line":null,"column":-1}}},"119":{"name":"(anonymous_2883)","line":1414,"loc":{"start":{"line":1414,"column":16},"end":{"line":null,"column":-1}}},"120":{"name":"(anonymous_2884)","line":1431,"loc":{"start":{"line":1431,"column":2},"end":{"line":null,"column":-1}}},"121":{"name":"(anonymous_2885)","line":1437,"loc":{"start":{"line":1437,"column":2},"end":{"line":null,"column":-1}}},"122":{"name":"(anonymous_2886)","line":1444,"loc":{"start":{"line":1444,"column":27},"end":{"line":1444,"column":32}}},"123":{"name":"(anonymous_2887)","line":1450,"loc":{"start":{"line":1450,"column":27},"end":{"line":1450,"column":32}}},"124":{"name":"(anonymous_2888)","line":1455,"loc":{"start":{"line":1455,"column":2},"end":{"line":null,"column":-1}}},"125":{"name":"(anonymous_2889)","line":1462,"loc":{"start":{"line":1462,"column":27},"end":{"line":1462,"column":32}}},"126":{"name":"(anonymous_2890)","line":1468,"loc":{"start":{"line":1468,"column":27},"end":{"line":1468,"column":32}}},"127":{"name":"(anonymous_2891)","line":1473,"loc":{"start":{"line":1473,"column":2},"end":{"line":null,"column":-1}}},"128":{"name":"(anonymous_2892)","line":1478,"loc":{"start":{"line":1478,"column":70},"end":{"line":1478,"column":84}}},"129":{"name":"(anonymous_2893)","line":1491,"loc":{"start":{"line":1491,"column":68},"end":{"line":1491,"column":91}}},"130":{"name":"(anonymous_2894)","line":1502,"loc":{"start":{"line":1502,"column":13},"end":{"line":1502,"column":18}}},"131":{"name":"(anonymous_2895)","line":1505,"loc":{"start":{"line":1505,"column":2},"end":{"line":1505,"column":59}}},"132":{"name":"(anonymous_2896)","line":1507,"loc":{"start":{"line":1507,"column":75},"end":{"line":1507,"column":89}}},"133":{"name":"(anonymous_2897)","line":1509,"loc":{"start":{"line":1509,"column":42},"end":{"line":1509,"column":72}}},"134":{"name":"(anonymous_2898)","line":1510,"loc":{"start":{"line":1510,"column":37},"end":{"line":1510,"column":65}}},"135":{"name":"(anonymous_2899)","line":1522,"loc":{"start":{"line":1522,"column":2},"end":{"line":null,"column":-1}}},"136":{"name":"(anonymous_2900)","line":1536,"loc":{"start":{"line":1536,"column":2},"end":{"line":null,"column":-1}}},"137":{"name":"(anonymous_2901)","line":1544,"loc":{"start":{"line":1544,"column":93},"end":{"line":1544,"column":111}}},"138":{"name":"(anonymous_2902)","line":1554,"loc":{"start":{"line":1554,"column":2},"end":{"line":null,"column":-1}}},"139":{"name":"(anonymous_2903)","line":1560,"loc":{"start":{"line":1560,"column":2},"end":{"line":null,"column":-1}}},"140":{"name":"(anonymous_2904)","line":1566,"loc":{"start":{"line":1566,"column":2},"end":{"line":null,"column":-1}}},"141":{"name":"(anonymous_2905)","line":1570,"loc":{"start":{"line":1570,"column":2},"end":{"line":null,"column":-1}}},"142":{"name":"(anonymous_2906)","line":1574,"loc":{"start":{"line":1574,"column":2},"end":{"line":null,"column":-1}}},"143":{"name":"(anonymous_2907)","line":142,"loc":{"start":{"line":142,"column":22},"end":{"line":142,"column":52}}},"144":{"name":"(anonymous_2908)","line":181,"loc":{"start":{"line":181,"column":71},"end":{"line":181,"column":101}}},"145":{"name":"(anonymous_2909)","line":245,"loc":{"start":{"line":245,"column":23},"end":{"line":245,"column":28}}},"146":{"name":"(anonymous_2910)","line":267,"loc":{"start":{"line":267,"column":23},"end":{"line":267,"column":28}}},"147":{"name":"(anonymous_2911)","line":326,"loc":{"start":{"line":326,"column":78},"end":{"line":326,"column":86}}},"148":{"name":"(anonymous_2912)","line":331,"loc":{"start":{"line":331,"column":77},"end":{"line":331,"column":85}}},"149":{"name":"(anonymous_2913)","line":387,"loc":{"start":{"line":387,"column":73},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":459,"type":"if","locations":[{"start":{"line":459,"column":105},"end":{"line":459,"column":104}},{"start":{"line":459,"column":105},"end":{"line":459,"column":104}}]},"2":{"line":463,"type":"if","locations":[{"start":{"line":463,"column":4},"end":{"line":463,"column":3}},{"start":{"line":463,"column":4},"end":{"line":463,"column":3}}]},"3":{"line":485,"type":"if","locations":[{"start":{"line":485,"column":6},"end":{"line":485,"column":5}},{"start":{"line":485,"column":6},"end":{"line":485,"column":5}}]},"4":{"line":504,"type":"if","locations":[{"start":{"line":504,"column":4},"end":{"line":504,"column":3}},{"start":{"line":504,"column":4},"end":{"line":504,"column":3}}]},"5":{"line":504,"type":"binary-expr","locations":[{"start":{"line":504,"column":8},"end":{"line":504,"column":26}},{"start":{"line":504,"column":30},"end":{"line":504,"column":67}}]},"6":{"line":743,"type":"if","locations":[{"start":{"line":743,"column":4},"end":{"line":743,"column":3}},{"start":{"line":743,"column":4},"end":{"line":743,"column":3}}]},"7":{"line":762,"type":"if","locations":[{"start":{"line":762,"column":4},"end":{"line":762,"column":3}},{"start":{"line":762,"column":4},"end":{"line":762,"column":3}}]},"8":{"line":765,"type":"if","locations":[{"start":{"line":765,"column":6},"end":{"line":765,"column":5}},{"start":{"line":765,"column":6},"end":{"line":765,"column":5}}]},"9":{"line":778,"type":"if","locations":[{"start":{"line":778,"column":4},"end":{"line":778,"column":3}},{"start":{"line":778,"column":4},"end":{"line":778,"column":3}}]},"10":{"line":810,"type":"if","locations":[{"start":{"line":810,"column":4},"end":{"line":810,"column":3}},{"start":{"line":810,"column":4},"end":{"line":810,"column":3}}]},"11":{"line":823,"type":"binary-expr","locations":[{"start":{"line":823,"column":22},"end":{"line":823,"column":44}},{"start":{"line":823,"column":48},"end":{"line":823,"column":64}}]},"12":{"line":827,"type":"if","locations":[{"start":{"line":827,"column":4},"end":{"line":827,"column":3}},{"start":{"line":827,"column":4},"end":{"line":827,"column":3}}]},"13":{"line":828,"type":"if","locations":[{"start":{"line":828,"column":6},"end":{"line":828,"column":5}},{"start":{"line":828,"column":6},"end":{"line":828,"column":5}}]},"14":{"line":829,"type":"binary-expr","locations":[{"start":{"line":829,"column":14},"end":{"line":829,"column":52}},{"start":{"line":829,"column":56},"end":{"line":829,"column":59}}]},"15":{"line":831,"type":"if","locations":[{"start":{"line":831,"column":6},"end":{"line":831,"column":5}},{"start":{"line":831,"column":6},"end":{"line":831,"column":5}}]},"16":{"line":846,"type":"if","locations":[{"start":{"line":846,"column":4},"end":{"line":846,"column":3}},{"start":{"line":846,"column":4},"end":{"line":846,"column":3}}]},"17":{"line":846,"type":"binary-expr","locations":[{"start":{"line":846,"column":8},"end":{"line":846,"column":53}},{"start":{"line":846,"column":57},"end":{"line":846,"column":75}}]},"18":{"line":866,"type":"if","locations":[{"start":{"line":866,"column":4},"end":{"line":866,"column":3}},{"start":{"line":866,"column":4},"end":{"line":866,"column":3}}]},"19":{"line":881,"type":"if","locations":[{"start":{"line":881,"column":4},"end":{"line":881,"column":3}},{"start":{"line":881,"column":4},"end":{"line":881,"column":3}}]},"20":{"line":890,"type":"if","locations":[{"start":{"line":890,"column":4},"end":{"line":890,"column":3}},{"start":{"line":890,"column":4},"end":{"line":890,"column":3}}]},"21":{"line":953,"type":"if","locations":[{"start":{"line":953,"column":4},"end":{"line":953,"column":3}},{"start":{"line":953,"column":4},"end":{"line":953,"column":3}}]},"22":{"line":959,"type":"if","locations":[{"start":{"line":959,"column":4},"end":{"line":959,"column":3}},{"start":{"line":959,"column":4},"end":{"line":959,"column":3}}]},"23":{"line":983,"type":"if","locations":[{"start":{"line":983,"column":4},"end":{"line":983,"column":3}},{"start":{"line":983,"column":4},"end":{"line":983,"column":3}}]},"24":{"line":983,"type":"binary-expr","locations":[{"start":{"line":983,"column":8},"end":{"line":983,"column":34}},{"start":{"line":983,"column":38},"end":{"line":983,"column":71}}]},"25":{"line":990,"type":"if","locations":[{"start":{"line":990,"column":4},"end":{"line":990,"column":3}},{"start":{"line":990,"column":4},"end":{"line":990,"column":3}}]},"26":{"line":990,"type":"binary-expr","locations":[{"start":{"line":990,"column":8},"end":{"line":990,"column":49}},{"start":{"line":990,"column":53},"end":{"line":990,"column":73}},{"start":{"line":990,"column":77},"end":{"line":990,"column":107}}]},"27":{"line":992,"type":"binary-expr","locations":[{"start":{"line":992,"column":15},"end":{"line":992,"column":35}},{"start":{"line":992,"column":39},"end":{"line":992,"column":59}}]},"28":{"line":994,"type":"if","locations":[{"start":{"line":994,"column":11},"end":{"line":994,"column":10}},{"start":{"line":994,"column":11},"end":{"line":994,"column":10}}]},"29":{"line":994,"type":"binary-expr","locations":[{"start":{"line":994,"column":15},"end":{"line":994,"column":51}},{"start":{"line":994,"column":55},"end":{"line":994,"column":75}}]},"30":{"line":997,"type":"if","locations":[{"start":{"line":997,"column":4},"end":{"line":997,"column":3}},{"start":{"line":997,"column":4},"end":{"line":997,"column":3}}]},"31":{"line":997,"type":"binary-expr","locations":[{"start":{"line":997,"column":8},"end":{"line":997,"column":50}},{"start":{"line":997,"column":54},"end":{"line":997,"column":73}},{"start":{"line":997,"column":77},"end":{"line":997,"column":108}}]},"32":{"line":1017,"type":"if","locations":[{"start":{"line":1017,"column":4},"end":{"line":1017,"column":3}},{"start":{"line":1017,"column":4},"end":{"line":1017,"column":3}}]},"33":{"line":1019,"type":"if","locations":[{"start":{"line":1019,"column":6},"end":{"line":1019,"column":5}},{"start":{"line":1019,"column":6},"end":{"line":1019,"column":5}}]},"34":{"line":1019,"type":"binary-expr","locations":[{"start":{"line":1019,"column":10},"end":{"line":1019,"column":40}},{"start":{"line":1019,"column":44},"end":{"line":1019,"column":78}}]},"35":{"line":1022,"type":"if","locations":[{"start":{"line":1022,"column":11},"end":{"line":1022,"column":10}},{"start":{"line":1022,"column":11},"end":{"line":1022,"column":10}}]},"36":{"line":1022,"type":"binary-expr","locations":[{"start":{"line":1022,"column":15},"end":{"line":1022,"column":45}},{"start":{"line":1022,"column":49},"end":{"line":1022,"column":83}}]},"37":{"line":1027,"type":"if","locations":[{"start":{"line":1027,"column":36},"end":{"line":1027,"column":35}},{"start":{"line":1027,"column":36},"end":{"line":1027,"column":35}}]},"38":{"line":1028,"type":"if","locations":[{"start":{"line":1028,"column":4},"end":{"line":1028,"column":3}},{"start":{"line":1028,"column":4},"end":{"line":1028,"column":3}}]},"39":{"line":1028,"type":"binary-expr","locations":[{"start":{"line":1028,"column":8},"end":{"line":1028,"column":42}},{"start":{"line":1028,"column":46},"end":{"line":1028,"column":65}}]},"40":{"line":1034,"type":"if","locations":[{"start":{"line":1034,"column":6},"end":{"line":1034,"column":5}},{"start":{"line":1034,"column":6},"end":{"line":1034,"column":5}}]},"41":{"line":1036,"type":"if","locations":[{"start":{"line":1036,"column":10},"end":{"line":1036,"column":9}},{"start":{"line":1036,"column":10},"end":{"line":1036,"column":9}}]},"42":{"line":1055,"type":"if","locations":[{"start":{"line":1055,"column":27},"end":{"line":1055,"column":26}},{"start":{"line":1055,"column":27},"end":{"line":1055,"column":26}}]},"43":{"line":1055,"type":"if","locations":[{"start":{"line":1055,"column":112},"end":{"line":1055,"column":111}},{"start":{"line":1055,"column":112},"end":{"line":1055,"column":111}}]},"44":{"line":1056,"type":"if","locations":[{"start":{"line":1056,"column":4},"end":{"line":1056,"column":3}},{"start":{"line":1056,"column":4},"end":{"line":1056,"column":3}}]},"45":{"line":1062,"type":"if","locations":[{"start":{"line":1062,"column":4},"end":{"line":1062,"column":3}},{"start":{"line":1062,"column":4},"end":{"line":1062,"column":3}}]},"46":{"line":1068,"type":"if","locations":[{"start":{"line":1068,"column":4},"end":{"line":1068,"column":3}},{"start":{"line":1068,"column":4},"end":{"line":1068,"column":3}}]},"47":{"line":1068,"type":"binary-expr","locations":[{"start":{"line":1068,"column":8},"end":{"line":1068,"column":26}},{"start":{"line":1068,"column":30},"end":{"line":1068,"column":49}}]},"48":{"line":1088,"type":"if","locations":[{"start":{"line":1088,"column":4},"end":{"line":1088,"column":3}},{"start":{"line":1088,"column":4},"end":{"line":1088,"column":3}}]},"49":{"line":1088,"type":"binary-expr","locations":[{"start":{"line":1088,"column":8},"end":{"line":1088,"column":78}},{"start":{"line":1088,"column":82},"end":{"line":1088,"column":133}}]},"50":{"line":1094,"type":"if","locations":[{"start":{"line":1094,"column":4},"end":{"line":1094,"column":3}},{"start":{"line":1094,"column":4},"end":{"line":1094,"column":3}}]},"51":{"line":1094,"type":"binary-expr","locations":[{"start":{"line":1094,"column":8},"end":{"line":1094,"column":33}},{"start":{"line":1094,"column":37},"end":{"line":1094,"column":83}}]},"52":{"line":1102,"type":"if","locations":[{"start":{"line":1102,"column":4},"end":{"line":1102,"column":3}},{"start":{"line":1102,"column":4},"end":{"line":1102,"column":3}}]},"53":{"line":1102,"type":"binary-expr","locations":[{"start":{"line":1102,"column":8},"end":{"line":1102,"column":44}},{"start":{"line":1102,"column":48},"end":{"line":1102,"column":98}}]},"54":{"line":1105,"type":"if","locations":[{"start":{"line":1105,"column":4},"end":{"line":1105,"column":3}},{"start":{"line":1105,"column":4},"end":{"line":1105,"column":3}}]},"55":{"line":1113,"type":"if","locations":[{"start":{"line":1113,"column":4},"end":{"line":1113,"column":3}},{"start":{"line":1113,"column":4},"end":{"line":1113,"column":3}}]},"56":{"line":1119,"type":"if","locations":[{"start":{"line":1119,"column":6},"end":{"line":1119,"column":5}},{"start":{"line":1119,"column":6},"end":{"line":1119,"column":5}}]},"57":{"line":1124,"type":"if","locations":[{"start":{"line":1124,"column":6},"end":{"line":1124,"column":5}},{"start":{"line":1124,"column":6},"end":{"line":1124,"column":5}}]},"58":{"line":1150,"type":"if","locations":[{"start":{"line":1150,"column":4},"end":{"line":1150,"column":3}},{"start":{"line":1150,"column":4},"end":{"line":1150,"column":3}}]},"59":{"line":1160,"type":"if","locations":[{"start":{"line":1160,"column":4},"end":{"line":1160,"column":3}},{"start":{"line":1160,"column":4},"end":{"line":1160,"column":3}}]},"60":{"line":1162,"type":"if","locations":[{"start":{"line":1162,"column":11},"end":{"line":1162,"column":10}},{"start":{"line":1162,"column":11},"end":{"line":1162,"column":10}}]},"61":{"line":1169,"type":"if","locations":[{"start":{"line":1169,"column":4},"end":{"line":1169,"column":3}},{"start":{"line":1169,"column":4},"end":{"line":1169,"column":3}}]},"62":{"line":1172,"type":"if","locations":[{"start":{"line":1172,"column":4},"end":{"line":1172,"column":3}},{"start":{"line":1172,"column":4},"end":{"line":1172,"column":3}}]},"63":{"line":1179,"type":"if","locations":[{"start":{"line":1179,"column":4},"end":{"line":1179,"column":3}},{"start":{"line":1179,"column":4},"end":{"line":1179,"column":3}}]},"64":{"line":1182,"type":"if","locations":[{"start":{"line":1182,"column":4},"end":{"line":1182,"column":3}},{"start":{"line":1182,"column":4},"end":{"line":1182,"column":3}}]},"65":{"line":1203,"type":"if","locations":[{"start":{"line":1203,"column":4},"end":{"line":1203,"column":3}},{"start":{"line":1203,"column":4},"end":{"line":1203,"column":3}}]},"66":{"line":1204,"type":"if","locations":[{"start":{"line":1204,"column":6},"end":{"line":1204,"column":5}},{"start":{"line":1204,"column":6},"end":{"line":1204,"column":5}}]},"67":{"line":1207,"type":"if","locations":[{"start":{"line":1207,"column":6},"end":{"line":1207,"column":5}},{"start":{"line":1207,"column":6},"end":{"line":1207,"column":5}}]},"68":{"line":1210,"type":"if","locations":[{"start":{"line":1210,"column":6},"end":{"line":1210,"column":5}},{"start":{"line":1210,"column":6},"end":{"line":1210,"column":5}}]},"69":{"line":1213,"type":"if","locations":[{"start":{"line":1213,"column":6},"end":{"line":1213,"column":5}},{"start":{"line":1213,"column":6},"end":{"line":1213,"column":5}}]},"70":{"line":1229,"type":"if","locations":[{"start":{"line":1229,"column":4},"end":{"line":1229,"column":3}},{"start":{"line":1229,"column":4},"end":{"line":1229,"column":3}}]},"71":{"line":1247,"type":"binary-expr","locations":[{"start":{"line":1247,"column":17},"end":{"line":1247,"column":56}},{"start":{"line":1247,"column":60},"end":{"line":1247,"column":89}}]},"72":{"line":1263,"type":"if","locations":[{"start":{"line":1263,"column":4},"end":{"line":1263,"column":3}},{"start":{"line":1263,"column":4},"end":{"line":1263,"column":3}}]},"73":{"line":1273,"type":"if","locations":[{"start":{"line":1273,"column":4},"end":{"line":1273,"column":3}},{"start":{"line":1273,"column":4},"end":{"line":1273,"column":3}}]},"74":{"line":1293,"type":"if","locations":[{"start":{"line":1293,"column":4},"end":{"line":1293,"column":3}},{"start":{"line":1293,"column":4},"end":{"line":1293,"column":3}}]},"75":{"line":1306,"type":"if","locations":[{"start":{"line":1306,"column":4},"end":{"line":1306,"column":3}},{"start":{"line":1306,"column":4},"end":{"line":1306,"column":3}}]},"76":{"line":1319,"type":"if","locations":[{"start":{"line":1319,"column":4},"end":{"line":1319,"column":3}},{"start":{"line":1319,"column":4},"end":{"line":1319,"column":3}}]},"77":{"line":1322,"type":"if","locations":[{"start":{"line":1322,"column":4},"end":{"line":1322,"column":3}},{"start":{"line":1322,"column":4},"end":{"line":1322,"column":3}}]},"78":{"line":1328,"type":"if","locations":[{"start":{"line":1328,"column":4},"end":{"line":1328,"column":3}},{"start":{"line":1328,"column":4},"end":{"line":1328,"column":3}}]},"79":{"line":1328,"type":"binary-expr","locations":[{"start":{"line":1328,"column":8},"end":{"line":1328,"column":42}},{"start":{"line":1328,"column":46},"end":{"line":1328,"column":62}},{"start":{"line":1328,"column":66},"end":{"line":1328,"column":82}}]},"80":{"line":1331,"type":"if","locations":[{"start":{"line":1331,"column":11},"end":{"line":1331,"column":10}},{"start":{"line":1331,"column":11},"end":{"line":1331,"column":10}}]},"81":{"line":1331,"type":"binary-expr","locations":[{"start":{"line":1331,"column":15},"end":{"line":1331,"column":31}},{"start":{"line":1331,"column":35},"end":{"line":1331,"column":51}}]},"82":{"line":1339,"type":"if","locations":[{"start":{"line":1339,"column":4},"end":{"line":1339,"column":3}},{"start":{"line":1339,"column":4},"end":{"line":1339,"column":3}}]},"83":{"line":1339,"type":"binary-expr","locations":[{"start":{"line":1339,"column":8},"end":{"line":1339,"column":42}},{"start":{"line":1339,"column":46},"end":{"line":1339,"column":91}}]},"84":{"line":1350,"type":"cond-expr","locations":[{"start":{"line":1350,"column":51},"end":{"line":1350,"column":64}},{"start":{"line":1350,"column":67},"end":{"line":1350,"column":76}}]},"85":{"line":1362,"type":"if","locations":[{"start":{"line":1362,"column":4},"end":{"line":1362,"column":3}},{"start":{"line":1362,"column":4},"end":{"line":1362,"column":3}}]},"86":{"line":1362,"type":"binary-expr","locations":[{"start":{"line":1362,"column":8},"end":{"line":1362,"column":31}},{"start":{"line":1362,"column":35},"end":{"line":1362,"column":64}}]},"87":{"line":1380,"type":"if","locations":[{"start":{"line":1380,"column":4},"end":{"line":1380,"column":3}},{"start":{"line":1380,"column":4},"end":{"line":1380,"column":3}}]},"88":{"line":1389,"type":"cond-expr","locations":[{"start":{"line":1389,"column":81},"end":{"line":1389,"column":87}},{"start":{"line":1389,"column":90},"end":{"line":1389,"column":118}}]},"89":{"line":1393,"type":"if","locations":[{"start":{"line":1393,"column":8},"end":{"line":1393,"column":7}},{"start":{"line":1393,"column":8},"end":{"line":1393,"column":7}}]},"90":{"line":1406,"type":"if","locations":[{"start":{"line":1406,"column":6},"end":{"line":1406,"column":5}},{"start":{"line":1406,"column":6},"end":{"line":1406,"column":5}}]},"91":{"line":1417,"type":"binary-expr","locations":[{"start":{"line":1417,"column":17},"end":{"line":1417,"column":27}},{"start":{"line":1417,"column":31},"end":{"line":1417,"column":47}}]},"92":{"line":1438,"type":"if","locations":[{"start":{"line":1438,"column":4},"end":{"line":1438,"column":3}},{"start":{"line":1438,"column":4},"end":{"line":1438,"column":3}}]},"93":{"line":1456,"type":"if","locations":[{"start":{"line":1456,"column":4},"end":{"line":1456,"column":3}},{"start":{"line":1456,"column":4},"end":{"line":1456,"column":3}}]},"94":{"line":1490,"type":"if","locations":[{"start":{"line":1490,"column":6},"end":{"line":1490,"column":5}},{"start":{"line":1490,"column":6},"end":{"line":1490,"column":5}}]},"95":{"line":1490,"type":"binary-expr","locations":[{"start":{"line":1490,"column":10},"end":{"line":1490,"column":51}},{"start":{"line":1490,"column":55},"end":{"line":1490,"column":75}},{"start":{"line":1490,"column":79},"end":{"line":1490,"column":109}}]},"96":{"line":1491,"type":"binary-expr","locations":[{"start":{"line":1491,"column":96},"end":{"line":1491,"column":116}},{"start":{"line":1491,"column":120},"end":{"line":1491,"column":140}}]},"97":{"line":1493,"type":"if","locations":[{"start":{"line":1493,"column":8},"end":{"line":1493,"column":7}},{"start":{"line":1493,"column":8},"end":{"line":1493,"column":7}}]},"98":{"line":1493,"type":"binary-expr","locations":[{"start":{"line":1493,"column":12},"end":{"line":1493,"column":53}},{"start":{"line":1493,"column":57},"end":{"line":1493,"column":77}}]},"99":{"line":1511,"type":"if","locations":[{"start":{"line":1511,"column":10},"end":{"line":1511,"column":9}},{"start":{"line":1511,"column":10},"end":{"line":1511,"column":9}}]},"100":{"line":1523,"type":"if","locations":[{"start":{"line":1523,"column":4},"end":{"line":1523,"column":3}},{"start":{"line":1523,"column":4},"end":{"line":1523,"column":3}}]},"101":{"line":1542,"type":"if","locations":[{"start":{"line":1542,"column":4},"end":{"line":1542,"column":3}},{"start":{"line":1542,"column":4},"end":{"line":1542,"column":3}}]},"102":{"line":1542,"type":"binary-expr","locations":[{"start":{"line":1542,"column":8},"end":{"line":1542,"column":39}},{"start":{"line":1542,"column":43},"end":{"line":1542,"column":65}},{"start":{"line":1542,"column":69},"end":{"line":1542,"column":103}}]},"103":{"line":1545,"type":"if","locations":[{"start":{"line":1545,"column":8},"end":{"line":1545,"column":7}},{"start":{"line":1545,"column":8},"end":{"line":1545,"column":7}}]},"104":{"line":1555,"type":"if","locations":[{"start":{"line":1555,"column":4},"end":{"line":1555,"column":3}},{"start":{"line":1555,"column":4},"end":{"line":1555,"column":3}}]},"105":{"line":1556,"type":"binary-expr","locations":[{"start":{"line":1556,"column":60},"end":{"line":1556,"column":99}},{"start":{"line":1556,"column":103},"end":{"line":1556,"column":145}}]},"106":{"line":1563,"type":"binary-expr","locations":[{"start":{"line":1563,"column":11},"end":{"line":1563,"column":25}},{"start":{"line":1563,"column":29},"end":{"line":1563,"column":47}}]},"107":{"line":142,"type":"binary-expr","locations":[{"start":{"line":142,"column":57},"end":{"line":142,"column":62}},{"start":{"line":142,"column":66},"end":{"line":142,"column":79}}]},"108":{"line":181,"type":"binary-expr","locations":[{"start":{"line":181,"column":106},"end":{"line":181,"column":111}},{"start":{"line":181,"column":116},"end":{"line":181,"column":193}}]},"109":{"line":181,"type":"cond-expr","locations":[{"start":{"line":181,"column":152},"end":{"line":181,"column":177}},{"start":{"line":181,"column":180},"end":{"line":181,"column":193}}]},"110":{"line":245,"type":"cond-expr","locations":[{"start":{"line":245,"column":60},"end":{"line":245,"column":61}},{"start":{"line":245,"column":64},"end":{"line":245,"column":65}}]},"111":{"line":267,"type":"cond-expr","locations":[{"start":{"line":267,"column":60},"end":{"line":267,"column":61}},{"start":{"line":267,"column":64},"end":{"line":267,"column":65}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":121,"36":1,"37":1,"38":225,"39":120,"40":120,"41":120,"42":120,"43":120,"44":120,"45":120,"46":120,"47":120,"48":120,"49":120,"50":120,"51":0,"52":0,"53":120,"54":120,"55":120,"56":120,"57":120,"58":120,"59":120,"60":120,"61":120,"62":120,"63":120,"64":120,"65":120,"66":120,"67":0,"68":0,"69":120,"70":120,"71":0,"72":120,"73":34,"74":1,"75":68,"76":68,"77":68,"78":68,"79":68,"80":1,"81":0,"82":1,"83":1,"84":13,"85":13,"86":13,"87":13,"88":1,"89":13,"90":13,"91":13,"92":13,"93":17,"94":13,"95":1,"96":9,"97":9,"98":9,"99":9,"100":1,"101":5,"102":5,"103":5,"104":5,"105":3,"106":5,"107":1,"108":2,"109":2,"110":2,"111":2,"112":1,"113":4,"114":4,"115":4,"116":4,"117":10,"118":4,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":3,"130":1,"131":1,"132":2,"133":2,"134":2,"135":2,"136":1,"137":2,"138":2,"139":2,"140":2,"141":1,"142":11,"143":1,"144":30,"145":30,"146":30,"147":41,"148":1,"149":58,"150":58,"151":53,"152":1,"153":58,"154":58,"155":17,"156":1,"157":2,"158":2,"159":2,"160":2,"161":2,"162":1,"163":1,"164":1,"165":1,"166":1,"167":1,"168":1,"169":1,"170":1,"171":9,"172":1,"173":1,"174":1,"175":1,"176":1,"177":1,"178":46,"179":1,"180":47,"181":1,"182":6,"183":6,"184":5,"185":0,"186":5,"187":5,"188":1,"189":46,"190":46,"191":1,"192":1,"193":1,"194":1,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":1,"208":0,"209":0,"210":1,"211":322,"212":322,"213":322,"214":322,"215":322,"216":0,"217":0,"218":0,"219":0,"220":0,"221":322,"222":1,"223":1,"224":1,"225":1,"226":0,"227":1,"228":1,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":1,"236":3,"237":1,"238":2,"239":3,"240":1,"241":45,"242":45,"243":45,"244":45,"245":45,"246":45,"247":45,"248":13,"249":45,"250":1,"251":1,"252":1,"253":1,"254":1,"255":1,"256":105,"257":1,"258":53,"259":53,"260":1,"261":52,"262":52,"263":1,"264":26,"265":26,"266":26,"267":26,"268":26,"269":1,"270":192,"271":192,"272":192,"273":1,"274":120,"275":120,"276":45,"277":120,"278":45,"279":120,"280":45,"281":120,"282":45,"283":1,"284":120,"285":120,"286":120,"287":120,"288":120,"289":120,"290":120,"291":120,"292":120,"293":120,"294":0,"295":1,"296":120,"297":120,"298":1,"299":120,"300":120,"301":1,"302":1,"303":1,"304":120,"305":120,"306":119,"307":3,"308":119,"309":0,"310":1,"311":1,"312":1,"313":1,"314":0,"315":0,"316":1,"317":0,"318":1,"319":1,"320":1,"321":45,"322":45,"323":32,"324":45,"325":45,"326":45,"327":45,"328":1,"329":10,"330":44,"331":7,"332":45,"333":44,"334":44,"335":44,"336":45,"337":1,"338":54,"339":54,"340":54,"341":54,"342":54,"343":54,"344":1,"345":72,"346":72,"347":72,"348":72,"349":72,"350":72,"351":0,"352":0,"353":1,"354":72,"355":72,"356":72,"357":32,"358":32,"359":32,"360":32,"361":0,"362":0,"363":0,"364":0,"365":0,"366":0,"367":0,"368":32,"369":0,"370":0,"371":32,"372":1,"373":117,"374":117,"375":72,"376":0,"377":72,"378":72,"379":6,"380":66,"381":72,"382":6,"383":66,"384":1,"385":0,"386":1,"387":0,"388":1,"389":0,"390":1,"391":120,"392":0,"393":1,"394":120,"395":0,"396":0,"397":0,"398":1,"399":120,"400":1,"401":120,"402":1,"403":1,"404":68,"405":68,"406":68,"407":68,"408":68,"409":0,"410":68,"411":68,"412":68,"413":67,"414":67,"415":67,"416":68,"417":67,"418":67,"419":67,"420":1,"421":54,"422":54,"423":1,"424":54,"425":54,"426":1,"427":54,"428":0,"429":0,"430":0,"431":0,"432":1,"433":0,"434":0,"435":0,"436":0,"437":1,"438":0,"439":0,"440":0,"441":0,"442":0,"443":1,"444":0,"445":0,"446":0,"447":0,"448":0,"449":1,"450":0,"451":0,"452":0,"453":1,"454":0,"455":0,"456":0,"457":0,"458":0,"459":0,"460":0,"461":0,"462":0,"463":0,"464":0,"465":0,"466":0,"467":0,"468":0,"469":0,"470":1,"471":1,"472":1,"473":1,"474":1,"475":0,"476":1,"477":1,"478":0,"479":0,"480":0,"481":0,"482":0,"483":0,"484":0,"485":0,"486":0,"487":0,"488":0,"489":0,"490":0,"491":0,"492":1,"493":45,"494":45,"495":45,"496":1,"497":45,"498":45,"499":45,"500":45,"501":9,"502":9,"503":9,"504":1,"505":45,"506":45,"507":45,"508":45,"509":1,"510":0,"511":1,"512":45,"513":45,"514":0,"515":45,"516":45,"517":45,"518":45,"519":1,"520":0,"521":0,"522":0,"523":1,"524":192,"525":1,"526":68,"527":68,"528":68,"529":68,"530":67,"531":68,"532":68,"533":68,"534":68,"535":68,"536":68,"537":67,"538":67,"539":1,"540":1,"541":1,"542":1,"543":68,"544":68,"545":0,"546":68,"547":68,"548":68,"549":68,"550":68,"551":1,"552":0,"553":0,"554":0,"555":0,"556":0,"557":0,"558":1,"559":44,"560":1,"561":0,"562":1,"563":44,"564":44,"565":0,"566":0,"567":0,"568":0,"569":0,"570":0,"571":0,"572":0,"573":0,"574":0,"575":0,"576":0,"577":0,"578":0,"579":0,"580":0,"581":0,"582":0,"583":0,"584":0,"585":0,"586":0,"587":0,"588":0,"589":0,"590":0,"591":0,"592":0,"593":1,"594":68,"595":68,"596":68,"597":1,"598":68,"599":68,"600":67,"601":67,"602":67,"603":67,"604":67,"605":67,"606":0,"607":67,"608":1,"609":1,"610":1,"611":1,"612":0,"613":1,"614":1,"615":68,"616":68,"617":67,"618":67,"619":67,"620":67,"621":67,"622":67,"623":0,"624":67,"625":1,"626":1,"627":1,"628":1,"629":0,"630":1,"631":1,"632":1,"633":1,"634":1,"635":1,"636":0,"637":0,"638":0,"639":0,"640":0,"641":0,"642":0,"643":0,"644":0,"645":0,"646":0,"647":0,"648":0,"649":0,"650":0,"651":0,"652":1,"653":1,"654":1,"655":1,"656":0,"657":0,"658":0,"659":0,"660":0,"661":0,"662":0,"663":0,"664":1,"665":170,"666":169,"667":169,"668":1,"669":170,"670":1,"671":215,"672":215,"673":3,"674":3,"675":30,"676":0,"677":3,"678":215,"679":1,"680":45,"681":1,"682":1,"683":1,"684":1,"685":1,"686":1,"687":140,"688":1,"689":140,"690":1,"691":0,"692":0,"693":0,"694":1,"695":1,"696":1,"697":120,"698":120,"699":120,"700":120,"701":120,"702":120,"703":0,"704":1,"705":1,"706":1},"b":{"1":[105,15],"2":[0,120],"3":[0,0],"4":[1,67],"5":[68,67],"6":[1,0],"7":[5,1],"8":[0,5],"9":[1,45],"10":[0,0],"11":[322,0],"12":[0,322],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,1],"17":[1,1],"18":[1,2],"19":[13,32],"20":[1,0],"21":[1,119],"22":[119,1],"23":[32,13],"24":[45,32],"25":[1,44],"26":[45,9,8],"27":[10,9],"28":[7,37],"29":[44,8],"30":[44,1],"31":[45,9,8],"32":[72,0],"33":[72,0],"34":[72,72],"35":[0,0],"36":[0,0],"37":[0,72],"38":[32,40],"39":[72,72],"40":[0,32],"41":[0,0],"42":[45,27],"43":[45,27],"44":[0,72],"45":[6,66],"46":[6,66],"47":[72,72],"48":[0,120],"49":[120,0],"50":[0,120],"51":[120,0],"52":[1,119],"53":[120,1],"54":[1,119],"55":[68,0],"56":[67,1],"57":[67,1],"58":[0,54],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0],"69":[0,0],"70":[0,1],"71":[0,0],"72":[45,0],"73":[9,36],"74":[0,45],"75":[0,0],"76":[67,1],"77":[68,0],"78":[67,1],"79":[68,67,67],"80":[1,0],"81":[1,1],"82":[0,68],"83":[68,67],"84":[67,1],"85":[0,0],"86":[0,0],"87":[0,44],"88":[0,0],"89":[0,0],"90":[0,0],"91":[0,0],"92":[67,1],"93":[67,1],"94":[0,0],"95":[0,0,0],"96":[0,0],"97":[0,0],"98":[0,0],"99":[0,0],"100":[169,1],"101":[3,212],"102":[215,4,3],"103":[0,30],"104":[1,44],"105":[1,1],"106":[1,0],"107":[120,119],"108":[120,119],"109":[119,0],"110":[0,120],"111":[0,120]},"f":{"1":1,"2":1,"3":120,"4":0,"5":0,"6":0,"7":34,"8":68,"9":0,"10":13,"11":13,"12":17,"13":9,"14":5,"15":3,"16":2,"17":4,"18":10,"19":1,"20":1,"21":3,"22":2,"23":2,"24":11,"25":30,"26":41,"27":58,"28":53,"29":58,"30":17,"31":2,"32":1,"33":1,"34":9,"35":1,"36":46,"37":47,"38":6,"39":46,"40":0,"41":0,"42":0,"43":0,"44":322,"45":1,"46":0,"47":3,"48":45,"49":1,"50":105,"51":53,"52":52,"53":26,"54":26,"55":192,"56":120,"57":45,"58":45,"59":45,"60":45,"61":120,"62":0,"63":120,"64":120,"65":1,"66":120,"67":3,"68":0,"69":1,"70":0,"71":0,"72":45,"73":10,"74":54,"75":72,"76":72,"77":0,"78":0,"79":72,"80":0,"81":0,"82":0,"83":120,"84":120,"85":120,"86":68,"87":0,"88":54,"89":54,"90":54,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":1,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":45,"106":45,"107":45,"108":0,"109":45,"110":0,"111":192,"112":68,"113":68,"114":0,"115":44,"116":0,"117":44,"118":0,"119":0,"120":68,"121":68,"122":0,"123":0,"124":68,"125":0,"126":0,"127":1,"128":0,"129":0,"130":0,"131":1,"132":0,"133":0,"134":0,"135":170,"136":215,"137":30,"138":45,"139":1,"140":140,"141":140,"142":0,"143":120,"144":120,"145":120,"146":120,"147":120,"148":120,"149":0},"code":"/// <reference path=\"../../controllers/HierarchicalFacetQueryController.ts\" />\n/// <reference path=\"../../controllers/FacetQueryController.ts\" />\n/// <reference path=\"FacetSearch.ts\" />\n/// <reference path=\"FacetSettings.ts\" />\n/// <reference path=\"FacetSort.ts\" />\n/// <reference path=\"FacetHeader.ts\" />\n/// <reference path=\"BreadcrumbValueElement.ts\" />\n/// <reference path=\"ValueElementRenderer.ts\" />\n/// <reference path=\"FacetSearchParameters.ts\" />\n/// <reference path=\"../HierarchicalFacet/HierarchicalFacet.ts\" />\n\nimport {Component} from '../Base/Component';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {FacetValue, FacetValues} from './FacetValues';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {DeviceUtils} from '../../utils/DeviceUtils';\nimport {l} from '../../strings/Strings';\nimport {FacetQueryController} from '../../controllers/FacetQueryController';\nimport {FacetSearch} from './FacetSearch';\nimport {FacetSettings} from './FacetSettings';\nimport {FacetSort} from './FacetSort';\nimport {FacetValuesList} from './FacetValuesList';\nimport {FacetHeader} from './FacetHeader';\nimport {FacetUtils} from './FacetUtils';\nimport {InitializationEvents} from '../../events/InitializationEvents';\nimport {QueryEvents, INewQueryEventArgs, IQuerySuccessEventArgs, IBuildingQueryEventArgs, IDoneBuildingQueryEventArgs} from '../../events/QueryEvents';\nimport {Assert} from '../../misc/Assert';\nimport {ISearchEndpoint} from '../../rest/SearchEndpointInterface';\nimport {$$} from '../../utils/Dom';\nimport {IAnalyticsFacetMeta, analyticsActionCauseList} from '../Analytics/AnalyticsActionListMeta';\nimport {Utils} from '../../utils/Utils';\nimport {IIndexFieldValue} from '../../rest/FieldValue';\nimport {IPopulateBreadcrumbEventArgs} from '../../events/BreadcrumbEvents';\nimport {BreadcrumbValueElement} from './BreadcrumbValueElement';\nimport {BreadcrumbValueList} from './BreadcrumbValuesList';\nimport {FacetValueElement} from './FacetValueElement';\nimport {FacetSearchValuesList} from './FacetSearchValuesList';\nimport {Defer} from '../../misc/Defer';\nimport {QueryStateModel, IQueryStateIncludedAttribute, IQueryStateExcludedAttribute} from '../../models/QueryStateModel';\nimport {MODEL_EVENTS, IAttributesChangedEventArg} from '../../models/Model';\nimport {OmniboxEvents, IPopulateOmniboxEventArgs} from '../../events/OmniboxEvents';\nimport {OmniboxValueElement} from './OmniboxValueElement';\nimport {OmniboxValuesList} from './OmniboxValuesList';\nimport {IGroupByResult} from '../../rest/GroupByResult';\nimport {IGroupByValue} from '../../rest/GroupByValue';\nimport {ValueElementRenderer} from './ValueElementRenderer';\nimport {FacetSearchParameters} from './FacetSearchParameters';\nimport {IOmniboxDataRow} from '../Omnibox/OmniboxInterface';\nimport {Initialization} from '../Base/Initialization';\nimport {BreadcrumbEvents, IClearBreadcrumbEventArgs} from '../../events/BreadcrumbEvents';\nimport {ResponsiveFacets} from '../ResponsiveComponents/ResponsiveFacets';\nimport {IStringMap} from '../../rest/GenericParam';\nimport {FacetValuesOrder} from './FacetValuesOrder';\nimport {ValueElement} from './ValueElement';\n\nexport interface IFacetOptions {\n  title?: string;\n  field?: string;\n  isMultiValueField?: boolean;\n  numberOfValues?: number;\n  pageSize?: number;\n  sortCriteria?: string;\n  availableSorts?: string[];\n  injectionDepth?: number;\n  showIcon?: boolean;\n  useAnd?: boolean;\n  enableCollapse?: boolean;\n  enableTogglingOperator?: boolean;\n  enableMoreLess?: boolean;\n  valueCaption?: any;\n  lookupField?: string;\n  enableFacetSearch?: boolean;\n  facetSearchDelay?: number;\n  facetSearchIgnoreAccents?: boolean;\n  numberOfValuesInFacetSearch?: number;\n  includeInBreadcrumb?: boolean;\n  includeInOmnibox?: boolean;\n  numberOfValuesInOmnibox?: number;\n  numberOfValuesInBreadcrumb?: number;\n  id?: string;\n  computedField?: string;\n  computedFieldOperation?: string;\n  computedFieldFormat?: string;\n  computedFieldCaption?: string;\n  preservePosition?: boolean;\n  scrollContainer?: HTMLElement;\n  paddingContainer?: HTMLElement;\n  customSort?: string[];\n  enableSettings?: boolean;\n  enableSettingsFacetState?: boolean;\n  allowedValues?: string[];\n  headerIcon?: string;\n  valueIcon?: (facetValue: FacetValue) => string;\n  additionalFilter?: string;\n  dependsOn?: string;\n  enableResponsiveMode?: boolean;\n  responsiveBreakpoint?: number;\n}\n\n/**\n * This component displays a facet of the results for the current query. A facet consists of a list of values for a given field occurring in the results, ordered using a configurable criteria.<br/>\n * The list of values is obtained using a {@link IGroupByRequest} operation performed at the same time as the main query.<br/>\n * The Facet component allows the user to drill down inside results by restricting to certain field values. It also allows filtering out values, and can provide a search box to look for specific values inside larger sets.<br/>\n * It is probably the most complex component in the Coveo UI, and as such allows many different options.\n */\nexport class Facet extends Component {\n  static ID = 'Facet';\n  static omniboxIndex = 50;\n\n  /**\n   * The possible options for a facet\n   * @componentOptions\n   */\n  static options: IFacetOptions = {\n    /**\n     * Specifies the title displayed at the top of the facet.<br/>\n     * Default is the localized string for \"No Title\"\n     */\n    title: ComponentOptions.buildLocalizedStringOption({\n      defaultValue: l('NoTitle'),\n      section: 'Identification',\n      priority: 10\n    }),\n    /**\n     * Specifies the index field whose values will be use in the facet.<br/>\n     * This require the given field to be configured correctly in the index as a facet field.<br/>\n     * This is a required option and cannot be omitted, otherwise the facet component will not work.\n     */\n    field: ComponentOptions.buildFieldOption({ required: true, groupByField: true, section: 'Identification' }),\n    /**\n     * Specifies the css class to change the facet header icon.<br/>\n     * @deprecated This option is exposed for legacy reason, and the recommendation is to not use this option.\n     */\n    headerIcon: ComponentOptions.buildIconOption({ deprecated: 'This option is exposed for legacy reason, and the recommendation is to not use this option.' }),\n    /**\n     * Specifies a unique identifier for a facet. This identifier will be used to save the facet state in the url hash, for example.<br/>\n     * Optional, since the default will be the {@link Facet.options.field} option.<br/>\n     * If you have two facets with the same field on the same page, you should specify an id for at least one of those two facets.<br/>\n     * That id need to be unique on the page.\n     */\n    id: ComponentOptions.buildStringOption({\n      postProcessing: (value, options: IFacetOptions) => value || options.field\n    }),\n    /**\n     * Specifies if the field is configured in the index as a multi value field (meaning: comma separated values).<br/>\n     * Default value is false\n     */\n    isMultiValueField: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    /**\n     * Specifies the field whose values will be displayed in the facet.<br/>\n     * @deprecated This option is exposed for legacy reason, and the recommendation is to not use this option.\n     */\n    lookupField: ComponentOptions.buildFieldOption({ deprecated: 'This option is exposed for legacy reason, and the recommendation is to not use this option.' }),\n    /**\n     * Specifies whether to show the facet settings menu.<br/>\n     * The default value is true.\n     */\n    enableSettings: ComponentOptions.buildBooleanOption({ defaultValue: true, section: 'SettingsMenu', priority: 9 }),\n    /**\n     * Specifies if the save state menu option is available on the facet setting menu.<br/>\n     * Of course {@link Facet.options.enableSettings} needs to be true.<br/>\n     * Default value is false\n     */\n    enableSettingsFacetState: ComponentOptions.buildBooleanOption({ defaultValue: false, depend: 'enableSettings' }),\n    /**\n     * Specifies the sort criteria options you want to be displayed in the facet settings menu.<br/>\n     * Of course {@link Facet.options.enableSettings} needs to be true.<br/>\n     * Possible values are : occurrences, score, alphaAscending, alphaDescending, computedfieldascending, computedfielddescending, custom\n     * The default value is occurrences,score,alphaAscending,alphaDescending.\n     */\n    availableSorts: ComponentOptions.buildListOption({\n      defaultValue: ['occurrences', 'score', 'alphaAscending', 'alphaDescending'],\n      values: ['Occurrences', 'Score', 'AlphaAscending', 'AlphaDescending', 'ComputedFieldAscending', 'ComputedFieldDescending', 'ChiSquare', 'NoSort'],\n      depend: 'enableSettings'\n    }),\n    /**\n     * Specifies the criteria used to sort facet values.<br/>\n     * See {@link IGroupByRequest} for the list of available values.<br/>\n     * The default value is the first value of {@link Facet.options.availableSorts} list, or 'occurrences' if there's none specified.\n     */\n    sortCriteria: ComponentOptions.buildStringOption({ postProcessing: (value, options: IFacetOptions) => value || (options.availableSorts.length > 0 ? options.availableSorts[0] : 'occurrences') }),\n    /**\n     * Specifies a custom order by which facet values are sorted.<br/>\n     * For example, you could use this to specify a logical order for support tickets -> customSort : [\"New\",\"Opened\",\"Feedback\",\"Resolved\",\"Feedback\"].<br/>\n     */\n    customSort: ComponentOptions.buildListOption({ section: 'Identification' }),\n    /**\n     * Specifies the maximum number of field values that will be displayed by default in the facet, before the user click on \"More\".<br/>\n     * The default value is 5.\n     */\n    numberOfValues: ComponentOptions.buildNumberOption({ defaultValue: 5, min: 0, section: 'Identification' }),\n    /**\n     * Specifies the injection depth that will be used for the group by operation.<br/>\n     * The injection depth determines how many results are scanned in the index to ensure all potential facet values are listed. Increasing this value enhances the accuracy of the listed values, at the cost of performance.<br/>\n     * The default value is 1000.\n     */\n    injectionDepth: ComponentOptions.buildNumberOption({ defaultValue: 1000, min: 0 }),\n    /**\n     * Specifies whether an icon is displayed next to each facet value.<br/>\n     * The default value is false.\n     * @deprecated This option is exposed for legacy reason, and the recommendation is to not use this option.\n     */\n    showIcon: ComponentOptions.buildBooleanOption({ defaultValue: false, deprecated: 'This option is exposed for legacy reason, and the recommendation is to not use this option.' }),\n    /**\n     * Specifies whether the filter generated when multiple values are selected uses the AND operator, meaning that only documents having all selected values matches the resulting query.<br/>\n     * By default filters are using the OR operator, and the resulting query matches all documents with at least one of the selected values.\n     */\n    useAnd: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    /**\n     * Specifies whether the user is allowed to toggle between OR and AND mode, using an icon in the top right corner of the facet.<br/>\n     * The default value is false.\n     */\n    enableTogglingOperator: ComponentOptions.buildBooleanOption({ defaultValue: false, alias: 'allowTogglingOperator' }),\n    /**\n     * Specifies whether the search box for searching inside the available values will be displayed at the bottom of the facet.<br/>\n     * The default value is true.\n     */\n    enableFacetSearch: ComponentOptions.buildBooleanOption({ defaultValue: true, section: 'FacetSearch', priority: 8 }),\n    /**\n     * Specifies the delay (in milliseconds) before a search is sent to the server when the user starts typing in the facet search box.<br/>\n     * Using a smaller value means that results will arrive faster, but it increases the chances that many of the requests sent to the server get cancelled as the user continues typing in characters.<br/>\n     * Default is 100\n     */\n    facetSearchDelay: ComponentOptions.buildNumberOption({ defaultValue: 100, min: 0, depend: 'enableFacetSearch' }),\n    /**\n     * Specifies if the accents are ignored in the facet search.<br/>\n     * The default value is false\n     */\n    facetSearchIgnoreAccents: ComponentOptions.buildBooleanOption({ defaultValue: false, depend: 'enableFacetSearch' }),\n    /**\n     * Specifies the number of values displayed in the facet search results popup.<br/>\n     * The default value is 15.\n     */\n    numberOfValuesInFacetSearch: ComponentOptions.buildNumberOption({ defaultValue: 15, min: 1 }),\n    /**\n     * Specifies if the facet should push data to the {@link Breadcrumb}.<br/>\n     * The default value is true\n     */\n    includeInBreadcrumb: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies the maximum number of values that the facet should display in the {@link Breadcrumb}, before outputting a \"See more\" button.<br/>\n     * Default is 5 on desktop, 3 on mobile\n     */\n    numberOfValuesInBreadcrumb: ComponentOptions.buildNumberOption({\n      defaultFunction: () => DeviceUtils.isMobileDevice() ? 3 : 5,\n      min: 0,\n      depend: 'includeInBreadcrumb'\n    }),\n    /**\n     * Specifies if the facet should push data to the {@link Omnibox}.<br/>\n     * It can have a real negative impact on index performance.<br/>\n     * The default value is false.\n     * @deprecated This option is exposed for legacy reason, and the recommendation is to not use this option.\n     */\n    includeInOmnibox: ComponentOptions.buildBooleanOption({\n      defaultValue: false,\n      deprecated: 'This option is exposed for legacy reason, and the recommendation is to not use this option.'\n    }),\n    /**\n     * Specifies the number of values to populate the {@link Breadcrumb} with.<br/>\n     * Of course, the {@link Facet.options.includeInOmnibox} option needs to be \"true\".<br/>\n     * It can have a real negative impact on index performance.<br/>\n     * The default value is 5 on desktop, 3 on mobile.\n     * @deprecated This option is exposed for legacy reason, and the recommendation is to not use this option.\n     */\n    numberOfValuesInOmnibox: ComponentOptions.buildNumberOption({\n      defaultFunction: () => DeviceUtils.isMobileDevice() ? 3 : 5,\n      min: 0,\n      depend: 'includeInOmnibox',\n      deprecated: 'This option is exposed for legacy reason, and the recommendation is to not use this option.'\n    }),\n    /**\n     * Specifies the name of a field on which an aggregate operation should be executed for all distinct values of the facet's field.<br/>\n     * The result of the operation is displayed along with the number of occurrences for each value.<br/>\n     * You can use this option to compute the sum of a field (like a money amount) for each facet value that is listed.<br/>\n     * Works in conjunction with {@link Facet.options.computedFieldOperation} , {@link Facet.options.computedFieldFormat}, {@link Facet.options.computedFieldCaption}\n     */\n    computedField: ComponentOptions.buildFieldOption({ section: 'ComputedField', priority: 7 }),\n    /**\n     * Specifies the type of aggregate operation to use on the {@link Facet.options.computedField}.<br/>\n     * The available values are:\n     * <ul>\n     *   <li>sum - Computes the sum of the computed field values.</li>\n     *   <li>average - Computes the average of the computed field values.</li>\n     *   <li>minimum - Finds the minimum value of the computed field values.</li>\n     *   <li>maximum - Finds the maximum value of the computed field values.</li>\n     * </ul><br/>\n     * The default value is sum.\n     */\n    computedFieldOperation: ComponentOptions.buildStringOption({ defaultValue: 'sum', section: 'ComputedField' }),\n    /**\n     * Specifies how to format the values resulting from a {@link Facet.options.computedFieldOperation}.<br/>\n     * The formats available are defined by the Globalize library. The most common used formats are:\n     * <ul>\n     *   <li>c0 - Formats the value as a currency.</li>\n     *   <li>n0 - Formats the value as an integer.</li>\n     *   <li>n2 - Formats the value as a floating point with 2 decimal digits.</li>\n     * </ul>\n     * See : <a href='https://github.com/klaaspieter/jquery-global#globalizeformat-value-format-culture-'>Globalize</a> for more informations.<br/>\n     * Default value is 'c0\n     */\n    computedFieldFormat: ComponentOptions.buildStringOption({ defaultValue: 'c0', section: 'ComputedField' }),\n    /**\n     * Specifies what will be the caption of the {@link Facet.options.computedField} in the settings menu for sort.<br/>\n     * For example, the value Money will be displayed as Money Ascending for computed field ascending.<br/>\n     * The default value is Computed Field.\n     */\n    computedFieldCaption: ComponentOptions.buildLocalizedStringOption({\n      defaultValue: l('ComputedField'),\n      section: 'ComputedField'\n    }),\n    /**\n     * Specifies whether the facet should remain stable in its current position in the viewport while the mouse is over it.<br/>\n     * Whenever values are selected in a facet, a new query is automatically performed. This new query might cause other elements in the page to be resized (typically other facets above the one being used).<br/>\n     * When this option is enabled, the facet will adjust the scroll amount of the page to ensure that it does not move relative to the mouse when the results are updated.<br/>\n     * In some cases, the facet will also add margin to the scrollContainer, if scrolling alone is not enough to preserve position.<br/>\n     * This is the option that will add a div 'coveo-topSpace' / 'coveo-bottomSpace` around the facet container.\n     * The default value is true.\n     */\n    preservePosition: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies the parent container of the facets.<br/>\n     * Used for the {@link Facet.options.preservePosition}.<br/>\n     * The default value is element.parentElement.\n     */\n    paddingContainer: ComponentOptions.buildSelectorOption({ defaultFunction: (element) => element.parentElement }),\n    /**\n     * Specifies the HTML element (through a CSS selector) whose scroll amount the facet should adjust to preserve its position {@link Facet.options.preservePosition} when results are updated.<br/>\n     * The default value is document.body.\n     */\n    scrollContainer: ComponentOptions.buildSelectorOption({ defaultFunction: (element) => document.body }),\n    /**\n     * Specifies if the more/less button is enabled.<br/>\n     * The default value is true.\n     */\n    enableMoreLess: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies the number of additional results to fetch when clicking on \"More\" in the facet search.<br/>\n     * The default value is 10.\n     */\n    pageSize: ComponentOptions.buildNumberOption({ defaultValue: 10, min: 1, depend: 'enableMoreLess' }),\n    /**\n     * Specifies if the facet is collapsible.<br/>\n     * The default value is true.\n     */\n    enableCollapse: ComponentOptions.buildBooleanOption({ defaultValue: true, depend: 'enableSettings' }),\n    /**\n     * Specifies an explicit list of allowedValues in the {@link IGroupByRequest}.<br/>\n     * This will whitelist the facet content to some specific values.<br/>\n     * Example  [\"File\", \"People\"].\n     */\n    allowedValues: ComponentOptions.buildListOption(),\n    /**\n     * Specifies an additional query expression (query override) to add to each group by that this facet performs.<br/>\n     * See : {@link IGroupByRequest}.<br/>\n     * Example : @date>=2014/01/01\n     */\n    additionalFilter: ComponentOptions.buildStringOption(),\n    /**\n     * Specifies that the facet appears only when a value is selected in its \"parent\" facet.<br/>\n     * To specify the parent facet, use it's {@link Facet.options.id}. Remember that be default, the id of a facet is it's {@link Facet.options.field}.<br/>\n     * Example -> dependsOn : @parentfacetField\n     */\n    dependsOn: ComponentOptions.buildStringOption(),\n    /**\n     * Specifies a JSON object describing a mapping of facet values to desired captions.\n     *\n     * This option can only be set in the init call of your search interface, not directly as an HTML attribute.\n     *\n     * ```\n     * // Example: Using a facet for file types\n     * var myValueCaption = {  \"txt\": \"Text files\",\"html\": \"Web page\", [ etc ... ]};\n     *\n     * Coveo.init(document.querySelector('#search'), {\n     *    Facet : {\n     *      valueCaption: myValueCaption\n     *    }\n     * })\n     * // Or using the jquery extension\n     * $(\"#search\").coveo(\"init\", {\n     *    Facet: {\n     *      valueCaption: myValueCaption\n     *    }\n     * })\n     * ```\n     */\n    valueCaption: ComponentOptions.buildCustomOption<IStringMap<string>>(() => {\n      return null;\n    }),\n    /**\n     * Specifies if the responsive mode should be enabled on the facets. Responsive mode will make the facet dissapear and instead be\n     * availaible using a dropdown button. Responsive facets are enabled when the width of the element the search interface is bound to\n     * reaches 800 pixels. This value can be modified using {@link Facet.options.responsiveBreakpoint}.\n     * \n     * Disabling reponsive mode for one facet will disable it for all facets.\n     * Therefore, this options only needs to be set on one facet to be effective.\n     * The default value is `true`.\n     */\n    enableResponsiveMode: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies the width of the search interface, in pixels, at which the facets will go into responsive mode. The responsive mode will\n     * be triggered when the width is equal or below this value. The search interface corresponds to the element with the class\n     * `CoveoSearchInterface`.\n     * The default value is `800`.\n     */\n    responsiveBreakpoint: ComponentOptions.buildNumberOption({ defaultValue: 800 })\n  };\n\n  public facetQueryController: FacetQueryController;\n  public keepDisplayedValuesNextTime: boolean = false;\n  public values = new FacetValues();\n  public currentPage: number = 0;\n  public numberOfValues: number;\n  public firstQuery = true;\n  public operatorAttributeId: string;\n\n  /**\n   * Render and handle the facet search part of the component\n   */\n  public facetSearch: FacetSearch;\n  /**\n   * Render and handle the facet settings part of the component\n   */\n  public facetSettings: FacetSettings;\n  public facetSort: FacetSort;\n  public facetValuesList: FacetValuesList;\n  public facetHeader: FacetHeader;\n\n  protected omniboxZIndex;\n  protected moreElement: HTMLElement;\n  protected lessElement: HTMLElement;\n\n  private headerElement: HTMLElement;\n  private footerElement: HTMLElement;\n  private canFetchMore: boolean = true;\n  private nbAvailableValues: number;\n\n  private showingWaitAnimation = false;\n  private pinnedViewportPosition: number;\n  private unpinnedViewportPosition: number;\n  private pinnedTopSpace: HTMLElement;\n  private pinnedBottomSpace: HTMLElement;\n\n  private componentStateId: string;\n  private includedAttributeId: string;\n  private excludedAttributeId: string;\n  private lookupValueAttributeId: string;\n  private listenToQueryStateChange = true;\n\n  private resize: (...args: any[]) => void;\n\n  /**\n   * Create a new Facet component, bind multiple query events as well\n   * @param element\n   * @param options\n   * @param bindings\n   * @param facetClassId The id to use for this facet (as Facet inherited from by other component (eg : {@link FacetRange}). Default is \"Facet\"\n   */\n  constructor(public element: HTMLElement, public options: IFacetOptions, bindings?: IComponentBindings, facetClassId: string = Facet.ID) {\n    super(element, facetClassId, bindings);\n    this.options = ComponentOptions.initComponentOptions(element, Facet, options);\n\n    if (this.options.valueCaption != null) {\n      this.options.availableSorts = _.filter(this.options.availableSorts, (sort: string) => !/^alpha.*$/.test(sort));\n    }\n\n    ResponsiveFacets.init(this.root, this, this.options);\n\n    // Serves as a way to render facet in the omnibox in the order in which they are instantiated\n    this.omniboxZIndex = Facet.omniboxIndex;\n    Facet.omniboxIndex--;\n\n    this.checkForComputedFieldAndSort();\n    this.checkForValueCaptionType();\n    this.checkForCustomSort();\n    this.initFacetQueryController();\n    this.initQueryEvents();\n    this.initQueryStateEvents();\n    this.initComponentStateEvents();\n    this.initOmniboxEvents();\n    this.initBreadCrumbEvents();\n    this.updateNumberOfValues();\n\n    this.resize = () => {\n      if (!this.disabled) {\n        FacetUtils.clipCaptionsToAvoidOverflowingTheirContainer(this);\n      }\n    };\n    window.addEventListener('resize', _.debounce(this.resize, 200));\n    this.bind.onRootElement(InitializationEvents.nuke, () => this.handleNuke());\n\n    this.bind.oneRootElement(QueryEvents.querySuccess, () => {\n      this.firstQuery = false;\n    })\n  }\n\n  public createDom() {\n    this.initBottomAndTopSpacer();\n    this.buildFacetContent();\n    this.updateAppearanceDependingOnState();\n    // After the facet has been created (and before the first query is applied)\n    // Try to load a state from the setting, if it's available\n    // Execute only _.once (only the first query, or the first time the user switch to a tab that contains a newly set of active facet)\n    if (this.facetSettings && this.options.enableSettingsFacetState) {\n      let loadOnce = <(args: INewQueryEventArgs) => any>_.once(() => {\n        this.facetSettings.loadSavedState.apply(this.facetSettings);\n      });\n      this.bind.onRootElement(QueryEvents.newQuery, loadOnce);\n    }\n  }\n\n  /**\n   * Select a single value.<br/>\n   * Does not trigger a query automatically.\n   * @param value Can be a {@link FacetValue} or a string -> eg: selectValue('foobar') or selectValue(new FacetValue('foobar'));\n   */\n  public selectValue(value: FacetValue): void;\n  public selectValue(value: string): void;\n  public selectValue(value: any): void {\n    Assert.exists(value);\n    this.ensureDom();\n    this.logger.info('Selecting facet value', this.facetValuesList.select(value));\n    this.facetValueHasChanged();\n  }\n\n  /**\n   * Select multiple values.<br/>\n   * Does not trigger a query automatically.\n   * @param values Can be an array of {@link FacetValue} or array of string\n   */\n  public selectMultipleValues(values: FacetValue[]): void;\n  public selectMultipleValues(values: string[]): void;\n  public selectMultipleValues(values: any[]): void {\n    Assert.exists(values);\n    this.ensureDom();\n    _.each(values, (value) => {\n      this.logger.info('Selecting facet value', this.facetValuesList.select(value));\n    });\n    this.facetValueHasChanged();\n  }\n\n  /**\n   * Deselect a single value.<br/>\n   * Does not trigger a query automatically.\n   * @param value Can be a {@link FacetValue} or a string\n   */\n  public deselectValue(value: FacetValue): void;\n  public deselectValue(value: string): void;\n  public deselectValue(value: any): void {\n    Assert.exists(value);\n    this.ensureDom();\n    this.logger.info('Deselecting facet value', this.facetValuesList.unselect(value));\n    this.facetValueHasChanged();\n  }\n\n  /**\n   * Deselect multiple value.<br/>\n   * Does not trigger a query automatically.\n   * @param values Can be an array of {@link FacetValue} or array of string\n   */\n  public deselectMultipleValues(values: FacetValue[]): void\n  public deselectMultipleValues(values: string[]): void\n  public deselectMultipleValues(values: any[]): void {\n    Assert.exists(values);\n    this.ensureDom();\n    _.each(values, (value) => {\n      this.logger.info('Deselecting facet value', this.facetValuesList.unselect(value));\n    });\n    this.facetValueHasChanged();\n  }\n\n  /**\n   * Exclude a single value.<br/>\n   * Does not trigger a query automatically.\n   * @param value Can be a {@link FacetValue} or a string\n   */\n  public excludeValue(value: FacetValue): void;\n  public excludeValue(value: string): void;\n  public excludeValue(value: any): void {\n    Assert.exists(value);\n    this.ensureDom();\n    this.logger.info('Excluding facet value', this.facetValuesList.exclude(value));\n    this.facetValueHasChanged();\n  }\n\n  /**\n   * Exclude multiple values.<br/>\n   * Does not trigger a query automatically.\n   * @param values Can be an array of {@link FacetValue} or array of string\n   */\n  public excludeMultipleValues(values: FacetValue[]): void;\n  public excludeMultipleValues(values: string[]): void;\n  public excludeMultipleValues(values: any[]): void {\n    Assert.exists(values);\n    this.ensureDom();\n    _.each(values, (value) => {\n      this.logger.info('Excluding facet value', this.facetValuesList.exclude(value));\n    })\n    this.facetValueHasChanged();\n  }\n\n  /**\n   * Unexclude a single value.<br/>\n   * Does not trigger a query automatically.\n   * @param value Can be a {@link FacetValue} or a string\n   */\n  public unexcludeValue(value: FacetValue): void;\n  public unexcludeValue(value: string): void;\n  public unexcludeValue(value: any): void {\n    Assert.exists(value);\n    this.ensureDom();\n    this.logger.info('Unexcluding facet value', this.facetValuesList.unExclude(value));\n    this.facetValueHasChanged();\n  }\n\n  /**\n   * Unexclude multiple values.<br/>\n   * Does not trigger a query automatically.\n   * @param values Can be an array of {@link FacetValue} or array of string\n   */\n  public unexcludeMultipleValues(values: FacetValue[]): void;\n  public unexcludeMultipleValues(values: string[]): void;\n  public unexcludeMultipleValues(values: any[]): void {\n    Assert.exists(values);\n    this.ensureDom();\n    _.each(values, (value) => {\n      this.logger.info('Unexcluding facet value', this.facetValuesList.unExclude(value));\n    })\n    this.facetValueHasChanged();\n  }\n\n  /**\n   * Toggle the selection state of a single value (select if not already selected, unselect if already selected).<br/>\n   * Does not trigger a query automatically.\n   * @param value Can be a {@link FacetValue} or a string\n   */\n  public toggleSelectValue(value: FacetValue): void;\n  public toggleSelectValue(value: string): void;\n  public toggleSelectValue(value: any): void {\n    Assert.exists(value);\n    this.ensureDom();\n    this.logger.info('Toggle select facet value', this.facetValuesList.toggleSelect(value));\n    this.facetValueHasChanged();\n  }\n\n  /**\n   * Toggle the exclusion state of a single value (exclude if not already excluded, unexclude if already excluded).<br/>\n   * Does not trigger a query automatically.\n   * @param value Can be a {@link FacetValue} or a string\n   */\n  public toggleExcludeValue(value: FacetValue): void;\n  public toggleExcludeValue(value: string): void;\n  public toggleExcludeValue(value: any): void {\n    Assert.exists(value);\n    this.ensureDom();\n    this.logger.info('Toggle exclude facet value', this.facetValuesList.toggleExclude(value));\n    this.facetValueHasChanged();\n  }\n\n  /**\n   * Return the currently displayed values, as an array of string\n   * @returns {any[]}\n   */\n  public getDisplayedValues(): string[] {\n    return _.pluck(this.getDisplayedFacetValues(), 'value')\n  }\n\n  /**\n   * Return the currently displayed values, as an array of {@link FacetValue}\n   * @returns {T[]}\n   */\n  public getDisplayedFacetValues(): FacetValue[] {\n    this.ensureDom();\n    let displayed = this.facetValuesList.getAllCurrentlyDisplayed();\n    return _.map(displayed, (value: ValueElement) => {\n      return value.facetValue;\n    });\n  }\n\n  /**\n   * Return the currently selected values, as an array of string\n   * @returns {TResult[]}\n   */\n  public getSelectedValues(): string[] {\n    this.ensureDom();\n    return _.map(this.values.getSelected(), (value: FacetValue) => value.value);\n  }\n\n  /**\n   * Return the currently excluded values, as an array of string\n   * @returns {TResult[]}\n   */\n  public getExcludedValues(): string[] {\n    this.ensureDom();\n    return _.map(this.values.getExcluded(), (value: FacetValue) => value.value);\n  }\n\n  /**\n   * Reset the facet. This means unselect all values, unexclude all values, and redraw.\n   */\n  public reset(): void {\n    this.ensureDom();\n    this.values.reset();\n    this.rebuildValueElements();\n    this.updateAppearanceDependingOnState();\n    this.updateQueryStateModel();\n  }\n\n  /**\n   * Switch the facet to AND mode : {@link Facet.options.useAnd}\n   */\n  public switchToAnd(): void {\n    this.ensureDom();\n    this.logger.info('Switching to AND');\n    this.facetHeader.switchToAnd();\n  }\n\n  /**\n   * Switch the facet to OR mode : {@link Facet.options.useAnd}\n   */\n  public switchToOr(): void {\n    this.ensureDom();\n    this.logger.info('Switching to OR');\n    this.facetHeader.switchToOr();\n  }\n\n  /**\n   * Return the endpoint for the facet\n   * @returns {SearchEndpointInterface|ISearchEndpoint}\n   */\n  public getEndpoint(): ISearchEndpoint {\n    return this.queryController.getEndpoint();\n  }\n\n  /**\n   * Change the sort parameter for the facet.<br/>\n   * See : {@link Facet.options.availableSorts} the list of possible value.<br/>\n   * Trigger a new query\n   * @param criteria\n   */\n  public updateSort(criteria: string): void {\n    this.ensureDom();\n    if (this.options.sortCriteria != criteria) {\n      this.options.sortCriteria = criteria;\n      this.triggerNewQuery();\n    }\n  }\n\n  public unfadeInactiveValuesInMainList(): void {\n    $$(this.element).removeClass('coveo-facet-fade');\n  }\n\n  public fadeInactiveValuesInMainList(delay: number): void {\n    $$(this.element).addClass('coveo-facet-fade');\n  }\n\n  /**\n   * Show a waiting animation in the facet header (a spinner)\n   */\n  public showWaitingAnimation() {\n    this.ensureDom();\n    if (!this.showingWaitAnimation) {\n      // in old design : icon before the facet title needs to be hidden to show animation\n      // new design : no need to hide this icon since it's not there\n      if (!this.searchInterface.isNewDesign()) {\n        $$(this.headerElement).find('.coveo-icon').style.display = 'none';\n      }\n      $$(this.headerElement).find('.coveo-facet-header-wait-animation').style.display = '';\n      this.showingWaitAnimation = true;\n    }\n  }\n\n  /**\n   * Hide the waiting animation in the facet header (a spinner)\n   */\n  public hideWaitingAnimation(): void {\n    this.ensureDom();\n    if (this.showingWaitAnimation) {\n      $$(this.headerElement).find('.coveo-icon').style.display = '';\n      $$(this.headerElement).find('.coveo-facet-header-wait-animation').style.display = 'none';\n      this.showingWaitAnimation = false;\n    }\n  }\n\n  public processFacetSearchAllResultsSelected(facetValues: FacetValue[]): void {\n    let valuesForAnalytics = []\n    _.each(facetValues, (facetValue) => {\n      this.ensureFacetValueIsInList(facetValue)\n      valuesForAnalytics.push(facetValue.value);\n    });\n    // Calculate the correct number of values from the current selected/excluded values (those will stay no matter what next rendering)\n    // add the new one that will be selected (and are not already selected in the facet)\n    // The minimum number of values is the number of values set in the option\n    let valuesThatStays = this.values.getSelected().concat(this.values.getExcluded());\n    this.numberOfValues = valuesThatStays.length + _.difference(valuesThatStays, facetValues).length;\n    this.numberOfValues = Math.max(this.numberOfValues, this.options.numberOfValues);\n    // Then, we set current page as the last \"full\" page (math.floor)\n    // This is so there is no additional values displayed requested to fill the current page\n    // Also, when the user hit more, it will request the current page and fill it with more values\n    this.currentPage = Math.floor((this.numberOfValues - this.options.numberOfValues) / this.options.pageSize);\n\n    this.updateQueryStateModel();\n    this.triggerNewQuery(() => this.usageAnalytics.logSearchEvent<IAnalyticsFacetMeta>(analyticsActionCauseList.facetSelectAll, {\n      facetId: this.options.id,\n      facetTitle: this.options.title\n    }));\n  }\n\n  public pinFacetPosition() {\n    if (this.options.preservePosition) {\n      this.pinnedViewportPosition = this.element.getBoundingClientRect().top;\n    }\n  }\n\n  /**\n   * Return the configured caption for the given {@link FacetValue} or {\n   * @param facetValue\n   */\n  public getValueCaption(facetValue: IIndexFieldValue): string;\n  public getValueCaption(facetValue: FacetValue): string;\n  public getValueCaption(facetValue: any): string {\n    Assert.exists(facetValue);\n    let lookupValue = facetValue.lookupValue || facetValue.value;\n    let ret = lookupValue;\n    ret = FacetUtils.tryToGetTranslatedCaption(this.options.field, lookupValue);\n\n    if (Utils.exists(this.options.valueCaption)) {\n      if (typeof this.options.valueCaption == 'object') {\n        ret = this.options.valueCaption[lookupValue] || ret;\n      }\n      if (typeof this.options.valueCaption == 'function') {\n        this.values.get(lookupValue)\n        ret = this.options.valueCaption.call(this, this.facetValuesList.get(lookupValue).facetValue)\n      }\n    }\n    return ret;\n  }\n\n  /**\n   * Show the next page of results in the facet.<br/>\n   * Trigger a query if needed, or display the already available values\n   */\n  public showMore() {\n    this.currentPage++;\n    this.updateNumberOfValues();\n    if (this.nbAvailableValues >= this.numberOfValues || !this.canFetchMore) {\n      this.rebuildValueElements();\n    } else {\n      this.triggerMoreQuery();\n    }\n  }\n\n  /**\n   * Show less element in the facet (up to the original number of values)\n   */\n  public showLess() {\n    $$(this.lessElement).removeClass('coveo-active');\n    this.currentPage = 0;\n    this.updateNumberOfValues();\n    $$(this.moreElement).addClass('coveo-active');\n    this.values.sortValuesDependingOnStatus(this.numberOfValues);\n    this.rebuildValueElements();\n  }\n\n  public triggerNewQuery(beforeExecuteQuery?: () => void) {\n    if (!beforeExecuteQuery) {\n      this.queryController.executeQuery({ ignoreWarningSearchEvent: true })\n    } else {\n      this.queryController.executeQuery({ beforeExecuteQuery: beforeExecuteQuery });\n    }\n    this.showWaitingAnimation();\n  }\n\n  protected handleDeferredQuerySuccess(data: IQuerySuccessEventArgs) {\n    Assert.exists(data);\n    this.unfadeInactiveValuesInMainList();\n    this.hideWaitingAnimation();\n    this.updateVisibilityBasedOnDependsOn();\n    let groupByResult = data.results.groupByResults[this.facetQueryController.lastGroupByRequestIndex];\n    this.facetQueryController.lastGroupByResult = groupByResult;\n    if (!groupByResult) {\n      this.keepDisplayedValuesNextTime = false;\n    }\n    this.processNewGroupByResults(groupByResult);\n  }\n\n  protected handlePopulateBreadcrumb(args: IPopulateBreadcrumbEventArgs) {\n    Assert.exists(args);\n\n    if (this.values.hasSelectedOrExcludedValues()) {\n      let element = new BreadcrumbValueList(this, this.values.getSelected().concat(this.values.getExcluded()), BreadcrumbValueElement).build();\n      args.breadcrumbs.push({\n        element: element\n      });\n    }\n  }\n\n  protected initFacetQueryController() {\n    this.facetQueryController = new FacetQueryController(this);\n  }\n\n  protected initFacetValuesList() {\n    this.facetValuesList = new FacetValuesList(this, FacetValueElement);\n    this.element.appendChild(this.facetValuesList.build());\n  }\n\n  protected initFacetSearch() {\n    this.facetSearch = new FacetSearch(this, FacetSearchValuesList, this.root);\n    this.element.appendChild(this.facetSearch.build());\n  }\n\n  protected facetValueHasChanged() {\n    this.updateQueryStateModel();\n    this.rebuildValueElements();\n    Defer.defer(() => {\n      this.updateAppearanceDependingOnState();\n    });\n  }\n\n  protected updateAppearanceDependingOnState() {\n    $$(this.element).toggleClass('coveo-active', this.values.hasSelectedOrExcludedValues());\n    $$(this.element).toggleClass('coveo-facet-empty', !this.isAnyValueCurrentlyDisplayed());\n    $$(this.facetHeader.eraserElement).toggle(this.values.hasSelectedOrExcludedValues());\n  }\n\n  protected initQueryEvents() {\n    this.bind.onRootElement(QueryEvents.duringQuery, () => this.handleDuringQuery());\n    this.bind.onRootElement(QueryEvents.buildingQuery, (args: IBuildingQueryEventArgs) => this.handleBuildingQuery(args));\n    this.bind.onRootElement(QueryEvents.doneBuildingQuery, (args: IDoneBuildingQueryEventArgs) => this.handleDoneBuildingQuery(args));\n    this.bind.onRootElement(QueryEvents.deferredQuerySuccess, (args: IQuerySuccessEventArgs) => this.handleDeferredQuerySuccess(args))\n  }\n\n  protected initQueryStateEvents() {\n    this.includedAttributeId = QueryStateModel.getFacetId(this.options.id);\n    this.excludedAttributeId = QueryStateModel.getFacetId(this.options.id, false);\n    this.operatorAttributeId = QueryStateModel.getFacetOperator(this.options.id);\n    this.lookupValueAttributeId = QueryStateModel.getFacetLookupValue(this.options.id);\n\n    this.queryStateModel.registerNewAttribute(this.includedAttributeId, []);\n    this.queryStateModel.registerNewAttribute(this.excludedAttributeId, []);\n    this.queryStateModel.registerNewAttribute(this.operatorAttributeId, '');\n    this.queryStateModel.registerNewAttribute(this.lookupValueAttributeId, {});\n\n    this.bind.onQueryState(MODEL_EVENTS.CHANGE, undefined, (args: IAttributesChangedEventArg) => this.handleQueryStateChanged(args));\n  }\n\n  protected initComponentStateEvents() {\n    this.componentStateId = QueryStateModel.getFacetId(this.options.id);\n    this.componentStateModel.registerComponent(this.componentStateId, this);\n  }\n\n  protected initOmniboxEvents() {\n    if (this.options.includeInOmnibox) {\n      this.bind.onRootElement(OmniboxEvents.populateOmnibox, (args: IPopulateOmniboxEventArgs) => this.handlePopulateOmnibox(args));\n    }\n  }\n\n  protected initBreadCrumbEvents() {\n    if (this.options.includeInBreadcrumb) {\n      this.bind.onRootElement(BreadcrumbEvents.populateBreadcrumb, (args: IPopulateBreadcrumbEventArgs) => this.handlePopulateBreadcrumb(args));\n      this.bind.onRootElement(BreadcrumbEvents.clearBreadcrumb, (args: IClearBreadcrumbEventArgs) => this.handleClearBreadcrumb())\n    }\n  }\n\n  protected handleOmniboxWithStaticValue(eventArg: IPopulateOmniboxEventArgs) {\n    let regex = new RegExp('^' + eventArg.completeQueryExpression.regex.source, 'i');\n    let match = _.first(_.filter(this.getDisplayedValues(), (displayedValue: string) => {\n      let value = this.getValueCaption(this.facetValuesList.get(displayedValue).facetValue);\n      return regex.test(value);\n    }), this.options.numberOfValuesInOmnibox)\n    let facetValues = _.map(match, (gotAMatch: string) => {\n      return this.facetValuesList.get(gotAMatch).facetValue\n    });\n    let element = new OmniboxValuesList(this, facetValues, eventArg, OmniboxValueElement).build();\n    eventArg.rows.push({\n      element: element,\n      zIndex: this.omniboxZIndex\n    })\n  }\n\n  protected processNewGroupByResults(groupByResult: IGroupByResult) {\n    this.logger.trace('Displaying group by results', groupByResult);\n    if (groupByResult != undefined && groupByResult.values != undefined) {\n      this.nbAvailableValues = groupByResult.values.length;\n    }\n    let newFacetValues = new FacetValues(groupByResult);\n    this.updateValues(newFacetValues);\n    this.canFetchMore = this.numberOfValues < this.nbAvailableValues;\n\n    if (this.values.hasSelectedOrExcludedValues() && !this.options.useAnd && this.options.isMultiValueField) {\n      this.triggerUpdateDeltaQuery(_.filter(this.values.getAll(), (facetValue: FacetValue) => {\n        return !facetValue.selected && !facetValue.excluded;\n      }));\n    } else if (this.values.getSelected().length > 0 && !this.options.useAnd) {\n      this.values.updateDeltaWithFilteredFacetValues(new FacetValues());\n    }\n    if (!this.values.hasSelectedOrExcludedValues() || this.options.useAnd || !this.options.isMultiValueField) {\n      this.rebuildValueElements();\n      this.updateAppearanceDependingOnState();\n      this.ensurePinnedFacetHasntMoved();\n    }\n    this.keepDisplayedValuesNextTime = false;\n  }\n\n  protected updateQueryStateModel() {\n    this.listenToQueryStateChange = false;\n    this.updateExcludedQueryStateModel();\n    this.updateIncludedQueryStateModel();\n    this.facetHeader.updateOperatorQueryStateModel();\n    this.updateLookupValueQueryStateModel();\n    this.listenToQueryStateChange = true;\n  }\n\n  protected rebuildValueElements() {\n    this.updateNumberOfValues();\n    this.facetValuesList.rebuild(this.numberOfValues);\n    if (this.shouldRenderMoreLess()) {\n      this.updateMoreLess();\n      if (this.shouldRenderFacetSearch() && this.searchInterface.isNewDesign()) {\n        this.updateSearchInNewDesign(this.nbAvailableValues > this.numberOfValues);\n      }\n    } else if (this.shouldRenderFacetSearch() && this.searchInterface.isNewDesign()) {\n      this.updateSearchInNewDesign();\n    }\n  }\n\n  protected updateSearchInNewDesign(moreValuesAvailable = true) {\n    if (this.searchInterface.isNewDesign() && moreValuesAvailable) {\n      let renderer = new ValueElementRenderer(this, FacetValue.create(l('Search')));\n      let built = renderer.build().withNo([renderer.excludeIcon, renderer.icon]);\n      $$(built.listElement).addClass('coveo-facet-search-button');\n\n      // Mobile do not like label. Use click event\n      if (DeviceUtils.isMobileDevice()) {\n        $$(built.label).on('click', (e: Event) => {\n          if (built.checkbox.getAttribute('checked')) {\n            built.checkbox.removeAttribute('checked');\n          } else {\n            built.checkbox.setAttribute('checked', 'checked');\n          }\n          $$(built.checkbox).trigger('change');\n          e.stopPropagation();\n          e.preventDefault();\n        })\n      }\n\n      $$(built.checkbox).on('change', () => {\n        $$(this.element).addClass('coveo-facet-searching');\n        this.facetSearch.focus();\n      })\n      this.facetValuesList.valueContainer.appendChild(built.listElement);\n    }\n  }\n\n  protected updateMoreLess(lessElementIsShown = this.getMinimumNumberOfValuesToDisplay() < this.numberOfValues, moreValuesAvailable = this.nbAvailableValues > this.numberOfValues) {\n    if (lessElementIsShown) {\n      $$(this.lessElement).addClass('coveo-active');\n    } else {\n      $$(this.lessElement).removeClass('coveo-active');\n    }\n\n    if (moreValuesAvailable) {\n      $$(this.moreElement).addClass('coveo-active');\n    } else {\n      $$(this.moreElement).removeClass('coveo-active');\n    }\n\n    if (lessElementIsShown || moreValuesAvailable) {\n      $$(this.footerElement).removeClass('coveo-facet-empty');\n    } else {\n      $$(this.footerElement).addClass('coveo-facet-empty');\n    }\n  }\n\n  protected handleClickMore(): void {\n    this.showMore();\n  }\n\n  protected handleClickLess() {\n    this.showLess();\n  }\n\n  private handleNuke() {\n    window.removeEventListener('resize', this.resize);\n  }\n\n  private checkForComputedFieldAndSort() {\n    if (this.options.sortCriteria.toLowerCase().indexOf('computedfield') != -1 && Utils.isNullOrUndefined(this.options.computedField)) {\n      this.logger.warn('Sort criteria is specified as ComputedField, but the facet uses no computed field. Facet will always be empty !', this);\n    }\n  }\n\n  private checkForValueCaptionType() {\n    if (this.options.valueCaption && typeof this.options.valueCaption == 'function') {\n      this.options.enableFacetSearch = false;\n      this.options.includeInOmnibox = false;\n      this.logger.warn('Using a function as valueCaption is now deprecated. Use a json key value pair instead. Facet search and omnibox has been disabled for this facet', this);\n    }\n  }\n\n  private checkForCustomSort() {\n    if (this.options.customSort != undefined && !_.contains(this.options.availableSorts, 'custom')) {\n      this.options.availableSorts.unshift('custom');\n    }\n    if (this.options.availableSorts[0] == 'custom') {\n      this.options.sortCriteria = 'nosort';\n    }\n  }\n\n  private initBottomAndTopSpacer() {\n    let bottomSpace = $$(this.options.paddingContainer).find('.coveo-bottomSpace');\n    let topSpace = $$(this.options.paddingContainer).find('.coveo-topSpace');\n    if (this.options.preservePosition) {\n      $$(this.options.paddingContainer).on('mouseleave', () => this.unpinFacetPosition());\n\n      this.pinnedTopSpace = topSpace;\n      this.pinnedBottomSpace = bottomSpace;\n\n      if (!this.pinnedTopSpace) {\n        this.pinnedTopSpace = document.createElement('div');\n        $$(this.pinnedTopSpace).addClass('coveo-topSpace');\n        $$(this.pinnedTopSpace).insertBefore(<HTMLElement>this.options.paddingContainer.firstChild);\n      }\n      if (!this.pinnedBottomSpace) {\n        this.pinnedBottomSpace = document.createElement('div');\n        $$(this.pinnedBottomSpace).addClass('coveo-bottomSpace');\n        this.options.paddingContainer.appendChild(this.pinnedBottomSpace);\n      }\n    }\n  }\n\n  private updateIncludedQueryStateModel() {\n    let selectedValues: IQueryStateIncludedAttribute = {\n      included: this.getSelectedValues(),\n      title: this.includedAttributeId\n    };\n    this.queryStateModel.set(this.includedAttributeId, selectedValues.included);\n  }\n\n  private updateExcludedQueryStateModel() {\n    let excludedValues: IQueryStateExcludedAttribute = {\n      title: this.excludedAttributeId,\n      excluded: this.getExcludedValues()\n    }\n\n    this.queryStateModel.set(this.excludedAttributeId, excludedValues.excluded);\n  }\n\n  private updateLookupValueQueryStateModel() {\n    if (this.options.lookupField) {\n      let valueToSet = {};\n      _.each(this.values.getSelected().concat(this.values.getExcluded()), (value) => {\n        valueToSet[value.value] = value.lookupValue\n      })\n      this.queryStateModel.set(this.lookupValueAttributeId, valueToSet);\n    }\n  }\n\n  private handleQueryStateChangedOperator(operator: string) {\n    if (operator == 'and') {\n      this.switchToAnd();\n    } else if (operator == 'or') {\n      this.switchToOr();\n    }\n  }\n\n  private handleQueryStateChangedIncluded(includedChanged) {\n    let toUnSelect = _.difference(this.getSelectedValues(), includedChanged);\n    if (Utils.isNonEmptyArray(toUnSelect)) {\n      this.deselectMultipleValues(toUnSelect);\n    }\n    if (!Utils.arrayEqual(this.getSelectedValues(), includedChanged, false)) {\n      this.selectMultipleValues(includedChanged);\n    }\n  }\n\n  private handleQueryStateChangedExcluded(excludedChanged) {\n    let toUnExclude = _.difference(this.getExcludedValues(), excludedChanged);\n    if (Utils.isNonEmptyArray(toUnExclude)) {\n      this.unexcludeMultipleValues(toUnExclude);\n    }\n    if (!Utils.arrayEqual(this.getExcludedValues(), excludedChanged, false)) {\n      this.excludeMultipleValues(excludedChanged);\n    }\n  }\n\n  private handleLookupvalueChanged(lookupFieldChanged: { [value: string]: string }) {\n    _.each(lookupFieldChanged, (lookupvalue, value) => {\n      this.facetValuesList.get(decodeURIComponent(value)).facetValue.lookupValue = decodeURIComponent(lookupvalue);\n    })\n  }\n\n  private handleQueryStateChanged(data: IAttributesChangedEventArg) {\n    Assert.exists(data);\n    this.ensureDom();\n\n    let queryStateAttributes = data.attributes;\n    let includedChanged = queryStateAttributes[this.includedAttributeId];\n    let excludedChanged = queryStateAttributes[this.excludedAttributeId];\n    let operator = queryStateAttributes[this.operatorAttributeId];\n    let lookupValueChanged = queryStateAttributes[this.lookupValueAttributeId];\n\n    if (this.listenToQueryStateChange) {\n      if (!Utils.isNullOrEmptyString(operator)) {\n        this.handleQueryStateChangedOperator(operator);\n      }\n      if (!Utils.isNullOrUndefined(includedChanged)) {\n        this.handleQueryStateChangedIncluded(includedChanged);\n      }\n      if (!Utils.isNullOrUndefined(excludedChanged)) {\n        this.handleQueryStateChangedExcluded(excludedChanged);\n      }\n      if (!Utils.isNullOrUndefined(lookupValueChanged)) {\n        this.handleLookupvalueChanged(lookupValueChanged);\n      }\n    }\n  }\n\n  private handlePopulateOmnibox(data: IPopulateOmniboxEventArgs) {\n    Assert.exists(data);\n    Assert.exists(data.completeQueryExpression);\n\n    // The omnibox calls can come in before a first query was executed (atypical, but\n    // if no query is auto-triggered on initialization). To ensure that we've got the\n    // proper filters, we ensure that at least a dumbshow query builder run occured\n    // before proceeding.\n    this.queryController.ensureCreatedQueryBuilder();\n\n    if (this.canFetchMore) {\n      this.handleOmniboxWithSearchInFacet(data);\n    } else {\n      this.handleOmniboxWithStaticValue(data);\n    }\n  }\n\n  private handleOmniboxWithSearchInFacet(eventArg: IPopulateOmniboxEventArgs) {\n    let regex = new RegExp('^' + eventArg.completeQueryExpression.regex.source, 'i');\n\n    let promise = new Promise<IOmniboxDataRow>((resolve, reject) => {\n      let searchParameters = new FacetSearchParameters(this);\n      searchParameters.setValueToSearch(eventArg.completeQueryExpression.word);\n      searchParameters.nbResults = this.options.numberOfValuesInOmnibox;\n      this.facetQueryController.search(searchParameters).then((fieldValues) => {\n        let facetValues = _.map(_.filter(fieldValues, (fieldValue: IIndexFieldValue) => {\n          return regex.test(fieldValue.lookupValue);\n        }), (fieldValue) => {\n          return this.values.get(fieldValue.lookupValue) || FacetValue.create(fieldValue);\n        });\n        let element = new OmniboxValuesList(this, facetValues, eventArg, OmniboxValueElement).build();\n        resolve({\n          element: element,\n          zIndex: this.omniboxZIndex\n        });\n      }).catch(() => {\n        resolve({ element: undefined });\n      })\n    });\n    eventArg.rows.push({ deferred: promise });\n  }\n\n  private handleDuringQuery() {\n    this.ensureDom();\n    if (!this.keepDisplayedValuesNextTime) {\n      this.fadeInactiveValuesInMainList(this.options.facetSearchDelay);\n    }\n  }\n\n  private handleBuildingQuery(data: IBuildingQueryEventArgs) {\n    Assert.exists(data);\n    Assert.exists(data.queryBuilder);\n\n    this.facetQueryController.prepareForNewQuery();\n    if (this.values.hasSelectedOrExcludedValues()) {\n      let expression = this.facetQueryController.computeOurFilterExpression();\n      this.logger.trace('Putting filter in query', expression);\n      data.queryBuilder.advancedExpression.add(expression);\n    }\n  }\n\n  private handleDoneBuildingQuery(data: IDoneBuildingQueryEventArgs) {\n    Assert.exists(data);\n    Assert.exists(data.queryBuilder);\n    let queryBuilder = data.queryBuilder;\n    this.facetQueryController.putGroupByIntoQueryBuilder(queryBuilder);\n  }\n\n  private handleClearBreadcrumb() {\n    this.reset();\n  }\n\n  private updateValues(facetValues: FacetValues) {\n    Assert.exists(facetValues);\n    if (this.keepDisplayedValuesNextTime) {\n      this.values.updateCountsFromNewValues(facetValues);\n    } else {\n      facetValues.importActiveValuesFromOtherList(this.values);\n      facetValues.sortValuesDependingOnStatus(this.numberOfValues);\n      this.values = facetValues;\n    }\n\n    this.updateNumberOfValues();\n  }\n\n  private ensureFacetValueIsInList(facetValue: FacetValue) {\n    Assert.exists(facetValue);\n    if (!this.values.contains(facetValue.value)) {\n      this.values.add(facetValue);\n    }\n  }\n\n  private isAnyValueCurrentlyDisplayed(): boolean {\n    return !this.values.isEmpty();\n  }\n\n  private buildFacetContent() {\n    this.headerElement = this.buildHeader();\n    this.element.appendChild(this.headerElement);\n    this.initFacetValuesList();\n    if (this.shouldRenderFacetSearch()) {\n      this.initFacetSearch();\n    }\n    if (this.shouldRenderMoreLess()) {\n      this.moreElement = this.buildMore();\n      this.lessElement = this.buildLess();\n    }\n    this.footerElement = this.buildFooter();\n    this.element.appendChild(this.footerElement);\n    if (this.searchInterface.isNewDesign() && this.lessElement && this.moreElement) {\n      this.footerElement.appendChild(this.lessElement);\n      this.footerElement.appendChild(this.moreElement);\n    } else if (this.moreElement && this.lessElement) {\n      this.footerElement.appendChild(this.moreElement);\n      this.footerElement.appendChild(this.lessElement);\n    }\n  }\n\n  private buildHeader() {\n    let icon = this.options.headerIcon;\n    if (this.searchInterface.isNewDesign() && this.options.headerIcon == this.options.field) {\n      icon = undefined\n    }\n    this.facetHeader = new FacetHeader({\n      facetElement: this.element,\n      title: this.options.title,\n      icon: icon,\n      field: this.options.field,\n      enableClearElement: true,\n      enableCollapseElement: this.options.enableCollapse,\n      facet: this,\n      settingsKlass: this.options.enableSettings ? FacetSettings : undefined,\n      sortKlass: FacetSort,\n      availableSorts: this.options.availableSorts,\n      isNewDesign: this.getBindings().searchInterface.isNewDesign()\n    });\n    let built = this.facetHeader.build();\n    this.facetSettings = this.facetHeader.settings;\n    this.facetSort = this.facetHeader.sort;\n    return built;\n  }\n\n  private unpinFacetPosition() {\n    if (this.shouldFacetUnpin() && this.options.preservePosition) {\n      $$(this.pinnedTopSpace).addClass('coveo-with-animation');\n      $$(this.pinnedBottomSpace).addClass('coveo-with-animation');\n      this.pinnedTopSpace.style.height = '0px';\n      this.pinnedBottomSpace.style.height = '0px';\n      this.unpinnedViewportPosition = undefined;\n    }\n  }\n\n  private isFacetPinned(): boolean {\n    return Utils.exists(this.pinnedViewportPosition);\n  }\n\n  private shouldFacetUnpin(): boolean {\n    return Utils.exists(this.unpinnedViewportPosition);\n  }\n\n  private ensurePinnedFacetHasntMoved(): void {\n    if (this.isFacetPinned()) {\n      Assert.exists(this.pinnedViewportPosition);\n      $$(this.pinnedTopSpace).removeClass('coveo-with-animation');\n      $$(this.pinnedBottomSpace).removeClass('coveo-with-animation');\n      this.pinnedTopSpace.style.height = '0px';\n      this.pinnedBottomSpace.style.height = '0px';\n\n      // Under firefox scrolling the body doesn't work, but window does\n      // on all browser, so we substitute those here when needed.\n      let elementToScroll: any = this.options.scrollContainer == document.body ? window : this.options.scrollContainer;\n      let currentViewportPosition = this.element.getBoundingClientRect().top;\n      let offset = currentViewportPosition - this.pinnedViewportPosition;\n      let scrollToOffset = () => {\n        if (elementToScroll instanceof Window) {\n          window.scrollTo(0, window.scrollY + offset);\n        } else {\n          (<HTMLElement>elementToScroll).scrollTop = elementToScroll.scrollTop + offset;\n        }\n      }\n      // First try to adjust position by scrolling the page\n      scrollToOffset();\n      currentViewportPosition = this.element.getBoundingClientRect().top;\n      offset = currentViewportPosition - this.pinnedViewportPosition;\n\n      // If scrolling has worked (offset == 0), we're good to go, nothing to do anymore.\n      // Otherwise try other voodoo magic.\n      if (offset < 0) {\n        // This means the facet element is scrolled up in the viewport,\n        // scroll it down by adding space in the top container\n        this.pinnedTopSpace.style.height = (offset * -1) + 'px';\n      } else {\n        // Here, this means the facet element is scrolled down in the viewport,\n        // and there is not enough scroll space in the page / window to scroll far enough\n        // we need to add space at the bottom so that we can finally scroll there.\n        _.defer(() => {\n          let heightBottom = 0;\n          let attempts = 0;\n          while (offset > 0 && attempts++ < 100) {\n            heightBottom += 100;\n            this.pinnedBottomSpace.style.height = heightBottom + 'px';\n            currentViewportPosition = this.element.getBoundingClientRect().top;\n            offset = currentViewportPosition - this.pinnedViewportPosition;\n            scrollToOffset();\n          }\n        })\n      }\n      this.unpinnedViewportPosition = this.pinnedViewportPosition;\n      this.pinnedViewportPosition = null;\n    }\n  }\n\n  private buildFooter(): HTMLElement {\n    let footer = document.createElement('div');\n    $$(footer).addClass('coveo-facet-footer');\n    return footer;\n  }\n\n  private buildMore(): HTMLElement {\n    if (this.searchInterface.isNewDesign()) {\n      let more = document.createElement('div');\n      $$(more).addClass('coveo-facet-more');\n      let moreIcon = document.createElement('span');\n      $$(moreIcon).addClass('coveo-icon');\n      more.appendChild(moreIcon);\n      $$(more).on('click', () => this.handleClickMore())\n      return more;\n    } else {\n      let more = document.createElement('a');\n      $$(more).addClass('coveo-facet-more');\n      $$(more).text(l('More'));\n      $$(more).on('click', () => this.handleClickMore());\n      return more;\n    }\n  }\n\n  private buildLess(): HTMLElement {\n    if (this.searchInterface.isNewDesign()) {\n      let less = document.createElement('div');\n      $$(less).addClass('coveo-facet-less');\n      let lessIcon = document.createElement('span');\n      $$(lessIcon).addClass('coveo-icon');\n      less.appendChild(lessIcon);\n      $$(less).on('click', () => this.handleClickLess());\n      return less;\n    } else {\n      let less = document.createElement('a');\n      $$(less).addClass('coveo-facet-less');\n      $$(less).text(l('Less'));\n      $$(less).on('click', () => this.handleClickLess());\n      return less;\n    }\n  }\n\n  private triggerMoreQuery() {\n    this.logger.info('Triggering new facet more query');\n    this.showWaitingAnimation();\n    // fetch 1 more value than we need, so we can see if there is more value to fetch still or if we have reached\n    // the end of the availables values\n    this.facetQueryController.fetchMore(this.numberOfValues + 1).then((queryResults?) => {\n      let facetValues = new FacetValues(queryResults.groupByResults[0]);\n\n      facetValues.importActiveValuesFromOtherList(this.values);\n      facetValues.sortValuesDependingOnStatus(this.numberOfValues);\n      this.values = facetValues;\n\n      this.nbAvailableValues = this.values.size();\n\n      this.updateNumberOfValues();\n      this.canFetchMore = this.numberOfValues < this.nbAvailableValues;\n\n      if (this.values.hasSelectedOrExcludedValues() && !this.options.useAnd && this.options.isMultiValueField) {\n        this.triggerUpdateDeltaQuery(_.filter(this.values.getAll(), (facetValue: FacetValue) => !facetValue.selected && !facetValue.excluded));\n      } else {\n        if (this.values.hasSelectedOrExcludedValues() && !this.options.useAnd) {\n          this.values.updateDeltaWithFilteredFacetValues(new FacetValues());\n          this.hideWaitingAnimation();\n        } else {\n          this.hideWaitingAnimation();\n        }\n\n        this.rebuildValueElements();\n      }\n    }).catch(() => this.hideWaitingAnimation());\n  }\n\n  private triggerUpdateDeltaQuery(facetValues: FacetValue[]): void {\n    this.showWaitingAnimation();\n    this.facetQueryController.searchInFacetToUpdateDelta(facetValues).then((queryResults?) => {\n      let values: FacetValues = new FacetValues();\n      _.each(queryResults.groupByResults, (groupByResult: IGroupByResult) => {\n        _.each(groupByResult.values, (groupByValue: IGroupByValue) => {\n          if (!values.contains(groupByValue.value)) {\n            values.add(FacetValue.createFromGroupByValue(groupByValue));\n          }\n        });\n      });\n      this.values.updateDeltaWithFilteredFacetValues(values);\n      this.rebuildValueElements();\n      this.hideWaitingAnimation();\n    })\n  }\n\n  protected updateNumberOfValues() {\n    if (this.currentPage <= 0) {\n      // We're on the first page, let's reset the number of values to a minimum.\n      this.currentPage = 0;\n      this.numberOfValues = 0;\n    } else {\n      // Calculate the number of value with the current page.\n      this.numberOfValues = this.options.numberOfValues + (this.currentPage * this.options.pageSize);\n    }\n\n    // Make sure we have at least the absolute minimum of value to display.\n    this.numberOfValues = Math.max(this.numberOfValues, this.getMinimumNumberOfValuesToDisplay());\n  }\n\n  private getMinimumNumberOfValuesToDisplay() {\n    // The min value is the number of used values.\n    let minValue = this.values.getExcluded().length + this.values.getSelected().length;\n\n    // When using a custom sort, we have to show all values between the selected ones.\n    // Thus, we must find the last selected value after a reorder and use that value as the number of value.\n    if (this.options.customSort != null && this.facetSort != null && this.options.customSort.length > 0) {\n      let lastSelectedValueIndex = -1;\n      new FacetValuesOrder(this, this.facetSort).reorderValues(this.values.getAll()).forEach((facetValue, index) => {\n        if (facetValue.selected) {\n          lastSelectedValueIndex = index;\n        }\n      });\n      minValue = lastSelectedValueIndex + 1;\n    }\n    return Math.max(minValue, this.options.numberOfValues);\n  }\n\n  private updateVisibilityBasedOnDependsOn() {\n    if (Utils.isNonEmptyString(this.options.dependsOn)) {\n      $$(this.element).toggleClass('coveo-facet-dependent', !this.doesParentFacetHasSelectedValue() && !this.values.hasSelectedOrExcludedValues());\n    }\n  }\n\n  private doesParentFacetHasSelectedValue(): boolean {\n    let id = QueryStateModel.getFacetId(this.options.dependsOn)\n    let values = this.queryStateModel.get(id);\n    return values != null && values.length != 0;\n  }\n\n  private shouldRenderFacetSearch() {\n    return this.options.enableFacetSearch;\n  }\n\n  private shouldRenderMoreLess() {\n    return this.options.enableMoreLess;\n  }\n\n  public debugInfo() {\n    let info: any = {};\n    info[this['constructor']['ID']] = {\n      component: this,\n      groupByRequest: this.facetQueryController.lastGroupByRequest,\n      groupByResult: this.facetQueryController.lastGroupByResult\n    }\n    return info;\n  }\n}\nInitialization.registerAutoCreateComponent(Facet);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Facet/Facet.ts\n **/","l":{"12":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"29":1,"30":1,"31":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"46":1,"47":1,"49":1,"50":1,"51":1,"53":1,"106":121,"107":1,"108":1,"114":1,"142":120,"181":120,"245":120,"267":120,"326":120,"331":120,"388":0,"410":120,"411":120,"412":120,"414":120,"435":120,"438":120,"448":120,"459":225,"460":120,"461":120,"463":120,"464":0,"467":120,"470":120,"471":120,"473":120,"474":120,"475":120,"476":120,"477":120,"478":120,"479":120,"480":120,"481":120,"482":120,"484":120,"485":0,"486":0,"489":120,"490":120,"492":120,"493":34,"497":68,"498":68,"499":68,"500":68,"504":68,"505":1,"506":0,"508":1,"519":1,"520":13,"521":13,"522":13,"523":13,"533":13,"534":13,"535":13,"536":13,"537":17,"539":13,"549":1,"550":9,"551":9,"552":9,"553":9,"563":5,"564":5,"565":5,"566":5,"567":3,"569":5,"579":1,"580":2,"581":2,"582":2,"583":2,"593":4,"594":4,"595":4,"596":4,"597":10,"599":4,"609":1,"610":1,"611":1,"612":1,"613":1,"623":1,"624":1,"625":1,"626":1,"627":3,"629":1,"639":1,"640":2,"641":2,"642":2,"643":2,"653":1,"654":2,"655":2,"656":2,"657":2,"664":1,"665":11,"672":1,"673":30,"674":30,"675":30,"676":41,"684":1,"685":58,"686":58,"693":1,"694":58,"695":58,"701":1,"702":2,"703":2,"704":2,"705":2,"706":2,"712":1,"713":1,"714":1,"715":1,"721":1,"722":1,"723":1,"724":1,"731":1,"732":9,"741":1,"742":1,"743":1,"744":1,"745":1,"749":1,"750":46,"753":1,"754":47,"760":1,"761":6,"762":6,"765":5,"766":0,"768":5,"769":5,"776":1,"777":46,"778":46,"779":1,"780":1,"781":1,"785":1,"786":0,"787":0,"788":0,"789":0,"794":0,"795":0,"796":0,"800":0,"802":0,"803":0,"809":1,"810":0,"811":0,"821":1,"822":322,"823":322,"824":322,"825":322,"827":322,"828":0,"829":0,"831":0,"832":0,"833":0,"836":322,"843":1,"844":1,"845":1,"846":1,"847":0,"849":1,"856":1,"857":0,"858":0,"859":0,"860":0,"861":0,"862":0,"865":1,"866":3,"867":1,"869":2,"871":3,"874":1,"875":45,"876":45,"877":45,"878":45,"879":45,"880":45,"881":45,"882":13,"884":45,"887":1,"888":1,"890":1,"891":1,"892":1,"898":1,"899":105,"902":1,"903":53,"904":53,"907":1,"908":52,"909":52,"912":26,"913":26,"914":26,"915":26,"916":26,"920":1,"921":192,"922":192,"923":192,"926":120,"927":120,"928":120,"929":120,"930":120,"933":120,"934":120,"935":120,"936":120,"937":120,"939":120,"940":120,"941":120,"942":120,"944":120,"947":1,"948":120,"949":120,"952":120,"953":120,"954":1,"958":120,"959":120,"960":119,"961":119,"965":1,"966":1,"967":1,"968":0,"969":0,"971":1,"972":0,"974":1,"975":1,"981":1,"982":45,"983":45,"984":32,"986":45,"987":45,"988":45,"990":45,"991":1,"992":10,"994":44,"995":7,"997":45,"998":44,"999":44,"1000":44,"1002":45,"1005":1,"1006":54,"1007":54,"1008":54,"1009":54,"1010":54,"1011":54,"1014":1,"1015":72,"1016":72,"1017":72,"1018":72,"1019":72,"1020":72,"1022":0,"1023":0,"1027":72,"1028":72,"1029":32,"1030":32,"1031":32,"1034":32,"1035":0,"1036":0,"1037":0,"1039":0,"1041":0,"1042":0,"1043":0,"1047":32,"1048":0,"1049":0,"1051":32,"1055":117,"1056":72,"1057":0,"1059":72,"1062":72,"1063":6,"1065":66,"1068":72,"1069":6,"1071":66,"1075":1,"1076":0,"1079":1,"1080":0,"1083":1,"1084":0,"1087":1,"1088":120,"1089":0,"1093":1,"1094":120,"1095":0,"1096":0,"1097":0,"1101":1,"1102":120,"1103":1,"1105":120,"1106":1,"1110":68,"1111":68,"1112":68,"1113":68,"1114":68,"1116":68,"1117":68,"1119":68,"1120":67,"1121":67,"1122":67,"1124":68,"1125":67,"1126":67,"1127":67,"1132":1,"1133":54,"1137":54,"1140":1,"1141":54,"1146":54,"1149":1,"1150":54,"1151":0,"1152":0,"1153":0,"1155":0,"1159":1,"1160":0,"1161":0,"1162":0,"1163":0,"1167":1,"1168":0,"1169":0,"1170":0,"1172":0,"1173":0,"1177":1,"1178":0,"1179":0,"1180":0,"1182":0,"1183":0,"1187":1,"1188":0,"1189":0,"1193":1,"1194":0,"1195":0,"1197":0,"1198":0,"1199":0,"1200":0,"1201":0,"1203":0,"1204":0,"1205":0,"1207":0,"1208":0,"1210":0,"1211":0,"1213":0,"1214":0,"1219":1,"1220":1,"1221":1,"1227":1,"1229":1,"1230":0,"1232":1,"1236":1,"1237":0,"1239":0,"1240":0,"1241":0,"1242":0,"1243":0,"1244":0,"1245":0,"1247":0,"1249":0,"1250":0,"1255":0,"1258":0,"1261":1,"1262":45,"1263":45,"1264":45,"1268":1,"1269":45,"1270":45,"1272":45,"1273":45,"1274":9,"1275":9,"1276":9,"1280":1,"1281":45,"1282":45,"1283":45,"1284":45,"1287":1,"1288":0,"1291":1,"1292":45,"1293":45,"1294":0,"1296":45,"1297":45,"1298":45,"1301":45,"1304":1,"1305":0,"1306":0,"1307":0,"1311":1,"1312":192,"1315":1,"1316":68,"1317":68,"1318":68,"1319":68,"1320":67,"1322":68,"1323":68,"1324":68,"1326":68,"1327":68,"1328":68,"1329":67,"1330":67,"1331":1,"1332":1,"1333":1,"1337":1,"1338":68,"1339":68,"1340":0,"1342":68,"1355":68,"1356":68,"1357":68,"1358":68,"1361":1,"1362":0,"1363":0,"1364":0,"1365":0,"1366":0,"1367":0,"1371":1,"1372":44,"1375":1,"1376":0,"1379":44,"1380":44,"1381":0,"1382":0,"1383":0,"1384":0,"1385":0,"1389":0,"1390":0,"1391":0,"1392":0,"1393":0,"1394":0,"1396":0,"1400":0,"1401":0,"1402":0,"1406":0,"1409":0,"1414":0,"1415":0,"1416":0,"1417":0,"1418":0,"1419":0,"1420":0,"1421":0,"1422":0,"1426":0,"1427":0,"1431":1,"1432":68,"1433":68,"1434":68,"1437":68,"1438":68,"1439":67,"1440":67,"1441":67,"1442":67,"1443":67,"1444":67,"1445":67,"1447":1,"1448":1,"1449":1,"1450":1,"1451":1,"1455":68,"1456":68,"1457":67,"1458":67,"1459":67,"1460":67,"1461":67,"1462":67,"1463":67,"1465":1,"1466":1,"1467":1,"1468":1,"1469":1,"1473":1,"1474":1,"1475":1,"1478":1,"1479":0,"1481":0,"1482":0,"1483":0,"1485":0,"1487":0,"1488":0,"1490":0,"1491":0,"1493":0,"1494":0,"1495":0,"1497":0,"1500":0,"1502":0,"1505":1,"1506":1,"1507":1,"1508":0,"1509":0,"1510":0,"1511":0,"1512":0,"1516":0,"1517":0,"1518":0,"1522":1,"1523":170,"1525":169,"1526":169,"1529":1,"1533":170,"1536":1,"1538":215,"1542":215,"1543":3,"1544":3,"1545":30,"1546":0,"1549":3,"1551":215,"1554":1,"1555":45,"1556":1,"1560":1,"1561":1,"1562":1,"1563":1,"1566":1,"1567":140,"1570":1,"1571":140,"1574":1,"1575":0,"1576":0,"1581":0,"1583":1,"1584":1}},"src/ui/Facet/FacetValues.ts":{"path":"src/ui/Facet/FacetValues.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":40}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":40}},"4":{"start":{"line":12,"column":0},"end":{"line":119,"column":1}},"5":{"start":{"line":19,"column":2},"end":{"line":19,"column":28}},"6":{"start":{"line":20,"column":2},"end":{"line":20,"column":28}},"7":{"start":{"line":21,"column":2},"end":{"line":21,"column":35}},"8":{"start":{"line":23,"column":2},"end":{"line":26,"column":3}},"9":{"start":{"line":24,"column":4},"end":{"line":24,"column":26}},"10":{"start":{"line":25,"column":4},"end":{"line":25,"column":26}},"11":{"start":{"line":28,"column":2},"end":{"line":33,"column":3}},"12":{"start":{"line":29,"column":4},"end":{"line":29,"column":28}},"13":{"start":{"line":30,"column":4},"end":{"line":30,"column":44}},"14":{"start":{"line":31,"column":4},"end":{"line":31,"column":32}},"15":{"start":{"line":32,"column":4},"end":{"line":32,"column":48}},"16":{"start":{"line":35,"column":2},"end":{"line":40,"column":3}},"17":{"start":{"line":36,"column":4},"end":{"line":36,"column":25}},"18":{"start":{"line":37,"column":4},"end":{"line":37,"column":35}},"19":{"start":{"line":38,"column":4},"end":{"line":38,"column":27}},"20":{"start":{"line":39,"column":4},"end":{"line":39,"column":16}},"21":{"start":{"line":42,"column":2},"end":{"line":48,"column":3}},"22":{"start":{"line":43,"column":4},"end":{"line":43,"column":42}},"23":{"start":{"line":44,"column":4},"end":{"line":44,"column":48}},"24":{"start":{"line":45,"column":4},"end":{"line":45,"column":24}},"25":{"start":{"line":46,"column":4},"end":{"line":46,"column":30}},"26":{"start":{"line":47,"column":4},"end":{"line":47,"column":17}},"27":{"start":{"line":50,"column":2},"end":{"line":60,"column":3}},"28":{"start":{"line":51,"column":4},"end":{"line":51,"column":34}},"29":{"start":{"line":52,"column":4},"end":{"line":58,"column":5}},"30":{"start":{"line":53,"column":6},"end":{"line":53,"column":55}},"31":{"start":{"line":55,"column":6},"end":{"line":57,"column":7}},"32":{"start":{"line":56,"column":8},"end":{"line":56,"column":57}},"33":{"start":{"line":59,"column":4},"end":{"line":59,"column":17}},"34":{"start":{"line":62,"column":2},"end":{"line":68,"column":3}},"35":{"start":{"line":63,"column":4},"end":{"line":67,"column":5}},"36":{"start":{"line":64,"column":6},"end":{"line":64,"column":58}},"37":{"start":{"line":66,"column":6},"end":{"line":66,"column":23}},"38":{"start":{"line":70,"column":9},"end":{"line":82,"column":3}},"39":{"start":{"line":71,"column":4},"end":{"line":81,"column":5}},"40":{"start":{"line":72,"column":6},"end":{"line":72,"column":47}},"41":{"start":{"line":73,"column":11},"end":{"line":81,"column":5}},"42":{"start":{"line":74,"column":6},"end":{"line":78,"column":7}},"43":{"start":{"line":75,"column":8},"end":{"line":75,"column":56}},"44":{"start":{"line":77,"column":8},"end":{"line":77,"column":54}},"45":{"start":{"line":80,"column":6},"end":{"line":80,"column":58}},"46":{"start":{"line":84,"column":9},"end":{"line":92,"column":3}},"47":{"start":{"line":85,"column":4},"end":{"line":85,"column":35}},"48":{"start":{"line":87,"column":4},"end":{"line":87,"column":38}},"49":{"start":{"line":88,"column":4},"end":{"line":88,"column":29}},"50":{"start":{"line":89,"column":4},"end":{"line":89,"column":35}},"51":{"start":{"line":91,"column":4},"end":{"line":91,"column":22}},"52":{"start":{"line":94,"column":9},"end":{"line":107,"column":3}},"53":{"start":{"line":95,"column":4},"end":{"line":95,"column":32}},"54":{"start":{"line":97,"column":4},"end":{"line":97,"column":32}},"55":{"start":{"line":99,"column":4},"end":{"line":99,"column":38}},"56":{"start":{"line":100,"column":4},"end":{"line":100,"column":42}},"57":{"start":{"line":101,"column":4},"end":{"line":101,"column":116}},"58":{"start":{"line":102,"column":4},"end":{"line":102,"column":58}},"59":{"start":{"line":103,"column":4},"end":{"line":103,"column":139}},"60":{"start":{"line":104,"column":4},"end":{"line":104,"column":42}},"61":{"start":{"line":106,"column":4},"end":{"line":106,"column":22}},"62":{"start":{"line":109,"column":9},"end":{"line":118,"column":3}},"63":{"start":{"line":110,"column":4},"end":{"line":110,"column":30}},"64":{"start":{"line":112,"column":4},"end":{"line":112,"column":38}},"65":{"start":{"line":113,"column":4},"end":{"line":113,"column":40}},"66":{"start":{"line":114,"column":4},"end":{"line":114,"column":52}},"67":{"start":{"line":115,"column":4},"end":{"line":115,"column":56}},"68":{"start":{"line":117,"column":4},"end":{"line":117,"column":22}},"69":{"start":{"line":119,"column":0},"end":{"line":119,"column":1}},"70":{"start":{"line":12,"column":13},"end":{"line":119,"column":1}},"71":{"start":{"line":121,"column":0},"end":{"line":302,"column":1}},"72":{"start":{"line":124,"column":2},"end":{"line":130,"column":3}},"73":{"start":{"line":125,"column":4},"end":{"line":129,"column":5}},"74":{"start":{"line":126,"column":6},"end":{"line":126,"column":113}},"75":{"start":{"line":126,"column":64},"end":{"line":126,"column":111}},"76":{"start":{"line":128,"column":6},"end":{"line":128,"column":23}},"77":{"start":{"line":132,"column":2},"end":{"line":136,"column":3}},"78":{"start":{"line":133,"column":4},"end":{"line":133,"column":30}},"79":{"start":{"line":134,"column":4},"end":{"line":134,"column":51}},"80":{"start":{"line":135,"column":4},"end":{"line":135,"column":33}},"81":{"start":{"line":138,"column":2},"end":{"line":142,"column":3}},"82":{"start":{"line":139,"column":4},"end":{"line":139,"column":35}},"83":{"start":{"line":140,"column":4},"end":{"line":140,"column":17}},"84":{"start":{"line":141,"column":4},"end":{"line":141,"column":83}},"85":{"start":{"line":141,"column":62},"end":{"line":141,"column":81}},"86":{"start":{"line":144,"column":2},"end":{"line":146,"column":3}},"87":{"start":{"line":145,"column":4},"end":{"line":145,"column":30}},"88":{"start":{"line":148,"column":2},"end":{"line":150,"column":3}},"89":{"start":{"line":149,"column":4},"end":{"line":149,"column":35}},"90":{"start":{"line":152,"column":2},"end":{"line":156,"column":3}},"91":{"start":{"line":153,"column":4},"end":{"line":153,"column":42}},"92":{"start":{"line":154,"column":4},"end":{"line":154,"column":52}},"93":{"start":{"line":155,"column":4},"end":{"line":155,"column":30}},"94":{"start":{"line":158,"column":2},"end":{"line":160,"column":3}},"95":{"start":{"line":159,"column":4},"end":{"line":159,"column":102}},"96":{"start":{"line":159,"column":53},"end":{"line":159,"column":100}},"97":{"start":{"line":162,"column":2},"end":{"line":164,"column":3}},"98":{"start":{"line":163,"column":4},"end":{"line":163,"column":41}},"99":{"start":{"line":166,"column":2},"end":{"line":168,"column":3}},"100":{"start":{"line":167,"column":4},"end":{"line":167,"column":23}},"101":{"start":{"line":170,"column":2},"end":{"line":172,"column":3}},"102":{"start":{"line":171,"column":4},"end":{"line":171,"column":72}},"103":{"start":{"line":171,"column":56},"end":{"line":171,"column":70}},"104":{"start":{"line":174,"column":2},"end":{"line":176,"column":3}},"105":{"start":{"line":175,"column":4},"end":{"line":175,"column":72}},"106":{"start":{"line":175,"column":56},"end":{"line":175,"column":70}},"107":{"start":{"line":178,"column":2},"end":{"line":180,"column":3}},"108":{"start":{"line":179,"column":4},"end":{"line":179,"column":76}},"109":{"start":{"line":182,"column":2},"end":{"line":184,"column":3}},"110":{"start":{"line":183,"column":4},"end":{"line":183,"column":60}},"111":{"start":{"line":183,"column":46},"end":{"line":183,"column":58}},"112":{"start":{"line":186,"column":2},"end":{"line":216,"column":3}},"113":{"start":{"line":187,"column":4},"end":{"line":187,"column":25}},"114":{"start":{"line":189,"column":4},"end":{"line":201,"column":7}},"115":{"start":{"line":190,"column":6},"end":{"line":190,"column":47}},"116":{"start":{"line":191,"column":6},"end":{"line":200,"column":7}},"117":{"start":{"line":192,"column":8},"end":{"line":192,"column":32}},"118":{"start":{"line":193,"column":13},"end":{"line":200,"column":7}},"119":{"start":{"line":194,"column":8},"end":{"line":194,"column":49}},"120":{"start":{"line":195,"column":8},"end":{"line":195,"column":58}},"121":{"start":{"line":196,"column":8},"end":{"line":196,"column":40}},"122":{"start":{"line":197,"column":8},"end":{"line":197,"column":32}},"123":{"start":{"line":199,"column":8},"end":{"line":199,"column":64}},"124":{"start":{"line":203,"column":4},"end":{"line":215,"column":7}},"125":{"start":{"line":204,"column":6},"end":{"line":204,"column":47}},"126":{"start":{"line":205,"column":6},"end":{"line":214,"column":7}},"127":{"start":{"line":206,"column":8},"end":{"line":206,"column":32}},"128":{"start":{"line":207,"column":13},"end":{"line":214,"column":7}},"129":{"start":{"line":208,"column":8},"end":{"line":208,"column":49}},"130":{"start":{"line":209,"column":8},"end":{"line":209,"column":58}},"131":{"start":{"line":210,"column":8},"end":{"line":210,"column":40}},"132":{"start":{"line":211,"column":8},"end":{"line":211,"column":32}},"133":{"start":{"line":213,"column":8},"end":{"line":213,"column":64}},"134":{"start":{"line":218,"column":2},"end":{"line":230,"column":3}},"135":{"start":{"line":219,"column":4},"end":{"line":219,"column":29}},"136":{"start":{"line":221,"column":4},"end":{"line":229,"column":7}},"137":{"start":{"line":222,"column":6},"end":{"line":222,"column":50}},"138":{"start":{"line":223,"column":6},"end":{"line":228,"column":7}},"139":{"start":{"line":224,"column":8},"end":{"line":224,"column":51}},"140":{"start":{"line":225,"column":8},"end":{"line":225,"column":23}},"141":{"start":{"line":227,"column":8},"end":{"line":227,"column":50}},"142":{"start":{"line":232,"column":2},"end":{"line":247,"column":3}},"143":{"start":{"line":233,"column":4},"end":{"line":233,"column":28}},"144":{"start":{"line":234,"column":4},"end":{"line":246,"column":7}},"145":{"start":{"line":235,"column":6},"end":{"line":235,"column":62}},"146":{"start":{"line":236,"column":6},"end":{"line":236,"column":46}},"147":{"start":{"line":237,"column":6},"end":{"line":245,"column":7}},"148":{"start":{"line":238,"column":8},"end":{"line":242,"column":9}},"149":{"start":{"line":239,"column":10},"end":{"line":239,"column":90}},"150":{"start":{"line":241,"column":10},"end":{"line":241,"column":39}},"151":{"start":{"line":243,"column":13},"end":{"line":245,"column":7}},"152":{"start":{"line":244,"column":8},"end":{"line":244,"column":60}},"153":{"start":{"line":249,"column":2},"end":{"line":284,"column":3}},"154":{"start":{"line":250,"column":4},"end":{"line":250,"column":30}},"155":{"start":{"line":252,"column":4},"end":{"line":252,"column":34}},"156":{"start":{"line":253,"column":4},"end":{"line":264,"column":7}},"157":{"start":{"line":254,"column":6},"end":{"line":254,"column":58}},"158":{"start":{"line":255,"column":6},"end":{"line":263,"column":7}},"159":{"start":{"line":256,"column":8},"end":{"line":260,"column":9}},"160":{"start":{"line":257,"column":10},"end":{"line":257,"column":37}},"161":{"start":{"line":259,"column":10},"end":{"line":259,"column":140}},"162":{"start":{"line":262,"column":8},"end":{"line":262,"column":110}},"163":{"start":{"line":266,"column":4},"end":{"line":266,"column":18}},"164":{"start":{"line":267,"column":4},"end":{"line":282,"column":7}},"165":{"start":{"line":268,"column":6},"end":{"line":268,"column":56}},"166":{"start":{"line":269,"column":6},"end":{"line":281,"column":7}},"167":{"start":{"line":270,"column":8},"end":{"line":273,"column":9}},"168":{"start":{"line":271,"column":10},"end":{"line":271,"column":41}},"169":{"start":{"line":272,"column":10},"end":{"line":272,"column":18}},"170":{"start":{"line":275,"column":8},"end":{"line":280,"column":9}},"171":{"start":{"line":276,"column":10},"end":{"line":279,"column":11}},"172":{"start":{"line":277,"column":12},"end":{"line":277,"column":26}},"173":{"start":{"line":278,"column":12},"end":{"line":278,"column":18}},"174":{"start":{"line":283,"column":4},"end":{"line":283,"column":25}},"175":{"start":{"line":286,"column":2},"end":{"line":301,"column":3}},"176":{"start":{"line":287,"column":4},"end":{"line":295,"column":7}},"177":{"start":{"line":288,"column":6},"end":{"line":294,"column":7}},"178":{"start":{"line":289,"column":8},"end":{"line":289,"column":17}},"179":{"start":{"line":290,"column":13},"end":{"line":294,"column":7}},"180":{"start":{"line":291,"column":8},"end":{"line":291,"column":17}},"181":{"start":{"line":293,"column":8},"end":{"line":293,"column":17}},"182":{"start":{"line":296,"column":4},"end":{"line":300,"column":5}},"183":{"start":{"line":297,"column":6},"end":{"line":297,"column":48}},"184":{"start":{"line":298,"column":6},"end":{"line":298,"column":83}},"185":{"start":{"line":299,"column":6},"end":{"line":299,"column":109}},"186":{"start":{"line":302,"column":0},"end":{"line":302,"column":1}},"187":{"start":{"line":121,"column":13},"end":{"line":302,"column":1}}},"fnMap":{"1":{"name":"(anonymous_2916)","line":12,"loc":{"start":{"line":12,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_2918)","line":23,"loc":{"start":{"line":23,"column":2},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_2919)","line":28,"loc":{"start":{"line":28,"column":2},"end":{"line":28,"column":47}}},"4":{"name":"(anonymous_2920)","line":35,"loc":{"start":{"line":35,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_2921)","line":42,"loc":{"start":{"line":42,"column":2},"end":{"line":42,"column":45}}},"6":{"name":"(anonymous_2922)","line":50,"loc":{"start":{"line":50,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_2923)","line":62,"loc":{"start":{"line":62,"column":2},"end":{"line":62,"column":42}}},"8":{"name":"(anonymous_2924)","line":70,"loc":{"start":{"line":70,"column":2},"end":{"line":70,"column":26}}},"9":{"name":"(anonymous_2925)","line":84,"loc":{"start":{"line":84,"column":2},"end":{"line":84,"column":38}}},"10":{"name":"(anonymous_2926)","line":94,"loc":{"start":{"line":94,"column":2},"end":{"line":94,"column":59}}},"11":{"name":"(anonymous_2927)","line":109,"loc":{"start":{"line":109,"column":2},"end":{"line":109,"column":58}}},"12":{"name":"(anonymous_2928)","line":121,"loc":{"start":{"line":121,"column":0},"end":{"line":null,"column":-1}}},"13":{"name":"FacetValues","line":124,"loc":{"start":{"line":124,"column":2},"end":{"line":124,"column":44}}},"14":{"name":"(anonymous_2930)","line":126,"loc":{"start":{"line":126,"column":48},"end":{"line":126,"column":60}}},"15":{"name":"(anonymous_2931)","line":132,"loc":{"start":{"line":132,"column":2},"end":{"line":132,"column":28}}},"16":{"name":"(anonymous_2932)","line":138,"loc":{"start":{"line":138,"column":2},"end":{"line":138,"column":22}}},"17":{"name":"(anonymous_2933)","line":141,"loc":{"start":{"line":141,"column":40},"end":{"line":141,"column":57}}},"18":{"name":"(anonymous_2934)","line":144,"loc":{"start":{"line":144,"column":2},"end":{"line":null,"column":-1}}},"19":{"name":"(anonymous_2935)","line":148,"loc":{"start":{"line":148,"column":2},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_2936)","line":152,"loc":{"start":{"line":152,"column":2},"end":{"line":152,"column":18}}},"21":{"name":"(anonymous_2937)","line":158,"loc":{"start":{"line":158,"column":2},"end":{"line":158,"column":19}}},"22":{"name":"(anonymous_2938)","line":159,"loc":{"start":{"line":159,"column":31},"end":{"line":159,"column":48}}},"23":{"name":"(anonymous_2939)","line":162,"loc":{"start":{"line":162,"column":2},"end":{"line":162,"column":24}}},"24":{"name":"(anonymous_2940)","line":166,"loc":{"start":{"line":166,"column":2},"end":{"line":null,"column":-1}}},"25":{"name":"(anonymous_2941)","line":170,"loc":{"start":{"line":170,"column":2},"end":{"line":null,"column":-1}}},"26":{"name":"(anonymous_2942)","line":171,"loc":{"start":{"line":171,"column":33},"end":{"line":171,"column":51}}},"27":{"name":"(anonymous_2943)","line":174,"loc":{"start":{"line":174,"column":2},"end":{"line":null,"column":-1}}},"28":{"name":"(anonymous_2944)","line":175,"loc":{"start":{"line":175,"column":33},"end":{"line":175,"column":51}}},"29":{"name":"(anonymous_2945)","line":178,"loc":{"start":{"line":178,"column":2},"end":{"line":null,"column":-1}}},"30":{"name":"(anonymous_2946)","line":182,"loc":{"start":{"line":182,"column":2},"end":{"line":null,"column":-1}}},"31":{"name":"(anonymous_2947)","line":183,"loc":{"start":{"line":183,"column":24},"end":{"line":183,"column":41}}},"32":{"name":"(anonymous_2948)","line":186,"loc":{"start":{"line":186,"column":2},"end":{"line":186,"column":52}}},"33":{"name":"(anonymous_2949)","line":189,"loc":{"start":{"line":189,"column":32},"end":{"line":189,"column":55}}},"34":{"name":"(anonymous_2950)","line":203,"loc":{"start":{"line":203,"column":32},"end":{"line":203,"column":55}}},"35":{"name":"(anonymous_2951)","line":218,"loc":{"start":{"line":218,"column":2},"end":{"line":218,"column":50}}},"36":{"name":"(anonymous_2952)","line":221,"loc":{"start":{"line":221,"column":37},"end":{"line":221,"column":57}}},"37":{"name":"(anonymous_2953)","line":232,"loc":{"start":{"line":232,"column":2},"end":{"line":232,"column":58}}},"38":{"name":"(anonymous_2954)","line":234,"loc":{"start":{"line":234,"column":24},"end":{"line":234,"column":52}}},"39":{"name":"(anonymous_2955)","line":249,"loc":{"start":{"line":249,"column":2},"end":{"line":249,"column":56}}},"40":{"name":"(anonymous_2956)","line":253,"loc":{"start":{"line":253,"column":30},"end":{"line":253,"column":58}}},"41":{"name":"(anonymous_2957)","line":267,"loc":{"start":{"line":267,"column":24},"end":{"line":267,"column":42}}},"42":{"name":"(anonymous_2958)","line":286,"loc":{"start":{"line":286,"column":2},"end":{"line":286,"column":55}}},"43":{"name":"(anonymous_2959)","line":287,"loc":{"start":{"line":287,"column":40},"end":{"line":287,"column":58}}}},"branchMap":{"1":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":4},"end":{"line":52,"column":3}},{"start":{"line":52,"column":4},"end":{"line":52,"column":3}}]},"2":{"line":52,"type":"binary-expr","locations":[{"start":{"line":52,"column":8},"end":{"line":52,"column":32}},{"start":{"line":52,"column":36},"end":{"line":52,"column":50}}]},"3":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":6},"end":{"line":55,"column":5}},{"start":{"line":55,"column":6},"end":{"line":55,"column":5}}]},"4":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":4},"end":{"line":63,"column":3}},{"start":{"line":63,"column":4},"end":{"line":63,"column":3}}]},"5":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":4},"end":{"line":71,"column":3}},{"start":{"line":71,"column":4},"end":{"line":71,"column":3}}]},"6":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":11},"end":{"line":73,"column":10}},{"start":{"line":73,"column":11},"end":{"line":73,"column":10}}]},"7":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":6},"end":{"line":74,"column":5}},{"start":{"line":74,"column":6},"end":{"line":74,"column":5}}]},"8":{"line":101,"type":"cond-expr","locations":[{"start":{"line":101,"column":70},"end":{"line":101,"column":94}},{"start":{"line":101,"column":97},"end":{"line":101,"column":115}}]},"9":{"line":103,"type":"cond-expr","locations":[{"start":{"line":103,"column":90},"end":{"line":103,"column":126}},{"start":{"line":103,"column":129},"end":{"line":103,"column":138}}]},"10":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":4},"end":{"line":125,"column":3}},{"start":{"line":125,"column":4},"end":{"line":125,"column":3}}]},"11":{"line":179,"type":"binary-expr","locations":[{"start":{"line":179,"column":11},"end":{"line":179,"column":41}},{"start":{"line":179,"column":45},"end":{"line":179,"column":75}}]},"12":{"line":191,"type":"if","locations":[{"start":{"line":191,"column":6},"end":{"line":191,"column":5}},{"start":{"line":191,"column":6},"end":{"line":191,"column":5}}]},"13":{"line":193,"type":"if","locations":[{"start":{"line":193,"column":13},"end":{"line":193,"column":12}},{"start":{"line":193,"column":13},"end":{"line":193,"column":12}}]},"14":{"line":205,"type":"if","locations":[{"start":{"line":205,"column":6},"end":{"line":205,"column":5}},{"start":{"line":205,"column":6},"end":{"line":205,"column":5}}]},"15":{"line":207,"type":"if","locations":[{"start":{"line":207,"column":13},"end":{"line":207,"column":12}},{"start":{"line":207,"column":13},"end":{"line":207,"column":12}}]},"16":{"line":223,"type":"if","locations":[{"start":{"line":223,"column":6},"end":{"line":223,"column":5}},{"start":{"line":223,"column":6},"end":{"line":223,"column":5}}]},"17":{"line":237,"type":"if","locations":[{"start":{"line":237,"column":6},"end":{"line":237,"column":5}},{"start":{"line":237,"column":6},"end":{"line":237,"column":5}}]},"18":{"line":238,"type":"if","locations":[{"start":{"line":238,"column":8},"end":{"line":238,"column":7}},{"start":{"line":238,"column":8},"end":{"line":238,"column":7}}]},"19":{"line":243,"type":"if","locations":[{"start":{"line":243,"column":13},"end":{"line":243,"column":12}},{"start":{"line":243,"column":13},"end":{"line":243,"column":12}}]},"20":{"line":243,"type":"binary-expr","locations":[{"start":{"line":243,"column":17},"end":{"line":243,"column":42}},{"start":{"line":243,"column":46},"end":{"line":243,"column":71}}]},"21":{"line":255,"type":"if","locations":[{"start":{"line":255,"column":6},"end":{"line":255,"column":5}},{"start":{"line":255,"column":6},"end":{"line":255,"column":5}}]},"22":{"line":256,"type":"if","locations":[{"start":{"line":256,"column":8},"end":{"line":256,"column":7}},{"start":{"line":256,"column":8},"end":{"line":256,"column":7}}]},"23":{"line":269,"type":"if","locations":[{"start":{"line":269,"column":6},"end":{"line":269,"column":5}},{"start":{"line":269,"column":6},"end":{"line":269,"column":5}}]},"24":{"line":270,"type":"if","locations":[{"start":{"line":270,"column":8},"end":{"line":270,"column":7}},{"start":{"line":270,"column":8},"end":{"line":270,"column":7}}]},"25":{"line":270,"type":"binary-expr","locations":[{"start":{"line":270,"column":12},"end":{"line":270,"column":26}},{"start":{"line":270,"column":30},"end":{"line":270,"column":44}}]},"26":{"line":276,"type":"if","locations":[{"start":{"line":276,"column":10},"end":{"line":276,"column":9}},{"start":{"line":276,"column":10},"end":{"line":276,"column":9}}]},"27":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":6},"end":{"line":288,"column":5}},{"start":{"line":288,"column":6},"end":{"line":288,"column":5}}]},"28":{"line":290,"type":"if","locations":[{"start":{"line":290,"column":13},"end":{"line":290,"column":12}},{"start":{"line":290,"column":13},"end":{"line":290,"column":12}}]},"29":{"line":296,"type":"if","locations":[{"start":{"line":296,"column":4},"end":{"line":296,"column":3}},{"start":{"line":296,"column":4},"end":{"line":296,"column":3}}]},"30":{"line":296,"type":"binary-expr","locations":[{"start":{"line":296,"column":8},"end":{"line":296,"column":32}},{"start":{"line":296,"column":36},"end":{"line":296,"column":73}}]}},"s":{"1":1,"2":1,"3":1,"4":2,"5":435,"6":435,"7":435,"8":1,"9":12,"10":12,"11":1,"12":0,"13":0,"14":0,"15":0,"16":1,"17":4,"18":4,"19":4,"20":4,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":405,"29":405,"30":39,"31":366,"32":241,"33":405,"34":1,"35":5,"36":5,"37":0,"38":1,"39":82,"40":62,"41":20,"42":20,"43":0,"44":20,"45":0,"46":1,"47":124,"48":124,"49":124,"50":124,"51":124,"52":1,"53":282,"54":282,"55":282,"56":282,"57":282,"58":282,"59":282,"60":282,"61":282,"62":1,"63":29,"64":29,"65":29,"66":29,"67":29,"68":29,"69":1,"70":1,"71":1,"72":1,"73":172,"74":32,"75":282,"76":140,"77":1,"78":37,"79":37,"80":37,"81":1,"82":0,"83":0,"84":0,"85":0,"86":1,"87":0,"88":1,"89":192,"90":1,"91":0,"92":0,"93":0,"94":1,"95":1141,"96":4487,"97":1,"98":252,"99":1,"100":125,"101":1,"102":1076,"103":3636,"104":1,"105":797,"106":2197,"107":1,"108":567,"109":1,"110":2,"111":12,"112":46,"113":45,"114":45,"115":15,"116":15,"117":11,"118":4,"119":4,"120":4,"121":4,"122":4,"123":0,"124":45,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":1,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":1,"143":7,"144":7,"145":52,"146":52,"147":52,"148":0,"149":0,"150":0,"151":52,"152":40,"153":1,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":1,"176":45,"177":286,"178":15,"179":271,"180":0,"181":271,"182":45,"183":6,"184":6,"185":6,"186":1,"187":1},"b":{"1":[39,366],"2":[405,39],"3":[241,125],"4":[5,0],"5":[62,20],"6":[20,0],"7":[0,20],"8":[282,0],"9":[0,282],"10":[32,140],"11":[567,451],"12":[11,4],"13":[4,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,52],"18":[0,0],"19":[40,12],"20":[52,40],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[15,271],"28":[0,271],"29":[6,39],"30":[45,45]},"f":{"1":436,"2":12,"3":0,"4":4,"5":0,"6":405,"7":5,"8":82,"9":124,"10":282,"11":29,"12":1,"13":172,"14":282,"15":37,"16":0,"17":0,"18":0,"19":192,"20":0,"21":1141,"22":4487,"23":252,"24":125,"25":1076,"26":3636,"27":797,"28":2197,"29":567,"30":2,"31":12,"32":45,"33":15,"34":0,"35":0,"36":0,"37":7,"38":52,"39":0,"40":0,"41":0,"42":45,"43":286},"code":"import {Assert} from '../../misc/Assert';\nimport {Utils} from '../../utils/Utils';\nimport {IGroupByValue} from '../../rest/GroupByValue';\nimport {IIndexFieldValue} from '../../rest/FieldValue';\nimport {IGroupByResult} from '../../rest/GroupByResult';\nimport Globalize = require('globalize');\n\n/**\n * A class which holds information and operation available on a single facet value returned by a {@link IGroupByRequest}.<br/>\n * This class is used extensibely in the {@link Facet} component.\n */\nexport class FacetValue {\n  value: string;\n  lookupValue: string;\n  occurrences: number;\n  computedField: number;\n  delta: number;\n  score: number;\n  selected: boolean = false;\n  excluded: boolean = false;\n  waitingForDelta: boolean = false;\n\n  reset() {\n    this.selected = false;\n    this.excluded = false;\n  }\n\n  updateCountsFromNewValue(newValue: FacetValue) {\n    Assert.exists(newValue);\n    this.occurrences = newValue.occurrences;\n    this.delta = newValue.delta;\n    this.computedField = newValue.computedField;\n  }\n\n  cloneWithZeroOccurrences(): FacetValue {\n    this.occurrences = 0;\n    this.computedField = undefined;\n    this.delta = undefined;\n    return this;\n  }\n\n  cloneWithDelta(count: number, delta: number): FacetValue {\n    Assert.isLargerOrEqualsThan(0, count);\n    var clone = this.cloneWithZeroOccurrences();\n    clone.delta = delta;\n    clone.occurrences = count;\n    return clone;\n  }\n\n  getFormattedCount() {\n    var count: string = undefined;\n    if (Utils.exists(this.delta) && this.delta > 0) {\n      count = '+' + Globalize.format(this.delta, 'n0');\n    } else {\n      if (this.occurrences > 0) {\n        count = Globalize.format(this.occurrences, 'n0');\n      }\n    }\n    return count;\n  }\n\n  getFormattedComputedField(format: string) {\n    if (this.computedField != 0) {\n      return Globalize.format(this.computedField, format);\n    } else {\n      return undefined;\n    }\n  }\n\n  static create(value: any): FacetValue {\n    if (_.isString(value)) {\n      return FacetValue.createFromValue(value);\n    } else if (_.isObject(value)) {\n      if ('computedFieldResults' in value) {\n        return FacetValue.createFromGroupByValue(value);\n      } else {\n        return FacetValue.createFromFieldValue(value);\n      }\n    } else {\n      throw new Error('Can\\'t create value from ' + value)\n    }\n  }\n\n  static createFromValue(value: string): FacetValue {\n    Assert.isNonEmptyString(value);\n\n    var facetValue = new FacetValue();\n    facetValue.value = value;\n    facetValue.lookupValue = value;\n\n    return facetValue;\n  }\n\n  static createFromGroupByValue(groupByValue: IGroupByValue): FacetValue {\n    Assert.exists(groupByValue);\n\n    Assert.exists(groupByValue);\n\n    var facetValue = new FacetValue();\n    facetValue.value = groupByValue.value;\n    facetValue.lookupValue = Utils.exists(groupByValue.lookupValue) ? groupByValue.lookupValue : groupByValue.value;\n    facetValue.occurrences = groupByValue.numberOfResults;\n    facetValue.computedField = Utils.isNonEmptyArray(groupByValue.computedFieldResults) ? groupByValue.computedFieldResults[0] : undefined;\n    facetValue.score = groupByValue.score;\n\n    return facetValue;\n  }\n\n  static createFromFieldValue(fieldValue: IIndexFieldValue): FacetValue {\n    Assert.exists(fieldValue);\n\n    var facetValue = new FacetValue();\n    facetValue.value = fieldValue.value;\n    facetValue.lookupValue = fieldValue.lookupValue;\n    facetValue.occurrences = fieldValue.numberOfResults;\n\n    return facetValue;\n  }\n}\n\nexport class FacetValues {\n  private values: FacetValue[];\n\n  constructor(groupByResult?: IGroupByResult) {\n    if (Utils.exists(groupByResult)) {\n      this.values = _.map(groupByResult.values, groupByValue => FacetValue.createFromGroupByValue(groupByValue));\n    } else {\n      this.values = [];\n    }\n  }\n\n  add(facetValue: FacetValue) {\n    Assert.exists(facetValue);\n    Assert.check(!this.contains(facetValue.value));\n    this.values.push(facetValue);\n  }\n\n  remove(value: string) {\n    Assert.isNonEmptyString(value);\n    value = value\n    this.values = _.filter(this.values, (elem: FacetValue) => elem.value != value);\n  }\n\n  size(): number {\n    return this.values.length;\n  }\n\n  isEmpty(): boolean {\n    return this.values.length == 0;\n  }\n\n  at(index: number): FacetValue {\n    Assert.isLargerOrEqualsThan(0, index);\n    Assert.isSmallerThan(this.values.length, index);\n    return this.values[index];\n  }\n\n  get(value: string): FacetValue {\n    return _.find(this.values, (elem: FacetValue) => elem.value.toLowerCase() == value.toLowerCase());\n  }\n\n  contains(value: string): boolean {\n    return Utils.exists(this.get(value));\n  }\n\n  getAll(): FacetValue[] {\n    return this.values;\n  }\n\n  getSelected(): FacetValue[] {\n    return _.filter(this.values, (value: FacetValue) => value.selected);\n  }\n\n  getExcluded(): FacetValue[] {\n    return _.filter(this.values, (value: FacetValue) => value.excluded);\n  }\n\n  hasSelectedOrExcludedValues(): boolean {\n    return this.getSelected().length != 0 || this.getExcluded().length != 0;\n  }\n\n  reset() {\n    _.each(this.values, (elem: FacetValue) => elem.reset());\n  }\n\n  importActiveValuesFromOtherList(other: FacetValues) {\n    Assert.exists(other);\n\n    _.each(other.getSelected(), (otherValue: FacetValue) => {\n      var myValue = this.get(otherValue.value);\n      if (Utils.exists(myValue)) {\n        myValue.selected = true;\n      } else if (otherValue.occurrences != 0) {\n        var occurrences = otherValue.occurrences;\n        var clone = otherValue.cloneWithZeroOccurrences();\n        clone.occurrences = occurrences;\n        this.values.push(clone);\n      } else {\n        this.values.push(otherValue.cloneWithZeroOccurrences());\n      }\n    });\n\n    _.each(other.getExcluded(), (otherValue: FacetValue) => {\n      var myValue = this.get(otherValue.value);\n      if (Utils.exists(myValue)) {\n        myValue.excluded = true;\n      } else if (otherValue.occurrences != 0) {\n        var occurrences = otherValue.occurrences;\n        var clone = otherValue.cloneWithZeroOccurrences();\n        clone.occurrences = occurrences;\n        this.values.push(clone);\n      } else {\n        this.values.push(otherValue.cloneWithZeroOccurrences());\n      }\n    });\n  }\n\n  updateCountsFromNewValues(newValues: FacetValues) {\n    Assert.exists(newValues);\n\n    this.values = _.map(this.values, (myValue: FacetValue) => {\n      var newValue = newValues.get(myValue.value);\n      if (Utils.exists(newValue)) {\n        myValue.updateCountsFromNewValue(newValue);\n        return myValue;\n      } else {\n        return myValue.cloneWithZeroOccurrences();\n      }\n    });\n  }\n\n  updateDeltaWithFilteredFacetValues(filtered: FacetValues) {\n    Assert.exists(filtered);\n    _.each(this.values, (unfilteredValue: FacetValue) => {\n      var filteredValue = filtered.get(unfilteredValue.value);\n      unfilteredValue.waitingForDelta = false;\n      if (Utils.exists(filteredValue)) {\n        if (unfilteredValue.occurrences - filteredValue.occurrences > 0) {\n          unfilteredValue.delta = unfilteredValue.occurrences - filteredValue.occurrences;\n        } else {\n          unfilteredValue.delta = null;\n        }\n      } else if (!unfilteredValue.selected && !unfilteredValue.excluded) {\n        unfilteredValue.delta = unfilteredValue.occurrences;\n      }\n    });\n  }\n\n  mergeWithUnfilteredFacetValues(unfiltered: FacetValues) {\n    Assert.exists(unfiltered);\n\n    var values: FacetValue[] = [];\n    _.each(unfiltered.values, (unfilteredValue: FacetValue) => {\n      var filteredValue = this.get(unfilteredValue.value);\n      if (Utils.exists(filteredValue)) {\n        if (filteredValue.occurrences == unfilteredValue.occurrences) {\n          values.push(filteredValue);\n        } else {\n          values.push(unfilteredValue.cloneWithDelta(unfilteredValue.occurrences, unfilteredValue.occurrences - filteredValue.occurrences));\n        }\n      } else {\n        values.push(unfilteredValue.cloneWithDelta(unfilteredValue.occurrences, unfilteredValue.occurrences));\n      }\n    });\n\n    var index = 0;\n    _.each(this.values, (value: FacetValue) => {\n      var unfilteredValue = unfiltered.get(value.value);\n      if (!Utils.exists(unfilteredValue)) {\n        if (value.selected || value.excluded) {\n          values.splice(index, 0, value);\n          index++;\n        }\n      } else {\n        for (var i = 0; i < values.length; i++) {\n          if (values[i].value == value.value) {\n            index = i + 1;\n            break;\n          }\n        }\n      }\n    });\n    this.values = values;\n  }\n\n  sortValuesDependingOnStatus(excludeLastIndex?: number) {\n    this.values = _.sortBy(this.values, (value: FacetValue) => {\n      if (value.selected) {\n        return 1;\n      } else if (value.excluded) {\n        return 3;\n      } else {\n        return 2;\n      }\n    });\n    if (excludeLastIndex != null && excludeLastIndex < this.values.length) {\n      var nbExclude = this.getExcluded().length;\n      var excludes = this.values.splice(this.values.length - nbExclude, nbExclude);\n      Array.prototype.splice.apply(this.values, (<any[]>[excludeLastIndex - nbExclude, 0]).concat(excludes));\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Facet/FacetValues.ts\n **/","l":{"1":1,"2":1,"6":1,"12":2,"19":435,"20":435,"21":435,"23":1,"24":12,"25":12,"28":1,"29":0,"30":0,"31":0,"32":0,"35":1,"36":4,"37":4,"38":4,"39":4,"42":1,"43":0,"44":0,"45":0,"46":0,"47":0,"50":1,"51":405,"52":405,"53":39,"55":366,"56":241,"59":405,"62":1,"63":5,"64":5,"66":0,"70":1,"71":82,"72":62,"73":20,"74":20,"75":0,"77":20,"80":0,"84":1,"85":124,"87":124,"88":124,"89":124,"91":124,"94":1,"95":282,"97":282,"99":282,"100":282,"101":282,"102":282,"103":282,"104":282,"106":282,"109":1,"110":29,"112":29,"113":29,"114":29,"115":29,"117":29,"119":1,"121":1,"124":1,"125":172,"126":282,"128":140,"132":1,"133":37,"134":37,"135":37,"138":1,"139":0,"140":0,"141":0,"144":1,"145":0,"148":1,"149":192,"152":1,"153":0,"154":0,"155":0,"158":1,"159":4487,"162":1,"163":252,"166":1,"167":125,"170":1,"171":3636,"174":1,"175":2197,"178":1,"179":567,"182":1,"183":12,"186":46,"187":45,"189":45,"190":15,"191":15,"192":11,"193":4,"194":4,"195":4,"196":4,"197":4,"199":0,"203":45,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"213":0,"218":1,"219":0,"221":0,"222":0,"223":0,"224":0,"225":0,"227":0,"232":1,"233":7,"234":7,"235":52,"236":52,"237":52,"238":0,"239":0,"241":0,"243":52,"244":40,"249":1,"250":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"259":0,"262":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"275":0,"276":0,"277":0,"278":0,"283":0,"286":1,"287":45,"288":286,"289":15,"290":271,"291":0,"293":271,"296":45,"297":6,"298":6,"299":6,"302":1}},"src/ui/Facet/FacetSearch.ts":{"path":"src/ui/Facet/FacetSearch.ts","statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":30}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":35}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":40}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":71}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":52}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":52}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":62}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":99}},"9":{"start":{"line":13,"column":0},"end":{"line":13,"column":44}},"10":{"start":{"line":14,"column":0},"end":{"line":14,"column":46}},"11":{"start":{"line":15,"column":0},"end":{"line":15,"column":90}},"12":{"start":{"line":16,"column":0},"end":{"line":16,"column":40}},"13":{"start":{"line":17,"column":0},"end":{"line":17,"column":41}},"14":{"start":{"line":18,"column":0},"end":{"line":18,"column":51}},"15":{"start":{"line":19,"column":0},"end":{"line":19,"column":40}},"16":{"start":{"line":20,"column":0},"end":{"line":20,"column":41}},"17":{"start":{"line":21,"column":0},"end":{"line":21,"column":52}},"18":{"start":{"line":23,"column":0},"end":{"line":23,"column":54}},"19":{"start":{"line":24,"column":0},"end":{"line":24,"column":51}},"20":{"start":{"line":25,"column":0},"end":{"line":25,"column":67}},"21":{"start":{"line":26,"column":0},"end":{"line":26,"column":92}},"22":{"start":{"line":27,"column":0},"end":{"line":27,"column":52}},"23":{"start":{"line":32,"column":0},"end":{"line":636,"column":1}},"24":{"start":{"line":51,"column":2},"end":{"line":69,"column":3}},"25":{"start":{"line":51,"column":21},"end":{"line":51,"column":33}},"26":{"start":{"line":51,"column":42},"end":{"line":51,"column":97}},"27":{"start":{"line":51,"column":107},"end":{"line":51,"column":124}},"28":{"start":{"line":44,"column":10},"end":{"line":44,"column":50}},"29":{"start":{"line":46,"column":10},"end":{"line":46,"column":35}},"30":{"start":{"line":49,"column":10},"end":{"line":49,"column":48}},"31":{"start":{"line":52,"column":4},"end":{"line":52,"column":54}},"32":{"start":{"line":53,"column":4},"end":{"line":53,"column":66}},"33":{"start":{"line":54,"column":4},"end":{"line":62,"column":12}},"34":{"start":{"line":57,"column":6},"end":{"line":61,"column":7}},"35":{"start":{"line":58,"column":8},"end":{"line":60,"column":9}},"36":{"start":{"line":59,"column":10},"end":{"line":59,"column":39}},"37":{"start":{"line":63,"column":4},"end":{"line":65,"column":5}},"38":{"start":{"line":64,"column":6},"end":{"line":64,"column":35}},"39":{"start":{"line":66,"column":4},"end":{"line":66,"column":61}},"40":{"start":{"line":66,"column":44},"end":{"line":66,"column":59}},"41":{"start":{"line":67,"column":4},"end":{"line":67,"column":78}},"42":{"start":{"line":67,"column":53},"end":{"line":67,"column":76}},"43":{"start":{"line":68,"column":4},"end":{"line":68,"column":74}},"44":{"start":{"line":68,"column":55},"end":{"line":68,"column":72}},"45":{"start":{"line":71,"column":9},"end":{"line":73,"column":3}},"46":{"start":{"line":72,"column":4},"end":{"line":72,"column":85}},"47":{"start":{"line":79,"column":9},"end":{"line":85,"column":3}},"48":{"start":{"line":80,"column":4},"end":{"line":84,"column":5}},"49":{"start":{"line":81,"column":6},"end":{"line":81,"column":38}},"50":{"start":{"line":83,"column":6},"end":{"line":83,"column":36}},"51":{"start":{"line":90,"column":9},"end":{"line":118,"column":3}},"52":{"start":{"line":90,"column":31},"end":{"line":90,"column":64}},"53":{"start":{"line":91,"column":4},"end":{"line":117,"column":5}},"54":{"start":{"line":92,"column":6},"end":{"line":95,"column":7}},"55":{"start":{"line":93,"column":8},"end":{"line":93,"column":51}},"56":{"start":{"line":94,"column":8},"end":{"line":94,"column":84}},"57":{"start":{"line":97,"column":6},"end":{"line":99,"column":7}},"58":{"start":{"line":98,"column":8},"end":{"line":98,"column":46}},"59":{"start":{"line":100,"column":6},"end":{"line":100,"column":38}},"60":{"start":{"line":101,"column":6},"end":{"line":116,"column":7}},"61":{"start":{"line":102,"column":8},"end":{"line":104,"column":9}},"62":{"start":{"line":103,"column":10},"end":{"line":103,"column":48}},"63":{"start":{"line":105,"column":8},"end":{"line":105,"column":24}},"64":{"start":{"line":106,"column":8},"end":{"line":111,"column":11}},"65":{"start":{"line":107,"column":10},"end":{"line":109,"column":12}},"66":{"start":{"line":110,"column":10},"end":{"line":110,"column":77}},"67":{"start":{"line":113,"column":8},"end":{"line":115,"column":10}},"68":{"start":{"line":122,"column":9},"end":{"line":133,"column":3}},"69":{"start":{"line":123,"column":4},"end":{"line":123,"column":43}},"70":{"start":{"line":124,"column":4},"end":{"line":124,"column":48}},"71":{"start":{"line":125,"column":4},"end":{"line":125,"column":35}},"72":{"start":{"line":126,"column":4},"end":{"line":126,"column":34}},"73":{"start":{"line":127,"column":4},"end":{"line":127,"column":65}},"74":{"start":{"line":128,"column":4},"end":{"line":128,"column":64}},"75":{"start":{"line":129,"column":4},"end":{"line":129,"column":36}},"76":{"start":{"line":130,"column":4},"end":{"line":130,"column":26}},"77":{"start":{"line":131,"column":4},"end":{"line":131,"column":26}},"78":{"start":{"line":132,"column":4},"end":{"line":132,"column":47}},"79":{"start":{"line":139,"column":9},"end":{"line":169,"column":3}},"80":{"start":{"line":139,"column":2},"end":{"line":169,"column":3}},"81":{"start":{"line":140,"column":4},"end":{"line":140,"column":43}},"82":{"start":{"line":141,"column":4},"end":{"line":141,"column":43}},"83":{"start":{"line":143,"column":4},"end":{"line":143,"column":58}},"84":{"start":{"line":145,"column":4},"end":{"line":145,"column":77}},"85":{"start":{"line":147,"column":4},"end":{"line":168,"column":5}},"86":{"start":{"line":148,"column":6},"end":{"line":157,"column":9}},"87":{"start":{"line":149,"column":8},"end":{"line":152,"column":28}},"88":{"start":{"line":153,"column":8},"end":{"line":153,"column":70}},"89":{"start":{"line":154,"column":8},"end":{"line":154,"column":63}},"90":{"start":{"line":155,"column":8},"end":{"line":155,"column":47}},"91":{"start":{"line":156,"column":8},"end":{"line":156,"column":44}},"92":{"start":{"line":159,"column":6},"end":{"line":167,"column":9}},"93":{"start":{"line":162,"column":8},"end":{"line":165,"column":9}},"94":{"start":{"line":163,"column":10},"end":{"line":163,"column":80}},"95":{"start":{"line":164,"column":10},"end":{"line":164,"column":49}},"96":{"start":{"line":166,"column":8},"end":{"line":166,"column":44}},"97":{"start":{"line":174,"column":9},"end":{"line":177,"column":3}},"98":{"start":{"line":175,"column":4},"end":{"line":175,"column":23}},"99":{"start":{"line":176,"column":4},"end":{"line":176,"column":34}},"100":{"start":{"line":179,"column":10},"end":{"line":182,"column":3}},"101":{"start":{"line":180,"column":4},"end":{"line":181,"column":66}},"102":{"start":{"line":184,"column":10},"end":{"line":230,"column":3}},"103":{"start":{"line":184,"column":2},"end":{"line":230,"column":3}},"104":{"start":{"line":185,"column":4},"end":{"line":185,"column":48}},"105":{"start":{"line":186,"column":4},"end":{"line":186,"column":51}},"106":{"start":{"line":188,"column":4},"end":{"line":188,"column":51}},"107":{"start":{"line":189,"column":4},"end":{"line":189,"column":64}},"108":{"start":{"line":190,"column":4},"end":{"line":190,"column":44}},"109":{"start":{"line":192,"column":4},"end":{"line":192,"column":46}},"110":{"start":{"line":193,"column":4},"end":{"line":193,"column":64}},"111":{"start":{"line":194,"column":4},"end":{"line":194,"column":39}},"112":{"start":{"line":195,"column":4},"end":{"line":195,"column":43}},"113":{"start":{"line":197,"column":4},"end":{"line":197,"column":47}},"114":{"start":{"line":198,"column":4},"end":{"line":198,"column":56}},"115":{"start":{"line":199,"column":4},"end":{"line":199,"column":62}},"116":{"start":{"line":200,"column":4},"end":{"line":200,"column":38}},"117":{"start":{"line":201,"column":4},"end":{"line":201,"column":40}},"118":{"start":{"line":204,"column":4},"end":{"line":204,"column":52}},"119":{"start":{"line":205,"column":4},"end":{"line":205,"column":46}},"120":{"start":{"line":206,"column":4},"end":{"line":206,"column":43}},"121":{"start":{"line":208,"column":4},"end":{"line":208,"column":48}},"122":{"start":{"line":209,"column":4},"end":{"line":209,"column":58}},"123":{"start":{"line":210,"column":4},"end":{"line":210,"column":41}},"124":{"start":{"line":212,"column":4},"end":{"line":212,"column":49}},"125":{"start":{"line":213,"column":4},"end":{"line":213,"column":44}},"126":{"start":{"line":214,"column":4},"end":{"line":214,"column":53}},"127":{"start":{"line":215,"column":4},"end":{"line":215,"column":50}},"128":{"start":{"line":216,"column":4},"end":{"line":216,"column":132}},"129":{"start":{"line":217,"column":4},"end":{"line":217,"column":56}},"130":{"start":{"line":218,"column":4},"end":{"line":218,"column":51}},"131":{"start":{"line":219,"column":4},"end":{"line":219,"column":40}},"132":{"start":{"line":221,"column":4},"end":{"line":221,"column":85}},"133":{"start":{"line":221,"column":53},"end":{"line":221,"column":83}},"134":{"start":{"line":222,"column":4},"end":{"line":222,"column":76}},"135":{"start":{"line":222,"column":45},"end":{"line":222,"column":74}},"136":{"start":{"line":223,"column":4},"end":{"line":223,"column":76}},"137":{"start":{"line":223,"column":45},"end":{"line":223,"column":74}},"138":{"start":{"line":225,"column":4},"end":{"line":225,"column":36}},"139":{"start":{"line":226,"column":4},"end":{"line":226,"column":46}},"140":{"start":{"line":227,"column":4},"end":{"line":227,"column":46}},"141":{"start":{"line":229,"column":4},"end":{"line":229,"column":23}},"142":{"start":{"line":232,"column":10},"end":{"line":254,"column":3}},"143":{"start":{"line":232,"column":2},"end":{"line":254,"column":3}},"144":{"start":{"line":233,"column":4},"end":{"line":233,"column":47}},"145":{"start":{"line":234,"column":4},"end":{"line":234,"column":60}},"146":{"start":{"line":235,"column":4},"end":{"line":235,"column":33}},"147":{"start":{"line":236,"column":4},"end":{"line":236,"column":41}},"148":{"start":{"line":237,"column":4},"end":{"line":252,"column":6}},"149":{"start":{"line":238,"column":6},"end":{"line":238,"column":49}},"150":{"start":{"line":239,"column":6},"end":{"line":239,"column":38}},"151":{"start":{"line":241,"column":6},"end":{"line":249,"column":9}},"152":{"start":{"line":244,"column":10},"end":{"line":244,"column":41}},"153":{"start":{"line":245,"column":10},"end":{"line":245,"column":22}},"154":{"start":{"line":250,"column":6},"end":{"line":250,"column":28}},"155":{"start":{"line":251,"column":6},"end":{"line":251,"column":25}},"156":{"start":{"line":253,"column":4},"end":{"line":253,"column":18}},"157":{"start":{"line":256,"column":10},"end":{"line":266,"column":3}},"158":{"start":{"line":257,"column":4},"end":{"line":257,"column":25}},"159":{"start":{"line":258,"column":4},"end":{"line":258,"column":41}},"160":{"start":{"line":259,"column":4},"end":{"line":259,"column":41}},"161":{"start":{"line":261,"column":4},"end":{"line":265,"column":5}},"162":{"start":{"line":262,"column":6},"end":{"line":262,"column":52}},"163":{"start":{"line":264,"column":6},"end":{"line":264,"column":68}},"164":{"start":{"line":268,"column":10},"end":{"line":271,"column":3}},"165":{"start":{"line":269,"column":4},"end":{"line":269,"column":56}},"166":{"start":{"line":270,"column":4},"end":{"line":270,"column":64}},"167":{"start":{"line":274,"column":10},"end":{"line":282,"column":3}},"168":{"start":{"line":275,"column":4},"end":{"line":281,"column":5}},"169":{"start":{"line":276,"column":6},"end":{"line":280,"column":7}},"170":{"start":{"line":277,"column":8},"end":{"line":277,"column":91}},"171":{"start":{"line":279,"column":8},"end":{"line":279,"column":70}},"172":{"start":{"line":284,"column":10},"end":{"line":288,"column":3}},"173":{"start":{"line":285,"column":4},"end":{"line":287,"column":5}},"174":{"start":{"line":286,"column":6},"end":{"line":286,"column":37}},"175":{"start":{"line":290,"column":10},"end":{"line":294,"column":3}},"176":{"start":{"line":291,"column":4},"end":{"line":291,"column":25}},"177":{"start":{"line":292,"column":4},"end":{"line":292,"column":26}},"178":{"start":{"line":293,"column":4},"end":{"line":293,"column":35}},"179":{"start":{"line":296,"column":10},"end":{"line":303,"column":3}},"180":{"start":{"line":297,"column":4},"end":{"line":302,"column":5}},"181":{"start":{"line":298,"column":6},"end":{"line":298,"column":28}},"182":{"start":{"line":300,"column":6},"end":{"line":300,"column":28}},"183":{"start":{"line":301,"column":6},"end":{"line":301,"column":66}},"184":{"start":{"line":305,"column":10},"end":{"line":328,"column":3}},"185":{"start":{"line":306,"column":4},"end":{"line":327,"column":5}},"186":{"start":{"line":308,"column":8},"end":{"line":308,"column":60}},"187":{"start":{"line":309,"column":8},"end":{"line":309,"column":14}},"188":{"start":{"line":311,"column":8},"end":{"line":311,"column":52}},"189":{"start":{"line":312,"column":8},"end":{"line":312,"column":14}},"190":{"start":{"line":314,"column":8},"end":{"line":314,"column":39}},"191":{"start":{"line":315,"column":8},"end":{"line":315,"column":14}},"192":{"start":{"line":317,"column":8},"end":{"line":317,"column":37}},"193":{"start":{"line":318,"column":8},"end":{"line":318,"column":14}},"194":{"start":{"line":320,"column":8},"end":{"line":320,"column":35}},"195":{"start":{"line":321,"column":8},"end":{"line":321,"column":14}},"196":{"start":{"line":323,"column":8},"end":{"line":323,"column":38}},"197":{"start":{"line":324,"column":8},"end":{"line":324,"column":56}},"198":{"start":{"line":325,"column":8},"end":{"line":325,"column":70}},"199":{"start":{"line":326,"column":8},"end":{"line":326,"column":14}},"200":{"start":{"line":330,"column":10},"end":{"line":341,"column":3}},"201":{"start":{"line":331,"column":4},"end":{"line":340,"column":5}},"202":{"start":{"line":332,"column":6},"end":{"line":332,"column":68}},"203":{"start":{"line":334,"column":6},"end":{"line":339,"column":7}},"204":{"start":{"line":335,"column":8},"end":{"line":335,"column":56}},"205":{"start":{"line":336,"column":8},"end":{"line":336,"column":39}},"206":{"start":{"line":337,"column":13},"end":{"line":339,"column":7}},"207":{"start":{"line":338,"column":8},"end":{"line":338,"column":45}},"208":{"start":{"line":343,"column":10},"end":{"line":349,"column":3}},"209":{"start":{"line":344,"column":4},"end":{"line":348,"column":5}},"210":{"start":{"line":345,"column":6},"end":{"line":345,"column":55}},"211":{"start":{"line":346,"column":6},"end":{"line":346,"column":37}},"212":{"start":{"line":347,"column":6},"end":{"line":347,"column":28}},"213":{"start":{"line":351,"column":10},"end":{"line":365,"column":3}},"214":{"start":{"line":351,"column":2},"end":{"line":365,"column":3}},"215":{"start":{"line":352,"column":4},"end":{"line":352,"column":43}},"216":{"start":{"line":353,"column":4},"end":{"line":364,"column":44}},"217":{"start":{"line":354,"column":6},"end":{"line":354,"column":62}},"218":{"start":{"line":355,"column":6},"end":{"line":363,"column":7}},"219":{"start":{"line":356,"column":8},"end":{"line":360,"column":9}},"220":{"start":{"line":357,"column":10},"end":{"line":357,"column":45}},"221":{"start":{"line":359,"column":10},"end":{"line":359,"column":41}},"222":{"start":{"line":362,"column":8},"end":{"line":362,"column":43}},"223":{"start":{"line":367,"column":10},"end":{"line":378,"column":3}},"224":{"start":{"line":368,"column":4},"end":{"line":371,"column":5}},"225":{"start":{"line":369,"column":6},"end":{"line":369,"column":44}},"226":{"start":{"line":370,"column":6},"end":{"line":370,"column":42}},"227":{"start":{"line":372,"column":4},"end":{"line":375,"column":5}},"228":{"start":{"line":373,"column":6},"end":{"line":373,"column":63}},"229":{"start":{"line":374,"column":6},"end":{"line":374,"column":42}},"230":{"start":{"line":377,"column":4},"end":{"line":377,"column":43}},"231":{"start":{"line":380,"column":10},"end":{"line":401,"column":3}},"232":{"start":{"line":381,"column":4},"end":{"line":381,"column":31}},"233":{"start":{"line":382,"column":4},"end":{"line":382,"column":100}},"234":{"start":{"line":383,"column":4},"end":{"line":400,"column":5}},"235":{"start":{"line":384,"column":6},"end":{"line":384,"column":67}},"236":{"start":{"line":385,"column":6},"end":{"line":385,"column":83}},"237":{"start":{"line":386,"column":6},"end":{"line":386,"column":68}},"238":{"start":{"line":387,"column":6},"end":{"line":389,"column":7}},"239":{"start":{"line":388,"column":8},"end":{"line":388,"column":40}},"240":{"start":{"line":390,"column":6},"end":{"line":390,"column":54}},"241":{"start":{"line":391,"column":6},"end":{"line":391,"column":80}},"242":{"start":{"line":392,"column":6},"end":{"line":392,"column":48}},"243":{"start":{"line":394,"column":6},"end":{"line":399,"column":7}},"244":{"start":{"line":395,"column":8},"end":{"line":395,"column":39}},"245":{"start":{"line":397,"column":8},"end":{"line":397,"column":40}},"246":{"start":{"line":398,"column":8},"end":{"line":398,"column":66}},"247":{"start":{"line":403,"column":10},"end":{"line":443,"column":3}},"248":{"start":{"line":403,"column":2},"end":{"line":443,"column":3}},"249":{"start":{"line":404,"column":4},"end":{"line":404,"column":31}},"250":{"start":{"line":405,"column":4},"end":{"line":407,"column":5}},"251":{"start":{"line":406,"column":6},"end":{"line":406,"column":37}},"252":{"start":{"line":408,"column":4},"end":{"line":408,"column":49}},"253":{"start":{"line":409,"column":4},"end":{"line":416,"column":5}},"254":{"start":{"line":410,"column":6},"end":{"line":410,"column":123}},"255":{"start":{"line":411,"column":6},"end":{"line":411,"column":38}},"256":{"start":{"line":412,"column":6},"end":{"line":412,"column":76}},"257":{"start":{"line":412,"column":38},"end":{"line":412,"column":74}},"258":{"start":{"line":413,"column":6},"end":{"line":415,"column":7}},"259":{"start":{"line":414,"column":8},"end":{"line":414,"column":50}},"260":{"start":{"line":417,"column":4},"end":{"line":419,"column":7}},"261":{"start":{"line":418,"column":6},"end":{"line":418,"column":43}},"262":{"start":{"line":420,"column":4},"end":{"line":422,"column":6}},"263":{"start":{"line":421,"column":6},"end":{"line":421,"column":50}},"264":{"start":{"line":423,"column":4},"end":{"line":427,"column":5}},"265":{"start":{"line":424,"column":6},"end":{"line":424,"column":107}},"266":{"start":{"line":426,"column":6},"end":{"line":426,"column":69}},"267":{"start":{"line":429,"column":4},"end":{"line":434,"column":5}},"268":{"start":{"line":430,"column":6},"end":{"line":430,"column":59}},"269":{"start":{"line":431,"column":6},"end":{"line":431,"column":75}},"270":{"start":{"line":432,"column":6},"end":{"line":432,"column":45}},"271":{"start":{"line":433,"column":6},"end":{"line":433,"column":48}},"272":{"start":{"line":435,"column":4},"end":{"line":438,"column":6}},"273":{"start":{"line":436,"column":6},"end":{"line":436,"column":57}},"274":{"start":{"line":437,"column":6},"end":{"line":437,"column":47}},"275":{"start":{"line":440,"column":4},"end":{"line":442,"column":5}},"276":{"start":{"line":441,"column":6},"end":{"line":441,"column":87}},"277":{"start":{"line":441,"column":48},"end":{"line":441,"column":85}},"278":{"start":{"line":445,"column":10},"end":{"line":466,"column":3}},"279":{"start":{"line":445,"column":2},"end":{"line":466,"column":3}},"280":{"start":{"line":446,"column":4},"end":{"line":448,"column":7}},"281":{"start":{"line":447,"column":6},"end":{"line":447,"column":35}},"282":{"start":{"line":451,"column":4},"end":{"line":451,"column":30}},"283":{"start":{"line":452,"column":4},"end":{"line":452,"column":30}},"284":{"start":{"line":453,"column":4},"end":{"line":453,"column":58}},"285":{"start":{"line":453,"column":35},"end":{"line":453,"column":56}},"286":{"start":{"line":454,"column":4},"end":{"line":454,"column":57}},"287":{"start":{"line":454,"column":35},"end":{"line":454,"column":55}},"288":{"start":{"line":455,"column":4},"end":{"line":455,"column":57}},"289":{"start":{"line":455,"column":35},"end":{"line":455,"column":55}},"290":{"start":{"line":457,"column":4},"end":{"line":465,"column":7}},"291":{"start":{"line":458,"column":6},"end":{"line":462,"column":7}},"292":{"start":{"line":459,"column":8},"end":{"line":461,"column":13}},"293":{"start":{"line":460,"column":10},"end":{"line":460,"column":41}},"294":{"start":{"line":463,"column":6},"end":{"line":463,"column":28}},"295":{"start":{"line":464,"column":6},"end":{"line":464,"column":28}},"296":{"start":{"line":468,"column":10},"end":{"line":479,"column":3}},"297":{"start":{"line":469,"column":4},"end":{"line":471,"column":5}},"298":{"start":{"line":470,"column":6},"end":{"line":470,"column":13}},"299":{"start":{"line":473,"column":4},"end":{"line":473,"column":56}},"300":{"start":{"line":474,"column":4},"end":{"line":474,"column":55}},"301":{"start":{"line":475,"column":4},"end":{"line":475,"column":70}},"302":{"start":{"line":476,"column":4},"end":{"line":478,"column":5}},"303":{"start":{"line":477,"column":6},"end":{"line":477,"column":68}},"304":{"start":{"line":481,"column":10},"end":{"line":486,"column":3}},"305":{"start":{"line":482,"column":4},"end":{"line":482,"column":55}},"306":{"start":{"line":483,"column":4},"end":{"line":483,"column":66}},"307":{"start":{"line":484,"column":4},"end":{"line":484,"column":29}},"308":{"start":{"line":485,"column":4},"end":{"line":485,"column":18}},"309":{"start":{"line":488,"column":10},"end":{"line":492,"column":3}},"310":{"start":{"line":489,"column":4},"end":{"line":489,"column":72}},"311":{"start":{"line":490,"column":4},"end":{"line":490,"column":28}},"312":{"start":{"line":491,"column":4},"end":{"line":491,"column":18}},"313":{"start":{"line":494,"column":12},"end":{"line":499,"column":3}},"314":{"start":{"line":495,"column":4},"end":{"line":495,"column":55}},"315":{"start":{"line":496,"column":4},"end":{"line":496,"column":71}},"316":{"start":{"line":497,"column":4},"end":{"line":497,"column":66}},"317":{"start":{"line":498,"column":4},"end":{"line":498,"column":18}},"318":{"start":{"line":501,"column":10},"end":{"line":503,"column":3}},"319":{"start":{"line":502,"column":4},"end":{"line":502,"column":33}},"320":{"start":{"line":505,"column":10},"end":{"line":507,"column":3}},"321":{"start":{"line":506,"column":4},"end":{"line":506,"column":46}},"322":{"start":{"line":509,"column":10},"end":{"line":519,"column":3}},"323":{"start":{"line":509,"column":2},"end":{"line":519,"column":3}},"324":{"start":{"line":510,"column":4},"end":{"line":510,"column":80}},"325":{"start":{"line":511,"column":4},"end":{"line":518,"column":6}},"326":{"start":{"line":512,"column":6},"end":{"line":512,"column":56}},"327":{"start":{"line":513,"column":6},"end":{"line":513,"column":130}},"328":{"start":{"line":515,"column":6},"end":{"line":515,"column":43}},"329":{"start":{"line":516,"column":6},"end":{"line":516,"column":87}},"330":{"start":{"line":517,"column":6},"end":{"line":517,"column":45}},"331":{"start":{"line":521,"column":10},"end":{"line":523,"column":3}},"332":{"start":{"line":522,"column":4},"end":{"line":522,"column":53}},"333":{"start":{"line":525,"column":10},"end":{"line":530,"column":3}},"334":{"start":{"line":526,"column":4},"end":{"line":528,"column":6}},"335":{"start":{"line":527,"column":6},"end":{"line":527,"column":50}},"336":{"start":{"line":529,"column":4},"end":{"line":529,"column":41}},"337":{"start":{"line":532,"column":10},"end":{"line":544,"column":3}},"338":{"start":{"line":533,"column":4},"end":{"line":533,"column":64}},"339":{"start":{"line":534,"column":4},"end":{"line":536,"column":6}},"340":{"start":{"line":535,"column":6},"end":{"line":535,"column":50}},"341":{"start":{"line":537,"column":4},"end":{"line":537,"column":47}},"342":{"start":{"line":538,"column":4},"end":{"line":538,"column":49}},"343":{"start":{"line":539,"column":4},"end":{"line":543,"column":5}},"344":{"start":{"line":540,"column":6},"end":{"line":540,"column":60}},"345":{"start":{"line":542,"column":6},"end":{"line":542,"column":54}},"346":{"start":{"line":546,"column":10},"end":{"line":559,"column":3}},"347":{"start":{"line":547,"column":4},"end":{"line":547,"column":64}},"348":{"start":{"line":548,"column":4},"end":{"line":550,"column":6}},"349":{"start":{"line":549,"column":6},"end":{"line":549,"column":41}},"350":{"start":{"line":552,"column":4},"end":{"line":552,"column":47}},"351":{"start":{"line":553,"column":4},"end":{"line":553,"column":49}},"352":{"start":{"line":554,"column":4},"end":{"line":558,"column":5}},"353":{"start":{"line":555,"column":6},"end":{"line":555,"column":60}},"354":{"start":{"line":557,"column":6},"end":{"line":557,"column":78}},"355":{"start":{"line":561,"column":10},"end":{"line":563,"column":3}},"356":{"start":{"line":561,"column":25},"end":{"line":561,"column":52}},"357":{"start":{"line":562,"column":4},"end":{"line":562,"column":57}},"358":{"start":{"line":565,"column":10},"end":{"line":576,"column":3}},"359":{"start":{"line":566,"column":4},"end":{"line":566,"column":64}},"360":{"start":{"line":567,"column":4},"end":{"line":567,"column":39}},"361":{"start":{"line":569,"column":4},"end":{"line":569,"column":80}},"362":{"start":{"line":570,"column":4},"end":{"line":575,"column":5}},"363":{"start":{"line":571,"column":6},"end":{"line":571,"column":30}},"364":{"start":{"line":572,"column":6},"end":{"line":572,"column":37}},"365":{"start":{"line":574,"column":6},"end":{"line":574,"column":22}},"366":{"start":{"line":578,"column":10},"end":{"line":582,"column":3}},"367":{"start":{"line":579,"column":4},"end":{"line":579,"column":63}},"368":{"start":{"line":580,"column":4},"end":{"line":580,"column":38}},"369":{"start":{"line":581,"column":4},"end":{"line":581,"column":55}},"370":{"start":{"line":584,"column":12},"end":{"line":586,"column":3}},"371":{"start":{"line":585,"column":4},"end":{"line":585,"column":28}},"372":{"start":{"line":588,"column":12},"end":{"line":609,"column":3}},"373":{"start":{"line":588,"column":2},"end":{"line":609,"column":3}},"374":{"start":{"line":589,"column":4},"end":{"line":589,"column":38}},"375":{"start":{"line":591,"column":4},"end":{"line":591,"column":65}},"376":{"start":{"line":592,"column":4},"end":{"line":592,"column":38}},"377":{"start":{"line":593,"column":4},"end":{"line":593,"column":75}},"378":{"start":{"line":594,"column":4},"end":{"line":607,"column":7}},"379":{"start":{"line":595,"column":6},"end":{"line":595,"column":37}},"380":{"start":{"line":596,"column":6},"end":{"line":596,"column":27}},"381":{"start":{"line":597,"column":6},"end":{"line":605,"column":8}},"382":{"start":{"line":598,"column":8},"end":{"line":598,"column":65}},"383":{"start":{"line":599,"column":8},"end":{"line":601,"column":9}},"384":{"start":{"line":600,"column":10},"end":{"line":600,"column":53}},"385":{"start":{"line":602,"column":8},"end":{"line":602,"column":35}},"386":{"start":{"line":603,"column":8},"end":{"line":603,"column":36}},"387":{"start":{"line":604,"column":8},"end":{"line":604,"column":26}},"388":{"start":{"line":606,"column":6},"end":{"line":606,"column":67}},"389":{"start":{"line":608,"column":4},"end":{"line":608,"column":35}},"390":{"start":{"line":611,"column":10},"end":{"line":615,"column":3}},"391":{"start":{"line":612,"column":4},"end":{"line":612,"column":30}},"392":{"start":{"line":613,"column":4},"end":{"line":613,"column":25}},"393":{"start":{"line":614,"column":4},"end":{"line":614,"column":48}},"394":{"start":{"line":617,"column":10},"end":{"line":621,"column":3}},"395":{"start":{"line":618,"column":4},"end":{"line":618,"column":30}},"396":{"start":{"line":619,"column":4},"end":{"line":619,"column":25}},"397":{"start":{"line":620,"column":4},"end":{"line":620,"column":49}},"398":{"start":{"line":623,"column":10},"end":{"line":635,"column":3}},"399":{"start":{"line":623,"column":2},"end":{"line":635,"column":3}},"400":{"start":{"line":624,"column":4},"end":{"line":628,"column":7}},"401":{"start":{"line":625,"column":6},"end":{"line":627,"column":7}},"402":{"start":{"line":626,"column":8},"end":{"line":626,"column":41}},"403":{"start":{"line":630,"column":4},"end":{"line":634,"column":7}},"404":{"start":{"line":631,"column":6},"end":{"line":633,"column":7}},"405":{"start":{"line":632,"column":8},"end":{"line":632,"column":42}},"406":{"start":{"line":636,"column":0},"end":{"line":636,"column":1}},"407":{"start":{"line":32,"column":13},"end":{"line":636,"column":1}}},"fnMap":{"1":{"name":"(anonymous_2961)","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":32}}},"2":{"name":"(anonymous_2962)","line":32,"loc":{"start":{"line":32,"column":0},"end":{"line":null,"column":-1}}},"3":{"name":"FacetSearch","line":51,"loc":{"start":{"line":51,"column":2},"end":{"line":51,"column":124}}},"4":{"name":"(anonymous_2964)","line":54,"loc":{"start":{"line":54,"column":31},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_2965)","line":63,"loc":{"start":{"line":63,"column":27},"end":{"line":63,"column":36}}},"6":{"name":"(anonymous_2966)","line":66,"loc":{"start":{"line":66,"column":38},"end":{"line":66,"column":43}}},"7":{"name":"(anonymous_2967)","line":67,"loc":{"start":{"line":67,"column":39},"end":{"line":67,"column":48}}},"8":{"name":"(anonymous_2968)","line":68,"loc":{"start":{"line":68,"column":49},"end":{"line":68,"column":54}}},"9":{"name":"(anonymous_2969)","line":71,"loc":{"start":{"line":71,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_2970)","line":79,"loc":{"start":{"line":79,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_2971)","line":90,"loc":{"start":{"line":90,"column":2},"end":{"line":90,"column":64}}},"12":{"name":"(anonymous_2972)","line":106,"loc":{"start":{"line":106,"column":66},"end":{"line":106,"column":79}}},"13":{"name":"(anonymous_2973)","line":122,"loc":{"start":{"line":122,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_2974)","line":139,"loc":{"start":{"line":139,"column":2},"end":{"line":139,"column":60}}},"15":{"name":"(anonymous_2975)","line":148,"loc":{"start":{"line":148,"column":35},"end":{"line":148,"column":67}}},"16":{"name":"(anonymous_2976)","line":159,"loc":{"start":{"line":159,"column":36},"end":{"line":159,"column":58}}},"17":{"name":"(anonymous_2977)","line":174,"loc":{"start":{"line":174,"column":2},"end":{"line":null,"column":-1}}},"18":{"name":"(anonymous_2978)","line":179,"loc":{"start":{"line":179,"column":2},"end":{"line":null,"column":-1}}},"19":{"name":"(anonymous_2979)","line":184,"loc":{"start":{"line":184,"column":2},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_2980)","line":221,"loc":{"start":{"line":221,"column":31},"end":{"line":221,"column":48}}},"21":{"name":"(anonymous_2981)","line":222,"loc":{"start":{"line":222,"column":31},"end":{"line":222,"column":40}}},"22":{"name":"(anonymous_2982)","line":223,"loc":{"start":{"line":223,"column":31},"end":{"line":223,"column":40}}},"23":{"name":"(anonymous_2983)","line":232,"loc":{"start":{"line":232,"column":2},"end":{"line":null,"column":-1}}},"24":{"name":"(anonymous_2984)","line":237,"loc":{"start":{"line":237,"column":27},"end":{"line":null,"column":-1}}},"25":{"name":"(anonymous_2985)","line":243,"loc":{"start":{"line":243,"column":20},"end":{"line":null,"column":-1}}},"26":{"name":"(anonymous_2986)","line":256,"loc":{"start":{"line":256,"column":2},"end":{"line":256,"column":53}}},"27":{"name":"(anonymous_2987)","line":268,"loc":{"start":{"line":268,"column":2},"end":{"line":null,"column":-1}}},"28":{"name":"(anonymous_2988)","line":274,"loc":{"start":{"line":274,"column":2},"end":{"line":null,"column":-1}}},"29":{"name":"(anonymous_2989)","line":284,"loc":{"start":{"line":284,"column":2},"end":{"line":284,"column":43}}},"30":{"name":"(anonymous_2990)","line":290,"loc":{"start":{"line":290,"column":2},"end":{"line":null,"column":-1}}},"31":{"name":"(anonymous_2991)","line":296,"loc":{"start":{"line":296,"column":2},"end":{"line":296,"column":49}}},"32":{"name":"(anonymous_2992)","line":305,"loc":{"start":{"line":305,"column":2},"end":{"line":305,"column":73}}},"33":{"name":"(anonymous_2993)","line":330,"loc":{"start":{"line":330,"column":2},"end":{"line":330,"column":79}}},"34":{"name":"(anonymous_2994)","line":343,"loc":{"start":{"line":343,"column":2},"end":{"line":343,"column":62}}},"35":{"name":"(anonymous_2995)","line":351,"loc":{"start":{"line":351,"column":2},"end":{"line":351,"column":61}}},"36":{"name":"(anonymous_2996)","line":353,"loc":{"start":{"line":353,"column":41},"end":{"line":null,"column":-1}}},"37":{"name":"(anonymous_2997)","line":367,"loc":{"start":{"line":367,"column":2},"end":{"line":null,"column":-1}}},"38":{"name":"(anonymous_2998)","line":373,"loc":{"start":{"line":373,"column":52},"end":{"line":373,"column":59}}},"39":{"name":"(anonymous_2999)","line":380,"loc":{"start":{"line":380,"column":2},"end":{"line":380,"column":116}}},"40":{"name":"(anonymous_3000)","line":403,"loc":{"start":{"line":403,"column":2},"end":{"line":403,"column":108}}},"41":{"name":"(anonymous_3001)","line":412,"loc":{"start":{"line":412,"column":32},"end":{"line":412,"column":37}}},"42":{"name":"(anonymous_3002)","line":417,"loc":{"start":{"line":417,"column":41},"end":{"line":417,"column":52}}},"43":{"name":"(anonymous_3003)","line":420,"loc":{"start":{"line":420,"column":98},"end":{"line":420,"column":123}}},"44":{"name":"(anonymous_3004)","line":435,"loc":{"start":{"line":435,"column":70},"end":{"line":435,"column":88}}},"45":{"name":"(anonymous_3005)","line":441,"loc":{"start":{"line":441,"column":42},"end":{"line":441,"column":47}}},"46":{"name":"(anonymous_3006)","line":445,"loc":{"start":{"line":445,"column":2},"end":{"line":445,"column":57}}},"47":{"name":"(anonymous_3007)","line":446,"loc":{"start":{"line":446,"column":29},"end":{"line":null,"column":-1}}},"48":{"name":"(anonymous_3008)","line":453,"loc":{"start":{"line":453,"column":29},"end":{"line":453,"column":34}}},"49":{"name":"(anonymous_3009)","line":454,"loc":{"start":{"line":454,"column":29},"end":{"line":454,"column":34}}},"50":{"name":"(anonymous_3010)","line":455,"loc":{"start":{"line":455,"column":29},"end":{"line":455,"column":34}}},"51":{"name":"(anonymous_3011)","line":457,"loc":{"start":{"line":457,"column":36},"end":{"line":null,"column":-1}}},"52":{"name":"(anonymous_3012)","line":459,"loc":{"start":{"line":459,"column":19},"end":{"line":null,"column":-1}}},"53":{"name":"(anonymous_3013)","line":468,"loc":{"start":{"line":468,"column":2},"end":{"line":null,"column":-1}}},"54":{"name":"(anonymous_3014)","line":481,"loc":{"start":{"line":481,"column":2},"end":{"line":null,"column":-1}}},"55":{"name":"(anonymous_3015)","line":488,"loc":{"start":{"line":488,"column":2},"end":{"line":null,"column":-1}}},"56":{"name":"(anonymous_3016)","line":494,"loc":{"start":{"line":494,"column":2},"end":{"line":null,"column":-1}}},"57":{"name":"(anonymous_3017)","line":501,"loc":{"start":{"line":501,"column":2},"end":{"line":null,"column":-1}}},"58":{"name":"(anonymous_3018)","line":505,"loc":{"start":{"line":505,"column":2},"end":{"line":null,"column":-1}}},"59":{"name":"(anonymous_3019)","line":509,"loc":{"start":{"line":509,"column":2},"end":{"line":null,"column":-1}}},"60":{"name":"(anonymous_3020)","line":511,"loc":{"start":{"line":511,"column":21},"end":{"line":511,"column":49}}},"61":{"name":"(anonymous_3021)","line":521,"loc":{"start":{"line":521,"column":2},"end":{"line":null,"column":-1}}},"62":{"name":"(anonymous_3022)","line":525,"loc":{"start":{"line":525,"column":2},"end":{"line":525,"column":47}}},"63":{"name":"(anonymous_3023)","line":526,"loc":{"start":{"line":526,"column":34},"end":{"line":526,"column":58}}},"64":{"name":"(anonymous_3024)","line":532,"loc":{"start":{"line":532,"column":2},"end":{"line":null,"column":-1}}},"65":{"name":"(anonymous_3025)","line":534,"loc":{"start":{"line":534,"column":34},"end":{"line":534,"column":58}}},"66":{"name":"(anonymous_3026)","line":546,"loc":{"start":{"line":546,"column":2},"end":{"line":null,"column":-1}}},"67":{"name":"(anonymous_3027)","line":548,"loc":{"start":{"line":548,"column":70},"end":{"line":548,"column":72}}},"68":{"name":"(anonymous_3028)","line":561,"loc":{"start":{"line":561,"column":2},"end":{"line":561,"column":52}}},"69":{"name":"(anonymous_3029)","line":565,"loc":{"start":{"line":565,"column":2},"end":{"line":null,"column":-1}}},"70":{"name":"(anonymous_3030)","line":578,"loc":{"start":{"line":578,"column":2},"end":{"line":null,"column":-1}}},"71":{"name":"(anonymous_3031)","line":584,"loc":{"start":{"line":584,"column":2},"end":{"line":null,"column":-1}}},"72":{"name":"(anonymous_3032)","line":588,"loc":{"start":{"line":588,"column":2},"end":{"line":null,"column":-1}}},"73":{"name":"(anonymous_3033)","line":594,"loc":{"start":{"line":594,"column":66},"end":{"line":594,"column":98}}},"74":{"name":"(anonymous_3034)","line":597,"loc":{"start":{"line":597,"column":43},"end":{"line":597,"column":54}}},"75":{"name":"(anonymous_3035)","line":611,"loc":{"start":{"line":611,"column":2},"end":{"line":null,"column":-1}}},"76":{"name":"(anonymous_3036)","line":617,"loc":{"start":{"line":617,"column":2},"end":{"line":null,"column":-1}}},"77":{"name":"(anonymous_3037)","line":623,"loc":{"start":{"line":623,"column":2},"end":{"line":null,"column":-1}}},"78":{"name":"(anonymous_3038)","line":624,"loc":{"start":{"line":624,"column":64},"end":{"line":624,"column":70}}},"79":{"name":"(anonymous_3039)","line":630,"loc":{"start":{"line":630,"column":62},"end":{"line":630,"column":68}}}},"branchMap":{"1":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":6},"end":{"line":57,"column":5}},{"start":{"line":57,"column":6},"end":{"line":57,"column":5}}]},"2":{"line":57,"type":"binary-expr","locations":[{"start":{"line":57,"column":10},"end":{"line":57,"column":37}},{"start":{"line":57,"column":41},"end":{"line":57,"column":94}}]},"3":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":8},"end":{"line":58,"column":7}},{"start":{"line":58,"column":8},"end":{"line":58,"column":7}}]},"4":{"line":72,"type":"binary-expr","locations":[{"start":{"line":72,"column":11},"end":{"line":72,"column":39}},{"start":{"line":72,"column":43},"end":{"line":72,"column":84}}]},"5":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":4},"end":{"line":80,"column":3}},{"start":{"line":80,"column":4},"end":{"line":80,"column":3}}]},"6":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":31},"end":{"line":90,"column":30}},{"start":{"line":90,"column":31},"end":{"line":90,"column":30}}]},"7":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":4},"end":{"line":91,"column":3}},{"start":{"line":91,"column":4},"end":{"line":91,"column":3}}]},"8":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":6},"end":{"line":92,"column":5}},{"start":{"line":92,"column":6},"end":{"line":92,"column":5}}]},"9":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":6},"end":{"line":97,"column":5}},{"start":{"line":97,"column":6},"end":{"line":97,"column":5}}]},"10":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":6},"end":{"line":101,"column":5}},{"start":{"line":101,"column":6},"end":{"line":101,"column":5}}]},"11":{"line":101,"type":"binary-expr","locations":[{"start":{"line":101,"column":10},"end":{"line":101,"column":44}},{"start":{"line":101,"column":48},"end":{"line":101,"column":73}}]},"12":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":8},"end":{"line":102,"column":7}},{"start":{"line":102,"column":8},"end":{"line":102,"column":7}}]},"13":{"line":147,"type":"if","locations":[{"start":{"line":147,"column":4},"end":{"line":147,"column":3}},{"start":{"line":147,"column":4},"end":{"line":147,"column":3}}]},"14":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":8},"end":{"line":162,"column":7}},{"start":{"line":162,"column":8},"end":{"line":162,"column":7}}]},"15":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":11},"end":{"line":180,"column":33}},{"start":{"line":180,"column":37},"end":{"line":180,"column":100}},{"start":{"line":181,"column":9},"end":{"line":181,"column":65}}]},"16":{"line":216,"type":"cond-expr","locations":[{"start":{"line":216,"column":86},"end":{"line":216,"column":88}},{"start":{"line":216,"column":91},"end":{"line":216,"column":130}}]},"17":{"line":261,"type":"if","locations":[{"start":{"line":261,"column":4},"end":{"line":261,"column":3}},{"start":{"line":261,"column":4},"end":{"line":261,"column":3}}]},"18":{"line":275,"type":"if","locations":[{"start":{"line":275,"column":4},"end":{"line":275,"column":3}},{"start":{"line":275,"column":4},"end":{"line":275,"column":3}}]},"19":{"line":276,"type":"if","locations":[{"start":{"line":276,"column":6},"end":{"line":276,"column":5}},{"start":{"line":276,"column":6},"end":{"line":276,"column":5}}]},"20":{"line":285,"type":"if","locations":[{"start":{"line":285,"column":4},"end":{"line":285,"column":3}},{"start":{"line":285,"column":4},"end":{"line":285,"column":3}}]},"21":{"line":285,"type":"binary-expr","locations":[{"start":{"line":285,"column":8},"end":{"line":285,"column":38}},{"start":{"line":285,"column":42},"end":{"line":285,"column":64}},{"start":{"line":285,"column":68},"end":{"line":285,"column":95}},{"start":{"line":285,"column":99},"end":{"line":285,"column":133}}]},"22":{"line":297,"type":"if","locations":[{"start":{"line":297,"column":4},"end":{"line":297,"column":3}},{"start":{"line":297,"column":4},"end":{"line":297,"column":3}}]},"23":{"line":307,"type":"switch","locations":[{"start":{"line":307,"column":6},"end":{"line":309,"column":14}},{"start":{"line":310,"column":6},"end":{"line":312,"column":14}},{"start":{"line":313,"column":6},"end":{"line":315,"column":14}},{"start":{"line":316,"column":6},"end":{"line":318,"column":14}},{"start":{"line":319,"column":6},"end":{"line":321,"column":14}},{"start":{"line":322,"column":6},"end":{"line":326,"column":14}}]},"24":{"line":331,"type":"if","locations":[{"start":{"line":331,"column":4},"end":{"line":331,"column":3}},{"start":{"line":331,"column":4},"end":{"line":331,"column":3}}]},"25":{"line":334,"type":"if","locations":[{"start":{"line":334,"column":6},"end":{"line":334,"column":5}},{"start":{"line":334,"column":6},"end":{"line":334,"column":5}}]},"26":{"line":337,"type":"if","locations":[{"start":{"line":337,"column":13},"end":{"line":337,"column":12}},{"start":{"line":337,"column":13},"end":{"line":337,"column":12}}]},"27":{"line":337,"type":"binary-expr","locations":[{"start":{"line":337,"column":17},"end":{"line":337,"column":69}},{"start":{"line":337,"column":73},"end":{"line":337,"column":81}}]},"28":{"line":344,"type":"if","locations":[{"start":{"line":344,"column":4},"end":{"line":344,"column":3}},{"start":{"line":344,"column":4},"end":{"line":344,"column":3}}]},"29":{"line":355,"type":"if","locations":[{"start":{"line":355,"column":6},"end":{"line":355,"column":5}},{"start":{"line":355,"column":6},"end":{"line":355,"column":5}}]},"30":{"line":356,"type":"if","locations":[{"start":{"line":356,"column":8},"end":{"line":356,"column":7}},{"start":{"line":356,"column":8},"end":{"line":356,"column":7}}]},"31":{"line":368,"type":"if","locations":[{"start":{"line":368,"column":4},"end":{"line":368,"column":3}},{"start":{"line":368,"column":4},"end":{"line":368,"column":3}}]},"32":{"line":372,"type":"if","locations":[{"start":{"line":372,"column":4},"end":{"line":372,"column":3}},{"start":{"line":372,"column":4},"end":{"line":372,"column":3}}]},"33":{"line":383,"type":"if","locations":[{"start":{"line":383,"column":4},"end":{"line":383,"column":3}},{"start":{"line":383,"column":4},"end":{"line":383,"column":3}}]},"34":{"line":387,"type":"if","locations":[{"start":{"line":387,"column":6},"end":{"line":387,"column":5}},{"start":{"line":387,"column":6},"end":{"line":387,"column":5}}]},"35":{"line":394,"type":"if","locations":[{"start":{"line":394,"column":6},"end":{"line":394,"column":5}},{"start":{"line":394,"column":6},"end":{"line":394,"column":5}}]},"36":{"line":405,"type":"if","locations":[{"start":{"line":405,"column":4},"end":{"line":405,"column":3}},{"start":{"line":405,"column":4},"end":{"line":405,"column":3}}]},"37":{"line":409,"type":"if","locations":[{"start":{"line":409,"column":4},"end":{"line":409,"column":3}},{"start":{"line":409,"column":4},"end":{"line":409,"column":3}}]},"38":{"line":413,"type":"if","locations":[{"start":{"line":413,"column":6},"end":{"line":413,"column":5}},{"start":{"line":413,"column":6},"end":{"line":413,"column":5}}]},"39":{"line":423,"type":"if","locations":[{"start":{"line":423,"column":4},"end":{"line":423,"column":3}},{"start":{"line":423,"column":4},"end":{"line":423,"column":3}}]},"40":{"line":429,"type":"if","locations":[{"start":{"line":429,"column":4},"end":{"line":429,"column":3}},{"start":{"line":429,"column":4},"end":{"line":429,"column":3}}]},"41":{"line":440,"type":"if","locations":[{"start":{"line":440,"column":4},"end":{"line":440,"column":3}},{"start":{"line":440,"column":4},"end":{"line":440,"column":3}}]},"42":{"line":458,"type":"if","locations":[{"start":{"line":458,"column":6},"end":{"line":458,"column":5}},{"start":{"line":458,"column":6},"end":{"line":458,"column":5}}]},"43":{"line":458,"type":"binary-expr","locations":[{"start":{"line":458,"column":10},"end":{"line":458,"column":24}},{"start":{"line":458,"column":28},"end":{"line":458,"column":42}}]},"44":{"line":469,"type":"if","locations":[{"start":{"line":469,"column":4},"end":{"line":469,"column":3}},{"start":{"line":469,"column":4},"end":{"line":469,"column":3}}]},"45":{"line":469,"type":"binary-expr","locations":[{"start":{"line":469,"column":8},"end":{"line":469,"column":31}},{"start":{"line":469,"column":35},"end":{"line":469,"column":77}},{"start":{"line":469,"column":81},"end":{"line":469,"column":104}}]},"46":{"line":476,"type":"if","locations":[{"start":{"line":476,"column":4},"end":{"line":476,"column":3}},{"start":{"line":476,"column":4},"end":{"line":476,"column":3}}]},"47":{"line":539,"type":"if","locations":[{"start":{"line":539,"column":4},"end":{"line":539,"column":3}},{"start":{"line":539,"column":4},"end":{"line":539,"column":3}}]},"48":{"line":554,"type":"if","locations":[{"start":{"line":554,"column":4},"end":{"line":554,"column":3}},{"start":{"line":554,"column":4},"end":{"line":554,"column":3}}]},"49":{"line":561,"type":"if","locations":[{"start":{"line":561,"column":25},"end":{"line":561,"column":24}},{"start":{"line":561,"column":25},"end":{"line":561,"column":24}}]},"50":{"line":570,"type":"if","locations":[{"start":{"line":570,"column":4},"end":{"line":570,"column":3}},{"start":{"line":570,"column":4},"end":{"line":570,"column":3}}]},"51":{"line":599,"type":"if","locations":[{"start":{"line":599,"column":8},"end":{"line":599,"column":7}},{"start":{"line":599,"column":8},"end":{"line":599,"column":7}}]},"52":{"line":625,"type":"if","locations":[{"start":{"line":625,"column":6},"end":{"line":625,"column":5}},{"start":{"line":625,"column":6},"end":{"line":625,"column":5}}]},"53":{"line":631,"type":"if","locations":[{"start":{"line":631,"column":6},"end":{"line":631,"column":5}},{"start":{"line":631,"column":6},"end":{"line":631,"column":5}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":72,"24":1,"25":71,"26":71,"27":71,"28":71,"29":71,"30":71,"31":71,"32":71,"33":71,"34":0,"35":0,"36":0,"37":71,"38":0,"39":71,"40":0,"41":71,"42":0,"43":71,"44":0,"45":1,"46":77,"47":1,"48":71,"49":0,"50":71,"51":1,"52":4,"53":2,"54":2,"55":2,"56":2,"57":2,"58":0,"59":2,"60":2,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":2,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":5,"81":5,"82":5,"83":5,"84":5,"85":5,"86":5,"87":2,"88":2,"89":2,"90":2,"91":2,"92":5,"93":1,"94":1,"95":1,"96":1,"97":1,"98":2,"99":2,"100":1,"101":0,"102":1,"103":71,"104":71,"105":71,"106":71,"107":71,"108":71,"109":71,"110":71,"111":71,"112":71,"113":71,"114":71,"115":71,"116":71,"117":71,"118":71,"119":71,"120":71,"121":71,"122":71,"123":71,"124":71,"125":71,"126":71,"127":71,"128":71,"129":71,"130":71,"131":71,"132":71,"133":0,"134":71,"135":0,"136":71,"137":0,"138":71,"139":71,"140":71,"141":71,"142":1,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":1,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":1,"165":0,"166":0,"167":1,"168":2,"169":2,"170":2,"171":0,"172":1,"173":0,"174":0,"175":1,"176":0,"177":0,"178":0,"179":1,"180":0,"181":0,"182":0,"183":0,"184":1,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":1,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":1,"209":0,"210":0,"211":0,"212":0,"213":1,"214":2,"215":2,"216":2,"217":2,"218":2,"219":2,"220":2,"221":0,"222":0,"223":1,"224":8,"225":2,"226":2,"227":8,"228":0,"229":0,"230":8,"231":1,"232":2,"233":2,"234":2,"235":2,"236":2,"237":2,"238":2,"239":2,"240":2,"241":2,"242":2,"243":0,"244":0,"245":0,"246":0,"247":1,"248":2,"249":2,"250":2,"251":2,"252":2,"253":2,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":2,"261":20,"262":2,"263":20,"264":2,"265":0,"266":2,"267":2,"268":0,"269":0,"270":0,"271":0,"272":2,"273":20,"274":20,"275":2,"276":2,"277":0,"278":1,"279":20,"280":20,"281":0,"282":20,"283":20,"284":20,"285":0,"286":20,"287":0,"288":20,"289":0,"290":20,"291":0,"292":0,"293":0,"294":0,"295":0,"296":1,"297":0,"298":0,"299":0,"300":0,"301":0,"302":0,"303":0,"304":1,"305":0,"306":0,"307":0,"308":0,"309":1,"310":0,"311":0,"312":0,"313":1,"314":2,"315":2,"316":2,"317":2,"318":1,"319":2,"320":1,"321":1,"322":1,"323":2,"324":2,"325":2,"326":20,"327":20,"328":20,"329":20,"330":20,"331":1,"332":2,"333":1,"334":2,"335":20,"336":2,"337":1,"338":0,"339":0,"340":0,"341":0,"342":0,"343":0,"344":0,"345":0,"346":1,"347":0,"348":0,"349":0,"350":0,"351":0,"352":0,"353":0,"354":0,"355":1,"356":8,"357":4,"358":1,"359":0,"360":0,"361":0,"362":0,"363":0,"364":0,"365":0,"366":1,"367":0,"368":0,"369":0,"370":1,"371":24,"372":1,"373":0,"374":0,"375":0,"376":0,"377":0,"378":0,"379":0,"380":0,"381":0,"382":0,"383":0,"384":0,"385":0,"386":0,"387":0,"388":0,"389":0,"390":1,"391":5,"392":5,"393":5,"394":1,"395":82,"396":82,"397":82,"398":1,"399":71,"400":71,"401":0,"402":0,"403":71,"404":0,"405":0,"406":1,"407":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[77,0],"5":[0,71],"6":[2,0],"7":[2,0],"8":[2,0],"9":[0,2],"10":[0,2],"11":[2,2],"12":[0,0],"13":[5,0],"14":[1,0],"15":[0,0,0],"16":[70,1],"17":[0,0],"18":[2,0],"19":[2,0],"20":[0,0],"21":[0,0,0,0],"22":[0,0],"23":[0,0,0,0,0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[2,0],"30":[2,0],"31":[2,6],"32":[0,8],"33":[2,0],"34":[2,0],"35":[0,0],"36":[2,0],"37":[0,2],"38":[0,0],"39":[0,2],"40":[0,2],"41":[2,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[4,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0]},"f":{"1":1,"2":1,"3":71,"4":0,"5":0,"6":0,"7":0,"8":0,"9":77,"10":71,"11":2,"12":0,"13":1,"14":5,"15":2,"16":1,"17":2,"18":0,"19":71,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":2,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":2,"36":2,"37":8,"38":0,"39":2,"40":2,"41":0,"42":20,"43":20,"44":20,"45":0,"46":20,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":2,"57":2,"58":1,"59":2,"60":20,"61":2,"62":2,"63":20,"64":0,"65":0,"66":0,"67":0,"68":4,"69":0,"70":0,"71":24,"72":0,"73":0,"74":0,"75":5,"76":82,"77":71,"78":0,"79":0},"code":"/// <reference path=\"Facet.ts\" />\n\nimport {IIndexFieldValue} from '../../rest/FieldValue';\nimport {Facet} from './Facet';\nimport {$$} from '../../utils/Dom';\nimport {Utils} from '../../utils/Utils';\nimport {InitializationEvents} from '../../events/InitializationEvents';\nimport {DeviceUtils} from '../../utils/DeviceUtils';\nimport {EventsUtils} from '../../utils/EventsUtils';\nimport {FacetSearchParameters} from './FacetSearchParameters';\nimport {IAnalyticsFacetMeta, analyticsActionCauseList} from '../Analytics/AnalyticsActionListMeta';\nimport {IEndpointError} from '../../rest/EndpointError';\nimport {Component} from '../Base/Component';\nimport {DomUtils} from '../../utils/DomUtils';\nimport {PopupUtils, HorizontalAlignment, VerticalAlignment} from '../../utils/PopupUtils';\nimport {l} from '../../strings/Strings';\nimport {Assert} from '../../misc/Assert';\nimport {KEYBOARD} from '../../utils/KeyboardUtils';\nimport {FacetUtils} from './FacetUtils';\nimport {FacetValue} from './FacetValues';\nimport {StringUtils} from '../../utils/StringUtils';\nimport {IFacetSearchValuesListKlass} from './FacetSearchValuesList';\nimport {FacetValueElement} from './FacetValueElement';\nimport {ModalBox} from '../../ExternalModulesShim';\nimport {SearchInterface} from '../SearchInterface/SearchInterface';\nimport {ResponsiveComponentsUtils} from '../ResponsiveComponents/ResponsiveComponentsUtils';\nimport {FacetValuesOrder} from './FacetValuesOrder';\n\n/**\n * Used by the {@link Facet} component to render and handle the facet search part of each facet.\n */\nexport class FacetSearch {\n  public currentlyDisplayedResults: string[];\n  public searchResults: HTMLElement;\n  public search: HTMLElement;\n\n  private magnifier: HTMLElement;\n  private wait: HTMLElement;\n  private clearIcon: HTMLElement;\n  private clear: HTMLElement;\n  private middle: HTMLElement;\n  private input: HTMLInputElement;\n  private facetSearchTimeout: number;\n  private showingFacetSearchWaitAnimation = false;\n  private facetSearchPromise: Promise<IIndexFieldValue[]>;\n  private moreValuesToFetch = true;\n  private onResize: (...args: any[]) => void;\n  private onDocumentClick: (e: Event) => void;\n  private searchBarIsAnimating: boolean = false;\n\n  constructor(public facet: Facet, public facetSearchValuesListKlass: IFacetSearchValuesListKlass, private root: HTMLElement) {\n    this.searchResults = document.createElement('ul');\n    $$(this.searchResults).addClass('coveo-facet-search-results');\n    this.onResize = _.debounce(() => {\n      // Mitigate issues in UT where the window in phantom js might get resized in the scope of another test.\n      // These would point to random instance of a test karma object, and not a real search interface.\n      if (this.facet instanceof Facet && this.facet.searchInterface instanceof SearchInterface) {\n        if (this.shouldPositionSearchResults()) {\n          this.positionSearchResults();\n        }\n      }\n    }, 250);\n    this.onDocumentClick = (e: Event) => {\n      this.handleClickElsewhere(e);\n    }\n    window.addEventListener('resize', () => this.onResize());\n    document.addEventListener('click', (e: Event) => this.onDocumentClick(e));\n    $$(facet.root).on(InitializationEvents.nuke, () => this.handleNuke());\n  }\n\n  public isMobileDevice() {\n    return DeviceUtils.isMobileDevice() && !this.facet.searchInterface.isNewDesign();\n  }\n\n  /**\n   * Build the search component and return an HTMLElement which can be appended to the {@link Facet}\n   * @returns {HTMLElement}\n   */\n  public build(): HTMLElement {\n    if (this.isMobileDevice()) {\n      return this.buildSearchMobile();\n    } else {\n      return this.buildBaseSearch();\n    }\n  }\n\n  /**\n   * Position the search results at the footer of the facet.\n   */\n  public positionSearchResults(nextTo: HTMLElement = this.search) {\n    if (this.searchResults != null) {\n      if (!this.isMobileDevice()) {\n        this.searchResults.style.display = 'block';\n        this.searchResults.style.width = this.facet.element.clientWidth - 40 + 'px';\n      }\n\n      if ($$(this.searchResults).css('display') == 'none') {\n        this.searchResults.style.display = '';\n      }\n      let searchBar = $$(this.search);\n      if (searchBar.css('display') == 'none' || this.searchBarIsAnimating) {\n        if ($$(this.searchResults).css('display') == 'none') {\n          this.searchResults.style.display = '';\n        }\n        let self = this;\n        EventsUtils.addPrefixedEvent(this.search, 'AnimationEnd', function (evt) {\n          PopupUtils.positionPopup(self.searchResults, nextTo, self.root,\n            { horizontal: HorizontalAlignment.CENTER, vertical: VerticalAlignment.BOTTOM }\n          );\n          EventsUtils.removePrefixedEvent(self.search, 'AnimationEnd', this);\n        });\n      } else {\n        PopupUtils.positionPopup(this.searchResults, nextTo, this.root,\n          { horizontal: HorizontalAlignment.CENTER, vertical: VerticalAlignment.BOTTOM }\n        );\n      }\n    }\n  }\n  /*\n   * Dismiss the search results\n   */\n  public completelyDismissSearch() {\n    this.cancelAnyPendingSearchOperation();\n    this.facet.unfadeInactiveValuesInMainList();\n    $$(this.searchResults).empty();\n    this.moreValuesToFetch = true;\n    $$(this.search).removeClass('coveo-facet-search-no-results');\n    $$(this.facet.element).removeClass('coveo-facet-searching');\n    this.hideSearchResultsElement();\n    this.input.value = '';\n    $$(this.clear).hide();\n    this.currentlyDisplayedResults = undefined;\n  }\n\n  /**\n   * Trigger a new facet search, and display the results\n   * @param params\n   */\n  public triggerNewFacetSearch(params: FacetSearchParameters) {\n    this.cancelAnyPendingSearchOperation();\n    this.showFacetSearchWaitingAnimation();\n\n    this.facet.logger.info('Triggering new facet search');\n\n    this.facetSearchPromise = this.facet.facetQueryController.search(params);\n\n    if (this.facetSearchPromise) {\n      this.facetSearchPromise.then((fieldValues: IIndexFieldValue[]) => {\n        this.facet.usageAnalytics.logCustomEvent<IAnalyticsFacetMeta>(analyticsActionCauseList.facetSearch, {\n          facetId: this.facet.options.id,\n          facetTitle: this.facet.options.title\n        }, this.facet.root);\n        this.facet.logger.debug('Received field values', fieldValues);\n        this.processNewFacetSearchResults(fieldValues, params);\n        this.hideFacetSearchWaitingAnimation();\n        this.facetSearchPromise = undefined;\n      });\n\n      this.facetSearchPromise.catch((error: IEndpointError) => {\n        // The request might be normally cancelled if another search is triggered.\n        // In this case we do not hide the animation to prevent flicking.\n        if (Utils.exists(error)) {\n          this.facet.logger.error('Error while retrieving facet values', error);\n          this.hideFacetSearchWaitingAnimation();\n        }\n        this.facetSearchPromise = undefined;\n      });\n    }\n  }\n\n  /**\n   * Trigger the event associated with the focus of the search input\n   */\n  public focus(): void {\n    this.input.focus();\n    this.handleFacetSearchFocus();\n  }\n\n  private shouldPositionSearchResults(): boolean {\n    return !this.isMobileDevice() && !ResponsiveComponentsUtils.isSmallFacetActivated($$(this.root))\n      && $$(this.facet.element).hasClass('coveo-facet-searching');\n  }\n\n  private buildBaseSearch(): HTMLElement {\n    this.search = document.createElement('div');\n    $$(this.search).addClass('coveo-facet-search');\n\n    this.magnifier = document.createElement('div');\n    $$(this.magnifier).addClass('coveo-facet-search-magnifier');\n    this.search.appendChild(this.magnifier);\n\n    this.wait = document.createElement('div');\n    $$(this.wait).addClass('coveo-facet-search-wait-animation');\n    this.search.appendChild(this.wait);\n    this.hideFacetSearchWaitingAnimation();\n\n    this.clear = document.createElement('div');\n    $$(this.clear).addClass('coveo-facet-search-clear');\n    this.clear.setAttribute('title', l('Clear', l('Search')));\n    this.clear.style.display = 'none';\n    this.search.appendChild(this.clear);\n\n\n    this.clearIcon = document.createElement('span');\n    $$(this.clearIcon).addClass('coveo-icon');\n    this.clear.appendChild(this.clearIcon);\n\n    this.middle = document.createElement('div');\n    $$(this.middle).addClass('coveo-facet-search-middle');\n    this.search.appendChild(this.middle);\n\n    this.input = document.createElement('input');\n    this.input.setAttribute('type', 'text');\n    this.input.setAttribute('autocapitalize', 'off');\n    this.input.setAttribute('autocorrect', 'off');\n    this.input.setAttribute('placeholder', this.facet.searchInterface.isNewDesign() ? '' : l('SearchIn', this.facet.options.title));\n    $$(this.input).addClass('coveo-facet-search-input');\n    Component.pointElementsToDummyForm(this.input);\n    this.middle.appendChild(this.input);\n\n    $$(this.input).on('keyup', (e: KeyboardEvent) => this.handleFacetSearchKeyUp(e));\n    $$(this.clear).on('click', (e: Event) => this.handleFacetSearchClear());\n    $$(this.input).on('focus', (e: Event) => this.handleFacetSearchFocus());\n\n    this.detectSearchBarAnimation();\n    this.root.appendChild(this.searchResults);\n    this.searchResults.style.display = 'none';\n\n    return this.search;\n  }\n\n  private buildSearchMobile() {\n    let button = document.createElement('div');\n    $$(button).addClass('coveo-facet-search-button-mobile');\n    $$(button).text(l('Search'));\n    this.search = this.buildBaseSearch();\n    $$(button).on('click', () => {\n      let toOpen = document.createElement('div');\n      toOpen.appendChild(this.search);\n\n      ModalBox.open(toOpen, {\n        title: DomUtils.getPopUpCloseButton(l('Close'), l('SearchIn', this.facet.options.title)),\n        validation: () => {\n          this.completelyDismissSearch();\n          return true;\n        },\n        className: 'coveo-mobile-facet-search',\n        titleClose: true\n      });\n      this.input.value = '';\n      this.input.focus();\n    })\n    return button;\n  }\n\n  private handleFacetSearchKeyUp(event: KeyboardEvent) {\n    Assert.exists(event);\n    let isEmpty = this.input.value == '';\n    this.showOrHideClearElement(isEmpty);\n\n    if (!this.isMobileDevice()) {\n      this.handleKeyboardNavigation(event, isEmpty);\n    } else {\n      this.startNewSearchTimeout(this.buildParamsForNormalSearch());\n    }\n  }\n\n  private handleNuke() {\n    window.removeEventListener('resize', this.onResize);\n    document.removeEventListener('click', this.onDocumentClick);\n  }\n\n\n  private handleFacetSearchFocus() {\n    if (!this.isMobileDevice()) {\n      if (this.facet.searchInterface.isNewDesign()) {\n        this.startNewSearchTimeout(this.buildParamsForExcludingCurrentlyDisplayedValues());\n      } else {\n        this.startNewSearchTimeout(this.buildParamsForNormalSearch());\n      }\n    }\n  }\n\n  private handleClickElsewhere(event: Event) {\n    if (this.currentlyDisplayedResults && !this.isMobileDevice() && this.search != event.target && this.searchResults != event.target) {\n      this.completelyDismissSearch();\n    }\n  }\n\n  private handleFacetSearchClear() {\n    this.input.value = ''\n    $$(this.clear).hide();\n    this.completelyDismissSearch();\n  }\n\n  private showOrHideClearElement(isEmpty: boolean) {\n    if (!isEmpty) {\n      $$(this.clear).show();\n    } else {\n      $$(this.clear).hide();\n      $$(this.search).removeClass('coveo-facet-search-no-results')\n    }\n  }\n\n  private handleKeyboardNavigation(event: KeyboardEvent, isEmpty: boolean) {\n    switch (event.which) {\n      case KEYBOARD.ENTER:\n        this.keyboardNavigationEnterPressed(event, isEmpty);\n        break;\n      case KEYBOARD.DELETE:\n        this.keyboardNavigationDeletePressed(event);\n        break;\n      case KEYBOARD.ESCAPE:\n        this.completelyDismissSearch();\n        break;\n      case KEYBOARD.DOWN_ARROW:\n        this.moveCurrentResultDown();\n        break;\n      case KEYBOARD.UP_ARROW:\n        this.moveCurrentResultUp();\n        break;\n      default:\n        this.moreValuesToFetch = true;\n        this.highlightCurrentQueryWithinSearchResults();\n        this.startNewSearchTimeout(this.buildParamsForNormalSearch());\n        break;\n    }\n  }\n\n  private keyboardNavigationEnterPressed(event: KeyboardEvent, isEmpty: boolean) {\n    if (event.shiftKey) {\n      this.triggerNewFacetSearch(this.buildParamsForNormalSearch());\n    } else {\n      if (this.searchResults.style.display != 'none') {\n        this.performSelectActionOnCurrentSearchResult();\n        this.completelyDismissSearch();\n      } else if ($$(this.search).is('.coveo-facet-search-no-results') && !isEmpty) {\n        this.selectAllValuesMatchingSearch();\n      }\n    }\n  }\n\n  private keyboardNavigationDeletePressed(event: KeyboardEvent) {\n    if (event.shiftKey) {\n      this.performExcludeActionOnCurrentSearchResult();\n      this.completelyDismissSearch();\n      this.input.value = '';\n    }\n  }\n\n  private startNewSearchTimeout(params: FacetSearchParameters) {\n    this.cancelAnyPendingSearchOperation();\n    this.facetSearchTimeout = setTimeout(() => {\n      let valueInInput = this.getValueInInputForFacetSearch();\n      if (valueInInput == '') {\n        if (params.searchEvenIfEmpty) {\n          this.triggerNewFacetSearch(params);\n        } else {\n          this.completelyDismissSearch();\n        }\n      } else {\n        this.triggerNewFacetSearch(params);\n      }\n    }, this.facet.options.facetSearchDelay);\n  }\n\n  private cancelAnyPendingSearchOperation() {\n    if (Utils.exists(this.facetSearchTimeout)) {\n      clearTimeout(this.facetSearchTimeout);\n      this.facetSearchTimeout = undefined;\n    }\n    if (Utils.exists(this.facetSearchPromise)) {\n      Promise.reject(this.facetSearchPromise).catch(() => { });\n      this.facetSearchPromise = undefined;\n    }\n\n    this.hideFacetSearchWaitingAnimation();\n  }\n\n  private processNewFacetSearchResults(fieldValues: IIndexFieldValue[], facetSearchParameters: FacetSearchParameters) {\n    Assert.exists(fieldValues);\n    fieldValues = new FacetValuesOrder(this.facet, this.facet.facetSort).reorderValues(fieldValues);\n    if (fieldValues.length > 0) {\n      $$(this.search).removeClass('coveo-facet-search-no-results');\n      this.facet.fadeInactiveValuesInMainList(this.facet.options.facetSearchDelay);\n      this.rebuildSearchResults(fieldValues, facetSearchParameters);\n      if (!facetSearchParameters.fetchMore) {\n        this.showSearchResultsElement();\n      }\n      this.highlightCurrentQueryWithinSearchResults();\n      FacetUtils.clipCaptionsToAvoidOverflowingTheirContainer(this.facet, true);\n      this.makeFirstSearchResultTheCurrentOne();\n    } else {\n      if (facetSearchParameters.fetchMore) {\n        this.moreValuesToFetch = false;\n      } else {\n        this.hideSearchResultsElement();\n        $$(this.search).addClass('coveo-facet-search-no-results');\n      }\n    }\n  }\n\n  private rebuildSearchResults(fieldValues: IIndexFieldValue[], facetSearchParameters: FacetSearchParameters) {\n    Assert.exists(fieldValues);\n    if (!facetSearchParameters.fetchMore) {\n      $$(this.searchResults).empty();\n    }\n    let selectAll = document.createElement('li');\n    if (Utils.isNonEmptyString(facetSearchParameters.valueToSearch)) {\n      $$(selectAll).addClass(['coveo-facet-selectable', 'coveo-facet-search-selectable', 'coveo-facet-search-select-all']);\n      $$(selectAll).text('SelectAll');\n      $$(selectAll).on('click', () => this.selectAllValuesMatchingSearch());\n      if (!this.isMobileDevice()) {\n        this.searchResults.appendChild(selectAll);\n      }\n    }\n    let facetValues = _.map(fieldValues, (fieldValue) => {\n      return FacetValue.create(fieldValue);\n    });\n    _.each(new this.facetSearchValuesListKlass(this.facet, FacetValueElement).build(facetValues), (listElement: HTMLElement) => {\n      this.searchResults.appendChild(listElement);\n    })\n    if (this.currentlyDisplayedResults) {\n      this.currentlyDisplayedResults = this.currentlyDisplayedResults.concat(_.pluck(facetValues, 'value'))\n    } else {\n      this.currentlyDisplayedResults = _.pluck(facetValues, 'value');\n    }\n\n    if (this.isMobileDevice()) {\n      let selectAllMobile = document.createElement('span');\n      $$(selectAllMobile).addClass('coveo-mobile-facet-search-select-all');\n      selectAll.appendChild(selectAllMobile);\n      this.searchResults.appendChild(selectAll);\n    }\n    _.each($$(this.searchResults).findAll('.coveo-facet-selectable'), (elem: HTMLElement) => {\n      $$(elem).addClass('coveo-facet-search-selectable');\n      this.setupFacetSearchResultsEvents(elem);\n    })\n\n    if (this.facet.searchInterface.isNewDesign()) {\n      $$(this.searchResults).on('scroll', () => this.handleFacetSearchResultsScroll());\n    }\n  }\n\n  private setupFacetSearchResultsEvents(elem: HTMLElement) {\n    $$(elem).on('mousemove', () => {\n      this.makeCurrentResult(elem);\n    });\n\n    // Prevent closing the search results on the end of a touch drag\n    let touchDragging = false;\n    let mouseDragging = false;\n    $$(elem).on('mousedown', () => mouseDragging = false);\n    $$(elem).on('mousemove', () => mouseDragging = true);\n    $$(elem).on('touchmove', () => touchDragging = true);\n\n    $$(elem).on('mouseup touchend', () => {\n      if (!touchDragging && !mouseDragging) {\n        setTimeout(() => {\n          this.completelyDismissSearch();\n        }, 0) // setTimeout is to give time to trigger the click event before hiding the search menu.\n      }\n      touchDragging = false;\n      mouseDragging = false;\n    });\n  }\n\n  private handleFacetSearchResultsScroll() {\n    if (this.facetSearchPromise || this.getValueInInputForFacetSearch() != '' || !this.moreValuesToFetch) {\n      return;\n    }\n\n    let elementHeight = this.searchResults.clientHeight;\n    let scrollHeight = this.searchResults.scrollHeight;\n    let bottomPosition = this.searchResults.scrollTop + elementHeight;\n    if ((scrollHeight - bottomPosition) < elementHeight / 2) {\n      this.triggerNewFacetSearch(this.buildParamsForFetchingMore());\n    }\n  }\n\n  private buildParamsForNormalSearch() {\n    let params = new FacetSearchParameters(this.facet);\n    params.setValueToSearch(this.getValueInInputForFacetSearch());\n    params.fetchMore = false;\n    return params;\n  }\n\n  private buildParamsForFetchingMore() {\n    let params = this.buildParamsForExcludingCurrentlyDisplayedValues();\n    params.fetchMore = true;\n    return params;\n  }\n\n  protected buildParamsForExcludingCurrentlyDisplayedValues() {\n    let params = new FacetSearchParameters(this.facet);\n    params.excludeCurrentlyDisplayedValuesInSearch(this.searchResults);\n    params.setValueToSearch(this.getValueInInputForFacetSearch());\n    return params;\n  }\n\n  private showSearchResultsElement() {\n    this.positionSearchResults();\n  }\n\n  private hideSearchResultsElement() {\n    this.searchResults.style.display = 'none';\n  }\n\n  private highlightCurrentQueryWithinSearchResults() {\n    let captions = $$(this.searchResults).findAll('.coveo-facet-value-caption');\n    _.each(captions, (captionElement: HTMLElement) => {\n      let search = this.getValueInInputForFacetSearch();\n      let regex = new RegExp('(' + StringUtils.wildcardsToRegex(search, this.facet.options.facetSearchIgnoreAccents) + ')', 'ig');\n\n      let text = $$(captionElement).text();\n      let highlighted = text.replace(regex, '<span class=\"coveo-highlight\">$1</span>');\n      captionElement.innerHTML = highlighted;\n    })\n  }\n\n  private makeFirstSearchResultTheCurrentOne() {\n    this.makeCurrentResult(this.getSelectables()[0]);\n  }\n\n  private makeCurrentResult(result: HTMLElement) {\n    _.each(this.getSelectables(), (selectable: HTMLElement) => {\n      $$(selectable).removeClass('coveo-current');\n    })\n    $$(result).addClass('coveo-current');\n  }\n\n  private moveCurrentResultDown() {\n    let current = $$(this.searchResults).find('.coveo-current');\n    _.each(this.getSelectables(), (selectable: HTMLElement) => {\n      $$(selectable).removeClass('coveo-current');\n    })\n    let allSelectables = this.getSelectables();\n    let idx = _.indexOf(allSelectables, current);\n    if (idx < allSelectables.length - 1) {\n      $$(allSelectables[idx + 1]).addClass('coveo-current');\n    } else {\n      $$(allSelectables[0]).addClass('coveo-current');\n    }\n  }\n\n  private moveCurrentResultUp() {\n    let current = $$(this.searchResults).find('.coveo-current');\n    _.each($$(this.searchResults).findAll('.coveo-facet-selectable'), (s) => {\n      $$(s).removeClass('coveo-current');\n    })\n\n    let allSelectables = this.getSelectables();\n    let idx = _.indexOf(allSelectables, current);\n    if (idx > 0) {\n      $$(allSelectables[idx - 1]).addClass('coveo-current');\n    } else {\n      $$(allSelectables[allSelectables.length - 1]).addClass('coveo-current');\n    }\n  }\n\n  private getSelectables(target = this.searchResults) {\n    return $$(target).findAll('.coveo-facet-selectable');\n  }\n\n  private performSelectActionOnCurrentSearchResult() {\n    let current = $$(this.searchResults).find('.coveo-current');\n    Assert.check(current != undefined);\n\n    let checkbox = <HTMLInputElement>$$(current).find('input[type=\"checkbox\"]');\n    if (checkbox != undefined) {\n      checkbox.checked = true;\n      $$(checkbox).trigger('change');\n    } else {\n      current.click();\n    }\n  }\n\n  private performExcludeActionOnCurrentSearchResult() {\n    let current = $(this.searchResults).find('.coveo-current');\n    Assert.check(current.length == 1);\n    current.find('.coveo-facet-value-exclude').click();\n  }\n\n  protected getValueInInputForFacetSearch() {\n    return this.input.value;\n  }\n\n  protected selectAllValuesMatchingSearch() {\n    this.facet.showWaitingAnimation();\n\n    let searchParameters = new FacetSearchParameters(this.facet);\n    searchParameters.nbResults = 1000;\n    searchParameters.setValueToSearch(this.getValueInInputForFacetSearch())\n    this.facet.facetQueryController.search(searchParameters).then((fieldValues: IIndexFieldValue[]) => {\n      this.completelyDismissSearch();\n      ModalBox.close(true);\n      let facetValues = _.map(fieldValues, (fieldValue) => {\n        let facetValue = this.facet.values.get(fieldValue.value);\n        if (!Utils.exists(facetValue)) {\n          facetValue = FacetValue.create(fieldValue);\n        }\n        facetValue.selected = true;\n        facetValue.excluded = false;\n        return facetValue;\n      })\n      this.facet.processFacetSearchAllResultsSelected(facetValues);\n    });\n    this.completelyDismissSearch();\n  }\n\n  private showFacetSearchWaitingAnimation() {\n    $$(this.magnifier).hide();\n    $$(this.wait).show();\n    this.showingFacetSearchWaitAnimation = true;\n  }\n\n  private hideFacetSearchWaitingAnimation() {\n    $$(this.magnifier).show();\n    $$(this.wait).hide();\n    this.showingFacetSearchWaitAnimation = false;\n  }\n\n  private detectSearchBarAnimation() {\n    EventsUtils.addPrefixedEvent(this.search, 'AnimationStart', (event) => {\n      if (event.animationName == 'grow') {\n        this.searchBarIsAnimating = true;\n      }\n    });\n\n    EventsUtils.addPrefixedEvent(this.search, 'AnimationEnd', (event) => {\n      if (event.animationName == 'grow') {\n        this.searchBarIsAnimating = false;\n      }\n    });\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Facet/FacetSearch.ts\n **/","l":{"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"23":1,"24":1,"25":1,"26":1,"27":1,"32":72,"44":71,"46":71,"49":71,"51":71,"52":71,"53":71,"54":71,"57":0,"58":0,"59":0,"63":71,"64":0,"66":71,"67":71,"68":71,"71":1,"72":77,"79":1,"80":71,"81":0,"83":71,"90":4,"91":2,"92":2,"93":2,"94":2,"97":2,"98":0,"100":2,"101":2,"102":0,"103":0,"105":0,"106":0,"107":0,"110":0,"113":2,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"139":5,"140":5,"141":5,"143":5,"145":5,"147":5,"148":5,"149":2,"153":2,"154":2,"155":2,"156":2,"159":5,"162":1,"163":1,"164":1,"166":1,"174":1,"175":2,"176":2,"179":1,"180":0,"184":71,"185":71,"186":71,"188":71,"189":71,"190":71,"192":71,"193":71,"194":71,"195":71,"197":71,"198":71,"199":71,"200":71,"201":71,"204":71,"205":71,"206":71,"208":71,"209":71,"210":71,"212":71,"213":71,"214":71,"215":71,"216":71,"217":71,"218":71,"219":71,"221":71,"222":71,"223":71,"225":71,"226":71,"227":71,"229":71,"232":1,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"241":0,"244":0,"245":0,"250":0,"251":0,"253":0,"256":1,"257":0,"258":0,"259":0,"261":0,"262":0,"264":0,"268":1,"269":0,"270":0,"274":1,"275":2,"276":2,"277":2,"279":0,"284":1,"285":0,"286":0,"290":1,"291":0,"292":0,"293":0,"296":1,"297":0,"298":0,"300":0,"301":0,"305":1,"306":0,"308":0,"309":0,"311":0,"312":0,"314":0,"315":0,"317":0,"318":0,"320":0,"321":0,"323":0,"324":0,"325":0,"326":0,"330":1,"331":0,"332":0,"334":0,"335":0,"336":0,"337":0,"338":0,"343":1,"344":0,"345":0,"346":0,"347":0,"351":2,"352":2,"353":2,"354":2,"355":2,"356":2,"357":2,"359":0,"362":0,"367":1,"368":8,"369":2,"370":2,"372":8,"373":0,"374":0,"377":8,"380":1,"381":2,"382":2,"383":2,"384":2,"385":2,"386":2,"387":2,"388":2,"390":2,"391":2,"392":2,"394":0,"395":0,"397":0,"398":0,"403":2,"404":2,"405":2,"406":2,"408":2,"409":2,"410":0,"411":0,"412":0,"413":0,"414":0,"417":2,"418":20,"420":2,"421":20,"423":2,"424":0,"426":2,"429":2,"430":0,"431":0,"432":0,"433":0,"435":2,"436":20,"437":20,"440":2,"441":2,"445":20,"446":20,"447":0,"451":20,"452":20,"453":20,"454":20,"455":20,"457":20,"458":0,"459":0,"460":0,"463":0,"464":0,"468":1,"469":0,"470":0,"473":0,"474":0,"475":0,"476":0,"477":0,"481":1,"482":0,"483":0,"484":0,"485":0,"488":1,"489":0,"490":0,"491":0,"494":1,"495":2,"496":2,"497":2,"498":2,"501":1,"502":2,"505":1,"506":1,"509":2,"510":2,"511":2,"512":20,"513":20,"515":20,"516":20,"517":20,"521":1,"522":2,"525":1,"526":2,"527":20,"529":2,"532":1,"533":0,"534":0,"535":0,"537":0,"538":0,"539":0,"540":0,"542":0,"546":1,"547":0,"548":0,"549":0,"552":0,"553":0,"554":0,"555":0,"557":0,"561":8,"562":4,"565":1,"566":0,"567":0,"569":0,"570":0,"571":0,"572":0,"574":0,"578":1,"579":0,"580":0,"581":0,"584":1,"585":24,"588":1,"589":0,"591":0,"592":0,"593":0,"594":0,"595":0,"596":0,"597":0,"598":0,"599":0,"600":0,"602":0,"603":0,"604":0,"606":0,"608":0,"611":1,"612":5,"613":5,"614":5,"617":1,"618":82,"619":82,"620":82,"623":71,"624":71,"625":0,"626":0,"630":71,"631":0,"632":0,"636":1}},"src/utils/EventsUtils.ts":{"path":"src/utils/EventsUtils.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":23,"column":1}},"2":{"start":{"line":5,"column":16},"end":{"line":12,"column":3}},"3":{"start":{"line":6,"column":4},"end":{"line":11,"column":7}},"4":{"start":{"line":7,"column":6},"end":{"line":9,"column":7}},"5":{"start":{"line":8,"column":8},"end":{"line":8,"column":64}},"6":{"start":{"line":10,"column":6},"end":{"line":10,"column":78}},"7":{"start":{"line":15,"column":16},"end":{"line":22,"column":3}},"8":{"start":{"line":16,"column":4},"end":{"line":21,"column":7}},"9":{"start":{"line":17,"column":6},"end":{"line":19,"column":7}},"10":{"start":{"line":18,"column":8},"end":{"line":18,"column":64}},"11":{"start":{"line":20,"column":6},"end":{"line":20,"column":81}},"12":{"start":{"line":2,"column":17},"end":{"line":2,"column":61}},"13":{"start":{"line":23,"column":0},"end":{"line":23,"column":1}},"14":{"start":{"line":1,"column":13},"end":{"line":23,"column":1}}},"fnMap":{"1":{"name":"(anonymous_3042)","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_3044)","line":5,"loc":{"start":{"line":5,"column":2},"end":{"line":5,"column":92}}},"3":{"name":"(anonymous_3045)","line":6,"loc":{"start":{"line":6,"column":26},"end":{"line":6,"column":32}}},"4":{"name":"(anonymous_3046)","line":15,"loc":{"start":{"line":15,"column":2},"end":{"line":15,"column":95}}},"5":{"name":"(anonymous_3047)","line":16,"loc":{"start":{"line":16,"column":26},"end":{"line":16,"column":32}}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":6},"end":{"line":7,"column":5}},{"start":{"line":7,"column":6},"end":{"line":7,"column":5}}]},"2":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":6},"end":{"line":17,"column":5}},{"start":{"line":17,"column":6},"end":{"line":17,"column":5}}]}},"s":{"1":2,"2":1,"3":142,"4":710,"5":142,"6":710,"7":1,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1},"b":{"1":[142,568],"2":[0,0]},"f":{"1":1,"2":142,"3":710,"4":0,"5":0},"code":"export class EventsUtils {\n  private static prefixes = ['webkit', 'moz', 'MS', 'o', ''];\n\n  // eventName must be in PascalCase\n  public static addPrefixedEvent(element: HTMLElement, pascalCaseEventName: string, callback) {\n    _.each(this.prefixes, prefix => {\n      if (prefix == '') {\n        pascalCaseEventName = pascalCaseEventName.toLowerCase();\n      }\n      element.addEventListener(prefix + pascalCaseEventName, callback, false);\n    });\n  }\n\n  // eventName must be in PascalCase\n  public static removePrefixedEvent(element: HTMLElement, pascalCaseEventName: string, callback) {\n    _.each(this.prefixes, prefix => {\n      if (prefix == '') {\n        pascalCaseEventName = pascalCaseEventName.toLowerCase();\n      }\n      element.removeEventListener(prefix + pascalCaseEventName, callback, false);\n    });\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/EventsUtils.ts\n **/","l":{"1":2,"2":1,"5":1,"6":142,"7":710,"8":142,"10":710,"15":1,"16":0,"17":0,"18":0,"20":0,"23":1}},"src/ui/Facet/FacetValueElement.ts":{"path":"src/ui/Facet/FacetValueElement.ts","statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":5,"column":53}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":35}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":44}},"4":{"start":{"line":14,"column":0},"end":{"line":28,"column":1}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":51}},"6":{"start":{"line":17,"column":2},"end":{"line":23,"column":3}},"7":{"start":{"line":18,"column":4},"end":{"line":18,"column":29}},"8":{"start":{"line":17,"column":21},"end":{"line":17,"column":33}},"9":{"start":{"line":17,"column":42},"end":{"line":17,"column":64}},"10":{"start":{"line":17,"column":73},"end":{"line":17,"column":108}},"11":{"start":{"line":15,"column":10},"end":{"line":15,"column":28}},"12":{"start":{"line":20,"column":4},"end":{"line":22,"column":6}},"13":{"start":{"line":21,"column":6},"end":{"line":21,"column":30}},"14":{"start":{"line":25,"column":9},"end":{"line":27,"column":3}},"15":{"start":{"line":26,"column":4},"end":{"line":26,"column":121}},"16":{"start":{"line":28,"column":0},"end":{"line":28,"column":1}},"17":{"start":{"line":14,"column":13},"end":{"line":28,"column":1}}},"fnMap":{"1":{"name":"(anonymous_3051)","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"FacetValueElement","line":17,"loc":{"start":{"line":17,"column":2},"end":{"line":17,"column":108}}},"3":{"name":"(anonymous_3053)","line":20,"loc":{"start":{"line":20,"column":49},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_3054)","line":25,"loc":{"start":{"line":25,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":352,"5":1,"6":1,"7":351,"8":351,"9":351,"10":351,"11":351,"12":351,"13":108,"14":1,"15":351,"16":1,"17":1},"b":{},"f":{"1":1,"2":351,"3":108,"4":351},"code":"/// <reference path=\"Facet.ts\" />\n\nimport {Facet} from './Facet';\nimport {FacetValue} from './FacetValues';\nimport {QueryEvents} from '../../events/QueryEvents';\nimport {$$} from '../../utils/Dom';\nimport {ValueElement} from './ValueElement';\n\n\nexport interface IFacetValueElementKlass {\n  new (facet: Facet, facetValue: FacetValue, displayNextTime?: boolean): FacetValueElement;\n}\n\nexport class FacetValueElement extends ValueElement {\n  private firstQuery = true;\n\n  constructor(public facet: Facet, public facetValue: FacetValue, public keepDisplayedValueNextTime: boolean) {\n    super(facet, facetValue);\n    // The analytics code expect a first query to be made to link the user action with a query UID\n    $$(facet.root).one(QueryEvents.querySuccess, () => {\n      this.firstQuery = false;\n    })\n  }\n\n  public bindEvent() {\n    super.bindEvent({ displayNextTime: this.keepDisplayedValueNextTime, pinFacet: this.facet.options.preservePosition });\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Facet/FacetValueElement.ts\n **/","l":{"5":1,"6":1,"7":1,"14":352,"15":351,"17":351,"18":351,"20":351,"21":108,"25":1,"26":351,"28":1}},"src/ui/Facet/ValueElement.ts":{"path":"src/ui/Facet/ValueElement.ts","statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":5,"column":60}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":40}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":122}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":35}},"5":{"start":{"line":9,"column":0},"end":{"line":9,"column":52}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":39}},"7":{"start":{"line":11,"column":0},"end":{"line":11,"column":51}},"8":{"start":{"line":23,"column":0},"end":{"line":172,"column":1}},"9":{"start":{"line":27,"column":2},"end":{"line":28,"column":3}},"10":{"start":{"line":27,"column":21},"end":{"line":27,"column":33}},"11":{"start":{"line":27,"column":42},"end":{"line":27,"column":64}},"12":{"start":{"line":27,"column":73},"end":{"line":27,"column":142}},"13":{"start":{"line":27,"column":151},"end":{"line":27,"column":221}},"14":{"start":{"line":30,"column":9},"end":{"line":34,"column":3}},"15":{"start":{"line":31,"column":4},"end":{"line":31,"column":82}},"16":{"start":{"line":32,"column":4},"end":{"line":32,"column":93}},"17":{"start":{"line":33,"column":4},"end":{"line":33,"column":16}},"18":{"start":{"line":36,"column":9},"end":{"line":48,"column":3}},"19":{"start":{"line":37,"column":4},"end":{"line":41,"column":5}},"20":{"start":{"line":38,"column":6},"end":{"line":38,"column":28}},"21":{"start":{"line":40,"column":6},"end":{"line":40,"column":29}},"22":{"start":{"line":42,"column":4},"end":{"line":42,"column":53}},"23":{"start":{"line":43,"column":4},"end":{"line":47,"column":5}},"24":{"start":{"line":44,"column":6},"end":{"line":44,"column":61}},"25":{"start":{"line":46,"column":6},"end":{"line":46,"column":53}},"26":{"start":{"line":50,"column":9},"end":{"line":54,"column":3}},"27":{"start":{"line":51,"column":4},"end":{"line":51,"column":36}},"28":{"start":{"line":52,"column":4},"end":{"line":52,"column":37}},"29":{"start":{"line":53,"column":4},"end":{"line":53,"column":50}},"30":{"start":{"line":56,"column":9},"end":{"line":60,"column":3}},"31":{"start":{"line":57,"column":4},"end":{"line":57,"column":37}},"32":{"start":{"line":58,"column":4},"end":{"line":58,"column":37}},"33":{"start":{"line":59,"column":4},"end":{"line":59,"column":50}},"34":{"start":{"line":62,"column":9},"end":{"line":66,"column":3}},"35":{"start":{"line":63,"column":4},"end":{"line":63,"column":37}},"36":{"start":{"line":64,"column":4},"end":{"line":64,"column":36}},"37":{"start":{"line":65,"column":4},"end":{"line":65,"column":50}},"38":{"start":{"line":68,"column":9},"end":{"line":72,"column":3}},"39":{"start":{"line":69,"column":4},"end":{"line":69,"column":37}},"40":{"start":{"line":70,"column":4},"end":{"line":70,"column":37}},"41":{"start":{"line":71,"column":4},"end":{"line":71,"column":50}},"42":{"start":{"line":74,"column":12},"end":{"line":93,"column":3}},"43":{"start":{"line":74,"column":2},"end":{"line":93,"column":3}},"44":{"start":{"line":75,"column":4},"end":{"line":75,"column":105}},"45":{"start":{"line":76,"column":4},"end":{"line":76,"column":43}},"46":{"start":{"line":77,"column":4},"end":{"line":87,"column":5}},"47":{"start":{"line":78,"column":6},"end":{"line":78,"column":126}},"48":{"start":{"line":79,"column":6},"end":{"line":79,"column":49}},"49":{"start":{"line":81,"column":6},"end":{"line":85,"column":7}},"50":{"start":{"line":82,"column":8},"end":{"line":82,"column":126}},"51":{"start":{"line":84,"column":8},"end":{"line":84,"column":122}},"52":{"start":{"line":86,"column":6},"end":{"line":86,"column":52}},"53":{"start":{"line":88,"column":4},"end":{"line":92,"column":5}},"54":{"start":{"line":89,"column":6},"end":{"line":89,"column":73}},"55":{"start":{"line":89,"column":39},"end":{"line":89,"column":71}},"56":{"start":{"line":91,"column":6},"end":{"line":91,"column":145}},"57":{"start":{"line":91,"column":39},"end":{"line":91,"column":143}},"58":{"start":{"line":95,"column":12},"end":{"line":109,"column":3}},"59":{"start":{"line":95,"column":2},"end":{"line":109,"column":3}},"60":{"start":{"line":96,"column":4},"end":{"line":96,"column":105}},"61":{"start":{"line":97,"column":4},"end":{"line":97,"column":43}},"62":{"start":{"line":98,"column":4},"end":{"line":102,"column":5}},"63":{"start":{"line":99,"column":6},"end":{"line":99,"column":126}},"64":{"start":{"line":101,"column":6},"end":{"line":101,"column":122}},"65":{"start":{"line":103,"column":4},"end":{"line":103,"column":51}},"66":{"start":{"line":104,"column":4},"end":{"line":108,"column":5}},"67":{"start":{"line":105,"column":6},"end":{"line":105,"column":74}},"68":{"start":{"line":105,"column":39},"end":{"line":105,"column":72}},"69":{"start":{"line":107,"column":6},"end":{"line":107,"column":145}},"70":{"start":{"line":107,"column":39},"end":{"line":107,"column":143}},"71":{"start":{"line":111,"column":12},"end":{"line":123,"column":3}},"72":{"start":{"line":111,"column":2},"end":{"line":123,"column":3}},"73":{"start":{"line":112,"column":4},"end":{"line":122,"column":6}},"74":{"start":{"line":113,"column":6},"end":{"line":115,"column":7}},"75":{"start":{"line":114,"column":8},"end":{"line":114,"column":38}},"76":{"start":{"line":116,"column":6},"end":{"line":118,"column":7}},"77":{"start":{"line":117,"column":8},"end":{"line":117,"column":60}},"78":{"start":{"line":119,"column":6},"end":{"line":119,"column":44}},"79":{"start":{"line":120,"column":6},"end":{"line":120,"column":30}},"80":{"start":{"line":121,"column":6},"end":{"line":121,"column":19}},"81":{"start":{"line":125,"column":12},"end":{"line":142,"column":3}},"82":{"start":{"line":125,"column":2},"end":{"line":142,"column":3}},"83":{"start":{"line":126,"column":4},"end":{"line":133,"column":6}},"84":{"start":{"line":127,"column":6},"end":{"line":129,"column":7}},"85":{"start":{"line":128,"column":8},"end":{"line":128,"column":60}},"86":{"start":{"line":130,"column":6},"end":{"line":130,"column":45}},"87":{"start":{"line":131,"column":6},"end":{"line":131,"column":30}},"88":{"start":{"line":132,"column":6},"end":{"line":132,"column":19}},"89":{"start":{"line":134,"column":4},"end":{"line":141,"column":6}},"90":{"start":{"line":135,"column":6},"end":{"line":137,"column":7}},"91":{"start":{"line":136,"column":8},"end":{"line":136,"column":38}},"92":{"start":{"line":138,"column":6},"end":{"line":138,"column":29}},"93":{"start":{"line":139,"column":6},"end":{"line":139,"column":51}},"94":{"start":{"line":140,"column":6},"end":{"line":140,"column":19}},"95":{"start":{"line":144,"column":12},"end":{"line":158,"column":3}},"96":{"start":{"line":144,"column":2},"end":{"line":158,"column":3}},"97":{"start":{"line":145,"column":4},"end":{"line":157,"column":6}},"98":{"start":{"line":146,"column":6},"end":{"line":148,"column":7}},"99":{"start":{"line":147,"column":8},"end":{"line":147,"column":60}},"100":{"start":{"line":150,"column":6},"end":{"line":150,"column":44}},"101":{"start":{"line":151,"column":6},"end":{"line":156,"column":7}},"102":{"start":{"line":152,"column":8},"end":{"line":155,"column":11}},"103":{"start":{"line":153,"column":10},"end":{"line":153,"column":31}},"104":{"start":{"line":154,"column":10},"end":{"line":154,"column":59}},"105":{"start":{"line":160,"column":12},"end":{"line":163,"column":3}},"106":{"start":{"line":161,"column":4},"end":{"line":161,"column":28}},"107":{"start":{"line":162,"column":4},"end":{"line":162,"column":21}},"108":{"start":{"line":165,"column":10},"end":{"line":171,"column":3}},"109":{"start":{"line":166,"column":4},"end":{"line":170,"column":5}},"110":{"start":{"line":172,"column":0},"end":{"line":172,"column":1}},"111":{"start":{"line":23,"column":13},"end":{"line":172,"column":1}}},"fnMap":{"1":{"name":"(anonymous_3056)","line":23,"loc":{"start":{"line":23,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"ValueElement","line":27,"loc":{"start":{"line":27,"column":2},"end":{"line":27,"column":221}}},"3":{"name":"(anonymous_3058)","line":30,"loc":{"start":{"line":30,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_3059)","line":36,"loc":{"start":{"line":36,"column":2},"end":{"line":36,"column":60}}},"5":{"name":"(anonymous_3060)","line":50,"loc":{"start":{"line":50,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_3061)","line":56,"loc":{"start":{"line":56,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_3062)","line":62,"loc":{"start":{"line":62,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_3063)","line":68,"loc":{"start":{"line":68,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_3064)","line":74,"loc":{"start":{"line":74,"column":2},"end":{"line":74,"column":71}}},"10":{"name":"(anonymous_3065)","line":89,"loc":{"start":{"line":89,"column":33},"end":{"line":89,"column":38}}},"11":{"name":"(anonymous_3066)","line":91,"loc":{"start":{"line":91,"column":33},"end":{"line":91,"column":38}}},"12":{"name":"(anonymous_3067)","line":95,"loc":{"start":{"line":95,"column":2},"end":{"line":95,"column":72}}},"13":{"name":"(anonymous_3068)","line":105,"loc":{"start":{"line":105,"column":33},"end":{"line":105,"column":38}}},"14":{"name":"(anonymous_3069)","line":107,"loc":{"start":{"line":107,"column":33},"end":{"line":107,"column":38}}},"15":{"name":"(anonymous_3070)","line":111,"loc":{"start":{"line":111,"column":2},"end":{"line":111,"column":88}}},"16":{"name":"(anonymous_3071)","line":112,"loc":{"start":{"line":112,"column":40},"end":{"line":112,"column":46}}},"17":{"name":"(anonymous_3072)","line":125,"loc":{"start":{"line":125,"column":2},"end":{"line":125,"column":80}}},"18":{"name":"(anonymous_3073)","line":126,"loc":{"start":{"line":126,"column":46},"end":{"line":126,"column":52}}},"19":{"name":"(anonymous_3074)","line":134,"loc":{"start":{"line":134,"column":40},"end":{"line":134,"column":53}}},"20":{"name":"(anonymous_3075)","line":144,"loc":{"start":{"line":144,"column":2},"end":{"line":144,"column":82}}},"21":{"name":"(anonymous_3076)","line":145,"loc":{"start":{"line":145,"column":44},"end":{"line":null,"column":-1}}},"22":{"name":"(anonymous_3077)","line":152,"loc":{"start":{"line":152,"column":20},"end":{"line":null,"column":-1}}},"23":{"name":"(anonymous_3078)","line":160,"loc":{"start":{"line":160,"column":2},"end":{"line":160,"column":62}}},"24":{"name":"(anonymous_3079)","line":165,"loc":{"start":{"line":165,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":4},"end":{"line":37,"column":3}},{"start":{"line":37,"column":4},"end":{"line":37,"column":3}}]},"2":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":4},"end":{"line":43,"column":3}},{"start":{"line":43,"column":4},"end":{"line":43,"column":3}}]},"3":{"line":75,"type":"binary-expr","locations":[{"start":{"line":75,"column":45},"end":{"line":75,"column":74}},{"start":{"line":75,"column":78},"end":{"line":75,"column":104}}]},"4":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":4},"end":{"line":77,"column":3}},{"start":{"line":77,"column":4},"end":{"line":77,"column":3}}]},"5":{"line":78,"type":"cond-expr","locations":[{"start":{"line":78,"column":37},"end":{"line":78,"column":83}},{"start":{"line":78,"column":86},"end":{"line":78,"column":125}}]},"6":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":6},"end":{"line":81,"column":5}},{"start":{"line":81,"column":6},"end":{"line":81,"column":5}}]},"7":{"line":82,"type":"cond-expr","locations":[{"start":{"line":82,"column":39},"end":{"line":82,"column":84}},{"start":{"line":82,"column":87},"end":{"line":82,"column":125}}]},"8":{"line":84,"type":"cond-expr","locations":[{"start":{"line":84,"column":39},"end":{"line":84,"column":82}},{"start":{"line":84,"column":85},"end":{"line":84,"column":121}}]},"9":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":4},"end":{"line":88,"column":3}},{"start":{"line":88,"column":4},"end":{"line":88,"column":3}}]},"10":{"line":96,"type":"binary-expr","locations":[{"start":{"line":96,"column":45},"end":{"line":96,"column":74}},{"start":{"line":96,"column":78},"end":{"line":96,"column":104}}]},"11":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":4},"end":{"line":98,"column":3}},{"start":{"line":98,"column":4},"end":{"line":98,"column":3}}]},"12":{"line":99,"type":"cond-expr","locations":[{"start":{"line":99,"column":37},"end":{"line":99,"column":83}},{"start":{"line":99,"column":86},"end":{"line":99,"column":125}}]},"13":{"line":101,"type":"cond-expr","locations":[{"start":{"line":101,"column":37},"end":{"line":101,"column":81}},{"start":{"line":101,"column":84},"end":{"line":101,"column":121}}]},"14":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":4},"end":{"line":104,"column":3}},{"start":{"line":104,"column":4},"end":{"line":104,"column":3}}]},"15":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":6},"end":{"line":113,"column":5}},{"start":{"line":113,"column":6},"end":{"line":113,"column":5}}]},"16":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":6},"end":{"line":116,"column":5}},{"start":{"line":116,"column":6},"end":{"line":116,"column":5}}]},"17":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":6},"end":{"line":127,"column":5}},{"start":{"line":127,"column":6},"end":{"line":127,"column":5}}]},"18":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":6},"end":{"line":135,"column":5}},{"start":{"line":135,"column":6},"end":{"line":135,"column":5}}]},"19":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":6},"end":{"line":146,"column":5}},{"start":{"line":146,"column":6},"end":{"line":146,"column":5}}]},"20":{"line":151,"type":"if","locations":[{"start":{"line":151,"column":6},"end":{"line":151,"column":5}},{"start":{"line":151,"column":6},"end":{"line":151,"column":5}}]},"21":{"line":151,"type":"binary-expr","locations":[{"start":{"line":151,"column":10},"end":{"line":151,"column":38}},{"start":{"line":151,"column":42},"end":{"line":151,"column":83}},{"start":{"line":151,"column":87},"end":{"line":151,"column":123}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":351,"11":351,"12":351,"13":351,"14":1,"15":351,"16":351,"17":351,"18":1,"19":351,"20":0,"21":351,"22":351,"23":351,"24":13,"25":338,"26":1,"27":31,"28":31,"29":31,"30":1,"31":13,"32":13,"33":13,"34":1,"35":13,"36":13,"37":13,"38":1,"39":5,"40":5,"41":5,"42":1,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":1,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":1,"72":13,"73":13,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":1,"82":338,"83":338,"84":0,"85":0,"86":0,"87":0,"88":0,"89":338,"90":0,"91":0,"92":0,"93":0,"94":0,"95":1,"96":351,"97":351,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":1,"106":0,"107":0,"108":1,"109":0,"110":1,"111":1},"b":{"1":[0,351],"2":[13,338],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0,0]},"f":{"1":1,"2":351,"3":351,"4":351,"5":31,"6":13,"7":13,"8":5,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":13,"16":0,"17":338,"18":0,"19":0,"20":351,"21":0,"22":0,"23":0,"24":0},"code":"/// <reference path=\"Facet.ts\" />\nimport {Facet} from './Facet';\nimport {FacetValue} from './FacetValues';\nimport {IPopulateOmniboxObject} from '../Omnibox/OmniboxInterface';\nimport {ValueElementRenderer} from './ValueElementRenderer';\nimport {Utils} from '../../utils/Utils';\nimport {IAnalyticsActionCause, analyticsActionCauseList, IAnalyticsFacetMeta} from '../Analytics/AnalyticsActionListMeta';\nimport {$$} from '../../utils/Dom';\nimport {DeviceUtils} from '../../utils/DeviceUtils';\nimport {Defer} from '../../misc/Defer';\nimport {ModalBox} from '../../ExternalModulesShim';\n\nexport interface IValueElementKlass {\n  new (facet: Facet, facetValue: FacetValue): ValueElement;\n}\n\nexport interface IValueElementEventsBinding {\n  displayNextTime: boolean;\n  pinFacet: boolean;\n  omniboxObject?: IPopulateOmniboxObject;\n}\n\nexport class ValueElement {\n  public renderer: ValueElementRenderer;\n  private isOmnibox: boolean;\n\n  constructor(public facet: Facet, public facetValue: FacetValue, public onSelect?: (elem: ValueElement, cause: IAnalyticsActionCause) => void, public onExclude?: (elem: ValueElement, cause: IAnalyticsActionCause) => void) {\n  }\n\n  public build(): ValueElement {\n    this.renderer = new ValueElementRenderer(this.facet, this.facetValue).build();\n    this.bindEvent({ displayNextTime: true, pinFacet: this.facet.options.preservePosition });\n    return this;\n  }\n\n  public bindEvent(eventBindings: IValueElementEventsBinding) {\n    if (!Utils.isNullOrUndefined(eventBindings.omniboxObject)) {\n      this.isOmnibox = true;\n    } else {\n      this.isOmnibox = false;\n    }\n    this.handleEventForCheckboxChange(eventBindings);\n    if (this.facetValue.excluded) {\n      this.handleEventForExcludedValueElement(eventBindings);\n    } else {\n      this.handleEventForValueElement(eventBindings);\n    }\n  }\n\n  public select() {\n    this.facetValue.selected = true;\n    this.facetValue.excluded = false;\n    this.renderer.setCssClassOnListValueElement();\n  }\n\n  public unselect() {\n    this.facetValue.selected = false;\n    this.facetValue.excluded = false;\n    this.renderer.setCssClassOnListValueElement();\n  }\n\n  public exclude() {\n    this.facetValue.selected = false;\n    this.facetValue.excluded = true;\n    this.renderer.setCssClassOnListValueElement();\n  }\n\n  public unexclude() {\n    this.facetValue.selected = false;\n    this.facetValue.excluded = false;\n    this.renderer.setCssClassOnListValueElement();\n  }\n\n  protected handleSelectValue(eventBindings: IValueElementEventsBinding) {\n    this.facet.keepDisplayedValuesNextTime = eventBindings.displayNextTime && !this.facet.options.useAnd;\n    var actionCause: IAnalyticsActionCause;\n    if (this.facetValue.excluded) {\n      actionCause = this.isOmnibox ? analyticsActionCauseList.omniboxFacetUnexclude : analyticsActionCauseList.facetUnexclude;\n      this.facet.unexcludeValue(this.facetValue);\n    } else {\n      if (this.facetValue.selected) {\n        actionCause = this.isOmnibox ? analyticsActionCauseList.omniboxFacetDeselect : analyticsActionCauseList.facetDeselect;\n      } else {\n        actionCause = this.isOmnibox ? analyticsActionCauseList.omniboxFacetSelect : analyticsActionCauseList.facetSelect;\n      }\n      this.facet.toggleSelectValue(this.facetValue);\n    }\n    if (this.onSelect) {\n      this.facet.triggerNewQuery(() => this.onSelect(this, actionCause));\n    } else {\n      this.facet.triggerNewQuery(() => this.facet.usageAnalytics.logSearchEvent<IAnalyticsFacetMeta>(actionCause, this.getAnalyticsFacetMeta()));\n    }\n  }\n\n  protected handleExcludeClick(eventBindings: IValueElementEventsBinding) {\n    this.facet.keepDisplayedValuesNextTime = eventBindings.displayNextTime && !this.facet.options.useAnd;\n    var actionCause: IAnalyticsActionCause;\n    if (this.facetValue.excluded) {\n      actionCause = this.isOmnibox ? analyticsActionCauseList.omniboxFacetUnexclude : analyticsActionCauseList.facetUnexclude;\n    } else {\n      actionCause = this.isOmnibox ? analyticsActionCauseList.omniboxFacetExclude : analyticsActionCauseList.facetExclude;\n    }\n    this.facet.toggleExcludeValue(this.facetValue);\n    if (this.onExclude) {\n      this.facet.triggerNewQuery(() => this.onExclude(this, actionCause));\n    } else {\n      this.facet.triggerNewQuery(() => this.facet.usageAnalytics.logSearchEvent<IAnalyticsFacetMeta>(actionCause, this.getAnalyticsFacetMeta()));\n    }\n  }\n\n  protected handleEventForExcludedValueElement(eventBindings: IValueElementEventsBinding) {\n    $$(this.renderer.label).on('click', (event) => {\n      if (eventBindings.pinFacet) {\n        this.facet.pinFacetPosition();\n      }\n      if (eventBindings.omniboxObject) {\n        this.omniboxCloseEvent(eventBindings.omniboxObject);\n      }\n      this.handleSelectValue(eventBindings);\n      event.stopPropagation();\n      return false;\n    })\n  }\n\n  protected handleEventForValueElement(eventBindings: IValueElementEventsBinding) {\n    $$(this.renderer.excludeIcon).on('click', (event) => {\n      if (eventBindings.omniboxObject) {\n        this.omniboxCloseEvent(eventBindings.omniboxObject);\n      }\n      this.handleExcludeClick(eventBindings);\n      event.stopPropagation();\n      return false;\n    })\n    $$(this.renderer.label).on('click', (event: Event) => {\n      if (eventBindings.pinFacet) {\n        this.facet.pinFacetPosition();\n      }\n      event.preventDefault();\n      $$(this.renderer.checkbox).trigger('change');\n      return false;\n    })\n  }\n\n  protected handleEventForCheckboxChange(eventBindings: IValueElementEventsBinding) {\n    $$(this.renderer.checkbox).on('change', () => {\n      if (eventBindings.omniboxObject) {\n        this.omniboxCloseEvent(eventBindings.omniboxObject);\n      }\n\n      this.handleSelectValue(eventBindings);\n      if (DeviceUtils.isMobileDevice() && !this.facet.searchInterface.isNewDesign() && this.facet.options.enableFacetSearch) {\n        Defer.defer(() => {\n          ModalBox.close(true);\n          this.facet.facetSearch.completelyDismissSearch();\n        });\n      }\n    })\n  }\n\n  protected omniboxCloseEvent(eventArg: IPopulateOmniboxObject) {\n    eventArg.closeOmnibox();\n    eventArg.clear();\n  }\n\n  private getAnalyticsFacetMeta(): IAnalyticsFacetMeta {\n    return {\n      facetId: this.facet.options.id,\n      facetValue: this.facetValue.value,\n      facetTitle: this.facet.options.title\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Facet/ValueElement.ts\n **/","l":{"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"23":1,"27":351,"30":1,"31":351,"32":351,"33":351,"36":1,"37":351,"38":0,"40":351,"42":351,"43":351,"44":13,"46":338,"50":1,"51":31,"52":31,"53":31,"56":1,"57":13,"58":13,"59":13,"62":1,"63":13,"64":13,"65":13,"68":1,"69":5,"70":5,"71":5,"74":1,"75":0,"76":0,"77":0,"78":0,"79":0,"81":0,"82":0,"84":0,"86":0,"88":0,"89":0,"91":0,"95":1,"96":0,"97":0,"98":0,"99":0,"101":0,"103":0,"104":0,"105":0,"107":0,"111":13,"112":13,"113":0,"114":0,"116":0,"117":0,"119":0,"120":0,"121":0,"125":338,"126":338,"127":0,"128":0,"130":0,"131":0,"132":0,"134":338,"135":0,"136":0,"138":0,"139":0,"140":0,"144":351,"145":351,"146":0,"147":0,"150":0,"151":0,"152":0,"153":0,"154":0,"160":1,"161":0,"162":0,"165":1,"166":0,"172":1}},"src/ui/Facet/ValueElementRenderer.ts":{"path":"src/ui/Facet/ValueElementRenderer.ts","statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":35}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":40}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":44}},"5":{"start":{"line":9,"column":0},"end":{"line":216,"column":1}},"6":{"start":{"line":20,"column":2},"end":{"line":21,"column":3}},"7":{"start":{"line":20,"column":21},"end":{"line":20,"column":33}},"8":{"start":{"line":20,"column":42},"end":{"line":20,"column":64}},"9":{"start":{"line":25,"column":9},"end":{"line":38,"column":3}},"10":{"start":{"line":26,"column":4},"end":{"line":36,"column":5}},"11":{"start":{"line":27,"column":6},"end":{"line":31,"column":8}},"12":{"start":{"line":28,"column":8},"end":{"line":30,"column":9}},"13":{"start":{"line":29,"column":10},"end":{"line":29,"column":25}},"14":{"start":{"line":33,"column":6},"end":{"line":35,"column":7}},"15":{"start":{"line":34,"column":8},"end":{"line":34,"column":29}},"16":{"start":{"line":37,"column":4},"end":{"line":37,"column":16}},"17":{"start":{"line":40,"column":9},"end":{"line":105,"column":3}},"18":{"start":{"line":40,"column":2},"end":{"line":105,"column":3}},"19":{"start":{"line":41,"column":4},"end":{"line":43,"column":10}},"20":{"start":{"line":44,"column":4},"end":{"line":44,"column":71}},"21":{"start":{"line":45,"column":4},"end":{"line":48,"column":5}},"22":{"start":{"line":46,"column":6},"end":{"line":46,"column":49}},"23":{"start":{"line":47,"column":6},"end":{"line":47,"column":53}},"24":{"start":{"line":49,"column":4},"end":{"line":51,"column":10}},"25":{"start":{"line":52,"column":4},"end":{"line":52,"column":45}},"26":{"start":{"line":54,"column":4},"end":{"line":65,"column":5}},"27":{"start":{"line":55,"column":6},"end":{"line":55,"column":49}},"28":{"start":{"line":56,"column":6},"end":{"line":56,"column":53}},"29":{"start":{"line":58,"column":6},"end":{"line":60,"column":9}},"30":{"start":{"line":59,"column":8},"end":{"line":59,"column":72}},"31":{"start":{"line":62,"column":6},"end":{"line":64,"column":9}},"32":{"start":{"line":63,"column":8},"end":{"line":63,"column":75}},"33":{"start":{"line":66,"column":4},"end":{"line":72,"column":5}},"34":{"start":{"line":67,"column":6},"end":{"line":67,"column":58}},"35":{"start":{"line":68,"column":6},"end":{"line":70,"column":7}},"36":{"start":{"line":69,"column":8},"end":{"line":69,"column":51}},"37":{"start":{"line":71,"column":6},"end":{"line":71,"column":59}},"38":{"start":{"line":73,"column":4},"end":{"line":75,"column":10}},"39":{"start":{"line":76,"column":4},"end":{"line":76,"column":37}},"40":{"start":{"line":77,"column":4},"end":{"line":77,"column":46}},"41":{"start":{"line":78,"column":4},"end":{"line":78,"column":40}},"42":{"start":{"line":80,"column":4},"end":{"line":80,"column":60}},"43":{"start":{"line":81,"column":4},"end":{"line":81,"column":47}},"44":{"start":{"line":83,"column":4},"end":{"line":86,"column":5}},"45":{"start":{"line":84,"column":6},"end":{"line":84,"column":40}},"46":{"start":{"line":85,"column":6},"end":{"line":85,"column":38}},"47":{"start":{"line":87,"column":4},"end":{"line":101,"column":5}},"48":{"start":{"line":88,"column":6},"end":{"line":88,"column":47}},"49":{"start":{"line":89,"column":6},"end":{"line":91,"column":7}},"50":{"start":{"line":90,"column":8},"end":{"line":90,"column":46}},"51":{"start":{"line":92,"column":6},"end":{"line":92,"column":51}},"52":{"start":{"line":93,"column":6},"end":{"line":93,"column":46}},"53":{"start":{"line":95,"column":6},"end":{"line":95,"column":51}},"54":{"start":{"line":96,"column":6},"end":{"line":96,"column":46}},"55":{"start":{"line":97,"column":6},"end":{"line":97,"column":47}},"56":{"start":{"line":98,"column":6},"end":{"line":100,"column":7}},"57":{"start":{"line":99,"column":8},"end":{"line":99,"column":46}},"58":{"start":{"line":103,"column":4},"end":{"line":103,"column":41}},"59":{"start":{"line":104,"column":4},"end":{"line":104,"column":16}},"60":{"start":{"line":107,"column":9},"end":{"line":110,"column":3}},"61":{"start":{"line":108,"column":4},"end":{"line":108,"column":81}},"62":{"start":{"line":109,"column":4},"end":{"line":109,"column":81}},"63":{"start":{"line":112,"column":12},"end":{"line":127,"column":3}},"64":{"start":{"line":113,"column":4},"end":{"line":116,"column":10}},"65":{"start":{"line":118,"column":4},"end":{"line":122,"column":5}},"66":{"start":{"line":119,"column":6},"end":{"line":121,"column":13}},"67":{"start":{"line":123,"column":4},"end":{"line":125,"column":5}},"68":{"start":{"line":124,"column":6},"end":{"line":124,"column":72}},"69":{"start":{"line":126,"column":4},"end":{"line":126,"column":15}},"70":{"start":{"line":129,"column":12},"end":{"line":140,"column":3}},"71":{"start":{"line":130,"column":4},"end":{"line":130,"column":106}},"72":{"start":{"line":131,"column":4},"end":{"line":139,"column":5}},"73":{"start":{"line":132,"column":6},"end":{"line":134,"column":11}},"74":{"start":{"line":135,"column":6},"end":{"line":135,"column":35}},"75":{"start":{"line":136,"column":6},"end":{"line":136,"column":18}},"76":{"start":{"line":138,"column":6},"end":{"line":138,"column":23}},"77":{"start":{"line":142,"column":12},"end":{"line":158,"column":3}},"78":{"start":{"line":143,"column":4},"end":{"line":145,"column":9}},"79":{"start":{"line":146,"column":4},"end":{"line":150,"column":5}},"80":{"start":{"line":147,"column":6},"end":{"line":147,"column":50}},"81":{"start":{"line":149,"column":6},"end":{"line":149,"column":42}},"82":{"start":{"line":151,"column":4},"end":{"line":155,"column":5}},"83":{"start":{"line":152,"column":6},"end":{"line":152,"column":52}},"84":{"start":{"line":154,"column":6},"end":{"line":154,"column":43}},"85":{"start":{"line":156,"column":4},"end":{"line":156,"column":49}},"86":{"start":{"line":157,"column":4},"end":{"line":157,"column":20}},"87":{"start":{"line":160,"column":12},"end":{"line":165,"column":3}},"88":{"start":{"line":161,"column":4},"end":{"line":163,"column":22}},"89":{"start":{"line":164,"column":4},"end":{"line":164,"column":20}},"90":{"start":{"line":167,"column":12},"end":{"line":177,"column":3}},"91":{"start":{"line":168,"column":4},"end":{"line":168,"column":35}},"92":{"start":{"line":169,"column":4},"end":{"line":176,"column":5}},"93":{"start":{"line":170,"column":6},"end":{"line":173,"column":11}},"94":{"start":{"line":175,"column":6},"end":{"line":175,"column":45}},"95":{"start":{"line":179,"column":12},"end":{"line":185,"column":3}},"96":{"start":{"line":180,"column":4},"end":{"line":184,"column":5}},"97":{"start":{"line":181,"column":6},"end":{"line":181,"column":59}},"98":{"start":{"line":183,"column":6},"end":{"line":183,"column":23}},"99":{"start":{"line":187,"column":12},"end":{"line":191,"column":3}},"100":{"start":{"line":188,"column":4},"end":{"line":190,"column":9}},"101":{"start":{"line":193,"column":12},"end":{"line":202,"column":3}},"102":{"start":{"line":194,"column":4},"end":{"line":194,"column":62}},"103":{"start":{"line":195,"column":4},"end":{"line":198,"column":9}},"104":{"start":{"line":200,"column":4},"end":{"line":200,"column":35}},"105":{"start":{"line":201,"column":4},"end":{"line":201,"column":24}},"106":{"start":{"line":204,"column":12},"end":{"line":215,"column":3}},"107":{"start":{"line":205,"column":4},"end":{"line":205,"column":52}},"108":{"start":{"line":206,"column":4},"end":{"line":214,"column":5}},"109":{"start":{"line":207,"column":6},"end":{"line":209,"column":12}},"110":{"start":{"line":210,"column":6},"end":{"line":210,"column":35}},"111":{"start":{"line":211,"column":6},"end":{"line":211,"column":26}},"112":{"start":{"line":213,"column":6},"end":{"line":213,"column":23}},"113":{"start":{"line":216,"column":0},"end":{"line":216,"column":1}},"114":{"start":{"line":9,"column":13},"end":{"line":216,"column":1}}},"fnMap":{"1":{"name":"(anonymous_3082)","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"ValueElementRenderer","line":20,"loc":{"start":{"line":20,"column":2},"end":{"line":20,"column":64}}},"3":{"name":"(anonymous_3084)","line":25,"loc":{"start":{"line":25,"column":2},"end":{"line":25,"column":28}}},"4":{"name":"(anonymous_3085)","line":27,"loc":{"start":{"line":27,"column":22},"end":{"line":27,"column":37}}},"5":{"name":"(anonymous_3086)","line":40,"loc":{"start":{"line":40,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_3087)","line":58,"loc":{"start":{"line":58,"column":43},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_3088)","line":62,"loc":{"start":{"line":62,"column":42},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_3089)","line":107,"loc":{"start":{"line":107,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_3090)","line":112,"loc":{"start":{"line":112,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_3091)","line":129,"loc":{"start":{"line":129,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_3092)","line":142,"loc":{"start":{"line":142,"column":2},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_3093)","line":160,"loc":{"start":{"line":160,"column":2},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_3094)","line":167,"loc":{"start":{"line":167,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_3095)","line":179,"loc":{"start":{"line":179,"column":2},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_3096)","line":187,"loc":{"start":{"line":187,"column":2},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_3097)","line":193,"loc":{"start":{"line":193,"column":2},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_3098)","line":204,"loc":{"start":{"line":204,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":4},"end":{"line":26,"column":3}},{"start":{"line":26,"column":4},"end":{"line":26,"column":3}}]},"2":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":8},"end":{"line":28,"column":7}},{"start":{"line":28,"column":8},"end":{"line":28,"column":7}}]},"3":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":6},"end":{"line":33,"column":5}},{"start":{"line":33,"column":6},"end":{"line":33,"column":5}}]},"4":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":4},"end":{"line":45,"column":3}},{"start":{"line":45,"column":4},"end":{"line":45,"column":3}}]},"5":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":4},"end":{"line":54,"column":3}},{"start":{"line":54,"column":4},"end":{"line":54,"column":3}}]},"6":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":4},"end":{"line":66,"column":3}},{"start":{"line":66,"column":4},"end":{"line":66,"column":3}}]},"7":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":6},"end":{"line":68,"column":5}},{"start":{"line":68,"column":6},"end":{"line":68,"column":5}}]},"8":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":4},"end":{"line":83,"column":3}},{"start":{"line":83,"column":4},"end":{"line":83,"column":3}}]},"9":{"line":83,"type":"binary-expr","locations":[{"start":{"line":83,"column":8},"end":{"line":83,"column":35}},{"start":{"line":83,"column":39},"end":{"line":83,"column":80}}]},"10":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":4},"end":{"line":87,"column":3}},{"start":{"line":87,"column":4},"end":{"line":87,"column":3}}]},"11":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":6},"end":{"line":89,"column":5}},{"start":{"line":89,"column":6},"end":{"line":89,"column":5}}]},"12":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":6},"end":{"line":98,"column":5}},{"start":{"line":98,"column":6},"end":{"line":98,"column":5}}]},"13":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":4},"end":{"line":118,"column":3}},{"start":{"line":118,"column":4},"end":{"line":118,"column":3}}]},"14":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":4},"end":{"line":123,"column":3}},{"start":{"line":123,"column":4},"end":{"line":123,"column":3}}]},"15":{"line":131,"type":"if","locations":[{"start":{"line":131,"column":4},"end":{"line":131,"column":3}},{"start":{"line":131,"column":4},"end":{"line":131,"column":3}}]},"16":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":4},"end":{"line":146,"column":3}},{"start":{"line":146,"column":4},"end":{"line":146,"column":3}}]},"17":{"line":151,"type":"if","locations":[{"start":{"line":151,"column":4},"end":{"line":151,"column":3}},{"start":{"line":151,"column":4},"end":{"line":151,"column":3}}]},"18":{"line":169,"type":"if","locations":[{"start":{"line":169,"column":4},"end":{"line":169,"column":3}},{"start":{"line":169,"column":4},"end":{"line":169,"column":3}}]},"19":{"line":180,"type":"if","locations":[{"start":{"line":180,"column":4},"end":{"line":180,"column":3}},{"start":{"line":180,"column":4},"end":{"line":180,"column":3}}]},"20":{"line":206,"type":"if","locations":[{"start":{"line":206,"column":4},"end":{"line":206,"column":3}},{"start":{"line":206,"column":4},"end":{"line":206,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":392,"8":392,"9":1,"10":33,"11":32,"12":64,"13":32,"14":1,"15":1,"16":33,"17":1,"18":402,"19":402,"20":402,"21":402,"22":1,"23":1,"24":402,"25":402,"26":402,"27":401,"28":401,"29":401,"30":0,"31":401,"32":0,"33":402,"34":2,"35":2,"36":2,"37":2,"38":402,"39":402,"40":402,"41":402,"42":402,"43":402,"44":402,"45":1,"46":1,"47":402,"48":401,"49":401,"50":279,"51":401,"52":401,"53":1,"54":1,"55":1,"56":1,"57":0,"58":402,"59":402,"60":1,"61":464,"62":464,"63":1,"64":402,"65":402,"66":401,"67":402,"68":2,"69":402,"70":1,"71":2,"72":2,"73":2,"74":2,"75":2,"76":0,"77":1,"78":402,"79":402,"80":39,"81":363,"82":402,"83":15,"84":387,"85":402,"86":402,"87":1,"88":402,"89":402,"90":1,"91":1,"92":1,"93":0,"94":1,"95":1,"96":1,"97":0,"98":1,"99":1,"100":1,"101":1,"102":402,"103":402,"104":402,"105":402,"106":1,"107":402,"108":402,"109":279,"110":279,"111":279,"112":123,"113":1,"114":1},"b":{"1":[32,1],"2":[32,32],"3":[1,0],"4":[1,401],"5":[401,1],"6":[2,400],"7":[2,0],"8":[1,401],"9":[402,1],"10":[401,1],"11":[279,122],"12":[0,1],"13":[401,1],"14":[2,400],"15":[2,0],"16":[39,363],"17":[15,387],"18":[0,1],"19":[0,1],"20":[279,123]},"f":{"1":1,"2":392,"3":33,"4":64,"5":402,"6":0,"7":0,"8":464,"9":402,"10":2,"11":402,"12":402,"13":1,"14":1,"15":1,"16":402,"17":402},"code":"/// <reference path=\"Facet.ts\" />\nimport {Facet} from './Facet';\nimport {FacetValue} from './FacetValues';\nimport {$$} from '../../utils/Dom';\nimport {Utils} from '../../utils/Utils';\nimport {l} from '../../strings/Strings';\nimport {Component} from '../Base/Component';\n\nexport class ValueElementRenderer {\n  public listElement: HTMLElement;\n  public label: HTMLElement;\n  public checkbox: HTMLElement;\n  public stylishCheckbox: HTMLElement;\n  public valueCaption: HTMLElement;\n  public valueCount: HTMLElement;\n  public icon: HTMLElement;\n  public excludeIcon: HTMLElement;\n  public computedField: HTMLElement;\n\n  constructor(public facet: Facet, public facetValue: FacetValue) {\n  }\n\n  public withNo(element: HTMLElement[]): ValueElementRenderer;\n  public withNo(element: HTMLElement): ValueElementRenderer;\n  public withNo(element: any): ValueElementRenderer {\n    if (_.isArray(element)) {\n      _.each(element, (e: HTMLElement) => {\n        if (e) {\n          $$(e).detach();\n        }\n      })\n    } else {\n      if (element) {\n        $$(element).detach();\n      }\n    }\n    return this;\n  }\n\n  public build(): ValueElementRenderer {\n    this.listElement = $$('li', {\n      className: 'coveo-facet-value coveo-facet-selectable'\n    }).el;\n    this.listElement.setAttribute('data-value', this.facetValue.value);\n    if (!this.facet.searchInterface.isNewDesign()) {\n      this.excludeIcon = this.buildExcludeIcon();\n      this.listElement.appendChild(this.excludeIcon);\n    }\n    this.label = $$('label', {\n      className: 'coveo-facet-value-label'\n    }).el;\n    this.listElement.appendChild(this.label);\n\n    if (this.facet.searchInterface.isNewDesign()) {\n      this.excludeIcon = this.buildExcludeIcon();\n      this.listElement.appendChild(this.excludeIcon);\n\n      $$(this.excludeIcon).on('mouseover', () => {\n        $$(this.listElement).addClass('coveo-facet-value-will-exclude');\n      });\n\n      $$(this.excludeIcon).on('mouseout', () => {\n        $$(this.listElement).removeClass('coveo-facet-value-will-exclude');\n      });\n    }\n    if (Utils.exists(this.facetValue.computedField)) {\n      this.computedField = this.buildValueComputedField();\n      if (this.computedField) {\n        this.label.appendChild(this.computedField);\n      }\n      $$(this.label).addClass('coveo-with-computed-field');\n    }\n    var labelDiv = $$('div', {\n      className: 'coveo-facet-value-label-wrapper'\n    }).el;\n    this.label.appendChild(labelDiv);\n    this.checkbox = this.buildValueCheckbox();\n    labelDiv.appendChild(this.checkbox);\n\n    this.stylishCheckbox = this.buildValueStylishCheckbox();\n    labelDiv.appendChild(this.stylishCheckbox);\n\n    if (this.facet.options.showIcon && !this.facet.searchInterface.isNewDesign()) {\n      this.icon = this.buildValueIcon();\n      labelDiv.appendChild(this.icon);\n    }\n    if (this.facet.searchInterface.isNewDesign()) {\n      this.valueCount = this.buildValueCount();\n      if (this.valueCount) {\n        labelDiv.appendChild(this.valueCount);\n      }\n      this.valueCaption = this.buildValueCaption();\n      labelDiv.appendChild(this.valueCaption);\n    } else {\n      this.valueCaption = this.buildValueCaption();\n      labelDiv.appendChild(this.valueCaption);\n      this.valueCount = this.buildValueCount();\n      if (this.valueCount) {\n        labelDiv.appendChild(this.valueCount);\n      }\n    }\n\n    this.setCssClassOnListValueElement();\n    return this;\n  }\n\n  public setCssClassOnListValueElement(): void {\n    $$(this.listElement).toggleClass('coveo-selected', this.facetValue.selected);\n    $$(this.listElement).toggleClass('coveo-excluded', this.facetValue.excluded);\n  }\n\n  protected buildExcludeIcon(): HTMLElement {\n    var ret = $$('div', {\n      title: l('Exclude', this.facet.getValueCaption(this.facetValue)),\n      className: 'coveo-facet-value-exclude'\n    }).el;\n\n    if (this.facet.searchInterface.isNewDesign()) {\n      ret.appendChild($$('span', {\n        className: 'coveo-icon'\n      }).el);\n    }\n    if (Utils.exists(this.facetValue.computedField)) {\n      $$(ret).addClass('coveo-facet-value-exclude-with-computed-field');\n    }\n    return ret;\n  }\n\n  protected buildValueComputedField(): HTMLElement {\n    var computedField = this.facetValue.getFormattedComputedField(this.facet.options.computedFieldFormat);\n    if (Utils.isNonEmptyString(computedField)) {\n      var elem = $$('span', {\n        className: 'coveo-facet-value-computed-field'\n      }).el\n      $$(elem).text(computedField);\n      return elem;\n    } else {\n      return undefined;\n    }\n  }\n\n  protected buildValueCheckbox(): HTMLElement {\n    var checkbox = $$('input', {\n      type: 'checkbox'\n    }).el\n    if (this.facetValue.selected) {\n      checkbox.setAttribute('checked', 'checked');\n    } else {\n      checkbox.removeAttribute('checked');\n    }\n    if (this.facetValue.excluded) {\n      checkbox.setAttribute('disabled', 'disabled');\n    } else {\n      checkbox.removeAttribute('disabled');\n    }\n    Component.pointElementsToDummyForm(checkbox);\n    return checkbox;\n  }\n\n  protected buildValueStylishCheckbox(): HTMLElement {\n    var checkbox = $$('div', {\n      className: 'coveo-facet-value-checkbox'\n    }, $$('span')).el;\n    return checkbox;\n  }\n\n  protected buildValueIcon(): HTMLElement {\n    var icon = this.getValueIcon();\n    if (Utils.exists(icon)) {\n      return $$('img', {\n        className: 'coveo-facet-value-icon coveo-icon',\n        src: this.getValueIcon()\n      }).el\n    } else {\n      return this.buildValueIconFromSprite();\n    }\n  }\n\n  protected getValueIcon(): string {\n    if (Utils.exists(this.facet.options.valueIcon)) {\n      return this.facet.options.valueIcon(this.facetValue);\n    } else {\n      return undefined;\n    }\n  }\n\n  protected buildValueIconFromSprite(): HTMLElement {\n    return $$('div', {\n      className: 'coveo-facet-value-icon coveo-icon ' + this.facet.options.field.substr(1) + ' ' + this.facetValue.value\n    }).el\n  }\n\n  protected buildValueCaption(): HTMLElement {\n    var caption = this.facet.getValueCaption(this.facetValue);\n    var valueCaption = $$('span', {\n      className: 'coveo-facet-value-caption',\n      title: caption\n    }).el\n\n    $$(valueCaption).text(caption);\n    return valueCaption;\n  }\n\n  protected buildValueCount(): HTMLElement {\n    var count = this.facetValue.getFormattedCount();\n    if (Utils.isNonEmptyString(count)) {\n      var countElement = $$('span', {\n        className: 'coveo-facet-value-count'\n      }).el;\n      $$(countElement).text(count);\n      return countElement;\n    } else {\n      return undefined;\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Facet/ValueElementRenderer.ts\n **/","l":{"4":1,"5":1,"6":1,"7":1,"9":1,"20":392,"25":1,"26":33,"27":32,"28":64,"29":32,"33":1,"34":1,"37":33,"40":402,"41":402,"44":402,"45":402,"46":1,"47":1,"49":402,"52":402,"54":402,"55":401,"56":401,"58":401,"59":0,"62":401,"63":0,"66":402,"67":2,"68":2,"69":2,"71":2,"73":402,"76":402,"77":402,"78":402,"80":402,"81":402,"83":402,"84":1,"85":1,"87":402,"88":401,"89":401,"90":279,"92":401,"93":401,"95":1,"96":1,"97":1,"98":1,"99":0,"103":402,"104":402,"107":1,"108":464,"109":464,"112":1,"113":402,"118":402,"119":401,"123":402,"124":2,"126":402,"129":1,"130":2,"131":2,"132":2,"135":2,"136":2,"138":0,"142":1,"143":402,"146":402,"147":39,"149":363,"151":402,"152":15,"154":387,"156":402,"157":402,"160":1,"161":402,"164":402,"167":1,"168":1,"169":1,"170":0,"175":1,"179":1,"180":1,"181":0,"183":1,"187":1,"188":1,"193":1,"194":402,"195":402,"200":402,"201":402,"204":1,"205":402,"206":402,"207":279,"210":279,"211":279,"213":123,"216":1}},"src/ui/ResponsiveComponents/ResponsiveComponentsUtils.ts":{"path":"src/ui/ResponsiveComponents/ResponsiveComponentsUtils.ts","statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":33,"column":1}},"2":{"start":{"line":10,"column":9},"end":{"line":12,"column":3}},"3":{"start":{"line":11,"column":4},"end":{"line":11,"column":50}},"4":{"start":{"line":14,"column":9},"end":{"line":16,"column":3}},"5":{"start":{"line":15,"column":4},"end":{"line":15,"column":51}},"6":{"start":{"line":18,"column":9},"end":{"line":20,"column":3}},"7":{"start":{"line":19,"column":4},"end":{"line":19,"column":43}},"8":{"start":{"line":22,"column":9},"end":{"line":24,"column":3}},"9":{"start":{"line":23,"column":4},"end":{"line":23,"column":46}},"10":{"start":{"line":26,"column":9},"end":{"line":28,"column":3}},"11":{"start":{"line":27,"column":4},"end":{"line":27,"column":44}},"12":{"start":{"line":30,"column":9},"end":{"line":32,"column":3}},"13":{"start":{"line":31,"column":4},"end":{"line":31,"column":47}},"14":{"start":{"line":5,"column":17},"end":{"line":5,"column":65}},"15":{"start":{"line":6,"column":17},"end":{"line":6,"column":68}},"16":{"start":{"line":8,"column":16},"end":{"line":8,"column":42}},"17":{"start":{"line":33,"column":0},"end":{"line":33,"column":1}},"18":{"start":{"line":3,"column":13},"end":{"line":33,"column":1}}},"fnMap":{"1":{"name":"(anonymous_3100)","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_3102)","line":10,"loc":{"start":{"line":10,"column":2},"end":{"line":10,"column":39}}},"3":{"name":"(anonymous_3103)","line":14,"loc":{"start":{"line":14,"column":2},"end":{"line":14,"column":40}}},"4":{"name":"(anonymous_3104)","line":18,"loc":{"start":{"line":18,"column":2},"end":{"line":18,"column":36}}},"5":{"name":"(anonymous_3105)","line":22,"loc":{"start":{"line":22,"column":2},"end":{"line":22,"column":38}}},"6":{"name":"(anonymous_3106)","line":26,"loc":{"start":{"line":26,"column":2},"end":{"line":26,"column":37}}},"7":{"name":"(anonymous_3107)","line":30,"loc":{"start":{"line":30,"column":2},"end":{"line":30,"column":39}}}},"branchMap":{},"s":{"1":2,"2":1,"3":0,"4":1,"5":0,"6":1,"7":0,"8":1,"9":0,"10":1,"11":0,"12":1,"13":0,"14":1,"15":1,"16":1,"17":1,"18":1},"b":{},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"code":"import {Dom} from '../../utils/Dom';\n\nexport class ResponsiveComponentsUtils {\n\n  private static smallTabsClassName: string = 'coveo-small-tabs';\n  private static smallFacetClassName: string = 'coveo-small-facets';\n\n  public static MEDIUM_MOBILE_WIDTH = 640;\n\n  static isSmallTabsActivated(root: Dom): boolean {\n    return root.hasClass(this.smallTabsClassName);\n  }\n\n  static isSmallFacetActivated(root: Dom): boolean {\n    return root.hasClass(this.smallFacetClassName);\n  }\n\n  static activateSmallTabs(root: Dom) {\n    root.addClass(this.smallTabsClassName);\n  }\n\n  static deactivateSmallTabs(root: Dom) {\n    root.removeClass(this.smallTabsClassName);\n  }\n\n  static activateSmallFacet(root: Dom) {\n    root.addClass(this.smallFacetClassName);\n  }\n\n  static deactivateSmallFacet(root: Dom) {\n    root.removeClass(this.smallFacetClassName);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/ResponsiveComponents/ResponsiveComponentsUtils.ts\n **/","l":{"3":2,"5":1,"6":1,"8":1,"10":1,"11":0,"14":1,"15":0,"18":1,"19":0,"22":1,"23":0,"26":1,"27":0,"30":1,"31":0,"33":1}},"src/ui/Facet/FacetValuesOrder.ts":{"path":"src/ui/Facet/FacetValuesOrder.ts","statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":52}},"2":{"start":{"line":7,"column":0},"end":{"line":52,"column":1}},"3":{"start":{"line":8,"column":2},"end":{"line":10,"column":3}},"4":{"start":{"line":8,"column":21},"end":{"line":8,"column":33}},"5":{"start":{"line":8,"column":42},"end":{"line":8,"column":62}},"6":{"start":{"line":14,"column":9},"end":{"line":23,"column":3}},"7":{"start":{"line":15,"column":4},"end":{"line":21,"column":5}},"8":{"start":{"line":16,"column":6},"end":{"line":20,"column":7}},"9":{"start":{"line":17,"column":8},"end":{"line":17,"column":62}},"10":{"start":{"line":18,"column":13},"end":{"line":20,"column":7}},"11":{"start":{"line":19,"column":8},"end":{"line":19,"column":64}},"12":{"start":{"line":22,"column":4},"end":{"line":22,"column":23}},"13":{"start":{"line":25,"column":10},"end":{"line":41,"column":3}},"14":{"start":{"line":26,"column":4},"end":{"line":26,"column":110}},"15":{"start":{"line":26,"column":84},"end":{"line":26,"column":108}},"16":{"start":{"line":27,"column":4},"end":{"line":37,"column":7}},"17":{"start":{"line":30,"column":6},"end":{"line":32,"column":9}},"18":{"start":{"line":31,"column":8},"end":{"line":31,"column":204}},"19":{"start":{"line":33,"column":6},"end":{"line":35,"column":7}},"20":{"start":{"line":34,"column":8},"end":{"line":34,"column":48}},"21":{"start":{"line":36,"column":6},"end":{"line":36,"column":54}},"22":{"start":{"line":38,"column":4},"end":{"line":38,"column":51}},"23":{"start":{"line":39,"column":4},"end":{"line":39,"column":91}},"24":{"start":{"line":40,"column":4},"end":{"line":40,"column":41}},"25":{"start":{"line":43,"column":10},"end":{"line":51,"column":3}},"26":{"start":{"line":43,"column":2},"end":{"line":51,"column":3}},"27":{"start":{"line":44,"column":4},"end":{"line":46,"column":7}},"28":{"start":{"line":45,"column":6},"end":{"line":45,"column":66}},"29":{"start":{"line":47,"column":4},"end":{"line":49,"column":5}},"30":{"start":{"line":48,"column":6},"end":{"line":48,"column":32}},"31":{"start":{"line":50,"column":4},"end":{"line":50,"column":18}},"32":{"start":{"line":52,"column":0},"end":{"line":52,"column":1}},"33":{"start":{"line":7,"column":13},"end":{"line":52,"column":1}}},"fnMap":{"1":{"name":"(anonymous_3110)","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"FacetValuesOrder","line":8,"loc":{"start":{"line":8,"column":2},"end":{"line":8,"column":62}}},"3":{"name":"(anonymous_3112)","line":14,"loc":{"start":{"line":14,"column":2},"end":{"line":14,"column":41}}},"4":{"name":"(anonymous_3113)","line":25,"loc":{"start":{"line":25,"column":2},"end":{"line":25,"column":64}}},"5":{"name":"(anonymous_3114)","line":26,"loc":{"start":{"line":26,"column":68},"end":{"line":26,"column":79}}},"6":{"name":"(anonymous_3115)","line":27,"loc":{"start":{"line":27,"column":44},"end":{"line":27,"column":58}}},"7":{"name":"(anonymous_3116)","line":30,"loc":{"start":{"line":30,"column":52},"end":{"line":30,"column":63}}},"8":{"name":"(anonymous_3117)","line":43,"loc":{"start":{"line":43,"column":2},"end":{"line":43,"column":66}}},"9":{"name":"(anonymous_3118)","line":44,"loc":{"start":{"line":44,"column":39},"end":{"line":44,"column":62}}}},"branchMap":{"1":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":3}},{"start":{"line":15,"column":4},"end":{"line":15,"column":3}}]},"2":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":6},"end":{"line":16,"column":5}},{"start":{"line":16,"column":6},"end":{"line":16,"column":5}}]},"3":{"line":16,"type":"binary-expr","locations":[{"start":{"line":16,"column":10},"end":{"line":16,"column":52}},{"start":{"line":16,"column":56},"end":{"line":16,"column":98}}]},"4":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":13},"end":{"line":18,"column":12}},{"start":{"line":18,"column":13},"end":{"line":18,"column":12}}]},"5":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":15},"end":{"line":31,"column":86}},{"start":{"line":31,"column":91},"end":{"line":31,"column":121}},{"start":{"line":31,"column":125},"end":{"line":31,"column":202}}]},"6":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":6},"end":{"line":33,"column":5}},{"start":{"line":33,"column":6},"end":{"line":33,"column":5}}]},"7":{"line":39,"type":"cond-expr","locations":[{"start":{"line":39,"column":65},"end":{"line":39,"column":71}},{"start":{"line":39,"column":74},"end":{"line":39,"column":90}}]},"8":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":4},"end":{"line":47,"column":3}},{"start":{"line":47,"column":4},"end":{"line":47,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":52,"5":52,"6":1,"7":54,"8":52,"9":6,"10":46,"11":2,"12":46,"13":1,"14":6,"15":14,"16":6,"17":46,"18":88,"19":46,"20":32,"21":46,"22":6,"23":6,"24":6,"25":1,"26":2,"27":2,"28":6,"29":2,"30":1,"31":2,"32":1,"33":1},"b":{"1":[52,2],"2":[6,46],"3":[52,6],"4":[2,44],"5":[88,74,74],"6":[32,14],"7":[5,1],"8":[1,1]},"f":{"1":1,"2":52,"3":54,"4":6,"5":14,"6":46,"7":88,"8":2,"9":6},"code":"import {Facet} from './Facet';\nimport {FacetValue} from './FacetValues';\nimport {StringUtils} from '../../utils/StringUtils';\nimport {FacetSort} from './FacetSort';\nimport {IIndexFieldValue} from '../../rest/FieldValue';\n\nexport class FacetValuesOrder {\n  constructor(public facet: Facet, public facetSort: FacetSort) {\n\n  }\n\n  public reorderValues(facetValues: IIndexFieldValue[]): IIndexFieldValue[];\n  public reorderValues(facetValues: FacetValue[]): FacetValue[];\n  public reorderValues(facetValues: any[]): FacetValue[] | IIndexFieldValue[] {\n    if (this.facetSort) {\n      if (this.facetSort.activeSort.name == 'custom' && this.facet.options.customSort != undefined) {\n        return this.reorderValuesWithCustomOrder(facetValues);\n      } else if (this.facetSort.activeSort.name.indexOf('alpha') != -1) {\n        return this.reorderValuesWithCustomCaption(facetValues);\n      }\n    }\n    return facetValues;\n  }\n\n  private reorderValuesWithCustomOrder(facetValues: FacetValue[]) {\n    let customSortsLowercase = _.map(this.facet.options.customSort, (customSort) => customSort.toLowerCase());\n    let valueIndexPair = _.map(facetValues, (facetValue, i) => {\n      // Get the index of the current value in the custom sort array.\n      // If it's not found, put it's index to it's original value + the length of customSort so that's always after the specified custom sort order.\n      let index = _.findIndex(customSortsLowercase, (customSort) => {\n        return StringUtils.equalsCaseInsensitive(<string>customSort, facetValue.value) || (facetValue.lookupValue != null && StringUtils.equalsCaseInsensitive(<string>customSort, facetValue.lookupValue));\n      });\n      if (index == -1) {\n        index = i + customSortsLowercase.length;\n      }\n      return { facetValue: facetValue, index: index };\n    });\n    let sorted = _.sortBy(valueIndexPair, 'index');\n    sorted = this.facetSort.customSortDirection == 'ascending' ? sorted : sorted.reverse();\n    return _.pluck(sorted, 'facetValue');\n  }\n\n  private reorderValuesWithCustomCaption(facetValues: FacetValue[]) {\n    let sorted = _.sortBy(facetValues, (facetValue: FacetValue) => {\n      return this.facet.getValueCaption(facetValue).toLowerCase();\n    });\n    if (this.facetSort.activeSort.name.indexOf('descending') != -1) {\n      sorted = sorted.reverse();\n    }\n    return sorted;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Facet/FacetValuesOrder.ts\n **/","l":{"3":1,"7":1,"8":52,"14":1,"15":54,"16":52,"17":6,"18":46,"19":2,"22":46,"25":1,"26":14,"27":6,"30":46,"31":88,"33":46,"34":32,"36":46,"38":6,"39":6,"40":6,"43":2,"44":2,"45":6,"47":2,"48":1,"50":2,"52":1}},"src/ui/Facet/FacetSettings.ts":{"path":"src/ui/Facet/FacetSettings.ts","statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":5,"column":38}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":35}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":64}},"4":{"start":{"line":9,"column":0},"end":{"line":9,"column":40}},"5":{"start":{"line":10,"column":0},"end":{"line":10,"column":40}},"6":{"start":{"line":11,"column":0},"end":{"line":11,"column":61}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":99}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":52}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":91}},"10":{"start":{"line":29,"column":0},"end":{"line":547,"column":1}},"11":{"start":{"line":29,"column":35},"end":{"line":29,"column":44}},"12":{"start":{"line":50,"column":2},"end":{"line":53,"column":3}},"13":{"start":{"line":51,"column":4},"end":{"line":51,"column":24}},"14":{"start":{"line":50,"column":21},"end":{"line":50,"column":36}},"15":{"start":{"line":50,"column":45},"end":{"line":50,"column":57}},"16":{"start":{"line":46,"column":10},"end":{"line":46,"column":44}},"17":{"start":{"line":48,"column":10},"end":{"line":48,"column":79}},"18":{"start":{"line":52,"column":4},"end":{"line":52,"column":39}},"19":{"start":{"line":59,"column":9},"end":{"line":103,"column":3}},"20":{"start":{"line":59,"column":2},"end":{"line":103,"column":3}},"21":{"start":{"line":60,"column":4},"end":{"line":60,"column":56}},"22":{"start":{"line":61,"column":4},"end":{"line":61,"column":61}},"23":{"start":{"line":62,"column":4},"end":{"line":62,"column":68}},"24":{"start":{"line":64,"column":4},"end":{"line":64,"column":55}},"25":{"start":{"line":65,"column":4},"end":{"line":65,"column":49}},"26":{"start":{"line":67,"column":4},"end":{"line":67,"column":55}},"27":{"start":{"line":69,"column":4},"end":{"line":69,"column":55}},"28":{"start":{"line":70,"column":4},"end":{"line":70,"column":66}},"29":{"start":{"line":71,"column":4},"end":{"line":77,"column":5}},"30":{"start":{"line":72,"column":6},"end":{"line":72,"column":49}},"31":{"start":{"line":74,"column":6},"end":{"line":76,"column":7}},"32":{"start":{"line":75,"column":8},"end":{"line":75,"column":61}},"33":{"start":{"line":78,"column":4},"end":{"line":81,"column":5}},"34":{"start":{"line":79,"column":6},"end":{"line":79,"column":59}},"35":{"start":{"line":80,"column":6},"end":{"line":80,"column":61}},"36":{"start":{"line":82,"column":4},"end":{"line":82,"column":47}},"37":{"start":{"line":83,"column":4},"end":{"line":83,"column":47}},"38":{"start":{"line":85,"column":4},"end":{"line":90,"column":5}},"39":{"start":{"line":86,"column":6},"end":{"line":86,"column":55}},"40":{"start":{"line":87,"column":6},"end":{"line":87,"column":56}},"41":{"start":{"line":88,"column":6},"end":{"line":88,"column":50}},"42":{"start":{"line":89,"column":6},"end":{"line":89,"column":49}},"43":{"start":{"line":92,"column":4},"end":{"line":92,"column":52}},"44":{"start":{"line":93,"column":4},"end":{"line":101,"column":5}},"45":{"start":{"line":94,"column":6},"end":{"line":94,"column":63}},"46":{"start":{"line":95,"column":6},"end":{"line":97,"column":8}},"47":{"start":{"line":96,"column":8},"end":{"line":96,"column":37}},"48":{"start":{"line":98,"column":6},"end":{"line":98,"column":21}},"49":{"start":{"line":100,"column":6},"end":{"line":100,"column":21}},"50":{"start":{"line":102,"column":4},"end":{"line":102,"column":31}},"51":{"start":{"line":108,"column":9},"end":{"line":130,"column":3}},"52":{"start":{"line":109,"column":4},"end":{"line":129,"column":5}},"53":{"start":{"line":112,"column":6},"end":{"line":112,"column":53}},"54":{"start":{"line":113,"column":6},"end":{"line":113,"column":93}},"55":{"start":{"line":114,"column":6},"end":{"line":114,"column":93}},"56":{"start":{"line":115,"column":6},"end":{"line":115,"column":93}},"57":{"start":{"line":116,"column":6},"end":{"line":126,"column":7}},"58":{"start":{"line":120,"column":8},"end":{"line":120,"column":47}},"59":{"start":{"line":121,"column":8},"end":{"line":121,"column":60}},"60":{"start":{"line":122,"column":8},"end":{"line":122,"column":60}},"61":{"start":{"line":123,"column":8},"end":{"line":123,"column":60}},"62":{"start":{"line":124,"column":8},"end":{"line":124,"column":54}},"63":{"start":{"line":125,"column":8},"end":{"line":125,"column":40}},"64":{"start":{"line":128,"column":6},"end":{"line":128,"column":115}},"65":{"start":{"line":135,"column":9},"end":{"line":146,"column":3}},"66":{"start":{"line":136,"column":4},"end":{"line":144,"column":5}},"67":{"start":{"line":137,"column":6},"end":{"line":141,"column":8}},"68":{"start":{"line":143,"column":6},"end":{"line":143,"column":115}},"69":{"start":{"line":151,"column":9},"end":{"line":153,"column":3}},"70":{"start":{"line":152,"column":4},"end":{"line":152,"column":36}},"71":{"start":{"line":158,"column":9},"end":{"line":180,"column":3}},"72":{"start":{"line":158,"column":2},"end":{"line":180,"column":3}},"73":{"start":{"line":159,"column":4},"end":{"line":163,"column":49}},"74":{"start":{"line":165,"column":4},"end":{"line":165,"column":91}},"75":{"start":{"line":166,"column":4},"end":{"line":166,"column":90}},"76":{"start":{"line":168,"column":4},"end":{"line":170,"column":5}},"77":{"start":{"line":169,"column":6},"end":{"line":169,"column":101}},"78":{"start":{"line":171,"column":4},"end":{"line":179,"column":7}},"79":{"start":{"line":172,"column":6},"end":{"line":178,"column":7}},"80":{"start":{"line":173,"column":8},"end":{"line":177,"column":9}},"81":{"start":{"line":174,"column":10},"end":{"line":174,"column":57}},"82":{"start":{"line":176,"column":10},"end":{"line":176,"column":59}},"83":{"start":{"line":182,"column":10},"end":{"line":199,"column":3}},"84":{"start":{"line":183,"column":4},"end":{"line":183,"column":77}},"85":{"start":{"line":184,"column":4},"end":{"line":184,"column":43}},"86":{"start":{"line":185,"column":4},"end":{"line":185,"column":45}},"87":{"start":{"line":186,"column":4},"end":{"line":191,"column":5}},"88":{"start":{"line":187,"column":6},"end":{"line":187,"column":52}},"89":{"start":{"line":188,"column":6},"end":{"line":188,"column":72}},"90":{"start":{"line":189,"column":6},"end":{"line":189,"column":45}},"91":{"start":{"line":190,"column":6},"end":{"line":190,"column":46}},"92":{"start":{"line":192,"column":4},"end":{"line":192,"column":49}},"93":{"start":{"line":193,"column":4},"end":{"line":195,"column":6}},"94":{"start":{"line":194,"column":6},"end":{"line":194,"column":38}},"95":{"start":{"line":196,"column":4},"end":{"line":196,"column":45}},"96":{"start":{"line":197,"column":4},"end":{"line":197,"column":46}},"97":{"start":{"line":198,"column":4},"end":{"line":198,"column":58}},"98":{"start":{"line":201,"column":10},"end":{"line":213,"column":3}},"99":{"start":{"line":201,"column":2},"end":{"line":213,"column":3}},"100":{"start":{"line":202,"column":4},"end":{"line":210,"column":6}},"101":{"start":{"line":203,"column":6},"end":{"line":209,"column":7}},"102":{"start":{"line":204,"column":8},"end":{"line":204,"column":25}},"103":{"start":{"line":206,"column":8},"end":{"line":206,"column":81}},"104":{"start":{"line":207,"column":8},"end":{"line":207,"column":87}},"105":{"start":{"line":207,"column":43},"end":{"line":207,"column":85}},"106":{"start":{"line":208,"column":8},"end":{"line":208,"column":20}},"107":{"start":{"line":211,"column":4},"end":{"line":211,"column":29}},"108":{"start":{"line":212,"column":4},"end":{"line":212,"column":17}},"109":{"start":{"line":215,"column":10},"end":{"line":226,"column":3}},"110":{"start":{"line":216,"column":4},"end":{"line":216,"column":17}},"111":{"start":{"line":217,"column":4},"end":{"line":225,"column":5}},"112":{"start":{"line":218,"column":6},"end":{"line":218,"column":50}},"113":{"start":{"line":220,"column":6},"end":{"line":220,"column":38}},"114":{"start":{"line":221,"column":6},"end":{"line":224,"column":7}},"115":{"start":{"line":222,"column":8},"end":{"line":222,"column":47}},"116":{"start":{"line":223,"column":8},"end":{"line":223,"column":50}},"117":{"start":{"line":228,"column":10},"end":{"line":232,"column":3}},"118":{"start":{"line":229,"column":4},"end":{"line":231,"column":6}},"119":{"start":{"line":230,"column":6},"end":{"line":230,"column":50}},"120":{"start":{"line":235,"column":10},"end":{"line":288,"column":3}},"121":{"start":{"line":235,"column":2},"end":{"line":288,"column":3}},"122":{"start":{"line":236,"column":4},"end":{"line":287,"column":5}},"123":{"start":{"line":237,"column":6},"end":{"line":237,"column":90}},"124":{"start":{"line":238,"column":6},"end":{"line":238,"column":43}},"125":{"start":{"line":239,"column":6},"end":{"line":239,"column":44}},"126":{"start":{"line":240,"column":6},"end":{"line":240,"column":54}},"127":{"start":{"line":241,"column":6},"end":{"line":241,"column":67}},"128":{"start":{"line":243,"column":6},"end":{"line":243,"column":52}},"129":{"start":{"line":244,"column":6},"end":{"line":244,"column":59}},"130":{"start":{"line":245,"column":6},"end":{"line":245,"column":69}},"131":{"start":{"line":246,"column":6},"end":{"line":246,"column":105}},"132":{"start":{"line":246,"column":62},"end":{"line":246,"column":103}},"133":{"start":{"line":248,"column":6},"end":{"line":248,"column":92}},"134":{"start":{"line":249,"column":6},"end":{"line":249,"column":55}},"135":{"start":{"line":250,"column":6},"end":{"line":250,"column":69}},"136":{"start":{"line":252,"column":6},"end":{"line":252,"column":55}},"137":{"start":{"line":253,"column":6},"end":{"line":253,"column":60}},"138":{"start":{"line":254,"column":6},"end":{"line":254,"column":71}},"139":{"start":{"line":255,"column":6},"end":{"line":255,"column":107}},"140":{"start":{"line":255,"column":63},"end":{"line":255,"column":105}},"141":{"start":{"line":257,"column":6},"end":{"line":262,"column":7}},"142":{"start":{"line":258,"column":8},"end":{"line":258,"column":80}},"143":{"start":{"line":259,"column":8},"end":{"line":259,"column":81}},"144":{"start":{"line":261,"column":8},"end":{"line":261,"column":69}},"145":{"start":{"line":263,"column":6},"end":{"line":263,"column":69}},"146":{"start":{"line":266,"column":6},"end":{"line":266,"column":89}},"147":{"start":{"line":267,"column":6},"end":{"line":267,"column":34}},"148":{"start":{"line":269,"column":6},"end":{"line":269,"column":45}},"149":{"start":{"line":270,"column":6},"end":{"line":270,"column":67}},"150":{"start":{"line":271,"column":6},"end":{"line":271,"column":89}},"151":{"start":{"line":271,"column":46},"end":{"line":271,"column":87}},"152":{"start":{"line":273,"column":6},"end":{"line":273,"column":69}},"153":{"start":{"line":274,"column":6},"end":{"line":274,"column":91}},"154":{"start":{"line":274,"column":47},"end":{"line":274,"column":89}},"155":{"start":{"line":276,"column":6},"end":{"line":276,"column":44}},"156":{"start":{"line":277,"column":6},"end":{"line":277,"column":45}},"157":{"start":{"line":278,"column":6},"end":{"line":278,"column":41}},"158":{"start":{"line":279,"column":6},"end":{"line":279,"column":51}},"159":{"start":{"line":281,"column":6},"end":{"line":285,"column":7}},"160":{"start":{"line":282,"column":8},"end":{"line":282,"column":71}},"161":{"start":{"line":284,"column":8},"end":{"line":284,"column":74}},"162":{"start":{"line":286,"column":6},"end":{"line":286,"column":32}},"163":{"start":{"line":290,"column":10},"end":{"line":310,"column":3}},"164":{"start":{"line":290,"column":2},"end":{"line":310,"column":3}},"165":{"start":{"line":291,"column":4},"end":{"line":291,"column":88}},"166":{"start":{"line":292,"column":4},"end":{"line":292,"column":32}},"167":{"start":{"line":293,"column":4},"end":{"line":293,"column":43}},"168":{"start":{"line":295,"column":4},"end":{"line":295,"column":109}},"169":{"start":{"line":296,"column":4},"end":{"line":296,"column":84}},"170":{"start":{"line":297,"column":4},"end":{"line":297,"column":91}},"171":{"start":{"line":298,"column":4},"end":{"line":298,"column":90}},"172":{"start":{"line":300,"column":4},"end":{"line":300,"column":54}},"173":{"start":{"line":301,"column":4},"end":{"line":301,"column":60}},"174":{"start":{"line":302,"column":4},"end":{"line":302,"column":71}},"175":{"start":{"line":303,"column":4},"end":{"line":303,"column":58}},"176":{"start":{"line":304,"column":4},"end":{"line":304,"column":46}},"177":{"start":{"line":306,"column":4},"end":{"line":306,"column":39}},"178":{"start":{"line":307,"column":4},"end":{"line":307,"column":49}},"179":{"start":{"line":308,"column":4},"end":{"line":308,"column":80}},"180":{"start":{"line":308,"column":51},"end":{"line":308,"column":78}},"181":{"start":{"line":309,"column":4},"end":{"line":309,"column":28}},"182":{"start":{"line":312,"column":10},"end":{"line":322,"column":3}},"183":{"start":{"line":312,"column":2},"end":{"line":322,"column":3}},"184":{"start":{"line":313,"column":4},"end":{"line":313,"column":89}},"185":{"start":{"line":314,"column":4},"end":{"line":314,"column":32}},"186":{"start":{"line":315,"column":4},"end":{"line":315,"column":44}},"187":{"start":{"line":316,"column":4},"end":{"line":316,"column":62}},"188":{"start":{"line":317,"column":4},"end":{"line":317,"column":48}},"189":{"start":{"line":318,"column":4},"end":{"line":318,"column":40}},"190":{"start":{"line":319,"column":4},"end":{"line":319,"column":51}},"191":{"start":{"line":320,"column":4},"end":{"line":320,"column":82}},"192":{"start":{"line":320,"column":52},"end":{"line":320,"column":80}},"193":{"start":{"line":321,"column":4},"end":{"line":321,"column":29}},"194":{"start":{"line":324,"column":10},"end":{"line":338,"column":3}},"195":{"start":{"line":324,"column":2},"end":{"line":338,"column":3}},"196":{"start":{"line":325,"column":4},"end":{"line":325,"column":77}},"197":{"start":{"line":326,"column":4},"end":{"line":326,"column":32}},"198":{"start":{"line":327,"column":4},"end":{"line":327,"column":38}},"199":{"start":{"line":328,"column":4},"end":{"line":328,"column":49}},"200":{"start":{"line":329,"column":4},"end":{"line":329,"column":36}},"201":{"start":{"line":331,"column":4},"end":{"line":331,"column":34}},"202":{"start":{"line":332,"column":4},"end":{"line":332,"column":39}},"203":{"start":{"line":333,"column":4},"end":{"line":336,"column":6}},"204":{"start":{"line":334,"column":6},"end":{"line":334,"column":45}},"205":{"start":{"line":335,"column":6},"end":{"line":335,"column":19}},"206":{"start":{"line":337,"column":4},"end":{"line":337,"column":23}},"207":{"start":{"line":340,"column":10},"end":{"line":354,"column":3}},"208":{"start":{"line":340,"column":2},"end":{"line":354,"column":3}},"209":{"start":{"line":341,"column":4},"end":{"line":341,"column":77}},"210":{"start":{"line":342,"column":4},"end":{"line":342,"column":32}},"211":{"start":{"line":343,"column":4},"end":{"line":343,"column":38}},"212":{"start":{"line":344,"column":4},"end":{"line":344,"column":47}},"213":{"start":{"line":345,"column":4},"end":{"line":345,"column":36}},"214":{"start":{"line":347,"column":4},"end":{"line":347,"column":34}},"215":{"start":{"line":348,"column":4},"end":{"line":348,"column":39}},"216":{"start":{"line":349,"column":4},"end":{"line":352,"column":6}},"217":{"start":{"line":350,"column":6},"end":{"line":350,"column":43}},"218":{"start":{"line":351,"column":6},"end":{"line":351,"column":19}},"219":{"start":{"line":353,"column":4},"end":{"line":353,"column":23}},"220":{"start":{"line":356,"column":10},"end":{"line":369,"column":3}},"221":{"start":{"line":357,"column":4},"end":{"line":368,"column":5}},"222":{"start":{"line":358,"column":6},"end":{"line":358,"column":47}},"223":{"start":{"line":359,"column":6},"end":{"line":359,"column":48}},"224":{"start":{"line":360,"column":6},"end":{"line":360,"column":53}},"225":{"start":{"line":361,"column":6},"end":{"line":361,"column":44}},"226":{"start":{"line":362,"column":6},"end":{"line":362,"column":35}},"227":{"start":{"line":363,"column":6},"end":{"line":363,"column":18}},"228":{"start":{"line":365,"column":6},"end":{"line":365,"column":47}},"229":{"start":{"line":366,"column":6},"end":{"line":366,"column":38}},"230":{"start":{"line":367,"column":6},"end":{"line":367,"column":18}},"231":{"start":{"line":371,"column":10},"end":{"line":375,"column":3}},"232":{"start":{"line":372,"column":4},"end":{"line":372,"column":44}},"233":{"start":{"line":373,"column":4},"end":{"line":373,"column":65}},"234":{"start":{"line":374,"column":4},"end":{"line":374,"column":16}},"235":{"start":{"line":377,"column":10},"end":{"line":379,"column":3}},"236":{"start":{"line":378,"column":4},"end":{"line":378,"column":98}},"237":{"start":{"line":381,"column":10},"end":{"line":387,"column":3}},"238":{"start":{"line":381,"column":35},"end":{"line":381,"column":48}},"239":{"start":{"line":382,"column":4},"end":{"line":382,"column":45}},"240":{"start":{"line":383,"column":4},"end":{"line":383,"column":50}},"241":{"start":{"line":384,"column":4},"end":{"line":384,"column":48}},"242":{"start":{"line":385,"column":4},"end":{"line":385,"column":35}},"243":{"start":{"line":386,"column":4},"end":{"line":386,"column":16}},"244":{"start":{"line":389,"column":10},"end":{"line":393,"column":3}},"245":{"start":{"line":390,"column":4},"end":{"line":390,"column":45}},"246":{"start":{"line":391,"column":4},"end":{"line":391,"column":52}},"247":{"start":{"line":392,"column":4},"end":{"line":392,"column":16}},"248":{"start":{"line":395,"column":10},"end":{"line":399,"column":3}},"249":{"start":{"line":396,"column":4},"end":{"line":396,"column":48}},"250":{"start":{"line":397,"column":4},"end":{"line":397,"column":70}},"251":{"start":{"line":398,"column":4},"end":{"line":398,"column":19}},"252":{"start":{"line":401,"column":10},"end":{"line":407,"column":3}},"253":{"start":{"line":402,"column":4},"end":{"line":406,"column":5}},"254":{"start":{"line":403,"column":6},"end":{"line":403,"column":19}},"255":{"start":{"line":405,"column":6},"end":{"line":405,"column":18}},"256":{"start":{"line":409,"column":10},"end":{"line":420,"column":3}},"257":{"start":{"line":410,"column":4},"end":{"line":419,"column":5}},"258":{"start":{"line":411,"column":6},"end":{"line":411,"column":36}},"259":{"start":{"line":412,"column":6},"end":{"line":416,"column":7}},"260":{"start":{"line":413,"column":8},"end":{"line":413,"column":40}},"261":{"start":{"line":415,"column":8},"end":{"line":415,"column":39}},"262":{"start":{"line":417,"column":6},"end":{"line":417,"column":45}},"263":{"start":{"line":418,"column":6},"end":{"line":418,"column":37}},"264":{"start":{"line":422,"column":10},"end":{"line":435,"column":3}},"265":{"start":{"line":422,"column":2},"end":{"line":435,"column":3}},"266":{"start":{"line":423,"column":4},"end":{"line":434,"column":5}},"267":{"start":{"line":424,"column":6},"end":{"line":424,"column":82}},"268":{"start":{"line":425,"column":6},"end":{"line":427,"column":8}},"269":{"start":{"line":426,"column":8},"end":{"line":426,"column":32}},"270":{"start":{"line":428,"column":6},"end":{"line":428,"column":45}},"271":{"start":{"line":429,"column":6},"end":{"line":432,"column":7}},"272":{"start":{"line":430,"column":8},"end":{"line":430,"column":45}},"273":{"start":{"line":431,"column":8},"end":{"line":431,"column":46}},"274":{"start":{"line":433,"column":6},"end":{"line":433,"column":37}},"275":{"start":{"line":437,"column":10},"end":{"line":440,"column":3}},"276":{"start":{"line":438,"column":4},"end":{"line":438,"column":21}},"277":{"start":{"line":439,"column":4},"end":{"line":439,"column":17}},"278":{"start":{"line":442,"column":10},"end":{"line":450,"column":3}},"279":{"start":{"line":442,"column":2},"end":{"line":450,"column":3}},"280":{"start":{"line":443,"column":4},"end":{"line":443,"column":41}},"281":{"start":{"line":444,"column":4},"end":{"line":444,"column":23}},"282":{"start":{"line":445,"column":4},"end":{"line":445,"column":17}},"283":{"start":{"line":446,"column":4},"end":{"line":449,"column":8}},"284":{"start":{"line":446,"column":37},"end":{"line":449,"column":6}},"285":{"start":{"line":452,"column":10},"end":{"line":469,"column":3}},"286":{"start":{"line":452,"column":2},"end":{"line":469,"column":3}},"287":{"start":{"line":453,"column":4},"end":{"line":453,"column":29}},"288":{"start":{"line":454,"column":4},"end":{"line":454,"column":103}},"289":{"start":{"line":454,"column":54},"end":{"line":454,"column":101}},"290":{"start":{"line":456,"column":4},"end":{"line":460,"column":5}},"291":{"start":{"line":457,"column":6},"end":{"line":459,"column":13}},"292":{"start":{"line":458,"column":8},"end":{"line":458,"column":21}},"293":{"start":{"line":461,"column":4},"end":{"line":463,"column":5}},"294":{"start":{"line":462,"column":6},"end":{"line":462,"column":33}},"295":{"start":{"line":465,"column":4},"end":{"line":465,"column":55}},"296":{"start":{"line":466,"column":4},"end":{"line":466,"column":56}},"297":{"start":{"line":467,"column":4},"end":{"line":467,"column":55}},"298":{"start":{"line":468,"column":4},"end":{"line":468,"column":56}},"299":{"start":{"line":471,"column":9},"end":{"line":484,"column":3}},"300":{"start":{"line":471,"column":2},"end":{"line":484,"column":3}},"301":{"start":{"line":471,"column":33},"end":{"line":471,"column":73}},"302":{"start":{"line":472,"column":4},"end":{"line":472,"column":27}},"303":{"start":{"line":473,"column":4},"end":{"line":479,"column":6}},"304":{"start":{"line":474,"column":6},"end":{"line":478,"column":7}},"305":{"start":{"line":475,"column":8},"end":{"line":477,"column":10}},"306":{"start":{"line":476,"column":10},"end":{"line":476,"column":93}},"307":{"start":{"line":480,"column":4},"end":{"line":482,"column":5}},"308":{"start":{"line":481,"column":6},"end":{"line":481,"column":34}},"309":{"start":{"line":483,"column":4},"end":{"line":483,"column":17}},"310":{"start":{"line":486,"column":10},"end":{"line":492,"column":3}},"311":{"start":{"line":486,"column":2},"end":{"line":492,"column":3}},"312":{"start":{"line":487,"column":4},"end":{"line":490,"column":6}},"313":{"start":{"line":488,"column":6},"end":{"line":488,"column":65}},"314":{"start":{"line":489,"column":6},"end":{"line":489,"column":38}},"315":{"start":{"line":491,"column":4},"end":{"line":491,"column":52}},"316":{"start":{"line":494,"column":10},"end":{"line":500,"column":3}},"317":{"start":{"line":494,"column":2},"end":{"line":500,"column":3}},"318":{"start":{"line":495,"column":4},"end":{"line":498,"column":6}},"319":{"start":{"line":496,"column":6},"end":{"line":496,"column":62}},"320":{"start":{"line":497,"column":6},"end":{"line":497,"column":38}},"321":{"start":{"line":502,"column":10},"end":{"line":504,"column":3}},"322":{"start":{"line":503,"column":4},"end":{"line":503,"column":61}},"323":{"start":{"line":506,"column":10},"end":{"line":510,"column":3}},"324":{"start":{"line":507,"column":4},"end":{"line":509,"column":6}},"325":{"start":{"line":508,"column":6},"end":{"line":508,"column":42}},"326":{"start":{"line":512,"column":10},"end":{"line":514,"column":3}},"327":{"start":{"line":513,"column":4},"end":{"line":513,"column":40}},"328":{"start":{"line":516,"column":10},"end":{"line":518,"column":3}},"329":{"start":{"line":517,"column":4},"end":{"line":517,"column":43}},"330":{"start":{"line":520,"column":10},"end":{"line":527,"column":3}},"331":{"start":{"line":521,"column":4},"end":{"line":521,"column":120}},"332":{"start":{"line":522,"column":4},"end":{"line":522,"column":53}},"333":{"start":{"line":523,"column":4},"end":{"line":526,"column":5}},"334":{"start":{"line":529,"column":10},"end":{"line":540,"column":3}},"335":{"start":{"line":529,"column":2},"end":{"line":540,"column":3}},"336":{"start":{"line":530,"column":4},"end":{"line":539,"column":7}},"337":{"start":{"line":531,"column":6},"end":{"line":538,"column":7}},"338":{"start":{"line":532,"column":8},"end":{"line":537,"column":9}},"339":{"start":{"line":533,"column":10},"end":{"line":536,"column":11}},"340":{"start":{"line":534,"column":12},"end":{"line":534,"column":83}},"341":{"start":{"line":535,"column":12},"end":{"line":535,"column":18}},"342":{"start":{"line":542,"column":10},"end":{"line":546,"column":3}},"343":{"start":{"line":543,"column":4},"end":{"line":545,"column":5}},"344":{"start":{"line":544,"column":6},"end":{"line":544,"column":47}},"345":{"start":{"line":547,"column":0},"end":{"line":547,"column":1}},"346":{"start":{"line":29,"column":13},"end":{"line":547,"column":1}}},"fnMap":{"1":{"name":"(anonymous_3123)","line":29,"loc":{"start":{"line":29,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"FacetSettings","line":50,"loc":{"start":{"line":50,"column":2},"end":{"line":50,"column":57}}},"3":{"name":"(anonymous_3125)","line":59,"loc":{"start":{"line":59,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_3126)","line":85,"loc":{"start":{"line":85,"column":23},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_3127)","line":95,"loc":{"start":{"line":95,"column":36},"end":{"line":95,"column":38}}},"6":{"name":"(anonymous_3128)","line":108,"loc":{"start":{"line":108,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_3129)","line":135,"loc":{"start":{"line":135,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_3130)","line":151,"loc":{"start":{"line":151,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_3131)","line":158,"loc":{"start":{"line":158,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_3132)","line":171,"loc":{"start":{"line":171,"column":30},"end":{"line":171,"column":65}}},"11":{"name":"(anonymous_3133)","line":182,"loc":{"start":{"line":182,"column":2},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_3134)","line":193,"loc":{"start":{"line":193,"column":22},"end":{"line":193,"column":24}}},"13":{"name":"(anonymous_3135)","line":201,"loc":{"start":{"line":201,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_3136)","line":202,"loc":{"start":{"line":202,"column":41},"end":{"line":202,"column":53}}},"15":{"name":"(anonymous_3137)","line":207,"loc":{"start":{"line":207,"column":29},"end":{"line":207,"column":38}}},"16":{"name":"(anonymous_3138)","line":215,"loc":{"start":{"line":215,"column":2},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_3139)","line":228,"loc":{"start":{"line":228,"column":2},"end":{"line":null,"column":-1}}},"18":{"name":"(anonymous_3140)","line":229,"loc":{"start":{"line":229,"column":37},"end":{"line":229,"column":81}}},"19":{"name":"(anonymous_3141)","line":235,"loc":{"start":{"line":235,"column":2},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_3142)","line":246,"loc":{"start":{"line":246,"column":48},"end":{"line":246,"column":57}}},"21":{"name":"(anonymous_3143)","line":255,"loc":{"start":{"line":255,"column":49},"end":{"line":255,"column":58}}},"22":{"name":"(anonymous_3144)","line":271,"loc":{"start":{"line":271,"column":32},"end":{"line":271,"column":41}}},"23":{"name":"(anonymous_3145)","line":274,"loc":{"start":{"line":274,"column":33},"end":{"line":274,"column":42}}},"24":{"name":"(anonymous_3146)","line":290,"loc":{"start":{"line":290,"column":2},"end":{"line":null,"column":-1}}},"25":{"name":"(anonymous_3147)","line":308,"loc":{"start":{"line":308,"column":37},"end":{"line":308,"column":46}}},"26":{"name":"(anonymous_3148)","line":312,"loc":{"start":{"line":312,"column":2},"end":{"line":null,"column":-1}}},"27":{"name":"(anonymous_3149)","line":320,"loc":{"start":{"line":320,"column":38},"end":{"line":320,"column":47}}},"28":{"name":"(anonymous_3150)","line":324,"loc":{"start":{"line":324,"column":2},"end":{"line":null,"column":-1}}},"29":{"name":"(anonymous_3151)","line":333,"loc":{"start":{"line":333,"column":32},"end":{"line":333,"column":41}}},"30":{"name":"(anonymous_3152)","line":340,"loc":{"start":{"line":340,"column":2},"end":{"line":null,"column":-1}}},"31":{"name":"(anonymous_3153)","line":349,"loc":{"start":{"line":349,"column":32},"end":{"line":349,"column":41}}},"32":{"name":"(anonymous_3154)","line":356,"loc":{"start":{"line":356,"column":2},"end":{"line":null,"column":-1}}},"33":{"name":"(anonymous_3155)","line":371,"loc":{"start":{"line":371,"column":2},"end":{"line":371,"column":54}}},"34":{"name":"(anonymous_3156)","line":377,"loc":{"start":{"line":377,"column":2},"end":{"line":377,"column":61}}},"35":{"name":"(anonymous_3157)","line":381,"loc":{"start":{"line":381,"column":2},"end":{"line":381,"column":48}}},"36":{"name":"(anonymous_3158)","line":389,"loc":{"start":{"line":389,"column":2},"end":{"line":null,"column":-1}}},"37":{"name":"(anonymous_3159)","line":395,"loc":{"start":{"line":395,"column":2},"end":{"line":395,"column":40}}},"38":{"name":"(anonymous_3160)","line":401,"loc":{"start":{"line":401,"column":2},"end":{"line":401,"column":115}}},"39":{"name":"(anonymous_3161)","line":409,"loc":{"start":{"line":409,"column":2},"end":{"line":409,"column":76}}},"40":{"name":"(anonymous_3162)","line":422,"loc":{"start":{"line":422,"column":2},"end":{"line":422,"column":58}}},"41":{"name":"(anonymous_3163)","line":425,"loc":{"start":{"line":425,"column":36},"end":{"line":425,"column":38}}},"42":{"name":"(anonymous_3164)","line":437,"loc":{"start":{"line":437,"column":2},"end":{"line":null,"column":-1}}},"43":{"name":"(anonymous_3165)","line":442,"loc":{"start":{"line":442,"column":2},"end":{"line":null,"column":-1}}},"44":{"name":"(anonymous_3166)","line":446,"loc":{"start":{"line":446,"column":31},"end":{"line":446,"column":36}}},"45":{"name":"(anonymous_3167)","line":452,"loc":{"start":{"line":452,"column":2},"end":{"line":452,"column":98}}},"46":{"name":"(anonymous_3168)","line":454,"loc":{"start":{"line":454,"column":40},"end":{"line":454,"column":49}}},"47":{"name":"(anonymous_3169)","line":456,"loc":{"start":{"line":456,"column":21},"end":{"line":null,"column":-1}}},"48":{"name":"(anonymous_3170)","line":457,"loc":{"start":{"line":457,"column":32},"end":{"line":null,"column":-1}}},"49":{"name":"(anonymous_3171)","line":461,"loc":{"start":{"line":461,"column":21},"end":{"line":null,"column":-1}}},"50":{"name":"(anonymous_3172)","line":471,"loc":{"start":{"line":471,"column":2},"end":{"line":471,"column":73}}},"51":{"name":"(anonymous_3173)","line":473,"loc":{"start":{"line":473,"column":29},"end":{"line":473,"column":39}}},"52":{"name":"(anonymous_3174)","line":475,"loc":{"start":{"line":475,"column":49},"end":{"line":475,"column":72}}},"53":{"name":"(anonymous_3175)","line":486,"loc":{"start":{"line":486,"column":2},"end":{"line":null,"column":-1}}},"54":{"name":"(anonymous_3176)","line":487,"loc":{"start":{"line":487,"column":34},"end":{"line":487,"column":44}}},"55":{"name":"(anonymous_3177)","line":494,"loc":{"start":{"line":494,"column":2},"end":{"line":null,"column":-1}}},"56":{"name":"(anonymous_3178)","line":495,"loc":{"start":{"line":495,"column":34},"end":{"line":495,"column":44}}},"57":{"name":"(anonymous_3179)","line":502,"loc":{"start":{"line":502,"column":2},"end":{"line":502,"column":39}}},"58":{"name":"(anonymous_3180)","line":506,"loc":{"start":{"line":506,"column":2},"end":{"line":506,"column":46}}},"59":{"name":"(anonymous_3181)","line":507,"loc":{"start":{"line":507,"column":35},"end":{"line":507,"column":37}}},"60":{"name":"(anonymous_3182)","line":512,"loc":{"start":{"line":512,"column":2},"end":{"line":512,"column":38}}},"61":{"name":"(anonymous_3183)","line":516,"loc":{"start":{"line":516,"column":2},"end":{"line":516,"column":40}}},"62":{"name":"(anonymous_3184)","line":520,"loc":{"start":{"line":520,"column":2},"end":{"line":null,"column":-1}}},"63":{"name":"(anonymous_3185)","line":529,"loc":{"start":{"line":529,"column":2},"end":{"line":null,"column":-1}}},"64":{"name":"(anonymous_3186)","line":530,"loc":{"start":{"line":530,"column":30},"end":{"line":530,"column":76}}},"65":{"name":"(anonymous_3187)","line":542,"loc":{"start":{"line":542,"column":2},"end":{"line":542,"column":52}}}},"branchMap":{"1":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":4},"end":{"line":71,"column":3}},{"start":{"line":71,"column":4},"end":{"line":71,"column":3}}]},"2":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":6},"end":{"line":74,"column":5}},{"start":{"line":74,"column":6},"end":{"line":74,"column":5}}]},"3":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":4},"end":{"line":78,"column":3}},{"start":{"line":78,"column":4},"end":{"line":78,"column":3}}]},"4":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":4},"end":{"line":93,"column":3}},{"start":{"line":93,"column":4},"end":{"line":93,"column":3}}]},"5":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":4},"end":{"line":109,"column":3}},{"start":{"line":109,"column":4},"end":{"line":109,"column":3}}]},"6":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":6},"end":{"line":116,"column":5}},{"start":{"line":116,"column":6},"end":{"line":116,"column":5}}]},"7":{"line":116,"type":"binary-expr","locations":[{"start":{"line":116,"column":10},"end":{"line":116,"column":41}},{"start":{"line":117,"column":11},"end":{"line":117,"column":51}},{"start":{"line":118,"column":11},"end":{"line":118,"column":51}},{"start":{"line":119,"column":11},"end":{"line":119,"column":56}}]},"8":{"line":136,"type":"if","locations":[{"start":{"line":136,"column":4},"end":{"line":136,"column":3}},{"start":{"line":136,"column":4},"end":{"line":136,"column":3}}]},"9":{"line":168,"type":"if","locations":[{"start":{"line":168,"column":4},"end":{"line":168,"column":3}},{"start":{"line":168,"column":4},"end":{"line":168,"column":3}}]},"10":{"line":172,"type":"if","locations":[{"start":{"line":172,"column":6},"end":{"line":172,"column":5}},{"start":{"line":172,"column":6},"end":{"line":172,"column":5}}]},"11":{"line":173,"type":"if","locations":[{"start":{"line":173,"column":8},"end":{"line":173,"column":7}},{"start":{"line":173,"column":8},"end":{"line":173,"column":7}}]},"12":{"line":173,"type":"binary-expr","locations":[{"start":{"line":173,"column":12},"end":{"line":173,"column":63}},{"start":{"line":173,"column":67},"end":{"line":173,"column":125}}]},"13":{"line":186,"type":"if","locations":[{"start":{"line":186,"column":4},"end":{"line":186,"column":3}},{"start":{"line":186,"column":4},"end":{"line":186,"column":3}}]},"14":{"line":203,"type":"if","locations":[{"start":{"line":203,"column":6},"end":{"line":203,"column":5}},{"start":{"line":203,"column":6},"end":{"line":203,"column":5}}]},"15":{"line":217,"type":"if","locations":[{"start":{"line":217,"column":4},"end":{"line":217,"column":3}},{"start":{"line":217,"column":4},"end":{"line":217,"column":3}}]},"16":{"line":221,"type":"if","locations":[{"start":{"line":221,"column":6},"end":{"line":221,"column":5}},{"start":{"line":221,"column":6},"end":{"line":221,"column":5}}]},"17":{"line":236,"type":"if","locations":[{"start":{"line":236,"column":4},"end":{"line":236,"column":3}},{"start":{"line":236,"column":4},"end":{"line":236,"column":3}}]},"18":{"line":257,"type":"if","locations":[{"start":{"line":257,"column":6},"end":{"line":257,"column":5}},{"start":{"line":257,"column":6},"end":{"line":257,"column":5}}]},"19":{"line":281,"type":"if","locations":[{"start":{"line":281,"column":6},"end":{"line":281,"column":5}},{"start":{"line":281,"column":6},"end":{"line":281,"column":5}}]},"20":{"line":357,"type":"if","locations":[{"start":{"line":357,"column":4},"end":{"line":357,"column":3}},{"start":{"line":357,"column":4},"end":{"line":357,"column":3}}]},"21":{"line":381,"type":"if","locations":[{"start":{"line":381,"column":35},"end":{"line":381,"column":34}},{"start":{"line":381,"column":35},"end":{"line":381,"column":34}}]},"22":{"line":402,"type":"if","locations":[{"start":{"line":402,"column":4},"end":{"line":402,"column":3}},{"start":{"line":402,"column":4},"end":{"line":402,"column":3}}]},"23":{"line":410,"type":"if","locations":[{"start":{"line":410,"column":4},"end":{"line":410,"column":3}},{"start":{"line":410,"column":4},"end":{"line":410,"column":3}}]},"24":{"line":410,"type":"binary-expr","locations":[{"start":{"line":410,"column":8},"end":{"line":410,"column":38}},{"start":{"line":410,"column":42},"end":{"line":410,"column":89}}]},"25":{"line":412,"type":"if","locations":[{"start":{"line":412,"column":6},"end":{"line":412,"column":5}},{"start":{"line":412,"column":6},"end":{"line":412,"column":5}}]},"26":{"line":412,"type":"binary-expr","locations":[{"start":{"line":412,"column":10},"end":{"line":412,"column":37}},{"start":{"line":412,"column":41},"end":{"line":412,"column":129}}]},"27":{"line":423,"type":"if","locations":[{"start":{"line":423,"column":4},"end":{"line":423,"column":3}},{"start":{"line":423,"column":4},"end":{"line":423,"column":3}}]},"28":{"line":423,"type":"binary-expr","locations":[{"start":{"line":423,"column":8},"end":{"line":423,"column":106}},{"start":{"line":423,"column":110},"end":{"line":423,"column":155}}]},"29":{"line":429,"type":"if","locations":[{"start":{"line":429,"column":6},"end":{"line":429,"column":5}},{"start":{"line":429,"column":6},"end":{"line":429,"column":5}}]},"30":{"line":429,"type":"binary-expr","locations":[{"start":{"line":429,"column":10},"end":{"line":429,"column":42}},{"start":{"line":429,"column":46},"end":{"line":429,"column":83}}]},"31":{"line":471,"type":"if","locations":[{"start":{"line":471,"column":33},"end":{"line":471,"column":32}},{"start":{"line":471,"column":33},"end":{"line":471,"column":32}}]},"32":{"line":474,"type":"if","locations":[{"start":{"line":474,"column":6},"end":{"line":474,"column":5}},{"start":{"line":474,"column":6},"end":{"line":474,"column":5}}]},"33":{"line":480,"type":"if","locations":[{"start":{"line":480,"column":4},"end":{"line":480,"column":3}},{"start":{"line":480,"column":4},"end":{"line":480,"column":3}}]},"34":{"line":521,"type":"cond-expr","locations":[{"start":{"line":521,"column":61},"end":{"line":521,"column":87}},{"start":{"line":521,"column":90},"end":{"line":521,"column":119}}]},"35":{"line":531,"type":"if","locations":[{"start":{"line":531,"column":6},"end":{"line":531,"column":5}},{"start":{"line":531,"column":6},"end":{"line":531,"column":5}}]},"36":{"line":533,"type":"if","locations":[{"start":{"line":533,"column":10},"end":{"line":533,"column":9}},{"start":{"line":533,"column":10},"end":{"line":533,"column":9}}]},"37":{"line":543,"type":"if","locations":[{"start":{"line":543,"column":4},"end":{"line":543,"column":3}},{"start":{"line":543,"column":4},"end":{"line":543,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":74,"14":74,"15":74,"16":74,"17":74,"18":74,"19":1,"20":76,"21":76,"22":76,"23":76,"24":76,"25":76,"26":76,"27":76,"28":76,"29":76,"30":69,"31":69,"32":68,"33":76,"34":4,"35":4,"36":76,"37":76,"38":76,"39":76,"40":76,"41":76,"42":76,"43":76,"44":76,"45":69,"46":69,"47":135,"48":69,"49":7,"50":76,"51":1,"52":2,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":2,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":0,"78":1,"79":0,"80":0,"81":0,"82":0,"83":1,"84":69,"85":69,"86":69,"87":69,"88":68,"89":68,"90":68,"91":68,"92":69,"93":69,"94":206,"95":69,"96":69,"97":69,"98":1,"99":69,"100":69,"101":274,"102":68,"103":206,"104":206,"105":0,"106":206,"107":69,"108":69,"109":1,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":1,"118":69,"119":203,"120":1,"121":68,"122":68,"123":67,"124":67,"125":67,"126":67,"127":67,"128":67,"129":67,"130":67,"131":67,"132":0,"133":67,"134":67,"135":67,"136":67,"137":67,"138":67,"139":67,"140":0,"141":67,"142":66,"143":66,"144":1,"145":67,"146":1,"147":1,"148":1,"149":1,"150":1,"151":0,"152":1,"153":1,"154":0,"155":1,"156":1,"157":1,"158":1,"159":1,"160":1,"161":0,"162":1,"163":1,"164":4,"165":4,"166":4,"167":4,"168":4,"169":4,"170":4,"171":4,"172":4,"173":4,"174":4,"175":4,"176":4,"177":4,"178":4,"179":4,"180":0,"181":4,"182":1,"183":4,"184":4,"185":4,"186":4,"187":4,"188":4,"189":4,"190":4,"191":4,"192":0,"193":4,"194":1,"195":76,"196":76,"197":76,"198":76,"199":76,"200":76,"201":76,"202":76,"203":76,"204":0,"205":0,"206":76,"207":1,"208":76,"209":76,"210":76,"211":76,"212":76,"213":76,"214":76,"215":76,"216":76,"217":0,"218":0,"219":76,"220":1,"221":364,"222":360,"223":360,"224":360,"225":360,"226":360,"227":360,"228":4,"229":4,"230":4,"231":1,"232":136,"233":136,"234":136,"235":1,"236":134,"237":1,"238":790,"239":498,"240":498,"241":498,"242":498,"243":498,"244":1,"245":364,"246":364,"247":364,"248":1,"249":364,"250":364,"251":364,"252":1,"253":0,"254":0,"255":0,"256":1,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":1,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":1,"276":0,"277":0,"278":1,"279":0,"280":0,"281":0,"282":0,"283":0,"284":0,"285":1,"286":76,"287":76,"288":76,"289":0,"290":76,"291":0,"292":0,"293":76,"294":0,"295":76,"296":76,"297":76,"298":76,"299":1,"300":0,"301":0,"302":0,"303":0,"304":0,"305":0,"306":0,"307":0,"308":0,"309":0,"310":1,"311":0,"312":0,"313":0,"314":0,"315":0,"316":1,"317":0,"318":0,"319":0,"320":0,"321":1,"322":1,"323":1,"324":0,"325":0,"326":1,"327":1,"328":1,"329":0,"330":1,"331":1,"332":1,"333":1,"334":1,"335":74,"336":74,"337":266,"338":133,"339":70,"340":66,"341":66,"342":1,"343":439,"344":295,"345":1,"346":1},"b":{"1":[69,7],"2":[68,1],"3":[4,72],"4":[69,7],"5":[1,1],"6":[1,0],"7":[1,1,1,1],"8":[1,1],"9":[0,1],"10":[0,0],"11":[0,0],"12":[0,0],"13":[68,1],"14":[68,206],"15":[0,0],"16":[0,0],"17":[67,1],"18":[66,1],"19":[1,0],"20":[360,4],"21":[292,206],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,1],"35":[133,133],"36":[66,4],"37":[295,144]},"f":{"1":1,"2":74,"3":76,"4":76,"5":135,"6":2,"7":2,"8":1,"9":1,"10":0,"11":69,"12":206,"13":69,"14":274,"15":0,"16":0,"17":69,"18":203,"19":68,"20":0,"21":0,"22":0,"23":0,"24":4,"25":0,"26":4,"27":0,"28":76,"29":0,"30":76,"31":0,"32":364,"33":136,"34":134,"35":498,"36":364,"37":364,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":76,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1,"58":0,"59":0,"60":1,"61":0,"62":1,"63":74,"64":266,"65":439},"code":"/// <reference path=\"Facet.ts\" />\n/// <reference path=\"FacetSort.ts\" />\n/// <reference path=\"FacetHeader.ts\" />\nimport {Facet} from './Facet';\nimport {FacetSort} from './FacetSort';\nimport {$$} from '../../utils/Dom';\nimport {LocalStorageUtils} from '../../utils/LocalStorageUtils';\nimport {IFacetSortDescription} from './FacetSort';\nimport {Utils} from '../../utils/Utils';\nimport {l} from '../../strings/Strings';\nimport {QueryStateModel} from '../../models/QueryStateModel';\nimport {IAnalyticsFacetMeta, analyticsActionCauseList} from '../Analytics/AnalyticsActionListMeta';\nimport {DeviceUtils} from '../../utils/DeviceUtils';\nimport {PopupUtils, HorizontalAlignment, VerticalAlignment } from '../../utils/PopupUtils';\n\nexport interface IFacetSettingsKlass {\n  new (sorts: string[], facet: Facet): FacetSettings;\n}\n\nexport interface IFacetState {\n  included: string[]\n  excluded: string[];\n  operator: string;\n}\n\n/**\n * Handle the rendering of the {@link Facet} settings menu (typically the ... in the facet header)\n */\nexport class FacetSettings extends FacetSort {\n  public loadedFromSettings: { [attribute: string]: any };\n\n  private facetStateLocalStorage: LocalStorageUtils<IFacetState>;\n  private includedStateAttribute: string;\n  private excludedStateAttribute: string;\n  private operatorStateAttribute: string;\n\n  private settingsPopup: HTMLElement;\n  private settingsIcon: HTMLElement;\n  private settingsButton: HTMLElement;\n  private directionSection: HTMLElement[];\n  private saveStateSection: HTMLElement;\n  private clearStateSection: HTMLElement;\n  private hideSection: HTMLElement;\n  private showSection: HTMLElement;\n  private sortSection: { element: HTMLElement; sortItems: HTMLElement[] };\n  private customSortDirectionChange = false;\n\n  private enabledSortsIgnoreRenderBecauseOfPairs: IFacetSortDescription[] = [];\n\n  constructor(public sorts: string[], public facet: Facet) {\n    super(sorts, facet);\n    this.filterDuplicateForRendering();\n  }\n\n  /**\n   * Build the menu, hook click events\n   * @returns {HTMLElement}\n   */\n  public build() {\n    this.settingsButton = document.createElement('div');\n    this.settingsButton.setAttribute('title', l('Settings'));\n    $$(this.settingsButton).addClass('coveo-facet-header-settings');\n\n    this.settingsIcon = document.createElement('span');\n    $$(this.settingsIcon).addClass('coveo-icon');\n\n    this.settingsButton.appendChild(this.settingsIcon);\n\n    this.settingsPopup = document.createElement('div');\n    $$(this.settingsPopup).addClass('coveo-facet-settings-popup');\n    if (Utils.isNonEmptyArray(this.enabledSorts)) {\n      this.sortSection = this.buildSortSection();\n\n      if (this.enabledSortsAllowDirection()) {\n        this.directionSection = this.buildDirectionSection();\n      }\n    }\n    if (this.facet.options.enableSettingsFacetState) {\n      this.saveStateSection = this.buildSaveStateSection();\n      this.clearStateSection = this.buildClearStateSection();\n    }\n    this.hideSection = this.buildHideSection();\n    this.showSection = this.buildShowSection();\n\n    var appendCommon = () => {\n      this.appendIfNotUndefined(this.saveStateSection);\n      this.appendIfNotUndefined(this.clearStateSection);\n      this.appendIfNotUndefined(this.hideSection);\n      this.appendIfNotUndefined(this.showSection)\n    }\n\n    this.handleMouseEventOnButton(this.sortSection);\n    if (Utils.isNonEmptyArray(this.enabledSorts)) {\n      this.settingsPopup.appendChild(this.sortSection.element);\n      _.each(this.directionSection, (d) => {\n        this.appendIfNotUndefined(d);\n      })\n      appendCommon();\n    } else {\n      appendCommon();\n    }\n    return this.settingsButton;\n  }\n\n  /**\n   * Restore the facet state from local storage, and apply it in the query state model\n   */\n  public loadSavedState() {\n    if (this.facetStateLocalStorage) {\n      // set the state from the settings only if there is nothing\n      // in the query state model for the current facet\n      var state = this.facetStateLocalStorage.load();\n      var currentStateIncluded = this.facet.queryStateModel.get(this.includedStateAttribute);\n      var currentStateExcluded = this.facet.queryStateModel.get(this.excludedStateAttribute);\n      var currentStateOperator = this.facet.queryStateModel.get(this.operatorStateAttribute);\n      if (!Utils.isNullOrUndefined(state)\n        && Utils.isEmptyArray(currentStateIncluded)\n        && Utils.isEmptyArray(currentStateExcluded)\n        && !Utils.isNonEmptyString(currentStateOperator)) {\n        var toSet: { [key: string]: any } = {};\n        toSet[this.includedStateAttribute] = state.included;\n        toSet[this.excludedStateAttribute] = state.excluded;\n        toSet[this.operatorStateAttribute] = state.operator;\n        this.facet.queryStateModel.setMultiple(toSet);\n        this.loadedFromSettings = toSet;\n      }\n    } else {\n      this.facet.logger.info('Facet state local storage not enabled : See Facet.options.enableSettingsFacetState');\n    }\n  }\n\n  /**\n   * Take the current state of the facet and save it in the local storage\n   */\n  public saveState() {\n    if (this.facetStateLocalStorage) {\n      this.facetStateLocalStorage.save({\n        included: this.facet.queryStateModel.get(this.includedStateAttribute),\n        excluded: this.facet.queryStateModel.get(this.excludedStateAttribute),\n        operator: this.facet.queryStateModel.get(this.operatorStateAttribute),\n      })\n    } else {\n      this.facet.logger.info('Facet state local storage not enabled : See Facet.options.enableSettingsFacetState');\n    }\n\n  }\n\n  /**\n   * Close the settings menu\n   */\n  public close() {\n    $$(this.settingsPopup).detach();\n  }\n\n  /**\n   * Open the settings menu\n   */\n  public open() {\n    PopupUtils.positionPopup(\n      this.settingsPopup,\n      this.settingsButton,\n      this.facet.root,\n      this.getPopupAlignment(), this.facet.root);\n\n    $$(this.hideSection).toggle(!$$(this.facet.element).hasClass('coveo-facet-collapsed'));\n    $$(this.showSection).toggle($$(this.facet.element).hasClass('coveo-facet-collapsed'));\n\n    if (this.facet.options.enableSettingsFacetState) {\n      $$(this.clearStateSection).toggle(!Utils.isNullOrUndefined(this.facetStateLocalStorage.load()))\n    }\n    _.each(this.enabledSorts, (criteria: IFacetSortDescription, i) => {\n      if (!Utils.isNullOrUndefined(this.sortSection.sortItems[i])) {\n        if (this.activeSort.name == criteria.name.toLowerCase() || this.activeSort.relatedSort == criteria.name.toLowerCase()) {\n          this.selectItem(this.sortSection.sortItems[i]);\n        } else {\n          this.unselectItem(this.sortSection.sortItems[i]);\n        }\n      }\n    });\n  }\n\n  private buildSortSection() {\n    var sortSection = this.buildSection('coveo-facet-settings-section-sort');\n    var sortSectionIcon = this.buildIcon();\n    var sortSectionItems = this.buildItems();\n    if (this.facet.searchInterface.isNewDesign()) {\n      var sortTitle = document.createElement('div');\n      $$(sortTitle).addClass('coveo-facet-settings-section-sort-title');\n      $$(sortTitle).text(l('SortBy') + ' :');\n      sortSectionItems.appendChild(sortTitle);\n    }\n    var sortItems = this.buildSortSectionItems();\n    _.each(sortItems, (s) => {\n      sortSectionItems.appendChild(s);\n    })\n    sortSection.appendChild(sortSectionIcon);\n    sortSection.appendChild(sortSectionItems);\n    return { element: sortSection, sortItems: sortItems };\n  }\n\n  private buildSortSectionItems() {\n    var elems = _.map(this.enabledSorts, (enabledSort) => {\n      if (_.contains(this.enabledSortsIgnoreRenderBecauseOfPairs, enabledSort)) {\n        return undefined;\n      } else {\n        var elem = this.buildItem(l(enabledSort.label), enabledSort.description);\n        $$(elem).on('click', (e: Event) => this.handleClickSortButton(e, enabledSort));\n        return elem;\n      }\n    })\n    elems = _.compact(elems);\n    return elems;\n  }\n\n  private closePopupAndUpdateSort() {\n    this.close();\n    if (this.activeSort.name != 'custom') {\n      this.facet.updateSort(this.activeSort.name);\n    } else {\n      this.facet.updateSort('nosort');\n      if (this.customSortDirectionChange) {\n        this.customSortDirectionChange = false;\n        this.facet.queryController.executeQuery();\n      }\n    }\n  }\n\n  private enabledSortsAllowDirection() {\n    return _.some(this.enabledSorts, (facetSortDescription: IFacetSortDescription) => {\n      return facetSortDescription.directionToggle;\n    })\n  }\n\n\n  private buildDirectionSection() {\n    if (this.facet.searchInterface.isNewDesign()) {\n      var directionAscendingSection = this.buildAscendingOrDescendingSection('Ascending');\n      var iconAscending = this.buildIcon();\n      var iconDescending = this.buildIcon();\n      var directionItemsAscending = this.buildItems();\n      var ascending = this.buildAscendingOrDescending('Ascending');\n\n      directionItemsAscending.appendChild(ascending)\n      directionAscendingSection.appendChild(iconAscending);\n      directionAscendingSection.appendChild(directionItemsAscending);\n      $$(directionAscendingSection).on('click', (e: Event) => this.handleDirectionClick(e, 'ascending'));\n\n      var directionDescendingSection = this.buildAscendingOrDescendingSection('Descending');\n      var directionItemsDescending = this.buildItems();\n      var descending = this.buildAscendingOrDescending('Descending');\n\n      directionItemsDescending.appendChild(descending);\n      directionDescendingSection.appendChild(iconDescending)\n      directionDescendingSection.appendChild(directionItemsDescending);\n      $$(directionDescendingSection).on('click', (e: Event) => this.handleDirectionClick(e, 'descending'));\n\n      if (!this.activeSort.directionToggle) {\n        $$(directionAscendingSection).addClass('coveo-facet-settings-disabled');\n        $$(directionDescendingSection).addClass('coveo-facet-settings-disabled');\n      } else {\n        this.selectItem(this.getItems(directionAscendingSection)[0]);\n      }\n      return [directionAscendingSection, directionDescendingSection];\n\n    } else {\n      var directionSection = this.buildSection('coveo-facet-settings-section-direction');\n      var icon = this.buildIcon();\n\n      var directionItems = this.buildItems();\n      var ascending = this.buildAscendingOrDescending('Ascending');\n      $$(ascending).on('click', (e: Event) => this.handleDirectionClick(e, 'ascending'));\n\n      var descending = this.buildAscendingOrDescending('Descending');\n      $$(descending).on('click', (e: Event) => this.handleDirectionClick(e, 'descending'));\n\n      directionItems.appendChild(ascending);\n      directionItems.appendChild(descending);\n      directionSection.appendChild(icon);\n      directionSection.appendChild(directionItems);\n\n      if (!this.activeSort.directionToggle) {\n        $$(directionSection).addClass('coveo-facet-settings-disabled');\n      } else {\n        this.selectItem(this.getCurrentDirectionItem([directionSection]));\n      }\n      return [directionSection];\n    }\n  }\n\n  private buildSaveStateSection() {\n    var saveStateSection = this.buildSection('coveo-facet-settings-section-save-state');\n    var icon = this.buildIcon();\n    var saveStateItems = this.buildItems();\n\n    this.facetStateLocalStorage = new LocalStorageUtils<IFacetState>('facet-state-' + this.facet.options.id);\n    this.includedStateAttribute = QueryStateModel.getFacetId(this.facet.options.id);\n    this.excludedStateAttribute = QueryStateModel.getFacetId(this.facet.options.id, false);\n    this.operatorStateAttribute = QueryStateModel.getFacetOperator(this.facet.options.id);\n\n    var saveStateItem = document.createElement('div');\n    $$(saveStateItem).addClass('coveo-facet-settings-item');\n    saveStateItem.setAttribute('title', _.escape(l('SaveFacetState')));\n    $$(saveStateItem).text(_.escape(l('SaveFacetState')));\n    saveStateItems.appendChild(saveStateItem);\n\n    saveStateSection.appendChild(icon);\n    saveStateSection.appendChild(saveStateItems);\n    $$(saveStateSection).on('click', (e: Event) => this.handleSaveStateClick());\n    return saveStateSection;\n  }\n\n  private buildClearStateSection() {\n    var clearStateSection = this.buildSection('coveo-facet-settings-section-clear-state')\n    var icon = this.buildIcon();\n    var clearStateItems = this.buildItems();\n    var clearStateItem = this.buildItem(l('ClearFacetState'));\n    clearStateItems.appendChild(clearStateItem);\n    clearStateSection.appendChild(icon);\n    clearStateSection.appendChild(clearStateItems);\n    $$(clearStateSection).on('click', (e: Event) => this.handleClearStateClick());\n    return clearStateSection;\n  }\n\n  private buildHideSection() {\n    var hideSection = this.buildSection('coveo-facet-settings-section-hide');\n    var icon = this.buildIcon();\n    var hideItems = this.buildItems();\n    var hideItem = this.buildItem(l('Collapse'));\n    hideItems.appendChild(hideItem);\n\n    hideSection.appendChild(icon);\n    hideSection.appendChild(hideItems);\n    $$(hideSection).on('click', (e: Event) => {\n      this.facet.facetHeader.collapseFacet();\n      this.close();\n    })\n    return hideSection;\n  }\n\n  private buildShowSection() {\n    var showSection = this.buildSection('coveo-facet-settings-section-show');\n    var icon = this.buildIcon();\n    var showItems = this.buildItems();\n    var showItem = this.buildItem(l('Expand'));\n    showItems.appendChild(showItem);\n\n    showSection.appendChild(icon);\n    showSection.appendChild(showItems);\n    $$(showSection).on('click', (e: Event) => {\n      this.facet.facetHeader.expandFacet();\n      this.close();\n    })\n    return showSection;\n  }\n\n  private buildIcon() {\n    if (this.facet.searchInterface.isNewDesign()) {\n      var icon = document.createElement('div');\n      $$(icon).addClass('coveo-icon-container');\n      var insideIcon = document.createElement('div');\n      $$(insideIcon).addClass('coveo-icon');\n      icon.appendChild(insideIcon);\n      return icon;\n    } else {\n      var icon = document.createElement('div');\n      $$(icon).addClass('coveo-icon');\n      return icon;\n    }\n  }\n\n  private buildAscendingOrDescending(direction: string) {\n    var elem = this.buildItem(l(direction));\n    elem.setAttribute('data-direction', direction.toLowerCase());\n    return elem;\n  }\n\n  private buildAscendingOrDescendingSection(direction: string) {\n    return this.buildSection('coveo-facet-settings-section-direction-' + direction.toLowerCase());\n  }\n\n  private buildItem(label: string, title = label) {\n    var elem = document.createElement('div');\n    $$(elem).addClass('coveo-facet-settings-item')\n    elem.setAttribute('title', _.escape(title));\n    $$(elem).text(_.escape(label));\n    return elem;\n  }\n\n  private buildItems() {\n    var elem = document.createElement('div');\n    $$(elem).addClass('coveo-facet-settings-items');\n    return elem;\n  }\n\n  private buildSection(className: string) {\n    var section = document.createElement('div');\n    $$(section).addClass(['coveo-facet-settings-section', className]);\n    return section;\n  }\n\n  private handleClickSettingsButtons(event: Event, sortSection?: { element: HTMLElement; sortItems: HTMLElement[] }) {\n    if (!Utils.isNullOrUndefined(this.settingsPopup.parentElement)) {\n      this.close();\n    } else {\n      this.open();\n    }\n  }\n\n  private handleClickSortButton(e: Event, enabledSort: IFacetSortDescription) {\n    if (this.activeSort != enabledSort && this.activeSort.relatedSort != enabledSort.name) {\n      this.activeSort = enabledSort;\n      if (enabledSort.directionToggle && _.contains(this.enabledSorts, FacetSettings.availableSorts[this.activeSort.relatedSort])) {\n        this.activateDirectionSection();\n      } else {\n        this.disableDirectionSection();\n      }\n      this.selectItem(<HTMLElement>e.target);\n      this.closePopupAndUpdateSort();\n    }\n  }\n\n  private handleDirectionClick(e: Event, direction: string) {\n    if (!$$((<HTMLElement>e.target).parentElement.parentElement).hasClass('coveo-facet-settings-disabled') && this.activeSort.name.indexOf(direction) == -1) {\n      this.activeSort = FacetSettings.availableSorts[this.activeSort.relatedSort];\n      _.each(this.directionSection, (d) => {\n        this.unselectSection(d);\n      })\n      this.selectItem(<HTMLElement>e.target);\n      if (this.activeSort.name == 'custom' && this.customSortDirection != direction) {\n        this.customSortDirection = direction;\n        this.customSortDirectionChange = true;\n      }\n      this.closePopupAndUpdateSort();\n    }\n  }\n\n  private handleSaveStateClick() {\n    this.saveState();\n    this.close();\n  }\n\n  private handleClearStateClick() {\n    this.facetStateLocalStorage.remove();\n    this.facet.reset();\n    this.close();\n    this.facet.triggerNewQuery(() => this.facet.usageAnalytics.logSearchEvent<IAnalyticsFacetMeta>(analyticsActionCauseList.facetClearAll, {\n      facetId: this.facet.options.id,\n      facetTitle: this.facet.options.title\n    }));\n  }\n\n  private handleMouseEventOnButton(sortSection: { element: HTMLElement; sortItems: HTMLElement[] }) {\n    var closeTimeout: number;\n    $$(this.settingsButton).on('click', (e: Event) => this.handleClickSettingsButtons(e, sortSection));\n\n    var mouseLeave = () => {\n      closeTimeout = setTimeout(() => {\n        this.close();\n      }, 300)\n    }\n    var mouseEnter = () => {\n      clearTimeout(closeTimeout);\n    }\n\n    $$(this.settingsIcon).on('mouseleave', mouseLeave);\n    $$(this.settingsPopup).on('mouseleave', mouseLeave);\n    $$(this.settingsIcon).on('mouseenter', mouseEnter);\n    $$(this.settingsPopup).on('mouseenter', mouseEnter);\n  }\n\n  public getCurrentDirectionItem(directionSection = this.directionSection) {\n    var found: HTMLElement;\n    _.each(directionSection, (direction) => {\n      if (!found) {\n        found = _.find(this.getItems(direction), (direction: HTMLElement) => {\n          return this.activeSort.name.indexOf(direction.getAttribute('data-direction')) != -1\n        })\n      }\n    })\n    if (!found) {\n      found = directionSection[0];\n    }\n    return found;\n  }\n\n  private activateDirectionSection() {\n    _.each(this.directionSection, (direction) => {\n      $$(direction).removeClass('coveo-facet-settings-disabled');\n      this.unselectSection(direction);\n    })\n    this.selectItem(this.getCurrentDirectionItem());\n  }\n\n  private disableDirectionSection() {\n    _.each(this.directionSection, (direction) => {\n      $$(direction).addClass('coveo-facet-settings-disabled');\n      this.unselectSection(direction);\n    })\n\n  }\n\n  private getItems(section: HTMLElement) {\n    return $$(section).findAll('.coveo-facet-settings-item');\n  }\n\n  private unselectSection(section: HTMLElement) {\n    _.each(this.getItems(section), (i) => {\n      $$(i).removeClass('coveo-selected');\n    })\n  }\n\n  private selectItem(item: HTMLElement) {\n    $$(item).addClass('coveo-selected');\n  }\n\n  private unselectItem(item: HTMLElement) {\n    $$(item).removeClass('coveo-selected');\n  }\n\n  private getPopupAlignment() {\n    var alignmentHorizontal = DeviceUtils.isMobileDevice() ? HorizontalAlignment.CENTER : HorizontalAlignment.INNERLEFT;\n    var alignmentVertical = VerticalAlignment.BOTTOM;\n    return {\n      horizontal: alignmentHorizontal,\n      vertical: alignmentVertical\n    }\n  }\n\n  private filterDuplicateForRendering() {\n    _.each(this.enabledSorts, (enabledSort: IFacetSortDescription, i: number) => {\n      if (enabledSort.relatedSort != null) {\n        for (var j = i + 1; j < this.enabledSorts.length; j++) {\n          if (this.enabledSorts[j].name == enabledSort.relatedSort) {\n            this.enabledSortsIgnoreRenderBecauseOfPairs.push(this.enabledSorts[j]);\n            break;\n          }\n        }\n      }\n    });\n  }\n\n  private appendIfNotUndefined(toAppend: HTMLElement) {\n    if (!Utils.isNullOrUndefined(toAppend)) {\n      this.settingsPopup.appendChild(toAppend);\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Facet/FacetSettings.ts\n **/","l":{"5":1,"6":1,"7":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"29":1,"46":74,"48":74,"50":74,"51":74,"52":74,"59":76,"60":76,"61":76,"62":76,"64":76,"65":76,"67":76,"69":76,"70":76,"71":76,"72":69,"74":69,"75":68,"78":76,"79":4,"80":4,"82":76,"83":76,"85":76,"86":76,"87":76,"88":76,"89":76,"92":76,"93":76,"94":69,"95":69,"96":135,"98":69,"100":7,"102":76,"108":1,"109":2,"112":1,"113":1,"114":1,"115":1,"116":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"128":1,"135":1,"136":2,"137":1,"143":1,"151":1,"152":1,"158":1,"159":1,"165":1,"166":1,"168":1,"169":0,"171":1,"172":0,"173":0,"174":0,"176":0,"182":1,"183":69,"184":69,"185":69,"186":69,"187":68,"188":68,"189":68,"190":68,"192":69,"193":69,"194":206,"196":69,"197":69,"198":69,"201":69,"202":69,"203":274,"204":68,"206":206,"207":206,"208":206,"211":69,"212":69,"215":1,"216":0,"217":0,"218":0,"220":0,"221":0,"222":0,"223":0,"228":1,"229":69,"230":203,"235":68,"236":68,"237":67,"238":67,"239":67,"240":67,"241":67,"243":67,"244":67,"245":67,"246":67,"248":67,"249":67,"250":67,"252":67,"253":67,"254":67,"255":67,"257":67,"258":66,"259":66,"261":1,"263":67,"266":1,"267":1,"269":1,"270":1,"271":1,"273":1,"274":1,"276":1,"277":1,"278":1,"279":1,"281":1,"282":1,"284":0,"286":1,"290":4,"291":4,"292":4,"293":4,"295":4,"296":4,"297":4,"298":4,"300":4,"301":4,"302":4,"303":4,"304":4,"306":4,"307":4,"308":4,"309":4,"312":4,"313":4,"314":4,"315":4,"316":4,"317":4,"318":4,"319":4,"320":4,"321":4,"324":76,"325":76,"326":76,"327":76,"328":76,"329":76,"331":76,"332":76,"333":76,"334":0,"335":0,"337":76,"340":76,"341":76,"342":76,"343":76,"344":76,"345":76,"347":76,"348":76,"349":76,"350":0,"351":0,"353":76,"356":1,"357":364,"358":360,"359":360,"360":360,"361":360,"362":360,"363":360,"365":4,"366":4,"367":4,"371":1,"372":136,"373":136,"374":136,"377":1,"378":134,"381":790,"382":498,"383":498,"384":498,"385":498,"386":498,"389":1,"390":364,"391":364,"392":364,"395":1,"396":364,"397":364,"398":364,"401":1,"402":0,"403":0,"405":0,"409":1,"410":0,"411":0,"412":0,"413":0,"415":0,"417":0,"418":0,"422":1,"423":0,"424":0,"425":0,"426":0,"428":0,"429":0,"430":0,"431":0,"433":0,"437":1,"438":0,"439":0,"442":1,"443":0,"444":0,"445":0,"446":0,"452":76,"453":76,"454":76,"456":76,"457":0,"458":0,"461":76,"462":0,"465":76,"466":76,"467":76,"468":76,"471":1,"472":0,"473":0,"474":0,"475":0,"476":0,"480":0,"481":0,"483":0,"486":1,"487":0,"488":0,"489":0,"491":0,"494":1,"495":0,"496":0,"497":0,"502":1,"503":1,"506":1,"507":0,"508":0,"512":1,"513":1,"516":1,"517":0,"520":1,"521":1,"522":1,"523":1,"529":74,"530":74,"531":266,"532":133,"533":70,"534":66,"535":66,"542":1,"543":439,"544":295,"547":1}},"src/ui/Facet/FacetSort.ts":{"path":"src/ui/Facet/FacetSort.ts","statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":46}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":40}},"4":{"start":{"line":22,"column":0},"end":{"line":111,"column":1}},"5":{"start":{"line":83,"column":2},"end":{"line":101,"column":3}},"6":{"start":{"line":83,"column":38},"end":{"line":83,"column":50}},"7":{"start":{"line":79,"column":9},"end":{"line":79,"column":52}},"8":{"start":{"line":81,"column":9},"end":{"line":81,"column":43}},"9":{"start":{"line":84,"column":4},"end":{"line":89,"column":6}},"10":{"start":{"line":85,"column":6},"end":{"line":85,"column":87}},"11":{"start":{"line":86,"column":6},"end":{"line":88,"column":7}},"12":{"start":{"line":87,"column":8},"end":{"line":87,"column":48}},"13":{"start":{"line":90,"column":4},"end":{"line":90,"column":46}},"14":{"start":{"line":91,"column":4},"end":{"line":100,"column":5}},"15":{"start":{"line":92,"column":6},"end":{"line":96,"column":7}},"16":{"start":{"line":93,"column":8},"end":{"line":95,"column":10}},"17":{"start":{"line":94,"column":10},"end":{"line":94,"column":68}},"18":{"start":{"line":97,"column":6},"end":{"line":99,"column":7}},"19":{"start":{"line":98,"column":8},"end":{"line":98,"column":47}},"20":{"start":{"line":103,"column":10},"end":{"line":110,"column":3}},"21":{"start":{"line":104,"column":4},"end":{"line":109,"column":5}},"22":{"start":{"line":105,"column":6},"end":{"line":105,"column":34}},"23":{"start":{"line":106,"column":6},"end":{"line":108,"column":7}},"24":{"start":{"line":107,"column":8},"end":{"line":107,"column":31}},"25":{"start":{"line":23,"column":16},"end":{"line":77,"column":3}},"26":{"start":{"line":111,"column":0},"end":{"line":111,"column":1}},"27":{"start":{"line":22,"column":13},"end":{"line":111,"column":1}}},"fnMap":{"1":{"name":"(anonymous_3190)","line":22,"loc":{"start":{"line":22,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"FacetSort","line":83,"loc":{"start":{"line":83,"column":2},"end":{"line":83,"column":50}}},"3":{"name":"(anonymous_3192)","line":84,"loc":{"start":{"line":84,"column":18},"end":{"line":84,"column":33}}},"4":{"name":"(anonymous_3193)","line":93,"loc":{"start":{"line":93,"column":75},"end":{"line":93,"column":87}}},"5":{"name":"(anonymous_3194)","line":103,"loc":{"start":{"line":103,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":6},"end":{"line":86,"column":5}},{"start":{"line":86,"column":6},"end":{"line":86,"column":5}}]},"2":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":4},"end":{"line":91,"column":3}},{"start":{"line":91,"column":4},"end":{"line":91,"column":3}}]},"3":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":6},"end":{"line":92,"column":5}},{"start":{"line":92,"column":6},"end":{"line":92,"column":5}}]},"4":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":6},"end":{"line":97,"column":5}},{"start":{"line":97,"column":6},"end":{"line":97,"column":5}}]},"5":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":4},"end":{"line":104,"column":3}},{"start":{"line":104,"column":4},"end":{"line":104,"column":3}}]},"6":{"line":104,"type":"binary-expr","locations":[{"start":{"line":104,"column":8},"end":{"line":104,"column":24}},{"start":{"line":104,"column":28},"end":{"line":104,"column":66}}]},"7":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":6},"end":{"line":106,"column":5}},{"start":{"line":106,"column":6},"end":{"line":106,"column":5}}]}},"s":{"1":1,"2":1,"3":1,"4":76,"5":1,"6":75,"7":75,"8":75,"9":75,"10":281,"11":281,"12":270,"13":75,"14":75,"15":68,"16":68,"17":73,"18":68,"19":2,"20":1,"21":75,"22":0,"23":0,"24":0,"25":1,"26":1,"27":1},"b":{"1":[270,11],"2":[68,7],"3":[68,0],"4":[2,66],"5":[0,75],"6":[75,75],"7":[0,0]},"f":{"1":1,"2":75,"3":281,"4":73,"5":75},"code":"/// <reference path=\"Facet.ts\" />\n/// <reference path=\"FacetSettings.ts\" />\nimport {Facet} from './Facet';\nimport {l} from '../../strings/Strings';\nimport {FacetSettings} from './FacetSettings';\nimport {Utils} from '../../utils/Utils';\n\ndeclare const Coveo;\n\nexport interface IFacetSortKlass {\n  new (sorts: string[], facet: Facet): FacetSort;\n}\n\nexport interface IFacetSortDescription {\n  label: string;\n  directionToggle: boolean;\n  description: string;\n  name: string;\n  relatedSort?: string;\n}\n\nexport class FacetSort {\n  public static availableSorts: { [name: string]: IFacetSortDescription } = {\n    score: {\n      label: l('Score'),\n      directionToggle: false,\n      description: l('ScoreDescription'),\n      name: 'score'\n    },\n    occurrences: {\n      label: l('Occurrences'),\n      directionToggle: false,\n      description: l('OccurrencesDescription'),\n      name: 'occurrences'\n    },\n    alphaascending: {\n      label: l('Label'),\n      directionToggle: true,\n      description: l('LabelDescription'),\n      name: 'alphaascending',\n      relatedSort: 'alphadescending'\n    },\n    alphadescending: {\n      label: l('Label'),\n      directionToggle: true,\n      description: l('LabelDescription'),\n      name: 'alphadescending',\n      relatedSort: 'alphaascending'\n    },\n    computedfieldascending: {\n      label: l('Value'),\n      directionToggle: true,\n      description: l('ValueDescription'),\n      name: 'computedfieldascending',\n      relatedSort: 'computedfielddescending'\n    },\n    computedfielddescending: {\n      label: l('Value'),\n      directionToggle: true,\n      description: l('ValueDescription'),\n      name: 'computedfielddescending',\n      relatedSort: 'computedfieldascending'\n    },\n    chisquare: {\n      label: l('RelativeFrequency'),\n      directionToggle: false,\n      description: l('RelativeFrequencyDescription'),\n      name: 'chisquare'\n    },\n    custom: {\n      label: l('Custom'),\n      directionToggle: true,\n      description: l('CustomDescription'),\n      name: 'custom',\n      relatedSort: 'custom'\n    }\n  }\n\n  public enabledSorts: IFacetSortDescription[] = [];\n  public activeSort: IFacetSortDescription;\n  public customSortDirection = 'ascending';\n\n  constructor(sorts: string[], public facet: Facet) {\n    _.each(sorts, (sortToActivate) => {\n      var newSortToEnable = FacetSettings.availableSorts[sortToActivate.toLowerCase()];\n      if (newSortToEnable != undefined) {\n        this.enabledSorts.push(newSortToEnable);\n      }\n    })\n    this.removeEnabledSortsBasedOnFacetType();\n    if (Utils.isNonEmptyArray(this.enabledSorts)) {\n      if (this.facet.options.sortCriteria != undefined) {\n        this.activeSort = _.find<IFacetSortDescription>(this.enabledSorts, (enabledSort) => {\n          return enabledSort.name == this.facet.options.sortCriteria\n        })\n      }\n      if (!this.activeSort) {\n        this.activeSort = this.enabledSorts[0];\n      }\n    }\n  }\n\n  private removeEnabledSortsBasedOnFacetType() {\n    if (Coveo.FacetRange && this.facet instanceof Coveo.FacetRange) {\n      var facetRange = this.facet;\n      if (facetRange.options['slider']) {\n        this.enabledSorts = [];\n      }\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Facet/FacetSort.ts\n **/","l":{"4":1,"5":1,"6":1,"22":76,"23":1,"79":75,"81":75,"83":75,"84":75,"85":281,"86":281,"87":270,"90":75,"91":75,"92":68,"93":68,"94":73,"97":68,"98":2,"103":1,"104":75,"105":0,"106":0,"107":0,"111":1}},"src/ui/Facet/FacetValuesList.ts":{"path":"src/ui/Facet/FacetValuesList.ts","statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":79}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":35}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":41}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":40}},"5":{"start":{"line":9,"column":0},"end":{"line":9,"column":40}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":52}},"7":{"start":{"line":12,"column":0},"end":{"line":171,"column":1}},"8":{"start":{"line":19,"column":2},"end":{"line":20,"column":3}},"9":{"start":{"line":19,"column":21},"end":{"line":19,"column":33}},"10":{"start":{"line":19,"column":42},"end":{"line":19,"column":89}},"11":{"start":{"line":14,"column":10},"end":{"line":14,"column":65}},"12":{"start":{"line":17,"column":10},"end":{"line":17,"column":50}},"13":{"start":{"line":22,"column":9},"end":{"line":26,"column":3}},"14":{"start":{"line":23,"column":4},"end":{"line":23,"column":55}},"15":{"start":{"line":24,"column":4},"end":{"line":24,"column":59}},"16":{"start":{"line":25,"column":4},"end":{"line":25,"column":31}},"17":{"start":{"line":28,"column":9},"end":{"line":30,"column":3}},"18":{"start":{"line":29,"column":4},"end":{"line":29,"column":35}},"19":{"start":{"line":32,"column":9},"end":{"line":34,"column":3}},"20":{"start":{"line":33,"column":4},"end":{"line":33,"column":51}},"21":{"start":{"line":36,"column":9},"end":{"line":40,"column":3}},"22":{"start":{"line":37,"column":4},"end":{"line":39,"column":6}},"23":{"start":{"line":38,"column":6},"end":{"line":38,"column":25}},"24":{"start":{"line":44,"column":9},"end":{"line":54,"column":3}},"25":{"start":{"line":45,"column":4},"end":{"line":45,"column":15}},"26":{"start":{"line":46,"column":4},"end":{"line":51,"column":5}},"27":{"start":{"line":47,"column":6},"end":{"line":47,"column":27}},"28":{"start":{"line":49,"column":6},"end":{"line":49,"column":43}},"29":{"start":{"line":50,"column":6},"end":{"line":50,"column":21}},"30":{"start":{"line":52,"column":4},"end":{"line":52,"column":41}},"31":{"start":{"line":53,"column":4},"end":{"line":53,"column":48}},"32":{"start":{"line":58,"column":9},"end":{"line":62,"column":3}},"33":{"start":{"line":59,"column":4},"end":{"line":59,"column":39}},"34":{"start":{"line":60,"column":4},"end":{"line":60,"column":26}},"35":{"start":{"line":61,"column":4},"end":{"line":61,"column":24}},"36":{"start":{"line":66,"column":9},"end":{"line":70,"column":3}},"37":{"start":{"line":67,"column":4},"end":{"line":67,"column":39}},"38":{"start":{"line":68,"column":4},"end":{"line":68,"column":28}},"39":{"start":{"line":69,"column":4},"end":{"line":69,"column":24}},"40":{"start":{"line":74,"column":9},"end":{"line":78,"column":3}},"41":{"start":{"line":75,"column":4},"end":{"line":75,"column":39}},"42":{"start":{"line":76,"column":4},"end":{"line":76,"column":27}},"43":{"start":{"line":77,"column":4},"end":{"line":77,"column":24}},"44":{"start":{"line":82,"column":9},"end":{"line":86,"column":3}},"45":{"start":{"line":83,"column":4},"end":{"line":83,"column":39}},"46":{"start":{"line":84,"column":4},"end":{"line":84,"column":29}},"47":{"start":{"line":85,"column":4},"end":{"line":85,"column":24}},"48":{"start":{"line":90,"column":9},"end":{"line":98,"column":3}},"49":{"start":{"line":91,"column":4},"end":{"line":91,"column":39}},"50":{"start":{"line":92,"column":4},"end":{"line":96,"column":5}},"51":{"start":{"line":93,"column":6},"end":{"line":93,"column":30}},"52":{"start":{"line":95,"column":6},"end":{"line":95,"column":28}},"53":{"start":{"line":97,"column":4},"end":{"line":97,"column":24}},"54":{"start":{"line":102,"column":9},"end":{"line":110,"column":3}},"55":{"start":{"line":103,"column":4},"end":{"line":103,"column":39}},"56":{"start":{"line":104,"column":4},"end":{"line":108,"column":5}},"57":{"start":{"line":105,"column":6},"end":{"line":105,"column":31}},"58":{"start":{"line":107,"column":6},"end":{"line":107,"column":29}},"59":{"start":{"line":109,"column":4},"end":{"line":109,"column":24}},"60":{"start":{"line":112,"column":9},"end":{"line":131,"column":3}},"61":{"start":{"line":112,"column":2},"end":{"line":131,"column":3}},"62":{"start":{"line":113,"column":4},"end":{"line":113,"column":36}},"63":{"start":{"line":114,"column":4},"end":{"line":114,"column":33}},"64":{"start":{"line":115,"column":4},"end":{"line":115,"column":48}},"65":{"start":{"line":116,"column":4},"end":{"line":116,"column":34}},"66":{"start":{"line":117,"column":4},"end":{"line":128,"column":7}},"67":{"start":{"line":118,"column":6},"end":{"line":127,"column":7}},"68":{"start":{"line":119,"column":8},"end":{"line":119,"column":51}},"69":{"start":{"line":120,"column":8},"end":{"line":120,"column":22}},"70":{"start":{"line":121,"column":13},"end":{"line":127,"column":7}},"71":{"start":{"line":122,"column":8},"end":{"line":122,"column":89}},"72":{"start":{"line":123,"column":8},"end":{"line":123,"column":70}},"73":{"start":{"line":124,"column":8},"end":{"line":124,"column":73}},"74":{"start":{"line":125,"column":8},"end":{"line":125,"column":58}},"75":{"start":{"line":126,"column":8},"end":{"line":126,"column":51}},"76":{"start":{"line":129,"column":4},"end":{"line":129,"column":80}},"77":{"start":{"line":130,"column":4},"end":{"line":130,"column":72}},"78":{"start":{"line":133,"column":12},"end":{"line":139,"column":3}},"79":{"start":{"line":134,"column":4},"end":{"line":138,"column":5}},"80":{"start":{"line":135,"column":6},"end":{"line":135,"column":110}},"81":{"start":{"line":137,"column":6},"end":{"line":137,"column":40}},"82":{"start":{"line":141,"column":10},"end":{"line":144,"column":3}},"83":{"start":{"line":142,"column":4},"end":{"line":143,"column":153}},"84":{"start":{"line":146,"column":10},"end":{"line":170,"column":3}},"85":{"start":{"line":147,"column":4},"end":{"line":147,"column":31}},"86":{"start":{"line":148,"column":4},"end":{"line":160,"column":5}},"87":{"start":{"line":149,"column":6},"end":{"line":149,"column":68}},"88":{"start":{"line":150,"column":6},"end":{"line":153,"column":7}},"89":{"start":{"line":151,"column":8},"end":{"line":151,"column":37}},"90":{"start":{"line":152,"column":8},"end":{"line":152,"column":27}},"91":{"start":{"line":155,"column":6},"end":{"line":155,"column":48}},"92":{"start":{"line":156,"column":6},"end":{"line":159,"column":7}},"93":{"start":{"line":157,"column":8},"end":{"line":157,"column":55}},"94":{"start":{"line":158,"column":8},"end":{"line":158,"column":42}},"95":{"start":{"line":162,"column":4},"end":{"line":162,"column":45}},"96":{"start":{"line":163,"column":4},"end":{"line":163,"column":36}},"97":{"start":{"line":164,"column":4},"end":{"line":169,"column":5}},"98":{"start":{"line":165,"column":6},"end":{"line":165,"column":88}},"99":{"start":{"line":166,"column":6},"end":{"line":166,"column":20}},"100":{"start":{"line":168,"column":6},"end":{"line":168,"column":36}},"101":{"start":{"line":171,"column":0},"end":{"line":171,"column":1}},"102":{"start":{"line":12,"column":13},"end":{"line":171,"column":1}}},"fnMap":{"1":{"name":"(anonymous_3196)","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":32}}},"2":{"name":"(anonymous_3197)","line":12,"loc":{"start":{"line":12,"column":0},"end":{"line":null,"column":-1}}},"3":{"name":"FacetValuesList","line":19,"loc":{"start":{"line":19,"column":2},"end":{"line":19,"column":89}}},"4":{"name":"(anonymous_3199)","line":22,"loc":{"start":{"line":22,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_3200)","line":28,"loc":{"start":{"line":28,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_3201)","line":32,"loc":{"start":{"line":32,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_3202)","line":36,"loc":{"start":{"line":36,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_3203)","line":37,"loc":{"start":{"line":37,"column":32},"end":{"line":37,"column":48}}},"9":{"name":"(anonymous_3204)","line":44,"loc":{"start":{"line":44,"column":2},"end":{"line":44,"column":23}}},"10":{"name":"(anonymous_3205)","line":58,"loc":{"start":{"line":58,"column":2},"end":{"line":58,"column":26}}},"11":{"name":"(anonymous_3206)","line":66,"loc":{"start":{"line":66,"column":2},"end":{"line":66,"column":28}}},"12":{"name":"(anonymous_3207)","line":74,"loc":{"start":{"line":74,"column":2},"end":{"line":74,"column":27}}},"13":{"name":"(anonymous_3208)","line":82,"loc":{"start":{"line":82,"column":2},"end":{"line":82,"column":29}}},"14":{"name":"(anonymous_3209)","line":90,"loc":{"start":{"line":90,"column":2},"end":{"line":90,"column":32}}},"15":{"name":"(anonymous_3210)","line":102,"loc":{"start":{"line":102,"column":2},"end":{"line":102,"column":33}}},"16":{"name":"(anonymous_3211)","line":112,"loc":{"start":{"line":112,"column":2},"end":{"line":112,"column":39}}},"17":{"name":"(anonymous_3212)","line":117,"loc":{"start":{"line":117,"column":22},"end":{"line":117,"column":68}}},"18":{"name":"(anonymous_3213)","line":133,"loc":{"start":{"line":133,"column":2},"end":{"line":null,"column":-1}}},"19":{"name":"(anonymous_3214)","line":141,"loc":{"start":{"line":141,"column":2},"end":{"line":141,"column":58}}},"20":{"name":"(anonymous_3215)","line":146,"loc":{"start":{"line":146,"column":2},"end":{"line":146,"column":45}}}},"branchMap":{"1":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":4},"end":{"line":46,"column":3}},{"start":{"line":46,"column":4},"end":{"line":46,"column":3}}]},"2":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":4},"end":{"line":92,"column":3}},{"start":{"line":92,"column":4},"end":{"line":92,"column":3}}]},"3":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":4},"end":{"line":104,"column":3}},{"start":{"line":104,"column":4},"end":{"line":104,"column":3}}]},"4":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":6},"end":{"line":118,"column":5}},{"start":{"line":118,"column":6},"end":{"line":118,"column":5}}]},"5":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":13},"end":{"line":121,"column":12}},{"start":{"line":121,"column":13},"end":{"line":121,"column":12}}]},"6":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":4},"end":{"line":134,"column":3}},{"start":{"line":134,"column":4},"end":{"line":134,"column":3}}]},"7":{"line":142,"type":"binary-expr","locations":[{"start":{"line":142,"column":11},"end":{"line":142,"column":38}},{"start":{"line":143,"column":7},"end":{"line":143,"column":28}},{"start":{"line":143,"column":32},"end":{"line":143,"column":61}},{"start":{"line":143,"column":66},"end":{"line":143,"column":86}},{"start":{"line":143,"column":90},"end":{"line":143,"column":110}},{"start":{"line":143,"column":114},"end":{"line":143,"column":153}}]},"8":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":4},"end":{"line":148,"column":3}},{"start":{"line":148,"column":4},"end":{"line":148,"column":3}}]},"9":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":6},"end":{"line":150,"column":5}},{"start":{"line":150,"column":6},"end":{"line":150,"column":5}}]},"10":{"line":156,"type":"if","locations":[{"start":{"line":156,"column":6},"end":{"line":156,"column":5}},{"start":{"line":156,"column":6},"end":{"line":156,"column":5}}]},"11":{"line":164,"type":"if","locations":[{"start":{"line":164,"column":4},"end":{"line":164,"column":3}},{"start":{"line":164,"column":4},"end":{"line":164,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":68,"10":68,"11":68,"12":68,"13":1,"14":68,"15":68,"16":68,"17":1,"18":30,"19":1,"20":0,"21":1,"22":0,"23":0,"24":1,"25":698,"26":698,"27":399,"28":299,"29":299,"30":698,"31":698,"32":1,"33":30,"34":30,"35":30,"36":1,"37":12,"38":12,"39":12,"40":1,"41":12,"42":12,"43":12,"44":1,"45":4,"46":4,"47":4,"48":1,"49":2,"50":2,"51":1,"52":1,"53":2,"54":1,"55":2,"56":2,"57":1,"58":1,"59":2,"60":1,"61":72,"62":72,"63":72,"64":72,"65":72,"66":72,"67":334,"68":0,"69":0,"70":334,"71":294,"72":294,"73":294,"74":294,"75":294,"76":72,"77":72,"78":1,"79":45,"80":45,"81":0,"82":1,"83":334,"84":1,"85":698,"86":698,"87":399,"88":399,"89":0,"90":0,"91":299,"92":299,"93":37,"94":37,"95":698,"96":698,"97":698,"98":37,"99":37,"100":661,"101":1,"102":1},"b":{"1":[399,299],"2":[1,1],"3":[1,1],"4":[0,334],"5":[294,40],"6":[45,0],"7":[334,0,0,0,0,0],"8":[399,299],"9":[0,399],"10":[37,262],"11":[37,661]},"f":{"1":1,"2":1,"3":68,"4":68,"5":30,"6":0,"7":0,"8":0,"9":698,"10":30,"11":12,"12":12,"13":4,"14":2,"15":2,"16":72,"17":334,"18":45,"19":334,"20":698},"code":"/// <reference path=\"Facet.ts\" />\n\nimport {FacetValueElement, IFacetValueElementKlass} from './FacetValueElement';\nimport {Facet} from './Facet';\nimport {$$} from '../../utils/Dom';\nimport {ValueElement} from './ValueElement';\nimport {FacetValue} from './FacetValues';\nimport {Utils} from '../../utils/Utils';\nimport {FacetUtils} from './FacetUtils';\nimport {FacetValuesOrder} from './FacetValuesOrder';\n\nexport class FacetValuesList {\n  // Dictionary of values. The key is always in lowercase.\n  private valueList: { [value: string]: FacetValueElement } = {};\n\n  public valueContainer: HTMLElement;\n  private currentlyDisplayed: ValueElement[] = [];\n\n  constructor(public facet: Facet, public facetValueElementKlass: IFacetValueElementKlass) {\n  }\n\n  public build(): HTMLElement {\n    this.valueContainer = document.createElement('ul');\n    $$(this.valueContainer).addClass('coveo-facet-values');\n    return this.valueContainer;\n  }\n\n  public getAllCurrentlyDisplayed(): ValueElement[] {\n    return this.currentlyDisplayed;\n  }\n\n  public getAll(): ValueElement[] {\n    return _.toArray<ValueElement>(this.valueList);\n  }\n\n  public getAllFacetValue(): FacetValue[] {\n    return _.map(this.getAll(), (v: ValueElement) => {\n      return v.facetValue\n    })\n  }\n\n  public get(value: FacetValue): ValueElement;\n  public get(value: string): ValueElement;\n  public get(value: any): ValueElement {\n    var getter;\n    if (value instanceof FacetValue) {\n      getter = value.value;\n    } else {\n      value = Utils.anyTypeToString(value);\n      getter = value;\n    }\n    this.ensureFacetValueIsInList(value);\n    return this.valueList[getter.toLowerCase()];\n  }\n\n  public select(value: FacetValue): ValueElement;\n  public select(value: string): ValueElement;\n  public select(value: any): ValueElement {\n    var valueElement = this.get(value);\n    valueElement.select();\n    return valueElement;\n  }\n\n  public unselect(value: FacetValue): ValueElement;\n  public unselect(value: string): ValueElement;\n  public unselect(value: any): ValueElement {\n    var valueElement = this.get(value);\n    valueElement.unselect();\n    return valueElement;\n  }\n\n  public exclude(value: FacetValue): ValueElement;\n  public exclude(value: string): ValueElement;\n  public exclude(value: any): ValueElement {\n    var valueElement = this.get(value);\n    valueElement.exclude();\n    return valueElement;\n  }\n\n  public unExclude(value: FacetValue): ValueElement;\n  public unExclude(value: string): ValueElement;\n  public unExclude(value: any): ValueElement {\n    var valueElement = this.get(value);\n    valueElement.unexclude();\n    return valueElement;\n  }\n\n  public toggleSelect(value: FacetValue): ValueElement;\n  public toggleSelect(value: string): ValueElement;\n  public toggleSelect(value: any): ValueElement {\n    var valueElement = this.get(value);\n    if (valueElement.facetValue.selected) {\n      valueElement.unselect();\n    } else {\n      valueElement.select();\n    }\n    return valueElement;\n  }\n\n  public toggleExclude(value: FacetValue): ValueElement;\n  public toggleExclude(value: string): ValueElement;\n  public toggleExclude(value: any): ValueElement {\n    var valueElement = this.get(value);\n    if (valueElement.facetValue.excluded) {\n      valueElement.unexclude();\n    } else {\n      valueElement.exclude();\n    }\n    return valueElement;\n  }\n\n  public rebuild(numberOfValues: number): void {\n    $$(this.valueContainer).empty();\n    this.currentlyDisplayed = [];\n    var allValues = this.getValuesToBuildWith();\n    var toCompare = numberOfValues\n    _.each(allValues, (facetValue: FacetValue, index?: number, list?) => {\n      if (this.facetValueShouldBeRemoved(facetValue)) {\n        this.facet.values.remove(facetValue.value);\n        toCompare += 1\n      } else if (index < toCompare) {\n        var valueElement = new this.facetValueElementKlass(this.facet, facetValue, true);\n        this.valueList[facetValue.value.toLowerCase()] = valueElement;\n        var valueListElement = valueElement.build().renderer.listElement;\n        this.valueContainer.appendChild(valueListElement);\n        this.currentlyDisplayed.push(valueElement);\n      }\n    });\n    FacetUtils.addNoStateCssClassToFacetValues(this.facet, this.valueContainer);\n    FacetUtils.clipCaptionsToAvoidOverflowingTheirContainer(this.facet);\n  }\n\n  protected getValuesToBuildWith() {\n    if (this.facet.facetSort) {\n      return new FacetValuesOrder(this.facet, this.facet.facetSort).reorderValues(this.facet.values.getAll());\n    } else {\n      return this.facet.values.getAll();\n    }\n  }\n\n  private facetValueShouldBeRemoved(facetValue: FacetValue): boolean {\n    return facetValue.occurrences == 0 &&\n      (facetValue.delta == 0 || facetValue.delta == undefined) && !facetValue.selected && !facetValue.excluded && !this.facet.keepDisplayedValuesNextTime\n  }\n\n  private ensureFacetValueIsInList(value: any) {\n    var facetValue: FacetValue;\n    if (value instanceof FacetValue) {\n      facetValue = this.facet.values.get((<FacetValue>value).value);\n      if (facetValue == null) {\n        this.facet.values.add(value);\n        facetValue = value;\n      }\n    } else {\n      facetValue = this.facet.values.get(value);\n      if (facetValue == null) {\n        facetValue = FacetValue.createFromValue(value);\n        this.facet.values.add(facetValue);\n      }\n    }\n\n    var key = facetValue.value.toLowerCase();\n    var found = this.valueList[key];\n    if (found == undefined) {\n      found = this.valueList[key] = new FacetValueElement(this.facet, facetValue, true);\n      found.build();\n    } else {\n      found.facetValue = facetValue;\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Facet/FacetValuesList.ts\n **/","l":{"3":1,"5":1,"7":1,"8":1,"9":1,"10":1,"12":1,"14":68,"17":68,"19":68,"22":1,"23":68,"24":68,"25":68,"28":1,"29":30,"32":1,"33":0,"36":1,"37":0,"38":0,"44":1,"45":698,"46":698,"47":399,"49":299,"50":299,"52":698,"53":698,"58":1,"59":30,"60":30,"61":30,"66":1,"67":12,"68":12,"69":12,"74":1,"75":12,"76":12,"77":12,"82":1,"83":4,"84":4,"85":4,"90":1,"91":2,"92":2,"93":1,"95":1,"97":2,"102":1,"103":2,"104":2,"105":1,"107":1,"109":2,"112":72,"113":72,"114":72,"115":72,"116":72,"117":72,"118":334,"119":0,"120":0,"121":334,"122":294,"123":294,"124":294,"125":294,"126":294,"129":72,"130":72,"133":1,"134":45,"135":45,"137":0,"141":1,"142":334,"146":1,"147":698,"148":698,"149":399,"150":399,"151":0,"152":0,"155":299,"156":299,"157":37,"158":37,"162":698,"163":698,"164":698,"165":37,"166":37,"168":661,"171":1}},"src/ui/Facet/FacetHeader.ts":{"path":"src/ui/Facet/FacetHeader.ts","statementMap":{"1":{"start":{"line":8,"column":0},"end":{"line":8,"column":35}},"2":{"start":{"line":9,"column":0},"end":{"line":9,"column":40}},"3":{"start":{"line":10,"column":0},"end":{"line":10,"column":40}},"4":{"start":{"line":11,"column":0},"end":{"line":11,"column":128}},"5":{"start":{"line":28,"column":0},"end":{"line":243,"column":1}},"6":{"start":{"line":39,"column":2},"end":{"line":42,"column":3}},"7":{"start":{"line":39,"column":21},"end":{"line":39,"column":49}},"8":{"start":{"line":40,"column":4},"end":{"line":40,"column":49}},"9":{"start":{"line":41,"column":4},"end":{"line":41,"column":52}},"10":{"start":{"line":44,"column":9},"end":{"line":85,"column":3}},"11":{"start":{"line":45,"column":4},"end":{"line":49,"column":5}},"12":{"start":{"line":46,"column":6},"end":{"line":46,"column":49}},"13":{"start":{"line":47,"column":11},"end":{"line":49,"column":5}},"14":{"start":{"line":48,"column":6},"end":{"line":48,"column":49}},"15":{"start":{"line":51,"column":4},"end":{"line":53,"column":5}},"16":{"start":{"line":52,"column":6},"end":{"line":52,"column":58}},"17":{"start":{"line":55,"column":4},"end":{"line":60,"column":5}},"18":{"start":{"line":56,"column":6},"end":{"line":56,"column":114}},"19":{"start":{"line":57,"column":6},"end":{"line":57,"column":54}},"20":{"start":{"line":58,"column":11},"end":{"line":60,"column":5}},"21":{"start":{"line":59,"column":6},"end":{"line":59,"column":94}},"22":{"start":{"line":62,"column":4},"end":{"line":68,"column":5}},"23":{"start":{"line":63,"column":6},"end":{"line":63,"column":50}},"24":{"start":{"line":64,"column":6},"end":{"line":64,"column":53}},"25":{"start":{"line":66,"column":6},"end":{"line":66,"column":46}},"26":{"start":{"line":67,"column":6},"end":{"line":67,"column":51}},"27":{"start":{"line":70,"column":4},"end":{"line":74,"column":5}},"28":{"start":{"line":71,"column":6},"end":{"line":71,"column":56}},"29":{"start":{"line":72,"column":6},"end":{"line":72,"column":53}},"30":{"start":{"line":73,"column":6},"end":{"line":73,"column":89}},"31":{"start":{"line":76,"column":4},"end":{"line":76,"column":44}},"32":{"start":{"line":77,"column":4},"end":{"line":77,"column":49}},"33":{"start":{"line":79,"column":4},"end":{"line":79,"column":48}},"34":{"start":{"line":81,"column":4},"end":{"line":83,"column":5}},"35":{"start":{"line":82,"column":6},"end":{"line":82,"column":58}},"36":{"start":{"line":84,"column":4},"end":{"line":84,"column":24}},"37":{"start":{"line":87,"column":9},"end":{"line":93,"column":3}},"38":{"start":{"line":88,"column":4},"end":{"line":92,"column":5}},"39":{"start":{"line":89,"column":6},"end":{"line":89,"column":47}},"40":{"start":{"line":90,"column":6},"end":{"line":90,"column":35}},"41":{"start":{"line":91,"column":6},"end":{"line":91,"column":43}},"42":{"start":{"line":95,"column":9},"end":{"line":101,"column":3}},"43":{"start":{"line":96,"column":4},"end":{"line":100,"column":5}},"44":{"start":{"line":97,"column":6},"end":{"line":97,"column":48}},"45":{"start":{"line":98,"column":6},"end":{"line":98,"column":35}},"46":{"start":{"line":99,"column":6},"end":{"line":99,"column":43}},"47":{"start":{"line":103,"column":9},"end":{"line":109,"column":3}},"48":{"start":{"line":104,"column":4},"end":{"line":107,"column":5}},"49":{"start":{"line":105,"column":6},"end":{"line":105,"column":38}},"50":{"start":{"line":106,"column":6},"end":{"line":106,"column":36}},"51":{"start":{"line":108,"column":4},"end":{"line":108,"column":68}},"52":{"start":{"line":111,"column":9},"end":{"line":120,"column":3}},"53":{"start":{"line":112,"column":4},"end":{"line":115,"column":5}},"54":{"start":{"line":113,"column":6},"end":{"line":113,"column":36}},"55":{"start":{"line":114,"column":6},"end":{"line":114,"column":38}},"56":{"start":{"line":116,"column":4},"end":{"line":116,"column":71}},"57":{"start":{"line":117,"column":4},"end":{"line":119,"column":5}},"58":{"start":{"line":118,"column":6},"end":{"line":118,"column":82}},"59":{"start":{"line":122,"column":9},"end":{"line":130,"column":3}},"60":{"start":{"line":123,"column":4},"end":{"line":129,"column":5}},"61":{"start":{"line":124,"column":6},"end":{"line":124,"column":26}},"62":{"start":{"line":125,"column":6},"end":{"line":127,"column":7}},"63":{"start":{"line":126,"column":8},"end":{"line":126,"column":70}},"64":{"start":{"line":128,"column":6},"end":{"line":128,"column":97}},"65":{"start":{"line":132,"column":10},"end":{"line":138,"column":3}},"66":{"start":{"line":133,"column":4},"end":{"line":133,"column":48}},"67":{"start":{"line":134,"column":4},"end":{"line":136,"column":5}},"68":{"start":{"line":135,"column":6},"end":{"line":135,"column":55}},"69":{"start":{"line":137,"column":4},"end":{"line":137,"column":38}},"70":{"start":{"line":140,"column":10},"end":{"line":150,"column":3}},"71":{"start":{"line":141,"column":4},"end":{"line":141,"column":24}},"72":{"start":{"line":142,"column":4},"end":{"line":146,"column":5}},"73":{"start":{"line":143,"column":6},"end":{"line":143,"column":65}},"74":{"start":{"line":145,"column":6},"end":{"line":145,"column":69}},"75":{"start":{"line":147,"column":4},"end":{"line":147,"column":53}},"76":{"start":{"line":148,"column":4},"end":{"line":148,"column":51}},"77":{"start":{"line":149,"column":4},"end":{"line":149,"column":28}},"78":{"start":{"line":152,"column":10},"end":{"line":157,"column":3}},"79":{"start":{"line":153,"column":4},"end":{"line":153,"column":53}},"80":{"start":{"line":154,"column":4},"end":{"line":154,"column":71}},"81":{"start":{"line":155,"column":4},"end":{"line":155,"column":32}},"82":{"start":{"line":156,"column":4},"end":{"line":156,"column":28}},"83":{"start":{"line":159,"column":10},"end":{"line":171,"column":3}},"84":{"start":{"line":159,"column":2},"end":{"line":171,"column":3}},"85":{"start":{"line":160,"column":4},"end":{"line":160,"column":46}},"86":{"start":{"line":161,"column":4},"end":{"line":161,"column":36}},"87":{"start":{"line":163,"column":4},"end":{"line":163,"column":49}},"88":{"start":{"line":164,"column":4},"end":{"line":164,"column":50}},"89":{"start":{"line":165,"column":4},"end":{"line":165,"column":57}},"90":{"start":{"line":166,"column":4},"end":{"line":166,"column":31}},"91":{"start":{"line":168,"column":4},"end":{"line":168,"column":57}},"92":{"start":{"line":168,"column":35},"end":{"line":168,"column":55}},"93":{"start":{"line":170,"column":4},"end":{"line":170,"column":20}},"94":{"start":{"line":173,"column":10},"end":{"line":184,"column":3}},"95":{"start":{"line":173,"column":2},"end":{"line":184,"column":3}},"96":{"start":{"line":174,"column":4},"end":{"line":174,"column":46}},"97":{"start":{"line":175,"column":4},"end":{"line":175,"column":36}},"98":{"start":{"line":177,"column":4},"end":{"line":177,"column":47}},"99":{"start":{"line":178,"column":4},"end":{"line":178,"column":46}},"100":{"start":{"line":179,"column":4},"end":{"line":179,"column":22}},"101":{"start":{"line":180,"column":4},"end":{"line":180,"column":53}},"102":{"start":{"line":181,"column":4},"end":{"line":181,"column":29}},"103":{"start":{"line":182,"column":4},"end":{"line":182,"column":53}},"104":{"start":{"line":182,"column":33},"end":{"line":182,"column":51}},"105":{"start":{"line":183,"column":4},"end":{"line":183,"column":18}},"106":{"start":{"line":186,"column":10},"end":{"line":197,"column":3}},"107":{"start":{"line":186,"column":2},"end":{"line":197,"column":3}},"108":{"start":{"line":187,"column":4},"end":{"line":187,"column":46}},"109":{"start":{"line":188,"column":4},"end":{"line":188,"column":101}},"110":{"start":{"line":190,"column":4},"end":{"line":190,"column":47}},"111":{"start":{"line":191,"column":4},"end":{"line":191,"column":104}},"112":{"start":{"line":192,"column":4},"end":{"line":192,"column":55}},"113":{"start":{"line":193,"column":4},"end":{"line":193,"column":29}},"114":{"start":{"line":194,"column":4},"end":{"line":194,"column":61}},"115":{"start":{"line":194,"column":33},"end":{"line":194,"column":59}},"116":{"start":{"line":196,"column":4},"end":{"line":196,"column":18}},"117":{"start":{"line":199,"column":10},"end":{"line":215,"column":3}},"118":{"start":{"line":199,"column":2},"end":{"line":215,"column":3}},"119":{"start":{"line":200,"column":4},"end":{"line":204,"column":5}},"120":{"start":{"line":201,"column":6},"end":{"line":201,"column":38}},"121":{"start":{"line":203,"column":6},"end":{"line":203,"column":39}},"122":{"start":{"line":205,"column":4},"end":{"line":214,"column":5}},"123":{"start":{"line":206,"column":6},"end":{"line":206,"column":73}},"124":{"start":{"line":207,"column":6},"end":{"line":207,"column":76}},"125":{"start":{"line":208,"column":6},"end":{"line":213,"column":10}},"126":{"start":{"line":208,"column":47},"end":{"line":213,"column":8}},"127":{"start":{"line":217,"column":10},"end":{"line":222,"column":3}},"128":{"start":{"line":218,"column":4},"end":{"line":218,"column":46}},"129":{"start":{"line":219,"column":4},"end":{"line":219,"column":39}},"130":{"start":{"line":220,"column":4},"end":{"line":220,"column":51}},"131":{"start":{"line":221,"column":4},"end":{"line":221,"column":17}},"132":{"start":{"line":224,"column":9},"end":{"line":242,"column":3}},"133":{"start":{"line":224,"column":2},"end":{"line":242,"column":3}},"134":{"start":{"line":225,"column":4},"end":{"line":225,"column":46}},"135":{"start":{"line":226,"column":4},"end":{"line":226,"column":36}},"136":{"start":{"line":228,"column":4},"end":{"line":228,"column":47}},"137":{"start":{"line":229,"column":4},"end":{"line":229,"column":65}},"138":{"start":{"line":230,"column":4},"end":{"line":230,"column":29}},"139":{"start":{"line":231,"column":4},"end":{"line":231,"column":53}},"140":{"start":{"line":232,"column":4},"end":{"line":240,"column":6}},"141":{"start":{"line":233,"column":6},"end":{"line":233,"column":63}},"142":{"start":{"line":234,"column":6},"end":{"line":234,"column":18}},"143":{"start":{"line":235,"column":6},"end":{"line":238,"column":8}},"144":{"start":{"line":239,"column":6},"end":{"line":239,"column":41}},"145":{"start":{"line":241,"column":4},"end":{"line":241,"column":18}},"146":{"start":{"line":243,"column":0},"end":{"line":243,"column":1}},"147":{"start":{"line":28,"column":13},"end":{"line":243,"column":1}}},"fnMap":{"1":{"name":"(anonymous_3217)","line":28,"loc":{"start":{"line":28,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"FacetHeader","line":39,"loc":{"start":{"line":39,"column":2},"end":{"line":39,"column":49}}},"3":{"name":"(anonymous_3219)","line":44,"loc":{"start":{"line":44,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_3220)","line":87,"loc":{"start":{"line":87,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_3221)","line":95,"loc":{"start":{"line":95,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_3222)","line":103,"loc":{"start":{"line":103,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_3223)","line":111,"loc":{"start":{"line":111,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_3224)","line":122,"loc":{"start":{"line":122,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_3225)","line":132,"loc":{"start":{"line":132,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_3226)","line":140,"loc":{"start":{"line":140,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_3227)","line":152,"loc":{"start":{"line":152,"column":2},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_3228)","line":159,"loc":{"start":{"line":159,"column":2},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_3229)","line":168,"loc":{"start":{"line":168,"column":29},"end":{"line":168,"column":34}}},"14":{"name":"(anonymous_3230)","line":173,"loc":{"start":{"line":173,"column":2},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_3231)","line":182,"loc":{"start":{"line":182,"column":27},"end":{"line":182,"column":32}}},"16":{"name":"(anonymous_3232)","line":186,"loc":{"start":{"line":186,"column":2},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_3233)","line":194,"loc":{"start":{"line":194,"column":27},"end":{"line":194,"column":32}}},"18":{"name":"(anonymous_3234)","line":199,"loc":{"start":{"line":199,"column":2},"end":{"line":null,"column":-1}}},"19":{"name":"(anonymous_3235)","line":208,"loc":{"start":{"line":208,"column":41},"end":{"line":208,"column":46}}},"20":{"name":"(anonymous_3236)","line":217,"loc":{"start":{"line":217,"column":2},"end":{"line":null,"column":-1}}},"21":{"name":"(anonymous_3237)","line":224,"loc":{"start":{"line":224,"column":2},"end":{"line":null,"column":-1}}},"22":{"name":"(anonymous_3238)","line":232,"loc":{"start":{"line":232,"column":27},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":4},"end":{"line":45,"column":3}},{"start":{"line":45,"column":4},"end":{"line":45,"column":3}}]},"2":{"line":45,"type":"binary-expr","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":32}},{"start":{"line":45,"column":36},"end":{"line":45,"column":66}}]},"3":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":11},"end":{"line":47,"column":10}},{"start":{"line":47,"column":11},"end":{"line":47,"column":10}}]},"4":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":4},"end":{"line":51,"column":3}},{"start":{"line":51,"column":4},"end":{"line":51,"column":3}}]},"5":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":4},"end":{"line":55,"column":3}},{"start":{"line":55,"column":4},"end":{"line":55,"column":3}}]},"6":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":11},"end":{"line":58,"column":10}},{"start":{"line":58,"column":11},"end":{"line":58,"column":10}}]},"7":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":4},"end":{"line":62,"column":3}},{"start":{"line":62,"column":4},"end":{"line":62,"column":3}}]},"8":{"line":62,"type":"binary-expr","locations":[{"start":{"line":62,"column":8},"end":{"line":62,"column":42}},{"start":{"line":62,"column":46},"end":{"line":62,"column":71}}]},"9":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":4},"end":{"line":70,"column":3}},{"start":{"line":70,"column":4},"end":{"line":70,"column":3}}]},"10":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":4},"end":{"line":81,"column":3}},{"start":{"line":81,"column":4},"end":{"line":81,"column":3}}]},"11":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":4},"end":{"line":88,"column":3}},{"start":{"line":88,"column":4},"end":{"line":88,"column":3}}]},"12":{"line":96,"type":"if","locations":[{"start":{"line":96,"column":4},"end":{"line":96,"column":3}},{"start":{"line":96,"column":4},"end":{"line":96,"column":3}}]},"13":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":4},"end":{"line":104,"column":3}},{"start":{"line":104,"column":4},"end":{"line":104,"column":3}}]},"14":{"line":104,"type":"binary-expr","locations":[{"start":{"line":104,"column":8},"end":{"line":104,"column":28}},{"start":{"line":104,"column":32},"end":{"line":104,"column":50}}]},"15":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":4},"end":{"line":112,"column":3}},{"start":{"line":112,"column":4},"end":{"line":112,"column":3}}]},"16":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":8},"end":{"line":112,"column":28}},{"start":{"line":112,"column":32},"end":{"line":112,"column":50}}]},"17":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":4},"end":{"line":117,"column":3}},{"start":{"line":117,"column":4},"end":{"line":117,"column":3}}]},"18":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":4},"end":{"line":123,"column":3}},{"start":{"line":123,"column":4},"end":{"line":123,"column":3}}]},"19":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":8},"end":{"line":123,"column":26}},{"start":{"line":123,"column":30},"end":{"line":123,"column":79}}]},"20":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":6},"end":{"line":125,"column":5}},{"start":{"line":125,"column":6},"end":{"line":125,"column":5}}]},"21":{"line":125,"type":"binary-expr","locations":[{"start":{"line":125,"column":10},"end":{"line":125,"column":60}},{"start":{"line":125,"column":64},"end":{"line":125,"column":114}}]},"22":{"line":126,"type":"cond-expr","locations":[{"start":{"line":126,"column":57},"end":{"line":126,"column":62}},{"start":{"line":126,"column":65},"end":{"line":126,"column":69}}]},"23":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":4},"end":{"line":134,"column":3}},{"start":{"line":134,"column":4},"end":{"line":134,"column":3}}]},"24":{"line":142,"type":"if","locations":[{"start":{"line":142,"column":4},"end":{"line":142,"column":3}},{"start":{"line":142,"column":4},"end":{"line":142,"column":3}}]},"25":{"line":188,"type":"cond-expr","locations":[{"start":{"line":188,"column":71},"end":{"line":188,"column":76}},{"start":{"line":188,"column":79},"end":{"line":188,"column":83}}]},"26":{"line":191,"type":"cond-expr","locations":[{"start":{"line":191,"column":83},"end":{"line":191,"column":90}},{"start":{"line":191,"column":93},"end":{"line":191,"column":101}}]},"27":{"line":200,"type":"if","locations":[{"start":{"line":200,"column":4},"end":{"line":200,"column":3}},{"start":{"line":200,"column":4},"end":{"line":200,"column":3}}]},"28":{"line":205,"type":"if","locations":[{"start":{"line":205,"column":4},"end":{"line":205,"column":3}},{"start":{"line":205,"column":4},"end":{"line":205,"column":3}}]},"29":{"line":206,"type":"cond-expr","locations":[{"start":{"line":206,"column":60},"end":{"line":206,"column":65}},{"start":{"line":206,"column":68},"end":{"line":206,"column":72}}]},"30":{"line":207,"type":"cond-expr","locations":[{"start":{"line":207,"column":63},"end":{"line":207,"column":67}},{"start":{"line":207,"column":70},"end":{"line":207,"column":75}}]},"31":{"line":233,"type":"binary-expr","locations":[{"start":{"line":233,"column":16},"end":{"line":233,"column":34}},{"start":{"line":233,"column":38},"end":{"line":233,"column":62}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":83,"8":83,"9":83,"10":1,"11":84,"12":2,"13":82,"14":1,"15":84,"16":1,"17":84,"18":69,"19":69,"20":15,"21":1,"22":84,"23":1,"24":1,"25":1,"26":1,"27":84,"28":72,"29":72,"30":72,"31":84,"32":84,"33":84,"34":84,"35":83,"36":84,"37":1,"38":2,"39":2,"40":2,"41":2,"42":1,"43":2,"44":2,"45":2,"46":2,"47":1,"48":1,"49":0,"50":0,"51":1,"52":1,"53":1,"54":0,"55":0,"56":1,"57":1,"58":1,"59":1,"60":58,"61":4,"62":4,"63":4,"64":4,"65":1,"66":4,"67":4,"68":4,"69":4,"70":1,"71":3,"72":3,"73":2,"74":1,"75":3,"76":3,"77":3,"78":1,"79":84,"80":84,"81":84,"82":84,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":0,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":0,"105":1,"106":1,"107":76,"108":76,"109":76,"110":76,"111":76,"112":76,"113":76,"114":76,"115":2,"116":76,"117":1,"118":2,"119":2,"120":1,"121":1,"122":2,"123":2,"124":2,"125":2,"126":0,"127":1,"128":84,"129":84,"130":84,"131":84,"132":1,"133":84,"134":84,"135":84,"136":84,"137":84,"138":84,"139":84,"140":84,"141":0,"142":0,"143":0,"144":0,"145":84,"146":1,"147":1},"b":{"1":[2,82],"2":[84,83],"3":[1,81],"4":[1,83],"5":[69,15],"6":[1,14],"7":[1,83],"8":[84,84],"9":[72,12],"10":[83,1],"11":[2,0],"12":[2,0],"13":[0,1],"14":[1,0],"15":[0,1],"16":[1,0],"17":[1,0],"18":[4,54],"19":[58,58],"20":[4,0],"21":[4,0],"22":[2,2],"23":[4,0],"24":[2,1],"25":[4,72],"26":[4,72],"27":[1,1],"28":[2,0],"29":[1,1],"30":[1,1],"31":[0,0]},"f":{"1":1,"2":83,"3":84,"4":2,"5":2,"6":1,"7":1,"8":58,"9":4,"10":3,"11":84,"12":1,"13":0,"14":1,"15":0,"16":76,"17":2,"18":2,"19":0,"20":84,"21":84,"22":0},"code":"/// <reference path=\"Facet.ts\" />\n/// <reference path=\"FacetSettings.ts\" />\n\nimport {Facet} from './Facet';\nimport {FacetSlider} from '../FacetSlider/FacetSlider';\nimport {IFacetSettingsKlass, FacetSettings} from './FacetSettings';\nimport {IFacetSortKlass, FacetSort} from './FacetSort';\nimport {$$} from '../../utils/Dom';\nimport {FacetUtils} from './FacetUtils';\nimport {l} from '../../strings/Strings';\nimport {IAnalyticsFacetOperatorMeta, IAnalyticsFacetMeta, analyticsActionCauseList} from '../Analytics/AnalyticsActionListMeta';\n\nexport interface IFacetHeaderOptions {\n  facetElement: HTMLElement;\n  title: string;\n  field: string;\n  enableClearElement: boolean;\n  enableCollapseElement: boolean;\n  icon?: string;\n  facet?: Facet;\n  facetSlider?: FacetSlider;\n  settingsKlass?: IFacetSettingsKlass;\n  sortKlass?: IFacetSortKlass;\n  availableSorts?: string[];\n  isNewDesign: boolean;\n}\n\nexport class FacetHeader {\n  public element: HTMLElement;\n  public iconElement: HTMLElement;\n  public waitElement: HTMLElement;\n  public collapseElement: HTMLElement;\n  public expandElement: HTMLElement;\n  public operatorElement: HTMLElement;\n  public eraserElement: HTMLElement;\n  public settings: FacetSettings;\n  public sort: FacetSort;\n\n  constructor(public options: IFacetHeaderOptions) {\n    this.element = document.createElement('div');\n    $$(this.element).addClass('coveo-facet-header');\n  }\n\n  public build(): HTMLElement {\n    if (this.options.isNewDesign && this.options.icon != undefined) {\n      this.element.appendChild(this.buildIcon());\n    } else if (!this.options.isNewDesign) {\n      this.element.appendChild(this.buildIcon());\n    }\n\n    if (!this.options.isNewDesign) {\n      this.element.appendChild(this.buildWaitAnimation());\n    }\n\n    if (this.options.settingsKlass) {\n      this.sort = this.settings = new this.options.settingsKlass(this.options.availableSorts, this.options.facet);\n      this.element.appendChild(this.settings.build());\n    } else if (this.options.sortKlass) {\n      this.sort = new this.options.sortKlass(this.options.availableSorts, this.options.facet);\n    }\n\n    if (this.options.enableCollapseElement && !this.options.isNewDesign) {\n      this.collapseElement = this.buildCollapse();\n      this.element.appendChild(this.collapseElement);\n\n      this.expandElement = this.buildExpand();\n      this.element.appendChild(this.expandElement);\n    }\n\n    if (this.options.facet) {\n      this.operatorElement = this.buildOperatorToggle();\n      this.element.appendChild(this.operatorElement);\n      $$(this.operatorElement).toggle(this.options.facet.options.enableTogglingOperator);\n    }\n\n    this.eraserElement = this.buildEraser();\n    this.element.appendChild(this.eraserElement);\n\n    this.element.appendChild(this.buildTitle());\n\n    if (this.options.isNewDesign) {\n      this.element.appendChild(this.buildWaitAnimation());\n    }\n    return this.element;\n  }\n\n  public switchToAnd(): void {\n    if (this.options.facet) {\n      this.options.facet.options.useAnd = true;\n      this.rebuildOperatorToggle();\n      this.updateOperatorQueryStateModel();\n    }\n  }\n\n  public switchToOr(): void {\n    if (this.options.facet) {\n      this.options.facet.options.useAnd = false;\n      this.rebuildOperatorToggle();\n      this.updateOperatorQueryStateModel();\n    }\n  }\n\n  public collapseFacet(): void {\n    if (this.collapseElement && this.expandElement) {\n      $$(this.collapseElement).hide();\n      $$(this.expandElement).show();\n    }\n    $$(this.options.facetElement).addClass('coveo-facet-collapsed');\n  }\n\n  public expandFacet(): void {\n    if (this.collapseElement && this.expandElement) {\n      $$(this.expandElement).hide();\n      $$(this.collapseElement).show();\n    }\n    $$(this.options.facetElement).removeClass('coveo-facet-collapsed');\n    if (this.options.facet) {\n      FacetUtils.clipCaptionsToAvoidOverflowingTheirContainer(this.options.facet);\n    }\n  }\n\n  public updateOperatorQueryStateModel(): void {\n    if (this.options.facet && this.options.facet.options.enableTogglingOperator) {\n      var valueToSet = '';\n      if (this.options.facet.getSelectedValues().length != 0 || this.options.facet.getExcludedValues().length != 0) {\n        valueToSet = this.options.facet.options.useAnd ? 'and' : 'or';\n      }\n      this.options.facet.queryStateModel.set(this.options.facet.operatorAttributeId, valueToSet);\n    }\n  }\n\n  private rebuildOperatorToggle(): void {\n    var newElement = this.buildOperatorToggle();\n    if (this.operatorElement) {\n      $$(this.operatorElement).replaceWith(newElement);\n    }\n    this.operatorElement = newElement;\n  }\n\n  private buildIcon(): HTMLElement {\n    var cssClassForIcon;\n    if (this.options.icon) {\n      cssClassForIcon = 'coveo-icon-custom ' + this.options.icon;\n    } else {\n      cssClassForIcon = 'coveo-icon ' + this.options.field.substr(1);\n    }\n    this.iconElement = document.createElement('div');\n    $$(this.iconElement).addClass(cssClassForIcon);\n    return this.iconElement;\n  }\n\n  private buildWaitAnimation(): HTMLElement {\n    this.waitElement = document.createElement('div');\n    $$(this.waitElement).addClass('coveo-facet-header-wait-animation');\n    $$(this.waitElement).hide();\n    return this.waitElement;\n  }\n\n  private buildCollapse(): HTMLElement {\n    var icon = document.createElement('span');\n    $$(icon).addClass('coveo-icon');\n\n    var collapse = document.createElement('div');\n    collapse.setAttribute('title', l('Collapse'));\n    $$(collapse).addClass('coveo-facet-header-collapse');\n    collapse.appendChild(icon);\n\n    $$(collapse).on('click', () => this.collapseFacet());\n\n    return collapse;\n  }\n\n  private buildExpand(): HTMLElement {\n    var icon = document.createElement('span');\n    $$(icon).addClass('coveo-icon');\n\n    var expand = document.createElement('div');\n    expand.setAttribute('title', l('Expand'));\n    $$(expand).hide();\n    $$(expand).addClass('coveo-facet-header-expand');\n    expand.appendChild(icon);\n    $$(expand).on('click', () => this.expandFacet());\n    return expand;\n  }\n\n  private buildOperatorToggle(): HTMLElement {\n    var icon = document.createElement('span');\n    $$(icon).addClass(['coveo-' + (this.options.facet.options.useAnd ? 'and' : 'or'), 'coveo-icon']);\n\n    var toggle = document.createElement('div');\n    toggle.setAttribute('title', l('SwitchTo', this.options.facet.options.useAnd ? l('Or') : l('And')));\n    $$(toggle).addClass('coveo-facet-header-operator');\n    toggle.appendChild(icon);\n    $$(toggle).on('click', () => this.handleOperatorClick());\n\n    return toggle;\n  }\n\n  private handleOperatorClick(): void {\n    if (this.options.facet.options.useAnd) {\n      this.options.facet.switchToOr();\n    } else {\n      this.options.facet.switchToAnd();\n    }\n    if (this.options.facet.getSelectedValues().length != 0) {\n      var operatorNow = this.options.facet.options.useAnd ? 'AND' : 'OR';\n      var operatorBefore = this.options.facet.options.useAnd ? 'OR' : 'AND';\n      this.options.facet.triggerNewQuery(() => this.options.facet.usageAnalytics.logSearchEvent<IAnalyticsFacetOperatorMeta>(analyticsActionCauseList.facetToggle, {\n        facetId: this.options.facet.options.id,\n        facetOperatorBefore: operatorBefore,\n        facetOperatorAfter: operatorNow,\n        facetTitle: this.options.title\n      }));\n    }\n  }\n\n  private buildTitle(): HTMLElement {\n    var title = document.createElement('div');\n    $$(title).text(this.options.title);\n    $$(title).addClass('coveo-facet-header-title');\n    return title;\n  }\n\n  public buildEraser(): HTMLElement {\n    var icon = document.createElement('span');\n    $$(icon).addClass('coveo-icon');\n\n    var eraser = document.createElement('div');\n    eraser.setAttribute('title', l('Clear', this.options.title));\n    eraser.appendChild(icon);\n    $$(eraser).addClass('coveo-facet-header-eraser');\n    $$(eraser).on('click', () => {\n      var cmp = this.options.facet || this.options.facetSlider;\n      cmp.reset();\n      cmp.usageAnalytics.logSearchEvent<IAnalyticsFacetMeta>(analyticsActionCauseList.facetClearAll, {\n        facetId: cmp.options.id,\n        facetTitle: cmp.options.title\n      })\n      cmp.queryController.executeQuery();\n    })\n    return eraser;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Facet/FacetHeader.ts\n **/","l":{"8":1,"9":1,"10":1,"11":1,"28":1,"39":83,"40":83,"41":83,"44":1,"45":84,"46":2,"47":82,"48":1,"51":84,"52":1,"55":84,"56":69,"57":69,"58":15,"59":1,"62":84,"63":1,"64":1,"66":1,"67":1,"70":84,"71":72,"72":72,"73":72,"76":84,"77":84,"79":84,"81":84,"82":83,"84":84,"87":1,"88":2,"89":2,"90":2,"91":2,"95":1,"96":2,"97":2,"98":2,"99":2,"103":1,"104":1,"105":0,"106":0,"108":1,"111":1,"112":1,"113":0,"114":0,"116":1,"117":1,"118":1,"122":1,"123":58,"124":4,"125":4,"126":4,"128":4,"132":1,"133":4,"134":4,"135":4,"137":4,"140":1,"141":3,"142":3,"143":2,"145":1,"147":3,"148":3,"149":3,"152":1,"153":84,"154":84,"155":84,"156":84,"159":1,"160":1,"161":1,"163":1,"164":1,"165":1,"166":1,"168":1,"170":1,"173":1,"174":1,"175":1,"177":1,"178":1,"179":1,"180":1,"181":1,"182":1,"183":1,"186":76,"187":76,"188":76,"190":76,"191":76,"192":76,"193":76,"194":76,"196":76,"199":2,"200":2,"201":1,"203":1,"205":2,"206":2,"207":2,"208":2,"217":1,"218":84,"219":84,"220":84,"221":84,"224":84,"225":84,"226":84,"228":84,"229":84,"230":84,"231":84,"232":84,"233":0,"234":0,"235":0,"239":0,"241":84,"243":1}},"src/ui/Facet/BreadcrumbValueElement.ts":{"path":"src/ui/Facet/BreadcrumbValueElement.ts","statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":52}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":99}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":40}},"5":{"start":{"line":14,"column":0},"end":{"line":62,"column":1}},"6":{"start":{"line":15,"column":2},"end":{"line":16,"column":3}},"7":{"start":{"line":15,"column":21},"end":{"line":15,"column":33}},"8":{"start":{"line":15,"column":42},"end":{"line":15,"column":64}},"9":{"start":{"line":18,"column":9},"end":{"line":56,"column":3}},"10":{"start":{"line":18,"column":2},"end":{"line":56,"column":3}},"11":{"start":{"line":18,"column":15},"end":{"line":18,"column":29}},"12":{"start":{"line":19,"column":4},"end":{"line":19,"column":35}},"13":{"start":{"line":21,"column":4},"end":{"line":21,"column":69}},"14":{"start":{"line":22,"column":4},"end":{"line":22,"column":50}},"15":{"start":{"line":23,"column":4},"end":{"line":23,"column":65}},"16":{"start":{"line":24,"column":4},"end":{"line":24,"column":65}},"17":{"start":{"line":25,"column":4},"end":{"line":25,"column":63}},"18":{"start":{"line":27,"column":4},"end":{"line":29,"column":7}},"19":{"start":{"line":30,"column":4},"end":{"line":30,"column":62}},"20":{"start":{"line":31,"column":4},"end":{"line":31,"column":36}},"21":{"start":{"line":33,"column":4},"end":{"line":35,"column":7}},"22":{"start":{"line":36,"column":4},"end":{"line":36,"column":34}},"23":{"start":{"line":38,"column":4},"end":{"line":38,"column":24}},"24":{"start":{"line":39,"column":4},"end":{"line":53,"column":6}},"25":{"start":{"line":40,"column":6},"end":{"line":52,"column":7}},"26":{"start":{"line":41,"column":8},"end":{"line":41,"column":23}},"27":{"start":{"line":42,"column":8},"end":{"line":46,"column":9}},"28":{"start":{"line":43,"column":10},"end":{"line":43,"column":59}},"29":{"start":{"line":45,"column":10},"end":{"line":45,"column":58}},"30":{"start":{"line":47,"column":8},"end":{"line":51,"column":12}},"31":{"start":{"line":47,"column":41},"end":{"line":51,"column":10}},"32":{"start":{"line":55,"column":4},"end":{"line":55,"column":16}},"33":{"start":{"line":58,"column":9},"end":{"line":61,"column":3}},"34":{"start":{"line":59,"column":4},"end":{"line":59,"column":189}},"35":{"start":{"line":60,"column":4},"end":{"line":60,"column":45}},"36":{"start":{"line":62,"column":0},"end":{"line":62,"column":1}},"37":{"start":{"line":14,"column":13},"end":{"line":62,"column":1}}},"fnMap":{"1":{"name":"(anonymous_3240)","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":32}}},"2":{"name":"(anonymous_3241)","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":null,"column":-1}}},"3":{"name":"BreadcrumbValueElement","line":15,"loc":{"start":{"line":15,"column":2},"end":{"line":15,"column":64}}},"4":{"name":"(anonymous_3243)","line":18,"loc":{"start":{"line":18,"column":2},"end":{"line":18,"column":29}}},"5":{"name":"(anonymous_3244)","line":39,"loc":{"start":{"line":39,"column":21},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_3245)","line":47,"loc":{"start":{"line":47,"column":35},"end":{"line":47,"column":40}}},"7":{"name":"(anonymous_3246)","line":58,"loc":{"start":{"line":58,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":15},"end":{"line":18,"column":14}},{"start":{"line":18,"column":15},"end":{"line":18,"column":14}}]},"2":{"line":21,"type":"cond-expr","locations":[{"start":{"line":21,"column":46},"end":{"line":21,"column":55}},{"start":{"line":21,"column":58},"end":{"line":21,"column":68}}]},"3":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":6},"end":{"line":40,"column":5}},{"start":{"line":40,"column":6},"end":{"line":40,"column":5}}]},"4":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":8},"end":{"line":42,"column":7}},{"start":{"line":42,"column":8},"end":{"line":42,"column":7}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":3,"8":3,"9":1,"10":3,"11":6,"12":3,"13":3,"14":3,"15":3,"16":3,"17":3,"18":3,"19":3,"20":3,"21":3,"22":3,"23":3,"24":3,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":3,"33":1,"34":3,"35":3,"36":1,"37":1},"b":{"1":[3,0],"2":[0,3],"3":[0,0],"4":[0,0]},"f":{"1":1,"2":1,"3":3,"4":3,"5":0,"6":0,"7":3},"code":"/// <reference path=\"Facet.ts\" />\n\nimport {FacetValue} from './FacetValues';\nimport {Facet} from './Facet';\nimport {Assert} from '../../misc/Assert';\nimport {DeviceUtils} from '../../utils/DeviceUtils';\nimport {IAnalyticsFacetMeta, analyticsActionCauseList} from '../Analytics/AnalyticsActionListMeta';\nimport {$$, Dom} from '../../utils/Dom';\n\nexport interface IBreadcrumbValueElementKlass {\n  new (facet: Facet, facetValue: FacetValue): BreadcrumbValueElement;\n}\n\nexport class BreadcrumbValueElement {\n  constructor(public facet: Facet, public facetValue: FacetValue) {\n  }\n\n  public build(tooltip = true): Dom {\n    Assert.exists(this.facetValue);\n\n    var elem = DeviceUtils.isMobileDevice() ? $$('div') : $$('span');\n    elem.addClass('coveo-facet-breadcrumb-value');\n    elem.toggleClass('coveo-selected', this.facetValue.selected);\n    elem.toggleClass('coveo-excluded', this.facetValue.excluded);\n    elem.el.setAttribute('title', this.getBreadcrumbTooltip());\n\n    var caption = $$('span', {\n      className: 'coveo-facet-breadcrumb-caption'\n    });\n    caption.text(this.facet.getValueCaption(this.facetValue));\n    elem.el.appendChild(caption.el);\n\n    var clear = $$('span', {\n      className: 'coveo-facet-breadcrumb-clear'\n    });\n    elem.el.appendChild(clear.el);\n\n    var clicked = false;\n    elem.on('click', () => {\n      if (!clicked) {\n        clicked = true;\n        if (this.facetValue.excluded) {\n          this.facet.unexcludeValue(this.facetValue.value);\n        } else {\n          this.facet.deselectValue(this.facetValue.value);\n        }\n        this.facet.triggerNewQuery(() => this.facet.usageAnalytics.logSearchEvent<IAnalyticsFacetMeta>(analyticsActionCauseList.breadcrumbFacet, {\n          facetId: this.facet.options.id,\n          facetValue: this.facetValue.value,\n          facetTitle: this.facet.options.title\n        }));\n      }\n    })\n\n    return elem;\n  }\n\n  public getBreadcrumbTooltip(): string {\n    var tooltipParts = [this.facet.getValueCaption(this.facetValue), this.facetValue.getFormattedCount(), this.facetValue.getFormattedComputedField(this.facet.options.computedFieldFormat)];\n    return _.compact(tooltipParts).join(' ');\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Facet/BreadcrumbValueElement.ts\n **/","l":{"5":1,"6":1,"7":1,"8":1,"14":1,"15":3,"18":6,"19":3,"21":3,"22":3,"23":3,"24":3,"25":3,"27":3,"30":3,"31":3,"33":3,"36":3,"38":3,"39":3,"40":0,"41":0,"42":0,"43":0,"45":0,"47":0,"55":3,"58":1,"59":3,"60":3,"62":1}},"src/ui/Facet/BreadcrumbValuesList.ts":{"path":"src/ui/Facet/BreadcrumbValuesList.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":52}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":40}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":35}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":39}},"6":{"start":{"line":10,"column":0},"end":{"line":134,"column":1}},"7":{"start":{"line":16,"column":2},"end":{"line":31,"column":3}},"8":{"start":{"line":16,"column":21},"end":{"line":16,"column":33}},"9":{"start":{"line":16,"column":42},"end":{"line":16,"column":67}},"10":{"start":{"line":16,"column":76},"end":{"line":16,"column":133}},"11":{"start":{"line":17,"column":4},"end":{"line":17,"column":35}},"12":{"start":{"line":18,"column":4},"end":{"line":20,"column":10}},"13":{"start":{"line":22,"column":4},"end":{"line":22,"column":70}},"14":{"start":{"line":23,"column":4},"end":{"line":23,"column":51}},"15":{"start":{"line":24,"column":4},"end":{"line":24,"column":85}},"16":{"start":{"line":25,"column":4},"end":{"line":25,"column":36}},"17":{"start":{"line":27,"column":4},"end":{"line":29,"column":10}},"18":{"start":{"line":30,"column":4},"end":{"line":30,"column":47}},"19":{"start":{"line":33,"column":9},"end":{"line":39,"column":3}},"20":{"start":{"line":34,"column":4},"end":{"line":34,"column":25}},"21":{"start":{"line":35,"column":4},"end":{"line":37,"column":5}},"22":{"start":{"line":36,"column":6},"end":{"line":36,"column":28}},"23":{"start":{"line":38,"column":4},"end":{"line":38,"column":21}},"24":{"start":{"line":41,"column":10},"end":{"line":53,"column":3}},"25":{"start":{"line":41,"column":2},"end":{"line":53,"column":3}},"26":{"start":{"line":42,"column":4},"end":{"line":52,"column":7}},"27":{"start":{"line":43,"column":6},"end":{"line":49,"column":7}},"28":{"start":{"line":44,"column":8},"end":{"line":46,"column":11}},"29":{"start":{"line":47,"column":8},"end":{"line":47,"column":29}},"30":{"start":{"line":48,"column":8},"end":{"line":48,"column":54}},"31":{"start":{"line":50,"column":6},"end":{"line":50,"column":94}},"32":{"start":{"line":51,"column":6},"end":{"line":51,"column":60}},"33":{"start":{"line":55,"column":10},"end":{"line":123,"column":3}},"34":{"start":{"line":55,"column":2},"end":{"line":123,"column":3}},"35":{"start":{"line":56,"column":4},"end":{"line":56,"column":98}},"36":{"start":{"line":56,"column":75},"end":{"line":56,"column":89}},"37":{"start":{"line":57,"column":4},"end":{"line":57,"column":98}},"38":{"start":{"line":57,"column":75},"end":{"line":57,"column":89}},"39":{"start":{"line":58,"column":4},"end":{"line":58,"column":79}},"40":{"start":{"line":60,"column":4},"end":{"line":62,"column":6}},"41":{"start":{"line":63,"column":4},"end":{"line":69,"column":5}},"42":{"start":{"line":64,"column":6},"end":{"line":66,"column":9}},"43":{"start":{"line":67,"column":6},"end":{"line":67,"column":21}},"44":{"start":{"line":68,"column":6},"end":{"line":68,"column":34}},"45":{"start":{"line":70,"column":4},"end":{"line":81,"column":5}},"46":{"start":{"line":71,"column":6},"end":{"line":73,"column":8}},"47":{"start":{"line":74,"column":6},"end":{"line":74,"column":71}},"48":{"start":{"line":75,"column":6},"end":{"line":75,"column":36}},"49":{"start":{"line":77,"column":6},"end":{"line":79,"column":8}},"50":{"start":{"line":80,"column":6},"end":{"line":80,"column":40}},"51":{"start":{"line":82,"column":4},"end":{"line":93,"column":5}},"52":{"start":{"line":83,"column":6},"end":{"line":85,"column":8}},"53":{"start":{"line":86,"column":6},"end":{"line":86,"column":79}},"54":{"start":{"line":87,"column":6},"end":{"line":87,"column":44}},"55":{"start":{"line":89,"column":6},"end":{"line":91,"column":9}},"56":{"start":{"line":92,"column":6},"end":{"line":92,"column":48}},"57":{"start":{"line":95,"column":4},"end":{"line":97,"column":6}},"58":{"start":{"line":96,"column":6},"end":{"line":96,"column":74}},"59":{"start":{"line":99,"column":4},"end":{"line":101,"column":6}},"60":{"start":{"line":100,"column":6},"end":{"line":100,"column":49}},"61":{"start":{"line":103,"column":4},"end":{"line":103,"column":55}},"62":{"start":{"line":104,"column":4},"end":{"line":120,"column":7}},"63":{"start":{"line":105,"column":6},"end":{"line":105,"column":39}},"64":{"start":{"line":106,"column":6},"end":{"line":115,"column":9}},"65":{"start":{"line":107,"column":8},"end":{"line":113,"column":9}},"66":{"start":{"line":108,"column":10},"end":{"line":110,"column":13}},"67":{"start":{"line":111,"column":10},"end":{"line":111,"column":39}},"68":{"start":{"line":112,"column":10},"end":{"line":112,"column":46}},"69":{"start":{"line":114,"column":8},"end":{"line":114,"column":52}},"70":{"start":{"line":116,"column":6},"end":{"line":118,"column":8}},"71":{"start":{"line":117,"column":8},"end":{"line":117,"column":37}},"72":{"start":{"line":119,"column":6},"end":{"line":119,"column":20}},"73":{"start":{"line":122,"column":4},"end":{"line":122,"column":45}},"74":{"start":{"line":125,"column":10},"end":{"line":133,"column":3}},"75":{"start":{"line":126,"column":4},"end":{"line":132,"column":5}},"76":{"start":{"line":127,"column":6},"end":{"line":127,"column":99}},"77":{"start":{"line":128,"column":6},"end":{"line":128,"column":99}},"78":{"start":{"line":130,"column":6},"end":{"line":130,"column":26}},"79":{"start":{"line":131,"column":6},"end":{"line":131,"column":39}},"80":{"start":{"line":134,"column":0},"end":{"line":134,"column":1}},"81":{"start":{"line":10,"column":13},"end":{"line":134,"column":1}}},"fnMap":{"1":{"name":"(anonymous_3249)","line":10,"loc":{"start":{"line":10,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"BreadcrumbValueList","line":16,"loc":{"start":{"line":16,"column":2},"end":{"line":16,"column":133}}},"3":{"name":"(anonymous_3251)","line":33,"loc":{"start":{"line":33,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_3252)","line":41,"loc":{"start":{"line":41,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_3253)","line":42,"loc":{"start":{"line":42,"column":26},"end":{"line":42,"column":67}}},"6":{"name":"(anonymous_3254)","line":55,"loc":{"start":{"line":55,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_3255)","line":56,"loc":{"start":{"line":56,"column":52},"end":{"line":56,"column":70}}},"8":{"name":"(anonymous_3256)","line":57,"loc":{"start":{"line":57,"column":52},"end":{"line":57,"column":70}}},"9":{"name":"(anonymous_3257)","line":95,"loc":{"start":{"line":95,"column":46},"end":{"line":95,"column":57}}},"10":{"name":"(anonymous_3258)","line":99,"loc":{"start":{"line":99,"column":40},"end":{"line":99,"column":53}}},"11":{"name":"(anonymous_3259)","line":104,"loc":{"start":{"line":104,"column":21},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_3260)","line":106,"loc":{"start":{"line":106,"column":31},"end":{"line":106,"column":44}}},"13":{"name":"(anonymous_3261)","line":116,"loc":{"start":{"line":116,"column":23},"end":{"line":116,"column":26}}},"14":{"name":"(anonymous_3262)","line":125,"loc":{"start":{"line":125,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":22,"type":"cond-expr","locations":[{"start":{"line":22,"column":47},"end":{"line":22,"column":56}},{"start":{"line":22,"column":59},"end":{"line":22,"column":69}}]},"2":{"line":24,"type":"cond-expr","locations":[{"start":{"line":24,"column":74},"end":{"line":24,"column":76}},{"start":{"line":24,"column":79},"end":{"line":24,"column":82}}]},"3":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":4},"end":{"line":35,"column":3}},{"start":{"line":35,"column":4},"end":{"line":35,"column":3}}]},"4":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":6},"end":{"line":43,"column":5}},{"start":{"line":43,"column":6},"end":{"line":43,"column":5}}]},"5":{"line":43,"type":"binary-expr","locations":[{"start":{"line":43,"column":10},"end":{"line":43,"column":20}},{"start":{"line":43,"column":24},"end":{"line":43,"column":53}},{"start":{"line":43,"column":57},"end":{"line":43,"column":98}}]},"6":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":4},"end":{"line":63,"column":3}},{"start":{"line":63,"column":4},"end":{"line":63,"column":3}}]},"7":{"line":63,"type":"binary-expr","locations":[{"start":{"line":63,"column":8},"end":{"line":63,"column":37}},{"start":{"line":63,"column":41},"end":{"line":63,"column":82}}]},"8":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":4},"end":{"line":70,"column":3}},{"start":{"line":70,"column":4},"end":{"line":70,"column":3}}]},"9":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":4},"end":{"line":82,"column":3}},{"start":{"line":82,"column":4},"end":{"line":82,"column":3}}]},"10":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":8},"end":{"line":107,"column":7}},{"start":{"line":107,"column":8},"end":{"line":107,"column":7}}]},"11":{"line":107,"type":"binary-expr","locations":[{"start":{"line":107,"column":12},"end":{"line":107,"column":41}},{"start":{"line":107,"column":45},"end":{"line":107,"column":86}}]},"12":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":4},"end":{"line":126,"column":3}},{"start":{"line":126,"column":4},"end":{"line":126,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":3,"9":3,"10":3,"11":3,"12":3,"13":3,"14":3,"15":3,"16":3,"17":3,"18":3,"19":1,"20":3,"21":3,"22":0,"23":3,"24":1,"25":3,"26":3,"27":3,"28":0,"29":0,"30":0,"31":3,"32":3,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":1,"75":3,"76":0,"77":0,"78":3,"79":3,"80":1,"81":1},"b":{"1":[0,3],"2":[0,3],"3":[0,3],"4":[0,3],"5":[3,0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,3]},"f":{"1":1,"2":3,"3":3,"4":3,"5":3,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":3},"code":"import {FacetValue} from './FacetValues';\nimport {DeviceUtils} from '../../utils/DeviceUtils';\nimport {Facet} from './Facet';\nimport {IBreadcrumbValueElementKlass} from './BreadcrumbValueElement';\nimport {Assert} from '../../misc/Assert';\nimport {l} from '../../strings/Strings';\nimport {$$} from '../../utils/Dom';\nimport * as Globalize from 'globalize';\n\nexport class BreadcrumbValueList {\n  private expanded: FacetValue[];\n  private collapsed: FacetValue[];\n  private elem: HTMLElement;\n  private valueContainer: HTMLElement;\n\n  constructor(public facet: Facet, public facetValues: FacetValue[], public breadcrumbValueElementKlass: IBreadcrumbValueElementKlass) {\n    this.setExpandedAndCollapsed();\n    this.elem = $$('div', {\n      className: 'coveo-facet-breadcrumb'\n    }).el;\n\n    let title = DeviceUtils.isMobileDevice() ? $$('div') : $$('span');\n    title.addClass('coveo-facet-breadcrumb-title');\n    title.text(this.facet.options.title + (DeviceUtils.isMobileDevice() ? '' : ':'));\n    this.elem.appendChild(title.el);\n\n    this.valueContainer = $$('span', {\n      className: 'coveo-facet-breadcrumb-values'\n    }).el;\n    this.elem.appendChild(this.valueContainer);\n  }\n\n  public build(): HTMLElement {\n    this.buildExpanded();\n    if (this.collapsed.length != 0) {\n      this.buildCollapsed();\n    }\n    return this.elem;\n  }\n\n  private buildExpanded() {\n    _.each(this.expanded, (value: FacetValue, index?: number, list?) => {\n      if (index != 0 && !DeviceUtils.isMobileDevice() && !this.facet.searchInterface.isNewDesign()) {\n        let separator = $$('span', {\n          className: 'coveo-facet-breadcrumb-separator'\n        });\n        separator.text(', ');\n        this.valueContainer.appendChild(separator.el);\n      }\n      var elementBreadcrumb = new this.breadcrumbValueElementKlass(this.facet, value).build();\n      this.valueContainer.appendChild(elementBreadcrumb.el);\n    });\n  }\n\n  private buildCollapsed() {\n    let numberOfSelected = _.filter(this.collapsed, (value: FacetValue) => value.selected).length;\n    let numberOfExcluded = _.filter(this.collapsed, (value: FacetValue) => value.excluded).length;\n    Assert.check(numberOfSelected + numberOfExcluded == this.collapsed.length);\n\n    var elem = $$('div', {\n      className: 'coveo-facet-breadcrumb-value'\n    })\n    if (!DeviceUtils.isMobileDevice() && !this.facet.searchInterface.isNewDesign()) {\n      let sep = $$('span', {\n        className: 'coveo-separator'\n      });\n      sep.text(', ');\n      elem.el.appendChild(sep.el);\n    }\n    if (numberOfSelected > 0) {\n      let multi = $$('span', {\n        className: 'coveo-facet-breadcrumb-multi-count'\n      })\n      multi.text(l('NMore', Globalize.format(numberOfSelected, 'n0')));\n      elem.el.appendChild(multi.el);\n\n      let multiIcon = $$('div', {\n        className: 'coveo-selected coveo-facet-breadcrumb-multi-icon'\n      })\n      elem.el.appendChild(multiIcon.el);\n    }\n    if (numberOfExcluded > 0) {\n      let multiExcluded = $$('span', {\n        className: 'coveo-facet-breadcrumb-multi-count'\n      })\n      multiExcluded.text(l('NMore', Globalize.format(numberOfExcluded, 'n0')));\n      elem.el.appendChild(multiExcluded.el);\n\n      let multiExcludedIcon = $$('div', {\n        className: 'coveo-excluded coveo-facet-breadcrumb-multi-icon'\n      });\n      elem.el.appendChild(multiExcludedIcon.el);\n    }\n\n    let valueElements = _.map(this.collapsed, (facetValue) => {\n      return new this.breadcrumbValueElementKlass(this.facet, facetValue);\n    })\n\n    let toolTips = _.map(valueElements, (valueElement) => {\n      return valueElement.getBreadcrumbTooltip();\n    })\n\n    elem.el.setAttribute('title', toolTips.join('\\n'));\n    elem.on('click', () => {\n      var elements: HTMLElement[] = [];\n      _.forEach(valueElements, (valueElement) => {\n        if (!DeviceUtils.isMobileDevice() && !this.facet.searchInterface.isNewDesign()) {\n          let separatorsClicked = $$('span', {\n            className: 'coveo-facet-breadcrumb-separator'\n          });\n          separatorsClicked.text(', ');\n          elements.push(separatorsClicked.el);\n        }\n        elements.push(valueElement.build(false).el);\n      });\n      _.each(elements, (el) => {\n        $$(el).insertBefore(elem.el);\n      })\n      elem.detach();\n    });\n\n    this.valueContainer.appendChild(elem.el);\n  }\n\n  private setExpandedAndCollapsed() {\n    if (this.facetValues.length > this.facet.options.numberOfValuesInBreadcrumb) {\n      this.collapsed = _.rest(this.facetValues, this.facet.options.numberOfValuesInBreadcrumb - 1);\n      this.expanded = _.first(this.facetValues, this.facet.options.numberOfValuesInBreadcrumb - 1);\n    } else {\n      this.collapsed = [];\n      this.expanded = this.facetValues;\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Facet/BreadcrumbValuesList.ts\n **/","l":{"2":1,"5":1,"6":1,"7":1,"8":1,"10":1,"16":3,"17":3,"18":3,"22":3,"23":3,"24":3,"25":3,"27":3,"30":3,"33":1,"34":3,"35":3,"36":0,"38":3,"41":3,"42":3,"43":3,"44":0,"47":0,"48":0,"50":3,"51":3,"55":1,"56":0,"57":0,"58":0,"60":0,"63":0,"64":0,"67":0,"68":0,"70":0,"71":0,"74":0,"75":0,"77":0,"80":0,"82":0,"83":0,"86":0,"87":0,"89":0,"92":0,"95":0,"96":0,"99":0,"100":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"111":0,"112":0,"114":0,"116":0,"117":0,"119":0,"122":0,"125":1,"126":3,"127":0,"128":0,"130":3,"131":3,"134":1}},"src/ui/Facet/FacetSearchValuesList.ts":{"path":"src/ui/Facet/FacetSearchValuesList.ts","statementMap":{"1":{"start":{"line":10,"column":0},"end":{"line":24,"column":1}},"2":{"start":{"line":11,"column":2},"end":{"line":12,"column":3}},"3":{"start":{"line":11,"column":21},"end":{"line":11,"column":33}},"4":{"start":{"line":11,"column":42},"end":{"line":11,"column":89}},"5":{"start":{"line":14,"column":9},"end":{"line":23,"column":3}},"6":{"start":{"line":14,"column":2},"end":{"line":23,"column":3}},"7":{"start":{"line":15,"column":4},"end":{"line":19,"column":7}},"8":{"start":{"line":16,"column":6},"end":{"line":18,"column":22}},"9":{"start":{"line":17,"column":8},"end":{"line":17,"column":60}},"10":{"start":{"line":20,"column":4},"end":{"line":22,"column":6}},"11":{"start":{"line":21,"column":6},"end":{"line":21,"column":138}},"12":{"start":{"line":24,"column":0},"end":{"line":24,"column":1}},"13":{"start":{"line":10,"column":13},"end":{"line":24,"column":1}}},"fnMap":{"1":{"name":"(anonymous_3265)","line":10,"loc":{"start":{"line":10,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"FacetSearchValuesList","line":11,"loc":{"start":{"line":11,"column":2},"end":{"line":11,"column":89}}},"3":{"name":"(anonymous_3267)","line":14,"loc":{"start":{"line":14,"column":2},"end":{"line":14,"column":40}}},"4":{"name":"(anonymous_3268)","line":15,"loc":{"start":{"line":15,"column":47},"end":{"line":15,"column":58}}},"5":{"name":"(anonymous_3269)","line":16,"loc":{"start":{"line":16,"column":48},"end":{"line":16,"column":80}}},"6":{"name":"(anonymous_3270)","line":20,"loc":{"start":{"line":20,"column":36},"end":{"line":20,"column":47}}}},"branchMap":{"1":{"line":16,"type":"binary-expr","locations":[{"start":{"line":16,"column":13},"end":{"line":18,"column":8}},{"start":{"line":18,"column":12},"end":{"line":18,"column":22}}]}},"s":{"1":1,"2":1,"3":2,"4":2,"5":1,"6":2,"7":2,"8":20,"9":0,"10":2,"11":20,"12":1,"13":1},"b":{"1":[20,20]},"f":{"1":1,"2":2,"3":2,"4":20,"5":0,"6":20},"code":"/// <reference path=\"Facet.ts\" />\nimport {Facet} from './Facet';\nimport {IFacetValueElementKlass} from './FacetValueElement';\nimport {FacetValue} from './FacetValues';\n\nexport interface IFacetSearchValuesListKlass {\n  new (facet: Facet, facetValueElementKlass: IFacetValueElementKlass): FacetSearchValuesList;\n}\n\nexport class FacetSearchValuesList {\n  constructor(public facet: Facet, public facetValueElementKlass: IFacetValueElementKlass) {\n  }\n\n  public build(facetValues: FacetValue[]): HTMLElement[] {\n    var valuesToBuildWith = _.map(facetValues, (facetValue) => {\n      return _.find(this.facet.values.getAll(), (valueAlreadyInFacet: FacetValue) => {\n        return valueAlreadyInFacet.value == facetValue.value\n      }) || facetValue\n    });\n    return _.map(valuesToBuildWith, (facetValue) => {\n      return new this.facetValueElementKlass(this.facet, facetValue, this.facet.keepDisplayedValuesNextTime).build().renderer.listElement;\n    })\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Facet/FacetSearchValuesList.ts\n **/","l":{"10":1,"11":2,"14":2,"15":2,"16":20,"17":0,"20":2,"21":20,"24":1}},"src/ui/Facet/OmniboxValueElement.ts":{"path":"src/ui/Facet/OmniboxValueElement.ts","statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":44}},"2":{"start":{"line":13,"column":0},"end":{"line":21,"column":1}},"3":{"start":{"line":13,"column":41},"end":{"line":13,"column":53}},"4":{"start":{"line":14,"column":2},"end":{"line":16,"column":3}},"5":{"start":{"line":15,"column":4},"end":{"line":15,"column":49}},"6":{"start":{"line":14,"column":21},"end":{"line":14,"column":33}},"7":{"start":{"line":14,"column":42},"end":{"line":14,"column":64}},"8":{"start":{"line":14,"column":73},"end":{"line":14,"column":105}},"9":{"start":{"line":18,"column":9},"end":{"line":20,"column":3}},"10":{"start":{"line":19,"column":4},"end":{"line":19,"column":95}},"11":{"start":{"line":21,"column":0},"end":{"line":21,"column":1}},"12":{"start":{"line":13,"column":13},"end":{"line":21,"column":1}}},"fnMap":{"1":{"name":"(anonymous_3274)","line":13,"loc":{"start":{"line":13,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"OmniboxValueElement","line":14,"loc":{"start":{"line":14,"column":2},"end":{"line":14,"column":248}}},"3":{"name":"(anonymous_3276)","line":18,"loc":{"start":{"line":18,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":1,"12":1},"b":{},"f":{"1":1,"2":0,"3":0},"code":"/// <reference path=\"Facet.ts\" />\n\nimport {Facet} from './Facet';\nimport {FacetValue} from './FacetValues';\nimport {IPopulateOmniboxObject} from '../Omnibox/OmniboxInterface';\nimport {ValueElement} from './ValueElement';\nimport {IAnalyticsActionCause} from '../Analytics/AnalyticsActionListMeta';\n\nexport interface IOmniboxValueElementKlass {\n  new (facet: Facet, facetValue: FacetValue, eventArg: IPopulateOmniboxObject, onSelect?: (elem: ValueElement, cause: IAnalyticsActionCause) => void, onExclude?: (elem: ValueElement, cause: IAnalyticsActionCause) => void): OmniboxValueElement;\n}\n\nexport class OmniboxValueElement extends ValueElement {\n  constructor(public facet: Facet, public facetValue: FacetValue, public eventArg: IPopulateOmniboxObject, onSelect?: (elem: ValueElement, cause: IAnalyticsActionCause) => void, onExclude?: (elem: ValueElement, cause: IAnalyticsActionCause) => void) {\n    super(facet, facetValue, onSelect, onExclude)\n  }\n\n  public bindEvent() {\n    super.bindEvent({ displayNextTime: false, pinFacet: false, omniboxObject: this.eventArg });\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Facet/OmniboxValueElement.ts\n **/","l":{"6":1,"13":1,"14":1,"15":0,"18":1,"19":0,"21":1}},"src/ui/Facet/OmniboxValuesList.ts":{"path":"src/ui/Facet/OmniboxValuesList.ts","statementMap":{"1":{"start":{"line":8,"column":0},"end":{"line":8,"column":35}},"2":{"start":{"line":9,"column":0},"end":{"line":9,"column":40}},"3":{"start":{"line":10,"column":0},"end":{"line":10,"column":40}},"4":{"start":{"line":12,"column":0},"end":{"line":98,"column":1}},"5":{"start":{"line":13,"column":2},"end":{"line":14,"column":3}},"6":{"start":{"line":13,"column":21},"end":{"line":13,"column":33}},"7":{"start":{"line":13,"column":42},"end":{"line":13,"column":67}},"8":{"start":{"line":13,"column":76},"end":{"line":13,"column":113}},"9":{"start":{"line":13,"column":122},"end":{"line":13,"column":173}},"10":{"start":{"line":16,"column":9},"end":{"line":22,"column":3}},"11":{"start":{"line":16,"column":2},"end":{"line":22,"column":3}},"12":{"start":{"line":17,"column":4},"end":{"line":17,"column":33}},"13":{"start":{"line":18,"column":4},"end":{"line":20,"column":6}},"14":{"start":{"line":19,"column":6},"end":{"line":19,"column":76}},"15":{"start":{"line":21,"column":4},"end":{"line":21,"column":47}},"16":{"start":{"line":24,"column":10},"end":{"line":44,"column":3}},"17":{"start":{"line":24,"column":2},"end":{"line":44,"column":3}},"18":{"start":{"line":25,"column":4},"end":{"line":25,"column":115}},"19":{"start":{"line":25,"column":79},"end":{"line":25,"column":114}},"20":{"start":{"line":26,"column":4},"end":{"line":26,"column":116}},"21":{"start":{"line":26,"column":80},"end":{"line":26,"column":115}},"22":{"start":{"line":27,"column":4},"end":{"line":27,"column":136}},"23":{"start":{"line":28,"column":4},"end":{"line":28,"column":77}},"24":{"start":{"line":30,"column":4},"end":{"line":30,"column":60}},"25":{"start":{"line":31,"column":4},"end":{"line":31,"column":67}},"26":{"start":{"line":32,"column":4},"end":{"line":32,"column":75}},"27":{"start":{"line":33,"column":4},"end":{"line":33,"column":113}},"28":{"start":{"line":35,"column":4},"end":{"line":37,"column":9}},"29":{"start":{"line":38,"column":4},"end":{"line":38,"column":46}},"30":{"start":{"line":39,"column":4},"end":{"line":42,"column":7}},"31":{"start":{"line":40,"column":6},"end":{"line":40,"column":69}},"32":{"start":{"line":41,"column":6},"end":{"line":41,"column":34}},"33":{"start":{"line":43,"column":4},"end":{"line":43,"column":22}},"34":{"start":{"line":46,"column":10},"end":{"line":61,"column":3}},"35":{"start":{"line":47,"column":4},"end":{"line":47,"column":43}},"36":{"start":{"line":48,"column":4},"end":{"line":60,"column":5}},"37":{"start":{"line":49,"column":6},"end":{"line":49,"column":23}},"38":{"start":{"line":51,"column":6},"end":{"line":53,"column":12}},"39":{"start":{"line":54,"column":6},"end":{"line":54,"column":30}},"40":{"start":{"line":55,"column":6},"end":{"line":57,"column":8}},"41":{"start":{"line":56,"column":8},"end":{"line":56,"column":27}},"42":{"start":{"line":58,"column":6},"end":{"line":58,"column":66}},"43":{"start":{"line":59,"column":6},"end":{"line":59,"column":17}},"44":{"start":{"line":63,"column":10},"end":{"line":79,"column":3}},"45":{"start":{"line":64,"column":4},"end":{"line":64,"column":41}},"46":{"start":{"line":65,"column":4},"end":{"line":67,"column":9}},"47":{"start":{"line":68,"column":4},"end":{"line":77,"column":5}},"48":{"start":{"line":69,"column":6},"end":{"line":69,"column":29}},"49":{"start":{"line":70,"column":6},"end":{"line":70,"column":20}},"50":{"start":{"line":72,"column":6},"end":{"line":74,"column":11}},"51":{"start":{"line":75,"column":6},"end":{"line":75,"column":30}},"52":{"start":{"line":76,"column":6},"end":{"line":76,"column":29}},"53":{"start":{"line":78,"column":4},"end":{"line":78,"column":18}},"54":{"start":{"line":81,"column":10},"end":{"line":85,"column":3}},"55":{"start":{"line":82,"column":4},"end":{"line":82,"column":45}},"56":{"start":{"line":83,"column":4},"end":{"line":83,"column":52}},"57":{"start":{"line":84,"column":4},"end":{"line":84,"column":158}},"58":{"start":{"line":87,"column":10},"end":{"line":97,"column":3}},"59":{"start":{"line":88,"column":4},"end":{"line":88,"column":65}},"60":{"start":{"line":89,"column":4},"end":{"line":96,"column":7}},"61":{"start":{"line":98,"column":0},"end":{"line":98,"column":1}},"62":{"start":{"line":12,"column":13},"end":{"line":98,"column":1}}},"fnMap":{"1":{"name":"(anonymous_3279)","line":12,"loc":{"start":{"line":12,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"OmniboxValuesList","line":13,"loc":{"start":{"line":13,"column":2},"end":{"line":13,"column":173}}},"3":{"name":"(anonymous_3281)","line":16,"loc":{"start":{"line":16,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_3282)","line":18,"loc":{"start":{"line":18,"column":29},"end":{"line":18,"column":52}}},"5":{"name":"(anonymous_3283)","line":24,"loc":{"start":{"line":24,"column":2},"end":{"line":24,"column":93}}},"6":{"name":"(anonymous_3284)","line":25,"loc":{"start":{"line":25,"column":25},"end":{"line":25,"column":74}}},"7":{"name":"(anonymous_3285)","line":26,"loc":{"start":{"line":26,"column":26},"end":{"line":26,"column":75}}},"8":{"name":"(anonymous_3286)","line":39,"loc":{"start":{"line":39,"column":40},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_3287)","line":46,"loc":{"start":{"line":46,"column":2},"end":{"line":46,"column":54}}},"10":{"name":"(anonymous_3288)","line":55,"loc":{"start":{"line":55,"column":19},"end":{"line":55,"column":21}}},"11":{"name":"(anonymous_3289)","line":63,"loc":{"start":{"line":63,"column":2},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_3290)","line":81,"loc":{"start":{"line":81,"column":2},"end":{"line":81,"column":88}}},"13":{"name":"(anonymous_3291)","line":87,"loc":{"start":{"line":87,"column":2},"end":{"line":87,"column":76}}}},"branchMap":{"1":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":4},"end":{"line":48,"column":3}},{"start":{"line":48,"column":4},"end":{"line":48,"column":3}}]},"2":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":4},"end":{"line":68,"column":3}},{"start":{"line":68,"column":4},"end":{"line":68,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":0,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":1,"36":1,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":0,"51":0,"52":0,"53":0,"54":1,"55":0,"56":0,"57":0,"58":1,"59":0,"60":0,"61":1,"62":1},"b":{"1":[1,0],"2":[1,0]},"f":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":1,"12":0,"13":0},"code":"/// <reference path=\"Facet.ts\" />\nimport {Facet} from './Facet';\nimport {FacetValue} from './FacetValues';\nimport {IPopulateOmniboxObject} from '../Omnibox/OmniboxInterface';\nimport {IOmniboxValueElementKlass} from './OmniboxValueElement';\nimport {ValueElement} from './ValueElement';\nimport {IAnalyticsActionCause, IAnalyticsOmniboxFacetMeta} from '../Analytics/AnalyticsActionListMeta';\nimport {$$} from '../../utils/Dom';\nimport {Utils} from '../../utils/Utils';\nimport {FacetUtils} from './FacetUtils';\n\nexport class OmniboxValuesList {\n  constructor(public facet: Facet, public facetValues: FacetValue[], public omniboxObject: IPopulateOmniboxObject, public omniboxValueElementKlass: IOmniboxValueElementKlass) {\n  }\n\n  public build() {\n    var rows: HTMLElement[] = [];\n    _.each(this.facetValues, (facetValue: FacetValue) => {\n      rows.push(this.buildOmniboxForOneRow(facetValue, this.omniboxObject));\n    })\n    return this.buildFinalOmniboxElement(rows);\n  }\n\n  private buildOmniboxForOneRow(facetValue: FacetValue, omniboxObject: IPopulateOmniboxObject): HTMLElement {\n    var selectCallback = (elem: ValueElement, cause: IAnalyticsActionCause) => this.logAnalyticsEvent(elem, cause);\n    var excludeCallback = (elem: ValueElement, cause: IAnalyticsActionCause) => this.logAnalyticsEvent(elem, cause);\n    var omniboxValueElement = new this.omniboxValueElementKlass(this.facet, facetValue, omniboxObject, selectCallback, excludeCallback);\n    var omniboxRowContent = omniboxValueElement.build().renderer.listElement;\n\n    var regex = omniboxObject.completeQueryExpression.regex;\n    var valueToSearch = omniboxObject.completeQueryExpression.word;\n    var caption = $$(omniboxRowContent).find('.coveo-facet-value-caption');\n    caption.innerHTML = this.highlightOmniboxMatch(this.facet.getValueCaption(facetValue), regex, valueToSearch);\n\n    var omniboxRow = $$('div', {\n      className: 'coveo-omnibox-selectable coveo-facet-value coveo-omnibox-facet-value'\n    }).el\n    omniboxRow.appendChild(omniboxRowContent);\n    $$(omniboxRow).on('keyboardSelect', () => {\n      var input = $$(omniboxRowContent).find('input[type=checkbox]');\n      $$(input).trigger('change');\n    });\n    return omniboxRow;\n  }\n\n  private buildFinalOmniboxElement(rows: HTMLElement[]) {\n    var header = this.buildOmniboxHeader();\n    if (Utils.isEmptyArray(rows)) {\n      return undefined;\n    } else {\n      var ret = $$('div', {\n        className: 'coveo-omnibox-facet-value'\n      }).el;\n      ret.appendChild(header);\n      _.each(rows, (r) => {\n        ret.appendChild(r);\n      })\n      FacetUtils.addNoStateCssClassToFacetValues(this.facet, ret);\n      return ret;\n    }\n  }\n\n  private buildOmniboxHeader(): HTMLElement {\n    var title = this.facet.options.title;\n    var header = $$('div', {\n      className: 'coveo-omnibox-facet-header'\n    }).el\n    if (this.facet.searchInterface.isNewDesign()) {\n      $$(header).text(title);\n      return header;\n    } else {\n      var icon = $$('span', {\n        className: 'coveo-icon ' + this.facet.options.field.substr(1)\n      }).el\n      header.appendChild(icon)\n      $$(header).text(title);\n    }\n    return header;\n  }\n\n  private highlightOmniboxMatch(orignalStr: string, regex: RegExp, valueToSearch: string) {\n    var firstChar = orignalStr.search(regex);\n    var lastChar = firstChar + valueToSearch.length;\n    return orignalStr.slice(0, firstChar) + '<span class=\"coveo-highlight\">' + orignalStr.slice(firstChar, lastChar) + '</span>' + orignalStr.slice(lastChar);\n  }\n\n  private logAnalyticsEvent(elem: ValueElement, cause: IAnalyticsActionCause) {\n    var strippedFacetValues = _.pluck(this.facetValues, 'value');\n    elem.facet.usageAnalytics.logSearchEvent<IAnalyticsOmniboxFacetMeta>(cause, {\n      query: this.omniboxObject.completeQueryExpression.word,\n      facetId: elem.facet.options.id,\n      facetTitle: elem.facet.options.title,\n      facetValue: elem.facetValue.value,\n      suggestions: strippedFacetValues.join(';'),\n      suggestionRanking: _.indexOf(strippedFacetValues, elem.facetValue.value)\n    });\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Facet/OmniboxValuesList.ts\n **/","l":{"8":1,"9":1,"10":1,"12":1,"13":1,"16":1,"17":1,"18":1,"19":0,"21":1,"24":1,"25":0,"26":0,"27":0,"28":0,"30":0,"31":0,"32":0,"33":0,"35":0,"38":0,"39":0,"40":0,"41":0,"43":0,"46":1,"47":1,"48":1,"49":1,"51":0,"54":0,"55":0,"56":0,"58":0,"59":0,"63":1,"64":1,"65":1,"68":1,"69":1,"70":1,"72":0,"75":0,"76":0,"78":0,"81":1,"82":0,"83":0,"84":0,"87":1,"88":0,"89":0,"98":1}},"src/ui/ResponsiveComponents/ResponsiveFacets.ts":{"path":"src/ui/ResponsiveComponents/ResponsiveFacets.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":40}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":71}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":125}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":70}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":52}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":67}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":44}},"8":{"start":{"line":8,"column":0},"end":{"line":8,"column":41}},"9":{"start":{"line":9,"column":0},"end":{"line":9,"column":40}},"10":{"start":{"line":10,"column":0},"end":{"line":10,"column":90}},"11":{"start":{"line":11,"column":0},"end":{"line":11,"column":40}},"12":{"start":{"line":12,"column":0},"end":{"line":12,"column":37}},"13":{"start":{"line":13,"column":0},"end":{"line":13,"column":55}},"14":{"start":{"line":15,"column":0},"end":{"line":261,"column":1}},"15":{"start":{"line":48,"column":2},"end":{"line":65,"column":3}},"16":{"start":{"line":48,"column":21},"end":{"line":48,"column":30}},"17":{"start":{"line":34,"column":10},"end":{"line":34,"column":31}},"18":{"start":{"line":35,"column":10},"end":{"line":35,"column":43}},"19":{"start":{"line":49,"column":4},"end":{"line":49,"column":17}},"20":{"start":{"line":50,"column":4},"end":{"line":50,"column":26}},"21":{"start":{"line":51,"column":4},"end":{"line":51,"column":91}},"22":{"start":{"line":52,"column":4},"end":{"line":52,"column":32}},"23":{"start":{"line":53,"column":4},"end":{"line":53,"column":31}},"24":{"start":{"line":54,"column":4},"end":{"line":54,"column":37}},"25":{"start":{"line":55,"column":4},"end":{"line":55,"column":36}},"26":{"start":{"line":56,"column":4},"end":{"line":56,"column":32}},"27":{"start":{"line":57,"column":4},"end":{"line":57,"column":30}},"28":{"start":{"line":58,"column":4},"end":{"line":58,"column":26}},"29":{"start":{"line":60,"column":4},"end":{"line":64,"column":5}},"30":{"start":{"line":61,"column":6},"end":{"line":61,"column":56}},"31":{"start":{"line":63,"column":6},"end":{"line":63,"column":53}},"32":{"start":{"line":39,"column":16},"end":{"line":46,"column":3}},"33":{"start":{"line":40,"column":4},"end":{"line":40,"column":49}},"34":{"start":{"line":41,"column":4},"end":{"line":44,"column":5}},"35":{"start":{"line":42,"column":6},"end":{"line":42,"column":104}},"36":{"start":{"line":43,"column":6},"end":{"line":43,"column":13}},"37":{"start":{"line":45,"column":4},"end":{"line":45,"column":99}},"38":{"start":{"line":67,"column":9},"end":{"line":69,"column":3}},"39":{"start":{"line":68,"column":4},"end":{"line":68,"column":53}},"40":{"start":{"line":71,"column":9},"end":{"line":82,"column":3}},"41":{"start":{"line":72,"column":4},"end":{"line":75,"column":5}},"42":{"start":{"line":73,"column":6},"end":{"line":73,"column":115}},"43":{"start":{"line":74,"column":6},"end":{"line":74,"column":13}},"44":{"start":{"line":76,"column":4},"end":{"line":76,"column":25}},"45":{"start":{"line":77,"column":4},"end":{"line":77,"column":25}},"46":{"start":{"line":78,"column":4},"end":{"line":78,"column":40}},"47":{"start":{"line":79,"column":4},"end":{"line":79,"column":89}},"48":{"start":{"line":80,"column":4},"end":{"line":80,"column":51}},"49":{"start":{"line":81,"column":4},"end":{"line":81,"column":65}},"50":{"start":{"line":84,"column":9},"end":{"line":90,"column":3}},"51":{"start":{"line":85,"column":4},"end":{"line":85,"column":39}},"52":{"start":{"line":86,"column":4},"end":{"line":86,"column":27}},"53":{"start":{"line":87,"column":4},"end":{"line":87,"column":53}},"54":{"start":{"line":88,"column":4},"end":{"line":88,"column":33}},"55":{"start":{"line":89,"column":4},"end":{"line":89,"column":67}},"56":{"start":{"line":92,"column":9},"end":{"line":98,"column":3}},"57":{"start":{"line":93,"column":4},"end":{"line":97,"column":5}},"58":{"start":{"line":94,"column":6},"end":{"line":94,"column":41}},"59":{"start":{"line":95,"column":11},"end":{"line":97,"column":5}},"60":{"start":{"line":96,"column":6},"end":{"line":96,"column":52}},"61":{"start":{"line":100,"column":9},"end":{"line":102,"column":3}},"62":{"start":{"line":101,"column":4},"end":{"line":101,"column":32}},"63":{"start":{"line":104,"column":9},"end":{"line":113,"column":3}},"64":{"start":{"line":105,"column":4},"end":{"line":109,"column":5}},"65":{"start":{"line":106,"column":6},"end":{"line":106,"column":31}},"66":{"start":{"line":107,"column":11},"end":{"line":109,"column":5}},"67":{"start":{"line":108,"column":6},"end":{"line":108,"column":31}},"68":{"start":{"line":110,"column":4},"end":{"line":112,"column":5}},"69":{"start":{"line":111,"column":6},"end":{"line":111,"column":26}},"70":{"start":{"line":115,"column":10},"end":{"line":117,"column":3}},"71":{"start":{"line":116,"column":4},"end":{"line":116,"column":81}},"72":{"start":{"line":116,"column":45},"end":{"line":116,"column":79}},"73":{"start":{"line":119,"column":10},"end":{"line":126,"column":3}},"74":{"start":{"line":120,"column":4},"end":{"line":120,"column":74}},"75":{"start":{"line":121,"column":4},"end":{"line":121,"column":119}},"76":{"start":{"line":122,"column":4},"end":{"line":122,"column":76}},"77":{"start":{"line":123,"column":4},"end":{"line":123,"column":35}},"78":{"start":{"line":124,"column":4},"end":{"line":124,"column":42}},"79":{"start":{"line":125,"column":4},"end":{"line":125,"column":55}},"80":{"start":{"line":128,"column":10},"end":{"line":133,"column":3}},"81":{"start":{"line":129,"column":4},"end":{"line":129,"column":102}},"82":{"start":{"line":130,"column":4},"end":{"line":130,"column":26}},"83":{"start":{"line":131,"column":4},"end":{"line":131,"column":30}},"84":{"start":{"line":132,"column":4},"end":{"line":132,"column":51}},"85":{"start":{"line":135,"column":10},"end":{"line":144,"column":3}},"86":{"start":{"line":135,"column":2},"end":{"line":144,"column":3}},"87":{"start":{"line":136,"column":4},"end":{"line":143,"column":7}},"88":{"start":{"line":137,"column":6},"end":{"line":142,"column":7}},"89":{"start":{"line":138,"column":8},"end":{"line":138,"column":28}},"90":{"start":{"line":139,"column":8},"end":{"line":139,"column":37}},"91":{"start":{"line":141,"column":8},"end":{"line":141,"column":29}},"92":{"start":{"line":146,"column":10},"end":{"line":157,"column":3}},"93":{"start":{"line":146,"column":2},"end":{"line":157,"column":3}},"94":{"start":{"line":147,"column":4},"end":{"line":156,"column":47}},"95":{"start":{"line":148,"column":6},"end":{"line":155,"column":9}},"96":{"start":{"line":149,"column":8},"end":{"line":149,"column":44}},"97":{"start":{"line":150,"column":8},"end":{"line":154,"column":9}},"98":{"start":{"line":151,"column":10},"end":{"line":151,"column":75}},"99":{"start":{"line":152,"column":15},"end":{"line":154,"column":9}},"100":{"start":{"line":153,"column":10},"end":{"line":153,"column":52}},"101":{"start":{"line":159,"column":10},"end":{"line":167,"column":3}},"102":{"start":{"line":159,"column":2},"end":{"line":167,"column":3}},"103":{"start":{"line":160,"column":4},"end":{"line":160,"column":87}},"104":{"start":{"line":161,"column":4},"end":{"line":165,"column":7}},"105":{"start":{"line":162,"column":6},"end":{"line":164,"column":7}},"106":{"start":{"line":163,"column":8},"end":{"line":163,"column":38}},"107":{"start":{"line":166,"column":4},"end":{"line":166,"column":65}},"108":{"start":{"line":166,"column":43},"end":{"line":166,"column":63}},"109":{"start":{"line":169,"column":10},"end":{"line":172,"column":3}},"110":{"start":{"line":170,"column":4},"end":{"line":170,"column":133}},"111":{"start":{"line":171,"column":4},"end":{"line":171,"column":60}},"112":{"start":{"line":174,"column":10},"end":{"line":180,"column":3}},"113":{"start":{"line":175,"column":4},"end":{"line":179,"column":5}},"114":{"start":{"line":176,"column":6},"end":{"line":176,"column":64}},"115":{"start":{"line":178,"column":6},"end":{"line":178,"column":51}},"116":{"start":{"line":182,"column":10},"end":{"line":189,"column":3}},"117":{"start":{"line":183,"column":4},"end":{"line":183,"column":25}},"118":{"start":{"line":184,"column":4},"end":{"line":184,"column":66}},"119":{"start":{"line":185,"column":4},"end":{"line":185,"column":54}},"120":{"start":{"line":186,"column":4},"end":{"line":186,"column":61}},"121":{"start":{"line":187,"column":4},"end":{"line":187,"column":92}},"122":{"start":{"line":188,"column":4},"end":{"line":188,"column":34}},"123":{"start":{"line":191,"column":10},"end":{"line":205,"column":3}},"124":{"start":{"line":192,"column":4},"end":{"line":192,"column":87}},"125":{"start":{"line":194,"column":4},"end":{"line":194,"column":66}},"126":{"start":{"line":195,"column":4},"end":{"line":195,"column":65}},"127":{"start":{"line":196,"column":4},"end":{"line":196,"column":47}},"128":{"start":{"line":197,"column":4},"end":{"line":197,"column":92}},"129":{"start":{"line":198,"column":4},"end":{"line":200,"column":5}},"130":{"start":{"line":199,"column":6},"end":{"line":199,"column":56}},"131":{"start":{"line":201,"column":4},"end":{"line":201,"column":66}},"132":{"start":{"line":203,"column":4},"end":{"line":204,"column":109}},"133":{"start":{"line":207,"column":10},"end":{"line":217,"column":3}},"134":{"start":{"line":210,"column":4},"end":{"line":210,"column":61}},"135":{"start":{"line":211,"column":4},"end":{"line":211,"column":48}},"136":{"start":{"line":212,"column":4},"end":{"line":212,"column":45}},"137":{"start":{"line":213,"column":4},"end":{"line":213,"column":51}},"138":{"start":{"line":214,"column":4},"end":{"line":214,"column":69}},"139":{"start":{"line":215,"column":4},"end":{"line":215,"column":68}},"140":{"start":{"line":216,"column":4},"end":{"line":216,"column":32}},"141":{"start":{"line":219,"column":10},"end":{"line":225,"column":3}},"142":{"start":{"line":220,"column":4},"end":{"line":224,"column":6}},"143":{"start":{"line":221,"column":6},"end":{"line":223,"column":7}},"144":{"start":{"line":222,"column":8},"end":{"line":222,"column":52}},"145":{"start":{"line":227,"column":10},"end":{"line":231,"column":3}},"146":{"start":{"line":228,"column":4},"end":{"line":228,"column":25}},"147":{"start":{"line":229,"column":4},"end":{"line":229,"column":33}},"148":{"start":{"line":230,"column":4},"end":{"line":230,"column":45}},"149":{"start":{"line":233,"column":10},"end":{"line":235,"column":3}},"150":{"start":{"line":234,"column":4},"end":{"line":234,"column":72}},"151":{"start":{"line":234,"column":33},"end":{"line":234,"column":70}},"152":{"start":{"line":237,"column":10},"end":{"line":239,"column":3}},"153":{"start":{"line":238,"column":4},"end":{"line":238,"column":73}},"154":{"start":{"line":238,"column":33},"end":{"line":238,"column":71}},"155":{"start":{"line":241,"column":10},"end":{"line":245,"column":3}},"156":{"start":{"line":241,"column":2},"end":{"line":245,"column":3}},"157":{"start":{"line":242,"column":4},"end":{"line":244,"column":7}},"158":{"start":{"line":243,"column":6},"end":{"line":243,"column":83}},"159":{"start":{"line":247,"column":10},"end":{"line":249,"column":3}},"160":{"start":{"line":248,"column":4},"end":{"line":248,"column":81}},"161":{"start":{"line":248,"column":45},"end":{"line":248,"column":79}},"162":{"start":{"line":251,"column":10},"end":{"line":260,"column":3}},"163":{"start":{"line":252,"column":4},"end":{"line":252,"column":66}},"164":{"start":{"line":253,"column":4},"end":{"line":253,"column":72}},"165":{"start":{"line":254,"column":4},"end":{"line":254,"column":74}},"166":{"start":{"line":255,"column":4},"end":{"line":255,"column":80}},"167":{"start":{"line":257,"column":4},"end":{"line":257,"column":53}},"168":{"start":{"line":259,"column":4},"end":{"line":259,"column":72}},"169":{"start":{"line":17,"column":17},"end":{"line":17,"column":52}},"170":{"start":{"line":18,"column":17},"end":{"line":18,"column":56}},"171":{"start":{"line":19,"column":17},"end":{"line":19,"column":59}},"172":{"start":{"line":20,"column":17},"end":{"line":20,"column":64}},"173":{"start":{"line":21,"column":17},"end":{"line":21,"column":44}},"174":{"start":{"line":22,"column":17},"end":{"line":22,"column":46}},"175":{"start":{"line":261,"column":0},"end":{"line":261,"column":1}},"176":{"start":{"line":15,"column":13},"end":{"line":261,"column":1}}},"fnMap":{"1":{"name":"(anonymous_3294)","line":15,"loc":{"start":{"line":15,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"ResponsiveFacets","line":48,"loc":{"start":{"line":48,"column":2},"end":{"line":48,"column":80}}},"3":{"name":"(anonymous_3296)","line":39,"loc":{"start":{"line":39,"column":2},"end":{"line":39,"column":87}}},"4":{"name":"(anonymous_3297)","line":67,"loc":{"start":{"line":67,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_3298)","line":71,"loc":{"start":{"line":71,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_3299)","line":84,"loc":{"start":{"line":84,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_3300)","line":92,"loc":{"start":{"line":92,"column":2},"end":{"line":92,"column":47}}},"8":{"name":"(anonymous_3301)","line":100,"loc":{"start":{"line":100,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_3302)","line":104,"loc":{"start":{"line":104,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_3303)","line":115,"loc":{"start":{"line":115,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_3304)","line":116,"loc":{"start":{"line":116,"column":30},"end":{"line":116,"column":41}}},"12":{"name":"(anonymous_3305)","line":119,"loc":{"start":{"line":119,"column":2},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_3306)","line":128,"loc":{"start":{"line":128,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_3307)","line":135,"loc":{"start":{"line":135,"column":2},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_3308)","line":136,"loc":{"start":{"line":136,"column":36},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_3309)","line":146,"loc":{"start":{"line":146,"column":2},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_3310)","line":147,"loc":{"start":{"line":147,"column":49},"end":{"line":null,"column":-1}}},"18":{"name":"(anonymous_3311)","line":148,"loc":{"start":{"line":148,"column":26},"end":{"line":148,"column":31}}},"19":{"name":"(anonymous_3312)","line":159,"loc":{"start":{"line":159,"column":2},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_3313)","line":161,"loc":{"start":{"line":161,"column":75},"end":{"line":null,"column":-1}}},"21":{"name":"(anonymous_3314)","line":166,"loc":{"start":{"line":166,"column":37},"end":{"line":166,"column":42}}},"22":{"name":"(anonymous_3315)","line":169,"loc":{"start":{"line":169,"column":2},"end":{"line":null,"column":-1}}},"23":{"name":"(anonymous_3316)","line":174,"loc":{"start":{"line":174,"column":2},"end":{"line":null,"column":-1}}},"24":{"name":"(anonymous_3317)","line":182,"loc":{"start":{"line":182,"column":2},"end":{"line":null,"column":-1}}},"25":{"name":"(anonymous_3318)","line":191,"loc":{"start":{"line":191,"column":2},"end":{"line":null,"column":-1}}},"26":{"name":"(anonymous_3319)","line":207,"loc":{"start":{"line":207,"column":2},"end":{"line":null,"column":-1}}},"27":{"name":"(anonymous_3320)","line":219,"loc":{"start":{"line":219,"column":2},"end":{"line":null,"column":-1}}},"28":{"name":"(anonymous_3321)","line":220,"loc":{"start":{"line":220,"column":24},"end":{"line":220,"column":29}}},"29":{"name":"(anonymous_3322)","line":227,"loc":{"start":{"line":227,"column":2},"end":{"line":null,"column":-1}}},"30":{"name":"(anonymous_3323)","line":233,"loc":{"start":{"line":233,"column":2},"end":{"line":null,"column":-1}}},"31":{"name":"(anonymous_3324)","line":234,"loc":{"start":{"line":234,"column":24},"end":{"line":234,"column":29}}},"32":{"name":"(anonymous_3325)","line":237,"loc":{"start":{"line":237,"column":2},"end":{"line":null,"column":-1}}},"33":{"name":"(anonymous_3326)","line":238,"loc":{"start":{"line":238,"column":24},"end":{"line":238,"column":29}}},"34":{"name":"(anonymous_3327)","line":241,"loc":{"start":{"line":241,"column":2},"end":{"line":null,"column":-1}}},"35":{"name":"(anonymous_3328)","line":242,"loc":{"start":{"line":242,"column":53},"end":{"line":null,"column":-1}}},"36":{"name":"(anonymous_3329)","line":247,"loc":{"start":{"line":247,"column":2},"end":{"line":null,"column":-1}}},"37":{"name":"(anonymous_3330)","line":248,"loc":{"start":{"line":248,"column":30},"end":{"line":248,"column":41}}},"38":{"name":"(anonymous_3331)","line":251,"loc":{"start":{"line":251,"column":2},"end":{"line":251,"column":71}}}},"branchMap":{"1":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":4},"end":{"line":60,"column":3}},{"start":{"line":60,"column":4},"end":{"line":60,"column":3}}]},"2":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":4},"end":{"line":41,"column":3}},{"start":{"line":41,"column":4},"end":{"line":41,"column":3}}]},"3":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":4},"end":{"line":72,"column":3}},{"start":{"line":72,"column":4},"end":{"line":72,"column":3}}]},"4":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":4},"end":{"line":93,"column":3}},{"start":{"line":93,"column":4},"end":{"line":93,"column":3}}]},"5":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":11},"end":{"line":95,"column":10}},{"start":{"line":95,"column":11},"end":{"line":95,"column":10}}]},"6":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":4},"end":{"line":105,"column":3}},{"start":{"line":105,"column":4},"end":{"line":105,"column":3}}]},"7":{"line":105,"type":"binary-expr","locations":[{"start":{"line":105,"column":8},"end":{"line":105,"column":28}},{"start":{"line":105,"column":32},"end":{"line":105,"column":96}}]},"8":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":11},"end":{"line":107,"column":10}},{"start":{"line":107,"column":11},"end":{"line":107,"column":10}}]},"9":{"line":107,"type":"binary-expr","locations":[{"start":{"line":107,"column":15},"end":{"line":107,"column":36}},{"start":{"line":107,"column":40},"end":{"line":107,"column":103}}]},"10":{"line":110,"type":"if","locations":[{"start":{"line":110,"column":4},"end":{"line":110,"column":3}},{"start":{"line":110,"column":4},"end":{"line":110,"column":3}}]},"11":{"line":137,"type":"if","locations":[{"start":{"line":137,"column":6},"end":{"line":137,"column":5}},{"start":{"line":137,"column":6},"end":{"line":137,"column":5}}]},"12":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":8},"end":{"line":150,"column":7}},{"start":{"line":150,"column":8},"end":{"line":150,"column":7}}]},"13":{"line":150,"type":"binary-expr","locations":[{"start":{"line":150,"column":12},"end":{"line":150,"column":23}},{"start":{"line":150,"column":27},"end":{"line":150,"column":64}},{"start":{"line":150,"column":68},"end":{"line":150,"column":123}}]},"14":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":15},"end":{"line":152,"column":14}},{"start":{"line":152,"column":15},"end":{"line":152,"column":14}}]},"15":{"line":152,"type":"binary-expr","locations":[{"start":{"line":152,"column":19},"end":{"line":152,"column":30}},{"start":{"line":152,"column":34},"end":{"line":152,"column":77}}]},"16":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":6},"end":{"line":162,"column":5}},{"start":{"line":162,"column":6},"end":{"line":162,"column":5}}]},"17":{"line":170,"type":"cond-expr","locations":[{"start":{"line":170,"column":69},"end":{"line":170,"column":125}},{"start":{"line":170,"column":128},"end":{"line":170,"column":132}}]},"18":{"line":175,"type":"if","locations":[{"start":{"line":175,"column":4},"end":{"line":175,"column":3}},{"start":{"line":175,"column":4},"end":{"line":175,"column":3}}]},"19":{"line":198,"type":"if","locations":[{"start":{"line":198,"column":4},"end":{"line":198,"column":3}},{"start":{"line":198,"column":4},"end":{"line":198,"column":3}}]},"20":{"line":221,"type":"if","locations":[{"start":{"line":221,"column":6},"end":{"line":221,"column":5}},{"start":{"line":221,"column":6},"end":{"line":221,"column":5}}]},"21":{"line":221,"type":"binary-expr","locations":[{"start":{"line":221,"column":10},"end":{"line":221,"column":27}},{"start":{"line":221,"column":31},"end":{"line":221,"column":74}}]},"22":{"line":257,"type":"cond-expr","locations":[{"start":{"line":257,"column":37},"end":{"line":257,"column":48}},{"start":{"line":257,"column":51},"end":{"line":257,"column":52}}]},"23":{"line":259,"type":"binary-expr","locations":[{"start":{"line":259,"column":12},"end":{"line":259,"column":35}},{"start":{"line":259,"column":41},"end":{"line":259,"column":70}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":133,"34":133,"35":133,"36":133,"37":0,"38":1,"39":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":1,"51":0,"52":0,"53":0,"54":0,"55":0,"56":1,"57":0,"58":0,"59":0,"60":0,"61":1,"62":0,"63":1,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":1,"71":0,"72":0,"73":1,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":1,"81":0,"82":0,"83":0,"84":0,"85":1,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":1,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":1,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":1,"110":0,"111":0,"112":1,"113":0,"114":0,"115":0,"116":1,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":1,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":1,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":1,"142":0,"143":0,"144":0,"145":1,"146":0,"147":0,"148":0,"149":1,"150":0,"151":0,"152":1,"153":0,"154":0,"155":1,"156":0,"157":0,"158":0,"159":1,"160":0,"161":0,"162":1,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":1,"170":1,"171":1,"172":1,"173":1,"174":1,"175":1,"176":1},"b":{"1":[0,0],"2":[133,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0]},"f":{"1":1,"2":0,"3":133,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0},"code":"import {$$, Dom} from '../../utils/Dom';\nimport {InitializationEvents} from '../../events/InitializationEvents';\nimport {IResponsiveComponent, ResponsiveComponentsManager, IResponsiveComponentOptions} from './ResponsiveComponentsManager';\nimport {ResponsiveComponentsUtils} from './ResponsiveComponentsUtils';\nimport {EventsUtils} from '../../utils/EventsUtils';\nimport {SearchInterface} from '../SearchInterface/SearchInterface';\nimport {Component} from '../Base/Component';\nimport {Logger} from '../../misc/Logger';\nimport {l} from '../../strings/Strings';\nimport {PopupUtils, HorizontalAlignment, VerticalAlignment} from '../../utils/PopupUtils';\nimport {Utils} from '../../utils/Utils';\nimport {Facet} from '../Facet/Facet';\nimport {FacetSlider} from '../FacetSlider/FacetSlider';\n\nexport class ResponsiveFacets implements IResponsiveComponent {\n\n  private static ACTIVE_FACET_HEADER_Z_INDEX = '20';\n  private static FACET_DROPDOWN_MIN_WIDTH: number = 280;\n  private static FACET_DROPDOWN_WIDTH_RATIO: number = 0.35; // Used to set the width relative to the coveo root.\n  private static TRANSPARENT_BACKGROUND_OPACITY: string = '0.9';\n  private static DEBOUNCE_SCROLL_WAIT = 250;\n  private static ROOT_MIN_WIDTH: number = 800;\n  private static logger: Logger;\n\n  public ID: string;\n  public coveoRoot: Dom;\n\n  private dropdownContent: Dom;\n  private previousSibling: Dom;\n  private parent: Dom;\n  private dropdownHeader: Dom;\n  private popupBackground: Dom;\n  private popupBackgroundClickListener: EventListener;\n  private facets: Facet[] = [];\n  private facetSliders: FacetSlider[] = [];\n  private searchInterface: SearchInterface;\n  private breakpoint: number;\n\n  public static init(root: HTMLElement, component, options: IResponsiveComponentOptions) {\n    this.logger = new Logger('ResponsiveFacets');\n    if (!$$(root).find('.coveo-facet-column')) {\n      this.logger.info('No element with class coveo-facet-column. Responsive facets cannot be enabled');\n      return;\n    }\n    ResponsiveComponentsManager.register(ResponsiveFacets, $$(root), Facet.ID, component, options);\n  }\n\n  constructor(public root: Dom, ID: string, options: IResponsiveComponentOptions) {\n    this.ID = ID;\n    this.coveoRoot = root;\n    this.searchInterface = <SearchInterface>Component.get(root.el, SearchInterface, false);\n    this.buildDropdownContent();\n    this.buildDropdownHeader();\n    this.bindDropdownContentEvents();\n    this.bindDropdownHeaderEvents();\n    this.buildPopupBackground();\n    this.saveFacetsPosition();\n    this.bindNukeEvents();\n\n    if (Utils.isNullOrUndefined(options.responsiveBreakpoint)) {\n      this.breakpoint = ResponsiveFacets.ROOT_MIN_WIDTH;\n    } else {\n      this.breakpoint = options.responsiveBreakpoint;\n    }\n  }\n\n  public needSmallMode(): boolean {\n    return this.coveoRoot.width() <= this.breakpoint;\n  }\n\n  public changeToSmallMode() {\n    if (!$$(this.coveoRoot).find('.coveo-tab-section')) {\n      ResponsiveFacets.logger.info('No element with class coveo-tab-section. Responsive facets cannot be enabled');\n      return;\n    }\n    this.positionPopup();\n    this.closeDropdown();\n    this.disableFacetPreservePosition();\n    $$(this.coveoRoot.find('.coveo-tab-section')).el.appendChild(this.dropdownHeader.el);\n    this.dropdownContent.el.style.display = 'none';\n    ResponsiveComponentsUtils.activateSmallFacet(this.coveoRoot);\n  }\n\n  public changeToLargeMode() {\n    this.enableFacetPreservePosition();\n    this.cleanUpDropdown();\n    this.dropdownContent.el.removeAttribute('style');\n    this.restoreFacetsPosition();\n    ResponsiveComponentsUtils.deactivateSmallFacet(this.coveoRoot);\n  }\n\n  public registerComponent(component: Component) {\n    if (component instanceof Facet) {\n      this.facets.push(<Facet>component);\n    } else if (component instanceof FacetSlider) {\n      this.facetSliders.push(<FacetSlider>component)\n    }\n  }\n\n  public needTabSection() {\n    return this.needSmallMode();\n  }\n\n  public handleResizeEvent() {\n    if (this.needSmallMode() && !ResponsiveComponentsUtils.isSmallFacetActivated(this.coveoRoot)) {\n      this.changeToSmallMode();\n    } else if (!this.needSmallMode() && ResponsiveComponentsUtils.isSmallFacetActivated(this.coveoRoot)) {\n      this.changeToLargeMode();\n    }\n    if (this.dropdownHeader.hasClass('coveo-dropdown-header-active')) {\n      this.openDropdown();\n    }\n  }\n\n  private triggerFacetSliderDraw() {\n    _.each(this.facetSliders, facetSlider => facetSlider.drawDelayedGraphData());\n  }\n\n  private buildDropdownContent() {\n    this.dropdownContent = $$(this.coveoRoot.find('.coveo-facet-column'));\n    let filterByContainer = $$('div', { className: 'coveo-facet-header-filter-by-container', style: 'display: none' });\n    let filterBy = $$('div', { className: 'coveo-facet-header-filter-by' });\n    filterBy.text(l('Filter by:'));\n    filterByContainer.append(filterBy.el);\n    this.dropdownContent.prepend(filterByContainer.el);\n  }\n\n  private buildDropdownHeader() {\n    this.dropdownHeader = $$('a', { className: 'coveo-dropdown-header coveo-facet-dropdown-header' });\n    let content = $$('p');\n    content.text(l('Facets'));\n    this.dropdownHeader.el.appendChild(content.el);\n  }\n\n  private bindDropdownHeaderEvents() {\n    this.dropdownHeader.on('click', () => {\n      if (!this.dropdownHeader.hasClass('coveo-dropdown-header-active')) {\n        this.openDropdown();\n        this.drawFacetSliderGraphs();\n      } else {\n        this.closeDropdown();\n      }\n    });\n  }\n\n  private bindDropdownContentEvents() {\n    this.dropdownContent.on('scroll', _.debounce(() => {\n      _.each(this.facets, facet => {\n        let facetSearch = facet.facetSearch;\n        if (facetSearch && facetSearch.currentlyDisplayedResults && !this.isFacetSearchScrolledIntoView(facetSearch.search)) {\n          facet.facetSearch.positionSearchResults(this.dropdownContent.el);\n        } else if (facetSearch && facet.facetSearch.currentlyDisplayedResults) {\n          facet.facetSearch.positionSearchResults();\n        }\n      });\n    }, ResponsiveFacets.DEBOUNCE_SCROLL_WAIT));\n  }\n\n  private buildPopupBackground() {\n    this.popupBackground = $$('div', { className: 'coveo-facet-dropdown-background' });\n    EventsUtils.addPrefixedEvent(this.popupBackground.el, 'TransitionEnd', () => {\n      if (this.popupBackground.el.style.opacity == '0') {\n        this.popupBackground.detach();\n      }\n    });\n    this.popupBackground.on('click', () => this.closeDropdown());\n  }\n\n  private saveFacetsPosition() {\n    this.previousSibling = this.dropdownContent.el.previousSibling ? $$(<HTMLElement>this.dropdownContent.el.previousSibling) : null;\n    this.parent = $$(this.dropdownContent.el.parentElement);\n  }\n\n  private restoreFacetsPosition() {\n    if (this.previousSibling) {\n      this.dropdownContent.insertAfter(this.previousSibling.el);\n    } else {\n      this.parent.prepend(this.dropdownContent.el);\n    }\n  }\n\n  private openDropdown() {\n    this.positionPopup();\n    document.documentElement.appendChild(this.popupBackground.el);\n    this.root.el.appendChild(this.popupBackground.el);\n    window.getComputedStyle(this.popupBackground.el).opacity;\n    this.popupBackground.el.style.opacity = ResponsiveFacets.TRANSPARENT_BACKGROUND_OPACITY;\n    this.triggerFacetSliderDraw();\n  }\n\n  private positionPopup() {\n    this.dropdownHeader.el.style.zIndex = ResponsiveFacets.ACTIVE_FACET_HEADER_Z_INDEX;\n\n    this.dropdownContent.addClass('coveo-facet-dropdown-content');\n    this.dropdownHeader.addClass('coveo-dropdown-header-active');\n    this.dropdownContent.el.style.display = '';\n    let width = ResponsiveFacets.FACET_DROPDOWN_WIDTH_RATIO * this.coveoRoot.el.offsetWidth;\n    if (width <= ResponsiveFacets.FACET_DROPDOWN_MIN_WIDTH) {\n      width = ResponsiveFacets.FACET_DROPDOWN_MIN_WIDTH;\n    }\n    this.dropdownContent.el.style.width = width.toString() + 'px';\n\n    PopupUtils.positionPopup(this.dropdownContent.el, $$(this.coveoRoot.find('.coveo-tab-section')).el, this.coveoRoot.el,\n      { horizontal: HorizontalAlignment.INNERRIGHT, vertical: VerticalAlignment.BOTTOM }, this.coveoRoot.el);\n  }\n\n  private closeDropdown() {\n    // Because of DOM manipulation, sometimes the animation will not trigger. Accessing the computed styles makes sure\n    // the animation will happen. Adding this here because its possible that this element has recently been manipulated.\n    window.getComputedStyle(this.popupBackground.el).opacity;\n    this.popupBackground.el.style.opacity = '0';\n    this.dropdownHeader.el.style.zIndex = '';\n    this.dropdownContent.el.style.display = 'none';\n    this.dropdownContent.removeClass('coveo-facet-dropdown-content');\n    this.dropdownHeader.removeClass('coveo-dropdown-header-active');\n    this.dismissFacetSearches();\n  }\n\n  private dismissFacetSearches() {\n    _.each(this.facets, facet => {\n      if (facet.facetSearch && facet.facetSearch.currentlyDisplayedResults) {\n        facet.facetSearch.completelyDismissSearch();\n      }\n    })\n  }\n\n  private cleanUpDropdown() {\n    this.closeDropdown();\n    this.dropdownHeader.detach();\n    this.dropdownHeader.el.style.zIndex = '';\n  }\n\n  private enableFacetPreservePosition() {\n    _.each(this.facets, facet => facet.options.preservePosition = true);\n  }\n\n  private disableFacetPreservePosition() {\n    _.each(this.facets, facet => facet.options.preservePosition = false);\n  }\n\n  private bindNukeEvents() {\n    $$(this.coveoRoot).on(InitializationEvents.nuke, () => {\n      $$(document.documentElement).off('click', this.popupBackgroundClickListener);\n    });\n  }\n\n  private drawFacetSliderGraphs() {\n    _.each(this.facetSliders, facetSlider => facetSlider.drawDelayedGraphData());\n  }\n\n  private isFacetSearchScrolledIntoView(facetSearchElement: HTMLElement) {\n    let facetTop = facetSearchElement.getBoundingClientRect().top;\n    let facetBottom = facetSearchElement.getBoundingClientRect().bottom;\n    let dropdownTop = this.dropdownContent.el.getBoundingClientRect().top;\n    let dropdownBottom = this.dropdownContent.el.getBoundingClientRect().bottom;\n\n    dropdownTop = dropdownTop >= 0 ? dropdownTop : 0;\n\n    return (facetTop >= dropdownTop) && (facetBottom <= dropdownBottom);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/ResponsiveComponents/ResponsiveFacets.ts\n **/","l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"15":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"34":0,"35":0,"39":1,"40":133,"41":133,"42":133,"43":133,"45":0,"48":1,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"60":0,"61":0,"63":0,"67":1,"68":0,"71":1,"72":0,"73":0,"74":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"84":1,"85":0,"86":0,"87":0,"88":0,"89":0,"92":1,"93":0,"94":0,"95":0,"96":0,"100":1,"101":0,"104":1,"105":0,"106":0,"107":0,"108":0,"110":0,"111":0,"115":1,"116":0,"119":1,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"128":1,"129":0,"130":0,"131":0,"132":0,"135":1,"136":0,"137":0,"138":0,"139":0,"141":0,"146":1,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"159":1,"160":0,"161":0,"162":0,"163":0,"166":0,"169":1,"170":0,"171":0,"174":1,"175":0,"176":0,"178":0,"182":1,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"191":1,"192":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"201":0,"203":0,"207":1,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"219":1,"220":0,"221":0,"222":0,"227":1,"228":0,"229":0,"230":0,"233":1,"234":0,"237":1,"238":0,"241":1,"242":0,"243":0,"247":1,"248":0,"251":1,"252":0,"253":0,"254":0,"255":0,"257":0,"259":0,"261":1}},"src/ui/ResponsiveComponents/ResponsiveComponentsManager.ts":{"path":"src/ui/ResponsiveComponents/ResponsiveComponentsManager.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":40}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":71}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":44}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":31}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":37}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":67}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":70}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":40}},"9":{"start":{"line":26,"column":0},"end":{"line":225,"column":1}},"10":{"start":{"line":81,"column":2},"end":{"line":100,"column":3}},"11":{"start":{"line":31,"column":10},"end":{"line":31,"column":44}},"12":{"start":{"line":34,"column":10},"end":{"line":34,"column":60}},"13":{"start":{"line":37,"column":10},"end":{"line":37,"column":45}},"14":{"start":{"line":82,"column":4},"end":{"line":82,"column":26}},"15":{"start":{"line":83,"column":4},"end":{"line":83,"column":55}},"16":{"start":{"line":84,"column":4},"end":{"line":84,"column":33}},"17":{"start":{"line":85,"column":4},"end":{"line":85,"column":34}},"18":{"start":{"line":86,"column":4},"end":{"line":97,"column":12}},"19":{"start":{"line":87,"column":6},"end":{"line":93,"column":7}},"20":{"start":{"line":88,"column":8},"end":{"line":88,"column":57}},"21":{"start":{"line":89,"column":8},"end":{"line":89,"column":59}},"22":{"start":{"line":90,"column":13},"end":{"line":93,"column":7}},"23":{"start":{"line":91,"column":8},"end":{"line":91,"column":60}},"24":{"start":{"line":92,"column":8},"end":{"line":92,"column":41}},"25":{"start":{"line":94,"column":6},"end":{"line":96,"column":9}},"26":{"start":{"line":95,"column":8},"end":{"line":95,"column":48}},"27":{"start":{"line":98,"column":4},"end":{"line":98,"column":59}},"28":{"start":{"line":99,"column":4},"end":{"line":99,"column":26}},"29":{"start":{"line":43,"column":16},"end":{"line":68,"column":3}},"30":{"start":{"line":43,"column":2},"end":{"line":68,"column":3}},"31":{"start":{"line":44,"column":4},"end":{"line":44,"column":89}},"32":{"start":{"line":45,"column":4},"end":{"line":67,"column":5}},"33":{"start":{"line":46,"column":6},"end":{"line":46,"column":135}},"34":{"start":{"line":46,"column":93},"end":{"line":46,"column":133}},"35":{"start":{"line":47,"column":6},"end":{"line":50,"column":7}},"36":{"start":{"line":48,"column":8},"end":{"line":48,"column":76}},"37":{"start":{"line":49,"column":8},"end":{"line":49,"column":65}},"38":{"start":{"line":52,"column":6},"end":{"line":55,"column":7}},"39":{"start":{"line":53,"column":8},"end":{"line":53,"column":57}},"40":{"start":{"line":54,"column":8},"end":{"line":54,"column":15}},"41":{"start":{"line":57,"column":6},"end":{"line":65,"column":9}},"42":{"start":{"line":58,"column":8},"end":{"line":58,"column":144}},"43":{"start":{"line":58,"column":102},"end":{"line":58,"column":142}},"44":{"start":{"line":59,"column":8},"end":{"line":59,"column":114}},"45":{"start":{"line":61,"column":8},"end":{"line":61,"column":49}},"46":{"start":{"line":62,"column":8},"end":{"line":64,"column":9}},"47":{"start":{"line":63,"column":10},"end":{"line":63,"column":44}},"48":{"start":{"line":66,"column":6},"end":{"line":66,"column":47}},"49":{"start":{"line":70,"column":17},"end":{"line":73,"column":3}},"50":{"start":{"line":71,"column":4},"end":{"line":71,"column":89}},"51":{"start":{"line":72,"column":4},"end":{"line":72,"column":144}},"52":{"start":{"line":75,"column":17},"end":{"line":79,"column":3}},"53":{"start":{"line":76,"column":4},"end":{"line":78,"column":7}},"54":{"start":{"line":77,"column":6},"end":{"line":77,"column":40}},"55":{"start":{"line":102,"column":9},"end":{"line":124,"column":3}},"56":{"start":{"line":103,"column":4},"end":{"line":105,"column":5}},"57":{"start":{"line":104,"column":6},"end":{"line":104,"column":13}},"58":{"start":{"line":107,"column":4},"end":{"line":119,"column":5}},"59":{"start":{"line":108,"column":6},"end":{"line":108,"column":86}},"60":{"start":{"line":109,"column":6},"end":{"line":111,"column":7}},"61":{"start":{"line":110,"column":8},"end":{"line":110,"column":70}},"62":{"start":{"line":113,"column":6},"end":{"line":118,"column":7}},"63":{"start":{"line":114,"column":8},"end":{"line":114,"column":60}},"64":{"start":{"line":117,"column":8},"end":{"line":117,"column":63}},"65":{"start":{"line":121,"column":4},"end":{"line":123,"column":5}},"66":{"start":{"line":122,"column":6},"end":{"line":122,"column":57}},"67":{"start":{"line":126,"column":9},"end":{"line":128,"column":3}},"68":{"start":{"line":127,"column":4},"end":{"line":127,"column":37}},"69":{"start":{"line":130,"column":10},"end":{"line":132,"column":3}},"70":{"start":{"line":131,"column":4},"end":{"line":131,"column":56}},"71":{"start":{"line":134,"column":10},"end":{"line":146,"column":3}},"72":{"start":{"line":135,"column":4},"end":{"line":135,"column":70}},"73":{"start":{"line":136,"column":4},"end":{"line":138,"column":5}},"74":{"start":{"line":137,"column":6},"end":{"line":137,"column":19}},"75":{"start":{"line":140,"column":4},"end":{"line":143,"column":5}},"76":{"start":{"line":141,"column":6},"end":{"line":141,"column":39}},"77":{"start":{"line":142,"column":6},"end":{"line":142,"column":19}},"78":{"start":{"line":145,"column":4},"end":{"line":145,"column":16}},"79":{"start":{"line":147,"column":10},"end":{"line":156,"column":3}},"80":{"start":{"line":150,"column":4},"end":{"line":154,"column":5}},"81":{"start":{"line":151,"column":6},"end":{"line":151,"column":86}},"82":{"start":{"line":152,"column":6},"end":{"line":152,"column":102}},"83":{"start":{"line":153,"column":6},"end":{"line":153,"column":60}},"84":{"start":{"line":155,"column":4},"end":{"line":155,"column":17}},"85":{"start":{"line":158,"column":10},"end":{"line":160,"column":3}},"86":{"start":{"line":159,"column":4},"end":{"line":159,"column":126}},"87":{"start":{"line":162,"column":10},"end":{"line":170,"column":3}},"88":{"start":{"line":163,"column":4},"end":{"line":168,"column":5}},"89":{"start":{"line":164,"column":6},"end":{"line":164,"column":61}},"90":{"start":{"line":165,"column":6},"end":{"line":167,"column":7}},"91":{"start":{"line":166,"column":8},"end":{"line":166,"column":20}},"92":{"start":{"line":169,"column":4},"end":{"line":169,"column":17}},"93":{"start":{"line":172,"column":10},"end":{"line":180,"column":3}},"94":{"start":{"line":173,"column":4},"end":{"line":173,"column":63}},"95":{"start":{"line":174,"column":4},"end":{"line":179,"column":5}},"96":{"start":{"line":175,"column":6},"end":{"line":175,"column":39}},"97":{"start":{"line":177,"column":6},"end":{"line":177,"column":70}},"98":{"start":{"line":178,"column":6},"end":{"line":178,"column":36}},"99":{"start":{"line":182,"column":10},"end":{"line":190,"column":3}},"100":{"start":{"line":183,"column":4},"end":{"line":189,"column":5}},"101":{"start":{"line":184,"column":6},"end":{"line":184,"column":69}},"102":{"start":{"line":185,"column":11},"end":{"line":189,"column":5}},"103":{"start":{"line":186,"column":6},"end":{"line":186,"column":56}},"104":{"start":{"line":187,"column":11},"end":{"line":189,"column":5}},"105":{"start":{"line":188,"column":6},"end":{"line":188,"column":50}},"106":{"start":{"line":192,"column":10},"end":{"line":197,"column":3}},"107":{"start":{"line":193,"column":4},"end":{"line":196,"column":5}},"108":{"start":{"line":194,"column":6},"end":{"line":194,"column":135}},"109":{"start":{"line":195,"column":6},"end":{"line":195,"column":109}},"110":{"start":{"line":199,"column":10},"end":{"line":201,"column":3}},"111":{"start":{"line":200,"column":4},"end":{"line":200,"column":26}},"112":{"start":{"line":203,"column":10},"end":{"line":205,"column":3}},"113":{"start":{"line":204,"column":4},"end":{"line":204,"column":24}},"114":{"start":{"line":207,"column":10},"end":{"line":209,"column":3}},"115":{"start":{"line":208,"column":4},"end":{"line":208,"column":86}},"116":{"start":{"line":208,"column":56},"end":{"line":208,"column":72}},"117":{"start":{"line":211,"column":10},"end":{"line":218,"column":3}},"118":{"start":{"line":212,"column":4},"end":{"line":212,"column":72}},"119":{"start":{"line":213,"column":4},"end":{"line":217,"column":5}},"120":{"start":{"line":214,"column":6},"end":{"line":214,"column":43}},"121":{"start":{"line":216,"column":6},"end":{"line":216,"column":65}},"122":{"start":{"line":220,"column":10},"end":{"line":224,"column":3}},"123":{"start":{"line":220,"column":2},"end":{"line":224,"column":3}},"124":{"start":{"line":221,"column":4},"end":{"line":223,"column":7}},"125":{"start":{"line":222,"column":6},"end":{"line":222,"column":64}},"126":{"start":{"line":28,"column":17},"end":{"line":28,"column":71}},"127":{"start":{"line":29,"column":17},"end":{"line":29,"column":63}},"128":{"start":{"line":225,"column":0},"end":{"line":225,"column":1}},"129":{"start":{"line":26,"column":13},"end":{"line":225,"column":1}}},"fnMap":{"1":{"name":"(anonymous_3334)","line":26,"loc":{"start":{"line":26,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"ResponsiveComponentsManager","line":81,"loc":{"start":{"line":81,"column":2},"end":{"line":81,"column":23}}},"3":{"name":"(anonymous_3336)","line":86,"loc":{"start":{"line":86,"column":37},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_3337)","line":94,"loc":{"start":{"line":94,"column":40},"end":{"line":94,"column":59}}},"5":{"name":"(anonymous_3338)","line":43,"loc":{"start":{"line":43,"column":2},"end":{"line":43,"column":171}}},"6":{"name":"(anonymous_3339)","line":46,"loc":{"start":{"line":46,"column":71},"end":{"line":46,"column":88}}},"7":{"name":"(anonymous_3340)","line":57,"loc":{"start":{"line":57,"column":56},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_3341)","line":58,"loc":{"start":{"line":58,"column":80},"end":{"line":58,"column":97}}},"9":{"name":"(anonymous_3342)","line":70,"loc":{"start":{"line":70,"column":2},"end":{"line":70,"column":53}}},"10":{"name":"(anonymous_3343)","line":75,"loc":{"start":{"line":75,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_3344)","line":76,"loc":{"start":{"line":76,"column":35},"end":{"line":76,"column":51}}},"12":{"name":"(anonymous_3345)","line":102,"loc":{"start":{"line":102,"column":2},"end":{"line":102,"column":164}}},"13":{"name":"(anonymous_3346)","line":126,"loc":{"start":{"line":126,"column":2},"end":{"line":126,"column":36}}},"14":{"name":"(anonymous_3347)","line":130,"loc":{"start":{"line":130,"column":2},"end":{"line":130,"column":31}}},"15":{"name":"(anonymous_3348)","line":134,"loc":{"start":{"line":134,"column":2},"end":{"line":134,"column":82}}},"16":{"name":"(anonymous_3349)","line":147,"loc":{"start":{"line":147,"column":2},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_3350)","line":158,"loc":{"start":{"line":158,"column":2},"end":{"line":null,"column":-1}}},"18":{"name":"(anonymous_3351)","line":162,"loc":{"start":{"line":162,"column":2},"end":{"line":null,"column":-1}}},"19":{"name":"(anonymous_3352)","line":172,"loc":{"start":{"line":172,"column":2},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_3353)","line":182,"loc":{"start":{"line":182,"column":2},"end":{"line":null,"column":-1}}},"21":{"name":"(anonymous_3354)","line":192,"loc":{"start":{"line":192,"column":2},"end":{"line":null,"column":-1}}},"22":{"name":"(anonymous_3355)","line":199,"loc":{"start":{"line":199,"column":2},"end":{"line":199,"column":28}}},"23":{"name":"(anonymous_3356)","line":203,"loc":{"start":{"line":203,"column":2},"end":{"line":203,"column":27}}},"24":{"name":"(anonymous_3357)","line":207,"loc":{"start":{"line":207,"column":2},"end":{"line":207,"column":32}}},"25":{"name":"(anonymous_3358)","line":208,"loc":{"start":{"line":208,"column":45},"end":{"line":208,"column":52}}},"26":{"name":"(anonymous_3359)","line":211,"loc":{"start":{"line":211,"column":2},"end":{"line":null,"column":-1}}},"27":{"name":"(anonymous_3360)","line":220,"loc":{"start":{"line":220,"column":2},"end":{"line":null,"column":-1}}},"28":{"name":"(anonymous_3361)","line":221,"loc":{"start":{"line":221,"column":53},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":6},"end":{"line":87,"column":5}},{"start":{"line":87,"column":6},"end":{"line":87,"column":5}}]},"2":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":13},"end":{"line":90,"column":12}},{"start":{"line":90,"column":13},"end":{"line":90,"column":12}}]},"3":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":4},"end":{"line":45,"column":3}},{"start":{"line":45,"column":4},"end":{"line":45,"column":3}}]},"4":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":6},"end":{"line":47,"column":5}},{"start":{"line":47,"column":6},"end":{"line":47,"column":5}}]},"5":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":6},"end":{"line":52,"column":5}},{"start":{"line":52,"column":6},"end":{"line":52,"column":5}}]},"6":{"line":52,"type":"binary-expr","locations":[{"start":{"line":52,"column":10},"end":{"line":52,"column":64}},{"start":{"line":52,"column":68},"end":{"line":52,"column":97}}]},"7":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":8},"end":{"line":62,"column":7}},{"start":{"line":62,"column":8},"end":{"line":62,"column":7}}]},"8":{"line":72,"type":"binary-expr","locations":[{"start":{"line":72,"column":11},"end":{"line":72,"column":53}},{"start":{"line":72,"column":57},"end":{"line":72,"column":110}},{"start":{"line":72,"column":114},"end":{"line":72,"column":143}}]},"9":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":4},"end":{"line":103,"column":3}},{"start":{"line":103,"column":4},"end":{"line":103,"column":3}}]},"10":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":4},"end":{"line":107,"column":3}},{"start":{"line":107,"column":4},"end":{"line":107,"column":3}}]},"11":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":6},"end":{"line":109,"column":5}},{"start":{"line":109,"column":6},"end":{"line":109,"column":5}}]},"12":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":6},"end":{"line":113,"column":5}},{"start":{"line":113,"column":6},"end":{"line":113,"column":5}}]},"13":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":4},"end":{"line":121,"column":3}},{"start":{"line":121,"column":4},"end":{"line":121,"column":3}}]},"14":{"line":136,"type":"if","locations":[{"start":{"line":136,"column":4},"end":{"line":136,"column":3}},{"start":{"line":136,"column":4},"end":{"line":136,"column":3}}]},"15":{"line":140,"type":"if","locations":[{"start":{"line":140,"column":4},"end":{"line":140,"column":3}},{"start":{"line":140,"column":4},"end":{"line":140,"column":3}}]},"16":{"line":140,"type":"binary-expr","locations":[{"start":{"line":140,"column":8},"end":{"line":140,"column":62}},{"start":{"line":140,"column":66},"end":{"line":140,"column":95}}]},"17":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":4},"end":{"line":150,"column":3}},{"start":{"line":150,"column":4},"end":{"line":150,"column":3}}]},"18":{"line":150,"type":"binary-expr","locations":[{"start":{"line":150,"column":8},"end":{"line":150,"column":29}},{"start":{"line":150,"column":33},"end":{"line":150,"column":48}}]},"19":{"line":151,"type":"binary-expr","locations":[{"start":{"line":151,"column":38},"end":{"line":151,"column":59}},{"start":{"line":151,"column":63},"end":{"line":151,"column":85}}]},"20":{"line":153,"type":"binary-expr","locations":[{"start":{"line":153,"column":13},"end":{"line":153,"column":38}},{"start":{"line":153,"column":42},"end":{"line":153,"column":59}}]},"21":{"line":159,"type":"binary-expr","locations":[{"start":{"line":159,"column":11},"end":{"line":159,"column":32}},{"start":{"line":159,"column":36},"end":{"line":159,"column":51}},{"start":{"line":159,"column":55},"end":{"line":159,"column":125}}]},"22":{"line":165,"type":"if","locations":[{"start":{"line":165,"column":6},"end":{"line":165,"column":5}},{"start":{"line":165,"column":6},"end":{"line":165,"column":5}}]},"23":{"line":165,"type":"binary-expr","locations":[{"start":{"line":165,"column":10},"end":{"line":165,"column":44}},{"start":{"line":165,"column":48},"end":{"line":165,"column":84}}]},"24":{"line":174,"type":"if","locations":[{"start":{"line":174,"column":4},"end":{"line":174,"column":3}},{"start":{"line":174,"column":4},"end":{"line":174,"column":3}}]},"25":{"line":183,"type":"if","locations":[{"start":{"line":183,"column":4},"end":{"line":183,"column":3}},{"start":{"line":183,"column":4},"end":{"line":183,"column":3}}]},"26":{"line":185,"type":"if","locations":[{"start":{"line":185,"column":11},"end":{"line":185,"column":10}},{"start":{"line":185,"column":11},"end":{"line":185,"column":10}}]},"27":{"line":187,"type":"if","locations":[{"start":{"line":187,"column":11},"end":{"line":187,"column":10}},{"start":{"line":187,"column":11},"end":{"line":187,"column":10}}]},"28":{"line":188,"type":"binary-expr","locations":[{"start":{"line":188,"column":6},"end":{"line":188,"column":21}},{"start":{"line":188,"column":25},"end":{"line":188,"column":49}}]},"29":{"line":193,"type":"if","locations":[{"start":{"line":193,"column":4},"end":{"line":193,"column":3}},{"start":{"line":193,"column":4},"end":{"line":193,"column":3}}]},"30":{"line":194,"type":"cond-expr","locations":[{"start":{"line":194,"column":76},"end":{"line":194,"column":127}},{"start":{"line":194,"column":130},"end":{"line":194,"column":134}}]},"31":{"line":195,"type":"cond-expr","locations":[{"start":{"line":195,"column":65},"end":{"line":195,"column":101}},{"start":{"line":195,"column":104},"end":{"line":195,"column":108}}]},"32":{"line":213,"type":"if","locations":[{"start":{"line":213,"column":4},"end":{"line":213,"column":3}},{"start":{"line":213,"column":4},"end":{"line":213,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":1,"50":0,"51":0,"52":1,"53":0,"54":0,"55":1,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":1,"68":0,"69":1,"70":0,"71":1,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":1,"80":0,"81":0,"82":0,"83":0,"84":0,"85":1,"86":0,"87":1,"88":0,"89":0,"90":0,"91":0,"92":0,"93":1,"94":0,"95":0,"96":0,"97":0,"98":0,"99":1,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":1,"107":0,"108":0,"109":0,"110":1,"111":0,"112":1,"113":0,"114":1,"115":0,"116":0,"117":1,"118":0,"119":0,"120":0,"121":0,"122":1,"123":0,"124":0,"125":0,"126":1,"127":1,"128":1,"129":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0},"code":"import {$$, Dom} from '../../utils/Dom';\nimport {InitializationEvents} from '../../events/InitializationEvents';\nimport {Component} from '../Base/Component';\nimport {Tab} from '../Tab/Tab';\nimport {Facet} from '../Facet/Facet';\nimport {ResponsiveFacets} from './ResponsiveFacets';\nimport {SearchInterface} from '../SearchInterface/SearchInterface';\nimport {ResponsiveComponentsUtils} from './ResponsiveComponentsUtils';\nimport {Utils} from '../../utils/Utils';\n\nexport interface IResponsiveComponentOptions {\n  enableResponsiveMode?: boolean;\n  responsiveBreakpoint?: number;\n}\n\nexport interface IResponsiveComponentConstructor {\n  new (root: Dom, ID: string, options: IResponsiveComponentOptions): IResponsiveComponent;\n}\n\nexport interface IResponsiveComponent {\n  ID: string;\n  handleResizeEvent(): void;\n  needTabSection?(): boolean;\n}\n\nexport class ResponsiveComponentsManager {\n\n  private static componentManagers: ResponsiveComponentsManager[] = [];\n  private static remainingComponentInitializations: number = 0;\n\n  private disabledComponents: string[] = [];\n  private coveoRoot: Dom;\n  private resizeListener;\n  private responsiveComponents: IResponsiveComponent[] = [];\n  private tabSection: Dom;\n  private searchBoxElement: HTMLElement;\n  private createdTabSection: boolean = false;\n  private responsiveFacets: ResponsiveFacets;\n  private tabSectionPreviousSibling: Dom;\n  private tabSectionParent: Dom;\n\n  // Register takes a class and will instantiate it after framework initialization has completed.\n  public static register(responsiveComponentConstructor: IResponsiveComponentConstructor, root: Dom, ID: string, component: Component, options: IResponsiveComponentOptions): void {\n    let searchInterface = <SearchInterface>Component.get(root.el, SearchInterface, true);\n    if (this.shouldEnableResponsiveMode(root)) {\n      let responsiveComponentsManager = _.find(this.componentManagers, (componentManager) => root.el == componentManager.coveoRoot.el);\n      if (!responsiveComponentsManager) {\n        responsiveComponentsManager = new ResponsiveComponentsManager(root);\n        this.componentManagers.push(responsiveComponentsManager);\n      }\n\n      if (!Utils.isNullOrUndefined(options.enableResponsiveMode) && !options.enableResponsiveMode) {\n        responsiveComponentsManager.disableComponent(ID);\n        return;\n      }\n\n      root.on(InitializationEvents.afterInitialization, () => {\n        let currentResponsiveComponentsManager = _.find(this.componentManagers, (componentManager) => root.el == componentManager.coveoRoot.el);\n        currentResponsiveComponentsManager.register(responsiveComponentConstructor, root, ID, component, options);\n\n        this.remainingComponentInitializations--;\n        if (this.remainingComponentInitializations == 0) {\n          this.resizeAllComponentsManager();\n        }\n      });\n      this.remainingComponentInitializations++;\n    }\n  }\n\n  private static shouldEnableResponsiveMode(root: Dom): boolean {\n    let searchInterface = <SearchInterface>Component.get(root.el, SearchInterface, true);\n    return searchInterface instanceof SearchInterface && searchInterface.options.enableAutomaticResponsiveMode && searchInterface.isNewDesign();\n  }\n\n  private static resizeAllComponentsManager(): void {\n    _.each(this.componentManagers, componentManager => {\n      componentManager.resizeListener();\n    });\n  }\n\n  constructor(root: Dom) {\n    this.coveoRoot = root;\n    this.searchBoxElement = this.getSearchBoxElement();\n    this.ensureTabSectionInDom();\n    this.saveTabSectionPosition();\n    this.resizeListener = _.debounce(() => {\n      if (this.shouldSwitchToSmallMode()) {\n        this.coveoRoot.addClass('coveo-small-interface');\n        this.tabSection.insertAfter(this.searchBoxElement);\n      } else if (this.shouldExitSmallMode()) {\n        this.coveoRoot.removeClass('coveo-small-interface');\n        this.restoreTabSectionPosition();\n      }\n      _.each(this.responsiveComponents, responsiveComponent => {\n        responsiveComponent.handleResizeEvent();\n      });\n    }, 200);\n    window.addEventListener('resize', this.resizeListener);\n    this.bindNukeEvents();\n  }\n\n  public register(responsiveComponentConstructor: IResponsiveComponentConstructor, root: Dom, ID: string, component: Component, options: IResponsiveComponentOptions): void {\n    if (this.isDisabled(ID)) {\n      return;\n    }\n\n    if (!this.isActivated(ID)) {\n      let responsiveComponent = new responsiveComponentConstructor(root, ID, options);\n      if (this.isFacet(ID)) {\n        this.responsiveFacets = <ResponsiveFacets>responsiveComponent;\n      }\n\n      if (this.isTabs(ID)) {\n        this.responsiveComponents.push(responsiveComponent);\n      } else {\n        // Tabs need to be rendered last, so any dropdown header(eg: facet) is already there when the responsive tabs check for overflow.\n        this.responsiveComponents.unshift(responsiveComponent);\n      }\n    }\n\n    if (this.isFacet(ID)) {\n      this.responsiveFacets.registerComponent(component);\n    }\n  }\n\n  public disableComponent(ID: string) {\n    this.disabledComponents.push(ID);\n  }\n\n  private isDisabled(ID: string) {\n    return _.indexOf(this.disabledComponents, ID) != -1;\n  }\n\n  private shouldRegisterComponent(ID: string, options: IResponsiveComponentOptions): boolean {\n    let componentIsDisabled = _.contains(this.disabledComponents, ID);\n    if (componentIsDisabled) {\n      return false;\n    }\n\n    if (!Utils.isNullOrUndefined(options.enableResponsiveMode) && !options.enableResponsiveMode) {\n      this.disabledComponents.push(ID);\n      return false;\n    }\n\n    return true;\n  }\n  private shouldSwitchToSmallMode(): boolean {\n    // If we had to create the tab section or if we reached the pixel breakpoint, we move the tab section below the search box\n    // to switch to small mode.\n    if (this.searchBoxElement && this.tabSection) {\n      let aComponentNeedsTabSection = this.needTabSection() && this.createdTabSection;\n      let reachedBreakpoint = this.coveoRoot.width() <= ResponsiveComponentsUtils.MEDIUM_MOBILE_WIDTH;\n      return aComponentNeedsTabSection || reachedBreakpoint;\n    }\n    return false;\n  }\n\n  private shouldExitSmallMode(): boolean {\n    return this.searchBoxElement && this.tabSection && this.coveoRoot.width() > ResponsiveComponentsUtils.MEDIUM_MOBILE_WIDTH;\n  }\n\n  private needTabSection(): boolean {\n    for (let i = 0; i < this.responsiveComponents.length; i++) {\n      let responsiveComponent = this.responsiveComponents[i];\n      if (responsiveComponent.needTabSection && responsiveComponent.needTabSection()) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  private ensureTabSectionInDom(): void {\n    let tabSection = this.coveoRoot.find('.coveo-tab-section');\n    if (tabSection) {\n      this.tabSection = $$(tabSection);\n    } else {\n      this.tabSection = $$('div', { className: 'coveo-tab-section' });\n      this.createdTabSection = true;\n    }\n  }\n\n  private restoreTabSectionPosition(): void {\n    if (this.tabSectionPreviousSibling) {\n      this.tabSection.insertAfter(this.tabSectionPreviousSibling.el);\n    } else if (this.tabSectionParent) {\n      this.tabSectionParent.prepend(this.tabSection.el);\n    } else if (!this.needTabSection()) {\n      this.tabSection && this.tabSection.detach();\n    }\n  }\n\n  private saveTabSectionPosition(): void {\n    if (this.tabSection) {\n      this.tabSectionPreviousSibling = this.tabSection.el.previousSibling ? $$(<HTMLElement>this.tabSection.el.previousSibling) : null;\n      this.tabSectionParent = this.tabSection.el.parentElement ? $$(this.tabSection.el.parentElement) : null;\n    }\n  }\n\n  private isFacet(ID: string): boolean {\n    return ID == Facet.ID;\n  }\n\n  private isTabs(ID: string): boolean {\n    return ID == Tab.ID;\n  }\n\n  private isActivated(ID: string): boolean {\n    return _.find(this.responsiveComponents, current => current.ID == ID) != undefined\n  }\n\n  private getSearchBoxElement(): HTMLElement {\n    let searchBoxElement = this.coveoRoot.find('.coveo-search-section');\n    if (searchBoxElement) {\n      return <HTMLElement>searchBoxElement;\n    } else {\n      return <HTMLElement>this.coveoRoot.find('.CoveoSearchbox');\n    }\n  }\n\n  private bindNukeEvents(): void {\n    $$(this.coveoRoot).on(InitializationEvents.nuke, () => {\n      window.removeEventListener('resize', this.resizeListener);\n    });\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/ResponsiveComponents/ResponsiveComponentsManager.ts\n **/","l":{"1":1,"2":1,"3":1,"4":1,"5":1,"7":1,"8":1,"9":1,"26":1,"28":1,"29":1,"31":0,"34":0,"37":0,"43":1,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"52":0,"53":0,"54":0,"57":0,"58":0,"59":0,"61":0,"62":0,"63":0,"66":0,"70":1,"71":0,"72":0,"75":1,"76":0,"77":0,"81":1,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"94":0,"95":0,"98":0,"99":0,"102":1,"103":0,"104":0,"107":0,"108":0,"109":0,"110":0,"113":0,"114":0,"117":0,"121":0,"122":0,"126":1,"127":0,"130":1,"131":0,"134":1,"135":0,"136":0,"137":0,"140":0,"141":0,"142":0,"145":0,"147":1,"150":0,"151":0,"152":0,"153":0,"155":0,"158":1,"159":0,"162":1,"163":0,"164":0,"165":0,"166":0,"169":0,"172":1,"173":0,"174":0,"175":0,"177":0,"178":0,"182":1,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"192":1,"193":0,"194":0,"195":0,"199":1,"200":0,"203":1,"204":0,"207":1,"208":0,"211":1,"212":0,"213":0,"214":0,"216":0,"220":1,"221":0,"222":0,"225":1}},"src/ui/Tab/Tab.ts":{"path":"src/ui/Tab/Tab.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":73}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":44}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":58}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":75}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":78}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":85}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":105}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":57}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":54}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":40}},"11":{"start":{"line":12,"column":0},"end":{"line":12,"column":41}},"12":{"start":{"line":13,"column":0},"end":{"line":13,"column":35}},"13":{"start":{"line":60,"column":0},"end":{"line":309,"column":1}},"14":{"start":{"line":60,"column":25},"end":{"line":60,"column":34}},"15":{"start":{"line":144,"column":2},"end":{"line":154,"column":3}},"16":{"start":{"line":145,"column":4},"end":{"line":145,"column":37}},"17":{"start":{"line":144,"column":21},"end":{"line":144,"column":41}},"18":{"start":{"line":144,"column":50},"end":{"line":144,"column":71}},"19":{"start":{"line":136,"column":10},"end":{"line":136,"column":30}},"20":{"start":{"line":147,"column":4},"end":{"line":147,"column":80}},"21":{"start":{"line":149,"column":4},"end":{"line":149,"column":122}},"22":{"start":{"line":149,"column":90},"end":{"line":149,"column":120}},"23":{"start":{"line":150,"column":4},"end":{"line":150,"column":151}},"24":{"start":{"line":150,"column":115},"end":{"line":150,"column":149}},"25":{"start":{"line":151,"column":4},"end":{"line":151,"column":69}},"26":{"start":{"line":151,"column":49},"end":{"line":151,"column":67}},"27":{"start":{"line":152,"column":4},"end":{"line":152,"column":18}},"28":{"start":{"line":153,"column":4},"end":{"line":153,"column":55}},"29":{"start":{"line":160,"column":9},"end":{"line":169,"column":3}},"30":{"start":{"line":161,"column":4},"end":{"line":168,"column":5}},"31":{"start":{"line":162,"column":6},"end":{"line":165,"column":9}},"32":{"start":{"line":166,"column":6},"end":{"line":166,"column":150}},"33":{"start":{"line":167,"column":6},"end":{"line":167,"column":42}},"34":{"start":{"line":176,"column":9},"end":{"line":186,"column":3}},"35":{"start":{"line":177,"column":4},"end":{"line":177,"column":27}},"36":{"start":{"line":179,"column":4},"end":{"line":179,"column":78}},"37":{"start":{"line":180,"column":4},"end":{"line":180,"column":82}},"38":{"start":{"line":181,"column":4},"end":{"line":181,"column":144}},"39":{"start":{"line":183,"column":4},"end":{"line":185,"column":61}},"40":{"start":{"line":188,"column":10},"end":{"line":190,"column":3}},"41":{"start":{"line":189,"column":4},"end":{"line":189,"column":18}},"42":{"start":{"line":192,"column":10},"end":{"line":206,"column":3}},"43":{"start":{"line":193,"column":4},"end":{"line":193,"column":33}},"44":{"start":{"line":194,"column":4},"end":{"line":198,"column":5}},"45":{"start":{"line":195,"column":6},"end":{"line":195,"column":51}},"46":{"start":{"line":196,"column":6},"end":{"line":196,"column":49}},"47":{"start":{"line":197,"column":6},"end":{"line":197,"column":66}},"48":{"start":{"line":200,"column":4},"end":{"line":200,"column":39}},"49":{"start":{"line":201,"column":4},"end":{"line":205,"column":5}},"50":{"start":{"line":202,"column":6},"end":{"line":202,"column":49}},"51":{"start":{"line":203,"column":6},"end":{"line":203,"column":33}},"52":{"start":{"line":204,"column":6},"end":{"line":204,"column":41}},"53":{"start":{"line":208,"column":12},"end":{"line":234,"column":3}},"54":{"start":{"line":209,"column":4},"end":{"line":209,"column":24}},"55":{"start":{"line":210,"column":4},"end":{"line":210,"column":30}},"56":{"start":{"line":211,"column":4},"end":{"line":233,"column":5}},"57":{"start":{"line":212,"column":6},"end":{"line":212,"column":46}},"58":{"start":{"line":214,"column":6},"end":{"line":220,"column":7}},"59":{"start":{"line":215,"column":8},"end":{"line":219,"column":9}},"60":{"start":{"line":216,"column":10},"end":{"line":216,"column":76}},"61":{"start":{"line":218,"column":10},"end":{"line":218,"column":76}},"62":{"start":{"line":222,"column":6},"end":{"line":224,"column":7}},"63":{"start":{"line":223,"column":8},"end":{"line":223,"column":58}},"64":{"start":{"line":226,"column":6},"end":{"line":228,"column":7}},"65":{"start":{"line":227,"column":8},"end":{"line":227,"column":59}},"66":{"start":{"line":230,"column":6},"end":{"line":232,"column":7}},"67":{"start":{"line":231,"column":8},"end":{"line":231,"column":63}},"68":{"start":{"line":236,"column":10},"end":{"line":245,"column":3}},"69":{"start":{"line":237,"column":4},"end":{"line":237,"column":24}},"70":{"start":{"line":238,"column":4},"end":{"line":244,"column":5}},"71":{"start":{"line":239,"column":6},"end":{"line":239,"column":49}},"72":{"start":{"line":240,"column":6},"end":{"line":240,"column":62}},"73":{"start":{"line":241,"column":6},"end":{"line":241,"column":44}},"74":{"start":{"line":243,"column":6},"end":{"line":243,"column":53}},"75":{"start":{"line":247,"column":12},"end":{"line":250,"column":3}},"76":{"start":{"line":248,"column":4},"end":{"line":248,"column":79}},"77":{"start":{"line":249,"column":4},"end":{"line":249,"column":40}},"78":{"start":{"line":252,"column":10},"end":{"line":270,"column":3}},"79":{"start":{"line":252,"column":2},"end":{"line":270,"column":3}},"80":{"start":{"line":253,"column":4},"end":{"line":253,"column":26}},"81":{"start":{"line":254,"column":4},"end":{"line":254,"column":26}},"82":{"start":{"line":256,"column":4},"end":{"line":264,"column":7}},"83":{"start":{"line":257,"column":6},"end":{"line":263,"column":7}},"84":{"start":{"line":258,"column":8},"end":{"line":258,"column":53}},"85":{"start":{"line":259,"column":8},"end":{"line":259,"column":35}},"86":{"start":{"line":261,"column":8},"end":{"line":261,"column":54}},"87":{"start":{"line":262,"column":8},"end":{"line":262,"column":35}},"88":{"start":{"line":266,"column":4},"end":{"line":269,"column":6}},"89":{"start":{"line":267,"column":6},"end":{"line":267,"column":81}},"90":{"start":{"line":267,"column":37},"end":{"line":267,"column":79}},"91":{"start":{"line":268,"column":6},"end":{"line":268,"column":78}},"92":{"start":{"line":268,"column":37},"end":{"line":268,"column":76}},"93":{"start":{"line":272,"column":10},"end":{"line":278,"column":3}},"94":{"start":{"line":273,"column":4},"end":{"line":277,"column":5}},"95":{"start":{"line":274,"column":6},"end":{"line":274,"column":63}},"96":{"start":{"line":274,"column":46},"end":{"line":274,"column":61}},"97":{"start":{"line":276,"column":6},"end":{"line":276,"column":16}},"98":{"start":{"line":280,"column":10},"end":{"line":298,"column":3}},"99":{"start":{"line":281,"column":4},"end":{"line":281,"column":27}},"100":{"start":{"line":283,"column":4},"end":{"line":292,"column":5}},"101":{"start":{"line":284,"column":6},"end":{"line":284,"column":74}},"102":{"start":{"line":285,"column":6},"end":{"line":291,"column":7}},"103":{"start":{"line":286,"column":8},"end":{"line":290,"column":9}},"104":{"start":{"line":287,"column":10},"end":{"line":287,"column":31}},"105":{"start":{"line":289,"column":10},"end":{"line":289,"column":32}},"106":{"start":{"line":294,"column":4},"end":{"line":294,"column":37}},"107":{"start":{"line":295,"column":4},"end":{"line":297,"column":6}},"108":{"start":{"line":296,"column":6},"end":{"line":296,"column":34}},"109":{"start":{"line":300,"column":9},"end":{"line":303,"column":3}},"110":{"start":{"line":301,"column":4},"end":{"line":301,"column":19}},"111":{"start":{"line":302,"column":4},"end":{"line":302,"column":36}},"112":{"start":{"line":305,"column":9},"end":{"line":308,"column":3}},"113":{"start":{"line":306,"column":4},"end":{"line":306,"column":20}},"114":{"start":{"line":307,"column":4},"end":{"line":307,"column":40}},"115":{"start":{"line":61,"column":9},"end":{"line":61,"column":20}},"116":{"start":{"line":67,"column":9},"end":{"line":134,"column":4}},"117":{"start":{"line":93,"column":63},"end":{"line":93,"column":123}},"118":{"start":{"line":309,"column":0},"end":{"line":309,"column":1}},"119":{"start":{"line":60,"column":13},"end":{"line":309,"column":1}},"120":{"start":{"line":311,"column":0},"end":{"line":311,"column":48}}},"fnMap":{"1":{"name":"(anonymous_3366)","line":60,"loc":{"start":{"line":60,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Tab","line":144,"loc":{"start":{"line":144,"column":2},"end":{"line":144,"column":102}}},"3":{"name":"(anonymous_3368)","line":149,"loc":{"start":{"line":149,"column":55},"end":{"line":149,"column":85}}},"4":{"name":"(anonymous_3369)","line":150,"loc":{"start":{"line":150,"column":78},"end":{"line":150,"column":110}}},"5":{"name":"(anonymous_3370)","line":151,"loc":{"start":{"line":151,"column":35},"end":{"line":151,"column":44}}},"6":{"name":"(anonymous_3371)","line":160,"loc":{"start":{"line":160,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_3372)","line":176,"loc":{"start":{"line":176,"column":2},"end":{"line":176,"column":52}}},"8":{"name":"(anonymous_3373)","line":188,"loc":{"start":{"line":188,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_3374)","line":192,"loc":{"start":{"line":192,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_3375)","line":208,"loc":{"start":{"line":208,"column":2},"end":{"line":208,"column":61}}},"11":{"name":"(anonymous_3376)","line":236,"loc":{"start":{"line":236,"column":2},"end":{"line":236,"column":65}}},"12":{"name":"(anonymous_3377)","line":247,"loc":{"start":{"line":247,"column":2},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_3378)","line":252,"loc":{"start":{"line":252,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_3379)","line":256,"loc":{"start":{"line":256,"column":63},"end":{"line":256,"column":71}}},"15":{"name":"(anonymous_3380)","line":266,"loc":{"start":{"line":266,"column":48},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_3381)","line":267,"loc":{"start":{"line":267,"column":27},"end":{"line":267,"column":32}}},"17":{"name":"(anonymous_3382)","line":268,"loc":{"start":{"line":268,"column":27},"end":{"line":268,"column":32}}},"18":{"name":"(anonymous_3383)","line":272,"loc":{"start":{"line":272,"column":2},"end":{"line":272,"column":39}}},"19":{"name":"(anonymous_3384)","line":274,"loc":{"start":{"line":274,"column":37},"end":{"line":274,"column":41}}},"20":{"name":"(anonymous_3385)","line":280,"loc":{"start":{"line":280,"column":2},"end":{"line":280,"column":72}}},"21":{"name":"(anonymous_3386)","line":283,"loc":{"start":{"line":283,"column":34},"end":{"line":283,"column":65}}},"22":{"name":"(anonymous_3387)","line":295,"loc":{"start":{"line":295,"column":37},"end":{"line":295,"column":40}}},"23":{"name":"(anonymous_3388)","line":300,"loc":{"start":{"line":300,"column":2},"end":{"line":null,"column":-1}}},"24":{"name":"(anonymous_3389)","line":305,"loc":{"start":{"line":305,"column":2},"end":{"line":null,"column":-1}}},"25":{"name":"(anonymous_3390)","line":93,"loc":{"start":{"line":93,"column":49},"end":{"line":93,"column":58}}}},"branchMap":{"1":{"line":161,"type":"if","locations":[{"start":{"line":161,"column":4},"end":{"line":161,"column":3}},{"start":{"line":161,"column":4},"end":{"line":161,"column":3}}]},"2":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":14},"end":{"line":164,"column":31}},{"start":{"line":164,"column":35},"end":{"line":164,"column":73}}]},"3":{"line":181,"type":"binary-expr","locations":[{"start":{"line":181,"column":19},"end":{"line":181,"column":43}},{"start":{"line":181,"column":47},"end":{"line":181,"column":71}}]},"4":{"line":183,"type":"binary-expr","locations":[{"start":{"line":183,"column":12},"end":{"line":183,"column":36}},{"start":{"line":183,"column":40},"end":{"line":183,"column":86}},{"start":{"line":184,"column":7},"end":{"line":184,"column":31}},{"start":{"line":184,"column":35},"end":{"line":184,"column":81}},{"start":{"line":185,"column":7},"end":{"line":185,"column":31}},{"start":{"line":185,"column":35},"end":{"line":185,"column":59}}]},"5":{"line":194,"type":"if","locations":[{"start":{"line":194,"column":4},"end":{"line":194,"column":3}},{"start":{"line":194,"column":4},"end":{"line":194,"column":3}}]},"6":{"line":201,"type":"if","locations":[{"start":{"line":201,"column":4},"end":{"line":201,"column":3}},{"start":{"line":201,"column":4},"end":{"line":201,"column":3}}]},"7":{"line":211,"type":"if","locations":[{"start":{"line":211,"column":4},"end":{"line":211,"column":3}},{"start":{"line":211,"column":4},"end":{"line":211,"column":3}}]},"8":{"line":211,"type":"binary-expr","locations":[{"start":{"line":211,"column":8},"end":{"line":211,"column":22}},{"start":{"line":211,"column":26},"end":{"line":211,"column":43}}]},"9":{"line":214,"type":"if","locations":[{"start":{"line":214,"column":6},"end":{"line":214,"column":5}},{"start":{"line":214,"column":6},"end":{"line":214,"column":5}}]},"10":{"line":215,"type":"if","locations":[{"start":{"line":215,"column":8},"end":{"line":215,"column":7}},{"start":{"line":215,"column":8},"end":{"line":215,"column":7}}]},"11":{"line":222,"type":"if","locations":[{"start":{"line":222,"column":6},"end":{"line":222,"column":5}},{"start":{"line":222,"column":6},"end":{"line":222,"column":5}}]},"12":{"line":226,"type":"if","locations":[{"start":{"line":226,"column":6},"end":{"line":226,"column":5}},{"start":{"line":226,"column":6},"end":{"line":226,"column":5}}]},"13":{"line":230,"type":"if","locations":[{"start":{"line":230,"column":6},"end":{"line":230,"column":5}},{"start":{"line":230,"column":6},"end":{"line":230,"column":5}}]},"14":{"line":238,"type":"if","locations":[{"start":{"line":238,"column":4},"end":{"line":238,"column":3}},{"start":{"line":238,"column":4},"end":{"line":238,"column":3}}]},"15":{"line":238,"type":"binary-expr","locations":[{"start":{"line":238,"column":8},"end":{"line":238,"column":22}},{"start":{"line":238,"column":26},"end":{"line":238,"column":43}}]},"16":{"line":257,"type":"if","locations":[{"start":{"line":257,"column":6},"end":{"line":257,"column":5}},{"start":{"line":257,"column":6},"end":{"line":257,"column":5}}]},"17":{"line":273,"type":"if","locations":[{"start":{"line":273,"column":4},"end":{"line":273,"column":3}},{"start":{"line":273,"column":4},"end":{"line":273,"column":3}}]},"18":{"line":285,"type":"if","locations":[{"start":{"line":285,"column":6},"end":{"line":285,"column":5}},{"start":{"line":285,"column":6},"end":{"line":285,"column":5}}]},"19":{"line":286,"type":"if","locations":[{"start":{"line":286,"column":8},"end":{"line":286,"column":7}},{"start":{"line":286,"column":8},"end":{"line":286,"column":7}}]},"20":{"line":93,"type":"cond-expr","locations":[{"start":{"line":93,"column":82},"end":{"line":93,"column":116}},{"start":{"line":93,"column":119},"end":{"line":93,"column":123}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":42,"14":1,"15":1,"16":41,"17":41,"18":41,"19":41,"20":41,"21":41,"22":36,"23":41,"24":34,"25":41,"26":0,"27":41,"28":41,"29":1,"30":22,"31":22,"32":22,"33":22,"34":1,"35":66,"36":66,"37":66,"38":66,"39":66,"40":1,"41":0,"42":1,"43":41,"44":41,"45":1,"46":1,"47":1,"48":41,"49":41,"50":41,"51":41,"52":41,"53":1,"54":36,"55":36,"56":36,"57":24,"58":24,"59":2,"60":1,"61":1,"62":24,"63":1,"64":24,"65":1,"66":24,"67":1,"68":1,"69":34,"70":34,"71":26,"72":26,"73":26,"74":8,"75":1,"76":70,"77":70,"78":1,"79":26,"80":26,"81":26,"82":26,"83":66,"84":31,"85":31,"86":35,"87":35,"88":26,"89":24,"90":31,"91":24,"92":35,"93":1,"94":132,"95":66,"96":72,"97":66,"98":1,"99":66,"100":66,"101":72,"102":72,"103":36,"104":16,"105":20,"106":66,"107":66,"108":6,"109":1,"110":0,"111":0,"112":1,"113":0,"114":0,"115":1,"116":1,"117":0,"118":1,"119":1,"120":1},"b":{"1":[22,0],"2":[22,22],"3":[66,60],"4":[66,60,36,6,35,5],"5":[1,40],"6":[41,0],"7":[24,12],"8":[36,36],"9":[2,22],"10":[1,1],"11":[1,23],"12":[1,23],"13":[1,23],"14":[26,8],"15":[34,34],"16":[31,35],"17":[66,66],"18":[36,36],"19":[16,20],"20":[0,0]},"f":{"1":1,"2":41,"3":36,"4":34,"5":0,"6":22,"7":66,"8":0,"9":41,"10":36,"11":34,"12":70,"13":26,"14":66,"15":24,"16":31,"17":35,"18":132,"19":72,"20":66,"21":72,"22":6,"23":0,"24":0,"25":0},"code":"import {ResponsiveTabs} from '../ResponsiveComponents/ResponsiveTabs.ts';\nimport {Component} from '../Base/Component';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {MODEL_EVENTS, IAttributeChangedEventArg} from '../../models/Model';\nimport {QueryEvents, IBuildingQueryEventArgs} from '../../events/QueryEvents';\nimport {QueryStateModel, QUERY_STATE_ATTRIBUTES} from '../../models/QueryStateModel';\nimport {analyticsActionCauseList, IAnalyticsInterfaceChange} from '../Analytics/AnalyticsActionListMeta';\nimport {SearchEndpoint} from '../../rest/SearchEndpoint';\nimport {Initialization} from '../Base/Initialization';\nimport {Utils} from '../../utils/Utils';\nimport {Assert} from '../../misc/Assert';\nimport {$$} from '../../utils/Dom';\n\nexport interface ITabOptions {\n  expression?: string;\n  constant?: boolean;\n  id?: string;\n  icon?: string;\n  caption?: string;\n  sort?: string;\n  endpoint?: SearchEndpoint;\n  enableDuplicateFiltering?: boolean;\n  pipeline?: string;\n  maximumAge?: number;\n  enableResponsiveMode?: boolean;\n}\n\n/**\n * This component is a bar allowing users to select a search interface.\n *\n * The component attaches itself to an div element and is in charge of adding an advanced expression to the query and thus, modify the outgoing query in order to refine the results in relation to the selected tab.\n *\n * It also allows to hide and show different parts of the UI. In order to do so, each component of the UI can specify whether or not it wishes to be included or excluded from a specific tab.\n *\n * # Including and excluding other HTML components\n *\n * You can hide/show specific HTML components, based on the currently selected search tab by adding the following attributes:\n *\n * * `<div data-tab=\"foobar\">` -> Include this element only in the tab with the id 'foobar'.\n *\n * * `<div data-tab-not=\"foobar\">` -> DO NOT include this element in the tab id 'foobar'.\n *\n * * `<div data-tab=\"foobar,somethingelse\">` -> Include this element only in the tab with the id 'foobar' or 'somethingelse'.\n *\n * # Setting a new endpoint for a tab\n * A tab can use a custom endpoint when performing a query. First, you need to make sure that the endpoint exists in the array of Coveo.SearchEndpoint.endpoints.\n *\n * ```\n * Coveo.SearchEndpoint.endpoints[\"specialEndpoint\"] = new Coveo.SearchEndpoint({\n *     restUri : 'https://somewhere.com/rest/search'\n * })\n *\n * [...]\n *\n * <div class='CoveoTab' data-endpoint='specialEndpoint'></div>\n *\n * ```\n */\nexport class Tab extends Component {\n  static ID = 'Tab';\n\n  /**\n   * The options for a Tab\n   * @componentOptions\n   */\n  static options: ITabOptions = {\n    /**\n     * The unique ID for a tab.<br/>\n     * This is mandatory and required for the tab to function properly\n     */\n    id: ComponentOptions.buildStringOption({ required: true }),\n    /**\n     * The caption for the tab.<br/>\n     * This is mandatory and required for the tab to function properly\n     */\n    caption: ComponentOptions.buildLocalizedStringOption({ required: true }),\n    /**\n     * Specify an icon for the tab.<br/>\n     * This options is mostly kept for legacy reason. Do not use one if not needed.\n     */\n    icon: ComponentOptions.buildIconOption(),\n    /**\n     * Specifies an advanced expression / filter that this tab adds to any outgoing query.<br/>\n     * eg : @objecttype==Message.<br/>\n     * This is optional, normally a \"All Content\" tab would not set any filter on the query.\n     */\n    expression: ComponentOptions.buildStringOption(),\n    /**\n     * Specifies the endpoint that a tab should point to when performing query inside that tab.<br/>\n     * This is optional, by default the tab will use the \"default\" endpoint\n     */\n    endpoint: ComponentOptions.buildCustomOption((endpoint) => endpoint != null ? SearchEndpoint.endpoints[endpoint] : null),\n    /**\n     * Specifies the default sort when this tab is selected. A {@link Sort} Component configured with the same specified parameter needs to be in the interface in order for this this option to function properly.<br/>\n     * eg : relevancy / date descending<br/>\n     * Optional, by default the normal {@link Sort} component behavior will operate\n     */\n    sort: ComponentOptions.buildStringOption(),\n    /**\n     * Specifies whether the filter expression should be included in the constant part of the query.<br/>\n     * The constant part of the query is specially optimized by the index to execute faster, but you must be careful not to include dynamic query expressions otherwise the cache would lose its efficiency.<br/>\n     * By default, this option is set to true.\n     */\n    constant: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies whether to filter duplicates on the search results.<br/>\n     * The default value is false.\n     */\n    enableDuplicateFiltering: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    /**\n     * Specifies the name of the query pipeline to use for the queries, in the Coveo platform ( Query Pipeline in the cloud admin).<br/>\n     * If not specified, the default value is null, in which case pipeline selection conditions defined in a Coveo Cloud organization apply.\n     */\n    pipeline: ComponentOptions.buildStringOption(),\n    /**\n     * Specifies the maximum age in milliseconds that cached query results can have in order to be used (instead of performing a new query on the index).<br/>\n     * The cache is located in the Coveo Search API (which resides between the index and search interface).<br/>\n     * If cached results are available but are older than the specified age, a new query will be performed on the index.<br/>\n     * By default, this is left undefined and the Coveo Search API will decide the cache duration.\n     */\n    maximumAge: ComponentOptions.buildNumberOption(),\n    /**\n     * Specifies if the responsive mode should be enabled for the tabs. Responsive mode will make the overflowing tabs dissapear and instead\n     * be availaible using a dropdown button. Responsive tabs are enabled when tabs overflow or when the width of the search interface\n     * becomes too small. \n     * \n     * Disabling reponsive mode for one tab will disable it for all tabs.\n     * Therefore, this options only needs to be set on one tab to be effective.\n     * The default value is `true`.\n     */\n    enableResponsiveMode: ComponentOptions.buildBooleanOption({ defaultValue: true })\n\n  };\n\n  private isFirstQuery = true;\n\n  /**\n   * Create a new Tab. Bind on buildingQuery event as well as on click of the element\n   * @param element The HTMLElement on which to create a new tab. Normally a div\n   * @param options\n   * @param bindings\n   */\n  constructor(public element: HTMLElement, public options?: ITabOptions, bindings?: IComponentBindings) {\n    super(element, Tab.ID, bindings);\n\n    this.options = ComponentOptions.initComponentOptions(element, Tab, options);\n\n    this.bind.onRootElement(QueryEvents.buildingQuery, (args: IBuildingQueryEventArgs) => this.handleBuildingQuery(args));\n    this.bind.onQueryState(MODEL_EVENTS.CHANGE_ONE, QUERY_STATE_ATTRIBUTES.T, (args: IAttributeChangedEventArg) => this.handleQueryStateChanged(args));\n    this.bind.on(element, 'click', (e: Event) => this.handleClick());\n    this.render();\n    ResponsiveTabs.init(this.root, this, this.options);\n  }\n\n  /**\n   * Select the current tab.<br/>\n   * Trigger a query and log an analytics event.\n   */\n  public select() {\n    if (!this.disabled) {\n      this.queryStateModel.setMultiple({\n        t: this.options.id,\n        sort: this.options.sort || QueryStateModel.defaultAttributes.sort\n      });\n      this.usageAnalytics.logSearchEvent<IAnalyticsInterfaceChange>(analyticsActionCauseList.interfaceChange, { interfaceChangeTo: this.options.id });\n      this.queryController.executeQuery();\n    }\n  }\n\n  /**\n   * Check if the given HTMLElement is included or not in this tab\n   * @param element The element to verify\n   * @returns {boolean}\n   */\n  public isElementIncludedInTab(element: HTMLElement): boolean {\n    Assert.exists(element);\n\n    var includedTabs = this.splitListOfTabs(element.getAttribute('data-tab'));\n    var excludedTabs = this.splitListOfTabs(element.getAttribute('data-tab-not'));\n    Assert.check(!(includedTabs.length != 0 && excludedTabs.length != 0), 'You cannot both explicity include and exclude an element from tabs');\n\n    return (includedTabs.length != 0 && _.indexOf(includedTabs, this.options.id) != -1) ||\n      (excludedTabs.length != 0 && _.indexOf(excludedTabs, this.options.id) == -1) ||\n      (includedTabs.length == 0 && excludedTabs.length == 0);\n  }\n\n  private handleClick() {\n    this.select();\n  }\n\n  private render() {\n    var icon = this.options.icon;\n    if (Utils.isNonEmptyString(icon)) {\n      var icnSpan = document.createElement('span');\n      $$(icnSpan).addClass(['coveo-icon', icon]);\n      this.element.insertBefore(icnSpan, this.element.firstChild);\n    }\n\n    var caption = this.options.caption;\n    if (Utils.isNonEmptyString(caption)) {\n      var captionP = document.createElement('p');\n      $$(captionP).text(caption);\n      this.element.appendChild(captionP);\n    }\n  }\n\n  protected handleBuildingQuery(data: IBuildingQueryEventArgs) {\n    Assert.exists(data);\n    this.isFirstQuery = false;\n    if (!this.disabled && this.isSelected()) {\n      data.queryBuilder.tab = this.options.id;\n\n      if (Utils.isNonEmptyString(this.options.expression)) {\n        if (this.options.constant) {\n          data.queryBuilder.constantExpression.add(this.options.expression);\n        } else {\n          data.queryBuilder.advancedExpression.add(this.options.expression);\n        }\n      }\n\n      if (this.options.enableDuplicateFiltering) {\n        data.queryBuilder.enableDuplicateFiltering = true;\n      }\n\n      if (this.options.pipeline != null) {\n        data.queryBuilder.pipeline = this.options.pipeline;\n      }\n\n      if (this.options.maximumAge != null) {\n        data.queryBuilder.maximumAge = this.options.maximumAge;\n      }\n    }\n  }\n\n  private handleQueryStateChanged(data: IAttributeChangedEventArg) {\n    Assert.exists(data);\n    if (!this.disabled && this.isSelected()) {\n      $$(this.element).addClass('coveo-selected')\n      this.queryController.setEndpoint(this.options.endpoint);\n      this.showAndHideAppropriateElements();\n    } else {\n      $$(this.element).removeClass('coveo-selected');\n    }\n  }\n\n  protected isSelected(): boolean {\n    var activeTab = this.queryStateModel.get(QueryStateModel.attributesEnum.t);\n    return activeTab == this.options.id;\n  }\n\n  private showAndHideAppropriateElements() {\n    var showElements = [];\n    var hideElements = [];\n\n    _.each($$(this.root).findAll('[data-tab],[data-tab-not]'), (element) => {\n      if (this.isElementIncludedInTab(element)) {\n        this.toggleAllComponentsUnder(element, true);\n        showElements.push(element);\n      } else {\n        this.toggleAllComponentsUnder(element, false);\n        hideElements.push(element);\n      }\n    });\n\n    $$(this.root).one(QueryEvents.querySuccess, () => {\n      _.each(showElements, (elem) => $$(elem).removeClass('coveo-tab-disabled'));\n      _.each(hideElements, (elem) => $$(elem).addClass('coveo-tab-disabled'));\n    })\n  }\n\n  private splitListOfTabs(value: string): string[] {\n    if (Utils.exists(value)) {\n      return _.map(value.split(','), (tab) => Utils.trim(tab));\n    } else {\n      return [];\n    }\n  }\n\n  private toggleAllComponentsUnder(element: HTMLElement, enable: boolean) {\n    Assert.exists(element);\n\n    var togglePossibleComponent = (possibleComponent: HTMLElement) => {\n      var possibleCmp = Component.get(possibleComponent, undefined, true);\n      if (possibleCmp) {\n        if (enable) {\n          possibleCmp.enable();\n        } else {\n          possibleCmp.disable();\n        }\n      }\n    }\n\n    togglePossibleComponent(element);\n    _.each($$(element).findAll('*'), (el) => {\n      togglePossibleComponent(el);\n    })\n  }\n\n  public enable() {\n    super.enable();\n    this.element.style.display = '';\n  }\n\n  public disable() {\n    super.disable();\n    this.element.style.display = 'none';\n  }\n}\n\nInitialization.registerAutoCreateComponent(Tab);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Tab/Tab.ts\n **/","l":{"1":1,"2":1,"3":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"60":42,"61":1,"67":1,"93":0,"136":41,"144":41,"145":41,"147":41,"149":41,"150":41,"151":41,"152":41,"153":41,"160":1,"161":22,"162":22,"166":22,"167":22,"176":1,"177":66,"179":66,"180":66,"181":66,"183":66,"188":1,"189":0,"192":1,"193":41,"194":41,"195":1,"196":1,"197":1,"200":41,"201":41,"202":41,"203":41,"204":41,"208":1,"209":36,"210":36,"211":36,"212":24,"214":24,"215":2,"216":1,"218":1,"222":24,"223":1,"226":24,"227":1,"230":24,"231":1,"236":1,"237":34,"238":34,"239":26,"240":26,"241":26,"243":8,"247":1,"248":70,"249":70,"252":26,"253":26,"254":26,"256":26,"257":66,"258":31,"259":31,"261":35,"262":35,"266":26,"267":31,"268":35,"272":1,"273":132,"274":72,"276":66,"280":1,"281":66,"283":66,"284":72,"285":72,"286":36,"287":16,"289":20,"294":66,"295":66,"296":6,"300":1,"301":0,"302":0,"305":1,"306":0,"307":0,"309":1,"311":1}},"src/ui/ResponsiveComponents/ResponsiveTabs.ts":{"path":"src/ui/ResponsiveComponents/ResponsiveTabs.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":40}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":71}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":90}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":52}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":41}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":44}},"8":{"start":{"line":8,"column":0},"end":{"line":8,"column":67}},"9":{"start":{"line":9,"column":0},"end":{"line":9,"column":30}},"10":{"start":{"line":10,"column":0},"end":{"line":10,"column":125}},"11":{"start":{"line":11,"column":0},"end":{"line":11,"column":70}},"12":{"start":{"line":12,"column":0},"end":{"line":12,"column":40}},"13":{"start":{"line":14,"column":0},"end":{"line":360,"column":1}},"14":{"start":{"line":28,"column":2},"end":{"line":40,"column":3}},"15":{"start":{"line":28,"column":32},"end":{"line":28,"column":42}},"16":{"start":{"line":29,"column":4},"end":{"line":29,"column":26}},"17":{"start":{"line":30,"column":4},"end":{"line":30,"column":91}},"18":{"start":{"line":31,"column":4},"end":{"line":31,"column":55}},"19":{"start":{"line":32,"column":4},"end":{"line":32,"column":55}},"20":{"start":{"line":33,"column":4},"end":{"line":33,"column":53}},"21":{"start":{"line":34,"column":4},"end":{"line":34,"column":37}},"22":{"start":{"line":35,"column":4},"end":{"line":35,"column":36}},"23":{"start":{"line":36,"column":4},"end":{"line":36,"column":81}},"24":{"start":{"line":37,"column":4},"end":{"line":37,"column":29}},"25":{"start":{"line":38,"column":4},"end":{"line":38,"column":28}},"26":{"start":{"line":39,"column":4},"end":{"line":39,"column":26}},"27":{"start":{"line":42,"column":16},"end":{"line":49,"column":3}},"28":{"start":{"line":43,"column":4},"end":{"line":43,"column":47}},"29":{"start":{"line":44,"column":4},"end":{"line":47,"column":5}},"30":{"start":{"line":45,"column":6},"end":{"line":45,"column":102}},"31":{"start":{"line":46,"column":6},"end":{"line":46,"column":13}},"32":{"start":{"line":48,"column":4},"end":{"line":48,"column":95}},"33":{"start":{"line":51,"column":9},"end":{"line":68,"column":3}},"34":{"start":{"line":52,"column":4},"end":{"line":56,"column":5}},"35":{"start":{"line":53,"column":6},"end":{"line":53,"column":31}},"36":{"start":{"line":54,"column":11},"end":{"line":56,"column":5}},"37":{"start":{"line":55,"column":6},"end":{"line":55,"column":31}},"38":{"start":{"line":58,"column":4},"end":{"line":58,"column":42}},"39":{"start":{"line":59,"column":4},"end":{"line":63,"column":5}},"40":{"start":{"line":60,"column":6},"end":{"line":60,"column":35}},"41":{"start":{"line":61,"column":11},"end":{"line":63,"column":5}},"42":{"start":{"line":62,"column":6},"end":{"line":62,"column":40}},"43":{"start":{"line":65,"column":4},"end":{"line":67,"column":5}},"44":{"start":{"line":66,"column":6},"end":{"line":66,"column":27}},"45":{"start":{"line":70,"column":9},"end":{"line":78,"column":3}},"46":{"start":{"line":71,"column":4},"end":{"line":77,"column":5}},"47":{"start":{"line":72,"column":6},"end":{"line":72,"column":18}},"48":{"start":{"line":73,"column":11},"end":{"line":77,"column":5}},"49":{"start":{"line":74,"column":6},"end":{"line":74,"column":52}},"50":{"start":{"line":76,"column":6},"end":{"line":76,"column":45}},"51":{"start":{"line":80,"column":9},"end":{"line":82,"column":3}},"52":{"start":{"line":81,"column":4},"end":{"line":81,"column":64}},"53":{"start":{"line":84,"column":9},"end":{"line":88,"column":3}},"54":{"start":{"line":85,"column":4},"end":{"line":85,"column":25}},"55":{"start":{"line":86,"column":4},"end":{"line":86,"column":27}},"56":{"start":{"line":87,"column":4},"end":{"line":87,"column":66}},"57":{"start":{"line":90,"column":10},"end":{"line":92,"column":3}},"58":{"start":{"line":91,"column":4},"end":{"line":91,"column":116}},"59":{"start":{"line":94,"column":10},"end":{"line":117,"column":3}},"60":{"start":{"line":95,"column":4},"end":{"line":95,"column":19}},"61":{"start":{"line":96,"column":4},"end":{"line":103,"column":5}},"62":{"start":{"line":97,"column":6},"end":{"line":97,"column":85}},"63":{"start":{"line":98,"column":6},"end":{"line":102,"column":7}},"64":{"start":{"line":99,"column":8},"end":{"line":99,"column":62}},"65":{"start":{"line":101,"column":8},"end":{"line":101,"column":63}},"66":{"start":{"line":104,"column":4},"end":{"line":116,"column":5}},"67":{"start":{"line":105,"column":6},"end":{"line":105,"column":27}},"68":{"start":{"line":107,"column":6},"end":{"line":109,"column":7}},"69":{"start":{"line":108,"column":8},"end":{"line":108,"column":31}},"70":{"start":{"line":111,"column":6},"end":{"line":111,"column":37}},"71":{"start":{"line":113,"column":6},"end":{"line":115,"column":7}},"72":{"start":{"line":114,"column":8},"end":{"line":114,"column":14}},"73":{"start":{"line":119,"column":10},"end":{"line":121,"column":3}},"74":{"start":{"line":120,"column":4},"end":{"line":120,"column":144}},"75":{"start":{"line":123,"column":10},"end":{"line":145,"column":3}},"76":{"start":{"line":124,"column":4},"end":{"line":124,"column":75}},"77":{"start":{"line":125,"column":4},"end":{"line":125,"column":60}},"78":{"start":{"line":126,"column":4},"end":{"line":128,"column":5}},"79":{"start":{"line":127,"column":6},"end":{"line":127,"column":36}},"80":{"start":{"line":130,"column":4},"end":{"line":135,"column":5}},"81":{"start":{"line":131,"column":6},"end":{"line":131,"column":37}},"82":{"start":{"line":132,"column":6},"end":{"line":132,"column":39}},"83":{"start":{"line":133,"column":6},"end":{"line":133,"column":67}},"84":{"start":{"line":134,"column":6},"end":{"line":134,"column":42}},"85":{"start":{"line":137,"column":4},"end":{"line":140,"column":5}},"86":{"start":{"line":138,"column":6},"end":{"line":138,"column":44}},"87":{"start":{"line":139,"column":6},"end":{"line":139,"column":37}},"88":{"start":{"line":142,"column":4},"end":{"line":144,"column":5}},"89":{"start":{"line":143,"column":6},"end":{"line":143,"column":29}},"90":{"start":{"line":147,"column":10},"end":{"line":163,"column":3}},"91":{"start":{"line":148,"column":4},"end":{"line":162,"column":5}},"92":{"start":{"line":149,"column":6},"end":{"line":149,"column":77}},"93":{"start":{"line":150,"column":6},"end":{"line":150,"column":44}},"94":{"start":{"line":151,"column":6},"end":{"line":151,"column":40}},"95":{"start":{"line":152,"column":6},"end":{"line":154,"column":7}},"96":{"start":{"line":153,"column":8},"end":{"line":153,"column":38}},"97":{"start":{"line":155,"column":6},"end":{"line":161,"column":7}},"98":{"start":{"line":156,"column":8},"end":{"line":156,"column":43}},"99":{"start":{"line":157,"column":8},"end":{"line":157,"column":41}},"100":{"start":{"line":158,"column":8},"end":{"line":158,"column":57}},"101":{"start":{"line":159,"column":8},"end":{"line":159,"column":69}},"102":{"start":{"line":160,"column":8},"end":{"line":160,"column":44}},"103":{"start":{"line":165,"column":10},"end":{"line":191,"column":3}},"104":{"start":{"line":166,"column":4},"end":{"line":166,"column":80}},"105":{"start":{"line":168,"column":4},"end":{"line":168,"column":78}},"106":{"start":{"line":169,"column":4},"end":{"line":171,"column":5}},"107":{"start":{"line":170,"column":6},"end":{"line":170,"column":55}},"108":{"start":{"line":173,"column":4},"end":{"line":173,"column":53}},"109":{"start":{"line":174,"column":4},"end":{"line":174,"column":53}},"110":{"start":{"line":176,"column":4},"end":{"line":180,"column":5}},"111":{"start":{"line":177,"column":6},"end":{"line":179,"column":9}},"112":{"start":{"line":178,"column":8},"end":{"line":178,"column":62}},"113":{"start":{"line":182,"column":4},"end":{"line":182,"column":48}},"114":{"start":{"line":184,"column":4},"end":{"line":184,"column":66}},"115":{"start":{"line":185,"column":4},"end":{"line":185,"column":65}},"116":{"start":{"line":186,"column":4},"end":{"line":186,"column":64}},"117":{"start":{"line":189,"column":4},"end":{"line":189,"column":31}},"118":{"start":{"line":190,"column":4},"end":{"line":190,"column":25}},"119":{"start":{"line":193,"column":10},"end":{"line":195,"column":3}},"120":{"start":{"line":194,"column":4},"end":{"line":194,"column":43}},"121":{"start":{"line":197,"column":10},"end":{"line":204,"column":3}},"122":{"start":{"line":198,"column":4},"end":{"line":198,"column":99}},"123":{"start":{"line":199,"column":4},"end":{"line":199,"column":26}},"124":{"start":{"line":200,"column":4},"end":{"line":200,"column":28}},"125":{"start":{"line":201,"column":4},"end":{"line":201,"column":84}},"126":{"start":{"line":202,"column":4},"end":{"line":202,"column":46}},"127":{"start":{"line":203,"column":4},"end":{"line":203,"column":26}},"128":{"start":{"line":206,"column":10},"end":{"line":215,"column":3}},"129":{"start":{"line":206,"column":2},"end":{"line":215,"column":3}},"130":{"start":{"line":207,"column":4},"end":{"line":214,"column":7}},"131":{"start":{"line":208,"column":6},"end":{"line":213,"column":7}},"132":{"start":{"line":209,"column":8},"end":{"line":209,"column":29}},"133":{"start":{"line":210,"column":8},"end":{"line":210,"column":69}},"134":{"start":{"line":212,"column":8},"end":{"line":212,"column":29}},"135":{"start":{"line":217,"column":10},"end":{"line":222,"column":3}},"136":{"start":{"line":218,"column":4},"end":{"line":218,"column":125}},"137":{"start":{"line":219,"column":4},"end":{"line":219,"column":64}},"138":{"start":{"line":220,"column":4},"end":{"line":220,"column":51}},"139":{"start":{"line":221,"column":4},"end":{"line":221,"column":27}},"140":{"start":{"line":224,"column":10},"end":{"line":234,"column":3}},"141":{"start":{"line":224,"column":2},"end":{"line":234,"column":3}},"142":{"start":{"line":225,"column":4},"end":{"line":232,"column":6}},"143":{"start":{"line":226,"column":6},"end":{"line":231,"column":7}},"144":{"start":{"line":227,"column":8},"end":{"line":227,"column":56}},"145":{"start":{"line":228,"column":8},"end":{"line":230,"column":9}},"146":{"start":{"line":229,"column":10},"end":{"line":229,"column":31}},"147":{"start":{"line":233,"column":4},"end":{"line":233,"column":73}},"148":{"start":{"line":236,"column":10},"end":{"line":239,"column":3}},"149":{"start":{"line":237,"column":4},"end":{"line":237,"column":34}},"150":{"start":{"line":238,"column":4},"end":{"line":238,"column":68}},"151":{"start":{"line":241,"column":10},"end":{"line":249,"column":3}},"152":{"start":{"line":242,"column":4},"end":{"line":248,"column":5}},"153":{"start":{"line":243,"column":6},"end":{"line":243,"column":44}},"154":{"start":{"line":244,"column":6},"end":{"line":244,"column":49}},"155":{"start":{"line":245,"column":6},"end":{"line":245,"column":33}},"156":{"start":{"line":246,"column":6},"end":{"line":246,"column":37}},"157":{"start":{"line":247,"column":6},"end":{"line":247,"column":52}},"158":{"start":{"line":251,"column":10},"end":{"line":256,"column":3}},"159":{"start":{"line":252,"column":4},"end":{"line":255,"column":5}},"160":{"start":{"line":253,"column":6},"end":{"line":253,"column":47}},"161":{"start":{"line":254,"column":6},"end":{"line":254,"column":36}},"162":{"start":{"line":258,"column":10},"end":{"line":262,"column":3}},"163":{"start":{"line":259,"column":4},"end":{"line":259,"column":68}},"164":{"start":{"line":260,"column":4},"end":{"line":260,"column":33}},"165":{"start":{"line":261,"column":4},"end":{"line":261,"column":34}},"166":{"start":{"line":264,"column":10},"end":{"line":270,"column":3}},"167":{"start":{"line":265,"column":4},"end":{"line":268,"column":5}},"168":{"start":{"line":266,"column":6},"end":{"line":266,"column":59}},"169":{"start":{"line":267,"column":6},"end":{"line":267,"column":30}},"170":{"start":{"line":269,"column":4},"end":{"line":269,"column":17}},"171":{"start":{"line":272,"column":10},"end":{"line":313,"column":3}},"172":{"start":{"line":272,"column":2},"end":{"line":313,"column":3}},"173":{"start":{"line":273,"column":4},"end":{"line":312,"column":7}},"174":{"start":{"line":274,"column":6},"end":{"line":274,"column":31}},"175":{"start":{"line":275,"column":6},"end":{"line":300,"column":8}},"176":{"start":{"line":276,"column":8},"end":{"line":276,"column":55}},"177":{"start":{"line":277,"column":8},"end":{"line":277,"column":51}},"178":{"start":{"line":278,"column":8},"end":{"line":278,"column":69}},"179":{"start":{"line":279,"column":8},"end":{"line":299,"column":9}},"180":{"start":{"line":280,"column":10},"end":{"line":298,"column":11}},"181":{"start":{"line":282,"column":12},"end":{"line":282,"column":64}},"182":{"start":{"line":283,"column":12},"end":{"line":283,"column":46}},"183":{"start":{"line":284,"column":12},"end":{"line":284,"column":50}},"184":{"start":{"line":286,"column":12},"end":{"line":286,"column":83}},"185":{"start":{"line":290,"column":12},"end":{"line":290,"column":52}},"186":{"start":{"line":291,"column":12},"end":{"line":291,"column":62}},"187":{"start":{"line":293,"column":12},"end":{"line":293,"column":72}},"188":{"start":{"line":294,"column":17},"end":{"line":298,"column":11}},"189":{"start":{"line":295,"column":12},"end":{"line":295,"column":33}},"190":{"start":{"line":296,"column":12},"end":{"line":296,"column":84}},"191":{"start":{"line":297,"column":12},"end":{"line":297,"column":37}},"192":{"start":{"line":302,"column":6},"end":{"line":311,"column":8}},"193":{"start":{"line":303,"column":8},"end":{"line":310,"column":9}},"194":{"start":{"line":304,"column":10},"end":{"line":304,"column":57}},"195":{"start":{"line":305,"column":10},"end":{"line":305,"column":53}},"196":{"start":{"line":306,"column":10},"end":{"line":309,"column":11}},"197":{"start":{"line":307,"column":12},"end":{"line":307,"column":81}},"198":{"start":{"line":308,"column":12},"end":{"line":308,"column":72}},"199":{"start":{"line":315,"column":10},"end":{"line":322,"column":3}},"200":{"start":{"line":316,"column":4},"end":{"line":316,"column":72}},"201":{"start":{"line":317,"column":4},"end":{"line":321,"column":5}},"202":{"start":{"line":318,"column":6},"end":{"line":318,"column":43}},"203":{"start":{"line":320,"column":6},"end":{"line":320,"column":65}},"204":{"start":{"line":324,"column":10},"end":{"line":327,"column":3}},"205":{"start":{"line":325,"column":4},"end":{"line":325,"column":123}},"206":{"start":{"line":326,"column":4},"end":{"line":326,"column":55}},"207":{"start":{"line":329,"column":10},"end":{"line":333,"column":3}},"208":{"start":{"line":329,"column":2},"end":{"line":333,"column":3}},"209":{"start":{"line":330,"column":4},"end":{"line":332,"column":7}},"210":{"start":{"line":331,"column":6},"end":{"line":331,"column":76}},"211":{"start":{"line":335,"column":10},"end":{"line":338,"column":3}},"212":{"start":{"line":336,"column":4},"end":{"line":337,"column":108}},"213":{"start":{"line":340,"column":10},"end":{"line":351,"column":3}},"214":{"start":{"line":340,"column":2},"end":{"line":351,"column":3}},"215":{"start":{"line":341,"column":4},"end":{"line":341,"column":27}},"216":{"start":{"line":342,"column":4},"end":{"line":349,"column":7}},"217":{"start":{"line":343,"column":6},"end":{"line":348,"column":7}},"218":{"start":{"line":344,"column":8},"end":{"line":344,"column":50}},"219":{"start":{"line":345,"column":8},"end":{"line":347,"column":9}},"220":{"start":{"line":346,"column":10},"end":{"line":346,"column":39}},"221":{"start":{"line":350,"column":4},"end":{"line":350,"column":25}},"222":{"start":{"line":353,"column":10},"end":{"line":359,"column":3}},"223":{"start":{"line":354,"column":4},"end":{"line":358,"column":5}},"224":{"start":{"line":355,"column":6},"end":{"line":355,"column":56}},"225":{"start":{"line":357,"column":6},"end":{"line":357,"column":38}},"226":{"start":{"line":360,"column":0},"end":{"line":360,"column":1}},"227":{"start":{"line":14,"column":13},"end":{"line":360,"column":1}}},"fnMap":{"1":{"name":"(anonymous_3393)","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"ResponsiveTabs","line":28,"loc":{"start":{"line":28,"column":2},"end":{"line":28,"column":42}}},"3":{"name":"(anonymous_3395)","line":42,"loc":{"start":{"line":42,"column":2},"end":{"line":42,"column":98}}},"4":{"name":"(anonymous_3396)","line":51,"loc":{"start":{"line":51,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_3397)","line":70,"loc":{"start":{"line":70,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_3398)","line":80,"loc":{"start":{"line":80,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_3399)","line":84,"loc":{"start":{"line":84,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_3400)","line":90,"loc":{"start":{"line":90,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_3401)","line":94,"loc":{"start":{"line":94,"column":2},"end":{"line":94,"column":47}}},"10":{"name":"(anonymous_3402)","line":119,"loc":{"start":{"line":119,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_3403)","line":123,"loc":{"start":{"line":123,"column":2},"end":{"line":123,"column":52}}},"12":{"name":"(anonymous_3404)","line":147,"loc":{"start":{"line":147,"column":2},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_3405)","line":165,"loc":{"start":{"line":165,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_3406)","line":177,"loc":{"start":{"line":177,"column":56},"end":{"line":177,"column":59}}},"15":{"name":"(anonymous_3407)","line":193,"loc":{"start":{"line":193,"column":2},"end":{"line":193,"column":39}}},"16":{"name":"(anonymous_3408)","line":197,"loc":{"start":{"line":197,"column":2},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_3409)","line":206,"loc":{"start":{"line":206,"column":2},"end":{"line":null,"column":-1}}},"18":{"name":"(anonymous_3410)","line":207,"loc":{"start":{"line":207,"column":36},"end":{"line":null,"column":-1}}},"19":{"name":"(anonymous_3411)","line":217,"loc":{"start":{"line":217,"column":2},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_3412)","line":224,"loc":{"start":{"line":224,"column":2},"end":{"line":null,"column":-1}}},"21":{"name":"(anonymous_3413)","line":225,"loc":{"start":{"line":225,"column":33},"end":{"line":225,"column":38}}},"22":{"name":"(anonymous_3414)","line":236,"loc":{"start":{"line":236,"column":2},"end":{"line":null,"column":-1}}},"23":{"name":"(anonymous_3415)","line":241,"loc":{"start":{"line":241,"column":2},"end":{"line":241,"column":39}}},"24":{"name":"(anonymous_3416)","line":251,"loc":{"start":{"line":251,"column":2},"end":{"line":251,"column":44}}},"25":{"name":"(anonymous_3417)","line":258,"loc":{"start":{"line":258,"column":2},"end":{"line":null,"column":-1}}},"26":{"name":"(anonymous_3418)","line":264,"loc":{"start":{"line":264,"column":2},"end":{"line":null,"column":-1}}},"27":{"name":"(anonymous_3419)","line":272,"loc":{"start":{"line":272,"column":2},"end":{"line":null,"column":-1}}},"28":{"name":"(anonymous_3420)","line":273,"loc":{"start":{"line":273,"column":88},"end":{"line":273,"column":98}}},"29":{"name":"(anonymous_3421)","line":275,"loc":{"start":{"line":275,"column":26},"end":{"line":275,"column":32}}},"30":{"name":"(anonymous_3422)","line":302,"loc":{"start":{"line":302,"column":22},"end":{"line":null,"column":-1}}},"31":{"name":"(anonymous_3423)","line":315,"loc":{"start":{"line":315,"column":2},"end":{"line":null,"column":-1}}},"32":{"name":"(anonymous_3424)","line":324,"loc":{"start":{"line":324,"column":2},"end":{"line":null,"column":-1}}},"33":{"name":"(anonymous_3425)","line":329,"loc":{"start":{"line":329,"column":2},"end":{"line":null,"column":-1}}},"34":{"name":"(anonymous_3426)","line":330,"loc":{"start":{"line":330,"column":53},"end":{"line":null,"column":-1}}},"35":{"name":"(anonymous_3427)","line":335,"loc":{"start":{"line":335,"column":2},"end":{"line":null,"column":-1}}},"36":{"name":"(anonymous_3428)","line":340,"loc":{"start":{"line":340,"column":2},"end":{"line":null,"column":-1}}},"37":{"name":"(anonymous_3429)","line":342,"loc":{"start":{"line":342,"column":40},"end":{"line":342,"column":52}}},"38":{"name":"(anonymous_3430)","line":353,"loc":{"start":{"line":353,"column":2},"end":{"line":353,"column":77}}}},"branchMap":{"1":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":4},"end":{"line":44,"column":3}},{"start":{"line":44,"column":4},"end":{"line":44,"column":3}}]},"2":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":4},"end":{"line":52,"column":3}},{"start":{"line":52,"column":4},"end":{"line":52,"column":3}}]},"3":{"line":52,"type":"binary-expr","locations":[{"start":{"line":52,"column":8},"end":{"line":52,"column":28}},{"start":{"line":52,"column":32},"end":{"line":52,"column":95}}]},"4":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":11},"end":{"line":54,"column":10}},{"start":{"line":54,"column":11},"end":{"line":54,"column":10}}]},"5":{"line":54,"type":"binary-expr","locations":[{"start":{"line":54,"column":15},"end":{"line":54,"column":36}},{"start":{"line":54,"column":40},"end":{"line":54,"column":102}}]},"6":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":4},"end":{"line":59,"column":3}},{"start":{"line":59,"column":4},"end":{"line":59,"column":3}}]},"7":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":11},"end":{"line":61,"column":10}},{"start":{"line":61,"column":11},"end":{"line":61,"column":10}}]},"8":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":4},"end":{"line":65,"column":3}},{"start":{"line":65,"column":4},"end":{"line":65,"column":3}}]},"9":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":4},"end":{"line":71,"column":3}},{"start":{"line":71,"column":4},"end":{"line":71,"column":3}}]},"10":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":11},"end":{"line":73,"column":10}},{"start":{"line":73,"column":11},"end":{"line":73,"column":10}}]},"11":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":11},"end":{"line":91,"column":49}},{"start":{"line":91,"column":53},"end":{"line":91,"column":115}}]},"12":{"line":96,"type":"if","locations":[{"start":{"line":96,"column":4},"end":{"line":96,"column":3}},{"start":{"line":96,"column":4},"end":{"line":96,"column":3}}]},"13":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":6},"end":{"line":98,"column":5}},{"start":{"line":98,"column":6},"end":{"line":98,"column":5}}]},"14":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":6},"end":{"line":107,"column":5}},{"start":{"line":107,"column":6},"end":{"line":107,"column":5}}]},"15":{"line":107,"type":"binary-expr","locations":[{"start":{"line":107,"column":10},"end":{"line":107,"column":51}},{"start":{"line":107,"column":55},"end":{"line":107,"column":60}}]},"16":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":6},"end":{"line":113,"column":5}},{"start":{"line":113,"column":6},"end":{"line":113,"column":5}}]},"17":{"line":120,"type":"binary-expr","locations":[{"start":{"line":120,"column":11},"end":{"line":120,"column":50}},{"start":{"line":120,"column":54},"end":{"line":120,"column":116}},{"start":{"line":120,"column":120},"end":{"line":120,"column":143}}]},"18":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":4},"end":{"line":126,"column":3}},{"start":{"line":126,"column":4},"end":{"line":126,"column":3}}]},"19":{"line":130,"type":"binary-expr","locations":[{"start":{"line":130,"column":11},"end":{"line":130,"column":50}},{"start":{"line":130,"column":54},"end":{"line":130,"column":77}}]},"20":{"line":137,"type":"if","locations":[{"start":{"line":137,"column":4},"end":{"line":137,"column":3}},{"start":{"line":137,"column":4},"end":{"line":137,"column":3}}]},"21":{"line":142,"type":"if","locations":[{"start":{"line":142,"column":4},"end":{"line":142,"column":3}},{"start":{"line":142,"column":4},"end":{"line":142,"column":3}}]},"22":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":4},"end":{"line":148,"column":3}},{"start":{"line":148,"column":4},"end":{"line":148,"column":3}}]},"23":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":6},"end":{"line":152,"column":5}},{"start":{"line":152,"column":6},"end":{"line":152,"column":5}}]},"24":{"line":169,"type":"if","locations":[{"start":{"line":169,"column":4},"end":{"line":169,"column":3}},{"start":{"line":169,"column":4},"end":{"line":169,"column":3}}]},"25":{"line":176,"type":"if","locations":[{"start":{"line":176,"column":4},"end":{"line":176,"column":3}},{"start":{"line":176,"column":4},"end":{"line":176,"column":3}}]},"26":{"line":208,"type":"if","locations":[{"start":{"line":208,"column":6},"end":{"line":208,"column":5}},{"start":{"line":208,"column":6},"end":{"line":208,"column":5}}]},"27":{"line":226,"type":"if","locations":[{"start":{"line":226,"column":6},"end":{"line":226,"column":5}},{"start":{"line":226,"column":6},"end":{"line":226,"column":5}}]},"28":{"line":228,"type":"if","locations":[{"start":{"line":228,"column":8},"end":{"line":228,"column":7}},{"start":{"line":228,"column":8},"end":{"line":228,"column":7}}]},"29":{"line":228,"type":"binary-expr","locations":[{"start":{"line":228,"column":12},"end":{"line":228,"column":60}},{"start":{"line":228,"column":64},"end":{"line":228,"column":113}},{"start":{"line":228,"column":117},"end":{"line":228,"column":159}}]},"30":{"line":242,"type":"if","locations":[{"start":{"line":242,"column":4},"end":{"line":242,"column":3}},{"start":{"line":242,"column":4},"end":{"line":242,"column":3}}]},"31":{"line":252,"type":"if","locations":[{"start":{"line":252,"column":4},"end":{"line":252,"column":3}},{"start":{"line":252,"column":4},"end":{"line":252,"column":3}}]},"32":{"line":265,"type":"if","locations":[{"start":{"line":265,"column":4},"end":{"line":265,"column":3}},{"start":{"line":265,"column":4},"end":{"line":265,"column":3}}]},"33":{"line":279,"type":"if","locations":[{"start":{"line":279,"column":8},"end":{"line":279,"column":7}},{"start":{"line":279,"column":8},"end":{"line":279,"column":7}}]},"34":{"line":280,"type":"if","locations":[{"start":{"line":280,"column":10},"end":{"line":280,"column":9}},{"start":{"line":280,"column":10},"end":{"line":280,"column":9}}]},"35":{"line":294,"type":"if","locations":[{"start":{"line":294,"column":17},"end":{"line":294,"column":16}},{"start":{"line":294,"column":17},"end":{"line":294,"column":16}}]},"36":{"line":303,"type":"if","locations":[{"start":{"line":303,"column":8},"end":{"line":303,"column":7}},{"start":{"line":303,"column":8},"end":{"line":303,"column":7}}]},"37":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":10},"end":{"line":306,"column":9}},{"start":{"line":306,"column":10},"end":{"line":306,"column":9}}]},"38":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":4},"end":{"line":317,"column":3}},{"start":{"line":317,"column":4},"end":{"line":317,"column":3}}]},"39":{"line":325,"type":"cond-expr","locations":[{"start":{"line":325,"column":64},"end":{"line":325,"column":115}},{"start":{"line":325,"column":118},"end":{"line":325,"column":122}}]},"40":{"line":343,"type":"if","locations":[{"start":{"line":343,"column":6},"end":{"line":343,"column":5}},{"start":{"line":343,"column":6},"end":{"line":343,"column":5}}]},"41":{"line":345,"type":"if","locations":[{"start":{"line":345,"column":8},"end":{"line":345,"column":7}},{"start":{"line":345,"column":8},"end":{"line":345,"column":7}}]},"42":{"line":345,"type":"binary-expr","locations":[{"start":{"line":345,"column":12},"end":{"line":345,"column":49}},{"start":{"line":345,"column":53},"end":{"line":345,"column":114}}]},"43":{"line":354,"type":"if","locations":[{"start":{"line":354,"column":4},"end":{"line":354,"column":3}},{"start":{"line":354,"column":4},"end":{"line":354,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":41,"29":41,"30":41,"31":41,"32":0,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"51":1,"52":0,"53":1,"54":0,"55":0,"56":0,"57":1,"58":0,"59":1,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":1,"74":0,"75":1,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":1,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":1,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":1,"120":0,"121":1,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":1,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":1,"136":0,"137":0,"138":0,"139":0,"140":1,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":1,"149":0,"150":0,"151":1,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":1,"159":0,"160":0,"161":0,"162":1,"163":0,"164":0,"165":0,"166":1,"167":0,"168":0,"169":0,"170":0,"171":1,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":1,"200":0,"201":0,"202":0,"203":0,"204":1,"205":0,"206":0,"207":1,"208":0,"209":0,"210":0,"211":1,"212":0,"213":1,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":1,"223":0,"224":0,"225":0,"226":1,"227":1},"b":{"1":[41,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0]},"f":{"1":1,"2":0,"3":41,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0},"code":"import {$$, Dom} from '../../utils/Dom';\nimport {InitializationEvents} from '../../events/InitializationEvents';\nimport {PopupUtils, HorizontalAlignment, VerticalAlignment} from '../../utils/PopupUtils';\nimport {EventsUtils} from '../../utils/EventsUtils';\nimport {Utils} from '../../utils/Utils';\nimport {Logger} from '../../misc/Logger';\nimport {Component} from '../Base/Component';\nimport {SearchInterface} from '../SearchInterface/SearchInterface';\nimport {Tab} from'../Tab/Tab';\nimport {IResponsiveComponent, ResponsiveComponentsManager, IResponsiveComponentOptions} from './ResponsiveComponentsManager';\nimport {ResponsiveComponentsUtils} from './ResponsiveComponentsUtils';\nimport {l} from '../../strings/Strings';\n\nexport class ResponsiveTabs implements IResponsiveComponent {\n\n  private static logger: Logger;\n\n  private dropdownHeader: Dom;\n  private dropdownContent: Dom;\n  private tabSection: Dom;\n  private previousSibling: Dom;\n  private parent: Dom;\n  private searchBoxElement: HTMLElement;\n  private coveoRoot: Dom;\n  private documentClickListener: EventListener;\n  private searchInterface: SearchInterface;\n\n  constructor(root: Dom, public ID: string) {\n    this.coveoRoot = root;\n    this.searchInterface = <SearchInterface>Component.get(root.el, SearchInterface, false);\n    this.searchBoxElement = this.getSearchBoxElement();\n    this.dropdownContent = this.buildDropdownContent();\n    this.dropdownHeader = this.buildDropdownHeader();\n    this.bindDropdownContentEvents();\n    this.bindDropdownHeaderEvents();\n    this.tabSection = $$(<HTMLElement>this.coveoRoot.find('.coveo-tab-section'));\n    this.manageTabSwapping();\n    this.saveTabsPosition();\n    this.bindNukeEvents();\n  }\n\n  public static init(root: HTMLElement, component: Component, options: IResponsiveComponentOptions) {\n    this.logger = new Logger('ResponsiveTabs');\n    if (!$$(root).find('.coveo-tab-section')) {\n      this.logger.info('No element with class coveo-tab-section. Responsive tabs cannot be enabled.');\n      return;\n    }\n    ResponsiveComponentsManager.register(ResponsiveTabs, $$(root), Tab.ID, component, options);\n  }\n\n  public handleResizeEvent(): void {\n    if (this.needSmallMode() && !ResponsiveComponentsUtils.isSmallTabsActivated(this.coveoRoot)) {\n      this.changeToSmallMode();\n    } else if (!this.needSmallMode() && ResponsiveComponentsUtils.isSmallTabsActivated(this.coveoRoot)) {\n      this.changeToLargeMode();\n    }\n\n    let tabs = this.getTabsInTabSection();\n    if (this.shouldAddTabsToDropdown()) {\n      this.addTabsToDropdown(tabs);\n    } else if (this.shouldRemoveTabsFromDropdown()) {\n      this.removeTabsFromDropdown(tabs);\n    }\n\n    if (this.dropdownHeader.hasClass('coveo-dropdown-header-active')) {\n      this.positionPopup();\n    }\n  };\n\n  public needSmallMode(): boolean {\n    if (this.coveoRoot.width() <= ResponsiveComponentsUtils.MEDIUM_MOBILE_WIDTH) {\n      return true;\n    } else if (!ResponsiveComponentsUtils.isSmallTabsActivated(this.coveoRoot)) {\n      return this.isOverflowing(this.tabSection.el);\n    } else {\n      return this.isLargeFormatOverflowing();\n    }\n  }\n\n  public changeToSmallMode(): void {\n    ResponsiveComponentsUtils.activateSmallTabs(this.coveoRoot);\n  }\n\n  public changeToLargeMode(): void {\n    this.emptyDropdown();\n    this.cleanUpDropdown();\n    ResponsiveComponentsUtils.deactivateSmallTabs(this.coveoRoot);\n  }\n\n  private shouldAddTabsToDropdown(): boolean {\n    return this.isOverflowing(this.tabSection.el) && ResponsiveComponentsUtils.isSmallTabsActivated(this.coveoRoot);\n  }\n\n  private addTabsToDropdown(tabs: HTMLElement[]): void {\n    let currentTab;\n    if (!this.tabSection.find('.coveo-tab-dropdown-header')) {\n      let facetDropdownHeader = this.tabSection.find('.coveo-facet-dropdown-header');\n      if (facetDropdownHeader) {\n        this.dropdownHeader.insertBefore(facetDropdownHeader);\n      } else {\n        this.tabSection.el.appendChild(this.dropdownHeader.el);\n      }\n    }\n    for (let i = tabs.length - 1; i >= 0; i--) {\n      currentTab = tabs[i];\n\n      if ($$(currentTab).hasClass('coveo-selected') && i > 0) {\n        currentTab = tabs[--i];\n      }\n\n      this.addToDropdown(currentTab);\n\n      if (!this.isOverflowing(this.tabSection.el)) {\n        break;\n      }\n    }\n  }\n\n  private shouldRemoveTabsFromDropdown(): boolean {\n    return !this.isOverflowing(this.tabSection.el) && ResponsiveComponentsUtils.isSmallTabsActivated(this.coveoRoot) && !this.isDropdownEmpty();\n  }\n\n  private removeTabsFromDropdown(tabs: HTMLElement[]) {\n    let dropdownTabs = this.dropdownContent.findAll('.coveo-tab-dropdown');\n    let lastTabInSection: HTMLElement, current: HTMLElement;\n    if (tabs) {\n      lastTabInSection = tabs.pop();\n    }\n\n    while (!this.isOverflowing(this.tabSection.el) && !this.isDropdownEmpty()) {\n      current = dropdownTabs.shift();\n      this.removeFromDropdown(current);\n      this.fromDropdownToTabSection($$(current), lastTabInSection);\n      lastTabInSection = _.clone(current);\n    }\n\n    if (this.isOverflowing(this.tabSection.el)) {\n      let tabs = this.getTabsInTabSection();\n      this.addToDropdown(tabs.pop());\n    }\n\n    if (this.isDropdownEmpty()) {\n      this.cleanUpDropdown();\n    }\n  }\n\n  private emptyDropdown(): void {\n    if (!this.isDropdownEmpty()) {\n      let dropdownTabs = this.dropdownContent.findAll('.coveo-tab-dropdown');\n      let tabs = this.getTabsInTabSection();\n      let lastTabInSection: HTMLElement;\n      if (tabs) {\n        lastTabInSection = tabs.pop();\n      }\n      while (!this.isDropdownEmpty()) {\n        let current = dropdownTabs.shift();\n        this.removeFromDropdown(current);\n        $$(current).insertBefore(this.dropdownHeader.el);\n        this.fromDropdownToTabSection($$(current), lastTabInSection);\n        lastTabInSection = _.clone(current);\n      }\n    }\n  }\n\n  private isLargeFormatOverflowing(): boolean {\n    let virtualTabSection = $$(<HTMLElement>this.tabSection.el.cloneNode(true));\n\n    let dropdownHeader = virtualTabSection.find('.coveo-tab-dropdown-header');\n    if (dropdownHeader) {\n      virtualTabSection.el.removeChild(dropdownHeader);\n    }\n\n    virtualTabSection.el.style.position = 'absolute';\n    virtualTabSection.el.style.visibility = 'hidden';\n\n    if (!this.isDropdownEmpty()) {\n      _.each(this.dropdownContent.findAll('.CoveoTab'), tab => {\n        virtualTabSection.el.appendChild(tab.cloneNode(true));\n      });\n    }\n\n    this.coveoRoot.append(virtualTabSection.el);\n\n    ResponsiveComponentsUtils.deactivateSmallTabs(this.coveoRoot);\n    let isOverflowing = this.isOverflowing(virtualTabSection.el);\n    ResponsiveComponentsUtils.activateSmallTabs(this.coveoRoot);\n\n\n    virtualTabSection.detach();\n    return isOverflowing;\n  }\n\n  private isOverflowing(el: HTMLElement) {\n    return el.clientWidth < el.scrollWidth;\n  }\n\n  private buildDropdownHeader(): Dom {\n    let dropdownHeader = $$('a', { className: 'coveo-dropdown-header coveo-tab-dropdown-header' });\n    let content = $$('p');\n    content.text(l('More'));\n    content.el.appendChild($$('span', { className: 'coveo-sprites-more-tabs' }).el);\n    dropdownHeader.el.appendChild(content.el);\n    return dropdownHeader;\n  }\n\n  private bindDropdownHeaderEvents() {\n    this.dropdownHeader.on('click', () => {\n      if (!this.dropdownHeader.hasClass('coveo-dropdown-header-active')) {\n        this.positionPopup();\n        this.dropdownHeader.addClass('coveo-dropdown-header-active');\n      } else {\n        this.closeDropdown();\n      }\n    });\n  }\n\n  private buildDropdownContent() {\n    let dropdownContent = $$('div', { className: 'coveo-tab-list-container ' + SearchInterface.SMALL_INTERFACE_CLASS_NAME });\n    let contentList = $$('ol', { className: 'coveo-tab-list' });\n    dropdownContent.el.appendChild(contentList.el);\n    return dropdownContent;\n  }\n\n  private bindDropdownContentEvents() {\n    this.documentClickListener = event => {\n      if (Utils.isHtmlElement(event.target)) {\n        let eventTarget = $$(<HTMLElement>event.target);\n        if (!eventTarget.closest('coveo-tab-list-container') && !eventTarget.closest('coveo-tab-dropdown-header') && !eventTarget.closest('coveo-tab-dropdown')) {\n          this.closeDropdown();\n        }\n      }\n    };\n    $$(document.documentElement).on('click', this.documentClickListener);\n  }\n\n  private closeDropdown(): void {\n    this.dropdownContent.detach();\n    this.dropdownHeader.removeClass('coveo-dropdown-header-active');\n  }\n\n  private addToDropdown(el: HTMLElement) {\n    if (this.dropdownContent) {\n      $$(el).addClass('coveo-tab-dropdown');\n      let list = this.dropdownContent.find('ol');\n      let listElement = $$('li');\n      listElement.el.appendChild(el);\n      $$(<HTMLElement>list).prepend(listElement.el);\n    }\n  }\n\n  private removeFromDropdown(el: HTMLElement) {\n    if (this.dropdownContent) {\n      $$(el).removeClass('coveo-tab-dropdown');\n      $$(el.parentElement).detach();\n    }\n  }\n\n  private cleanUpDropdown() {\n    this.dropdownHeader.removeClass('coveo-dropdown-header-active');\n    this.dropdownHeader.detach();\n    this.dropdownContent.detach();\n  }\n\n  private isDropdownEmpty(): boolean {\n    if (this.dropdownContent) {\n      let tabs = this.dropdownContent.findAll('.CoveoTab');\n      return tabs.length == 0;\n    }\n    return false;\n  }\n\n  private manageTabSwapping() {\n    _.each(this.coveoRoot.findAll('.' + Component.computeCssClassNameForType(this.ID)), tabElement => {\n      let tab = $$(tabElement);\n      let fadeOutFadeIn = (event) => {\n        let tabsInSection = this.getTabsInTabSection();\n        let lastTabInSection = tabsInSection.pop();\n        let lastTabSectionSibling = lastTabInSection.previousSibling;\n        if (event.propertyName == 'opacity') {\n          if (tab.el.style.opacity == '0') {\n\n            $$(lastTabInSection).addClass('coveo-tab-dropdown');\n            tab.replaceWith(lastTabInSection);\n            tab.removeClass('coveo-tab-dropdown');\n\n            this.fromDropdownToTabSection(tab, <HTMLElement>lastTabSectionSibling);\n\n            // Because of the DOM manipulation, sometimes the animation will not trigger. Accessing the computed styles makes sure\n            // the animation will happen.\n            window.getComputedStyle(tab.el).opacity;\n            window.getComputedStyle(lastTabInSection).opacity;\n\n            tab.el.style.opacity = lastTabInSection.style.opacity = '1';\n          } else if (tab.el.style.opacity == '1') {\n            this.closeDropdown();\n            EventsUtils.removePrefixedEvent(tab.el, 'TransitionEnd', fadeOutFadeIn);\n            this.handleResizeEvent();\n          }\n        }\n      };\n\n      tab.on('click', () => {\n        if (tab.hasClass('coveo-tab-dropdown')) {\n          let tabsInSection = this.getTabsInTabSection();\n          let lastTabInSection = tabsInSection.pop();\n          if (lastTabInSection) {\n            EventsUtils.addPrefixedEvent(tab.el, 'TransitionEnd', fadeOutFadeIn);\n            tab.el.style.opacity = lastTabInSection.style.opacity = '0';\n          }\n        }\n      })\n    });\n  }\n\n  private getSearchBoxElement(): HTMLElement {\n    let searchBoxElement = this.coveoRoot.find('.coveo-search-section');\n    if (searchBoxElement) {\n      return <HTMLElement>searchBoxElement;\n    } else {\n      return <HTMLElement>this.coveoRoot.find('.CoveoSearchbox');\n    }\n  }\n\n  private saveTabsPosition() {\n    this.previousSibling = this.tabSection.el.previousSibling ? $$(<HTMLElement>this.tabSection.el.previousSibling) : null;\n    this.parent = $$(this.tabSection.el.parentElement);\n  }\n\n  private bindNukeEvents() {\n    $$(this.coveoRoot).on(InitializationEvents.nuke, () => {\n      $$(document.documentElement).off('click', this.documentClickListener);\n    });\n  }\n\n  private positionPopup() {\n    PopupUtils.positionPopup(this.dropdownContent.el, this.dropdownHeader.el, this.coveoRoot.el,\n      { horizontal: HorizontalAlignment.INNERLEFT, vertical: VerticalAlignment.BOTTOM }, this.coveoRoot.el);\n  }\n\n  private getTabsInTabSection(): HTMLElement[] {\n    let tabsInSection = [];\n    _.each(this.tabSection.el.children, childElement => {\n      if (Utils.isHtmlElement(childElement)) {\n        let child = $$(<HTMLElement>childElement);\n        if (!child.hasClass('coveo-tab-dropdown') && child.hasClass(Component.computeCssClassNameForType(this.ID))) {\n          tabsInSection.push(child.el);\n        }\n      }\n    });\n    return tabsInSection;\n  }\n\n  private fromDropdownToTabSection(tab: Dom, lastTabInTabSection: HTMLElement) {\n    if (lastTabInTabSection) {\n      tab.insertAfter(<HTMLElement>lastTabInTabSection);\n    } else {\n      this.tabSection.prepend(tab.el);\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/ResponsiveComponents/ResponsiveTabs.ts\n **/","l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"14":1,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"42":1,"43":41,"44":41,"45":41,"46":41,"48":0,"51":1,"52":0,"53":0,"54":0,"55":0,"58":0,"59":0,"60":0,"61":0,"62":0,"65":0,"66":0,"70":1,"71":0,"72":0,"73":0,"74":0,"76":0,"80":1,"81":0,"84":1,"85":0,"86":0,"87":0,"90":1,"91":0,"94":1,"95":0,"96":0,"97":0,"98":0,"99":0,"101":0,"104":0,"105":0,"107":0,"108":0,"111":0,"113":0,"114":0,"119":1,"120":0,"123":1,"124":0,"125":0,"126":0,"127":0,"130":0,"131":0,"132":0,"133":0,"134":0,"137":0,"138":0,"139":0,"142":0,"143":0,"147":1,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"165":1,"166":0,"168":0,"169":0,"170":0,"173":0,"174":0,"176":0,"177":0,"178":0,"182":0,"184":0,"185":0,"186":0,"189":0,"190":0,"193":1,"194":0,"197":1,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"206":1,"207":0,"208":0,"209":0,"210":0,"212":0,"217":1,"218":0,"219":0,"220":0,"221":0,"224":1,"225":0,"226":0,"227":0,"228":0,"229":0,"233":0,"236":1,"237":0,"238":0,"241":1,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"251":1,"252":0,"253":0,"254":0,"258":1,"259":0,"260":0,"261":0,"264":1,"265":0,"266":0,"267":0,"269":0,"272":1,"273":0,"274":0,"275":0,"276":0,"277":0,"278":0,"279":0,"280":0,"282":0,"283":0,"284":0,"286":0,"290":0,"291":0,"293":0,"294":0,"295":0,"296":0,"297":0,"302":0,"303":0,"304":0,"305":0,"306":0,"307":0,"308":0,"315":1,"316":0,"317":0,"318":0,"320":0,"324":1,"325":0,"326":0,"329":1,"330":0,"331":0,"335":1,"336":0,"340":1,"341":0,"342":0,"343":0,"344":0,"345":0,"346":0,"350":0,"353":1,"354":0,"355":0,"357":0,"360":1}},"src/ui/FacetSlider/FacetSlider.ts":{"path":"src/ui/FacetSlider/FacetSlider.ts","statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":115}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":44}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":58}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":74}},"5":{"start":{"line":9,"column":0},"end":{"line":9,"column":49}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":40}},"7":{"start":{"line":11,"column":0},"end":{"line":11,"column":71}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":72}},"9":{"start":{"line":13,"column":0},"end":{"line":13,"column":88}},"10":{"start":{"line":14,"column":0},"end":{"line":14,"column":131}},"11":{"start":{"line":15,"column":0},"end":{"line":15,"column":110}},"12":{"start":{"line":16,"column":0},"end":{"line":16,"column":68}},"13":{"start":{"line":17,"column":0},"end":{"line":17,"column":35}},"14":{"start":{"line":18,"column":0},"end":{"line":18,"column":166}},"15":{"start":{"line":19,"column":0},"end":{"line":19,"column":61}},"16":{"start":{"line":20,"column":0},"end":{"line":20,"column":80}},"17":{"start":{"line":21,"column":0},"end":{"line":21,"column":41}},"18":{"start":{"line":22,"column":0},"end":{"line":22,"column":40}},"19":{"start":{"line":23,"column":0},"end":{"line":23,"column":92}},"20":{"start":{"line":24,"column":0},"end":{"line":24,"column":54}},"21":{"start":{"line":75,"column":0},"end":{"line":836,"column":1}},"22":{"start":{"line":75,"column":33},"end":{"line":75,"column":42}},"23":{"start":{"line":290,"column":2},"end":{"line":336,"column":3}},"24":{"start":{"line":291,"column":4},"end":{"line":291,"column":45}},"25":{"start":{"line":290,"column":21},"end":{"line":290,"column":41}},"26":{"start":{"line":290,"column":50},"end":{"line":290,"column":78}},"27":{"start":{"line":284,"column":10},"end":{"line":284,"column":26}},"28":{"start":{"line":292,"column":4},"end":{"line":292,"column":88}},"29":{"start":{"line":294,"column":4},"end":{"line":294,"column":57}},"30":{"start":{"line":296,"column":4},"end":{"line":298,"column":5}},"31":{"start":{"line":297,"column":6},"end":{"line":297,"column":46}},"32":{"start":{"line":300,"column":4},"end":{"line":302,"column":5}},"33":{"start":{"line":301,"column":6},"end":{"line":301,"column":149}},"34":{"start":{"line":304,"column":4},"end":{"line":306,"column":5}},"35":{"start":{"line":305,"column":6},"end":{"line":305,"column":143}},"36":{"start":{"line":308,"column":4},"end":{"line":317,"column":5}},"37":{"start":{"line":309,"column":6},"end":{"line":312,"column":7}},"38":{"start":{"line":310,"column":8},"end":{"line":310,"column":39}},"39":{"start":{"line":311,"column":8},"end":{"line":311,"column":108}},"40":{"start":{"line":313,"column":6},"end":{"line":316,"column":7}},"41":{"start":{"line":314,"column":8},"end":{"line":314,"column":39}},"42":{"start":{"line":315,"column":8},"end":{"line":315,"column":118}},"43":{"start":{"line":319,"column":4},"end":{"line":319,"column":69}},"44":{"start":{"line":320,"column":4},"end":{"line":320,"column":32}},"45":{"start":{"line":321,"column":4},"end":{"line":321,"column":79}},"46":{"start":{"line":321,"column":56},"end":{"line":321,"column":77}},"47":{"start":{"line":322,"column":4},"end":{"line":322,"column":81}},"48":{"start":{"line":322,"column":57},"end":{"line":322,"column":79}},"49":{"start":{"line":323,"column":4},"end":{"line":323,"column":135}},"50":{"start":{"line":323,"column":96},"end":{"line":323,"column":133}},"51":{"start":{"line":324,"column":4},"end":{"line":324,"column":122}},"52":{"start":{"line":324,"column":90},"end":{"line":324,"column":120}},"53":{"start":{"line":325,"column":4},"end":{"line":325,"column":134}},"54":{"start":{"line":325,"column":98},"end":{"line":325,"column":132}},"55":{"start":{"line":326,"column":4},"end":{"line":326,"column":142}},"56":{"start":{"line":326,"column":105},"end":{"line":326,"column":140}},"57":{"start":{"line":327,"column":4},"end":{"line":327,"column":81}},"58":{"start":{"line":327,"column":68},"end":{"line":327,"column":80}},"59":{"start":{"line":329,"column":4},"end":{"line":333,"column":12}},"60":{"start":{"line":330,"column":6},"end":{"line":332,"column":7}},"61":{"start":{"line":331,"column":8},"end":{"line":331,"column":32}},"62":{"start":{"line":334,"column":4},"end":{"line":334,"column":53}},"63":{"start":{"line":335,"column":4},"end":{"line":335,"column":65}},"64":{"start":{"line":338,"column":9},"end":{"line":349,"column":3}},"65":{"start":{"line":339,"column":4},"end":{"line":347,"column":6}},"66":{"start":{"line":348,"column":4},"end":{"line":348,"column":55}},"67":{"start":{"line":354,"column":9},"end":{"line":360,"column":3}},"68":{"start":{"line":355,"column":4},"end":{"line":359,"column":5}},"69":{"start":{"line":356,"column":6},"end":{"line":356,"column":36}},"70":{"start":{"line":357,"column":6},"end":{"line":357,"column":30}},"71":{"start":{"line":358,"column":6},"end":{"line":358,"column":46}},"72":{"start":{"line":367,"column":9},"end":{"line":373,"column":3}},"73":{"start":{"line":368,"column":4},"end":{"line":372,"column":5}},"74":{"start":{"line":369,"column":6},"end":{"line":369,"column":52}},"75":{"start":{"line":371,"column":6},"end":{"line":371,"column":36}},"76":{"start":{"line":379,"column":9},"end":{"line":385,"column":3}},"77":{"start":{"line":380,"column":4},"end":{"line":380,"column":40}},"78":{"start":{"line":381,"column":4},"end":{"line":381,"column":35}},"79":{"start":{"line":382,"column":4},"end":{"line":382,"column":33}},"80":{"start":{"line":383,"column":4},"end":{"line":383,"column":66}},"81":{"start":{"line":384,"column":4},"end":{"line":384,"column":44}},"82":{"start":{"line":391,"column":9},"end":{"line":397,"column":3}},"83":{"start":{"line":392,"column":4},"end":{"line":396,"column":105}},"84":{"start":{"line":399,"column":9},"end":{"line":411,"column":3}},"85":{"start":{"line":400,"column":4},"end":{"line":400,"column":38}},"86":{"start":{"line":401,"column":4},"end":{"line":405,"column":5}},"87":{"start":{"line":402,"column":6},"end":{"line":402,"column":35}},"88":{"start":{"line":403,"column":11},"end":{"line":405,"column":5}},"89":{"start":{"line":404,"column":6},"end":{"line":404,"column":35}},"90":{"start":{"line":406,"column":4},"end":{"line":410,"column":5}},"91":{"start":{"line":407,"column":6},"end":{"line":407,"column":37}},"92":{"start":{"line":409,"column":6},"end":{"line":409,"column":23}},"93":{"start":{"line":415,"column":9},"end":{"line":419,"column":3}},"94":{"start":{"line":416,"column":4},"end":{"line":418,"column":5}},"95":{"start":{"line":417,"column":6},"end":{"line":417,"column":51}},"96":{"start":{"line":421,"column":10},"end":{"line":424,"column":3}},"97":{"start":{"line":422,"column":4},"end":{"line":422,"column":24}},"98":{"start":{"line":423,"column":4},"end":{"line":423,"column":44}},"99":{"start":{"line":426,"column":10},"end":{"line":428,"column":3}},"100":{"start":{"line":427,"column":4},"end":{"line":427,"column":25}},"101":{"start":{"line":430,"column":10},"end":{"line":435,"column":3}},"102":{"start":{"line":431,"column":4},"end":{"line":431,"column":35}},"103":{"start":{"line":432,"column":4},"end":{"line":432,"column":89}},"104":{"start":{"line":433,"column":4},"end":{"line":433,"column":85}},"105":{"start":{"line":434,"column":4},"end":{"line":434,"column":67}},"106":{"start":{"line":437,"column":10},"end":{"line":453,"column":3}},"107":{"start":{"line":437,"column":2},"end":{"line":453,"column":3}},"108":{"start":{"line":438,"column":4},"end":{"line":444,"column":5}},"109":{"start":{"line":439,"column":6},"end":{"line":443,"column":7}},"110":{"start":{"line":440,"column":8},"end":{"line":442,"column":11}},"111":{"start":{"line":445,"column":4},"end":{"line":452,"column":5}},"112":{"start":{"line":446,"column":6},"end":{"line":446,"column":26}},"113":{"start":{"line":448,"column":6},"end":{"line":451,"column":8}},"114":{"start":{"line":449,"column":8},"end":{"line":449,"column":29}},"115":{"start":{"line":450,"column":8},"end":{"line":450,"column":65}},"116":{"start":{"line":455,"column":10},"end":{"line":491,"column":3}},"117":{"start":{"line":455,"column":2},"end":{"line":491,"column":3}},"118":{"start":{"line":456,"column":4},"end":{"line":458,"column":10}},"119":{"start":{"line":460,"column":4},"end":{"line":462,"column":7}},"120":{"start":{"line":463,"column":4},"end":{"line":463,"column":41}},"121":{"start":{"line":464,"column":4},"end":{"line":464,"column":31}},"122":{"start":{"line":466,"column":4},"end":{"line":468,"column":7}},"123":{"start":{"line":469,"column":4},"end":{"line":469,"column":32}},"124":{"start":{"line":471,"column":4},"end":{"line":473,"column":6}},"125":{"start":{"line":474,"column":4},"end":{"line":474,"column":41}},"126":{"start":{"line":475,"column":4},"end":{"line":475,"column":36}},"127":{"start":{"line":477,"column":4},"end":{"line":479,"column":7}},"128":{"start":{"line":480,"column":4},"end":{"line":480,"column":35}},"129":{"start":{"line":482,"column":4},"end":{"line":489,"column":6}},"130":{"start":{"line":483,"column":6},"end":{"line":483,"column":19}},"131":{"start":{"line":484,"column":6},"end":{"line":487,"column":9}},"132":{"start":{"line":488,"column":6},"end":{"line":488,"column":42}},"133":{"start":{"line":490,"column":4},"end":{"line":490,"column":16}},"134":{"start":{"line":493,"column":10},"end":{"line":497,"column":3}},"135":{"start":{"line":494,"column":4},"end":{"line":494,"column":23}},"136":{"start":{"line":495,"column":4},"end":{"line":495,"column":72}},"137":{"start":{"line":496,"column":4},"end":{"line":496,"column":44}},"138":{"start":{"line":499,"column":10},"end":{"line":506,"column":3}},"139":{"start":{"line":499,"column":2},"end":{"line":506,"column":3}},"140":{"start":{"line":500,"column":4},"end":{"line":500,"column":91}},"141":{"start":{"line":501,"column":4},"end":{"line":501,"column":101}},"142":{"start":{"line":502,"column":4},"end":{"line":502,"column":114}},"143":{"start":{"line":503,"column":4},"end":{"line":505,"column":6}},"144":{"start":{"line":504,"column":6},"end":{"line":504,"column":108}},"145":{"start":{"line":508,"column":10},"end":{"line":510,"column":3}},"146":{"start":{"line":509,"column":4},"end":{"line":509,"column":57}},"147":{"start":{"line":512,"column":10},"end":{"line":537,"column":3}},"148":{"start":{"line":512,"column":2},"end":{"line":537,"column":3}},"149":{"start":{"line":513,"column":4},"end":{"line":515,"column":10}},"150":{"start":{"line":517,"column":4},"end":{"line":519,"column":5}},"151":{"start":{"line":518,"column":6},"end":{"line":518,"column":55}},"152":{"start":{"line":520,"column":4},"end":{"line":520,"column":33}},"153":{"start":{"line":522,"column":4},"end":{"line":522,"column":118}},"154":{"start":{"line":523,"column":4},"end":{"line":525,"column":7}},"155":{"start":{"line":524,"column":6},"end":{"line":524,"column":32}},"156":{"start":{"line":526,"column":4},"end":{"line":528,"column":7}},"157":{"start":{"line":527,"column":6},"end":{"line":527,"column":35}},"158":{"start":{"line":529,"column":4},"end":{"line":533,"column":5}},"159":{"start":{"line":530,"column":6},"end":{"line":532,"column":8}},"160":{"start":{"line":531,"column":8},"end":{"line":531,"column":44}},"161":{"start":{"line":534,"column":4},"end":{"line":534,"column":43}},"162":{"start":{"line":535,"column":4},"end":{"line":535,"column":46}},"163":{"start":{"line":536,"column":4},"end":{"line":536,"column":44}},"164":{"start":{"line":539,"column":10},"end":{"line":551,"column":3}},"165":{"start":{"line":540,"column":4},"end":{"line":540,"column":24}},"166":{"start":{"line":541,"column":4},"end":{"line":541,"column":37}},"167":{"start":{"line":542,"column":4},"end":{"line":542,"column":52}},"168":{"start":{"line":543,"column":4},"end":{"line":550,"column":5}},"169":{"start":{"line":544,"column":6},"end":{"line":544,"column":53}},"170":{"start":{"line":545,"column":6},"end":{"line":545,"column":86}},"171":{"start":{"line":546,"column":6},"end":{"line":549,"column":7}},"172":{"start":{"line":547,"column":8},"end":{"line":547,"column":65}},"173":{"start":{"line":548,"column":8},"end":{"line":548,"column":61}},"174":{"start":{"line":553,"column":10},"end":{"line":556,"column":3}},"175":{"start":{"line":554,"column":4},"end":{"line":554,"column":41}},"176":{"start":{"line":555,"column":4},"end":{"line":555,"column":71}},"177":{"start":{"line":558,"column":10},"end":{"line":569,"column":3}},"178":{"start":{"line":559,"column":4},"end":{"line":559,"column":21}},"179":{"start":{"line":560,"column":4},"end":{"line":560,"column":35}},"180":{"start":{"line":561,"column":4},"end":{"line":561,"column":104}},"181":{"start":{"line":562,"column":4},"end":{"line":564,"column":5}},"182":{"start":{"line":563,"column":6},"end":{"line":563,"column":26}},"183":{"start":{"line":565,"column":4},"end":{"line":565,"column":44}},"184":{"start":{"line":566,"column":4},"end":{"line":568,"column":5}},"185":{"start":{"line":567,"column":6},"end":{"line":567,"column":37}},"186":{"start":{"line":571,"column":10},"end":{"line":584,"column":3}},"187":{"start":{"line":572,"column":4},"end":{"line":572,"column":41}},"188":{"start":{"line":573,"column":4},"end":{"line":573,"column":35}},"189":{"start":{"line":574,"column":4},"end":{"line":574,"column":33}},"190":{"start":{"line":575,"column":4},"end":{"line":583,"column":5}},"191":{"start":{"line":576,"column":6},"end":{"line":576,"column":46}},"192":{"start":{"line":577,"column":6},"end":{"line":581,"column":9}},"193":{"start":{"line":582,"column":6},"end":{"line":582,"column":42}},"194":{"start":{"line":586,"column":10},"end":{"line":592,"column":3}},"195":{"start":{"line":587,"column":4},"end":{"line":587,"column":41}},"196":{"start":{"line":588,"column":4},"end":{"line":588,"column":35}},"197":{"start":{"line":589,"column":4},"end":{"line":589,"column":33}},"198":{"start":{"line":590,"column":4},"end":{"line":590,"column":66}},"199":{"start":{"line":591,"column":4},"end":{"line":591,"column":48}},"200":{"start":{"line":594,"column":10},"end":{"line":609,"column":3}},"201":{"start":{"line":595,"column":4},"end":{"line":608,"column":5}},"202":{"start":{"line":596,"column":6},"end":{"line":598,"column":7}},"203":{"start":{"line":597,"column":8},"end":{"line":597,"column":40}},"204":{"start":{"line":599,"column":6},"end":{"line":599,"column":34}},"205":{"start":{"line":600,"column":6},"end":{"line":600,"column":68}},"206":{"start":{"line":601,"column":6},"end":{"line":601,"column":30}},"207":{"start":{"line":602,"column":6},"end":{"line":606,"column":9}},"208":{"start":{"line":607,"column":6},"end":{"line":607,"column":42}},"209":{"start":{"line":611,"column":10},"end":{"line":623,"column":3}},"210":{"start":{"line":611,"column":27},"end":{"line":611,"column":59}},"211":{"start":{"line":611,"column":61},"end":{"line":611,"column":75}},"212":{"start":{"line":612,"column":4},"end":{"line":612,"column":47}},"213":{"start":{"line":613,"column":4},"end":{"line":613,"column":32}},"214":{"start":{"line":614,"column":4},"end":{"line":614,"column":30}},"215":{"start":{"line":615,"column":4},"end":{"line":615,"column":82}},"216":{"start":{"line":616,"column":4},"end":{"line":621,"column":5}},"217":{"start":{"line":617,"column":6},"end":{"line":617,"column":30}},"218":{"start":{"line":618,"column":6},"end":{"line":618,"column":28}},"219":{"start":{"line":619,"column":6},"end":{"line":619,"column":96}},"220":{"start":{"line":620,"column":6},"end":{"line":620,"column":18}},"221":{"start":{"line":622,"column":4},"end":{"line":622,"column":17}},"222":{"start":{"line":625,"column":10},"end":{"line":632,"column":3}},"223":{"start":{"line":628,"column":4},"end":{"line":628,"column":26}},"224":{"start":{"line":629,"column":4},"end":{"line":629,"column":46}},"225":{"start":{"line":630,"column":4},"end":{"line":630,"column":46}},"226":{"start":{"line":631,"column":4},"end":{"line":631,"column":23}},"227":{"start":{"line":634,"column":10},"end":{"line":667,"column":3}},"228":{"start":{"line":634,"column":2},"end":{"line":667,"column":3}},"229":{"start":{"line":635,"column":4},"end":{"line":635,"column":108}},"230":{"start":{"line":636,"column":4},"end":{"line":636,"column":38}},"231":{"start":{"line":637,"column":4},"end":{"line":637,"column":30}},"232":{"start":{"line":638,"column":4},"end":{"line":658,"column":5}},"233":{"start":{"line":639,"column":6},"end":{"line":657,"column":8}},"234":{"start":{"line":640,"column":8},"end":{"line":640,"column":51}},"235":{"start":{"line":641,"column":8},"end":{"line":641,"column":52}},"236":{"start":{"line":642,"column":8},"end":{"line":642,"column":50}},"237":{"start":{"line":643,"column":8},"end":{"line":649,"column":9}},"238":{"start":{"line":644,"column":10},"end":{"line":644,"column":32}},"239":{"start":{"line":645,"column":10},"end":{"line":645,"column":28}},"240":{"start":{"line":647,"column":10},"end":{"line":647,"column":58}},"241":{"start":{"line":648,"column":10},"end":{"line":648,"column":54}},"242":{"start":{"line":650,"column":8},"end":{"line":650,"column":38}},"243":{"start":{"line":651,"column":8},"end":{"line":656,"column":9}},"244":{"start":{"line":659,"column":4},"end":{"line":666,"column":5}},"245":{"start":{"line":660,"column":6},"end":{"line":660,"column":26}},"246":{"start":{"line":661,"column":6},"end":{"line":661,"column":46}},"247":{"start":{"line":662,"column":11},"end":{"line":666,"column":5}},"248":{"start":{"line":663,"column":6},"end":{"line":663,"column":39}},"249":{"start":{"line":664,"column":11},"end":{"line":666,"column":5}},"250":{"start":{"line":665,"column":6},"end":{"line":665,"column":40}},"251":{"start":{"line":669,"column":10},"end":{"line":675,"column":3}},"252":{"start":{"line":670,"column":4},"end":{"line":670,"column":71}},"253":{"start":{"line":671,"column":4},"end":{"line":673,"column":5}},"254":{"start":{"line":672,"column":6},"end":{"line":672,"column":69}},"255":{"start":{"line":674,"column":4},"end":{"line":674,"column":17}},"256":{"start":{"line":677,"column":10},"end":{"line":690,"column":3}},"257":{"start":{"line":678,"column":4},"end":{"line":689,"column":5}},"258":{"start":{"line":680,"column":6},"end":{"line":680,"column":46}},"259":{"start":{"line":683,"column":6},"end":{"line":683,"column":55}},"260":{"start":{"line":684,"column":6},"end":{"line":688,"column":7}},"261":{"start":{"line":685,"column":8},"end":{"line":685,"column":48}},"262":{"start":{"line":687,"column":8},"end":{"line":687,"column":24}},"263":{"start":{"line":692,"column":10},"end":{"line":701,"column":3}},"264":{"start":{"line":693,"column":4},"end":{"line":693,"column":19}},"265":{"start":{"line":694,"column":4},"end":{"line":696,"column":5}},"266":{"start":{"line":695,"column":6},"end":{"line":695,"column":33}},"267":{"start":{"line":697,"column":4},"end":{"line":699,"column":5}},"268":{"start":{"line":698,"column":6},"end":{"line":698,"column":29}},"269":{"start":{"line":700,"column":4},"end":{"line":700,"column":24}},"270":{"start":{"line":703,"column":10},"end":{"line":718,"column":3}},"271":{"start":{"line":704,"column":4},"end":{"line":704,"column":19}},"272":{"start":{"line":705,"column":4},"end":{"line":705,"column":84}},"273":{"start":{"line":706,"column":4},"end":{"line":708,"column":5}},"274":{"start":{"line":707,"column":6},"end":{"line":707,"column":29}},"275":{"start":{"line":709,"column":4},"end":{"line":709,"column":82}},"276":{"start":{"line":710,"column":4},"end":{"line":712,"column":5}},"277":{"start":{"line":711,"column":6},"end":{"line":711,"column":25}},"278":{"start":{"line":713,"column":4},"end":{"line":717,"column":5}},"279":{"start":{"line":714,"column":6},"end":{"line":714,"column":26}},"280":{"start":{"line":716,"column":6},"end":{"line":716,"column":36}},"281":{"start":{"line":720,"column":10},"end":{"line":739,"column":3}},"282":{"start":{"line":721,"column":4},"end":{"line":721,"column":21}},"283":{"start":{"line":722,"column":4},"end":{"line":738,"column":5}},"284":{"start":{"line":723,"column":6},"end":{"line":725,"column":7}},"285":{"start":{"line":724,"column":8},"end":{"line":724,"column":47}},"286":{"start":{"line":726,"column":6},"end":{"line":728,"column":7}},"287":{"start":{"line":727,"column":8},"end":{"line":727,"column":55}},"288":{"start":{"line":729,"column":6},"end":{"line":729,"column":43}},"289":{"start":{"line":730,"column":6},"end":{"line":730,"column":39}},"290":{"start":{"line":731,"column":6},"end":{"line":731,"column":41}},"291":{"start":{"line":732,"column":6},"end":{"line":737,"column":7}},"292":{"start":{"line":733,"column":8},"end":{"line":733,"column":82}},"293":{"start":{"line":735,"column":8},"end":{"line":735,"column":26}},"294":{"start":{"line":736,"column":8},"end":{"line":736,"column":32}},"295":{"start":{"line":741,"column":10},"end":{"line":748,"column":3}},"296":{"start":{"line":742,"column":4},"end":{"line":742,"column":22}},"297":{"start":{"line":743,"column":4},"end":{"line":743,"column":64}},"298":{"start":{"line":744,"column":4},"end":{"line":744,"column":58}},"299":{"start":{"line":745,"column":4},"end":{"line":745,"column":62}},"300":{"start":{"line":746,"column":4},"end":{"line":746,"column":56}},"301":{"start":{"line":747,"column":4},"end":{"line":747,"column":21}},"302":{"start":{"line":750,"column":10},"end":{"line":762,"column":3}},"303":{"start":{"line":751,"column":4},"end":{"line":761,"column":5}},"304":{"start":{"line":752,"column":6},"end":{"line":752,"column":144}},"305":{"start":{"line":754,"column":6},"end":{"line":754,"column":68}},"306":{"start":{"line":755,"column":6},"end":{"line":755,"column":64}},"307":{"start":{"line":756,"column":6},"end":{"line":756,"column":116}},"308":{"start":{"line":757,"column":6},"end":{"line":757,"column":108}},"309":{"start":{"line":758,"column":6},"end":{"line":758,"column":53}},"310":{"start":{"line":759,"column":6},"end":{"line":759,"column":49}},"311":{"start":{"line":760,"column":6},"end":{"line":760,"column":126}},"312":{"start":{"line":764,"column":10},"end":{"line":766,"column":3}},"313":{"start":{"line":765,"column":4},"end":{"line":765,"column":76}},"314":{"start":{"line":768,"column":10},"end":{"line":775,"column":3}},"315":{"start":{"line":769,"column":4},"end":{"line":771,"column":5}},"316":{"start":{"line":770,"column":6},"end":{"line":770,"column":60}},"317":{"start":{"line":772,"column":4},"end":{"line":774,"column":5}},"318":{"start":{"line":773,"column":6},"end":{"line":773,"column":55}},"319":{"start":{"line":777,"column":10},"end":{"line":787,"column":3}},"320":{"start":{"line":778,"column":4},"end":{"line":778,"column":104}},"321":{"start":{"line":779,"column":4},"end":{"line":786,"column":5}},"322":{"start":{"line":780,"column":6},"end":{"line":780,"column":46}},"323":{"start":{"line":781,"column":6},"end":{"line":781,"column":46}},"324":{"start":{"line":782,"column":6},"end":{"line":782,"column":56}},"325":{"start":{"line":783,"column":6},"end":{"line":783,"column":54}},"326":{"start":{"line":784,"column":6},"end":{"line":784,"column":42}},"327":{"start":{"line":785,"column":6},"end":{"line":785,"column":40}},"328":{"start":{"line":789,"column":10},"end":{"line":795,"column":3}},"329":{"start":{"line":790,"column":4},"end":{"line":790,"column":104}},"330":{"start":{"line":791,"column":4},"end":{"line":794,"column":5}},"331":{"start":{"line":792,"column":6},"end":{"line":792,"column":87}},"332":{"start":{"line":793,"column":6},"end":{"line":793,"column":116}},"333":{"start":{"line":797,"column":10},"end":{"line":804,"column":3}},"334":{"start":{"line":798,"column":4},"end":{"line":803,"column":5}},"335":{"start":{"line":799,"column":6},"end":{"line":799,"column":40}},"336":{"start":{"line":800,"column":6},"end":{"line":802,"column":7}},"337":{"start":{"line":801,"column":8},"end":{"line":801,"column":80}},"338":{"start":{"line":806,"column":10},"end":{"line":813,"column":3}},"339":{"start":{"line":807,"column":4},"end":{"line":812,"column":5}},"340":{"start":{"line":808,"column":6},"end":{"line":808,"column":38}},"341":{"start":{"line":809,"column":6},"end":{"line":811,"column":7}},"342":{"start":{"line":810,"column":8},"end":{"line":810,"column":78}},"343":{"start":{"line":815,"column":10},"end":{"line":817,"column":3}},"344":{"start":{"line":816,"column":4},"end":{"line":816,"column":43}},"345":{"start":{"line":819,"column":10},"end":{"line":831,"column":3}},"346":{"start":{"line":819,"column":43},"end":{"line":819,"column":58}},"347":{"start":{"line":820,"column":4},"end":{"line":825,"column":5}},"348":{"start":{"line":821,"column":6},"end":{"line":821,"column":56}},"349":{"start":{"line":823,"column":6},"end":{"line":823,"column":59}},"350":{"start":{"line":824,"column":6},"end":{"line":824,"column":65}},"351":{"start":{"line":826,"column":4},"end":{"line":830,"column":5}},"352":{"start":{"line":827,"column":6},"end":{"line":827,"column":50}},"353":{"start":{"line":829,"column":6},"end":{"line":829,"column":53}},"354":{"start":{"line":833,"column":10},"end":{"line":835,"column":3}},"355":{"start":{"line":834,"column":4},"end":{"line":834,"column":56}},"356":{"start":{"line":81,"column":9},"end":{"line":272,"column":4}},"357":{"start":{"line":105,"column":63},"end":{"line":105,"column":85}},"358":{"start":{"line":228,"column":6},"end":{"line":228,"column":18}},"359":{"start":{"line":256,"column":6},"end":{"line":256,"column":18}},"360":{"start":{"line":274,"column":9},"end":{"line":274,"column":28}},"361":{"start":{"line":836,"column":0},"end":{"line":836,"column":1}},"362":{"start":{"line":75,"column":13},"end":{"line":836,"column":1}},"363":{"start":{"line":837,"column":0},"end":{"line":837,"column":56}}},"fnMap":{"1":{"name":"(anonymous_3432)","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":47}}},"2":{"name":"(anonymous_3435)","line":75,"loc":{"start":{"line":75,"column":0},"end":{"line":null,"column":-1}}},"3":{"name":"FacetSlider","line":290,"loc":{"start":{"line":290,"column":2},"end":{"line":290,"column":109}}},"4":{"name":"(anonymous_3437)","line":321,"loc":{"start":{"line":321,"column":50},"end":{"line":321,"column":55}}},"5":{"name":"(anonymous_3438)","line":322,"loc":{"start":{"line":322,"column":51},"end":{"line":322,"column":56}}},"6":{"name":"(anonymous_3439)","line":323,"loc":{"start":{"line":323,"column":62},"end":{"line":323,"column":91}}},"7":{"name":"(anonymous_3440)","line":324,"loc":{"start":{"line":324,"column":55},"end":{"line":324,"column":85}}},"8":{"name":"(anonymous_3441)","line":325,"loc":{"start":{"line":325,"column":59},"end":{"line":325,"column":93}}},"9":{"name":"(anonymous_3442)","line":326,"loc":{"start":{"line":326,"column":65},"end":{"line":326,"column":100}}},"10":{"name":"(anonymous_3443)","line":327,"loc":{"start":{"line":327,"column":62},"end":{"line":327,"column":67}}},"11":{"name":"(anonymous_3444)","line":329,"loc":{"start":{"line":329,"column":31},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_3445)","line":338,"loc":{"start":{"line":338,"column":2},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_3446)","line":354,"loc":{"start":{"line":354,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_3447)","line":367,"loc":{"start":{"line":367,"column":2},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_3448)","line":379,"loc":{"start":{"line":379,"column":2},"end":{"line":379,"column":43}}},"16":{"name":"(anonymous_3449)","line":391,"loc":{"start":{"line":391,"column":2},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_3450)","line":399,"loc":{"start":{"line":399,"column":2},"end":{"line":null,"column":-1}}},"18":{"name":"(anonymous_3451)","line":415,"loc":{"start":{"line":415,"column":2},"end":{"line":null,"column":-1}}},"19":{"name":"(anonymous_3452)","line":421,"loc":{"start":{"line":421,"column":2},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_3453)","line":426,"loc":{"start":{"line":426,"column":2},"end":{"line":null,"column":-1}}},"21":{"name":"(anonymous_3454)","line":430,"loc":{"start":{"line":430,"column":2},"end":{"line":430,"column":70}}},"22":{"name":"(anonymous_3455)","line":437,"loc":{"start":{"line":437,"column":2},"end":{"line":437,"column":69}}},"23":{"name":"(anonymous_3456)","line":438,"loc":{"start":{"line":438,"column":29},"end":{"line":null,"column":-1}}},"24":{"name":"(anonymous_3457)","line":448,"loc":{"start":{"line":448,"column":58},"end":{"line":null,"column":-1}}},"25":{"name":"(anonymous_3458)","line":455,"loc":{"start":{"line":455,"column":2},"end":{"line":null,"column":-1}}},"26":{"name":"(anonymous_3459)","line":482,"loc":{"start":{"line":482,"column":22},"end":{"line":null,"column":-1}}},"27":{"name":"(anonymous_3460)","line":493,"loc":{"start":{"line":493,"column":2},"end":{"line":null,"column":-1}}},"28":{"name":"(anonymous_3461)","line":499,"loc":{"start":{"line":499,"column":2},"end":{"line":null,"column":-1}}},"29":{"name":"(anonymous_3462)","line":503,"loc":{"start":{"line":503,"column":39},"end":{"line":503,"column":71}}},"30":{"name":"(anonymous_3463)","line":508,"loc":{"start":{"line":508,"column":2},"end":{"line":508,"column":76}}},"31":{"name":"(anonymous_3464)","line":512,"loc":{"start":{"line":512,"column":2},"end":{"line":null,"column":-1}}},"32":{"name":"(anonymous_3465)","line":523,"loc":{"start":{"line":523,"column":44},"end":{"line":523,"column":84}}},"33":{"name":"(anonymous_3466)","line":526,"loc":{"start":{"line":526,"column":47},"end":{"line":526,"column":90}}},"34":{"name":"(anonymous_3467)","line":530,"loc":{"start":{"line":530,"column":56},"end":{"line":530,"column":101}}},"35":{"name":"(anonymous_3468)","line":539,"loc":{"start":{"line":539,"column":2},"end":{"line":539,"column":59}}},"36":{"name":"(anonymous_3469)","line":553,"loc":{"start":{"line":553,"column":2},"end":{"line":553,"column":67}}},"37":{"name":"(anonymous_3470)","line":558,"loc":{"start":{"line":558,"column":2},"end":{"line":558,"column":65}}},"38":{"name":"(anonymous_3471)","line":571,"loc":{"start":{"line":571,"column":2},"end":{"line":571,"column":49}}},"39":{"name":"(anonymous_3472)","line":586,"loc":{"start":{"line":586,"column":2},"end":{"line":586,"column":55}}},"40":{"name":"(anonymous_3473)","line":594,"loc":{"start":{"line":594,"column":2},"end":{"line":594,"column":64}}},"41":{"name":"(anonymous_3474)","line":611,"loc":{"start":{"line":611,"column":2},"end":{"line":611,"column":75}}},"42":{"name":"(anonymous_3475)","line":625,"loc":{"start":{"line":625,"column":2},"end":{"line":625,"column":37}}},"43":{"name":"(anonymous_3476)","line":634,"loc":{"start":{"line":634,"column":2},"end":{"line":634,"column":58}}},"44":{"name":"(anonymous_3477)","line":639,"loc":{"start":{"line":639,"column":50},"end":{"line":639,"column":56}}},"45":{"name":"(anonymous_3478)","line":669,"loc":{"start":{"line":669,"column":2},"end":{"line":null,"column":-1}}},"46":{"name":"(anonymous_3479)","line":677,"loc":{"start":{"line":677,"column":2},"end":{"line":null,"column":-1}}},"47":{"name":"(anonymous_3480)","line":692,"loc":{"start":{"line":692,"column":2},"end":{"line":null,"column":-1}}},"48":{"name":"(anonymous_3481)","line":703,"loc":{"start":{"line":703,"column":2},"end":{"line":null,"column":-1}}},"49":{"name":"(anonymous_3482)","line":720,"loc":{"start":{"line":720,"column":2},"end":{"line":720,"column":39}}},"50":{"name":"(anonymous_3483)","line":741,"loc":{"start":{"line":741,"column":2},"end":{"line":null,"column":-1}}},"51":{"name":"(anonymous_3484)","line":750,"loc":{"start":{"line":750,"column":2},"end":{"line":null,"column":-1}}},"52":{"name":"(anonymous_3485)","line":764,"loc":{"start":{"line":764,"column":2},"end":{"line":null,"column":-1}}},"53":{"name":"(anonymous_3486)","line":768,"loc":{"start":{"line":768,"column":2},"end":{"line":null,"column":-1}}},"54":{"name":"(anonymous_3487)","line":777,"loc":{"start":{"line":777,"column":2},"end":{"line":null,"column":-1}}},"55":{"name":"(anonymous_3488)","line":789,"loc":{"start":{"line":789,"column":2},"end":{"line":789,"column":74}}},"56":{"name":"(anonymous_3489)","line":797,"loc":{"start":{"line":797,"column":2},"end":{"line":797,"column":49}}},"57":{"name":"(anonymous_3490)","line":806,"loc":{"start":{"line":806,"column":2},"end":{"line":806,"column":47}}},"58":{"name":"(anonymous_3491)","line":815,"loc":{"start":{"line":815,"column":2},"end":{"line":null,"column":-1}}},"59":{"name":"(anonymous_3492)","line":819,"loc":{"start":{"line":819,"column":2},"end":{"line":819,"column":58}}},"60":{"name":"(anonymous_3493)","line":833,"loc":{"start":{"line":833,"column":2},"end":{"line":null,"column":-1}}},"61":{"name":"(anonymous_3494)","line":105,"loc":{"start":{"line":105,"column":22},"end":{"line":105,"column":58}}},"62":{"name":"(anonymous_3495)","line":227,"loc":{"start":{"line":227,"column":91},"end":{"line":null,"column":-1}}},"63":{"name":"(anonymous_3496)","line":255,"loc":{"start":{"line":255,"column":83},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":296,"type":"if","locations":[{"start":{"line":296,"column":4},"end":{"line":296,"column":3}},{"start":{"line":296,"column":4},"end":{"line":296,"column":3}}]},"2":{"line":300,"type":"if","locations":[{"start":{"line":300,"column":4},"end":{"line":300,"column":3}},{"start":{"line":300,"column":4},"end":{"line":300,"column":3}}]},"3":{"line":301,"type":"cond-expr","locations":[{"start":{"line":301,"column":57},"end":{"line":301,"column":114}},{"start":{"line":301,"column":122},"end":{"line":301,"column":148}}]},"4":{"line":304,"type":"if","locations":[{"start":{"line":304,"column":4},"end":{"line":304,"column":3}},{"start":{"line":304,"column":4},"end":{"line":304,"column":3}}]},"5":{"line":305,"type":"cond-expr","locations":[{"start":{"line":305,"column":55},"end":{"line":305,"column":110}},{"start":{"line":305,"column":118},"end":{"line":305,"column":142}}]},"6":{"line":308,"type":"if","locations":[{"start":{"line":308,"column":4},"end":{"line":308,"column":3}},{"start":{"line":308,"column":4},"end":{"line":308,"column":3}}]},"7":{"line":309,"type":"if","locations":[{"start":{"line":309,"column":6},"end":{"line":309,"column":5}},{"start":{"line":309,"column":6},"end":{"line":309,"column":5}}]},"8":{"line":313,"type":"if","locations":[{"start":{"line":313,"column":6},"end":{"line":313,"column":5}},{"start":{"line":313,"column":6},"end":{"line":313,"column":5}}]},"9":{"line":330,"type":"if","locations":[{"start":{"line":330,"column":6},"end":{"line":330,"column":5}},{"start":{"line":330,"column":6},"end":{"line":330,"column":5}}]},"10":{"line":330,"type":"binary-expr","locations":[{"start":{"line":330,"column":10},"end":{"line":330,"column":73}},{"start":{"line":330,"column":77},"end":{"line":330,"column":88}}]},"11":{"line":355,"type":"if","locations":[{"start":{"line":355,"column":4},"end":{"line":355,"column":3}},{"start":{"line":355,"column":4},"end":{"line":355,"column":3}}]},"12":{"line":368,"type":"if","locations":[{"start":{"line":368,"column":4},"end":{"line":368,"column":3}},{"start":{"line":368,"column":4},"end":{"line":368,"column":3}}]},"13":{"line":368,"type":"binary-expr","locations":[{"start":{"line":368,"column":8},"end":{"line":368,"column":39}},{"start":{"line":368,"column":43},"end":{"line":368,"column":72}}]},"14":{"line":392,"type":"binary-expr","locations":[{"start":{"line":392,"column":11},"end":{"line":392,"column":37}},{"start":{"line":393,"column":9},"end":{"line":393,"column":33}},{"start":{"line":394,"column":9},"end":{"line":394,"column":42}},{"start":{"line":395,"column":9},"end":{"line":395,"column":40}},{"start":{"line":396,"column":10},"end":{"line":396,"column":57}},{"start":{"line":396,"column":61},"end":{"line":396,"column":104}}]},"15":{"line":401,"type":"if","locations":[{"start":{"line":401,"column":4},"end":{"line":401,"column":3}},{"start":{"line":401,"column":4},"end":{"line":401,"column":3}}]},"16":{"line":403,"type":"if","locations":[{"start":{"line":403,"column":11},"end":{"line":403,"column":10}},{"start":{"line":403,"column":11},"end":{"line":403,"column":10}}]},"17":{"line":403,"type":"binary-expr","locations":[{"start":{"line":403,"column":15},"end":{"line":403,"column":26}},{"start":{"line":403,"column":30},"end":{"line":403,"column":45}}]},"18":{"line":406,"type":"if","locations":[{"start":{"line":406,"column":4},"end":{"line":406,"column":3}},{"start":{"line":406,"column":4},"end":{"line":406,"column":3}}]},"19":{"line":416,"type":"if","locations":[{"start":{"line":416,"column":4},"end":{"line":416,"column":3}},{"start":{"line":416,"column":4},"end":{"line":416,"column":3}}]},"20":{"line":432,"type":"cond-expr","locations":[{"start":{"line":432,"column":54},"end":{"line":432,"column":72}},{"start":{"line":432,"column":75},"end":{"line":432,"column":88}}]},"21":{"line":433,"type":"cond-expr","locations":[{"start":{"line":433,"column":52},"end":{"line":433,"column":68}},{"start":{"line":433,"column":71},"end":{"line":433,"column":84}}]},"22":{"line":439,"type":"if","locations":[{"start":{"line":439,"column":6},"end":{"line":439,"column":5}},{"start":{"line":439,"column":6},"end":{"line":439,"column":5}}]},"23":{"line":445,"type":"if","locations":[{"start":{"line":445,"column":4},"end":{"line":445,"column":3}},{"start":{"line":445,"column":4},"end":{"line":445,"column":3}}]},"24":{"line":504,"type":"cond-expr","locations":[{"start":{"line":504,"column":20},"end":{"line":504,"column":59}},{"start":{"line":504,"column":62},"end":{"line":504,"column":107}}]},"25":{"line":517,"type":"if","locations":[{"start":{"line":517,"column":4},"end":{"line":517,"column":3}},{"start":{"line":517,"column":4},"end":{"line":517,"column":3}}]},"26":{"line":529,"type":"if","locations":[{"start":{"line":529,"column":4},"end":{"line":529,"column":3}},{"start":{"line":529,"column":4},"end":{"line":529,"column":3}}]},"27":{"line":543,"type":"if","locations":[{"start":{"line":543,"column":4},"end":{"line":543,"column":3}},{"start":{"line":543,"column":4},"end":{"line":543,"column":3}}]},"28":{"line":546,"type":"if","locations":[{"start":{"line":546,"column":6},"end":{"line":546,"column":5}},{"start":{"line":546,"column":6},"end":{"line":546,"column":5}}]},"29":{"line":562,"type":"if","locations":[{"start":{"line":562,"column":4},"end":{"line":562,"column":3}},{"start":{"line":562,"column":4},"end":{"line":562,"column":3}}]},"30":{"line":562,"type":"binary-expr","locations":[{"start":{"line":562,"column":8},"end":{"line":562,"column":35}},{"start":{"line":562,"column":39},"end":{"line":562,"column":76}}]},"31":{"line":566,"type":"if","locations":[{"start":{"line":566,"column":4},"end":{"line":566,"column":3}},{"start":{"line":566,"column":4},"end":{"line":566,"column":3}}]},"32":{"line":575,"type":"if","locations":[{"start":{"line":575,"column":4},"end":{"line":575,"column":3}},{"start":{"line":575,"column":4},"end":{"line":575,"column":3}}]},"33":{"line":595,"type":"if","locations":[{"start":{"line":595,"column":4},"end":{"line":595,"column":3}},{"start":{"line":595,"column":4},"end":{"line":595,"column":3}}]},"34":{"line":595,"type":"binary-expr","locations":[{"start":{"line":595,"column":9},"end":{"line":595,"column":33}},{"start":{"line":595,"column":37},"end":{"line":595,"column":69}},{"start":{"line":595,"column":74},"end":{"line":595,"column":102}}]},"35":{"line":596,"type":"if","locations":[{"start":{"line":596,"column":6},"end":{"line":596,"column":5}},{"start":{"line":596,"column":6},"end":{"line":596,"column":5}}]},"36":{"line":611,"type":"if","locations":[{"start":{"line":611,"column":27},"end":{"line":611,"column":26}},{"start":{"line":611,"column":27},"end":{"line":611,"column":26}}]},"37":{"line":611,"type":"if","locations":[{"start":{"line":611,"column":61},"end":{"line":611,"column":60}},{"start":{"line":611,"column":61},"end":{"line":611,"column":60}}]},"38":{"line":616,"type":"if","locations":[{"start":{"line":616,"column":4},"end":{"line":616,"column":3}},{"start":{"line":616,"column":4},"end":{"line":616,"column":3}}]},"39":{"line":616,"type":"binary-expr","locations":[{"start":{"line":616,"column":8},"end":{"line":616,"column":21}},{"start":{"line":616,"column":25},"end":{"line":616,"column":52}},{"start":{"line":616,"column":56},"end":{"line":616,"column":83}}]},"40":{"line":638,"type":"if","locations":[{"start":{"line":638,"column":4},"end":{"line":638,"column":3}},{"start":{"line":638,"column":4},"end":{"line":638,"column":3}}]},"41":{"line":643,"type":"if","locations":[{"start":{"line":643,"column":8},"end":{"line":643,"column":7}},{"start":{"line":643,"column":8},"end":{"line":643,"column":7}}]},"42":{"line":659,"type":"if","locations":[{"start":{"line":659,"column":4},"end":{"line":659,"column":3}},{"start":{"line":659,"column":4},"end":{"line":659,"column":3}}]},"43":{"line":662,"type":"if","locations":[{"start":{"line":662,"column":11},"end":{"line":662,"column":10}},{"start":{"line":662,"column":11},"end":{"line":662,"column":10}}]},"44":{"line":662,"type":"binary-expr","locations":[{"start":{"line":662,"column":15},"end":{"line":662,"column":37}},{"start":{"line":662,"column":41},"end":{"line":662,"column":70}}]},"45":{"line":664,"type":"if","locations":[{"start":{"line":664,"column":11},"end":{"line":664,"column":10}},{"start":{"line":664,"column":11},"end":{"line":664,"column":10}}]},"46":{"line":664,"type":"binary-expr","locations":[{"start":{"line":664,"column":15},"end":{"line":664,"column":37}},{"start":{"line":664,"column":41},"end":{"line":664,"column":69}}]},"47":{"line":671,"type":"if","locations":[{"start":{"line":671,"column":4},"end":{"line":671,"column":3}},{"start":{"line":671,"column":4},"end":{"line":671,"column":3}}]},"48":{"line":678,"type":"if","locations":[{"start":{"line":678,"column":4},"end":{"line":678,"column":3}},{"start":{"line":678,"column":4},"end":{"line":678,"column":3}}]},"49":{"line":684,"type":"if","locations":[{"start":{"line":684,"column":6},"end":{"line":684,"column":5}},{"start":{"line":684,"column":6},"end":{"line":684,"column":5}}]},"50":{"line":684,"type":"binary-expr","locations":[{"start":{"line":684,"column":10},"end":{"line":684,"column":34}},{"start":{"line":684,"column":38},"end":{"line":684,"column":62}}]},"51":{"line":694,"type":"if","locations":[{"start":{"line":694,"column":4},"end":{"line":694,"column":3}},{"start":{"line":694,"column":4},"end":{"line":694,"column":3}}]},"52":{"line":697,"type":"if","locations":[{"start":{"line":697,"column":4},"end":{"line":697,"column":3}},{"start":{"line":697,"column":4},"end":{"line":697,"column":3}}]},"53":{"line":706,"type":"if","locations":[{"start":{"line":706,"column":4},"end":{"line":706,"column":3}},{"start":{"line":706,"column":4},"end":{"line":706,"column":3}}]},"54":{"line":710,"type":"if","locations":[{"start":{"line":710,"column":4},"end":{"line":710,"column":3}},{"start":{"line":710,"column":4},"end":{"line":710,"column":3}}]},"55":{"line":713,"type":"if","locations":[{"start":{"line":713,"column":4},"end":{"line":713,"column":3}},{"start":{"line":713,"column":4},"end":{"line":713,"column":3}}]},"56":{"line":713,"type":"binary-expr","locations":[{"start":{"line":713,"column":8},"end":{"line":713,"column":82}},{"start":{"line":713,"column":86},"end":{"line":713,"column":158}}]},"57":{"line":722,"type":"if","locations":[{"start":{"line":722,"column":4},"end":{"line":722,"column":3}},{"start":{"line":722,"column":4},"end":{"line":722,"column":3}}]},"58":{"line":723,"type":"if","locations":[{"start":{"line":723,"column":6},"end":{"line":723,"column":5}},{"start":{"line":723,"column":6},"end":{"line":723,"column":5}}]},"59":{"line":726,"type":"if","locations":[{"start":{"line":726,"column":6},"end":{"line":726,"column":5}},{"start":{"line":726,"column":6},"end":{"line":726,"column":5}}]},"60":{"line":726,"type":"binary-expr","locations":[{"start":{"line":726,"column":10},"end":{"line":726,"column":36}},{"start":{"line":726,"column":40},"end":{"line":726,"column":57}}]},"61":{"line":732,"type":"if","locations":[{"start":{"line":732,"column":6},"end":{"line":732,"column":5}},{"start":{"line":732,"column":6},"end":{"line":732,"column":5}}]},"62":{"line":743,"type":"cond-expr","locations":[{"start":{"line":743,"column":58},"end":{"line":743,"column":59}},{"start":{"line":743,"column":62},"end":{"line":743,"column":63}}]},"63":{"line":744,"type":"cond-expr","locations":[{"start":{"line":744,"column":52},"end":{"line":744,"column":53}},{"start":{"line":744,"column":56},"end":{"line":744,"column":57}}]},"64":{"line":745,"type":"cond-expr","locations":[{"start":{"line":745,"column":56},"end":{"line":745,"column":57}},{"start":{"line":745,"column":60},"end":{"line":745,"column":61}}]},"65":{"line":746,"type":"cond-expr","locations":[{"start":{"line":746,"column":50},"end":{"line":746,"column":51}},{"start":{"line":746,"column":54},"end":{"line":746,"column":55}}]},"66":{"line":751,"type":"if","locations":[{"start":{"line":751,"column":4},"end":{"line":751,"column":3}},{"start":{"line":751,"column":4},"end":{"line":751,"column":3}}]},"67":{"line":751,"type":"binary-expr","locations":[{"start":{"line":751,"column":8},"end":{"line":751,"column":40}},{"start":{"line":751,"column":44},"end":{"line":751,"column":74}}]},"68":{"line":756,"type":"cond-expr","locations":[{"start":{"line":756,"column":61},"end":{"line":756,"column":87}},{"start":{"line":756,"column":90},"end":{"line":756,"column":115}}]},"69":{"line":757,"type":"cond-expr","locations":[{"start":{"line":757,"column":57},"end":{"line":757,"column":81}},{"start":{"line":757,"column":84},"end":{"line":757,"column":107}}]},"70":{"line":765,"type":"binary-expr","locations":[{"start":{"line":765,"column":11},"end":{"line":765,"column":42}},{"start":{"line":765,"column":46},"end":{"line":765,"column":75}}]},"71":{"line":769,"type":"if","locations":[{"start":{"line":769,"column":4},"end":{"line":769,"column":3}},{"start":{"line":769,"column":4},"end":{"line":769,"column":3}}]},"72":{"line":772,"type":"if","locations":[{"start":{"line":772,"column":4},"end":{"line":772,"column":3}},{"start":{"line":772,"column":4},"end":{"line":772,"column":3}}]},"73":{"line":778,"type":"binary-expr","locations":[{"start":{"line":778,"column":22},"end":{"line":778,"column":44}},{"start":{"line":778,"column":48},"end":{"line":778,"column":103}}]},"74":{"line":779,"type":"if","locations":[{"start":{"line":779,"column":4},"end":{"line":779,"column":3}},{"start":{"line":779,"column":4},"end":{"line":779,"column":3}}]},"75":{"line":779,"type":"binary-expr","locations":[{"start":{"line":779,"column":8},"end":{"line":779,"column":19}},{"start":{"line":779,"column":23},"end":{"line":779,"column":50}},{"start":{"line":779,"column":54},"end":{"line":779,"column":81}}]},"76":{"line":791,"type":"if","locations":[{"start":{"line":791,"column":4},"end":{"line":791,"column":3}},{"start":{"line":791,"column":4},"end":{"line":791,"column":3}}]},"77":{"line":791,"type":"binary-expr","locations":[{"start":{"line":791,"column":8},"end":{"line":791,"column":22}},{"start":{"line":791,"column":26},"end":{"line":791,"column":58}}]},"78":{"line":798,"type":"if","locations":[{"start":{"line":798,"column":4},"end":{"line":798,"column":3}},{"start":{"line":798,"column":4},"end":{"line":798,"column":3}}]},"79":{"line":800,"type":"if","locations":[{"start":{"line":800,"column":6},"end":{"line":800,"column":5}},{"start":{"line":800,"column":6},"end":{"line":800,"column":5}}]},"80":{"line":800,"type":"binary-expr","locations":[{"start":{"line":800,"column":10},"end":{"line":800,"column":32}},{"start":{"line":800,"column":36},"end":{"line":800,"column":48}}]},"81":{"line":807,"type":"if","locations":[{"start":{"line":807,"column":4},"end":{"line":807,"column":3}},{"start":{"line":807,"column":4},"end":{"line":807,"column":3}}]},"82":{"line":809,"type":"if","locations":[{"start":{"line":809,"column":6},"end":{"line":809,"column":5}},{"start":{"line":809,"column":6},"end":{"line":809,"column":5}}]},"83":{"line":809,"type":"binary-expr","locations":[{"start":{"line":809,"column":10},"end":{"line":809,"column":32}},{"start":{"line":809,"column":36},"end":{"line":809,"column":50}}]},"84":{"line":819,"type":"if","locations":[{"start":{"line":819,"column":43},"end":{"line":819,"column":42}},{"start":{"line":819,"column":43},"end":{"line":819,"column":42}}]},"85":{"line":820,"type":"if","locations":[{"start":{"line":820,"column":4},"end":{"line":820,"column":3}},{"start":{"line":820,"column":4},"end":{"line":820,"column":3}}]},"86":{"line":820,"type":"binary-expr","locations":[{"start":{"line":820,"column":8},"end":{"line":820,"column":20}},{"start":{"line":820,"column":24},"end":{"line":820,"column":40}},{"start":{"line":820,"column":44},"end":{"line":820,"column":52}}]},"87":{"line":826,"type":"if","locations":[{"start":{"line":826,"column":4},"end":{"line":826,"column":3}},{"start":{"line":826,"column":4},"end":{"line":826,"column":3}}]},"88":{"line":826,"type":"binary-expr","locations":[{"start":{"line":826,"column":8},"end":{"line":826,"column":24}},{"start":{"line":826,"column":28},"end":{"line":826,"column":36}}]},"89":{"line":105,"type":"binary-expr","locations":[{"start":{"line":105,"column":63},"end":{"line":105,"column":68}},{"start":{"line":105,"column":72},"end":{"line":105,"column":85}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":14,"22":1,"23":1,"24":13,"25":13,"26":13,"27":13,"28":13,"29":13,"30":13,"31":0,"32":13,"33":1,"34":13,"35":13,"36":13,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":13,"44":13,"45":13,"46":7,"47":13,"48":0,"49":13,"50":7,"51":13,"52":7,"53":13,"54":7,"55":13,"56":2,"57":13,"58":0,"59":13,"60":0,"61":0,"62":13,"63":13,"64":1,"65":9,"66":9,"67":1,"68":0,"69":0,"70":0,"71":0,"72":1,"73":3,"74":2,"75":1,"76":1,"77":4,"78":4,"79":4,"80":4,"81":4,"82":1,"83":61,"84":1,"85":7,"86":7,"87":4,"88":3,"89":2,"90":7,"91":6,"92":1,"93":1,"94":0,"95":0,"96":1,"97":0,"98":0,"99":1,"100":7,"101":1,"102":0,"103":0,"104":0,"105":0,"106":1,"107":2,"108":2,"109":1,"110":1,"111":2,"112":1,"113":1,"114":0,"115":0,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":0,"131":0,"132":0,"133":1,"134":1,"135":8,"136":8,"137":8,"138":1,"139":13,"140":13,"141":13,"142":13,"143":13,"144":0,"145":1,"146":0,"147":1,"148":8,"149":8,"150":8,"151":0,"152":8,"153":8,"154":8,"155":0,"156":8,"157":0,"158":8,"159":0,"160":0,"161":8,"162":8,"163":8,"164":1,"165":7,"166":7,"167":7,"168":7,"169":6,"170":6,"171":6,"172":3,"173":3,"174":1,"175":7,"176":7,"177":1,"178":7,"179":7,"180":7,"181":7,"182":7,"183":7,"184":7,"185":0,"186":1,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":1,"195":0,"196":0,"197":0,"198":0,"199":0,"200":1,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":1,"210":16,"211":16,"212":8,"213":8,"214":8,"215":8,"216":8,"217":1,"218":1,"219":1,"220":1,"221":7,"222":1,"223":8,"224":8,"225":8,"226":8,"227":1,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":1,"252":0,"253":0,"254":0,"255":0,"256":1,"257":6,"258":4,"259":2,"260":2,"261":0,"262":2,"263":1,"264":2,"265":2,"266":2,"267":2,"268":2,"269":2,"270":1,"271":4,"272":4,"273":4,"274":4,"275":4,"276":4,"277":4,"278":4,"279":1,"280":3,"281":1,"282":11,"283":11,"284":8,"285":8,"286":8,"287":4,"288":8,"289":8,"290":8,"291":8,"292":0,"293":8,"294":8,"295":1,"296":8,"297":8,"298":8,"299":8,"300":8,"301":8,"302":1,"303":8,"304":0,"305":8,"306":8,"307":8,"308":8,"309":8,"310":8,"311":8,"312":1,"313":16,"314":1,"315":8,"316":8,"317":8,"318":8,"319":1,"320":8,"321":8,"322":7,"323":7,"324":7,"325":7,"326":7,"327":7,"328":1,"329":4,"330":4,"331":0,"332":0,"333":1,"334":15,"335":8,"336":8,"337":0,"338":1,"339":15,"340":8,"341":8,"342":0,"343":1,"344":36,"345":1,"346":54,"347":27,"348":4,"349":23,"350":23,"351":27,"352":19,"353":8,"354":1,"355":0,"356":1,"357":13,"358":0,"359":0,"360":1,"361":1,"362":1,"363":1},"b":{"1":[0,13],"2":[1,12],"3":[1,0],"4":[13,0],"5":[1,12],"6":[0,13],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[2,1],"13":[3,2],"14":[61,61,61,61,61,39],"15":[4,3],"16":[2,1],"17":[3,3],"18":[6,1],"19":[0,0],"20":[0,0],"21":[0,0],"22":[1,0],"23":[1,1],"24":[0,0],"25":[0,8],"26":[0,8],"27":[6,1],"28":[3,3],"29":[7,0],"30":[7,0],"31":[0,7],"32":[0,0],"33":[0,0],"34":[0,0,0],"35":[0,0],"36":[8,0],"37":[8,0],"38":[1,7],"39":[8,7,7],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[4,2],"49":[0,2],"50":[2,0],"51":[2,0],"52":[2,0],"53":[4,0],"54":[4,0],"55":[1,3],"56":[4,3],"57":[8,3],"58":[8,0],"59":[4,4],"60":[8,8],"61":[0,8],"62":[0,8],"63":[0,8],"64":[0,8],"65":[0,8],"66":[0,8],"67":[8,8],"68":[7,1],"69":[7,1],"70":[16,0],"71":[8,0],"72":[8,0],"73":[8,8],"74":[7,1],"75":[8,7,7],"76":[0,4],"77":[4,0],"78":[8,7],"79":[0,8],"80":[8,1],"81":[8,7],"82":[0,8],"83":[8,1],"84":[27,0],"85":[4,23],"86":[27,7,4],"87":[19,8],"88":[27,19],"89":[13,13]},"f":{"1":1,"2":1,"3":13,"4":7,"5":0,"6":7,"7":7,"8":7,"9":2,"10":0,"11":0,"12":9,"13":0,"14":3,"15":4,"16":61,"17":7,"18":0,"19":0,"20":7,"21":0,"22":2,"23":1,"24":0,"25":1,"26":0,"27":8,"28":13,"29":0,"30":0,"31":8,"32":0,"33":0,"34":0,"35":7,"36":7,"37":7,"38":0,"39":0,"40":0,"41":8,"42":8,"43":0,"44":0,"45":0,"46":6,"47":2,"48":4,"49":11,"50":8,"51":8,"52":16,"53":8,"54":8,"55":4,"56":15,"57":15,"58":36,"59":27,"60":0,"61":13,"62":0,"63":0},"code":"/// <reference path=\"../Facet/FacetHeader.ts\" />\n/// <reference path=\"../../controllers/FacetSliderQueryController.ts\" />\n\nimport {ISliderOptions, Slider, IEndSlideEventArgs, IDuringSlideEventArgs, ISliderGraphData} from '../Misc/Slider';\nimport {Component} from '../Base/Component';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {ResponsiveFacets} from '../ResponsiveComponents/ResponsiveFacets';\nimport {FacetHeader} from '../Facet/FacetHeader';\nimport {l} from '../../strings/Strings';\nimport {InitializationEvents} from '../../events/InitializationEvents';\nimport {FeatureDetectionUtils} from '../../utils/FeatureDetectionUtils';\nimport {FacetSliderQueryController} from '../../controllers/FacetSliderQueryController';\nimport {QueryEvents, IQuerySuccessEventArgs, IBuildingQueryEventArgs, IDoneBuildingQueryEventArgs} from '../../events/QueryEvents';\nimport {BreadcrumbEvents, IPopulateBreadcrumbEventArgs, IBreadcrumbItem} from '../../events/BreadcrumbEvents';\nimport {IAttributeChangedEventArg, Model} from '../../models/Model';\nimport {$$} from '../../utils/Dom';\nimport {analyticsActionCauseList, IAnalyticsFacetMeta, IAnalyticsFacetSliderChangeMeta, IAnalyticsFacetGraphSelectedMeta} from '../Analytics/AnalyticsActionListMeta';\nimport {QueryStateModel} from '../../models/QueryStateModel';\nimport {SliderEvents, IGraphValueSelectedArgs} from '../../events/SliderEvents';\nimport {Assert} from '../../misc/Assert';\nimport {Utils} from '../../utils/Utils';\nimport {ResponsiveComponentsUtils} from '../ResponsiveComponents/ResponsiveComponentsUtils';\nimport {Initialization} from '../Base/Initialization';\n\nexport interface IFacetSliderOptions extends ISliderOptions {\n  dateField?: boolean;\n  queryOverride?: string;\n  id?: string;\n  field?: string;\n  title?: string;\n  enableResponsiveMode?: boolean;\n  responsiveBreakpoint?: number;\n}\n\n/**\n * The FacetSlider component allows to create a facet that renders a slider widget to filter on a range of numerical values\n * rather than the classic multi-select facet with a label and a count for each values.<br/>\n * Note that this component does *NOT* inherit from a standard {@link Facet}, and thus does not offer all the same options.\n * Also note that many options for the slider component cannot be set as an HTML attribute on the component, and must be configured in javascript\n *\n * ## A generic example on how to initialize a complex slider\n * ```\n * // Using a JSON object inside the init call. Note that the JSON object follows the options described in this page.\n * Coveo.init(document.querySelector('#search'), {\n *    FacetSlider: {\n *      field: \"@size\",\n *      start: 1000,\n *      end: 5000,\n *      rangeSlider: true,\n *      graph: {\n *        steps: 10\n *      }\n *    }\n * })\n *\n * // OR using the jquery extension\n *\n * $('#search').coveo('init', {\n *    FacetSlider: {\n *      field: \"@size\",\n *      start: 1000,\n *      end: 5000,\n *      rangeSlider: true,\n *      graph: {\n *        steps: 10\n *      }\n *    }\n * })\n *\n * // Same config, but using attribute directly on the element instead\n * <div class='CoveoFacetSlider' data-field='@syssize' data-start='1000' data-end='5000' data-range-slider='true' data-graph-steps='10'></div>\n * ```\n */\nexport class FacetSlider extends Component {\n\n  /**\n   * The component options\n   * @componentOptions\n   */\n  static options: IFacetSliderOptions = {\n    /**\n     * The title on top of the facet component.<br/>\n     * Default value is the localized string for 'No title'\n     */\n    title: ComponentOptions.buildLocalizedStringOption({ defaultValue: l('NoTitle') }),\n    /**\n     * Specifies whether the field for which you are requesting a range is a date field.<br/>\n     * This allow the facet to correctly build the outgoing group by request, as well as render it correctly.<br/>\n     */\n    dateField: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    /**\n     * Specifies the index field whose values will be use in the facet.<br/>\n     * This require the given field to be configured correctly in the index as a facet field.<br/>\n     * This is a required option and cannot be omitted, otherwise the facet component will not work.\n     */\n    field: ComponentOptions.buildFieldOption({ groupByField: true, required: true }),\n    /**\n     * Specifies a unique identifier for a facet. This identifier will be used to save the facet state in the url hash, for example.<br/>\n     * Optional, since the default will be the {@link FacetSlider.options.field} option.<br/>\n     * If you have two facets with the same field on the same page, you should specify an id for at least one of those two facets.<br/>\n     * That id need to be unique on the page.\n     */\n    id: ComponentOptions.buildStringOption({\n      postProcessing: (value, options: IFacetSliderOptions) => value || options.field\n    }),\n    /**\n     * Specifies the format used to display values if they are date.<br/>\n     * Default value is <code>MMM dd, yyyy</code>\n     */\n    dateFormat: ComponentOptions.buildStringOption(),\n    /**\n     * Specifies the query to filter automatic minimum and maximum range of the slider.<br/>\n     * This is especially useful for date range, where the index may contain values which are not set, and thus the automatic range will return value from the year 1400 (min date from the boost c++ library)<br/>\n     * Can be used to do something like queryOverride : @date>2000/01/01 or some arbitrary date which will filter out unwanted values\n     */\n    queryOverride: ComponentOptions.buildStringOption(),\n    /**\n     * Specifies the starting boundary of the slider.<br/>\n     * Dates values are rounded on the year when the field used is a date type.<br/>\n     * Optional: Takes the lowest value available in the index by default.\n     */\n    start: ComponentOptions.buildStringOption(),\n    /**\n     * Specifies the ending boundary of the slider.<br/>\n     * Dates values are rounded on the year when the field used is a date type.<br/>\n     * Optional: Takes the highest value available in the index by default.\n     */\n    end: ComponentOptions.buildStringOption(),\n    /**\n     * Specifies if you want to exclude the outer bounds of your slider in the generated query, when they are not active.<br/>\n     * Default value is false\n     */\n    excludeOuterBounds: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    /**\n     * Specifies to how many decimal digit displayed numerical values are rounded.<br/>\n     * Optional. By default, the number rounds to 0 decimal digits.\n     */\n    rounded: ComponentOptions.buildNumberOption({ min: 0 }),\n    /**\n     * Specifies the number of steps that you want in your slider.<br/>\n     * For example, if your range is [ 0 , 100 ] and you specify 10 steps, then the end user is allowed to move the slider only to the values [ 0, 10, 20. 30 ... , 100 ].<br/>\n     * Optional. By default the slider will allow all values.\n     */\n    steps: ComponentOptions.buildNumberOption({ min: 2 }),\n    /**\n     * Specifies whether you want a slider with two buttons, or only one.<br/>\n     * Optional. By default only one button appears in the slider.\n     */\n    rangeSlider: ComponentOptions.buildBooleanOption(),\n    /**\n     * Specifies the caption that you want to display the field values.<br/>\n     * Available options are :\n     * <ul>\n     *   <li>enable : (data-display-as-value-enable) <code>boolean</code> : Specifies wether the caption should be displayed as a value. Default is <code>true</code></li>\n     *   <li>unitSign : (data-display-as-value-unit-sign) <code>string</code> : Specifies the unit sign for this value.</li>\n     *   <li>separator : (data-display-as-value-separator) <code>string</code> : Specifies the character(s) to use as a separator in the caption. Default is -.</li>\n     * </ul>\n     */\n    displayAsValue: ComponentOptions.buildObjectOption({\n      subOptions: {\n        enable: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n        unitSign: ComponentOptions.buildStringOption(),\n        separator: ComponentOptions.buildStringOption({ defaultValue: '-' })\n      }\n    }),\n    /**\n     * Specifies the percentage caption that you want to display the field values.<br/>\n     * Available options are :\n     * <ul>\n     *   <li>enable : (data-display-as-percent-enable) <code>boolean</code> : Specifies wether the caption should be displayed as a percentage. Default is <code>false</code></li>\n     *   <li>separator : (data-display-as-percent-separator) <code>string</code> : Specifies the character(s) to use as a separator in the caption. Default is -.</li>\n     * </ul>\n     */\n    displayAsPercent: ComponentOptions.buildObjectOption({\n      subOptions: {\n        enable: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n        separator: ComponentOptions.buildStringOption({ defaultValue: '-' })\n      }\n    }),\n    /**\n     * Specifies that you wish to display a small graph on top of the slider.<br/>\n     * Available options are :\n     *\n     *   <li>steps: (data-graph-steps) <code>number</code> : Specifies the number of steps/columns to display in your graph. Default value is 10</li>\n     * </ul>\n     */\n    graph: ComponentOptions.buildObjectOption({\n      subOptions: {\n        steps: ComponentOptions.buildNumberOption({ min: 2 }),\n        animationDuration: ComponentOptions.buildNumberOption({ min: 0 }),\n        margin: ComponentOptions.buildObjectOption({\n          subOptions: {\n            top: ComponentOptions.buildNumberOption({ min: 0 }),\n            bottom: ComponentOptions.buildNumberOption({ min: 0 }),\n            left: ComponentOptions.buildNumberOption({ min: 0 }),\n            right: ComponentOptions.buildNumberOption({ min: 0 })\n          }\n        })\n      }\n    }),\n    /**\n     * Specifies a function that will generate the steps for the slider. The function receives the slider boundaries must return an array of number (the steps).\n     *\n     * ```\n     * Coveo.init(document.querySelector('#search'), {\n     *    FacetSlider: {\n     *      field: \"@size\",\n     *      getSteps: function(start, end) {\n     *        return [0,2,4,6,8,10];\n     *      }\n     *    }\n     * })\n     *\n     * // OR using the jquery extension\n     *\n     * $('#search').coveo('init', {\n     *    FacetSlider: {\n     *        field: \"@size\",\n     *        getSteps: function(start, end) {\n     *            return [0,2,4,6,8,10];\n     *        }\n     *    }\n     * })\n     * ```\n     */\n    getSteps: ComponentOptions.buildCustomOption<(start: number, end: number) => number[]>(() => {\n      return null;\n    }),\n    /**\n     * Specifies a function that will generate the caption for the slider. Receives the current slider values (number[]) and must return the caption (string).\n     *\n     * ```\n     * Coveo.init(document.querySelector('#search'), {\n     *    FacetSlider: {\n     *      field: \"@size\",\n     *      valueCaption: function(values) {\n     *        return values[0] + \" hello\" + \", \" + values[1] + \" world\";\n     *      }\n     *    }\n     * })\n     *\n     * // OR using the jquery extension\n     *\n     * $('#search').coveo('init', {\n     *    FacetSlider: {\n     *      field: \"@size\",\n     *      valueCaption: function(values) {\n     *        return values[0] + \" hello\" + \", \" + values[1] + \" world\";\n     *      }\n     *    }\n     * })\n     * ```\n     */\n    valueCaption: ComponentOptions.buildCustomOption<(values: number[]) => string>(() => {\n      return null;\n    }),\n    /**\n     * Specifies if the responsive mode should be enabled on the facets. Responsive mode will make the facet dissapear and instead be\n     * availaible using a dropdown button. Responsive facets are enabled when the width of the element the search interface is bound to\n     * reaches 800 pixels. This value can be modified using {@link Facet..optionsresponsiveBreakpoint}.\n     * The default value is `true`.\n     */\n    enableResponsiveMode: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies the width of the search interface, in pixels, at which the facets will go into responsive mode. The responsive mode will\n     * be triggered when the width is equal or below this value. The search interface corresponds to the element with the class\n     * `CoveoSearchInterface`.\n     * The default value is `800`.\n     */\n    responsiveBreakpoint: ComponentOptions.buildNumberOption({ defaultValue: 800 })\n  };\n\n  static ID = 'FacetSlider';\n  public startOfSlider: number;\n  public endOfSlider: number;\n  public initialStartOfSlider: number;\n  public initialEndOfSlider: number;\n  public facetQueryController: FacetSliderQueryController;\n  public facetHeader: FacetHeader;\n\n  private slider: Slider;\n  private rangeQueryStateAttribute: string;\n  private isEmpty = false;\n  private rangeFromUrlState: number[];\n  private delayedGraphData: ISliderGraphData[];\n  private onResize: EventListener;\n\n\n  constructor(public element: HTMLElement, public options: IFacetSliderOptions, bindings?: IComponentBindings) {\n    super(element, FacetSlider.ID, bindings);\n    this.options = ComponentOptions.initComponentOptions(element, FacetSlider, options);\n\n    ResponsiveFacets.init(this.root, this, this.options);\n\n    if (this.options.excludeOuterBounds == null) {\n      this.options.excludeOuterBounds = false;\n    }\n\n    if (this.options.start) {\n      this.options.start = this.options.dateField ? <any>new Date(this.options.start.replace(/-/g, '/')).getTime() : <any>Number(this.options.start);\n    }\n\n    if (this.options.end) {\n      this.options.end = this.options.dateField ? <any>new Date(this.options.end.replace(/-/g, '/')).getTime() : <any>Number(this.options.end);\n    }\n\n    if (this.hasAGraph()) {\n      if (!FeatureDetectionUtils.supportSVG()) {\n        this.options.graph = undefined;\n        this.logger.info('Your browser does not support SVG. Cannot add graphic to your facet range', this);\n      }\n      if (typeof d3 == 'undefined') {\n        this.options.graph = undefined;\n        this.logger.info('Cannot find the required dependencies d3.js. Cannot add graphic to your facet range', this);\n      }\n    }\n\n    this.facetQueryController = new FacetSliderQueryController(this);\n    this.initQueryStateEvents();\n    this.bind.onRootElement(QueryEvents.newQuery, () => this.handleNewQuery());\n    this.bind.onRootElement(QueryEvents.noResults, () => this.handleNoresults());\n    this.bind.onRootElement(QueryEvents.deferredQuerySuccess, (args: IQuerySuccessEventArgs) => this.handleDeferredQuerySuccess(args));\n    this.bind.onRootElement(QueryEvents.buildingQuery, (args: IBuildingQueryEventArgs) => this.handleBuildingQuery(args));\n    this.bind.onRootElement(QueryEvents.doneBuildingQuery, (args: IDoneBuildingQueryEventArgs) => this.handleDoneBuildingQuery(args));\n    this.bind.onRootElement(BreadcrumbEvents.populateBreadcrumb, (args: IPopulateBreadcrumbEventArgs) => this.handlePopulateBreadcrumb(args));\n    this.bind.onRootElement(BreadcrumbEvents.clearBreadcrumb, () => this.reset())\n\n    this.onResize = _.debounce(() => {\n      if (!ResponsiveComponentsUtils.isSmallFacetActivated($$(this.root)) && this.slider) {\n        this.slider.drawGraph();\n      }\n    }, 250);\n    window.addEventListener('resize', this.onResize);\n    $$(this.root).on(InitializationEvents.nuke, this.handleNuke);\n  }\n\n  public createDom() {\n    this.facetHeader = new FacetHeader({\n      field: this.options.field,\n      facetElement: this.element,\n      title: this.options.title,\n      enableClearElement: true,\n      enableCollapseElement: true,\n      isNewDesign: this.getBindings().searchInterface.isNewDesign(),\n      facetSlider: this\n    })\n    this.element.appendChild(this.facetHeader.build());\n  }\n\n  /**\n   * Reset the facet. This means set the range value as inactive.\n   */\n  public reset() {\n    if (this.slider) {\n      this.slider.initializeState();\n      this.updateQueryState();\n      this.updateAppearanceDependingOnState();\n    }\n  }\n\n  /**\n   * Return the current selection in the facet, as an array of number (eg : [start, end] ).<br/>\n   * If it's not available, return [undefined, undefined]\n   * @returns {any}\n   */\n  public getSelectedValues(): number[] {\n    if (this.startOfSlider != undefined && this.endOfSlider != undefined) {\n      return [this.startOfSlider, this.endOfSlider];\n    } else {\n      return [undefined, undefined];\n    }\n  }\n\n  /**\n   * Set the selected values in the slider.\n   * @param values [start, end]\n   */\n  public setSelectedValues(values: number[]): void {\n    this.setupSliderIfNeeded(undefined);\n    this.startOfSlider = values[0];\n    this.endOfSlider = values[1];\n    this.slider.setValues([this.startOfSlider, this.endOfSlider]);\n    this.updateAppearanceDependingOnState();\n  }\n\n  /**\n   * Return true if the slider is \"active\" (will output an expression in the query when a search is performed)\n   * @returns {boolean}\n   */\n  public isActive(): boolean {\n    return !isNaN(this.startOfSlider)\n      && !isNaN(this.endOfSlider)\n      && !isNaN(this.initialStartOfSlider)\n      && !isNaN(this.initialEndOfSlider)\n      && (this.startOfSlider != this.initialStartOfSlider || this.endOfSlider != this.initialEndOfSlider)\n  }\n\n  public getSliderBoundaryForQuery(): number[] {\n    let needToReturnABoundary = false;\n    if (!this.slider) {\n      needToReturnABoundary = true;\n    } else if (this.slider && this.isActive()) {\n      needToReturnABoundary = true;\n    }\n    if (needToReturnABoundary) {\n      return this.generateBoundary();\n    } else {\n      return undefined;\n    }\n  }\n\n  // There is delayed graph data if at the time the facet slider tried to draw the facet was hidden in the\n  // facet dropdown. This method will draw delayed graph data if it exists.\n  public drawDelayedGraphData() {\n    if (this.delayedGraphData != undefined) {\n      this.slider.drawGraph(this.delayedGraphData);\n    }\n  }\n\n  private handleNoresults(): void {\n    this.isEmpty = true;\n    this.updateAppearanceDependingOnState();\n  }\n\n  private handleNewQuery(): void {\n    this.isEmpty = false;\n  }\n\n  private handleRangeQueryStateChanged(args: IAttributeChangedEventArg): void {\n    this.setupSliderIfNeeded(args);\n    this.startOfSlider = args.value[0] == undefined ? this.startOfSlider : args.value[0];\n    this.endOfSlider = args.value[1] == undefined ? this.endOfSlider : args.value[1];\n    this.setSelectedValues([this.startOfSlider, this.endOfSlider]);\n  }\n\n  private handlePopulateBreadcrumb(args: IPopulateBreadcrumbEventArgs): void {\n    let populateBreadcrumb = () => {\n      if (this.isActive()) {\n        args.breadcrumbs.push(<IBreadcrumbItem>{\n          element: this.buildBreadcrumbFacetSlider()\n        });\n      }\n    }\n    if (this.slider) {\n      populateBreadcrumb()\n    } else {\n      $$(this.root).one(QueryEvents.deferredQuerySuccess, () => {\n        populateBreadcrumb();\n        $$(this.root).trigger(BreadcrumbEvents.redrawBreadcrumb);\n      })\n    }\n  }\n\n  private buildBreadcrumbFacetSlider(): HTMLElement {\n    let elem = $$('div', {\n      className: 'coveo-facet-slider-breadcrumb'\n    }).el;\n\n    let title = $$('span', {\n      className: 'coveo-facet-slider-breadcrumb-title'\n    });\n    title.text(this.options.title + ':');\n    elem.appendChild(title.el);\n\n    let values = $$('span', {\n      className: 'coveo-facet-slider-breadcrumb-values'\n    });\n    elem.appendChild(values.el);\n\n    let value = $$('span', {\n      className: 'coveo-facet-slider-breadcrumb-value'\n    })\n    value.text(this.slider.getCaption());\n    values.el.appendChild(value.el);\n\n    let clear = $$('span', {\n      className: 'coveo-facet-slider-breadcrumb-clear'\n    });\n    value.el.appendChild(clear.el);\n\n    value.on('click', () => {\n      this.reset();\n      this.usageAnalytics.logSearchEvent<IAnalyticsFacetMeta>(analyticsActionCauseList.facetClearAll, {\n        facetId: this.options.id,\n        facetTitle: this.options.title\n      });\n      this.queryController.executeQuery();\n    })\n    return elem;\n  }\n\n  private initSlider() {\n    this.buildSlider();\n    this.slider.initializeState([this.startOfSlider, this.endOfSlider]);\n    this.updateAppearanceDependingOnState();\n  }\n\n  private initQueryStateEvents() {\n    this.rangeQueryStateAttribute = QueryStateModel.getFacetId(this.options.id) + ':range';\n    this.queryStateModel.registerNewAttribute(this.rangeQueryStateAttribute, [undefined, undefined]);\n    let eventName = this.queryStateModel.getEventName(Model.eventTypes.changeOne + this.rangeQueryStateAttribute);\n    this.bind.onRootElement(eventName, (args: IAttributeChangedEventArg) => {\n      this.slider ? this.handleRangeQueryStateChanged(args) : this.setRangeStateSliderStillNotCreated(args);\n    })\n  }\n\n  private setRangeStateSliderStillNotCreated(args: IAttributeChangedEventArg) {\n    this.rangeFromUrlState = this.copyValues(args.value);\n  }\n\n  private buildSlider() {\n    let sliderContainer = $$('div', {\n      className: 'coveo-facet-values coveo-slider-container'\n    }).el;\n\n    if (this.hasAGraph()) {\n      $$(sliderContainer).addClass('coveo-with-graph');\n    }\n    let sliderDiv = $$('div').el;\n\n    this.slider = new Slider(sliderDiv, _.extend({}, this.options, { dateField: this.options.dateField }), this.root);\n    $$(sliderDiv).on(SliderEvents.endSlide, (e: MouseEvent, args: IEndSlideEventArgs) => {\n      this.handleEndSlide(args);\n    });\n    $$(sliderDiv).on(SliderEvents.duringSlide, (e: MouseEvent, args: IDuringSlideEventArgs) => {\n      this.handleDuringSlide(args);\n    });\n    if (this.hasAGraph()) {\n      $$(sliderDiv).on(SliderEvents.graphValueSelected, (e: MouseEvent, args: IGraphValueSelectedArgs) => {\n        this.handleGraphValueSelected(args);\n      })\n    }\n    sliderContainer.appendChild(sliderDiv);\n    this.element.appendChild(sliderContainer);\n    this.updateAppearanceDependingOnState();\n  }\n\n  private handleBuildingQuery(data: IBuildingQueryEventArgs) {\n    Assert.exists(data);\n    Assert.exists(data.queryBuilder);\n    let boundary = this.getSliderBoundaryForQuery();\n    if (boundary != undefined) {\n      this.facetQueryController.prepareForNewQuery();\n      let expression = this.facetQueryController.computeOurFilterExpression(boundary);\n      if (Utils.isNonEmptyString(expression)) {\n        this.logger.trace('Putting filter in query', expression);\n        data.queryBuilder.advancedExpression.add(expression);\n      }\n    }\n  }\n\n  private handleDoneBuildingQuery(data: IDoneBuildingQueryEventArgs) {\n    let queryBuilder = data.queryBuilder;\n    this.facetQueryController.putGroupByIntoQueryBuilder(queryBuilder);\n  }\n\n  private handleDeferredQuerySuccess(data: IQuerySuccessEventArgs) {\n    this.ensureDom();\n    this.setupSliderIfNeeded(data);\n    let groupByResults = data.results.groupByResults[this.facetQueryController.lastGroupByRequestIndex];\n    if (groupByResults == undefined || groupByResults.values[0] == undefined) {\n      this.isEmpty = true;\n    }\n    this.updateAppearanceDependingOnState();\n    if (this.hasAGraph()) {\n      this.renderToSliderGraph(data);\n    }\n  }\n\n  private handleEndSlide(args: IEndSlideEventArgs) {\n    let values = args.slider.getValues();\n    this.startOfSlider = values[0];\n    this.endOfSlider = values[1];\n    if (this.updateQueryState(values)) {\n      this.updateAppearanceDependingOnState();\n      this.usageAnalytics.logSearchEvent<IAnalyticsFacetSliderChangeMeta>(analyticsActionCauseList.facetRangeSlider, {\n        facetId: this.options.id,\n        facetRangeStart: this.startOfSlider.toString(),\n        facetRangeEnd: this.endOfSlider.toString()\n      });\n      this.queryController.executeQuery();\n    }\n  }\n\n  private handleDuringSlide(args: IDuringSlideEventArgs) {\n    let values = args.slider.getValues();\n    this.startOfSlider = values[0];\n    this.endOfSlider = values[1];\n    this.slider.setValues([this.startOfSlider, this.endOfSlider]);\n    this.updateAppearanceDependingOnState(true);\n  }\n\n  private handleGraphValueSelected(args: IGraphValueSelectedArgs) {\n    if ((this.options.rangeSlider && this.startOfSlider != args.start) || this.endOfSlider != args.end) {\n      if (this.options.rangeSlider) {\n        this.startOfSlider = args.start;\n      }\n      this.endOfSlider = args.end;\n      this.slider.setValues([this.startOfSlider, this.endOfSlider]);\n      this.updateQueryState();\n      this.usageAnalytics.logSearchEvent<IAnalyticsFacetGraphSelectedMeta>(analyticsActionCauseList.facetRangeGraph, {\n        facetId: this.options.id,\n        facetRangeStart: this.startOfSlider.toString(),\n        facetRangeEnd: this.endOfSlider.toString()\n      });\n      this.queryController.executeQuery();\n    }\n  }\n\n  private updateQueryState(values = this.slider.getValues(), silent = false) {\n    let copyOfValues = this.copyValues(values);\n    let start = values[0] + 0.0;\n    let end = values[1] + 0.0;\n    let model: number[] = this.queryStateModel.get(this.rangeQueryStateAttribute);\n    if (model == null || copyOfValues[0] != model[0] || copyOfValues[1] != model[1]) {\n      copyOfValues[0] = start;\n      copyOfValues[1] = end;\n      this.queryStateModel.set(this.rangeQueryStateAttribute, copyOfValues, { silent: silent });\n      return true;\n    }\n    return false;\n  }\n\n  private copyValues(values: number[]) {\n    // Creating a copy of the values prevents an unwanted automatic update of the state while sliding\n    // That's the cleanest way I found to copy that array correctly\n    let copyOfValues = [];\n    copyOfValues[0] = Number(values[0]) + 0.0;\n    copyOfValues[1] = Number(values[1]) + 0.0;\n    return copyOfValues\n  }\n\n  private renderToSliderGraph(data: IQuerySuccessEventArgs) {\n    let rawGroupByResults = data.results.groupByResults[this.facetQueryController.graphGroupByQueriesIndex];\n    let graphData: ISliderGraphData[];\n    let totalGraphResults = 0;\n    if (rawGroupByResults) {\n      graphData = _.map(rawGroupByResults.values, (value) => {\n        totalGraphResults += value.numberOfResults;\n        let start: any = value.value.split('..')[0];\n        let end: any = value.value.split('..')[1];\n        if (!this.options.dateField) {\n          start = Number(start);\n          end = Number(end);\n        } else {\n          start = new Date(start.split('@')[0]).getTime();\n          end = new Date(end.split('@')[0]).getTime();\n        }\n        let y = value.numberOfResults;\n        return {\n          start: start,\n          y: y,\n          end: end,\n          isDate: this.options.dateField\n        }\n      })\n    }\n    if (totalGraphResults == 0) {\n      this.isEmpty = true;\n      this.updateAppearanceDependingOnState();\n    } else if (graphData != undefined && !this.isFacetDropdownHidden()) {\n      this.slider.drawGraph(graphData);\n    } else if (graphData != undefined && this.isFacetDropdownHidden()) {\n      this.delayedGraphData = graphData;\n    }\n  }\n\n  private isFacetDropdownHidden() {\n    let facetDropdown = this.root.querySelector('.coveo-facet-column');\n    if (facetDropdown) {\n      return $$(<HTMLElement>facetDropdown).css('display') == 'none';\n    }\n    return false;\n  }\n\n  private generateBoundary(): number[] {\n    if (!this.slider) {\n      // If the slider is not initialized, the only boundary we can get is from the state.\n      return this.generateBoundaryFromState();\n    } else {\n      // Else, try to get one from the slider itself. If we cant, try to return one from the state.\n      let boundary = this.generateBoundaryFromSlider();\n      if (boundary[0] == undefined && boundary[1] == undefined) {\n        return this.generateBoundaryFromState();\n      } else {\n        return boundary;\n      }\n    }\n  }\n\n  private generateBoundaryFromSlider() {\n    let start, end;\n    if (this.startOfSlider != undefined) {\n      start = this.startOfSlider;\n    }\n    if (this.endOfSlider != undefined) {\n      end = this.endOfSlider;\n    }\n    return [start, end];\n  }\n\n  private generateBoundaryFromState() {\n    let start, end;\n    let startFromState = this.queryStateModel.get(this.rangeQueryStateAttribute)[0];\n    if (startFromState != undefined) {\n      start = startFromState;\n    }\n    let endFromState = this.queryStateModel.get(this.rangeQueryStateAttribute)[1];\n    if (endFromState != undefined) {\n      end = endFromState;\n    }\n    if (start != this.queryStateModel.getDefault(this.rangeQueryStateAttribute)[0] || end != this.queryStateModel.getDefault(this.rangeQueryStateAttribute)[1]) {\n      return [start, end];\n    } else {\n      return [undefined, undefined];\n    }\n  }\n\n  private setupSliderIfNeeded(data: any) {\n    this.ensureDom();\n    if (Utils.isNullOrUndefined(this.slider)) {\n      if (!this.alreadySetBoundary()) {\n        this.trySetSliderBoundaryFromOptions();\n      }\n      if (!this.alreadySetBoundary() && data != undefined) {\n        this.trySetSliderBoundaryFromQueryResult(data);\n      }\n      this.trySetSliderBoundaryFromState();\n      this.setupSliderStateVariables();\n      let isInError = this.verifySetup();\n      if (isInError) {\n        this.logger.warn('Unable to initialize slider with current values', this);\n      } else {\n        this.initSlider();\n        this.updateQueryState();\n      }\n    }\n  }\n\n  private verifySetup() {\n    let isInError = 0;\n    isInError += this.initialStartOfSlider == undefined ? 1 : 0;\n    isInError += isNaN(this.initialStartOfSlider) ? 1 : 0;\n    isInError += this.initialEndOfSlider == undefined ? 1 : 0;\n    isInError += isNaN(this.initialEndOfSlider) ? 1 : 0;\n    return isInError;\n  }\n\n  private setupSliderStateVariables() {\n    if (isNaN(this.initialStartOfSlider) || isNaN(this.initialEndOfSlider)) {\n      this.logger.warn('Cannnot initialize slider with those values : start: ' + this.initialStartOfSlider + ' end: ' + this.initialEndOfSlider)\n    } else {\n      this.initialStartOfSlider = Number(this.initialStartOfSlider);\n      this.initialEndOfSlider = Number(this.initialEndOfSlider);\n      this.startOfSlider = this.startOfSlider != undefined ? Number(this.startOfSlider) : this.initialStartOfSlider;\n      this.endOfSlider = this.endOfSlider != undefined ? Number(this.endOfSlider) : this.initialEndOfSlider;\n      this.options.start = this.initialStartOfSlider;\n      this.options.end = this.initialEndOfSlider;\n      this.queryStateModel.setNewDefault(this.rangeQueryStateAttribute, [this.initialStartOfSlider, this.initialEndOfSlider]);\n    }\n  }\n\n  private alreadySetBoundary() {\n    return this.startOfSlider != undefined && this.endOfSlider != undefined;\n  }\n\n  private trySetSliderBoundaryFromOptions() {\n    if (!Utils.isNullOrUndefined(this.options.start)) {\n      this.setupInitialSliderStateStart(this.options.start);\n    }\n    if (!Utils.isNullOrUndefined(this.options.end)) {\n      this.setupInitialSliderStateEnd(this.options.end)\n    }\n  }\n\n  private trySetSliderBoundaryFromState() {\n    let stateValues = this.rangeFromUrlState || this.queryStateModel.get(this.rangeQueryStateAttribute);\n    if (stateValues && stateValues[0] != undefined && stateValues[1] != undefined) {\n      stateValues[0] = Number(stateValues[0]);\n      stateValues[1] = Number(stateValues[1]);\n      this.setupInitialSliderStateStart(stateValues[0]);\n      this.setupInitialSliderStateEnd(stateValues[1]);\n      this.startOfSlider = stateValues[0];\n      this.endOfSlider = stateValues[1];\n    }\n  }\n\n  private trySetSliderBoundaryFromQueryResult(data: IQuerySuccessEventArgs) {\n    let groupByResults = data.results.groupByResults[this.facetQueryController.lastGroupByRequestIndex];\n    if (groupByResults && groupByResults.values.length > 0) {\n      this.setupInitialSliderStateStart(groupByResults.values[0].value.split('..')[0]);\n      this.setupInitialSliderStateEnd(groupByResults.values[groupByResults.values.length - 1].value.split('..')[1]);\n    }\n  }\n\n  private setupInitialSliderStateStart(value: any) {\n    if (this.initialStartOfSlider == undefined) {\n      this.initialStartOfSlider = value;\n      if (this.options.dateField && isNaN(value)) {\n        this.initialStartOfSlider = new Date(value.replace('@', ' ')).getTime();\n      }\n    }\n  }\n\n  private setupInitialSliderStateEnd(value: any) {\n    if (this.initialEndOfSlider == undefined) {\n      this.initialEndOfSlider = value;\n      if (this.options.dateField && isNaN((value))) {\n        this.initialEndOfSlider = new Date(value.replace('@', ' ')).getTime();\n      }\n    }\n  }\n\n  private hasAGraph() {\n    return this.options.graph != undefined;\n  }\n\n  private updateAppearanceDependingOnState(sliding = false) {\n    if (this.isEmpty && !this.isActive() && !sliding) {\n      $$(this.element).addClass('coveo-disabled-empty');\n    } else {\n      $$(this.element).removeClass('coveo-disabled-empty');\n      $$(this.facetHeader.eraserElement).toggle(this.isActive());\n    }\n    if (!this.isActive() && !sliding) {\n      $$(this.element).addClass('coveo-disabled');\n    } else {\n      $$(this.element).removeClass('coveo-disabled');\n    }\n  }\n\n  private handleNuke() {\n    window.removeEventListener('resize', this.onResize);\n  }\n}\nInitialization.registerAutoCreateComponent(FacetSlider);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/FacetSlider/FacetSlider.ts\n **/","l":{"4":1,"5":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"75":14,"81":1,"105":13,"228":0,"256":0,"274":1,"284":13,"290":13,"291":13,"292":13,"294":13,"296":13,"297":0,"300":13,"301":1,"304":13,"305":13,"308":13,"309":0,"310":0,"311":0,"313":0,"314":0,"315":0,"319":13,"320":13,"321":13,"322":13,"323":13,"324":13,"325":13,"326":13,"327":13,"329":13,"330":0,"331":0,"334":13,"335":13,"338":1,"339":9,"348":9,"354":1,"355":0,"356":0,"357":0,"358":0,"367":1,"368":3,"369":2,"371":1,"379":1,"380":4,"381":4,"382":4,"383":4,"384":4,"391":1,"392":61,"399":1,"400":7,"401":7,"402":4,"403":3,"404":2,"406":7,"407":6,"409":1,"415":1,"416":0,"417":0,"421":1,"422":0,"423":0,"426":1,"427":7,"430":1,"431":0,"432":0,"433":0,"434":0,"437":2,"438":2,"439":1,"440":1,"445":2,"446":1,"448":1,"449":0,"450":0,"455":1,"456":1,"460":1,"463":1,"464":1,"466":1,"469":1,"471":1,"474":1,"475":1,"477":1,"480":1,"482":1,"483":0,"484":0,"488":0,"490":1,"493":1,"494":8,"495":8,"496":8,"499":13,"500":13,"501":13,"502":13,"503":13,"504":0,"508":1,"509":0,"512":8,"513":8,"517":8,"518":0,"520":8,"522":8,"523":8,"524":0,"526":8,"527":0,"529":8,"530":0,"531":0,"534":8,"535":8,"536":8,"539":1,"540":7,"541":7,"542":7,"543":7,"544":6,"545":6,"546":6,"547":3,"548":3,"553":1,"554":7,"555":7,"558":1,"559":7,"560":7,"561":7,"562":7,"563":7,"565":7,"566":7,"567":0,"571":1,"572":0,"573":0,"574":0,"575":0,"576":0,"577":0,"582":0,"586":1,"587":0,"588":0,"589":0,"590":0,"591":0,"594":1,"595":0,"596":0,"597":0,"599":0,"600":0,"601":0,"602":0,"607":0,"611":16,"612":8,"613":8,"614":8,"615":8,"616":8,"617":1,"618":1,"619":1,"620":1,"622":7,"625":1,"628":8,"629":8,"630":8,"631":8,"634":1,"635":0,"636":0,"637":0,"638":0,"639":0,"640":0,"641":0,"642":0,"643":0,"644":0,"645":0,"647":0,"648":0,"650":0,"651":0,"659":0,"660":0,"661":0,"662":0,"663":0,"664":0,"665":0,"669":1,"670":0,"671":0,"672":0,"674":0,"677":1,"678":6,"680":4,"683":2,"684":2,"685":0,"687":2,"692":1,"693":2,"694":2,"695":2,"697":2,"698":2,"700":2,"703":1,"704":4,"705":4,"706":4,"707":4,"709":4,"710":4,"711":4,"713":4,"714":1,"716":3,"720":1,"721":11,"722":11,"723":8,"724":8,"726":8,"727":4,"729":8,"730":8,"731":8,"732":8,"733":0,"735":8,"736":8,"741":1,"742":8,"743":8,"744":8,"745":8,"746":8,"747":8,"750":1,"751":8,"752":0,"754":8,"755":8,"756":8,"757":8,"758":8,"759":8,"760":8,"764":1,"765":16,"768":1,"769":8,"770":8,"772":8,"773":8,"777":1,"778":8,"779":8,"780":7,"781":7,"782":7,"783":7,"784":7,"785":7,"789":1,"790":4,"791":4,"792":0,"793":0,"797":1,"798":15,"799":8,"800":8,"801":0,"806":1,"807":15,"808":8,"809":8,"810":0,"815":1,"816":36,"819":54,"820":27,"821":4,"823":23,"824":23,"826":27,"827":19,"829":8,"833":1,"834":0,"836":1,"837":1}},"src/ui/Misc/Slider.ts":{"path":"src/ui/Misc/Slider.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":52}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":80}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":26}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":40}},"7":{"start":{"line":65,"column":0},"end":{"line":237,"column":1}},"8":{"start":{"line":74,"column":2},"end":{"line":112,"column":3}},"9":{"start":{"line":74,"column":21},"end":{"line":74,"column":41}},"10":{"start":{"line":74,"column":50},"end":{"line":74,"column":73}},"11":{"start":{"line":74,"column":82},"end":{"line":74,"column":99}},"12":{"start":{"line":66,"column":9},"end":{"line":66,"column":30}},"13":{"start":{"line":75,"column":4},"end":{"line":78,"column":5}},"14":{"start":{"line":76,"column":6},"end":{"line":76,"column":66}},"15":{"start":{"line":77,"column":6},"end":{"line":77,"column":62}},"16":{"start":{"line":80,"column":4},"end":{"line":82,"column":5}},"17":{"start":{"line":81,"column":6},"end":{"line":81,"column":31}},"18":{"start":{"line":84,"column":4},"end":{"line":86,"column":5}},"19":{"start":{"line":85,"column":6},"end":{"line":85,"column":24}},"20":{"start":{"line":88,"column":4},"end":{"line":90,"column":5}},"21":{"start":{"line":89,"column":6},"end":{"line":89,"column":47}},"22":{"start":{"line":92,"column":4},"end":{"line":92,"column":43}},"23":{"start":{"line":93,"column":4},"end":{"line":95,"column":6}},"24":{"start":{"line":94,"column":6},"end":{"line":94,"column":34}},"25":{"start":{"line":97,"column":4},"end":{"line":108,"column":5}},"26":{"start":{"line":98,"column":6},"end":{"line":98,"column":47}},"27":{"start":{"line":99,"column":6},"end":{"line":101,"column":8}},"28":{"start":{"line":100,"column":8},"end":{"line":100,"column":36}},"29":{"start":{"line":103,"column":6},"end":{"line":103,"column":52}},"30":{"start":{"line":104,"column":6},"end":{"line":104,"column":44}},"31":{"start":{"line":105,"column":6},"end":{"line":105,"column":50}},"32":{"start":{"line":106,"column":6},"end":{"line":106,"column":38}},"33":{"start":{"line":107,"column":6},"end":{"line":107,"column":56}},"34":{"start":{"line":110,"column":4},"end":{"line":110,"column":49}},"35":{"start":{"line":111,"column":4},"end":{"line":111,"column":57}},"36":{"start":{"line":114,"column":9},"end":{"line":126,"column":3}},"37":{"start":{"line":115,"column":4},"end":{"line":121,"column":5}},"38":{"start":{"line":116,"column":6},"end":{"line":116,"column":37}},"39":{"start":{"line":117,"column":6},"end":{"line":117,"column":98}},"40":{"start":{"line":119,"column":6},"end":{"line":119,"column":31}},"41":{"start":{"line":120,"column":6},"end":{"line":120,"column":56}},"42":{"start":{"line":122,"column":4},"end":{"line":124,"column":5}},"43":{"start":{"line":123,"column":6},"end":{"line":123,"column":30}},"44":{"start":{"line":125,"column":4},"end":{"line":125,"column":26}},"45":{"start":{"line":128,"column":9},"end":{"line":143,"column":3}},"46":{"start":{"line":128,"column":25},"end":{"line":128,"column":82}},"47":{"start":{"line":129,"column":4},"end":{"line":129,"column":32}},"48":{"start":{"line":130,"column":4},"end":{"line":141,"column":5}},"49":{"start":{"line":131,"column":6},"end":{"line":131,"column":58}},"50":{"start":{"line":132,"column":6},"end":{"line":132,"column":98}},"51":{"start":{"line":134,"column":6},"end":{"line":138,"column":7}},"52":{"start":{"line":135,"column":8},"end":{"line":135,"column":34}},"53":{"start":{"line":137,"column":8},"end":{"line":137,"column":46}},"54":{"start":{"line":139,"column":6},"end":{"line":139,"column":31}},"55":{"start":{"line":140,"column":6},"end":{"line":140,"column":56}},"56":{"start":{"line":142,"column":4},"end":{"line":142,"column":26}},"57":{"start":{"line":145,"column":9},"end":{"line":151,"column":3}},"58":{"start":{"line":146,"column":4},"end":{"line":150,"column":5}},"59":{"start":{"line":147,"column":6},"end":{"line":147,"column":44}},"60":{"start":{"line":149,"column":6},"end":{"line":149,"column":50}},"61":{"start":{"line":153,"column":9},"end":{"line":159,"column":3}},"62":{"start":{"line":154,"column":4},"end":{"line":158,"column":5}},"63":{"start":{"line":155,"column":6},"end":{"line":155,"column":51}},"64":{"start":{"line":157,"column":6},"end":{"line":157,"column":49}},"65":{"start":{"line":161,"column":9},"end":{"line":171,"column":3}},"66":{"start":{"line":162,"column":4},"end":{"line":170,"column":5}},"67":{"start":{"line":163,"column":6},"end":{"line":163,"column":32}},"68":{"start":{"line":165,"column":6},"end":{"line":169,"column":7}},"69":{"start":{"line":166,"column":8},"end":{"line":166,"column":43}},"70":{"start":{"line":168,"column":8},"end":{"line":168,"column":66}},"71":{"start":{"line":173,"column":9},"end":{"line":175,"column":3}},"72":{"start":{"line":174,"column":4},"end":{"line":174,"column":59}},"73":{"start":{"line":177,"column":9},"end":{"line":179,"column":3}},"74":{"start":{"line":178,"column":4},"end":{"line":178,"column":43}},"75":{"start":{"line":181,"column":9},"end":{"line":195,"column":3}},"76":{"start":{"line":182,"column":4},"end":{"line":185,"column":5}},"77":{"start":{"line":183,"column":6},"end":{"line":183,"column":58}},"78":{"start":{"line":184,"column":6},"end":{"line":184,"column":56}},"79":{"start":{"line":186,"column":4},"end":{"line":186,"column":32}},"80":{"start":{"line":187,"column":4},"end":{"line":193,"column":5}},"81":{"start":{"line":188,"column":6},"end":{"line":188,"column":40}},"82":{"start":{"line":189,"column":6},"end":{"line":189,"column":98}},"83":{"start":{"line":191,"column":6},"end":{"line":191,"column":44}},"84":{"start":{"line":192,"column":6},"end":{"line":192,"column":56}},"85":{"start":{"line":194,"column":4},"end":{"line":194,"column":26}},"86":{"start":{"line":197,"column":9},"end":{"line":201,"column":3}},"87":{"start":{"line":198,"column":4},"end":{"line":200,"column":5}},"88":{"start":{"line":199,"column":6},"end":{"line":199,"column":34}},"89":{"start":{"line":203,"column":10},"end":{"line":206,"column":3}},"90":{"start":{"line":204,"column":4},"end":{"line":204,"column":39}},"91":{"start":{"line":205,"column":4},"end":{"line":205,"column":63}},"92":{"start":{"line":208,"column":10},"end":{"line":218,"column":3}},"93":{"start":{"line":209,"column":4},"end":{"line":217,"column":5}},"94":{"start":{"line":210,"column":6},"end":{"line":210,"column":84}},"95":{"start":{"line":211,"column":11},"end":{"line":217,"column":5}},"96":{"start":{"line":212,"column":6},"end":{"line":212,"column":95}},"97":{"start":{"line":213,"column":11},"end":{"line":217,"column":5}},"98":{"start":{"line":214,"column":6},"end":{"line":214,"column":40}},"99":{"start":{"line":216,"column":6},"end":{"line":216,"column":38}},"100":{"start":{"line":220,"column":10},"end":{"line":236,"column":3}},"101":{"start":{"line":221,"column":4},"end":{"line":235,"column":5}},"102":{"start":{"line":222,"column":6},"end":{"line":222,"column":79}},"103":{"start":{"line":224,"column":6},"end":{"line":224,"column":94}},"104":{"start":{"line":225,"column":6},"end":{"line":234,"column":7}},"105":{"start":{"line":226,"column":8},"end":{"line":226,"column":45}},"106":{"start":{"line":227,"column":8},"end":{"line":230,"column":9}},"107":{"start":{"line":228,"column":10},"end":{"line":228,"column":39}},"108":{"start":{"line":229,"column":10},"end":{"line":229,"column":33}},"109":{"start":{"line":232,"column":8},"end":{"line":232,"column":44}},"110":{"start":{"line":233,"column":8},"end":{"line":233,"column":42}},"111":{"start":{"line":237,"column":0},"end":{"line":237,"column":1}},"112":{"start":{"line":65,"column":13},"end":{"line":237,"column":1}},"113":{"start":{"line":239,"column":0},"end":{"line":269,"column":1}},"114":{"start":{"line":243,"column":2},"end":{"line":244,"column":3}},"115":{"start":{"line":243,"column":21},"end":{"line":243,"column":35}},"116":{"start":{"line":246,"column":9},"end":{"line":256,"column":3}},"117":{"start":{"line":247,"column":4},"end":{"line":249,"column":10}},"118":{"start":{"line":251,"column":4},"end":{"line":253,"column":10}},"119":{"start":{"line":255,"column":4},"end":{"line":255,"column":46}},"120":{"start":{"line":258,"column":9},"end":{"line":268,"column":3}},"121":{"start":{"line":259,"column":4},"end":{"line":267,"column":5}},"122":{"start":{"line":260,"column":6},"end":{"line":260,"column":74}},"123":{"start":{"line":261,"column":6},"end":{"line":261,"column":48}},"124":{"start":{"line":262,"column":6},"end":{"line":262,"column":70}},"125":{"start":{"line":263,"column":6},"end":{"line":263,"column":71}},"126":{"start":{"line":265,"column":6},"end":{"line":265,"column":47}},"127":{"start":{"line":266,"column":6},"end":{"line":266,"column":48}},"128":{"start":{"line":269,"column":0},"end":{"line":269,"column":1}},"129":{"start":{"line":271,"column":0},"end":{"line":491,"column":1}},"130":{"start":{"line":287,"column":2},"end":{"line":288,"column":3}},"131":{"start":{"line":287,"column":21},"end":{"line":287,"column":35}},"132":{"start":{"line":287,"column":45},"end":{"line":287,"column":58}},"133":{"start":{"line":283,"column":10},"end":{"line":283,"column":85}},"134":{"start":{"line":284,"column":10},"end":{"line":284,"column":84}},"135":{"start":{"line":285,"column":10},"end":{"line":285,"column":79}},"136":{"start":{"line":290,"column":9},"end":{"line":298,"column":3}},"137":{"start":{"line":291,"column":4},"end":{"line":293,"column":10}},"138":{"start":{"line":295,"column":4},"end":{"line":295,"column":22}},"139":{"start":{"line":296,"column":4},"end":{"line":296,"column":45}},"140":{"start":{"line":297,"column":4},"end":{"line":297,"column":23}},"141":{"start":{"line":300,"column":9},"end":{"line":302,"column":3}},"142":{"start":{"line":301,"column":4},"end":{"line":301,"column":35}},"143":{"start":{"line":304,"column":9},"end":{"line":306,"column":3}},"144":{"start":{"line":305,"column":4},"end":{"line":305,"column":37}},"145":{"start":{"line":308,"column":9},"end":{"line":311,"column":3}},"146":{"start":{"line":309,"column":4},"end":{"line":309,"column":49}},"147":{"start":{"line":310,"column":4},"end":{"line":310,"column":62}},"148":{"start":{"line":313,"column":9},"end":{"line":320,"column":3}},"149":{"start":{"line":314,"column":4},"end":{"line":314,"column":39}},"150":{"start":{"line":315,"column":4},"end":{"line":319,"column":5}},"151":{"start":{"line":316,"column":6},"end":{"line":316,"column":72}},"152":{"start":{"line":318,"column":6},"end":{"line":318,"column":30}},"153":{"start":{"line":322,"column":9},"end":{"line":327,"column":3}},"154":{"start":{"line":322,"column":20},"end":{"line":322,"column":57}},"155":{"start":{"line":323,"column":4},"end":{"line":325,"column":5}},"156":{"start":{"line":324,"column":6},"end":{"line":324,"column":15}},"157":{"start":{"line":326,"column":4},"end":{"line":326,"column":68}},"158":{"start":{"line":329,"column":9},"end":{"line":332,"column":3}},"159":{"start":{"line":330,"column":4},"end":{"line":330,"column":118}},"160":{"start":{"line":331,"column":4},"end":{"line":331,"column":17}},"161":{"start":{"line":334,"column":9},"end":{"line":336,"column":3}},"162":{"start":{"line":335,"column":4},"end":{"line":335,"column":106}},"163":{"start":{"line":338,"column":9},"end":{"line":341,"column":3}},"164":{"start":{"line":339,"column":4},"end":{"line":339,"column":44}},"165":{"start":{"line":340,"column":4},"end":{"line":340,"column":105}},"166":{"start":{"line":343,"column":9},"end":{"line":346,"column":3}},"167":{"start":{"line":344,"column":4},"end":{"line":344,"column":49}},"168":{"start":{"line":345,"column":4},"end":{"line":345,"column":53}},"169":{"start":{"line":348,"column":10},"end":{"line":363,"column":3}},"170":{"start":{"line":348,"column":2},"end":{"line":363,"column":3}},"171":{"start":{"line":349,"column":4},"end":{"line":351,"column":7}},"172":{"start":{"line":350,"column":6},"end":{"line":350,"column":31}},"173":{"start":{"line":352,"column":4},"end":{"line":352,"column":55}},"174":{"start":{"line":353,"column":4},"end":{"line":358,"column":7}},"175":{"start":{"line":354,"column":6},"end":{"line":356,"column":7}},"176":{"start":{"line":355,"column":8},"end":{"line":355,"column":27}},"177":{"start":{"line":357,"column":6},"end":{"line":357,"column":27}},"178":{"start":{"line":360,"column":4},"end":{"line":362,"column":7}},"179":{"start":{"line":361,"column":6},"end":{"line":361,"column":28}},"180":{"start":{"line":365,"column":10},"end":{"line":376,"column":3}},"181":{"start":{"line":366,"column":4},"end":{"line":368,"column":5}},"182":{"start":{"line":367,"column":6},"end":{"line":367,"column":28}},"183":{"start":{"line":369,"column":4},"end":{"line":371,"column":5}},"184":{"start":{"line":370,"column":6},"end":{"line":370,"column":32}},"185":{"start":{"line":372,"column":4},"end":{"line":374,"column":5}},"186":{"start":{"line":373,"column":6},"end":{"line":373,"column":29}},"187":{"start":{"line":375,"column":4},"end":{"line":375,"column":24}},"188":{"start":{"line":378,"column":10},"end":{"line":393,"column":3}},"189":{"start":{"line":379,"column":4},"end":{"line":379,"column":44}},"190":{"start":{"line":380,"column":4},"end":{"line":380,"column":28}},"191":{"start":{"line":381,"column":4},"end":{"line":381,"column":37}},"192":{"start":{"line":382,"column":4},"end":{"line":382,"column":107}},"193":{"start":{"line":383,"column":4},"end":{"line":383,"column":68}},"194":{"start":{"line":384,"column":4},"end":{"line":384,"column":49}},"195":{"start":{"line":385,"column":4},"end":{"line":385,"column":55}},"196":{"start":{"line":386,"column":4},"end":{"line":386,"column":43}},"197":{"start":{"line":387,"column":4},"end":{"line":387,"column":46}},"198":{"start":{"line":388,"column":4},"end":{"line":391,"column":7}},"199":{"start":{"line":392,"column":4},"end":{"line":392,"column":24}},"200":{"start":{"line":395,"column":10},"end":{"line":405,"column":3}},"201":{"start":{"line":396,"column":4},"end":{"line":404,"column":5}},"202":{"start":{"line":397,"column":6},"end":{"line":397,"column":29}},"203":{"start":{"line":398,"column":6},"end":{"line":398,"column":29}},"204":{"start":{"line":399,"column":6},"end":{"line":399,"column":33}},"205":{"start":{"line":400,"column":6},"end":{"line":403,"column":9}},"206":{"start":{"line":407,"column":10},"end":{"line":418,"column":3}},"207":{"start":{"line":408,"column":4},"end":{"line":416,"column":5}},"208":{"start":{"line":409,"column":6},"end":{"line":409,"column":70}},"209":{"start":{"line":410,"column":6},"end":{"line":410,"column":51}},"210":{"start":{"line":411,"column":6},"end":{"line":411,"column":51}},"211":{"start":{"line":412,"column":6},"end":{"line":415,"column":8}},"212":{"start":{"line":417,"column":4},"end":{"line":417,"column":29}},"213":{"start":{"line":420,"column":10},"end":{"line":431,"column":3}},"214":{"start":{"line":421,"column":4},"end":{"line":430,"column":5}},"215":{"start":{"line":422,"column":6},"end":{"line":424,"column":7}},"216":{"start":{"line":423,"column":8},"end":{"line":423,"column":59}},"217":{"start":{"line":425,"column":6},"end":{"line":429,"column":7}},"218":{"start":{"line":426,"column":8},"end":{"line":426,"column":56}},"219":{"start":{"line":428,"column":8},"end":{"line":428,"column":52}},"220":{"start":{"line":433,"column":10},"end":{"line":447,"column":3}},"221":{"start":{"line":434,"column":4},"end":{"line":434,"column":17}},"222":{"start":{"line":435,"column":4},"end":{"line":435,"column":17}},"223":{"start":{"line":436,"column":4},"end":{"line":445,"column":5}},"224":{"start":{"line":437,"column":6},"end":{"line":437,"column":52}},"225":{"start":{"line":438,"column":6},"end":{"line":438,"column":52}},"226":{"start":{"line":439,"column":11},"end":{"line":445,"column":5}},"227":{"start":{"line":440,"column":6},"end":{"line":440,"column":21}},"228":{"start":{"line":441,"column":6},"end":{"line":441,"column":21}},"229":{"start":{"line":442,"column":11},"end":{"line":445,"column":5}},"230":{"start":{"line":443,"column":6},"end":{"line":443,"column":88}},"231":{"start":{"line":444,"column":6},"end":{"line":444,"column":86}},"232":{"start":{"line":446,"column":4},"end":{"line":446,"column":32}},"233":{"start":{"line":449,"column":10},"end":{"line":469,"column":3}},"234":{"start":{"line":450,"column":4},"end":{"line":450,"column":39}},"235":{"start":{"line":451,"column":4},"end":{"line":451,"column":44}},"236":{"start":{"line":452,"column":4},"end":{"line":452,"column":51}},"237":{"start":{"line":453,"column":4},"end":{"line":457,"column":5}},"238":{"start":{"line":454,"column":6},"end":{"line":454,"column":46}},"239":{"start":{"line":455,"column":6},"end":{"line":455,"column":44}},"240":{"start":{"line":456,"column":6},"end":{"line":456,"column":42}},"241":{"start":{"line":458,"column":4},"end":{"line":458,"column":67}},"242":{"start":{"line":459,"column":4},"end":{"line":459,"column":68}},"243":{"start":{"line":460,"column":4},"end":{"line":460,"column":61}},"244":{"start":{"line":461,"column":4},"end":{"line":461,"column":53}},"245":{"start":{"line":462,"column":4},"end":{"line":462,"column":51}},"246":{"start":{"line":463,"column":4},"end":{"line":463,"column":64}},"247":{"start":{"line":464,"column":4},"end":{"line":468,"column":5}},"248":{"start":{"line":465,"column":6},"end":{"line":465,"column":59}},"249":{"start":{"line":467,"column":6},"end":{"line":467,"column":62}},"250":{"start":{"line":471,"column":10},"end":{"line":490,"column":3}},"251":{"start":{"line":471,"column":2},"end":{"line":490,"column":3}},"252":{"start":{"line":472,"column":4},"end":{"line":474,"column":7}},"253":{"start":{"line":473,"column":6},"end":{"line":473,"column":88}},"254":{"start":{"line":475,"column":4},"end":{"line":477,"column":7}},"255":{"start":{"line":476,"column":6},"end":{"line":476,"column":91}},"256":{"start":{"line":478,"column":4},"end":{"line":480,"column":7}},"257":{"start":{"line":479,"column":6},"end":{"line":479,"column":90}},"258":{"start":{"line":481,"column":4},"end":{"line":481,"column":31}},"259":{"start":{"line":482,"column":4},"end":{"line":482,"column":39}},"260":{"start":{"line":483,"column":4},"end":{"line":483,"column":43}},"261":{"start":{"line":484,"column":4},"end":{"line":484,"column":67}},"262":{"start":{"line":485,"column":4},"end":{"line":485,"column":72}},"263":{"start":{"line":486,"column":4},"end":{"line":486,"column":80}},"264":{"start":{"line":487,"column":4},"end":{"line":487,"column":50}},"265":{"start":{"line":488,"column":4},"end":{"line":488,"column":54}},"266":{"start":{"line":489,"column":4},"end":{"line":489,"column":83}},"267":{"start":{"line":491,"column":0},"end":{"line":491,"column":1}},"268":{"start":{"line":271,"column":13},"end":{"line":491,"column":1}},"269":{"start":{"line":493,"column":0},"end":{"line":543,"column":1}},"270":{"start":{"line":497,"column":2},"end":{"line":500,"column":3}},"271":{"start":{"line":497,"column":21},"end":{"line":497,"column":35}},"272":{"start":{"line":498,"column":4},"end":{"line":498,"column":51}},"273":{"start":{"line":499,"column":4},"end":{"line":499,"column":52}},"274":{"start":{"line":502,"column":9},"end":{"line":507,"column":3}},"275":{"start":{"line":503,"column":4},"end":{"line":503,"column":45}},"276":{"start":{"line":504,"column":4},"end":{"line":504,"column":47}},"277":{"start":{"line":505,"column":4},"end":{"line":505,"column":50}},"278":{"start":{"line":506,"column":4},"end":{"line":506,"column":35}},"279":{"start":{"line":509,"column":9},"end":{"line":518,"column":3}},"280":{"start":{"line":510,"column":4},"end":{"line":516,"column":5}},"281":{"start":{"line":511,"column":6},"end":{"line":511,"column":37}},"282":{"start":{"line":512,"column":6},"end":{"line":512,"column":32}},"283":{"start":{"line":514,"column":6},"end":{"line":514,"column":43}},"284":{"start":{"line":515,"column":6},"end":{"line":515,"column":44}},"285":{"start":{"line":517,"column":4},"end":{"line":517,"column":23}},"286":{"start":{"line":520,"column":9},"end":{"line":523,"column":3}},"287":{"start":{"line":521,"column":4},"end":{"line":521,"column":41}},"288":{"start":{"line":522,"column":4},"end":{"line":522,"column":42}},"289":{"start":{"line":525,"column":9},"end":{"line":530,"column":3}},"290":{"start":{"line":526,"column":4},"end":{"line":526,"column":38}},"291":{"start":{"line":527,"column":4},"end":{"line":527,"column":69}},"292":{"start":{"line":528,"column":4},"end":{"line":528,"column":68}},"293":{"start":{"line":529,"column":4},"end":{"line":529,"column":70}},"294":{"start":{"line":532,"column":9},"end":{"line":534,"column":3}},"295":{"start":{"line":533,"column":4},"end":{"line":533,"column":76}},"296":{"start":{"line":536,"column":9},"end":{"line":538,"column":3}},"297":{"start":{"line":537,"column":4},"end":{"line":537,"column":74}},"298":{"start":{"line":540,"column":9},"end":{"line":542,"column":3}},"299":{"start":{"line":541,"column":4},"end":{"line":541,"column":70}},"300":{"start":{"line":543,"column":0},"end":{"line":543,"column":1}},"301":{"start":{"line":545,"column":0},"end":{"line":612,"column":1}},"302":{"start":{"line":551,"column":2},"end":{"line":560,"column":3}},"303":{"start":{"line":551,"column":21},"end":{"line":551,"column":35}},"304":{"start":{"line":552,"column":4},"end":{"line":552,"column":25}},"305":{"start":{"line":553,"column":4},"end":{"line":553,"column":23}},"306":{"start":{"line":554,"column":4},"end":{"line":559,"column":5}},"307":{"start":{"line":555,"column":6},"end":{"line":555,"column":149}},"308":{"start":{"line":556,"column":11},"end":{"line":559,"column":5}},"309":{"start":{"line":557,"column":6},"end":{"line":557,"column":145}},"310":{"start":{"line":558,"column":6},"end":{"line":558,"column":141}},"311":{"start":{"line":562,"column":9},"end":{"line":567,"column":3}},"312":{"start":{"line":563,"column":4},"end":{"line":565,"column":10}},"313":{"start":{"line":566,"column":4},"end":{"line":566,"column":24}},"314":{"start":{"line":569,"column":9},"end":{"line":571,"column":3}},"315":{"start":{"line":570,"column":4},"end":{"line":570,"column":35}},"316":{"start":{"line":573,"column":9},"end":{"line":575,"column":3}},"317":{"start":{"line":574,"column":4},"end":{"line":574,"column":40}},"318":{"start":{"line":577,"column":9},"end":{"line":579,"column":3}},"319":{"start":{"line":578,"column":4},"end":{"line":578,"column":40}},"320":{"start":{"line":581,"column":9},"end":{"line":583,"column":3}},"321":{"start":{"line":582,"column":4},"end":{"line":582,"column":49}},"322":{"start":{"line":585,"column":9},"end":{"line":588,"column":3}},"323":{"start":{"line":586,"column":4},"end":{"line":586,"column":50}},"324":{"start":{"line":587,"column":4},"end":{"line":587,"column":175}},"325":{"start":{"line":590,"column":9},"end":{"line":592,"column":3}},"326":{"start":{"line":591,"column":4},"end":{"line":591,"column":31}},"327":{"start":{"line":594,"column":10},"end":{"line":611,"column":3}},"328":{"start":{"line":594,"column":26},"end":{"line":594,"column":58}},"329":{"start":{"line":595,"column":4},"end":{"line":595,"column":26}},"330":{"start":{"line":596,"column":4},"end":{"line":596,"column":27}},"331":{"start":{"line":598,"column":4},"end":{"line":609,"column":5}},"332":{"start":{"line":599,"column":6},"end":{"line":599,"column":40}},"333":{"start":{"line":600,"column":6},"end":{"line":600,"column":42}},"334":{"start":{"line":601,"column":6},"end":{"line":601,"column":39}},"335":{"start":{"line":602,"column":6},"end":{"line":602,"column":40}},"336":{"start":{"line":603,"column":6},"end":{"line":603,"column":94}},"337":{"start":{"line":604,"column":6},"end":{"line":604,"column":96}},"338":{"start":{"line":605,"column":6},"end":{"line":605,"column":25}},"339":{"start":{"line":607,"column":6},"end":{"line":607,"column":57}},"340":{"start":{"line":608,"column":6},"end":{"line":608,"column":59}},"341":{"start":{"line":610,"column":4},"end":{"line":610,"column":83}},"342":{"start":{"line":612,"column":0},"end":{"line":612,"column":1}},"343":{"start":{"line":614,"column":0},"end":{"line":815,"column":1}},"344":{"start":{"line":621,"column":2},"end":{"line":639,"column":3}},"345":{"start":{"line":621,"column":21},"end":{"line":621,"column":35}},"346":{"start":{"line":622,"column":4},"end":{"line":622,"column":67}},"347":{"start":{"line":623,"column":4},"end":{"line":623,"column":32}},"348":{"start":{"line":624,"column":4},"end":{"line":624,"column":31}},"349":{"start":{"line":625,"column":4},"end":{"line":630,"column":47}},"350":{"start":{"line":631,"column":4},"end":{"line":631,"column":101}},"351":{"start":{"line":633,"column":4},"end":{"line":635,"column":10}},"352":{"start":{"line":636,"column":4},"end":{"line":636,"column":40}},"353":{"start":{"line":637,"column":4},"end":{"line":637,"column":49}},"354":{"start":{"line":638,"column":4},"end":{"line":638,"column":76}},"355":{"start":{"line":641,"column":9},"end":{"line":658,"column":3}},"356":{"start":{"line":641,"column":14},"end":{"line":641,"column":53}},"357":{"start":{"line":642,"column":4},"end":{"line":657,"column":5}},"358":{"start":{"line":643,"column":6},"end":{"line":643,"column":61}},"359":{"start":{"line":644,"column":6},"end":{"line":644,"column":63}},"360":{"start":{"line":645,"column":6},"end":{"line":645,"column":116}},"361":{"start":{"line":646,"column":6},"end":{"line":646,"column":118}},"362":{"start":{"line":648,"column":6},"end":{"line":648,"column":46}},"363":{"start":{"line":649,"column":6},"end":{"line":649,"column":40}},"364":{"start":{"line":650,"column":6},"end":{"line":650,"column":32}},"365":{"start":{"line":652,"column":6},"end":{"line":652,"column":61}},"366":{"start":{"line":653,"column":6},"end":{"line":653,"column":56}},"367":{"start":{"line":654,"column":6},"end":{"line":654,"column":69}},"368":{"start":{"line":655,"column":6},"end":{"line":655,"column":69}},"369":{"start":{"line":656,"column":6},"end":{"line":656,"column":26}},"370":{"start":{"line":660,"column":10},"end":{"line":663,"column":3}},"371":{"start":{"line":661,"column":4},"end":{"line":661,"column":42}},"372":{"start":{"line":662,"column":4},"end":{"line":662,"column":69}},"373":{"start":{"line":665,"column":10},"end":{"line":673,"column":3}},"374":{"start":{"line":666,"column":4},"end":{"line":666,"column":37}},"375":{"start":{"line":667,"column":4},"end":{"line":669,"column":8}},"376":{"start":{"line":668,"column":6},"end":{"line":668,"column":20}},"377":{"start":{"line":670,"column":4},"end":{"line":672,"column":9}},"378":{"start":{"line":671,"column":6},"end":{"line":671,"column":16}},"379":{"start":{"line":675,"column":10},"end":{"line":681,"column":3}},"380":{"start":{"line":676,"column":4},"end":{"line":676,"column":53}},"381":{"start":{"line":677,"column":4},"end":{"line":680,"column":5}},"382":{"start":{"line":678,"column":6},"end":{"line":678,"column":66}},"383":{"start":{"line":679,"column":6},"end":{"line":679,"column":60}},"384":{"start":{"line":683,"column":10},"end":{"line":693,"column":3}},"385":{"start":{"line":684,"column":4},"end":{"line":692,"column":5}},"386":{"start":{"line":685,"column":6},"end":{"line":685,"column":71}},"387":{"start":{"line":686,"column":6},"end":{"line":686,"column":75}},"388":{"start":{"line":687,"column":6},"end":{"line":687,"column":38}},"389":{"start":{"line":688,"column":6},"end":{"line":691,"column":7}},"390":{"start":{"line":689,"column":8},"end":{"line":689,"column":103}},"391":{"start":{"line":690,"column":8},"end":{"line":690,"column":38}},"392":{"start":{"line":695,"column":10},"end":{"line":706,"column":3}},"393":{"start":{"line":696,"column":4},"end":{"line":696,"column":40}},"394":{"start":{"line":697,"column":4},"end":{"line":705,"column":5}},"395":{"start":{"line":698,"column":6},"end":{"line":698,"column":78}},"396":{"start":{"line":699,"column":6},"end":{"line":699,"column":72}},"397":{"start":{"line":700,"column":6},"end":{"line":700,"column":48}},"398":{"start":{"line":701,"column":6},"end":{"line":704,"column":7}},"399":{"start":{"line":702,"column":8},"end":{"line":702,"column":100}},"400":{"start":{"line":703,"column":8},"end":{"line":703,"column":38}},"401":{"start":{"line":708,"column":10},"end":{"line":713,"column":3}},"402":{"start":{"line":709,"column":4},"end":{"line":709,"column":50}},"403":{"start":{"line":710,"column":4},"end":{"line":710,"column":44}},"404":{"start":{"line":711,"column":4},"end":{"line":711,"column":46}},"405":{"start":{"line":712,"column":4},"end":{"line":712,"column":136}},"406":{"start":{"line":715,"column":10},"end":{"line":725,"column":3}},"407":{"start":{"line":716,"column":4},"end":{"line":724,"column":52}},"408":{"start":{"line":727,"column":10},"end":{"line":737,"column":3}},"409":{"start":{"line":728,"column":4},"end":{"line":736,"column":56}},"410":{"start":{"line":739,"column":10},"end":{"line":749,"column":3}},"411":{"start":{"line":740,"column":4},"end":{"line":748,"column":5}},"412":{"start":{"line":741,"column":6},"end":{"line":741,"column":28}},"413":{"start":{"line":742,"column":11},"end":{"line":748,"column":5}},"414":{"start":{"line":743,"column":6},"end":{"line":743,"column":28}},"415":{"start":{"line":744,"column":11},"end":{"line":748,"column":5}},"416":{"start":{"line":745,"column":6},"end":{"line":745,"column":28}},"417":{"start":{"line":747,"column":6},"end":{"line":747,"column":16}},"418":{"start":{"line":751,"column":10},"end":{"line":768,"column":3}},"419":{"start":{"line":752,"column":4},"end":{"line":754,"column":7}},"420":{"start":{"line":755,"column":4},"end":{"line":755,"column":68}},"421":{"start":{"line":757,"column":4},"end":{"line":759,"column":7}},"422":{"start":{"line":760,"column":4},"end":{"line":760,"column":31}},"423":{"start":{"line":761,"column":4},"end":{"line":761,"column":29}},"424":{"start":{"line":762,"column":4},"end":{"line":762,"column":41}},"425":{"start":{"line":763,"column":4},"end":{"line":763,"column":39}},"426":{"start":{"line":765,"column":4},"end":{"line":765,"column":41}},"427":{"start":{"line":766,"column":4},"end":{"line":766,"column":97}},"428":{"start":{"line":767,"column":4},"end":{"line":767,"column":59}},"429":{"start":{"line":770,"column":10},"end":{"line":774,"column":3}},"430":{"start":{"line":770,"column":2},"end":{"line":774,"column":3}},"431":{"start":{"line":771,"column":4},"end":{"line":773,"column":5}},"432":{"start":{"line":772,"column":6},"end":{"line":772,"column":28}},"433":{"start":{"line":776,"column":10},"end":{"line":780,"column":3}},"434":{"start":{"line":776,"column":2},"end":{"line":780,"column":3}},"435":{"start":{"line":777,"column":4},"end":{"line":779,"column":5}},"436":{"start":{"line":778,"column":6},"end":{"line":778,"column":24}},"437":{"start":{"line":782,"column":10},"end":{"line":786,"column":3}},"438":{"start":{"line":782,"column":2},"end":{"line":786,"column":3}},"439":{"start":{"line":783,"column":4},"end":{"line":785,"column":5}},"440":{"start":{"line":784,"column":6},"end":{"line":784,"column":33}},"441":{"start":{"line":788,"column":10},"end":{"line":792,"column":3}},"442":{"start":{"line":788,"column":2},"end":{"line":792,"column":3}},"443":{"start":{"line":789,"column":4},"end":{"line":791,"column":5}},"444":{"start":{"line":790,"column":6},"end":{"line":790,"column":71}},"445":{"start":{"line":794,"column":10},"end":{"line":802,"column":3}},"446":{"start":{"line":794,"column":2},"end":{"line":802,"column":3}},"447":{"start":{"line":795,"column":4},"end":{"line":801,"column":5}},"448":{"start":{"line":796,"column":6},"end":{"line":800,"column":8}},"449":{"start":{"line":804,"column":10},"end":{"line":808,"column":3}},"450":{"start":{"line":804,"column":2},"end":{"line":808,"column":3}},"451":{"start":{"line":805,"column":4},"end":{"line":807,"column":5}},"452":{"start":{"line":806,"column":6},"end":{"line":806,"column":32}},"453":{"start":{"line":810,"column":10},"end":{"line":814,"column":3}},"454":{"start":{"line":810,"column":2},"end":{"line":814,"column":3}},"455":{"start":{"line":811,"column":4},"end":{"line":813,"column":5}},"456":{"start":{"line":812,"column":6},"end":{"line":812,"column":42}},"457":{"start":{"line":815,"column":0},"end":{"line":815,"column":1}}},"fnMap":{"1":{"name":"(anonymous_3499)","line":65,"loc":{"start":{"line":65,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Slider","line":74,"loc":{"start":{"line":74,"column":2},"end":{"line":74,"column":99}}},"3":{"name":"(anonymous_3501)","line":93,"loc":{"start":{"line":93,"column":36},"end":{"line":93,"column":51}}},"4":{"name":"(anonymous_3502)","line":99,"loc":{"start":{"line":99,"column":39},"end":{"line":99,"column":54}}},"5":{"name":"(anonymous_3503)","line":114,"loc":{"start":{"line":114,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_3504)","line":128,"loc":{"start":{"line":128,"column":2},"end":{"line":128,"column":82}}},"7":{"name":"(anonymous_3505)","line":145,"loc":{"start":{"line":145,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_3506)","line":153,"loc":{"start":{"line":153,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_3507)","line":161,"loc":{"start":{"line":161,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_3508)","line":173,"loc":{"start":{"line":173,"column":2},"end":{"line":173,"column":45}}},"11":{"name":"(anonymous_3509)","line":177,"loc":{"start":{"line":177,"column":2},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_3510)","line":181,"loc":{"start":{"line":181,"column":2},"end":{"line":181,"column":35}}},"13":{"name":"(anonymous_3511)","line":197,"loc":{"start":{"line":197,"column":2},"end":{"line":197,"column":44}}},"14":{"name":"(anonymous_3512)","line":203,"loc":{"start":{"line":203,"column":2},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_3513)","line":208,"loc":{"start":{"line":208,"column":2},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_3514)","line":220,"loc":{"start":{"line":220,"column":2},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_3515)","line":239,"loc":{"start":{"line":239,"column":0},"end":{"line":null,"column":-1}}},"18":{"name":"SliderLine","line":243,"loc":{"start":{"line":243,"column":2},"end":{"line":243,"column":35}}},"19":{"name":"(anonymous_3517)","line":246,"loc":{"start":{"line":246,"column":2},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_3518)","line":258,"loc":{"start":{"line":258,"column":2},"end":{"line":258,"column":73}}},"21":{"name":"(anonymous_3519)","line":271,"loc":{"start":{"line":271,"column":0},"end":{"line":null,"column":-1}}},"22":{"name":"SliderButton","line":287,"loc":{"start":{"line":287,"column":2},"end":{"line":287,"column":58}}},"23":{"name":"(anonymous_3521)","line":290,"loc":{"start":{"line":290,"column":2},"end":{"line":null,"column":-1}}},"24":{"name":"(anonymous_3522)","line":300,"loc":{"start":{"line":300,"column":2},"end":{"line":null,"column":-1}}},"25":{"name":"(anonymous_3523)","line":304,"loc":{"start":{"line":304,"column":2},"end":{"line":null,"column":-1}}},"26":{"name":"(anonymous_3524)","line":308,"loc":{"start":{"line":308,"column":2},"end":{"line":308,"column":31}}},"27":{"name":"(anonymous_3525)","line":313,"loc":{"start":{"line":313,"column":2},"end":{"line":null,"column":-1}}},"28":{"name":"(anonymous_3526)","line":322,"loc":{"start":{"line":322,"column":2},"end":{"line":322,"column":57}}},"29":{"name":"(anonymous_3527)","line":329,"loc":{"start":{"line":329,"column":2},"end":{"line":null,"column":-1}}},"30":{"name":"(anonymous_3528)","line":334,"loc":{"start":{"line":334,"column":2},"end":{"line":334,"column":41}}},"31":{"name":"(anonymous_3529)","line":338,"loc":{"start":{"line":338,"column":2},"end":{"line":338,"column":45}}},"32":{"name":"(anonymous_3530)","line":343,"loc":{"start":{"line":343,"column":2},"end":{"line":343,"column":42}}},"33":{"name":"(anonymous_3531)","line":348,"loc":{"start":{"line":348,"column":2},"end":{"line":null,"column":-1}}},"34":{"name":"(anonymous_3532)","line":349,"loc":{"start":{"line":349,"column":45},"end":{"line":349,"column":59}}},"35":{"name":"(anonymous_3533)","line":353,"loc":{"start":{"line":353,"column":46},"end":{"line":353,"column":60}}},"36":{"name":"(anonymous_3534)","line":360,"loc":{"start":{"line":360,"column":44},"end":{"line":null,"column":-1}}},"37":{"name":"(anonymous_3535)","line":365,"loc":{"start":{"line":365,"column":2},"end":{"line":null,"column":-1}}},"38":{"name":"(anonymous_3536)","line":378,"loc":{"start":{"line":378,"column":2},"end":{"line":378,"column":40}}},"39":{"name":"(anonymous_3537)","line":395,"loc":{"start":{"line":395,"column":2},"end":{"line":395,"column":36}}},"40":{"name":"(anonymous_3538)","line":407,"loc":{"start":{"line":407,"column":2},"end":{"line":null,"column":-1}}},"41":{"name":"(anonymous_3539)","line":420,"loc":{"start":{"line":420,"column":2},"end":{"line":null,"column":-1}}},"42":{"name":"(anonymous_3540)","line":433,"loc":{"start":{"line":433,"column":2},"end":{"line":433,"column":40}}},"43":{"name":"(anonymous_3541)","line":449,"loc":{"start":{"line":449,"column":2},"end":{"line":449,"column":38}}},"44":{"name":"(anonymous_3542)","line":471,"loc":{"start":{"line":471,"column":2},"end":{"line":471,"column":34}}},"45":{"name":"(anonymous_3543)","line":472,"loc":{"start":{"line":472,"column":41},"end":{"line":472,"column":49}}},"46":{"name":"(anonymous_3544)","line":475,"loc":{"start":{"line":475,"column":45},"end":{"line":475,"column":53}}},"47":{"name":"(anonymous_3545)","line":478,"loc":{"start":{"line":478,"column":45},"end":{"line":478,"column":53}}},"48":{"name":"(anonymous_3546)","line":493,"loc":{"start":{"line":493,"column":0},"end":{"line":null,"column":-1}}},"49":{"name":"SliderRange","line":497,"loc":{"start":{"line":497,"column":2},"end":{"line":497,"column":35}}},"50":{"name":"(anonymous_3548)","line":502,"loc":{"start":{"line":502,"column":2},"end":{"line":null,"column":-1}}},"51":{"name":"(anonymous_3549)","line":509,"loc":{"start":{"line":509,"column":2},"end":{"line":509,"column":53}}},"52":{"name":"(anonymous_3550)","line":520,"loc":{"start":{"line":520,"column":2},"end":{"line":520,"column":34}}},"53":{"name":"(anonymous_3551)","line":525,"loc":{"start":{"line":525,"column":2},"end":{"line":null,"column":-1}}},"54":{"name":"(anonymous_3552)","line":532,"loc":{"start":{"line":532,"column":2},"end":{"line":null,"column":-1}}},"55":{"name":"(anonymous_3553)","line":536,"loc":{"start":{"line":536,"column":2},"end":{"line":null,"column":-1}}},"56":{"name":"(anonymous_3554)","line":540,"loc":{"start":{"line":540,"column":2},"end":{"line":null,"column":-1}}},"57":{"name":"(anonymous_3555)","line":545,"loc":{"start":{"line":545,"column":0},"end":{"line":null,"column":-1}}},"58":{"name":"SliderCaption","line":551,"loc":{"start":{"line":551,"column":2},"end":{"line":551,"column":35}}},"59":{"name":"(anonymous_3557)","line":562,"loc":{"start":{"line":562,"column":2},"end":{"line":null,"column":-1}}},"60":{"name":"(anonymous_3558)","line":569,"loc":{"start":{"line":569,"column":2},"end":{"line":null,"column":-1}}},"61":{"name":"(anonymous_3559)","line":573,"loc":{"start":{"line":573,"column":2},"end":{"line":573,"column":46}}},"62":{"name":"(anonymous_3560)","line":577,"loc":{"start":{"line":577,"column":2},"end":{"line":577,"column":55}}},"63":{"name":"(anonymous_3561)","line":581,"loc":{"start":{"line":581,"column":2},"end":{"line":null,"column":-1}}},"64":{"name":"(anonymous_3562)","line":585,"loc":{"start":{"line":585,"column":2},"end":{"line":null,"column":-1}}},"65":{"name":"(anonymous_3563)","line":590,"loc":{"start":{"line":590,"column":2},"end":{"line":590,"column":34}}},"66":{"name":"(anonymous_3564)","line":594,"loc":{"start":{"line":594,"column":2},"end":{"line":594,"column":58}}},"67":{"name":"(anonymous_3565)","line":614,"loc":{"start":{"line":614,"column":0},"end":{"line":null,"column":-1}}},"68":{"name":"SliderGraph","line":621,"loc":{"start":{"line":621,"column":2},"end":{"line":621,"column":35}}},"69":{"name":"(anonymous_3567)","line":641,"loc":{"start":{"line":641,"column":2},"end":{"line":641,"column":53}}},"70":{"name":"(anonymous_3568)","line":660,"loc":{"start":{"line":660,"column":2},"end":{"line":660,"column":53}}},"71":{"name":"(anonymous_3569)","line":665,"loc":{"start":{"line":665,"column":2},"end":{"line":665,"column":49}}},"72":{"name":"(anonymous_3570)","line":667,"loc":{"start":{"line":667,"column":30},"end":{"line":667,"column":32}}},"73":{"name":"(anonymous_3571)","line":670,"loc":{"start":{"line":670,"column":35},"end":{"line":670,"column":37}}},"74":{"name":"(anonymous_3572)","line":675,"loc":{"start":{"line":675,"column":2},"end":{"line":675,"column":56}}},"75":{"name":"(anonymous_3573)","line":683,"loc":{"start":{"line":683,"column":2},"end":{"line":683,"column":91}}},"76":{"name":"(anonymous_3574)","line":695,"loc":{"start":{"line":695,"column":2},"end":{"line":695,"column":85}}},"77":{"name":"(anonymous_3575)","line":708,"loc":{"start":{"line":708,"column":2},"end":{"line":708,"column":59}}},"78":{"name":"(anonymous_3576)","line":715,"loc":{"start":{"line":715,"column":2},"end":{"line":715,"column":112}}},"79":{"name":"(anonymous_3577)","line":727,"loc":{"start":{"line":727,"column":2},"end":{"line":727,"column":104}}},"80":{"name":"(anonymous_3578)","line":739,"loc":{"start":{"line":739,"column":2},"end":{"line":739,"column":83}}},"81":{"name":"(anonymous_3579)","line":751,"loc":{"start":{"line":751,"column":2},"end":{"line":751,"column":56}}},"82":{"name":"(anonymous_3580)","line":770,"loc":{"start":{"line":770,"column":2},"end":{"line":null,"column":-1}}},"83":{"name":"(anonymous_3581)","line":771,"loc":{"start":{"line":771,"column":11},"end":{"line":771,"column":31}}},"84":{"name":"(anonymous_3582)","line":776,"loc":{"start":{"line":776,"column":2},"end":{"line":null,"column":-1}}},"85":{"name":"(anonymous_3583)","line":777,"loc":{"start":{"line":777,"column":11},"end":{"line":777,"column":31}}},"86":{"name":"(anonymous_3584)","line":782,"loc":{"start":{"line":782,"column":2},"end":{"line":782,"column":45}}},"87":{"name":"(anonymous_3585)","line":783,"loc":{"start":{"line":783,"column":11},"end":{"line":783,"column":31}}},"88":{"name":"(anonymous_3586)","line":788,"loc":{"start":{"line":788,"column":2},"end":{"line":788,"column":59}}},"89":{"name":"(anonymous_3587)","line":789,"loc":{"start":{"line":789,"column":11},"end":{"line":789,"column":16}}},"90":{"name":"(anonymous_3588)","line":794,"loc":{"start":{"line":794,"column":2},"end":{"line":null,"column":-1}}},"91":{"name":"(anonymous_3589)","line":795,"loc":{"start":{"line":795,"column":11},"end":{"line":795,"column":34}}},"92":{"name":"(anonymous_3590)","line":804,"loc":{"start":{"line":804,"column":2},"end":{"line":804,"column":48}}},"93":{"name":"(anonymous_3591)","line":805,"loc":{"start":{"line":805,"column":11},"end":{"line":805,"column":31}}},"94":{"name":"(anonymous_3592)","line":810,"loc":{"start":{"line":810,"column":2},"end":{"line":null,"column":-1}}},"95":{"name":"(anonymous_3593)","line":811,"loc":{"start":{"line":811,"column":11},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":4},"end":{"line":75,"column":3}},{"start":{"line":75,"column":4},"end":{"line":75,"column":3}}]},"2":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":4},"end":{"line":80,"column":3}},{"start":{"line":80,"column":4},"end":{"line":80,"column":3}}]},"3":{"line":84,"type":"if","locations":[{"start":{"line":84,"column":4},"end":{"line":84,"column":3}},{"start":{"line":84,"column":4},"end":{"line":84,"column":3}}]},"4":{"line":84,"type":"binary-expr","locations":[{"start":{"line":84,"column":8},"end":{"line":84,"column":26}},{"start":{"line":84,"column":30},"end":{"line":84,"column":51}}]},"5":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":4},"end":{"line":88,"column":3}},{"start":{"line":88,"column":4},"end":{"line":88,"column":3}}]},"6":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":4},"end":{"line":97,"column":3}},{"start":{"line":97,"column":4},"end":{"line":97,"column":3}}]},"7":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":4},"end":{"line":115,"column":3}},{"start":{"line":115,"column":4},"end":{"line":115,"column":3}}]},"8":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":4},"end":{"line":122,"column":3}},{"start":{"line":122,"column":4},"end":{"line":122,"column":3}}]},"9":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":25},"end":{"line":128,"column":24}},{"start":{"line":128,"column":25},"end":{"line":128,"column":24}}]},"10":{"line":130,"type":"if","locations":[{"start":{"line":130,"column":4},"end":{"line":130,"column":3}},{"start":{"line":130,"column":4},"end":{"line":130,"column":3}}]},"11":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":6},"end":{"line":134,"column":5}},{"start":{"line":134,"column":6},"end":{"line":134,"column":5}}]},"12":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":4},"end":{"line":146,"column":3}},{"start":{"line":146,"column":4},"end":{"line":146,"column":3}}]},"13":{"line":154,"type":"if","locations":[{"start":{"line":154,"column":4},"end":{"line":154,"column":3}},{"start":{"line":154,"column":4},"end":{"line":154,"column":3}}]},"14":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":4},"end":{"line":162,"column":3}},{"start":{"line":162,"column":4},"end":{"line":162,"column":3}}]},"15":{"line":165,"type":"if","locations":[{"start":{"line":165,"column":6},"end":{"line":165,"column":5}},{"start":{"line":165,"column":6},"end":{"line":165,"column":5}}]},"16":{"line":182,"type":"if","locations":[{"start":{"line":182,"column":4},"end":{"line":182,"column":3}},{"start":{"line":182,"column":4},"end":{"line":182,"column":3}}]},"17":{"line":187,"type":"if","locations":[{"start":{"line":187,"column":4},"end":{"line":187,"column":3}},{"start":{"line":187,"column":4},"end":{"line":187,"column":3}}]},"18":{"line":198,"type":"if","locations":[{"start":{"line":198,"column":4},"end":{"line":198,"column":3}},{"start":{"line":198,"column":4},"end":{"line":198,"column":3}}]},"19":{"line":209,"type":"if","locations":[{"start":{"line":209,"column":4},"end":{"line":209,"column":3}},{"start":{"line":209,"column":4},"end":{"line":209,"column":3}}]},"20":{"line":211,"type":"if","locations":[{"start":{"line":211,"column":11},"end":{"line":211,"column":10}},{"start":{"line":211,"column":11},"end":{"line":211,"column":10}}]},"21":{"line":213,"type":"if","locations":[{"start":{"line":213,"column":11},"end":{"line":213,"column":10}},{"start":{"line":213,"column":11},"end":{"line":213,"column":10}}]},"22":{"line":213,"type":"binary-expr","locations":[{"start":{"line":213,"column":15},"end":{"line":213,"column":57}},{"start":{"line":213,"column":61},"end":{"line":213,"column":113}},{"start":{"line":213,"column":117},"end":{"line":213,"column":153}}]},"23":{"line":221,"type":"if","locations":[{"start":{"line":221,"column":4},"end":{"line":221,"column":3}},{"start":{"line":221,"column":4},"end":{"line":221,"column":3}}]},"24":{"line":225,"type":"if","locations":[{"start":{"line":225,"column":6},"end":{"line":225,"column":5}},{"start":{"line":225,"column":6},"end":{"line":225,"column":5}}]},"25":{"line":259,"type":"if","locations":[{"start":{"line":259,"column":4},"end":{"line":259,"column":3}},{"start":{"line":259,"column":4},"end":{"line":259,"column":3}}]},"26":{"line":283,"type":"cond-expr","locations":[{"start":{"line":283,"column":58},"end":{"line":283,"column":70}},{"start":{"line":283,"column":73},"end":{"line":283,"column":84}}]},"27":{"line":284,"type":"cond-expr","locations":[{"start":{"line":284,"column":58},"end":{"line":284,"column":69}},{"start":{"line":284,"column":72},"end":{"line":284,"column":83}}]},"28":{"line":285,"type":"cond-expr","locations":[{"start":{"line":285,"column":56},"end":{"line":285,"column":66}},{"start":{"line":285,"column":69},"end":{"line":285,"column":78}}]},"29":{"line":315,"type":"if","locations":[{"start":{"line":315,"column":4},"end":{"line":315,"column":3}},{"start":{"line":315,"column":4},"end":{"line":315,"column":3}}]},"30":{"line":322,"type":"if","locations":[{"start":{"line":322,"column":20},"end":{"line":322,"column":19}},{"start":{"line":322,"column":20},"end":{"line":322,"column":19}}]},"31":{"line":323,"type":"if","locations":[{"start":{"line":323,"column":4},"end":{"line":323,"column":3}},{"start":{"line":323,"column":4},"end":{"line":323,"column":3}}]},"32":{"line":352,"type":"binary-expr","locations":[{"start":{"line":352,"column":14},"end":{"line":352,"column":42}},{"start":{"line":352,"column":46},"end":{"line":352,"column":54}}]},"33":{"line":354,"type":"if","locations":[{"start":{"line":354,"column":6},"end":{"line":354,"column":5}},{"start":{"line":354,"column":6},"end":{"line":354,"column":5}}]},"34":{"line":354,"type":"binary-expr","locations":[{"start":{"line":354,"column":10},"end":{"line":354,"column":44}},{"start":{"line":354,"column":48},"end":{"line":354,"column":64}}]},"35":{"line":366,"type":"if","locations":[{"start":{"line":366,"column":4},"end":{"line":366,"column":3}},{"start":{"line":366,"column":4},"end":{"line":366,"column":3}}]},"36":{"line":369,"type":"if","locations":[{"start":{"line":369,"column":4},"end":{"line":369,"column":3}},{"start":{"line":369,"column":4},"end":{"line":369,"column":3}}]},"37":{"line":372,"type":"if","locations":[{"start":{"line":372,"column":4},"end":{"line":372,"column":3}},{"start":{"line":372,"column":4},"end":{"line":372,"column":3}}]},"38":{"line":396,"type":"if","locations":[{"start":{"line":396,"column":4},"end":{"line":396,"column":3}},{"start":{"line":396,"column":4},"end":{"line":396,"column":3}}]},"39":{"line":408,"type":"if","locations":[{"start":{"line":408,"column":4},"end":{"line":408,"column":3}},{"start":{"line":408,"column":4},"end":{"line":408,"column":3}}]},"40":{"line":421,"type":"if","locations":[{"start":{"line":421,"column":4},"end":{"line":421,"column":3}},{"start":{"line":421,"column":4},"end":{"line":421,"column":3}}]},"41":{"line":422,"type":"if","locations":[{"start":{"line":422,"column":6},"end":{"line":422,"column":5}},{"start":{"line":422,"column":6},"end":{"line":422,"column":5}}]},"42":{"line":423,"type":"binary-expr","locations":[{"start":{"line":423,"column":26},"end":{"line":423,"column":51}},{"start":{"line":423,"column":55},"end":{"line":423,"column":58}}]},"43":{"line":425,"type":"if","locations":[{"start":{"line":425,"column":6},"end":{"line":425,"column":5}},{"start":{"line":425,"column":6},"end":{"line":425,"column":5}}]},"44":{"line":436,"type":"if","locations":[{"start":{"line":436,"column":4},"end":{"line":436,"column":3}},{"start":{"line":436,"column":4},"end":{"line":436,"column":3}}]},"45":{"line":439,"type":"if","locations":[{"start":{"line":439,"column":11},"end":{"line":439,"column":10}},{"start":{"line":439,"column":11},"end":{"line":439,"column":10}}]},"46":{"line":439,"type":"binary-expr","locations":[{"start":{"line":439,"column":15},"end":{"line":439,"column":22}},{"start":{"line":439,"column":26},"end":{"line":439,"column":33}}]},"47":{"line":442,"type":"if","locations":[{"start":{"line":442,"column":11},"end":{"line":442,"column":10}},{"start":{"line":442,"column":11},"end":{"line":442,"column":10}}]},"48":{"line":442,"type":"binary-expr","locations":[{"start":{"line":442,"column":15},"end":{"line":442,"column":24}},{"start":{"line":442,"column":28},"end":{"line":442,"column":37}}]},"49":{"line":453,"type":"if","locations":[{"start":{"line":453,"column":4},"end":{"line":453,"column":3}},{"start":{"line":453,"column":4},"end":{"line":453,"column":3}}]},"50":{"line":453,"type":"binary-expr","locations":[{"start":{"line":453,"column":8},"end":{"line":453,"column":33}},{"start":{"line":453,"column":37},"end":{"line":453,"column":65}}]},"51":{"line":464,"type":"if","locations":[{"start":{"line":464,"column":4},"end":{"line":464,"column":3}},{"start":{"line":464,"column":4},"end":{"line":464,"column":3}}]},"52":{"line":464,"type":"binary-expr","locations":[{"start":{"line":464,"column":8},"end":{"line":464,"column":33}},{"start":{"line":464,"column":37},"end":{"line":464,"column":65}}]},"53":{"line":510,"type":"if","locations":[{"start":{"line":510,"column":4},"end":{"line":510,"column":3}},{"start":{"line":510,"column":4},"end":{"line":510,"column":3}}]},"54":{"line":554,"type":"if","locations":[{"start":{"line":554,"column":4},"end":{"line":554,"column":3}},{"start":{"line":554,"column":4},"end":{"line":554,"column":3}}]},"55":{"line":554,"type":"binary-expr","locations":[{"start":{"line":554,"column":8},"end":{"line":554,"column":44}},{"start":{"line":554,"column":48},"end":{"line":554,"column":91}}]},"56":{"line":555,"type":"cond-expr","locations":[{"start":{"line":555,"column":85},"end":{"line":555,"column":131}},{"start":{"line":555,"column":134},"end":{"line":555,"column":148}}]},"57":{"line":556,"type":"if","locations":[{"start":{"line":556,"column":11},"end":{"line":556,"column":10}},{"start":{"line":556,"column":11},"end":{"line":556,"column":10}}]},"58":{"line":556,"type":"binary-expr","locations":[{"start":{"line":556,"column":15},"end":{"line":556,"column":49}},{"start":{"line":556,"column":53},"end":{"line":556,"column":94}}]},"59":{"line":557,"type":"cond-expr","locations":[{"start":{"line":557,"column":83},"end":{"line":557,"column":127}},{"start":{"line":557,"column":130},"end":{"line":557,"column":144}}]},"60":{"line":558,"type":"cond-expr","locations":[{"start":{"line":558,"column":81},"end":{"line":558,"column":124}},{"start":{"line":558,"column":127},"end":{"line":558,"column":140}}]},"61":{"line":594,"type":"if","locations":[{"start":{"line":594,"column":26},"end":{"line":594,"column":25}},{"start":{"line":594,"column":26},"end":{"line":594,"column":25}}]},"62":{"line":598,"type":"if","locations":[{"start":{"line":598,"column":4},"end":{"line":598,"column":3}},{"start":{"line":598,"column":4},"end":{"line":598,"column":3}}]},"63":{"line":603,"type":"binary-expr","locations":[{"start":{"line":603,"column":44},"end":{"line":603,"column":74}},{"start":{"line":603,"column":78},"end":{"line":603,"column":92}}]},"64":{"line":604,"type":"binary-expr","locations":[{"start":{"line":604,"column":46},"end":{"line":604,"column":76}},{"start":{"line":604,"column":80},"end":{"line":604,"column":94}}]},"65":{"line":630,"type":"binary-expr","locations":[{"start":{"line":630,"column":7},"end":{"line":630,"column":39}},{"start":{"line":630,"column":43},"end":{"line":630,"column":45}}]},"66":{"line":631,"type":"binary-expr","locations":[{"start":{"line":631,"column":50},"end":{"line":631,"column":93}},{"start":{"line":631,"column":97},"end":{"line":631,"column":100}}]},"67":{"line":638,"type":"binary-expr","locations":[{"start":{"line":638,"column":38},"end":{"line":638,"column":69}},{"start":{"line":638,"column":73},"end":{"line":638,"column":75}}]},"68":{"line":641,"type":"if","locations":[{"start":{"line":641,"column":14},"end":{"line":641,"column":13}},{"start":{"line":641,"column":14},"end":{"line":641,"column":13}}]},"69":{"line":642,"type":"if","locations":[{"start":{"line":642,"column":4},"end":{"line":642,"column":3}},{"start":{"line":642,"column":4},"end":{"line":642,"column":3}}]},"70":{"line":677,"type":"if","locations":[{"start":{"line":677,"column":4},"end":{"line":677,"column":3}},{"start":{"line":677,"column":4},"end":{"line":677,"column":3}}]},"71":{"line":684,"type":"if","locations":[{"start":{"line":684,"column":4},"end":{"line":684,"column":3}},{"start":{"line":684,"column":4},"end":{"line":684,"column":3}}]},"72":{"line":697,"type":"if","locations":[{"start":{"line":697,"column":4},"end":{"line":697,"column":3}},{"start":{"line":697,"column":4},"end":{"line":697,"column":3}}]},"73":{"line":740,"type":"if","locations":[{"start":{"line":740,"column":4},"end":{"line":740,"column":3}},{"start":{"line":740,"column":4},"end":{"line":740,"column":3}}]},"74":{"line":740,"type":"binary-expr","locations":[{"start":{"line":740,"column":8},"end":{"line":740,"column":41}},{"start":{"line":740,"column":45},"end":{"line":740,"column":76}}]},"75":{"line":742,"type":"if","locations":[{"start":{"line":742,"column":11},"end":{"line":742,"column":10}},{"start":{"line":742,"column":11},"end":{"line":742,"column":10}}]},"76":{"line":742,"type":"binary-expr","locations":[{"start":{"line":742,"column":15},"end":{"line":742,"column":66}},{"start":{"line":742,"column":70},"end":{"line":742,"column":76}}]},"77":{"line":744,"type":"if","locations":[{"start":{"line":744,"column":11},"end":{"line":744,"column":10}},{"start":{"line":744,"column":11},"end":{"line":744,"column":10}}]},"78":{"line":744,"type":"binary-expr","locations":[{"start":{"line":744,"column":15},"end":{"line":744,"column":64}},{"start":{"line":744,"column":68},"end":{"line":744,"column":108}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":20,"8":1,"9":19,"10":19,"11":19,"12":19,"13":19,"14":2,"15":2,"16":19,"17":19,"18":19,"19":3,"20":19,"21":2,"22":19,"23":19,"24":38,"25":19,"26":1,"27":1,"28":2,"29":18,"30":18,"31":18,"32":18,"33":18,"34":19,"35":19,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":16,"47":12,"48":12,"49":0,"50":0,"51":12,"52":0,"53":12,"54":12,"55":12,"56":12,"57":1,"58":0,"59":0,"60":0,"61":1,"62":0,"63":0,"64":0,"65":1,"66":28,"67":27,"68":1,"69":0,"70":1,"71":1,"72":0,"73":1,"74":1,"75":1,"76":7,"77":7,"78":7,"79":7,"80":7,"81":0,"82":0,"83":7,"84":7,"85":7,"86":1,"87":1,"88":1,"89":1,"90":12,"91":12,"92":1,"93":19,"94":1,"95":18,"96":0,"97":18,"98":0,"99":18,"100":1,"101":3,"102":1,"103":2,"104":2,"105":2,"106":2,"107":29,"108":29,"109":0,"110":0,"111":1,"112":1,"113":1,"114":1,"115":19,"116":1,"117":19,"118":19,"119":19,"120":1,"121":37,"122":0,"123":0,"124":0,"125":0,"126":37,"127":37,"128":1,"129":1,"130":1,"131":20,"132":20,"133":20,"134":20,"135":20,"136":1,"137":20,"138":20,"139":20,"140":20,"141":1,"142":0,"143":1,"144":0,"145":1,"146":19,"147":19,"148":1,"149":38,"150":38,"151":19,"152":19,"153":1,"154":76,"155":38,"156":38,"157":0,"158":1,"159":1,"160":1,"161":1,"162":19,"163":1,"164":0,"165":0,"166":1,"167":0,"168":0,"169":1,"170":20,"171":20,"172":0,"173":20,"174":20,"175":0,"176":0,"177":0,"178":20,"179":0,"180":1,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":1,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":1,"201":0,"202":0,"203":0,"204":0,"205":0,"206":1,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":1,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":1,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":1,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":1,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":1,"268":1,"269":1,"270":1,"271":1,"272":1,"273":1,"274":1,"275":1,"276":1,"277":1,"278":1,"279":1,"280":0,"281":0,"282":0,"283":0,"284":0,"285":0,"286":1,"287":0,"288":0,"289":1,"290":0,"291":0,"292":0,"293":0,"294":1,"295":0,"296":1,"297":0,"298":1,"299":0,"300":1,"301":1,"302":1,"303":19,"304":19,"305":19,"306":19,"307":0,"308":19,"309":9,"310":9,"311":1,"312":19,"313":19,"314":1,"315":1,"316":1,"317":0,"318":1,"319":0,"320":1,"321":18,"322":1,"323":0,"324":0,"325":1,"326":1,"327":1,"328":36,"329":18,"330":18,"331":18,"332":3,"333":3,"334":3,"335":3,"336":3,"337":3,"338":3,"339":15,"340":15,"341":18,"342":1,"343":1,"344":1,"345":2,"346":2,"347":2,"348":2,"349":2,"350":2,"351":2,"352":2,"353":2,"354":2,"355":1,"356":1,"357":1,"358":1,"359":1,"360":1,"361":1,"362":1,"363":1,"364":1,"365":1,"366":1,"367":1,"368":1,"369":1,"370":1,"371":1,"372":1,"373":1,"374":1,"375":1,"376":10,"377":1,"378":10,"379":1,"380":1,"381":1,"382":1,"383":1,"384":1,"385":1,"386":0,"387":0,"388":0,"389":0,"390":0,"391":0,"392":1,"393":1,"394":1,"395":0,"396":0,"397":0,"398":0,"399":0,"400":0,"401":1,"402":1,"403":1,"404":1,"405":1,"406":1,"407":1,"408":1,"409":1,"410":1,"411":20,"412":0,"413":20,"414":2,"415":18,"416":0,"417":18,"418":1,"419":0,"420":0,"421":0,"422":0,"423":0,"424":0,"425":0,"426":0,"427":0,"428":0,"429":1,"430":2,"431":2,"432":20,"433":1,"434":2,"435":2,"436":20,"437":1,"438":2,"439":2,"440":20,"441":1,"442":2,"443":2,"444":20,"445":1,"446":1,"447":1,"448":0,"449":1,"450":1,"451":1,"452":0,"453":1,"454":1,"455":1,"456":0,"457":1},"b":{"1":[2,17],"2":[19,0],"3":[3,16],"4":[19,17],"5":[2,17],"6":[1,18],"7":[0,0],"8":[0,0],"9":[4,8],"10":[0,12],"11":[0,12],"12":[0,0],"13":[0,0],"14":[27,1],"15":[0,1],"16":[7,0],"17":[0,7],"18":[1,0],"19":[1,18],"20":[0,18],"21":[0,18],"22":[18,12,12],"23":[1,2],"24":[2,0],"25":[0,37],"26":[0,20],"27":[0,20],"28":[0,20],"29":[19,19],"30":[38,0],"31":[38,0],"32":[20,20],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,19],"55":[19,8],"56":[0,0],"57":[9,10],"58":[19,9],"59":[9,0],"60":[1,8],"61":[18,0],"62":[3,15],"63":[3,2],"64":[3,2],"65":[2,2],"66":[2,2],"67":[2,0],"68":[0,1],"69":[1,0],"70":[1,0],"71":[0,1],"72":[0,1],"73":[0,20],"74":[20,20],"75":[2,18],"76":[20,20],"77":[0,18],"78":[18,0]},"f":{"1":1,"2":19,"3":38,"4":2,"5":0,"6":12,"7":0,"8":0,"9":28,"10":0,"11":1,"12":7,"13":1,"14":12,"15":19,"16":3,"17":1,"18":19,"19":19,"20":37,"21":1,"22":20,"23":20,"24":0,"25":0,"26":19,"27":38,"28":38,"29":1,"30":19,"31":0,"32":0,"33":20,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":1,"49":1,"50":1,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1,"58":19,"59":19,"60":1,"61":0,"62":0,"63":18,"64":0,"65":1,"66":18,"67":1,"68":2,"69":1,"70":1,"71":1,"72":10,"73":10,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":20,"81":0,"82":2,"83":20,"84":2,"85":20,"86":2,"87":20,"88":2,"89":20,"90":1,"91":0,"92":1,"93":0,"94":1,"95":0},"code":"/// <reference path=\"../../../lib/d3.d.ts\" />\nimport {$$} from '../../utils/Dom';\nimport {DeviceUtils} from '../../utils/DeviceUtils';\nimport {SliderEvents, IGraphValueSelectedArgs} from '../../events/SliderEvents';\nimport {Utils} from '../../utils/Utils';\nimport d3 = require('d3');\nimport Globalize = require('globalize');\n\nexport interface IStartSlideEventArgs {\n  slider: Slider;\n  button: SliderButton;\n}\n\nexport interface IDuringSlideEventArgs {\n  slider: Slider;\n  button: SliderButton;\n}\n\nexport interface IEndSlideEventArgs {\n  slider: Slider;\n  button: SliderButton;\n}\n\nexport interface ISliderGraphData {\n  start: any;\n  y: number;\n  end: any;\n  isDate?: boolean;\n}\n\nexport interface ISliderOptions {\n  start?: any;\n  end?: any;\n  excludeOuterBounds?: boolean;\n  steps?: number;\n  getSteps?: (start: number, end: number) => number[];\n  rangeSlider?: boolean;\n  displayAsValue?: {\n    enable?: boolean;\n    unitSign?: string;\n    separator?: string;\n  };\n  displayAsPercent?: {\n    enable?: boolean;\n    separator?: string;\n  };\n  valueCaption?: (values: number[]) => string;\n  percentCaption?: (percent: number[]) => string;\n  dateFormat?: string;\n  document?: Document;\n  graph?: {\n    steps?: number;\n    animationDuration?: number;\n    margin?: {\n      top?: number;\n      bottom?: number;\n      left?: number;\n      right?: number;\n    }\n  };\n  dateField?: boolean;\n  rounded?: number;\n}\n\nexport class Slider {\n  public steps: number[] = [];\n  public currentValues: number[];\n  private sliderButton: SliderButton;\n  private sliderRange: SliderRange\n  private sliderLine: SliderLine;\n  private sliderCaption: SliderCaption;\n  private sliderGraph: SliderGraph;\n\n  constructor(public element: HTMLElement, public options: ISliderOptions, public root: HTMLElement) {\n    if (this.options.dateField) {\n      this.options.start = new Date(this.options.start).getTime();\n      this.options.end = new Date(this.options.end).getTime();\n    }\n\n    if (this.options.rounded == undefined) {\n      this.options.rounded = 0;\n    }\n\n    if (this.options.steps || this.options.getSteps) {\n      this.buildSteps();\n    }\n\n    if (this.options.graph) {\n      this.sliderGraph = new SliderGraph(this);\n    }\n\n    this.sliderLine = new SliderLine(this);\n    _.each(this.sliderLine.build(), (e: HTMLElement) => {\n      this.element.appendChild(e);\n    })\n\n    if (this.options.rangeSlider) {\n      this.sliderRange = new SliderRange(this);\n      _.each(this.sliderRange.build(), (e: HTMLElement) => {\n        this.element.appendChild(e);\n      })\n    } else {\n      this.sliderButton = new SliderButton(this, 1);\n      var btnEl = this.sliderButton.build();\n      $$(btnEl).addClass('coveo-no-range-button');\n      this.element.appendChild(btnEl);\n      this.sliderLine.setActiveWidth(this.sliderButton);\n    }\n\n    this.sliderCaption = new SliderCaption(this);\n    this.element.appendChild(this.sliderCaption.build());\n  }\n\n  public onMoving() {\n    if (this.options.rangeSlider) {\n      this.sliderRange.setBoundary();\n      this.sliderLine.setActiveWidth(this.sliderRange.firstButton, this.sliderRange.secondButton);\n    } else {\n      this.setButtonBoundary();\n      this.sliderLine.setActiveWidth(this.sliderButton);\n    }\n    if (this.options.graph) {\n      this.sliderGraph.draw();\n    }\n    this.displayCaption();\n  }\n\n  public initializeState(values: number[] = [this.options.start, this.options.end]) {\n    this.currentValues = values;\n    if (this.options.rangeSlider) {\n      this.sliderRange.initializeSliderRangeState(values);\n      this.sliderLine.setActiveWidth(this.sliderRange.firstButton, this.sliderRange.secondButton);\n    } else {\n      if (values == undefined) {\n        this.sliderButton.toEnd();\n      } else {\n        this.sliderButton.setValue(values[1]);\n      }\n      this.setButtonBoundary();\n      this.sliderLine.setActiveWidth(this.sliderButton);\n    }\n    this.displayCaption();\n  }\n\n  public getPosition() {\n    if (this.options.rangeSlider) {\n      return this.sliderRange.getPosition();\n    } else {\n      return [0, this.sliderButton.getPosition()];\n    }\n  }\n\n  public getPercentPosition() {\n    if (this.options.rangeSlider) {\n      return this.sliderRange.getPercentPosition();\n    } else {\n      return [0, this.sliderButton.getPercent()];\n    }\n  }\n\n  public getValues() {\n    if (this.currentValues != undefined) {\n      return this.currentValues;\n    } else {\n      if (this.options.rangeSlider) {\n        return this.sliderRange.getValue();\n      } else {\n        return [this.options.start, this.sliderButton.getValue()];\n      }\n    }\n  }\n\n  public getCaptionFromValue(values: number[]) {\n    return this.sliderCaption.getCaptionFromValues(values);\n  }\n\n  public getCaption() {\n    return this.sliderCaption.getCaption();\n  }\n\n  public setValues(values: number[]) {\n    if (values != undefined) {\n      values[0] = Math.max(values[0], this.options.start);\n      values[1] = Math.min(values[1], this.options.end);\n    }\n    this.currentValues = values;\n    if (this.options.rangeSlider) {\n      this.sliderRange.setValue(values);\n      this.sliderLine.setActiveWidth(this.sliderRange.firstButton, this.sliderRange.secondButton);\n    } else {\n      this.sliderButton.setValue(values[1]);\n      this.sliderLine.setActiveWidth(this.sliderButton);\n    }\n    this.displayCaption();\n  }\n\n  public drawGraph(data?: ISliderGraphData[]) {\n    if (this.sliderGraph) {\n      this.sliderGraph.draw(data);\n    }\n  }\n\n  private setButtonBoundary() {\n    this.sliderButton.leftBoundary = 0;\n    this.sliderButton.rightBoundary = this.element.clientWidth;\n  }\n\n  private displayCaption() {\n    if (this.options.valueCaption != undefined) {\n      this.sliderCaption.setFromString(this.options.valueCaption(this.getValues()));\n    } else if (this.options.percentCaption != undefined) {\n      this.sliderCaption.setFromString(this.options.percentCaption(this.getPercentPosition()));\n    } else if (this.options.displayAsPercent != undefined && this.options.displayAsPercent.separator != undefined && this.options.displayAsPercent.enable) {\n      this.sliderCaption.setAsPercent();\n    } else {\n      this.sliderCaption.setAsValue();\n    }\n  }\n\n  private buildSteps() {\n    if (this.options.getSteps) {\n      this.steps = this.options.getSteps(this.options.start, this.options.end);\n    } else {\n      var oneStep = (this.options.end - this.options.start) / Math.max(1, this.options.steps);\n      if (oneStep > 0) {\n        var currentStep = this.options.start;\n        while (currentStep <= this.options.end) {\n          this.steps.push(currentStep);\n          currentStep += oneStep;\n        }\n      } else {\n        this.steps.push(this.options.start);\n        this.steps.push(this.options.end);\n      }\n    }\n  }\n}\n\nclass SliderLine {\n  private backGround: HTMLElement;\n  private activePart: HTMLElement;\n\n  constructor(public slider: Slider) {\n  }\n\n  public build(): HTMLElement[] {\n    this.backGround = $$('div', {\n      className: 'coveo-slider-line coveo-background'\n    }).el;\n\n    this.activePart = $$('div', {\n      className: 'coveo-slider-line coveo-active'\n    }).el;\n\n    return [this.backGround, this.activePart];\n  }\n\n  public setActiveWidth(buttonOne: SliderButton, buttonTwo?: SliderButton) {\n    if (this.slider.options.rangeSlider) {\n      var width = (buttonTwo.getPercent() - buttonOne.getPercent()) * 100;\n      this.activePart.style.width = width + '%';\n      this.activePart.style.left = buttonOne.getPercent() * 100 + '%';\n      this.activePart.style.right = buttonTwo.getPercent() * 100 + '%';\n    } else {\n      var width = buttonOne.getPercent() * 100;\n      this.activePart.style.width = width + '%';\n    }\n  }\n}\n\nexport class SliderButton {\n  public leftBoundary: number;\n  public rightBoundary: number;\n  public element: HTMLElement;\n  private currentPos: number;\n  private startPositionX: number;\n  private isMouseDown: boolean;\n  private lastElementLeft: number;\n  private origUserSelect: string;\n  private origCursor: string;\n  private origZIndex: string;\n\n  private eventMouseDown = DeviceUtils.isMobileDevice() ? 'touchstart' : 'mousedown';\n  private eventMouseMove = DeviceUtils.isMobileDevice() ? 'touchmove' : 'mousemove';\n  private eventMouseUp = DeviceUtils.isMobileDevice() ? 'touchend' : 'mouseup';\n\n  constructor(public slider: Slider, private which: number) {\n  }\n\n  public build() {\n    this.element = $$('div', {\n      className: 'coveo-slider-button'\n    }).el;\n\n    this.bindEvents();\n    this.element['CoveoSliderButton'] = this;\n    return this.element\n  }\n\n  public toBeginning() {\n    this.element.style.left = '0%';\n  }\n\n  public toEnd() {\n    this.element.style.left = '100%';\n  }\n\n  public setValue(value: number) {\n    var percent = this.fromValueToPercent(value);\n    this.element.style.left = Math.round(percent * 100) + '%';\n  }\n\n  public getPosition() {\n    var left = this.element.style.left;\n    if (left.indexOf('%') != -1) {\n      return (parseFloat(left) / 100) * this.slider.element.clientWidth;\n    } else {\n      return parseFloat(left);\n    }\n  }\n\n  public getPercent(position: number = this.getPosition()) {\n    if (this.slider.element.clientWidth == 0) {\n      return 0;\n    }\n    return +(position / this.slider.element.clientWidth).toFixed(2);\n  }\n\n  public getValue() {\n    var value = this.getPercent() * (this.slider.options.end - this.slider.options.start) + this.slider.options.start;\n    return value;\n  }\n\n  public fromValueToPercent(value: number) {\n    return 1 - ((this.slider.options.end - value) / (this.slider.options.end - this.slider.options.start))\n  }\n\n  public fromPositionToValue(position: number) {\n    var percent = this.getPercent(position);\n    return this.slider.options.start + (percent * (this.slider.options.end - this.slider.options.start));\n  }\n\n  public fromValueToPosition(value: number) {\n    var percent = this.fromValueToPercent(value);\n    return this.slider.element.clientWidth * percent;\n  }\n\n  private bindEvents() {\n    $$(this.element).on(this.eventMouseDown, (e: MouseEvent) => {\n      this.handleStartSlide(e);\n    });\n    var doc = this.slider.options.document || document;\n    doc.addEventListener(this.eventMouseMove, (e: MouseEvent) => {\n      if (this.eventMouseMove == 'touchmove' && this.isMouseDown) {\n        e.preventDefault();\n      }\n      this.handleMoving(e);\n    });\n\n    doc.addEventListener(this.eventMouseUp, () => {\n      this.handleEndSlide();\n    });\n  }\n\n  private getUserSelect() {\n    if (document.body.style.msUserSelect !== undefined) {\n      return 'msUserSelect';\n    }\n    if (document.body.style.webkitUserSelect !== undefined) {\n      return 'webkitUserSelect';\n    }\n    if (document.body.style['MozUserSelect'] !== undefined) {\n      return 'MozUserSelect';\n    }\n    return 'userSelect';\n  }\n\n  private handleStartSlide(e: MouseEvent) {\n    var position = this.getMousePosition(e);\n    this.isMouseDown = true;\n    this.startPositionX = position.x;\n    this.lastElementLeft = (parseInt(this.element.style.left, 10) / 100) * this.slider.element.clientWidth;\n    this.origUserSelect = document.body.style[this.getUserSelect()];\n    this.origCursor = document.body.style.cursor;\n    document.body.style[this.getUserSelect()] = 'none';\n    document.body.style.cursor = 'pointer';\n    $$(this.element).addClass('coveo-active');\n    $$(this.element).trigger(SliderEvents.startSlide, <IStartSlideEventArgs>{\n      button: this,\n      slider: this.slider\n    });\n    e.stopPropagation();\n  }\n\n  private handleMoving(e: MouseEvent) {\n    if (this.isMouseDown) {\n      this.slider.onMoving();\n      this.updatePosition(e);\n      this.handleButtonNearEnd();\n      $$(this.element).trigger(SliderEvents.duringSlide, <IDuringSlideEventArgs>{\n        button: this,\n        slider: this.slider\n      });\n    }\n  }\n\n  private handleEndSlide() {\n    if (this.isMouseDown) {\n      document.body.style[this.getUserSelect()] = this.origUserSelect;\n      document.body.style.cursor = this.origCursor;\n      $$(this.element).removeClass('coveo-active');\n      $$(this.element).trigger(SliderEvents.endSlide, <IEndSlideEventArgs>{\n        button: this,\n        slider: this.slider\n      })\n    }\n    this.isMouseDown = false;\n  }\n\n  private handleButtonNearEnd() {\n    if (this.which == 0) {\n      if (this.origZIndex == undefined) {\n        this.origZIndex = this.element.style.zIndex || '1';\n      }\n      if (this.currentPos > 90) {\n        this.element.style.zIndex = this.origZIndex + 1;\n      } else {\n        this.element.style.zIndex = this.origZIndex;\n      }\n    }\n  }\n\n  private getMousePosition(e: MouseEvent) {\n    var posx = 0;\n    var posy = 0;\n    if (this.eventMouseMove == 'touchmove') {\n      posx = e['originalEvent']['touches'][0].pageX;\n      posy = e['originalEvent']['touches'][0].pageY;\n    } else if (e.pageX || e.pageY) {\n      posx = e.pageX;\n      posy = e.pageY;\n    } else if (e.clientX || e.clientY) {\n      posx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n      posy = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n    }\n    return { x: posx, y: posy };\n  }\n\n  private updatePosition(e: MouseEvent) {\n    var pos = this.getMousePosition(e);\n    var spanX = pos.x - this.startPositionX;\n    this.currentPos = this.lastElementLeft + spanX;\n    if (this.slider.options.steps || this.slider.options.getSteps) {\n      var snapResult = this.snapToStep(spanX);\n      this.currentPos = snapResult.position;\n      var currentValue = snapResult.value;\n    }\n    this.currentPos = Math.max(this.leftBoundary, this.currentPos);\n    this.currentPos = Math.min(this.rightBoundary, this.currentPos);\n    this.currentPos = this.getPercent(this.currentPos) * 100;\n    this.currentPos = Math.min(this.currentPos, 100);\n    this.currentPos = Math.max(this.currentPos, 0);\n    this.element.style.left = Math.round(this.currentPos) + '%';\n    if (this.slider.options.steps || this.slider.options.getSteps) {\n      this.slider.currentValues[this.which] = currentValue;\n    } else {\n      this.slider.currentValues[this.which] = this.getValue();\n    }\n  }\n\n  private snapToStep(spanX: number) {\n    var diffs = _.map(this.slider.steps, (step, i) => {\n      return Math.abs(this.currentPos - this.fromValueToPosition(this.slider.steps[i]));\n    });\n    var diffsNext = _.map(this.slider.steps, (step, i) => {\n      return Math.abs(this.rightBoundary - this.fromValueToPosition(this.slider.steps[i]));\n    });\n    var diffsPrev = _.map(this.slider.steps, (step, i) => {\n      return Math.abs(this.leftBoundary - this.fromValueToPosition(this.slider.steps[i]));\n    });\n    var nearest = _.min(diffs);\n    var nearestNext = _.min(diffsNext);\n    var nearestPrevious = _.min(diffsPrev);\n    var currentStep = this.slider.steps[_.indexOf(diffs, nearest)];\n    var nextStep = this.slider.steps[_.indexOf(diffsNext, nearestNext)];\n    var previousStep = this.slider.steps[_.indexOf(diffsPrev, nearestPrevious)];\n    currentStep = Math.min(currentStep, nextStep);\n    currentStep = Math.max(currentStep, previousStep);\n    return { position: this.fromValueToPosition(currentStep), value: currentStep };\n  }\n}\n\nclass SliderRange {\n  public firstButton: SliderButton;\n  public secondButton: SliderButton;\n\n  constructor(public slider: Slider) {\n    this.firstButton = new SliderButton(slider, 0);\n    this.secondButton = new SliderButton(slider, 1);\n  }\n\n  public build(): HTMLElement[] {\n    var firstElem = this.firstButton.build();\n    var secondElem = this.secondButton.build();\n    $$(secondElem).addClass('coveo-range-button');\n    return [firstElem, secondElem];\n  }\n\n  public initializeSliderRangeState(values?: number[]) {\n    if (values == undefined) {\n      this.firstButton.toBeginning();\n      this.secondButton.toEnd();\n    } else {\n      this.firstButton.setValue(values[0]);\n      this.secondButton.setValue(values[1]);\n    }\n    this.setBoundary();\n  }\n\n  public setValue(values: number[]) {\n    this.firstButton.setValue(values[0]);\n    this.secondButton.setValue(values[1]);\n  }\n\n  public setBoundary() {\n    this.firstButton.leftBoundary = 0;\n    this.firstButton.rightBoundary = this.secondButton.getPosition();\n    this.secondButton.leftBoundary = this.firstButton.getPosition();\n    this.secondButton.rightBoundary = this.slider.element.clientWidth;\n  }\n\n  public getPosition() {\n    return [this.firstButton.getPosition(), this.secondButton.getPosition()]\n  }\n\n  public getPercentPosition() {\n    return [this.firstButton.getPercent(), this.secondButton.getPercent()]\n  }\n\n  public getValue() {\n    return [this.firstButton.getValue(), this.secondButton.getValue()]\n  }\n}\n\nclass SliderCaption {\n  private caption: HTMLElement;\n\n  public unitSign: string;\n  public separator: string;\n\n  constructor(public slider: Slider) {\n    this.separator = '-';\n    this.unitSign = '';\n    if (this.slider.options.displayAsPercent && this.slider.options.displayAsPercent.enable) {\n      this.separator = this.slider.options.displayAsPercent.separator != undefined ? this.slider.options.displayAsPercent.separator : this.separator;\n    } else if (this.slider.options.displayAsValue && this.slider.options.displayAsValue.enable) {\n      this.separator = this.slider.options.displayAsValue.separator != undefined ? this.slider.options.displayAsValue.separator : this.separator;\n      this.unitSign = this.slider.options.displayAsValue.unitSign != undefined ? this.slider.options.displayAsValue.unitSign : this.unitSign;\n    }\n  }\n\n  public build(): HTMLElement {\n    this.caption = $$('div', {\n      className: 'coveo-slider-caption'\n    }).el;\n    return this.caption;\n  }\n\n  public getCaption() {\n    return $$(this.caption).text();\n  }\n\n  public getCaptionFromValues(values: number[]) {\n    return this.getValueCaption(values);\n  }\n\n  public getCaptionFromValuesAsPercent(values: number[]) {\n    return this.getValueCaption(values);\n  }\n\n  public setAsValue() {\n    $$(this.caption).text(this.getValueCaption())\n  }\n\n  public setAsPercent() {\n    var values = this.slider.getPercentPosition();\n    $$(this.caption).text([(values[0] * 100).toFixed(this.slider.options.rounded), '%', this.separator, (values[1] * 100).toFixed(this.slider.options.rounded), '%'].join(' '))\n  }\n\n  public setFromString(str: string) {\n    $$(this.caption).text(str);\n  }\n\n  private getValueCaption(values = this.slider.getValues()) {\n    var first = values[0];\n    var second = values[1];\n\n    if (this.slider.options.dateField) {\n      var firstAsDate = new Date(first);\n      var secondAsDate = new Date(second);\n      firstAsDate.setHours(0, 0, 0, 0);\n      secondAsDate.setHours(0, 0, 0, 0);\n      first = Globalize.format(firstAsDate, this.slider.options.dateFormat || 'MMM dd, yyyy');\n      second = Globalize.format(secondAsDate, this.slider.options.dateFormat || 'MMM dd, yyyy');\n      this.unitSign = '';\n    } else {\n      first = first.toFixed(this.slider.options.rounded);\n      second = second.toFixed(this.slider.options.rounded);\n    }\n    return [first, this.unitSign, this.separator, second, this.unitSign].join(' ');\n  }\n}\n\nclass SliderGraph {\n  private svg: any;\n  private x: any;\n  private y: any;\n  private oldData: ISliderGraphData[];\n  private tooltip: HTMLElement;\n\n  constructor(public slider: Slider) {\n    this.svg = d3.select(slider.element).append('svg').append('g');\n    this.x = d3.scale.ordinal();\n    this.y = d3.scale.linear();\n    this.slider.options.graph.margin = Utils.extendDeep({\n      top: 20,\n      right: 0,\n      left: 0,\n      bottom: 20\n    }, this.slider.options.graph.margin || {});\n    this.slider.options.graph.animationDuration = this.slider.options.graph.animationDuration || 500;\n\n    this.tooltip = $$('div', {\n      className: 'coveo-slider-tooltip'\n    }).el;\n    this.tooltip.style.display = 'none';\n    this.slider.element.appendChild(this.tooltip)\n    this.slider.options.graph.steps = this.slider.options.graph.steps || 10;\n  }\n\n  public draw(data: ISliderGraphData[] = this.oldData) {\n    if (data) {\n      var sliderOuterWidth = this.slider.element.offsetWidth;\n      var sliderOuterHeight = this.slider.element.offsetHeight;\n      var width = sliderOuterWidth - this.slider.options.graph.margin.left - this.slider.options.graph.margin.right;\n      var height = sliderOuterHeight - this.slider.options.graph.margin.top - this.slider.options.graph.margin.bottom;\n\n      this.applyTransformOnSvg(width, height);\n      this.setXAndYRange(width, height);\n      this.setXAndYDomain(data);\n\n      var bars = this.svg.selectAll('.coveo-bar').data(data);\n      var currentSliderValues = this.slider.getValues();\n      this.renderGraphBars(bars, width, height, currentSliderValues);\n      this.setGraphBarsTransition(bars, height, currentSliderValues);\n      this.oldData = data;\n    }\n  }\n\n  private setXAndYRange(width: number, height: number) {\n    this.x.rangeBands([0, width], 0.2, 0);\n    this.y.range([height - this.slider.options.graph.margin.top, 0]);\n  }\n\n  private setXAndYDomain(data: ISliderGraphData[]) {\n    this.padGraphWithEmptyData(data);\n    this.x.domain(_.map(data, (d) => {\n      return d.start\n    }));\n    this.y.domain([0, d3.max(data, (d) => {\n      return d.y\n    })]);\n  }\n\n  private padGraphWithEmptyData(data: ISliderGraphData[]) {\n    var oneStepOfGraph = data[0].end - data[0].start;\n    if (oneStepOfGraph != 0) {\n      this.padBeginningOfGraphWithEmptyData(data, oneStepOfGraph);\n      this.padEndOfGraphWithEmptyData(data, oneStepOfGraph);\n    }\n  }\n\n  private padBeginningOfGraphWithEmptyData(data: ISliderGraphData[], oneStepOfGraph: number) {\n    if (data[0].start > this.slider.options.start) {\n      var difToFillAtStart = data[0].start - this.slider.options.start;\n      var nbOfStepsAtStart = Math.round(difToFillAtStart / oneStepOfGraph);\n      var currentStep = data[0].start;\n      for (var i = nbOfStepsAtStart; i > 0; i--) {\n        data.unshift(<ISliderGraphData>{ start: currentStep - oneStepOfGraph, end: currentStep, y: 0 })\n        currentStep -= oneStepOfGraph;\n      }\n    }\n  }\n\n  private padEndOfGraphWithEmptyData(data: ISliderGraphData[], oneStepOfGraph: number) {\n    var lastDataIndex = data.length - 1;\n    if (data[lastDataIndex].end < this.slider.options.end) {\n      var diffToFillAtEnd = this.slider.options.end - data[lastDataIndex].end;\n      var nbOfStepsAtEnd = Math.round(diffToFillAtEnd / oneStepOfGraph);\n      var currentStep = data[lastDataIndex].end;\n      for (var i = 0; i < nbOfStepsAtEnd; i++) {\n        data.push(<ISliderGraphData>{ start: currentStep, end: currentStep + oneStepOfGraph, y: 0 })\n        currentStep += oneStepOfGraph;\n      }\n    }\n  }\n\n  private applyTransformOnSvg(width: number, height: number) {\n    var svg = $$(this.slider.element).find('svg');\n    svg.setAttribute('width', width + 'px');\n    svg.setAttribute('height', height + 'px');\n    this.svg.attr('transform', 'translate(' + this.slider.options.graph.margin.left + ',' + this.slider.options.graph.margin.top + ')');\n  }\n\n  private renderGraphBars(bars: D3.UpdateSelection, width: number, height: number, currentSliderValues: number[]) {\n    bars.enter().append('rect')\n      .attr('class', this.getFunctionForClass(currentSliderValues))\n      .attr('width', this.x.rangeBand())\n      .attr('height', this.getFunctionForHeight(height))\n      .attr('x', this.getFunctionForX())\n      .attr('y', this.getFunctionForY())\n      .on('click', this.getFunctionForClick())\n      .on('mouseover', this.getFunctionForMouseOver(height))\n      .on('mouseout', this.getFunctionForMouseOut())\n  }\n\n  private setGraphBarsTransition(bars: D3.UpdateSelection, height: number, currentSliderValues: number[]) {\n    bars\n      .transition()\n      .attr('x', this.getFunctionForX())\n      .attr('width', this.x.rangeBand())\n      .attr('class', this.getFunctionForClass(currentSliderValues))\n      .transition()\n      .duration(this.slider.options.graph.animationDuration)\n      .attr('y', this.getFunctionForY())\n      .attr('height', this.getFunctionForHeight(height))\n  }\n\n  private getBarClass(currentSliderValues: number[], d: ISliderGraphData, i: number) {\n    if (d.start >= currentSliderValues[0] && d.end <= currentSliderValues[1]) {\n      return 'coveo-active';\n    } else if (currentSliderValues[0] == this.slider.options.start && i == 0) {\n      return 'coveo-active';\n    } else if (currentSliderValues[1] == this.slider.options.end && i == this.slider.options.graph.steps - 1) {\n      return 'coveo-active';\n    } else {\n      return '';\n    }\n  }\n\n  private setTooltip(d: ISliderGraphData, height: number) {\n    var caption = $$('span', {\n      className: 'coveo-caption'\n    });\n    caption.text(this.slider.getCaptionFromValue([d.start, d.end]));\n\n    var count = $$('span', {\n      className: 'coveo-count'\n    });\n    count.text(d.y.toString());\n    $$(this.tooltip).empty();\n    this.tooltip.appendChild(caption.el);\n    this.tooltip.appendChild(count.el);\n\n    this.tooltip.style.display = 'block';\n    this.tooltip.style.left = (this.x(d.start) - (0.2 * this.slider.options.graph.steps)) + 'px';\n    this.tooltip.style.top = (this.y(d.y) - height) + 'px';\n  }\n\n  private getFunctionForX() {\n    return (d: ISliderGraphData) => {\n      return this.x(d.start)\n    }\n  }\n\n  private getFunctionForY() {\n    return (d: ISliderGraphData) => {\n      return this.y(d.y)\n    }\n  }\n\n  private getFunctionForHeight(height: number) {\n    return (d: ISliderGraphData) => {\n      return height - this.y(d.y)\n    }\n  }\n\n  private getFunctionForClass(currentSliderValues: number[]) {\n    return (d, i) => {\n      return 'coveo-bar ' + this.getBarClass(currentSliderValues, d, i)\n    }\n  }\n\n  private getFunctionForClick() {\n    return (d: ISliderGraphData, i) => {\n      $$(this.slider.element).trigger(SliderEvents.graphValueSelected, <IGraphValueSelectedArgs>{\n        start: d.start,\n        end: d.end,\n        value: d.y\n      })\n    }\n  }\n\n  private getFunctionForMouseOver(height: number) {\n    return (d: ISliderGraphData) => {\n      this.setTooltip(d, height)\n    }\n  }\n\n  private getFunctionForMouseOut() {\n    return () => {\n      this.tooltip.style.display = 'none';\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Misc/Slider.ts\n **/","l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"65":20,"66":19,"74":19,"75":19,"76":2,"77":2,"80":19,"81":19,"84":19,"85":3,"88":19,"89":2,"92":19,"93":19,"94":38,"97":19,"98":1,"99":1,"100":2,"103":18,"104":18,"105":18,"106":18,"107":18,"110":19,"111":19,"114":1,"115":0,"116":0,"117":0,"119":0,"120":0,"122":0,"123":0,"125":0,"128":16,"129":12,"130":12,"131":0,"132":0,"134":12,"135":0,"137":12,"139":12,"140":12,"142":12,"145":1,"146":0,"147":0,"149":0,"153":1,"154":0,"155":0,"157":0,"161":1,"162":28,"163":27,"165":1,"166":0,"168":1,"173":1,"174":0,"177":1,"178":1,"181":1,"182":7,"183":7,"184":7,"186":7,"187":7,"188":0,"189":0,"191":7,"192":7,"194":7,"197":1,"198":1,"199":1,"203":1,"204":12,"205":12,"208":1,"209":19,"210":1,"211":18,"212":0,"213":18,"214":0,"216":18,"220":1,"221":3,"222":1,"224":2,"225":2,"226":2,"227":2,"228":29,"229":29,"232":0,"233":0,"237":1,"239":1,"243":19,"246":1,"247":19,"251":19,"255":19,"258":1,"259":37,"260":0,"261":0,"262":0,"263":0,"265":37,"266":37,"269":1,"271":1,"283":20,"284":20,"285":20,"287":20,"290":1,"291":20,"295":20,"296":20,"297":20,"300":1,"301":0,"304":1,"305":0,"308":1,"309":19,"310":19,"313":1,"314":38,"315":38,"316":19,"318":19,"322":76,"323":38,"324":38,"326":0,"329":1,"330":1,"331":1,"334":1,"335":19,"338":1,"339":0,"340":0,"343":1,"344":0,"345":0,"348":20,"349":20,"350":0,"352":20,"353":20,"354":0,"355":0,"357":0,"360":20,"361":0,"365":1,"366":0,"367":0,"369":0,"370":0,"372":0,"373":0,"375":0,"378":1,"379":0,"380":0,"381":0,"382":0,"383":0,"384":0,"385":0,"386":0,"387":0,"388":0,"392":0,"395":1,"396":0,"397":0,"398":0,"399":0,"400":0,"407":1,"408":0,"409":0,"410":0,"411":0,"412":0,"417":0,"420":1,"421":0,"422":0,"423":0,"425":0,"426":0,"428":0,"433":1,"434":0,"435":0,"436":0,"437":0,"438":0,"439":0,"440":0,"441":0,"442":0,"443":0,"444":0,"446":0,"449":1,"450":0,"451":0,"452":0,"453":0,"454":0,"455":0,"456":0,"458":0,"459":0,"460":0,"461":0,"462":0,"463":0,"464":0,"465":0,"467":0,"471":1,"472":0,"473":0,"475":0,"476":0,"478":0,"479":0,"481":0,"482":0,"483":0,"484":0,"485":0,"486":0,"487":0,"488":0,"489":0,"491":1,"493":1,"497":1,"498":1,"499":1,"502":1,"503":1,"504":1,"505":1,"506":1,"509":1,"510":0,"511":0,"512":0,"514":0,"515":0,"517":0,"520":1,"521":0,"522":0,"525":1,"526":0,"527":0,"528":0,"529":0,"532":1,"533":0,"536":1,"537":0,"540":1,"541":0,"543":1,"545":1,"551":19,"552":19,"553":19,"554":19,"555":0,"556":19,"557":9,"558":9,"562":1,"563":19,"566":19,"569":1,"570":1,"573":1,"574":0,"577":1,"578":0,"581":1,"582":18,"585":1,"586":0,"587":0,"590":1,"591":1,"594":36,"595":18,"596":18,"598":18,"599":3,"600":3,"601":3,"602":3,"603":3,"604":3,"605":3,"607":15,"608":15,"610":18,"612":1,"614":1,"621":2,"622":2,"623":2,"624":2,"625":2,"631":2,"633":2,"636":2,"637":2,"638":2,"641":1,"642":1,"643":1,"644":1,"645":1,"646":1,"648":1,"649":1,"650":1,"652":1,"653":1,"654":1,"655":1,"656":1,"660":1,"661":1,"662":1,"665":1,"666":1,"667":1,"668":10,"670":1,"671":10,"675":1,"676":1,"677":1,"678":1,"679":1,"683":1,"684":1,"685":0,"686":0,"687":0,"688":0,"689":0,"690":0,"695":1,"696":1,"697":1,"698":0,"699":0,"700":0,"701":0,"702":0,"703":0,"708":1,"709":1,"710":1,"711":1,"712":1,"715":1,"716":1,"727":1,"728":1,"739":1,"740":20,"741":0,"742":20,"743":2,"744":18,"745":0,"747":18,"751":1,"752":0,"755":0,"757":0,"760":0,"761":0,"762":0,"763":0,"765":0,"766":0,"767":0,"770":2,"771":2,"772":20,"776":2,"777":2,"778":20,"782":2,"783":2,"784":20,"788":2,"789":2,"790":20,"794":1,"795":1,"796":0,"804":1,"805":1,"806":0,"810":1,"811":1,"812":0,"815":1}},"src/ui/FacetRange/FacetRange.ts":{"path":"src/ui/FacetRange/FacetRange.ts","statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":52}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":58}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":40}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":61}},"5":{"start":{"line":9,"column":0},"end":{"line":9,"column":48}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":86}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":54}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":40}},"9":{"start":{"line":22,"column":0},"end":{"line":130,"column":1}},"10":{"start":{"line":22,"column":32},"end":{"line":22,"column":37}},"11":{"start":{"line":83,"column":2},"end":{"line":90,"column":3}},"12":{"start":{"line":84,"column":4},"end":{"line":84,"column":113}},"13":{"start":{"line":83,"column":21},"end":{"line":83,"column":41}},"14":{"start":{"line":86,"column":4},"end":{"line":86,"column":43}},"15":{"start":{"line":87,"column":4},"end":{"line":87,"column":40}},"16":{"start":{"line":88,"column":4},"end":{"line":88,"column":42}},"17":{"start":{"line":89,"column":4},"end":{"line":89,"column":40}},"18":{"start":{"line":92,"column":9},"end":{"line":108,"column":3}},"19":{"start":{"line":93,"column":4},"end":{"line":93,"column":48}},"20":{"start":{"line":94,"column":4},"end":{"line":106,"column":5}},"21":{"start":{"line":95,"column":6},"end":{"line":95,"column":61}},"22":{"start":{"line":96,"column":6},"end":{"line":105,"column":7}},"23":{"start":{"line":97,"column":8},"end":{"line":97,"column":74}},"24":{"start":{"line":98,"column":8},"end":{"line":104,"column":9}},"25":{"start":{"line":99,"column":10},"end":{"line":99,"column":88}},"26":{"start":{"line":101,"column":10},"end":{"line":101,"column":155}},"27":{"start":{"line":102,"column":10},"end":{"line":102,"column":153}},"28":{"start":{"line":103,"column":10},"end":{"line":103,"column":125}},"29":{"start":{"line":107,"column":4},"end":{"line":107,"column":15}},"30":{"start":{"line":110,"column":12},"end":{"line":112,"column":3}},"31":{"start":{"line":111,"column":4},"end":{"line":111,"column":68}},"32":{"start":{"line":114,"column":12},"end":{"line":129,"column":3}},"33":{"start":{"line":114,"column":2},"end":{"line":129,"column":3}},"34":{"start":{"line":115,"column":4},"end":{"line":127,"column":5}},"35":{"start":{"line":116,"column":6},"end":{"line":126,"column":7}},"36":{"start":{"line":117,"column":8},"end":{"line":117,"column":49}},"37":{"start":{"line":118,"column":8},"end":{"line":125,"column":10}},"38":{"start":{"line":119,"column":10},"end":{"line":119,"column":51}},"39":{"start":{"line":120,"column":10},"end":{"line":120,"column":51}},"40":{"start":{"line":121,"column":10},"end":{"line":123,"column":11}},"41":{"start":{"line":122,"column":12},"end":{"line":122,"column":71}},"42":{"start":{"line":124,"column":10},"end":{"line":124,"column":61}},"43":{"start":{"line":128,"column":4},"end":{"line":128,"column":50}},"44":{"start":{"line":23,"column":9},"end":{"line":23,"column":27}},"45":{"start":{"line":24,"column":9},"end":{"line":24,"column":24}},"46":{"start":{"line":30,"column":9},"end":{"line":79,"column":4}},"47":{"start":{"line":77,"column":6},"end":{"line":77,"column":18}},"48":{"start":{"line":130,"column":0},"end":{"line":130,"column":1}},"49":{"start":{"line":22,"column":13},"end":{"line":130,"column":1}},"50":{"start":{"line":131,"column":0},"end":{"line":131,"column":55}}},"fnMap":{"1":{"name":"(anonymous_5114)","line":22,"loc":{"start":{"line":22,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"FacetRange","line":83,"loc":{"start":{"line":83,"column":2},"end":{"line":83,"column":101}}},"3":{"name":"(anonymous_5116)","line":92,"loc":{"start":{"line":92,"column":2},"end":{"line":92,"column":40}}},"4":{"name":"(anonymous_5117)","line":110,"loc":{"start":{"line":110,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_5118)","line":114,"loc":{"start":{"line":114,"column":2},"end":{"line":114,"column":66}}},"6":{"name":"(anonymous_5119)","line":118,"loc":{"start":{"line":118,"column":34},"end":{"line":118,"column":49}}},"7":{"name":"(anonymous_5120)","line":76,"loc":{"start":{"line":76,"column":62},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":4},"end":{"line":94,"column":3}},{"start":{"line":94,"column":4},"end":{"line":94,"column":3}}]},"2":{"line":94,"type":"binary-expr","locations":[{"start":{"line":94,"column":8},"end":{"line":94,"column":47}},{"start":{"line":94,"column":51},"end":{"line":94,"column":95}}]},"3":{"line":96,"type":"if","locations":[{"start":{"line":96,"column":6},"end":{"line":96,"column":5}},{"start":{"line":96,"column":6},"end":{"line":96,"column":5}}]},"4":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":8},"end":{"line":98,"column":7}},{"start":{"line":98,"column":8},"end":{"line":98,"column":7}}]},"5":{"line":101,"type":"cond-expr","locations":[{"start":{"line":101,"column":77},"end":{"line":101,"column":96}},{"start":{"line":101,"column":104},"end":{"line":101,"column":154}}]},"6":{"line":102,"type":"cond-expr","locations":[{"start":{"line":102,"column":75},"end":{"line":102,"column":94}},{"start":{"line":102,"column":102},"end":{"line":102,"column":152}}]},"7":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":4},"end":{"line":115,"column":3}},{"start":{"line":115,"column":4},"end":{"line":115,"column":3}}]},"8":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":6},"end":{"line":116,"column":5}},{"start":{"line":116,"column":6},"end":{"line":116,"column":5}}]},"9":{"line":116,"type":"binary-expr","locations":[{"start":{"line":116,"column":10},"end":{"line":116,"column":37}},{"start":{"line":116,"column":42},"end":{"line":116,"column":75}},{"start":{"line":116,"column":79},"end":{"line":116,"column":120}}]},"10":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":10},"end":{"line":121,"column":9}},{"start":{"line":121,"column":10},"end":{"line":121,"column":9}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":1,"46":1,"47":0,"48":1,"49":1,"50":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0,0],"10":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"code":"/// <reference path='../Facet/Facet.ts' />\n\nimport {IFacetOptions, Facet} from '../Facet/Facet';\nimport {IRangeValue} from '../../rest/RangeValue';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {Utils} from '../../utils/Utils';\nimport {TemplateHelpers} from '../Templates/TemplateHelpers';\nimport {DateUtils} from '../../utils/DateUtils';\nimport {FacetRangeQueryController} from '../../controllers/FacetRangeQueryController';\nimport {IGroupByResult} from '../../rest/GroupByResult';\nimport {Initialization} from '../Base/Initialization';\nimport Globalize = require('globalize');\n\nexport interface IFacetRangeOptions extends IFacetOptions {\n  ranges?: IRangeValue[];\n  dateField?: boolean;\n}\n/**\n * This component displays a facet with values expressed as ranges. These ranges are computed from the results of the current query. This component inherits from the Facet component.\n */\nexport class FacetRange extends Facet {\n  static ID = 'FacetRange';\n  static parent = Facet;\n\n  /**\n   * The options for the component\n   * @componentOptions\n   */\n  static options = <IFacetRangeOptions>{\n    /**\n     * Specifies whether the field for which you are requesting a range is a date field to allow the facet to correctly build the outgoing group by request.\n     *\n     * Default value is `false`;\n     */\n    dateField: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    /**\n     * Specifies an array of ranges to use as facet values. If it is not set, it will be automatically generated by the index.\n     *\n     * This option can only be set in the init call of your interface, not directly as an HTML attribute.\n     *\n     * ```\n     * var myRanges = [{\n     *      start: 0,\n     *      end: 100,\n     *      label: \"0 - 100\",\n     *      endInclusive: false\n     *    }, {\n     *      start: 100,\n     *      end: 200,\n     *      label: \"100 - 200\",\n     *      endInclusive: false\n     *    }, {\n     *      start: 200,\n     *      end: 300,\n     *      label: \"200 - 300\",\n     *      endInclusive: false\n     * }]\n     *\n     *\n     * Coveo.init(document.querySelector('#search'), {\n     *    FacetRange : {\n     *        ranges : myRanges\n     *    }\n     * })\n     *\n     * // Or using the jquery extension\n     *\n     * $(\"#search\").coveo(\"init\", {\n     *    FacetRange : {\n     *        ranges : myRanges\n     *    }\n     * })\n     * ```\n     */\n    ranges: ComponentOptions.buildCustomOption<IRangeValue[]>(() => {\n      return null;\n    })\n  };\n\n  public options: IFacetRangeOptions;\n\n  constructor(public element: HTMLElement, options: IFacetRangeOptions, bindings?: IComponentBindings) {\n    super(element, ComponentOptions.initComponentOptions(element, FacetRange, options), bindings, FacetRange.ID);\n\n    this.options.enableFacetSearch = false;\n    this.options.enableSettings = false;\n    this.options.includeInOmnibox = false;\n    this.options.enableMoreLess = false;\n  }\n\n  public getValueCaption(facetValue: any): string {\n    var ret = super.getValueCaption(facetValue);\n    if (Utils.exists(this.options.valueCaption) && typeof this.options.valueCaption == 'string') {\n      var startEnd = /^(.*)\\.\\.(.*)$/.exec(facetValue.value);\n      if (startEnd != null) {\n        var helper = TemplateHelpers.getHelper(this.options.valueCaption);\n        if (helper != null) {\n          ret = helper.call(this, startEnd[1]) + ' - ' + helper.call(this, startEnd[2]);\n        } else {\n          var start = startEnd[1].match(/^[\\+\\-]?[0-9]+(\\.[0-9]+)?$/) ? <any>Number(startEnd[1]) : <any>DateUtils.convertFromJsonDateIfNeeded(startEnd[1]);\n          var end = startEnd[2].match(/^[\\+\\-]?[0-9]+(\\.[0-9]+)?$/) ? <any>Number(startEnd[2]) : <any>DateUtils.convertFromJsonDateIfNeeded(startEnd[2]);\n          ret = Globalize.format(start, this.options.valueCaption) + ' - ' + Globalize.format(end, this.options.valueCaption)\n        }\n      }\n    }\n    return ret;\n  }\n\n  protected initFacetQueryController() {\n    this.facetQueryController = new FacetRangeQueryController(this);\n  }\n\n  protected processNewGroupByResults(groupByResult: IGroupByResult) {\n    if (groupByResult != null) {\n      if (this.options.ranges == null && (!this.keepDisplayedValuesNextTime || this.values.hasSelectedOrExcludedValues())) {\n        this.keepDisplayedValuesNextTime = false;\n        groupByResult.values.sort((valueA, valueB) => {\n          var startEndA = valueA.value.split('..');\n          var startEndB = valueB.value.split('..');\n          if (this.options.dateField) {\n            return Date.parse(startEndA[0]) - Date.parse(startEndB[0]);\n          }\n          return Number(startEndA[0]) - Number(startEndB[0]);\n        })\n      }\n    }\n    super.processNewGroupByResults(groupByResult);\n  }\n}\nInitialization.registerAutoCreateComponent(FacetRange);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/FacetRange/FacetRange.ts\n **/","l":{"3":1,"5":1,"7":1,"8":1,"9":1,"10":1,"12":1,"13":1,"22":1,"23":1,"24":1,"30":1,"77":0,"83":1,"84":0,"86":0,"87":0,"88":0,"89":0,"92":1,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"101":0,"102":0,"103":0,"107":0,"110":1,"111":0,"114":1,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"124":0,"128":0,"130":1,"131":1}},"src/ui/Pager/Pager.ts":{"path":"src/ui/Pager/Pager.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":58}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":51}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":142}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":74}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":60}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":67}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":121}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":54}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":40}},"11":{"start":{"line":12,"column":0},"end":{"line":12,"column":39}},"12":{"start":{"line":13,"column":0},"end":{"line":13,"column":34}},"13":{"start":{"line":25,"column":0},"end":{"line":301,"column":1}},"14":{"start":{"line":25,"column":27},"end":{"line":25,"column":36}},"15":{"start":{"line":84,"column":2},"end":{"line":104,"column":3}},"16":{"start":{"line":85,"column":4},"end":{"line":85,"column":39}},"17":{"start":{"line":84,"column":21},"end":{"line":84,"column":41}},"18":{"start":{"line":84,"column":50},"end":{"line":84,"column":73}},"19":{"start":{"line":64,"column":10},"end":{"line":64,"column":42}},"20":{"start":{"line":65,"column":10},"end":{"line":65,"column":41}},"21":{"start":{"line":72,"column":10},"end":{"line":72,"column":29}},"22":{"start":{"line":86,"column":4},"end":{"line":86,"column":82}},"23":{"start":{"line":87,"column":4},"end":{"line":87,"column":25}},"24":{"start":{"line":89,"column":4},"end":{"line":92,"column":5}},"25":{"start":{"line":90,"column":6},"end":{"line":91,"column":109}},"26":{"start":{"line":94,"column":4},"end":{"line":94,"column":107}},"27":{"start":{"line":94,"column":80},"end":{"line":94,"column":105}},"28":{"start":{"line":95,"column":4},"end":{"line":95,"column":122}},"29":{"start":{"line":95,"column":90},"end":{"line":95,"column":120}},"30":{"start":{"line":96,"column":4},"end":{"line":96,"column":119}},"31":{"start":{"line":96,"column":88},"end":{"line":96,"column":117}},"32":{"start":{"line":97,"column":4},"end":{"line":97,"column":83}},"33":{"start":{"line":97,"column":58},"end":{"line":97,"column":81}},"34":{"start":{"line":98,"column":4},"end":{"line":98,"column":110}},"35":{"start":{"line":98,"column":82},"end":{"line":98,"column":108}},"36":{"start":{"line":99,"column":4},"end":{"line":99,"column":160}},"37":{"start":{"line":99,"column":119},"end":{"line":99,"column":158}},"38":{"start":{"line":101,"column":4},"end":{"line":101,"column":45}},"39":{"start":{"line":102,"column":4},"end":{"line":102,"column":47}},"40":{"start":{"line":103,"column":4},"end":{"line":103,"column":35}},"41":{"start":{"line":112,"column":9},"end":{"line":122,"column":3}},"42":{"start":{"line":112,"column":37},"end":{"line":112,"column":112}},"43":{"start":{"line":113,"column":4},"end":{"line":113,"column":30}},"44":{"start":{"line":114,"column":4},"end":{"line":114,"column":63}},"45":{"start":{"line":115,"column":4},"end":{"line":115,"column":76}},"46":{"start":{"line":116,"column":4},"end":{"line":116,"column":124}},"47":{"start":{"line":117,"column":4},"end":{"line":121,"column":7}},"48":{"start":{"line":128,"column":9},"end":{"line":130,"column":3}},"49":{"start":{"line":129,"column":4},"end":{"line":129,"column":79}},"50":{"start":{"line":136,"column":9},"end":{"line":138,"column":3}},"51":{"start":{"line":137,"column":4},"end":{"line":137,"column":75}},"52":{"start":{"line":140,"column":10},"end":{"line":147,"column":3}},"53":{"start":{"line":141,"column":4},"end":{"line":141,"column":79}},"54":{"start":{"line":142,"column":4},"end":{"line":145,"column":5}},"55":{"start":{"line":143,"column":6},"end":{"line":143,"column":27}},"56":{"start":{"line":144,"column":6},"end":{"line":144,"column":78}},"57":{"start":{"line":146,"column":4},"end":{"line":146,"column":28}},"58":{"start":{"line":149,"column":10},"end":{"line":153,"column":3}},"59":{"start":{"line":150,"column":4},"end":{"line":150,"column":42}},"60":{"start":{"line":151,"column":4},"end":{"line":151,"column":78}},"61":{"start":{"line":152,"column":4},"end":{"line":152,"column":41}},"62":{"start":{"line":155,"column":10},"end":{"line":157,"column":3}},"63":{"start":{"line":156,"column":4},"end":{"line":156,"column":17}},"64":{"start":{"line":159,"column":10},"end":{"line":199,"column":3}},"65":{"start":{"line":159,"column":2},"end":{"line":199,"column":3}},"66":{"start":{"line":160,"column":4},"end":{"line":160,"column":17}},"67":{"start":{"line":161,"column":4},"end":{"line":198,"column":5}},"68":{"start":{"line":162,"column":6},"end":{"line":162,"column":42}},"69":{"start":{"line":164,"column":6},"end":{"line":164,"column":34}},"70":{"start":{"line":166,"column":6},"end":{"line":166,"column":47}},"71":{"start":{"line":167,"column":6},"end":{"line":167,"column":50}},"72":{"start":{"line":169,"column":6},"end":{"line":169,"column":72}},"73":{"start":{"line":170,"column":6},"end":{"line":170,"column":51}},"74":{"start":{"line":171,"column":6},"end":{"line":197,"column":7}},"75":{"start":{"line":172,"column":8},"end":{"line":192,"column":9}},"76":{"start":{"line":174,"column":10},"end":{"line":174,"column":58}},"77":{"start":{"line":175,"column":10},"end":{"line":175,"column":91}},"78":{"start":{"line":176,"column":10},"end":{"line":176,"column":49}},"79":{"start":{"line":178,"column":10},"end":{"line":178,"column":54}},"80":{"start":{"line":179,"column":10},"end":{"line":179,"column":57}},"81":{"start":{"line":180,"column":10},"end":{"line":182,"column":11}},"82":{"start":{"line":181,"column":12},"end":{"line":181,"column":50}},"83":{"start":{"line":184,"column":10},"end":{"line":188,"column":16}},"84":{"start":{"line":185,"column":12},"end":{"line":187,"column":14}},"85":{"start":{"line":186,"column":14},"end":{"line":186,"column":47}},"86":{"start":{"line":190,"column":10},"end":{"line":190,"column":46}},"87":{"start":{"line":191,"column":10},"end":{"line":191,"column":42}},"88":{"start":{"line":194,"column":8},"end":{"line":196,"column":9}},"89":{"start":{"line":195,"column":10},"end":{"line":195,"column":64}},"90":{"start":{"line":201,"column":10},"end":{"line":207,"column":3}},"91":{"start":{"line":202,"column":4},"end":{"line":202,"column":123}},"92":{"start":{"line":203,"column":4},"end":{"line":206,"column":5}},"93":{"start":{"line":204,"column":6},"end":{"line":204,"column":41}},"94":{"start":{"line":205,"column":6},"end":{"line":205,"column":34}},"95":{"start":{"line":209,"column":10},"end":{"line":211,"column":3}},"96":{"start":{"line":210,"column":4},"end":{"line":210,"column":26}},"97":{"start":{"line":213,"column":10},"end":{"line":218,"column":3}},"98":{"start":{"line":214,"column":4},"end":{"line":214,"column":24}},"99":{"start":{"line":215,"column":4},"end":{"line":215,"column":45}},"100":{"start":{"line":216,"column":4},"end":{"line":216,"column":52}},"101":{"start":{"line":217,"column":4},"end":{"line":217,"column":56}},"102":{"start":{"line":220,"column":10},"end":{"line":236,"column":3}},"103":{"start":{"line":221,"column":4},"end":{"line":221,"column":76}},"104":{"start":{"line":222,"column":4},"end":{"line":222,"column":66}},"105":{"start":{"line":223,"column":4},"end":{"line":223,"column":112}},"106":{"start":{"line":224,"column":4},"end":{"line":224,"column":49}},"107":{"start":{"line":225,"column":4},"end":{"line":225,"column":64}},"108":{"start":{"line":226,"column":4},"end":{"line":226,"column":51}},"109":{"start":{"line":227,"column":4},"end":{"line":227,"column":51}},"110":{"start":{"line":228,"column":4},"end":{"line":228,"column":73}},"111":{"start":{"line":229,"column":4},"end":{"line":229,"column":60}},"112":{"start":{"line":230,"column":4},"end":{"line":235,"column":6}},"113":{"start":{"line":238,"column":10},"end":{"line":262,"column":3}},"114":{"start":{"line":238,"column":2},"end":{"line":262,"column":3}},"115":{"start":{"line":239,"column":4},"end":{"line":249,"column":5}},"116":{"start":{"line":240,"column":6},"end":{"line":240,"column":50}},"117":{"start":{"line":241,"column":6},"end":{"line":241,"column":101}},"118":{"start":{"line":242,"column":6},"end":{"line":242,"column":51}},"119":{"start":{"line":243,"column":6},"end":{"line":243,"column":53}},"120":{"start":{"line":244,"column":6},"end":{"line":244,"column":40}},"121":{"start":{"line":245,"column":6},"end":{"line":245,"column":54}},"122":{"start":{"line":246,"column":6},"end":{"line":246,"column":39}},"123":{"start":{"line":247,"column":6},"end":{"line":247,"column":65}},"124":{"start":{"line":247,"column":37},"end":{"line":247,"column":63}},"125":{"start":{"line":248,"column":6},"end":{"line":248,"column":61}},"126":{"start":{"line":251,"column":4},"end":{"line":261,"column":5}},"127":{"start":{"line":252,"column":6},"end":{"line":252,"column":46}},"128":{"start":{"line":253,"column":6},"end":{"line":253,"column":93}},"129":{"start":{"line":254,"column":6},"end":{"line":254,"column":51}},"130":{"start":{"line":255,"column":6},"end":{"line":255,"column":53}},"131":{"start":{"line":256,"column":6},"end":{"line":256,"column":40}},"132":{"start":{"line":257,"column":6},"end":{"line":257,"column":50}},"133":{"start":{"line":258,"column":6},"end":{"line":258,"column":35}},"134":{"start":{"line":259,"column":6},"end":{"line":259,"column":57}},"135":{"start":{"line":259,"column":33},"end":{"line":259,"column":55}},"136":{"start":{"line":260,"column":6},"end":{"line":260,"column":34}},"137":{"start":{"line":264,"column":10},"end":{"line":272,"column":3}},"138":{"start":{"line":265,"column":4},"end":{"line":267,"column":5}},"139":{"start":{"line":266,"column":6},"end":{"line":266,"column":13}},"140":{"start":{"line":268,"column":4},"end":{"line":268,"column":24}},"141":{"start":{"line":269,"column":4},"end":{"line":269,"column":29}},"142":{"start":{"line":270,"column":4},"end":{"line":270,"column":33}},"143":{"start":{"line":271,"column":4},"end":{"line":271,"column":70}},"144":{"start":{"line":274,"column":10},"end":{"line":277,"column":3}},"145":{"start":{"line":275,"column":4},"end":{"line":275,"column":30}},"146":{"start":{"line":276,"column":4},"end":{"line":276,"column":29}},"147":{"start":{"line":279,"column":10},"end":{"line":281,"column":3}},"148":{"start":{"line":280,"column":4},"end":{"line":280,"column":24}},"149":{"start":{"line":283,"column":10},"end":{"line":285,"column":3}},"150":{"start":{"line":284,"column":4},"end":{"line":284,"column":20}},"151":{"start":{"line":287,"column":10},"end":{"line":289,"column":3}},"152":{"start":{"line":288,"column":4},"end":{"line":288,"column":75}},"153":{"start":{"line":291,"column":10},"end":{"line":293,"column":3}},"154":{"start":{"line":291,"column":31},"end":{"line":291,"column":68}},"155":{"start":{"line":292,"column":4},"end":{"line":292,"column":74}},"156":{"start":{"line":295,"column":10},"end":{"line":300,"column":3}},"157":{"start":{"line":296,"column":4},"end":{"line":299,"column":6}},"158":{"start":{"line":26,"column":9},"end":{"line":26,"column":22}},"159":{"start":{"line":32,"column":9},"end":{"line":58,"column":4}},"160":{"start":{"line":39,"column":8},"end":{"line":43,"column":9}},"161":{"start":{"line":40,"column":10},"end":{"line":40,"column":19}},"162":{"start":{"line":42,"column":10},"end":{"line":42,"column":19}},"163":{"start":{"line":301,"column":0},"end":{"line":301,"column":1}},"164":{"start":{"line":25,"column":13},"end":{"line":301,"column":1}},"165":{"start":{"line":303,"column":0},"end":{"line":303,"column":50}}},"fnMap":{"1":{"name":"(anonymous_5124)","line":25,"loc":{"start":{"line":25,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Pager","line":84,"loc":{"start":{"line":84,"column":2},"end":{"line":84,"column":104}}},"3":{"name":"(anonymous_5126)","line":94,"loc":{"start":{"line":94,"column":50},"end":{"line":94,"column":75}}},"4":{"name":"(anonymous_5127)","line":95,"loc":{"start":{"line":95,"column":55},"end":{"line":95,"column":85}}},"5":{"name":"(anonymous_5128)","line":96,"loc":{"start":{"line":96,"column":54},"end":{"line":96,"column":83}}},"6":{"name":"(anonymous_5129)","line":97,"loc":{"start":{"line":97,"column":52},"end":{"line":97,"column":57}}},"7":{"name":"(anonymous_5130)","line":98,"loc":{"start":{"line":98,"column":51},"end":{"line":98,"column":77}}},"8":{"name":"(anonymous_5131)","line":99,"loc":{"start":{"line":99,"column":82},"end":{"line":99,"column":114}}},"9":{"name":"(anonymous_5132)","line":112,"loc":{"start":{"line":112,"column":2},"end":{"line":112,"column":112}}},"10":{"name":"(anonymous_5133)","line":128,"loc":{"start":{"line":128,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_5134)","line":136,"loc":{"start":{"line":136,"column":2},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_5135)","line":140,"loc":{"start":{"line":140,"column":2},"end":{"line":140,"column":49}}},"13":{"name":"(anonymous_5136)","line":149,"loc":{"start":{"line":149,"column":2},"end":{"line":149,"column":49}}},"14":{"name":"(anonymous_5137)","line":155,"loc":{"start":{"line":155,"column":2},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_5138)","line":159,"loc":{"start":{"line":159,"column":2},"end":{"line":159,"column":57}}},"16":{"name":"(anonymous_5139)","line":184,"loc":{"start":{"line":184,"column":11},"end":{"line":184,"column":30}}},"17":{"name":"(anonymous_5140)","line":185,"loc":{"start":{"line":185,"column":37},"end":{"line":null,"column":-1}}},"18":{"name":"(anonymous_5141)","line":201,"loc":{"start":{"line":201,"column":2},"end":{"line":201,"column":51}}},"19":{"name":"(anonymous_5142)","line":209,"loc":{"start":{"line":209,"column":2},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_5143)","line":213,"loc":{"start":{"line":213,"column":2},"end":{"line":213,"column":59}}},"21":{"name":"(anonymous_5144)","line":220,"loc":{"start":{"line":220,"column":2},"end":{"line":220,"column":70}}},"22":{"name":"(anonymous_5145)","line":238,"loc":{"start":{"line":238,"column":2},"end":{"line":238,"column":143}}},"23":{"name":"(anonymous_5146)","line":247,"loc":{"start":{"line":247,"column":31},"end":{"line":247,"column":36}}},"24":{"name":"(anonymous_5147)","line":259,"loc":{"start":{"line":259,"column":27},"end":{"line":259,"column":32}}},"25":{"name":"(anonymous_5148)","line":264,"loc":{"start":{"line":264,"column":2},"end":{"line":264,"column":70}}},"26":{"name":"(anonymous_5149)","line":274,"loc":{"start":{"line":274,"column":2},"end":{"line":274,"column":44}}},"27":{"name":"(anonymous_5150)","line":279,"loc":{"start":{"line":279,"column":2},"end":{"line":null,"column":-1}}},"28":{"name":"(anonymous_5151)","line":283,"loc":{"start":{"line":283,"column":2},"end":{"line":null,"column":-1}}},"29":{"name":"(anonymous_5152)","line":287,"loc":{"start":{"line":287,"column":2},"end":{"line":287,"column":58}}},"30":{"name":"(anonymous_5153)","line":291,"loc":{"start":{"line":291,"column":2},"end":{"line":291,"column":68}}},"31":{"name":"(anonymous_5154)","line":295,"loc":{"start":{"line":295,"column":2},"end":{"line":null,"column":-1}}},"32":{"name":"(anonymous_5155)","line":38,"loc":{"start":{"line":38,"column":23},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":4},"end":{"line":89,"column":3}},{"start":{"line":89,"column":4},"end":{"line":89,"column":3}}]},"2":{"line":91,"type":"cond-expr","locations":[{"start":{"line":91,"column":59},"end":{"line":91,"column":102}},{"start":{"line":91,"column":105},"end":{"line":91,"column":107}}]},"3":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":37},"end":{"line":112,"column":36}},{"start":{"line":112,"column":37},"end":{"line":112,"column":36}}]},"4":{"line":141,"type":"binary-expr","locations":[{"start":{"line":141,"column":27},"end":{"line":141,"column":31}},{"start":{"line":141,"column":35},"end":{"line":141,"column":46}},{"start":{"line":141,"column":50},"end":{"line":141,"column":78}}]},"5":{"line":142,"type":"if","locations":[{"start":{"line":142,"column":4},"end":{"line":142,"column":3}},{"start":{"line":142,"column":4},"end":{"line":142,"column":3}}]},"6":{"line":142,"type":"binary-expr","locations":[{"start":{"line":142,"column":8},"end":{"line":142,"column":24}},{"start":{"line":142,"column":28},"end":{"line":142,"column":45}}]},"7":{"line":161,"type":"if","locations":[{"start":{"line":161,"column":4},"end":{"line":161,"column":3}},{"start":{"line":161,"column":4},"end":{"line":161,"column":3}}]},"8":{"line":171,"type":"if","locations":[{"start":{"line":171,"column":6},"end":{"line":171,"column":5}},{"start":{"line":171,"column":6},"end":{"line":171,"column":5}}]},"9":{"line":180,"type":"if","locations":[{"start":{"line":180,"column":10},"end":{"line":180,"column":9}},{"start":{"line":180,"column":10},"end":{"line":180,"column":9}}]},"10":{"line":194,"type":"if","locations":[{"start":{"line":194,"column":8},"end":{"line":194,"column":7}},{"start":{"line":194,"column":8},"end":{"line":194,"column":7}}]},"11":{"line":194,"type":"binary-expr","locations":[{"start":{"line":194,"column":12},"end":{"line":194,"column":47}},{"start":{"line":194,"column":51},"end":{"line":194,"column":83}}]},"12":{"line":203,"type":"if","locations":[{"start":{"line":203,"column":4},"end":{"line":203,"column":3}},{"start":{"line":203,"column":4},"end":{"line":203,"column":3}}]},"13":{"line":239,"type":"if","locations":[{"start":{"line":239,"column":4},"end":{"line":239,"column":3}},{"start":{"line":239,"column":4},"end":{"line":239,"column":3}}]},"14":{"line":251,"type":"if","locations":[{"start":{"line":251,"column":4},"end":{"line":251,"column":3}},{"start":{"line":251,"column":4},"end":{"line":251,"column":3}}]},"15":{"line":265,"type":"if","locations":[{"start":{"line":265,"column":4},"end":{"line":265,"column":3}},{"start":{"line":265,"column":4},"end":{"line":265,"column":3}}]},"16":{"line":291,"type":"if","locations":[{"start":{"line":291,"column":31},"end":{"line":291,"column":30}},{"start":{"line":291,"column":31},"end":{"line":291,"column":30}}]},"17":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":8},"end":{"line":39,"column":7}},{"start":{"line":39,"column":8},"end":{"line":39,"column":7}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":20,"14":1,"15":1,"16":19,"17":19,"18":19,"19":19,"20":19,"21":19,"22":19,"23":19,"24":19,"25":18,"26":19,"27":11,"28":19,"29":8,"30":19,"31":7,"32":19,"33":0,"34":19,"35":0,"36":19,"37":2,"38":19,"39":19,"40":19,"41":1,"42":26,"43":16,"44":16,"45":16,"46":16,"47":16,"48":1,"49":3,"50":1,"51":3,"52":1,"53":11,"54":11,"55":10,"56":10,"57":11,"58":1,"59":26,"60":26,"61":26,"62":1,"63":0,"64":1,"65":7,"66":7,"67":7,"68":0,"69":7,"70":7,"71":7,"72":7,"73":7,"74":7,"75":6,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":6,"83":46,"84":46,"85":0,"86":46,"87":46,"88":6,"89":5,"90":1,"91":0,"92":0,"93":0,"94":0,"95":1,"96":7,"97":1,"98":8,"99":8,"100":8,"101":8,"102":1,"103":7,"104":7,"105":7,"106":7,"107":7,"108":7,"109":7,"110":7,"111":7,"112":7,"113":1,"114":5,"115":5,"116":4,"117":4,"118":4,"119":4,"120":4,"121":4,"122":4,"123":4,"124":0,"125":4,"126":5,"127":5,"128":5,"129":5,"130":5,"131":5,"132":5,"133":5,"134":5,"135":0,"136":5,"137":1,"138":2,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":0,"146":0,"147":1,"148":0,"149":1,"150":0,"151":1,"152":1,"153":1,"154":42,"155":34,"156":1,"157":8,"158":1,"159":1,"160":18,"161":0,"162":18,"163":1,"164":1,"165":1},"b":{"1":[18,1],"2":[18,0],"3":[10,6],"4":[11,11,2],"5":[10,1],"6":[11,11],"7":[0,7],"8":[6,1],"9":[6,40],"10":[5,1],"11":[6,5],"12":[0,0],"13":[4,1],"14":[5,0],"15":[1,1],"16":[8,26],"17":[0,18]},"f":{"1":1,"2":19,"3":11,"4":8,"5":7,"6":0,"7":0,"8":2,"9":16,"10":3,"11":3,"12":11,"13":26,"14":0,"15":7,"16":46,"17":0,"18":0,"19":7,"20":8,"21":7,"22":5,"23":0,"24":0,"25":2,"26":0,"27":0,"28":0,"29":1,"30":34,"31":8,"32":18},"code":"import {Component} from '../Base/Component';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {DeviceUtils} from '../../utils/DeviceUtils'\nimport {QueryEvents, INewQueryEventArgs, IBuildingQueryEventArgs, IQuerySuccessEventArgs, INoResultsEventArgs} from '../../events/QueryEvents'\nimport {MODEL_EVENTS, IAttributeChangedEventArg} from '../../models/Model'\nimport {QueryStateModel} from '../../models/QueryStateModel'\nimport {QUERY_STATE_ATTRIBUTES} from '../../models/QueryStateModel'\nimport {analyticsActionCauseList, IAnalyticsPagerMeta, IAnalyticsActionCause} from '../Analytics/AnalyticsActionListMeta'\nimport {Initialization} from '../Base/Initialization';\nimport {Assert} from '../../misc/Assert'\nimport {l} from '../../strings/Strings'\nimport {$$} from '../../utils/Dom'\n\nexport interface IPagerOptions {\n  numberOfPages?: number;\n  enableNavigationButton?: boolean;\n  maxNumberOfPages?: number;\n}\n\n/**\n * This component attaches itself to a div and allows users to navigate through the different result pages.<br/>\n * It takes care of triggering a query with the correct range whenever a user selects a page or uses the navigation buttons (Previous, Next).\n */\nexport class Pager extends Component {\n  static ID = 'Pager';\n\n  /**\n   * The options for the Pager\n   * @componentOptions\n   */\n  static options: IPagerOptions = {\n    /**\n     * Specifies how many page links to display in the pager.<br/>\n     * The default value is 5 pages on desktop, 3 on mobile\n     */\n    numberOfPages: ComponentOptions.buildNumberOption({\n      defaultFunction: () => {\n        if (DeviceUtils.isMobileDevice()) {\n          return 3;\n        } else {\n          return 5;\n        }\n      },\n      min: 1\n    }),\n    /**\n     * Specifies whether the Previous and Next buttons appear at each end of the pager when appropriate.<br/>\n     * The default value is true.\n     */\n    enableNavigationButton: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies the maximum number of pages that will be displayed if enough results are available.<br/>\n     * The default value is 100 pages.<br/>\n     * This property is typically set when the default number of accessible results from the index has been changed from it's default value of 1000. (So 10 per page X 100 maximumNumberOfPage)\n     */\n    maxNumberOfPages: ComponentOptions.buildNumberOption({ defaultValue: undefined })\n  };\n\n  /**\n   * The current page (1 based index)\n   */\n  public currentPage: number;\n  private listenToQueryStateChange = true;\n  private ignoreNextQuerySuccess = false;\n\n  // The normal behavior of this component is to reset to page 1 when a new\n  // query is performed by other components (i.e. not pagers).\n  //\n  // This behavior is overridden when the 'first' state is\n  // programmatically modified.\n  private needToReset = true;\n\n  private list: HTMLElement;\n\n\n  /**\n   * Create a new Pager. Bind multiple query events (new query, building query, query success).<br/>\n   * Render itself on every query success.\n   * @param element HTMLElement on which to instantiate the page (Normally : a div)\n   * @param options\n   * @param bindings\n   */\n  constructor(public element: HTMLElement, public options?: IPagerOptions, bindings?: IComponentBindings) {\n    super(element, Pager.ID, bindings);\n    this.options = ComponentOptions.initComponentOptions(element, Pager, options);\n    this.currentPage = 1;\n\n    if (this.options.maxNumberOfPages == null) {\n      this.options.maxNumberOfPages = 1000 /\n        (this.queryController.options.resultsPerPage > 0 ? this.queryController.options.resultsPerPage : 10);\n    }\n\n    this.bind.onRootElement(QueryEvents.newQuery, (args: INewQueryEventArgs) => this.handleNewQuery(args));\n    this.bind.onRootElement(QueryEvents.buildingQuery, (args: IBuildingQueryEventArgs) => this.handleBuildingQuery(args));\n    this.bind.onRootElement(QueryEvents.querySuccess, (args: IQuerySuccessEventArgs) => this.handleQuerySuccess(args));\n    this.bind.onRootElement(QueryEvents.queryError, () => this.handleQueryError());\n    this.bind.onRootElement(QueryEvents.noResults, (args: INoResultsEventArgs) => this.handleNoResults(args));\n    this.bind.onQueryState(MODEL_EVENTS.CHANGE_ONE, QUERY_STATE_ATTRIBUTES.FIRST, (data: IAttributeChangedEventArg) => this.handleQueryStateModelChanged(data));\n\n    this.list = document.createElement('ul');\n    $$(this.list).addClass('coveo-pager-list');\n    element.appendChild(this.list);\n  }\n\n  /**\n   * Set the current page, and execute a query.<br/>\n   * Log the required analytics event (pagerNumber by default)\n   * @param pageNumber\n   * @param analyticCause\n   */\n  public setPage(pageNumber: number, analyticCause: IAnalyticsActionCause = analyticsActionCauseList.pagerNumber) {\n    Assert.exists(pageNumber);\n    this.currentPage = Math.max(Math.min(pageNumber, 1000), 1);\n    this.updateQueryStateModel(this.getFirstResultNumber(this.currentPage));\n    this.usageAnalytics.logCustomEvent<IAnalyticsPagerMeta>(analyticCause, { pagerNumber: this.currentPage }, this.element);\n    this.queryController.executeQuery({\n      ignoreWarningSearchEvent: true,\n      keepLastSearchUid: true,\n      origin: this\n    });\n  }\n\n  /**\n   * Go to the previous page, and execute a query.<br/>\n   * Log the required analytics event (pagerPrevious)\n   */\n  public previousPage() {\n    this.setPage(this.currentPage - 1, analyticsActionCauseList.pagerPrevious);\n  }\n\n  /**\n   * Go to the next page, and execute a query.<br/>\n   * Log the required analytics event (pagerNext)\n   */\n  public nextPage() {\n    this.setPage(this.currentPage + 1, analyticsActionCauseList.pagerNext);\n  }\n\n  private handleNewQuery(data: INewQueryEventArgs) {\n    var triggeredByPager = data && data.origin && data.origin.type == Pager.ID;\n    if (this.needToReset && !triggeredByPager) {\n      this.currentPage = 1;\n      this.updateQueryStateModel(this.getFirstResultNumber(this.currentPage));\n    }\n    this.needToReset = true;\n  }\n\n  private updateQueryStateModel(attrValue: number) {\n    this.listenToQueryStateChange = false;\n    this.queryStateModel.set(QueryStateModel.attributesEnum.first, attrValue);\n    this.listenToQueryStateChange = true;\n  }\n\n  private handleQueryError() {\n    this.reset();\n  }\n\n  private handleQuerySuccess(data: IQuerySuccessEventArgs) {\n    this.reset();\n    if (this.ignoreNextQuerySuccess) {\n      this.ignoreNextQuerySuccess = false;\n    } else {\n      Assert.isNotUndefined(data);\n\n      var firstResult = data.query.firstResult;\n      var count = data.results.totalCountFiltered;\n\n      var pagerBoundary = this.computePagerBoundary(firstResult, count);\n      this.currentPage = pagerBoundary.currentPage;\n      if (pagerBoundary.end - pagerBoundary.start > 0) {\n        for (var i = pagerBoundary.start; i <= pagerBoundary.end; i++) {\n\n          var listItemValue = document.createElement('a');\n          $$(listItemValue).addClass(['coveo-pager-list-item-text', 'coveo-pager-anchor']);\n          $$(listItemValue).text(i.toString(10));\n\n          var listItem = document.createElement('li');\n          $$(listItem).addClass('coveo-pager-list-item');\n          if (i == this.currentPage) {\n            $$(listItem).addClass('coveo-active');\n          }\n\n          ((pageNumber: number) => {\n            $$(listItem).on('click', () => {\n              this.handleClickPage(pageNumber);\n            })\n          })(i);\n\n          listItem.appendChild(listItemValue);\n          this.list.appendChild(listItem);\n        }\n\n        if (this.options.enableNavigationButton && pagerBoundary.lastResultPage > 1) {\n          this.renderNavigationButton(pagerBoundary, this.list);\n        }\n      }\n    }\n  }\n\n  private handleNoResults(data: INoResultsEventArgs) {\n    var lastValidPage = this.computePagerBoundary(data.results.totalCountFiltered, data.results.totalCount).lastResultPage;\n    if (this.currentPage > lastValidPage) {\n      this.ignoreNextQuerySuccess = true;\n      this.setPage(lastValidPage);\n    }\n  }\n\n  private reset() {\n    $$(this.list).empty();\n  }\n\n  private handleBuildingQuery(data: IBuildingQueryEventArgs) {\n    Assert.exists(data);\n    var eventArgs = this.getQueryEventArgs();\n    data.queryBuilder.firstResult = eventArgs.first;\n    data.queryBuilder.numberOfResults = eventArgs.count;\n  }\n\n  private computePagerBoundary(firstResult: number, totalCount: number): { start: number; end: number; lastResultPage: number; currentPage: number; } {\n    var resultPerPage: number = this.queryController.options.resultsPerPage;\n    var currentPage = Math.floor(firstResult / resultPerPage) + 1;\n    var lastPageNumber: number = Math.min(Math.ceil(totalCount / resultPerPage), this.options.maxNumberOfPages);\n    lastPageNumber = Math.max(lastPageNumber, 1);\n    var halfLength = Math.floor(this.options.numberOfPages / 2);\n    var firstPageNumber = currentPage - halfLength;\n    firstPageNumber = Math.max(firstPageNumber, 1);\n    var endPageNumber = firstPageNumber + this.options.numberOfPages - 1;\n    endPageNumber = Math.min(endPageNumber, lastPageNumber);\n    return {\n      start: firstPageNumber,\n      end: endPageNumber,\n      lastResultPage: lastPageNumber,\n      currentPage: currentPage\n    };\n  }\n\n  private renderNavigationButton(pagerBoundary: { start: number; end: number; lastResultPage: number; currentPage: number; }, list: HTMLElement) {\n    if (this.currentPage > 1) {\n      var previous = document.createElement('li');\n      $$(previous).addClass(['coveo-pager-previous', 'coveo-pager-anchor', 'coveo-pager-list-item']);\n      var buttonLink = document.createElement('a');\n      var buttonImg = document.createElement('span');\n      buttonLink.appendChild(buttonImg);\n      buttonLink.setAttribute('title', l('Previous'));\n      previous.appendChild(buttonLink);\n      $$(previous).on('click', () => this.handleClickPrevious());\n      this.list.insertBefore(previous, this.list.firstChild);\n    }\n\n    if (this.currentPage < pagerBoundary.lastResultPage) {\n      var next = document.createElement('li');\n      $$(next).addClass(['coveo-pager-next', 'coveo-pager-anchor', 'coveo-pager-list-item']);\n      var buttonLink = document.createElement('a');\n      var buttonImg = document.createElement('span');\n      buttonLink.appendChild(buttonImg);\n      buttonLink.setAttribute('title', l('Next'));\n      next.appendChild(buttonLink);\n      $$(next).on('click', () => this.handleClickNext());\n      this.list.appendChild(next);\n    }\n  }\n\n  private handleQueryStateModelChanged(data: IAttributeChangedEventArg) {\n    if (!this.listenToQueryStateChange) {\n      return;\n    }\n    Assert.exists(data);\n    this.needToReset = false;\n    var firstResult = data.value;\n    this.currentPage = this.fromFirstResultsToPageNumber(firstResult);\n  }\n\n  private handleClickPage(pageNumber: number) {\n    Assert.exists(pageNumber);\n    this.setPage(pageNumber);\n  }\n\n  private handleClickPrevious() {\n    this.previousPage();\n  }\n\n  private handleClickNext() {\n    this.nextPage();\n  }\n\n  private fromFirstResultsToPageNumber(firstResult: number): number {\n    return (firstResult / this.queryController.options.resultsPerPage) + 1;\n  }\n\n  private getFirstResultNumber(pageNumber: number = this.currentPage): number {\n    return (pageNumber - 1) * this.queryController.options.resultsPerPage;\n  }\n\n  private getQueryEventArgs() {\n    return {\n      count: this.queryController.options.resultsPerPage,\n      first: this.getFirstResultNumber()\n    };\n  }\n}\n\nInitialization.registerAutoCreateComponent(Pager);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Pager/Pager.ts\n **/","l":{"1":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"25":20,"26":1,"32":1,"39":18,"40":0,"42":18,"64":19,"65":19,"72":19,"84":19,"85":19,"86":19,"87":19,"89":19,"90":18,"94":19,"95":19,"96":19,"97":19,"98":19,"99":19,"101":19,"102":19,"103":19,"112":26,"113":16,"114":16,"115":16,"116":16,"117":16,"128":1,"129":3,"136":1,"137":3,"140":1,"141":11,"142":11,"143":10,"144":10,"146":11,"149":1,"150":26,"151":26,"152":26,"155":1,"156":0,"159":7,"160":7,"161":7,"162":0,"164":7,"166":7,"167":7,"169":7,"170":7,"171":7,"172":6,"174":46,"175":46,"176":46,"178":46,"179":46,"180":46,"181":6,"184":46,"185":46,"186":0,"190":46,"191":46,"194":6,"195":5,"201":1,"202":0,"203":0,"204":0,"205":0,"209":1,"210":7,"213":1,"214":8,"215":8,"216":8,"217":8,"220":1,"221":7,"222":7,"223":7,"224":7,"225":7,"226":7,"227":7,"228":7,"229":7,"230":7,"238":5,"239":5,"240":4,"241":4,"242":4,"243":4,"244":4,"245":4,"246":4,"247":4,"248":4,"251":5,"252":5,"253":5,"254":5,"255":5,"256":5,"257":5,"258":5,"259":5,"260":5,"264":1,"265":2,"266":1,"268":1,"269":1,"270":1,"271":1,"274":1,"275":0,"276":0,"279":1,"280":0,"283":1,"284":0,"287":1,"288":1,"291":42,"292":34,"295":1,"296":8,"301":1,"303":1}},"src/ui/Pager/ResultsPerPage.ts":{"path":"src/ui/Pager/ResultsPerPage.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":58}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":54}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":97}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":130}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":40}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":34}},"8":{"start":{"line":17,"column":0},"end":{"line":139,"column":1}},"9":{"start":{"line":17,"column":36},"end":{"line":17,"column":45}},"10":{"start":{"line":48,"column":2},"end":{"line":58,"column":3}},"11":{"start":{"line":49,"column":4},"end":{"line":49,"column":48}},"12":{"start":{"line":48,"column":21},"end":{"line":48,"column":41}},"13":{"start":{"line":48,"column":50},"end":{"line":48,"column":82}},"14":{"start":{"line":50,"column":4},"end":{"line":50,"column":91}},"15":{"start":{"line":51,"column":4},"end":{"line":51,"column":66}},"16":{"start":{"line":52,"column":4},"end":{"line":52,"column":77}},"17":{"start":{"line":54,"column":4},"end":{"line":54,"column":119}},"18":{"start":{"line":54,"column":88},"end":{"line":54,"column":117}},"19":{"start":{"line":55,"column":4},"end":{"line":55,"column":83}},"20":{"start":{"line":55,"column":58},"end":{"line":55,"column":81}},"21":{"start":{"line":56,"column":4},"end":{"line":56,"column":106}},"22":{"start":{"line":56,"column":82},"end":{"line":56,"column":104}},"23":{"start":{"line":57,"column":4},"end":{"line":57,"column":32}},"24":{"start":{"line":66,"column":9},"end":{"line":77,"column":3}},"25":{"start":{"line":66,"column":51},"end":{"line":66,"column":126}},"26":{"start":{"line":67,"column":4},"end":{"line":67,"column":34}},"27":{"start":{"line":68,"column":4},"end":{"line":68,"column":146}},"28":{"start":{"line":69,"column":4},"end":{"line":69,"column":48}},"29":{"start":{"line":70,"column":4},"end":{"line":70,"column":77}},"30":{"start":{"line":71,"column":4},"end":{"line":71,"column":153}},"31":{"start":{"line":72,"column":4},"end":{"line":76,"column":7}},"32":{"start":{"line":79,"column":10},"end":{"line":88,"column":3}},"33":{"start":{"line":80,"column":4},"end":{"line":82,"column":30}},"34":{"start":{"line":83,"column":4},"end":{"line":83,"column":35}},"35":{"start":{"line":84,"column":4},"end":{"line":86,"column":10}},"36":{"start":{"line":87,"column":4},"end":{"line":87,"column":35}},"37":{"start":{"line":90,"column":10},"end":{"line":113,"column":3}},"38":{"start":{"line":90,"column":2},"end":{"line":113,"column":3}},"39":{"start":{"line":91,"column":4},"end":{"line":91,"column":67}},"40":{"start":{"line":92,"column":4},"end":{"line":92,"column":65}},"41":{"start":{"line":95,"column":6},"end":{"line":97,"column":9}},"42":{"start":{"line":98,"column":6},"end":{"line":100,"column":7}},"43":{"start":{"line":99,"column":8},"end":{"line":99,"column":42}},"44":{"start":{"line":102,"column":6},"end":{"line":106,"column":12}},"45":{"start":{"line":103,"column":8},"end":{"line":105,"column":10}},"46":{"start":{"line":104,"column":10},"end":{"line":104,"column":63}},"47":{"start":{"line":108,"column":6},"end":{"line":110,"column":43}},"48":{"start":{"line":111,"column":6},"end":{"line":111,"column":41}},"49":{"start":{"line":93,"column":4},"end":{"line":112,"column":5}},"50":{"start":{"line":115,"column":10},"end":{"line":117,"column":3}},"51":{"start":{"line":116,"column":4},"end":{"line":116,"column":17}},"52":{"start":{"line":119,"column":10},"end":{"line":121,"column":3}},"53":{"start":{"line":120,"column":4},"end":{"line":120,"column":17}},"54":{"start":{"line":123,"column":10},"end":{"line":128,"column":3}},"55":{"start":{"line":124,"column":4},"end":{"line":127,"column":5}},"56":{"start":{"line":125,"column":6},"end":{"line":125,"column":19}},"57":{"start":{"line":126,"column":6},"end":{"line":126,"column":20}},"58":{"start":{"line":130,"column":10},"end":{"line":133,"column":3}},"59":{"start":{"line":131,"column":4},"end":{"line":131,"column":34}},"60":{"start":{"line":132,"column":4},"end":{"line":132,"column":43}},"61":{"start":{"line":135,"column":10},"end":{"line":138,"column":3}},"62":{"start":{"line":136,"column":4},"end":{"line":136,"column":64}},"63":{"start":{"line":137,"column":4},"end":{"line":137,"column":26}},"64":{"start":{"line":18,"column":9},"end":{"line":18,"column":31}},"65":{"start":{"line":24,"column":9},"end":{"line":35,"column":4}},"66":{"start":{"line":30,"column":6},"end":{"line":32,"column":9}},"67":{"start":{"line":31,"column":8},"end":{"line":31,"column":35}},"68":{"start":{"line":33,"column":6},"end":{"line":33,"column":48}},"69":{"start":{"line":139,"column":0},"end":{"line":139,"column":1}},"70":{"start":{"line":17,"column":13},"end":{"line":139,"column":1}},"71":{"start":{"line":141,"column":0},"end":{"line":141,"column":59}}},"fnMap":{"1":{"name":"(anonymous_5160)","line":17,"loc":{"start":{"line":17,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"ResultsPerPage","line":48,"loc":{"start":{"line":48,"column":2},"end":{"line":48,"column":113}}},"3":{"name":"(anonymous_5162)","line":54,"loc":{"start":{"line":54,"column":54},"end":{"line":54,"column":83}}},"4":{"name":"(anonymous_5163)","line":55,"loc":{"start":{"line":55,"column":52},"end":{"line":55,"column":57}}},"5":{"name":"(anonymous_5164)","line":56,"loc":{"start":{"line":56,"column":51},"end":{"line":56,"column":77}}},"6":{"name":"(anonymous_5165)","line":66,"loc":{"start":{"line":66,"column":2},"end":{"line":66,"column":126}}},"7":{"name":"(anonymous_5166)","line":79,"loc":{"start":{"line":79,"column":2},"end":{"line":79,"column":44}}},"8":{"name":"(anonymous_5167)","line":90,"loc":{"start":{"line":90,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_5168)","line":93,"loc":{"start":{"line":93,"column":4},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_5169)","line":102,"loc":{"start":{"line":102,"column":7},"end":{"line":102,"column":30}}},"11":{"name":"(anonymous_5170)","line":103,"loc":{"start":{"line":103,"column":29},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_5171)","line":115,"loc":{"start":{"line":115,"column":2},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_5172)","line":119,"loc":{"start":{"line":119,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_5173)","line":123,"loc":{"start":{"line":123,"column":2},"end":{"line":123,"column":57}}},"15":{"name":"(anonymous_5174)","line":130,"loc":{"start":{"line":130,"column":2},"end":{"line":130,"column":48}}},"16":{"name":"(anonymous_5175)","line":135,"loc":{"start":{"line":135,"column":2},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_5176)","line":29,"loc":{"start":{"line":29,"column":71},"end":{"line":29,"column":95}}},"18":{"name":"(anonymous_5177)","line":30,"loc":{"start":{"line":30,"column":31},"end":{"line":30,"column":46}}}},"branchMap":{"1":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":51},"end":{"line":66,"column":50}},{"start":{"line":66,"column":51},"end":{"line":66,"column":50}}]},"2":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":6},"end":{"line":98,"column":5}},{"start":{"line":98,"column":6},"end":{"line":98,"column":5}}]},"3":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":4},"end":{"line":124,"column":3}},{"start":{"line":124,"column":4},"end":{"line":124,"column":3}}]},"4":{"line":33,"type":"cond-expr","locations":[{"start":{"line":33,"column":34},"end":{"line":33,"column":38}},{"start":{"line":33,"column":41},"end":{"line":33,"column":47}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":5,"9":1,"10":1,"11":4,"12":4,"13":4,"14":4,"15":4,"16":4,"17":4,"18":1,"19":4,"20":0,"21":4,"22":0,"23":4,"24":1,"25":4,"26":2,"27":2,"28":2,"29":2,"30":2,"31":2,"32":1,"33":4,"34":4,"35":4,"36":4,"37":1,"38":1,"39":1,"40":1,"41":4,"42":4,"43":1,"44":4,"45":4,"46":0,"47":4,"48":4,"49":1,"50":1,"51":0,"52":1,"53":0,"54":1,"55":1,"56":1,"57":1,"58":1,"59":0,"60":0,"61":1,"62":1,"63":1,"64":1,"65":1,"66":4,"67":0,"68":4,"69":1,"70":1,"71":1},"b":{"1":[2,0],"2":[1,3],"3":[1,0],"4":[4,0]},"f":{"1":1,"2":4,"3":1,"4":0,"5":0,"6":2,"7":4,"8":1,"9":4,"10":4,"11":0,"12":0,"13":0,"14":1,"15":0,"16":1,"17":4,"18":0},"code":"import {Component} from '../Base/Component';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {Initialization} from '../Base/Initialization';\nimport {QueryEvents, IQuerySuccessEventArgs, INoResultsEventArgs} from '../../events/QueryEvents'\nimport {analyticsActionCauseList, IAnalyticsResultsPerPageMeta, IAnalyticsActionCause} from '../Analytics/AnalyticsActionListMeta'\nimport {Assert} from '../../misc/Assert'\nimport {$$} from '../../utils/Dom'\n\nexport interface IResultsPerPageOptions {\n  choicesDisplayed?: number[];\n}\n\n/**\n * This component attaches itself to a div and allows users to choose the number of results displayed per page.<br/>\n */\nexport class ResultsPerPage extends Component {\n  static ID = 'ResultsPerPage';\n\n  /**\n   * The options for the ResultsPerPage\n   * @componentOptions\n   */\n  static options: IResultsPerPageOptions = {\n    /**\n     * Specifies the possible values of the number of results to display per page.<br/>\n     * The default value is 10, 25, 50, 100\n     */\n    choicesDisplayed: ComponentOptions.buildCustomListOption<number[]>(function (list: string[]) {\n      let values = _.map(list, function (value) {\n        return parseInt(value, 10);\n      });\n      return values.length == 0 ? null : values;\n    }, { defaultValue: [10, 25, 50, 100] })\n  };\n\n  private currentResultsPerPage: number;\n  private span: HTMLElement;\n  private list: HTMLElement;\n\n  /**\n   * Create a new ResultsPerPage<br/>\n   * Render itself on every query success.\n   * @param element HTMLElement on which to instantiate the page (Normally : a div)\n   * @param options\n   * @param bindings\n   */\n  constructor(public element: HTMLElement, public options?: IResultsPerPageOptions, bindings?: IComponentBindings) {\n    super(element, ResultsPerPage.ID, bindings);\n    this.options = ComponentOptions.initComponentOptions(element, ResultsPerPage, options);\n    this.currentResultsPerPage = this.options.choicesDisplayed[0];\n    this.queryController.options.resultsPerPage = this.currentResultsPerPage;\n\n    this.bind.onRootElement(QueryEvents.querySuccess, (args: IQuerySuccessEventArgs) => this.handleQuerySuccess(args));\n    this.bind.onRootElement(QueryEvents.queryError, () => this.handleQueryError());\n    this.bind.onRootElement(QueryEvents.noResults, (args: INoResultsEventArgs) => this.handleNoResults());\n    this.initComponent(element);\n  }\n\n  /**\n   * Set the current number of results per page, and execute a query.<br/>\n   * Log the required analytics event (pagerResize by default)\n   * @param resultsPerPage\n   * @param analyticCause\n   */\n  public setResultsPerPage(resultsPerPage: number, analyticCause: IAnalyticsActionCause = analyticsActionCauseList.pagerResize) {\n    Assert.exists(resultsPerPage);\n    Assert.check(this.options.choicesDisplayed.indexOf(resultsPerPage) != -1, 'The specified number of results is not available in the options.');\n    this.currentResultsPerPage = resultsPerPage;\n    this.queryController.options.resultsPerPage = this.currentResultsPerPage;\n    this.usageAnalytics.logCustomEvent<IAnalyticsResultsPerPageMeta>(analyticCause, { currentResultsPerPage: this.currentResultsPerPage }, this.element);\n    this.queryController.executeQuery({\n      ignoreWarningSearchEvent: true,\n      keepLastSearchUid: true,\n      origin: this\n    });\n  }\n\n  private initComponent(element: HTMLElement) {\n    this.span = $$('span', {\n      className: 'coveo-results-per-page-text'\n    }, 'Results per page').el;\n    element.appendChild(this.span);\n    this.list = $$('ul', {\n      className: 'coveo-results-per-page-list'\n    }).el;\n    element.appendChild(this.list);\n  }\n\n  private render() {\n    $$(this.span).removeClass('coveo-results-per-page-no-results');\n    let numResultsList: number[] = this.options.choicesDisplayed;\n    for (var i = 0; i < numResultsList.length; i++) {\n\n      let listItem = $$('li', {\n        className: 'coveo-results-per-page-list-item'\n      });\n      if (numResultsList[i] == this.currentResultsPerPage) {\n        listItem.addClass('coveo-active');\n      }\n\n      ((resultsPerPage: number) => {\n        listItem.on('click', () => {\n          this.handleClickPage(numResultsList[resultsPerPage]);\n        })\n      })(i);\n\n      listItem.el.appendChild($$('a', {\n        className: 'coveo-results-per-page-list-item-text'\n      }, numResultsList[i].toString()).el);\n      this.list.appendChild(listItem.el);\n    }\n  }\n\n  private handleQueryError() {\n    this.reset();\n  }\n\n  private handleNoResults() {\n    this.reset();\n  }\n\n  private handleQuerySuccess(data: IQuerySuccessEventArgs) {\n    if (data.results.results.length != 0) {\n      this.reset();\n      this.render();\n    }\n  }\n\n  private handleClickPage(resultsPerPage: number) {\n    Assert.exists(resultsPerPage);\n    this.setResultsPerPage(resultsPerPage);\n  }\n\n  private reset() {\n    $$(this.span).addClass('coveo-results-per-page-no-results');\n    $$(this.list).empty();\n  }\n}\n\nInitialization.registerAutoCreateComponent(ResultsPerPage);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Pager/ResultsPerPage.ts\n **/","l":{"1":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"17":5,"18":1,"24":1,"30":4,"31":0,"33":4,"48":4,"49":4,"50":4,"51":4,"52":4,"54":4,"55":4,"56":4,"57":4,"66":4,"67":2,"68":2,"69":2,"70":2,"71":2,"72":2,"79":1,"80":4,"83":4,"84":4,"87":4,"90":1,"91":1,"92":1,"93":1,"95":4,"98":4,"99":1,"102":4,"103":4,"104":0,"108":4,"111":4,"115":1,"116":0,"119":1,"120":0,"123":1,"124":1,"125":1,"126":1,"130":1,"131":0,"132":0,"135":1,"136":1,"137":1,"139":1,"141":1}},"src/ui/Excerpt/Excerpt.ts":{"path":"src/ui/Excerpt/Excerpt.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":58}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":58}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":54}},"6":{"start":{"line":13,"column":0},"end":{"line":31,"column":1}},"7":{"start":{"line":13,"column":29},"end":{"line":13,"column":38}},"8":{"start":{"line":23,"column":2},"end":{"line":30,"column":3}},"9":{"start":{"line":24,"column":4},"end":{"line":24,"column":41}},"10":{"start":{"line":23,"column":21},"end":{"line":23,"column":41}},"11":{"start":{"line":23,"column":50},"end":{"line":23,"column":63}},"12":{"start":{"line":23,"column":72},"end":{"line":23,"column":101}},"13":{"start":{"line":23,"column":110},"end":{"line":23,"column":131}},"14":{"start":{"line":26,"column":4},"end":{"line":26,"column":84}},"15":{"start":{"line":27,"column":4},"end":{"line":27,"column":54}},"16":{"start":{"line":28,"column":4},"end":{"line":28,"column":31}},"17":{"start":{"line":29,"column":4},"end":{"line":29,"column":137}},"18":{"start":{"line":14,"column":9},"end":{"line":14,"column":24}},"19":{"start":{"line":31,"column":0},"end":{"line":31,"column":1}},"20":{"start":{"line":13,"column":13},"end":{"line":31,"column":1}},"21":{"start":{"line":33,"column":0},"end":{"line":33,"column":52}}},"fnMap":{"1":{"name":"(anonymous_5181)","line":13,"loc":{"start":{"line":13,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Excerpt","line":23,"loc":{"start":{"line":23,"column":2},"end":{"line":23,"column":131}}}},"branchMap":{"1":{"line":27,"type":"binary-expr","locations":[{"start":{"line":27,"column":18},"end":{"line":27,"column":29}},{"start":{"line":27,"column":33},"end":{"line":27,"column":53}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1},"b":{"1":[1,0]},"f":{"1":1,"2":1},"code":"import {Component} from '../Base/Component';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {IQueryResult} from '../../rest/QueryResult';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {Assert} from '../../misc/Assert';\nimport {HighlightUtils} from '../../utils/HighlightUtils';\nimport {Initialization} from '../Base/Initialization';\n\n/**\n * This component, located in a result template, is used to render the document's excerpt,\n * as well as highlighting searched **keywords** using the appropriate template helpers.\n */\nexport class Excerpt extends Component {\n  static ID = 'Excerpt';\n\n  /**\n   * Create a new Excerpt component\n   * @param element\n   * @param options\n   * @param bindings\n   * @param result\n   */\n  constructor(public element: HTMLElement, public options?: any, public bindings?: IComponentBindings, public result?: IQueryResult) {\n    super(element, Excerpt.ID, bindings);\n\n    this.options = ComponentOptions.initComponentOptions(element, Excerpt, options);\n    this.result = this.result || this.resolveResult();\n    Assert.exists(this.result);\n    this.element.innerHTML = HighlightUtils.highlightString(this.result.excerpt, this.result.excerptHighlights, null, 'coveo-highlight');\n  }\n}\n\nInitialization.registerAutoCreateComponent(Excerpt);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Excerpt/Excerpt.ts\n **/","l":{"1":1,"4":1,"5":1,"6":1,"7":1,"13":1,"14":1,"23":1,"24":1,"26":1,"27":1,"28":1,"29":1,"31":1,"33":1}},"src/ui/ResultLink/ResultLink.ts":{"path":"src/ui/ResultLink/ResultLink.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":57}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":72}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":77}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":62}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":57}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":51}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":52}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":53}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":49}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":40}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":39}},"13":{"start":{"line":16,"column":0},"end":{"line":16,"column":38}},"14":{"start":{"line":17,"column":0},"end":{"line":17,"column":34}},"15":{"start":{"line":23,"column":0},"end":{"line":324,"column":1}},"16":{"start":{"line":23,"column":32},"end":{"line":23,"column":41}},"17":{"start":{"line":133,"column":2},"end":{"line":161,"column":3}},"18":{"start":{"line":134,"column":4},"end":{"line":134,"column":44}},"19":{"start":{"line":133,"column":21},"end":{"line":133,"column":41}},"20":{"start":{"line":133,"column":50},"end":{"line":133,"column":78}},"21":{"start":{"line":133,"column":87},"end":{"line":133,"column":123}},"22":{"start":{"line":133,"column":132},"end":{"line":133,"column":153}},"23":{"start":{"line":133,"column":162},"end":{"line":133,"column":174}},"24":{"start":{"line":246,"column":10},"end":{"line":258,"column":17}},"25":{"start":{"line":247,"column":4},"end":{"line":247,"column":41}},"26":{"start":{"line":248,"column":4},"end":{"line":248,"column":60}},"27":{"start":{"line":249,"column":4},"end":{"line":251,"column":5}},"28":{"start":{"line":250,"column":6},"end":{"line":250,"column":41}},"29":{"start":{"line":252,"column":4},"end":{"line":256,"column":31}},"30":{"start":{"line":257,"column":4},"end":{"line":257,"column":18}},"31":{"start":{"line":135,"column":4},"end":{"line":135,"column":87}},"32":{"start":{"line":136,"column":4},"end":{"line":136,"column":126}},"33":{"start":{"line":137,"column":4},"end":{"line":137,"column":49}},"34":{"start":{"line":139,"column":4},"end":{"line":141,"column":5}},"35":{"start":{"line":140,"column":6},"end":{"line":140,"column":116}},"36":{"start":{"line":143,"column":4},"end":{"line":143,"column":46}},"37":{"start":{"line":144,"column":4},"end":{"line":144,"column":31}},"38":{"start":{"line":146,"column":4},"end":{"line":156,"column":5}},"39":{"start":{"line":150,"column":6},"end":{"line":152,"column":8}},"40":{"start":{"line":151,"column":8},"end":{"line":151,"column":31}},"41":{"start":{"line":153,"column":6},"end":{"line":155,"column":9}},"42":{"start":{"line":154,"column":8},"end":{"line":154,"column":31}},"43":{"start":{"line":157,"column":4},"end":{"line":159,"column":5}},"44":{"start":{"line":158,"column":6},"end":{"line":158,"column":178}},"45":{"start":{"line":160,"column":4},"end":{"line":160,"column":27}},"46":{"start":{"line":163,"column":12},"end":{"line":165,"column":3}},"47":{"start":{"line":164,"column":4},"end":{"line":164,"column":152}},"48":{"start":{"line":167,"column":10},"end":{"line":176,"column":3}},"49":{"start":{"line":167,"column":2},"end":{"line":176,"column":3}},"50":{"start":{"line":168,"column":4},"end":{"line":175,"column":5}},"51":{"start":{"line":169,"column":6},"end":{"line":171,"column":9}},"52":{"start":{"line":170,"column":8},"end":{"line":170,"column":55}},"53":{"start":{"line":172,"column":6},"end":{"line":172,"column":18}},"54":{"start":{"line":174,"column":6},"end":{"line":174,"column":19}},"55":{"start":{"line":178,"column":10},"end":{"line":188,"column":3}},"56":{"start":{"line":178,"column":2},"end":{"line":188,"column":3}},"57":{"start":{"line":179,"column":4},"end":{"line":187,"column":5}},"58":{"start":{"line":180,"column":6},"end":{"line":183,"column":9}},"59":{"start":{"line":181,"column":8},"end":{"line":181,"column":27}},"60":{"start":{"line":182,"column":8},"end":{"line":182,"column":79}},"61":{"start":{"line":184,"column":6},"end":{"line":184,"column":18}},"62":{"start":{"line":186,"column":6},"end":{"line":186,"column":19}},"63":{"start":{"line":190,"column":10},"end":{"line":206,"column":3}},"64":{"start":{"line":190,"column":2},"end":{"line":206,"column":3}},"65":{"start":{"line":191,"column":4},"end":{"line":204,"column":5}},"66":{"start":{"line":192,"column":6},"end":{"line":202,"column":9}},"67":{"start":{"line":193,"column":8},"end":{"line":201,"column":9}},"68":{"start":{"line":194,"column":10},"end":{"line":198,"column":11}},"69":{"start":{"line":195,"column":12},"end":{"line":195,"column":37}},"70":{"start":{"line":197,"column":12},"end":{"line":197,"column":39}},"71":{"start":{"line":200,"column":10},"end":{"line":200,"column":26}},"72":{"start":{"line":203,"column":6},"end":{"line":203,"column":18}},"73":{"start":{"line":205,"column":4},"end":{"line":205,"column":17}},"74":{"start":{"line":211,"column":9},"end":{"line":213,"column":3}},"75":{"start":{"line":212,"column":4},"end":{"line":212,"column":47}},"76":{"start":{"line":218,"column":9},"end":{"line":220,"column":3}},"77":{"start":{"line":219,"column":4},"end":{"line":219,"column":47}},"78":{"start":{"line":225,"column":9},"end":{"line":229,"column":3}},"79":{"start":{"line":226,"column":4},"end":{"line":228,"column":5}},"80":{"start":{"line":227,"column":6},"end":{"line":227,"column":22}},"81":{"start":{"line":231,"column":10},"end":{"line":244,"column":3}},"82":{"start":{"line":235,"column":4},"end":{"line":243,"column":5}},"83":{"start":{"line":236,"column":6},"end":{"line":236,"column":65}},"84":{"start":{"line":237,"column":6},"end":{"line":239,"column":7}},"85":{"start":{"line":238,"column":8},"end":{"line":238,"column":58}},"86":{"start":{"line":240,"column":6},"end":{"line":240,"column":18}},"87":{"start":{"line":242,"column":6},"end":{"line":242,"column":19}},"88":{"start":{"line":260,"column":10},"end":{"line":272,"column":3}},"89":{"start":{"line":261,"column":4},"end":{"line":263,"column":5}},"90":{"start":{"line":262,"column":6},"end":{"line":262,"column":38}},"91":{"start":{"line":264,"column":4},"end":{"line":266,"column":5}},"92":{"start":{"line":265,"column":6},"end":{"line":265,"column":22}},"93":{"start":{"line":267,"column":4},"end":{"line":271,"column":5}},"94":{"start":{"line":268,"column":6},"end":{"line":268,"column":66}},"95":{"start":{"line":270,"column":6},"end":{"line":270,"column":34}},"96":{"start":{"line":274,"column":10},"end":{"line":276,"column":3}},"97":{"start":{"line":275,"column":4},"end":{"line":275,"column":38}},"98":{"start":{"line":278,"column":10},"end":{"line":285,"column":3}},"99":{"start":{"line":279,"column":4},"end":{"line":279,"column":61}},"100":{"start":{"line":280,"column":4},"end":{"line":284,"column":5}},"101":{"start":{"line":281,"column":6},"end":{"line":281,"column":46}},"102":{"start":{"line":282,"column":11},"end":{"line":284,"column":5}},"103":{"start":{"line":283,"column":6},"end":{"line":283,"column":41}},"104":{"start":{"line":287,"column":10},"end":{"line":295,"column":3}},"105":{"start":{"line":288,"column":4},"end":{"line":288,"column":61}},"106":{"start":{"line":289,"column":4},"end":{"line":293,"column":5}},"107":{"start":{"line":290,"column":6},"end":{"line":290,"column":18}},"108":{"start":{"line":291,"column":11},"end":{"line":293,"column":5}},"109":{"start":{"line":292,"column":6},"end":{"line":292,"column":18}},"110":{"start":{"line":294,"column":4},"end":{"line":294,"column":17}},"111":{"start":{"line":297,"column":10},"end":{"line":299,"column":3}},"112":{"start":{"line":298,"column":4},"end":{"line":298,"column":70}},"113":{"start":{"line":301,"column":10},"end":{"line":303,"column":3}},"114":{"start":{"line":302,"column":4},"end":{"line":302,"column":125}},"115":{"start":{"line":305,"column":10},"end":{"line":314,"column":3}},"116":{"start":{"line":305,"column":2},"end":{"line":314,"column":3}},"117":{"start":{"line":306,"column":4},"end":{"line":313,"column":7}},"118":{"start":{"line":307,"column":6},"end":{"line":307,"column":53}},"119":{"start":{"line":308,"column":6},"end":{"line":308,"column":59}},"120":{"start":{"line":309,"column":6},"end":{"line":311,"column":7}},"121":{"start":{"line":310,"column":8},"end":{"line":310,"column":52}},"122":{"start":{"line":312,"column":6},"end":{"line":312,"column":31}},"123":{"start":{"line":316,"column":10},"end":{"line":323,"column":3}},"124":{"start":{"line":317,"column":4},"end":{"line":321,"column":5}},"125":{"start":{"line":318,"column":6},"end":{"line":318,"column":55}},"126":{"start":{"line":319,"column":6},"end":{"line":319,"column":47}},"127":{"start":{"line":320,"column":6},"end":{"line":320,"column":54}},"128":{"start":{"line":322,"column":4},"end":{"line":322,"column":44}},"129":{"start":{"line":24,"column":9},"end":{"line":24,"column":27}},"130":{"start":{"line":30,"column":9},"end":{"line":121,"column":4}},"131":{"start":{"line":119,"column":6},"end":{"line":119,"column":18}},"132":{"start":{"line":123,"column":9},"end":{"line":131,"column":3}},"133":{"start":{"line":324,"column":0},"end":{"line":324,"column":1}},"134":{"start":{"line":23,"column":13},"end":{"line":324,"column":1}},"135":{"start":{"line":326,"column":0},"end":{"line":326,"column":55}}},"fnMap":{"1":{"name":"(anonymous_5187)","line":23,"loc":{"start":{"line":23,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"ResultLink","line":133,"loc":{"start":{"line":133,"column":2},"end":{"line":133,"column":174}}},"3":{"name":"(anonymous_5189)","line":246,"loc":{"start":{"line":246,"column":39},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_5190)","line":150,"loc":{"start":{"line":150,"column":36},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_5191)","line":153,"loc":{"start":{"line":153,"column":30},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_5192)","line":163,"loc":{"start":{"line":163,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_5193)","line":167,"loc":{"start":{"line":167,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_5194)","line":169,"loc":{"start":{"line":169,"column":35},"end":{"line":169,"column":44}}},"9":{"name":"(anonymous_5195)","line":178,"loc":{"start":{"line":178,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_5196)","line":180,"loc":{"start":{"line":180,"column":35},"end":{"line":180,"column":44}}},"11":{"name":"(anonymous_5197)","line":190,"loc":{"start":{"line":190,"column":2},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_5198)","line":192,"loc":{"start":{"line":192,"column":35},"end":{"line":192,"column":45}}},"13":{"name":"(anonymous_5199)","line":211,"loc":{"start":{"line":211,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_5200)","line":218,"loc":{"start":{"line":218,"column":2},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_5201)","line":225,"loc":{"start":{"line":225,"column":2},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_5202)","line":231,"loc":{"start":{"line":231,"column":2},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_5203)","line":260,"loc":{"start":{"line":260,"column":2},"end":{"line":null,"column":-1}}},"18":{"name":"(anonymous_5204)","line":274,"loc":{"start":{"line":274,"column":2},"end":{"line":null,"column":-1}}},"19":{"name":"(anonymous_5205)","line":278,"loc":{"start":{"line":278,"column":2},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_5206)","line":287,"loc":{"start":{"line":287,"column":2},"end":{"line":null,"column":-1}}},"21":{"name":"(anonymous_5207)","line":297,"loc":{"start":{"line":297,"column":2},"end":{"line":null,"column":-1}}},"22":{"name":"(anonymous_5208)","line":301,"loc":{"start":{"line":301,"column":2},"end":{"line":null,"column":-1}}},"23":{"name":"(anonymous_5209)","line":305,"loc":{"start":{"line":305,"column":2},"end":{"line":null,"column":-1}}},"24":{"name":"(anonymous_5210)","line":306,"loc":{"start":{"line":306,"column":61},"end":{"line":306,"column":75}}},"25":{"name":"(anonymous_5211)","line":316,"loc":{"start":{"line":316,"column":2},"end":{"line":316,"column":52}}},"26":{"name":"(anonymous_5212)","line":118,"loc":{"start":{"line":118,"column":89},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":249,"type":"if","locations":[{"start":{"line":249,"column":4},"end":{"line":249,"column":3}},{"start":{"line":249,"column":4},"end":{"line":249,"column":3}}]},"2":{"line":249,"type":"binary-expr","locations":[{"start":{"line":249,"column":8},"end":{"line":249,"column":32}},{"start":{"line":249,"column":36},"end":{"line":249,"column":53}}]},"3":{"line":137,"type":"binary-expr","locations":[{"start":{"line":137,"column":18},"end":{"line":137,"column":24}},{"start":{"line":137,"column":28},"end":{"line":137,"column":48}}]},"4":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":4},"end":{"line":139,"column":3}},{"start":{"line":139,"column":4},"end":{"line":139,"column":3}}]},"5":{"line":140,"type":"binary-expr","locations":[{"start":{"line":140,"column":35},"end":{"line":140,"column":83}},{"start":{"line":140,"column":87},"end":{"line":140,"column":115}}]},"6":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":4},"end":{"line":146,"column":3}},{"start":{"line":146,"column":4},"end":{"line":146,"column":3}}]},"7":{"line":157,"type":"if","locations":[{"start":{"line":157,"column":4},"end":{"line":157,"column":3}},{"start":{"line":157,"column":4},"end":{"line":157,"column":3}}]},"8":{"line":158,"type":"cond-expr","locations":[{"start":{"line":158,"column":51},"end":{"line":158,"column":154}},{"start":{"line":158,"column":157},"end":{"line":158,"column":177}}]},"9":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":11},"end":{"line":164,"column":43}},{"start":{"line":164,"column":47},"end":{"line":164,"column":85}},{"start":{"line":164,"column":89},"end":{"line":164,"column":115}},{"start":{"line":164,"column":119},"end":{"line":164,"column":151}}]},"10":{"line":168,"type":"if","locations":[{"start":{"line":168,"column":4},"end":{"line":168,"column":3}},{"start":{"line":168,"column":4},"end":{"line":168,"column":3}}]},"11":{"line":179,"type":"if","locations":[{"start":{"line":179,"column":4},"end":{"line":179,"column":3}},{"start":{"line":179,"column":4},"end":{"line":179,"column":3}}]},"12":{"line":191,"type":"if","locations":[{"start":{"line":191,"column":4},"end":{"line":191,"column":3}},{"start":{"line":191,"column":4},"end":{"line":191,"column":3}}]},"13":{"line":193,"type":"if","locations":[{"start":{"line":193,"column":8},"end":{"line":193,"column":7}},{"start":{"line":193,"column":8},"end":{"line":193,"column":7}}]},"14":{"line":194,"type":"if","locations":[{"start":{"line":194,"column":10},"end":{"line":194,"column":9}},{"start":{"line":194,"column":10},"end":{"line":194,"column":9}}]},"15":{"line":226,"type":"if","locations":[{"start":{"line":226,"column":4},"end":{"line":226,"column":3}},{"start":{"line":226,"column":4},"end":{"line":226,"column":3}}]},"16":{"line":235,"type":"if","locations":[{"start":{"line":235,"column":4},"end":{"line":235,"column":3}},{"start":{"line":235,"column":4},"end":{"line":235,"column":3}}]},"17":{"line":235,"type":"binary-expr","locations":[{"start":{"line":235,"column":8},"end":{"line":235,"column":32}},{"start":{"line":235,"column":36},"end":{"line":235,"column":98}}]},"18":{"line":237,"type":"if","locations":[{"start":{"line":237,"column":6},"end":{"line":237,"column":5}},{"start":{"line":237,"column":6},"end":{"line":237,"column":5}}]},"19":{"line":237,"type":"binary-expr","locations":[{"start":{"line":237,"column":10},"end":{"line":237,"column":44}},{"start":{"line":237,"column":48},"end":{"line":237,"column":103}}]},"20":{"line":237,"type":"binary-expr","locations":[{"start":{"line":237,"column":50},"end":{"line":237,"column":76}},{"start":{"line":237,"column":80},"end":{"line":237,"column":102}}]},"21":{"line":261,"type":"if","locations":[{"start":{"line":261,"column":4},"end":{"line":261,"column":3}},{"start":{"line":261,"column":4},"end":{"line":261,"column":3}}]},"22":{"line":264,"type":"if","locations":[{"start":{"line":264,"column":4},"end":{"line":264,"column":3}},{"start":{"line":264,"column":4},"end":{"line":264,"column":3}}]},"23":{"line":264,"type":"binary-expr","locations":[{"start":{"line":264,"column":8},"end":{"line":264,"column":39}},{"start":{"line":264,"column":43},"end":{"line":264,"column":69}}]},"24":{"line":267,"type":"if","locations":[{"start":{"line":267,"column":4},"end":{"line":267,"column":3}},{"start":{"line":267,"column":4},"end":{"line":267,"column":3}}]},"25":{"line":279,"type":"cond-expr","locations":[{"start":{"line":279,"column":37},"end":{"line":279,"column":44}},{"start":{"line":279,"column":47},"end":{"line":279,"column":60}}]},"26":{"line":280,"type":"if","locations":[{"start":{"line":280,"column":4},"end":{"line":280,"column":3}},{"start":{"line":280,"column":4},"end":{"line":280,"column":3}}]},"27":{"line":280,"type":"binary-expr","locations":[{"start":{"line":280,"column":8},"end":{"line":280,"column":28}},{"start":{"line":280,"column":32},"end":{"line":280,"column":54}}]},"28":{"line":282,"type":"if","locations":[{"start":{"line":282,"column":11},"end":{"line":282,"column":10}},{"start":{"line":282,"column":11},"end":{"line":282,"column":10}}]},"29":{"line":282,"type":"binary-expr","locations":[{"start":{"line":282,"column":15},"end":{"line":282,"column":36}},{"start":{"line":282,"column":40},"end":{"line":282,"column":62}}]},"30":{"line":288,"type":"cond-expr","locations":[{"start":{"line":288,"column":37},"end":{"line":288,"column":44}},{"start":{"line":288,"column":47},"end":{"line":288,"column":60}}]},"31":{"line":289,"type":"if","locations":[{"start":{"line":289,"column":4},"end":{"line":289,"column":3}},{"start":{"line":289,"column":4},"end":{"line":289,"column":3}}]},"32":{"line":289,"type":"binary-expr","locations":[{"start":{"line":289,"column":8},"end":{"line":289,"column":28}},{"start":{"line":289,"column":32},"end":{"line":289,"column":80}}]},"33":{"line":291,"type":"if","locations":[{"start":{"line":291,"column":11},"end":{"line":291,"column":10}},{"start":{"line":291,"column":11},"end":{"line":291,"column":10}}]},"34":{"line":291,"type":"binary-expr","locations":[{"start":{"line":291,"column":15},"end":{"line":291,"column":36}},{"start":{"line":291,"column":40},"end":{"line":291,"column":82}}]},"35":{"line":302,"type":"binary-expr","locations":[{"start":{"line":302,"column":12},"end":{"line":302,"column":38}},{"start":{"line":302,"column":42},"end":{"line":302,"column":81}},{"start":{"line":302,"column":86},"end":{"line":302,"column":124}}]},"36":{"line":309,"type":"if","locations":[{"start":{"line":309,"column":6},"end":{"line":309,"column":5}},{"start":{"line":309,"column":6},"end":{"line":309,"column":5}}]},"37":{"line":312,"type":"binary-expr","locations":[{"start":{"line":312,"column":13},"end":{"line":312,"column":21}},{"start":{"line":312,"column":25},"end":{"line":312,"column":30}}]},"38":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":4},"end":{"line":317,"column":3}},{"start":{"line":317,"column":4},"end":{"line":317,"column":3}}]},"39":{"line":317,"type":"binary-expr","locations":[{"start":{"line":317,"column":8},"end":{"line":317,"column":14}},{"start":{"line":317,"column":18},"end":{"line":317,"column":41}}]},"40":{"line":322,"type":"cond-expr","locations":[{"start":{"line":322,"column":20},"end":{"line":322,"column":31}},{"start":{"line":322,"column":34},"end":{"line":322,"column":43}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":265,"16":1,"17":1,"18":264,"19":264,"20":264,"21":264,"22":264,"23":264,"24":264,"25":5,"26":5,"27":5,"28":4,"29":5,"30":5,"31":264,"32":264,"33":264,"34":264,"35":264,"36":264,"37":264,"38":264,"39":264,"40":1,"41":264,"42":4,"43":264,"44":264,"45":264,"46":1,"47":264,"48":1,"49":264,"50":264,"51":1,"52":1,"53":1,"54":263,"55":1,"56":263,"57":263,"58":0,"59":0,"60":0,"61":0,"62":263,"63":1,"64":28,"65":28,"66":26,"67":2,"68":0,"69":0,"70":0,"71":2,"72":26,"73":2,"74":1,"75":0,"76":1,"77":6,"78":1,"79":0,"80":0,"81":1,"82":263,"83":235,"84":235,"85":0,"86":235,"87":28,"88":1,"89":241,"90":6,"91":235,"92":2,"93":235,"94":2,"95":233,"96":1,"97":291,"98":1,"99":2,"100":2,"101":1,"102":1,"103":1,"104":1,"105":2,"106":2,"107":1,"108":1,"109":1,"110":0,"111":1,"112":527,"113":1,"114":527,"115":1,"116":6,"117":6,"118":5,"119":5,"120":5,"121":2,"122":5,"123":1,"124":14,"125":7,"126":7,"127":7,"128":7,"129":1,"130":1,"131":0,"132":1,"133":1,"134":1,"135":1},"b":{"1":[4,1],"2":[5,1],"3":[264,0],"4":[264,0],"5":[264,0],"6":[264,0],"7":[264,0],"8":[263,1],"9":[264,263,263,28],"10":[1,263],"11":[0,263],"12":[26,2],"13":[0,2],"14":[0,0],"15":[0,0],"16":[235,28],"17":[263,237],"18":[0,235],"19":[235,0],"20":[0,0],"21":[6,235],"22":[2,233],"23":[235,235],"24":[2,233],"25":[2,0],"26":[1,1],"27":[2,1],"28":[1,0],"29":[1,1],"30":[2,0],"31":[1,1],"32":[2,1],"33":[1,0],"34":[1,1],"35":[527,527,0],"36":[2,3],"37":[5,0],"38":[7,7],"39":[14,12],"40":[5,2]},"f":{"1":1,"2":264,"3":5,"4":1,"5":4,"6":264,"7":264,"8":1,"9":263,"10":0,"11":28,"12":2,"13":0,"14":6,"15":0,"16":263,"17":241,"18":291,"19":2,"20":2,"21":527,"22":527,"23":6,"24":5,"25":14,"26":0},"code":"import {Component} from '../Base/Component'\nimport {ComponentOptions} from '../Base/ComponentOptions'\nimport {ComponentOptionsModel} from '../../models/ComponentOptionsModel'\nimport {IResultsComponentBindings} from '../Base/ResultsComponentBindings'\nimport {analyticsActionCauseList} from '../Analytics/AnalyticsActionListMeta'\nimport {IResultLinkOptions} from './ResultLinkOptions'\nimport {ResultListEvents} from '../../events/ResultListEvents'\nimport {HighlightUtils} from '../../utils/HighlightUtils'\nimport {IQueryResult} from '../../rest/QueryResult'\nimport {DeviceUtils} from '../../utils/DeviceUtils'\nimport {OS_NAME, OSUtils} from '../../utils/OSUtils'\nimport {Initialization} from '../Base/Initialization'\nimport {QueryUtils} from '../../utils/QueryUtils'\nimport {Assert} from '../../misc/Assert'\nimport {Utils} from '../../utils/Utils'\nimport {Defer} from '../../misc/Defer'\nimport {$$} from '../../utils/Dom'\n\n/**\n * This component is intended to be placed inside a result template, which itself is used inside a {@link ResultList} component.\n * The ResultLink component automatically transforms a search result title into a clickable link that points to the original document.\n */\nexport class ResultLink extends Component {\n  static ID = 'ResultLink';\n\n  /**\n   * The options for the ResultLink\n   * @componentOptions\n   */\n  static options: IResultLinkOptions = {\n\n    /**\n     * Specifies the field that the result link uses to output its href. \n     * By default, the clickUri available on the document is used, but you can override this with this option.\n     * Tip:\n     * When you do not include a field option, in your result template, you can include an href attribute on the ResultLink element.\n     *\n     * When present, the href attribute value overrides the clickUri that is otherwise taken by default.\n     *\n     * Specifying an href attribute is useful when you want to build the result link using a custom script or by concatenating the content of two or more variables.\n     *\n     * ```html\n     * <!-- In the following result template the link is provided by the custom getMyKBUri() function. -->\n     * <script id=\"KnowledgeArticle\" type=\"text/underscore\">\n     *    <div class='CoveoIcon>'></div>\n     *    <a class=\"CoveoResultLink\" href=\"<%=getMyKBUri(raw)%>\"></a>\n     *    <div class=\"CoveoExcerpt\"></div>\n     * </script>\n     * ```\n     */\n    field: ComponentOptions.buildFieldOption(),\n\n    /**\n     * Specifies whether the result link tries to open in Microsoft Outlook. This is normally intended for ResultLink related to Microsoft Exchange emails.\n     * Default value is false.\n     */\n    openInOutlook: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n\n    /**\n     * Specifies whether the result link should open in the Quick View rather than loading through the original URL.\n     * Default value is false.\n     */\n    openQuickview: ComponentOptions.buildBooleanOption(),\n\n    /**\n     * Specifies whether the result link always opens in a new window ( <a target='_blank' /> ).\n     * Default is false\n     */\n    alwaysOpenInNewWindow: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n\n    /**\n     * Specifies a template string to use to generate the href.\n     *\n     * It is possible to reference fields from the associated result:\n     *\n     * Ex: `${clickUri}?id=${title}` will generate something like `http://uri.com?id=documentTitle`\n     *\n     * Or from the global scope:\n     *\n     * Ex: `${window.location.hostname}/{Foo.Bar}` will generate something like `localhost/fooBar`\n     *\n     * This option will override the field option.\n     *\n     * Default is `undefined`\n     */\n    hrefTemplate: ComponentOptions.buildStringOption(),\n    /**\n     * Binds an event handler function that is executed when the component link is clicked. The handler function takes an EventObject and a {@link IQueryResult} as its parameters.\n     *\n     * Overriding the default behavior of the onClick event allows to execute specific code instead.\n     *\n     * ```javascript\n     * // Example: using a ResultLink to open the original document in a special way instead of the normal browser behavior\n     *\n     * Coveo.init(document.querySelector('#search'), {\n     *   ResultLink : {\n     *        onClick : function(e, result){\n     *          e.preventDefault();\n     *          // Custom code to execute with the URI and title of the document\n     *          openUriInASpecialTab(result.clickUri, result.title)\n     *        }\n     *    }\n     * })\n     *\n     * // OR using the jquery extension\n     *\n     * $(\"#search\").coveo('init' , {\n     *    ResultLink : {\n     *        onClick : function(e, result){\n     *          e.preventDefault();\n     *          // Custom code to execute with the URI and title of the document\n     *          openUriInASpecialTab(result.clickUri, result.title)\n     *        }\n     *    }\n     * });\n     * ```\n     */\n    onClick: ComponentOptions.buildCustomOption<(e: Event, result: IQueryResult) => any>(() => {\n      return null;\n    })\n  };\n\n  static fields = [\n    'outlookformacuri',\n    'outlookuri',\n    'connectortype',\n    'urihash', // analytics\n    'collection', // analytics\n    'source', // analytics\n    'author' // analytics\n  ]\n\n  constructor(public element: HTMLElement, public options?: IResultLinkOptions, public bindings?: IResultsComponentBindings, public result?: IQueryResult, public os?: OS_NAME) {\n    super(element, ResultLink.ID, bindings);\n    this.options = ComponentOptions.initComponentOptions(element, ResultLink, options);\n    this.options = _.extend({}, this.options, this.componentOptionsModel.get(ComponentOptionsModel.attributesEnum.resultLink))\n    this.result = result || this.resolveResult();\n\n    if (this.options.openQuickview == null) {\n      this.options.openQuickview = result.raw['connectortype'] == 'ExchangeCrawler' && DeviceUtils.isMobileDevice();\n    }\n\n    Assert.exists(this.componentOptionsModel);\n    Assert.exists(this.result);\n\n    if (!this.quickviewShouldBeOpened()) {\n      // We assume that anytime the contextual menu is opened on a result link\n      // this is do \"open in a new tab\" or something similar.\n      // This is not 100% accurate, but we estimate it to be the lesser of 2 evils (not logging anything)\n      $$(element).on('contextmenu', () => {\n        this.logOpenDocument();\n      })\n      $$(element).on('click', () => {\n        this.logOpenDocument();\n      });\n    }\n    if (/^\\s*$/.test(this.element.innerHTML)) {\n      this.element.innerHTML = this.result.title ? HighlightUtils.highlightString(this.result.title, this.result.titleHighlights, null, 'coveo-highlight') : this.result.clickUri;\n    }\n    this.bindEventToOpen();\n  }\n\n  protected bindEventToOpen(): boolean {\n    return this.bindOnClickIfNotUndefined() || this.bindOpenQuickviewIfNotUndefined() || this.setHrefIfNotAlready() || this.openLinkThatIsNotAnAnchor();\n  }\n\n  private bindOnClickIfNotUndefined() {\n    if (this.options.onClick != undefined) {\n      $$(this.element).on('click', (e: Event) => {\n        this.options.onClick.call(this, e, this.result)\n      });\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  private bindOpenQuickviewIfNotUndefined() {\n    if (this.quickviewShouldBeOpened()) {\n      $$(this.element).on('click', (e: Event) => {\n        e.preventDefault();\n        $$(this.bindings.resultElement).trigger(ResultListEvents.openQuickview)\n      });\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  private openLinkThatIsNotAnAnchor() {\n    if (!this.elementIsAnAnchor()) {\n      $$(this.element).on('click', (ev: Event) => {\n        if (this.options.alwaysOpenInNewWindow) {\n          if (this.options.openInOutlook) {\n            this.openLinkInOutlook();\n          } else {\n            this.openLinkInNewWindow();\n          }\n        } else {\n          this.openLink();\n        }\n      });\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Opens the result\n   */\n  public openLink() {\n    window.location.href = this.getResultUri();\n  }\n\n  /**\n   * Opens the result in a new window\n   */\n  public openLinkInNewWindow() {\n    window.open(this.getResultUri(), '_blank');\n  }\n\n  /**\n   * Opens the result in outlook if the result has an outlook field.\n   */\n  public openLinkInOutlook() {\n    if (this.hasOutlookField()) {\n      this.openLink();\n    }\n  }\n\n  private setHrefIfNotAlready() {\n    // Do not erase any value put in href by the template, etc. Allows\n    // using custom click urls while still keeping analytics recording\n    // and other behavior brought by the component.\n    if (this.elementIsAnAnchor() && !Utils.isNonEmptyString($$(this.element).getAttribute('href'))) {\n      $$(this.element).setAttribute('href', this.getResultUri());\n      if (this.options.alwaysOpenInNewWindow && !(this.options.openInOutlook && this.hasOutlookField())) {\n        $$(this.element).setAttribute('target', '_blank');\n      }\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  private logOpenDocument = _.debounce(() => {\n    this.queryController.saveLastQuery();\n    let documentURL = $$(this.element).getAttribute('href');\n    if (documentURL == undefined || documentURL == '') {\n      documentURL = this.result.clickUri;\n    }\n    this.usageAnalytics.logClickEvent(analyticsActionCauseList.documentOpen, {\n      documentURL: documentURL,\n      documentTitle: this.result.title,\n      author: this.result.raw.author\n    }, this.result, this.root);\n    Defer.flush();\n  }, 1500, true);\n\n  private getResultUri(): string {\n    if (this.options.hrefTemplate) {\n      return this.parseHrefTemplate();\n    }\n    if (this.options.field == undefined && this.options.openInOutlook) {\n      this.setField();\n    }\n    if (this.options.field != undefined) {\n      return Utils.getFieldValue(this.result, this.options.field);\n    } else {\n      return this.result.clickUri;\n    }\n  }\n\n  private elementIsAnAnchor() {\n    return this.element.tagName == 'A'\n  }\n\n  private setField() {\n    let os = Utils.exists(this.os) ? this.os : OSUtils.get();\n    if (os == OS_NAME.MACOSX && this.hasOutlookField()) {\n      this.options.field = '@outlookformacuri'\n    } else if (os == OS_NAME.WINDOWS && this.hasOutlookField()) {\n      this.options.field = '@outlookuri';\n    }\n  }\n\n  private hasOutlookField() {\n    let os = Utils.exists(this.os) ? this.os : OSUtils.get();\n    if (os == OS_NAME.MACOSX && this.result.raw['outlookformacuri'] != undefined) {\n      return true;\n    } else if (os == OS_NAME.WINDOWS && this.result.raw['outlookuri'] != undefined) {\n      return true;\n    }\n    return false;\n  }\n\n  private isUriThatMustBeOpenedInQuickview(): boolean {\n    return this.result.clickUri.toLowerCase().indexOf('ldap://') == 0;\n  }\n\n  private quickviewShouldBeOpened() {\n    return (this.options.openQuickview || this.isUriThatMustBeOpenedInQuickview()) && QueryUtils.hasHTMLVersion(this.result);\n  }\n\n  private parseHrefTemplate(): string {\n    return this.options.hrefTemplate.replace(/\\$\\{(.*?)\\}/g, (value: string) => {\n      let key = value.substring(2, value.length - 1);\n      let newValue = this.readFromObject(this.result, key);\n      if (!newValue) {\n        newValue = this.readFromObject(window, key);\n      }\n      return newValue || value;\n    });\n  }\n\n  private readFromObject(object: Object, key: string): string {\n    if (object && key.indexOf('.') !== -1) {\n      let newKey = key.substring(key.indexOf('.') + 1);\n      key = key.substring(0, key.indexOf('.'));\n      return this.readFromObject(object[key], newKey);\n    }\n    return object ? object[key] : undefined;\n  }\n}\n\nInitialization.registerAutoCreateComponent(ResultLink);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/ResultLink/ResultLink.ts\n **/","l":{"1":1,"2":1,"3":1,"5":1,"7":1,"8":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"23":265,"24":1,"30":1,"119":0,"123":1,"133":264,"134":264,"135":264,"136":264,"137":264,"139":264,"140":264,"143":264,"144":264,"146":264,"150":264,"151":1,"153":264,"154":4,"157":264,"158":264,"160":264,"163":1,"164":264,"167":264,"168":264,"169":1,"170":1,"172":1,"174":263,"178":263,"179":263,"180":0,"181":0,"182":0,"184":0,"186":263,"190":28,"191":28,"192":26,"193":2,"194":0,"195":0,"197":0,"200":2,"203":26,"205":2,"211":1,"212":0,"218":1,"219":6,"225":1,"226":0,"227":0,"231":1,"235":263,"236":235,"237":235,"238":0,"240":235,"242":28,"246":264,"247":5,"248":5,"249":5,"250":4,"252":5,"257":5,"260":1,"261":241,"262":6,"264":235,"265":2,"267":235,"268":2,"270":233,"274":1,"275":291,"278":1,"279":2,"280":2,"281":1,"282":1,"283":1,"287":1,"288":2,"289":2,"290":1,"291":1,"292":1,"294":0,"297":1,"298":527,"301":1,"302":527,"305":6,"306":6,"307":5,"308":5,"309":5,"310":2,"312":5,"316":1,"317":14,"318":7,"319":7,"320":7,"322":7,"324":1,"326":1}},"src/ui/Thumbnail/Thumbnail.ts":{"path":"src/ui/Thumbnail/Thumbnail.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":57}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":51}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":49}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":51}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":53}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":34}},"8":{"start":{"line":21,"column":0},"end":{"line":117,"column":1}},"9":{"start":{"line":21,"column":31},"end":{"line":21,"column":40}},"10":{"start":{"line":61,"column":2},"end":{"line":82,"column":3}},"11":{"start":{"line":62,"column":4},"end":{"line":62,"column":43}},"12":{"start":{"line":61,"column":21},"end":{"line":61,"column":41}},"13":{"start":{"line":61,"column":50},"end":{"line":61,"column":77}},"14":{"start":{"line":61,"column":86},"end":{"line":61,"column":122}},"15":{"start":{"line":61,"column":131},"end":{"line":61,"column":152}},"16":{"start":{"line":64,"column":4},"end":{"line":64,"column":90}},"17":{"start":{"line":66,"column":4},"end":{"line":68,"column":5}},"18":{"start":{"line":67,"column":6},"end":{"line":67,"column":77}},"19":{"start":{"line":75,"column":4},"end":{"line":75,"column":115}},"20":{"start":{"line":77,"column":4},"end":{"line":81,"column":5}},"21":{"start":{"line":78,"column":6},"end":{"line":78,"column":33}},"22":{"start":{"line":80,"column":6},"end":{"line":80,"column":36}},"23":{"start":{"line":84,"column":10},"end":{"line":96,"column":3}},"24":{"start":{"line":85,"column":4},"end":{"line":85,"column":63}},"25":{"start":{"line":87,"column":4},"end":{"line":95,"column":5}},"26":{"start":{"line":90,"column":6},"end":{"line":90,"column":54}},"27":{"start":{"line":94,"column":6},"end":{"line":94,"column":54}},"28":{"start":{"line":98,"column":10},"end":{"line":101,"column":3}},"29":{"start":{"line":99,"column":4},"end":{"line":99,"column":123}},"30":{"start":{"line":100,"column":4},"end":{"line":100,"column":52}},"31":{"start":{"line":103,"column":10},"end":{"line":112,"column":3}},"32":{"start":{"line":103,"column":2},"end":{"line":112,"column":3}},"33":{"start":{"line":104,"column":4},"end":{"line":111,"column":8}},"34":{"start":{"line":106,"column":8},"end":{"line":106,"column":82}},"35":{"start":{"line":107,"column":8},"end":{"line":107,"column":86}},"36":{"start":{"line":110,"column":8},"end":{"line":110,"column":38}},"37":{"start":{"line":114,"column":10},"end":{"line":116,"column":3}},"38":{"start":{"line":115,"column":4},"end":{"line":115,"column":61}},"39":{"start":{"line":22,"column":9},"end":{"line":22,"column":26}},"40":{"start":{"line":28,"column":9},"end":{"line":41,"column":4}},"41":{"start":{"line":43,"column":9},"end":{"line":43,"column":29}},"42":{"start":{"line":45,"column":9},"end":{"line":52,"column":3}},"43":{"start":{"line":117,"column":0},"end":{"line":117,"column":1}},"44":{"start":{"line":21,"column":13},"end":{"line":117,"column":1}},"45":{"start":{"line":119,"column":0},"end":{"line":119,"column":54}}},"fnMap":{"1":{"name":"(anonymous_5216)","line":21,"loc":{"start":{"line":21,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Thumbnail","line":61,"loc":{"start":{"line":61,"column":2},"end":{"line":61,"column":152}}},"3":{"name":"(anonymous_5218)","line":84,"loc":{"start":{"line":84,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_5219)","line":98,"loc":{"start":{"line":98,"column":2},"end":{"line":98,"column":68}}},"5":{"name":"(anonymous_5220)","line":103,"loc":{"start":{"line":103,"column":2},"end":{"line":103,"column":68}}},"6":{"name":"(anonymous_5221)","line":105,"loc":{"start":{"line":105,"column":12},"end":{"line":105,"column":21}}},"7":{"name":"(anonymous_5222)","line":109,"loc":{"start":{"line":109,"column":13},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_5223)","line":114,"loc":{"start":{"line":114,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":4},"end":{"line":66,"column":3}},{"start":{"line":66,"column":4},"end":{"line":66,"column":3}}]},"2":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":4},"end":{"line":77,"column":3}},{"start":{"line":77,"column":4},"end":{"line":77,"column":3}}]},"3":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":4},"end":{"line":87,"column":3}},{"start":{"line":87,"column":4},"end":{"line":87,"column":3}}]},"4":{"line":87,"type":"binary-expr","locations":[{"start":{"line":87,"column":8},"end":{"line":87,"column":26}},{"start":{"line":87,"column":30},"end":{"line":87,"column":52}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":9,"12":9,"13":9,"14":9,"15":9,"16":9,"17":9,"18":0,"19":9,"20":9,"21":7,"22":2,"23":1,"24":7,"25":7,"26":1,"27":6,"28":1,"29":1,"30":1,"31":1,"32":6,"33":6,"34":1,"35":1,"36":0,"37":1,"38":2,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1},"b":{"1":[0,9],"2":[7,2],"3":[1,6],"4":[7,6]},"f":{"1":1,"2":9,"3":7,"4":1,"5":6,"6":1,"7":0,"8":2},"code":"import {Component} from '../Base/Component'\nimport {ComponentOptions} from '../Base/ComponentOptions'\nimport {IResultsComponentBindings} from '../Base/ResultsComponentBindings'\nimport {ResultLink} from '../ResultLink/ResultLink'\nimport {IQueryResult} from '../../rest/QueryResult'\nimport {QueryUtils} from '../../utils/QueryUtils'\nimport {DeviceUtils} from '../../utils/DeviceUtils'\nimport {Initialization} from '../Base/Initialization'\nimport {ISearchEndpoint} from '../../rest/SearchEndpointInterface'\nimport {$$} from '../../utils/Dom'\n\nexport interface IThumbnailOptions {\n  noThumbnailClass?: string;\n  clickable?: boolean;\n}\n\n/**\n * This component automatically fetches the thumbnail of the result object\n * and formats an HTML image tag (<code>img</code>) with it.\n */\nexport class Thumbnail extends Component {\n  static ID = 'Thumbnail';\n\n  /**\n   * Options for the Thumbnail\n   * @componentOptions\n   */\n  static options: IThumbnailOptions = {\n    /**\n     * Specifies the CSS class to use on the thumbnail image tag when a result\n     * has no thumbnail in the index.<br/>\n     * Default value: <code>coveo-no-thumbnail</code>\n     */\n    noThumbnailClass: ComponentOptions.buildStringOption({ defaultValue: 'coveo-no-thumbnail' }),\n    /**\n     * Specifies if a clickable {@link ResultLink} is to be created around the Thumbnail.<br/>\n     * Uses all the same options as as {@link ResultLink} except <code>field</code><br/>\n     * Default value is <code>false</code>\n     */\n    clickable: ComponentOptions.buildBooleanOption({ defaultValue: false })\n  };\n\n  static parent = ResultLink;\n\n  static fields = [\n    'outlookformacuri',\n    'outlookuri',\n    'connectortype',\n    'urihash',  //     ⎫\n    'collection', //   ⎬--- analytics\n    'source' //        ⎭\n  ]\n\n  /**\n   * Create a new Thumbnail component\n   * @param element\n   * @param options\n   * @param bindings\n   * @param result\n   */\n  constructor(public element: HTMLElement, public options?: IThumbnailOptions, public bindings?: IResultsComponentBindings, public result?: IQueryResult) {\n    super(element, Thumbnail.ID, bindings);\n\n    this.options = ComponentOptions.initOptions(element, <any>Thumbnail.options, options);\n\n    if (this.options.clickable) {\n      new ResultLink(this.element, this.options, this.bindings, this.result);\n    }\n\n\n    // We need to set src to a blank image right away to avoid the image from\n    // changing size once it's loaded. Also, doing this prevents a border from\n    // appearing on some browsers when there is no thumbnail. I've found no other\n    // way to get rid of it...\n    this.element.setAttribute('src', 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==');\n\n    if (QueryUtils.hasThumbnail(result)) {\n      this.buildThumbnailImage();\n    } else {\n      this.setEmptyThumbnailClass();\n    }\n  }\n\n  private buildThumbnailImage() {\n    let endpoint = this.bindings.queryController.getEndpoint();\n\n    if (endpoint.isJsonp() || DeviceUtils.isIE8or9()) {\n      // For jsonp and IE8-9 (XDomain) we can't GET/POST for binary data. We are limited\n      // to only setting the src attribute directly on the img.\n      this.buildImageWithDirectSrcAttribute(endpoint);\n    } else {\n      // Base 64 img allows us to GET/POST the image as raw binary, so that we can also\n      // pass the credential of the user. Useful for phonegap among others.\n      this.buildImageWithBase64SrcAttribute(endpoint);\n    }\n  }\n\n  private buildImageWithDirectSrcAttribute(endpoint: ISearchEndpoint) {\n    let dataStreamUri = endpoint.getViewAsDatastreamUri(this.result.uniqueId, '$Thumbnail$', { contentType: 'image/png' });\n    this.element.setAttribute('src', dataStreamUri);\n  }\n\n  private buildImageWithBase64SrcAttribute(endpoint: ISearchEndpoint) {\n    endpoint.getRawDataStream(this.result.uniqueId, '$Thumbnail$')\n      .then((response) => {\n        let rawBinary = String.fromCharCode.apply(null, new Uint8Array(response));\n        this.element.setAttribute('src', 'data:image/png;base64, ' + btoa(rawBinary));\n      })\n      .catch(() => {\n        this.setEmptyThumbnailClass();\n      })\n  }\n\n  private setEmptyThumbnailClass() {\n    $$(this.element).addClass(this.options.noThumbnailClass);\n  }\n}\n\nInitialization.registerAutoCreateComponent(Thumbnail);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Thumbnail/Thumbnail.ts\n **/","l":{"1":1,"2":1,"4":1,"6":1,"7":1,"8":1,"10":1,"21":1,"22":1,"28":1,"43":1,"45":1,"61":9,"62":9,"64":9,"66":9,"67":0,"75":9,"77":9,"78":7,"80":2,"84":1,"85":7,"87":7,"90":1,"94":6,"98":1,"99":1,"100":1,"103":6,"104":6,"106":1,"107":1,"110":0,"114":1,"115":2,"117":1,"119":1}},"src/ui/PrintableUri/PrintableUri.ts":{"path":"src/ui/PrintableUri/PrintableUri.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":57}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":73}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":53}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":77}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":39}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":34}},"8":{"start":{"line":17,"column":0},"end":{"line":165,"column":1}},"9":{"start":{"line":17,"column":34},"end":{"line":17,"column":43}},"10":{"start":{"line":34,"column":2},"end":{"line":45,"column":3}},"11":{"start":{"line":35,"column":4},"end":{"line":35,"column":46}},"12":{"start":{"line":34,"column":21},"end":{"line":34,"column":41}},"13":{"start":{"line":34,"column":50},"end":{"line":34,"column":79}},"14":{"start":{"line":34,"column":119},"end":{"line":34,"column":140}},"15":{"start":{"line":37,"column":4},"end":{"line":37,"column":89}},"16":{"start":{"line":39,"column":4},"end":{"line":39,"column":40}},"17":{"start":{"line":40,"column":4},"end":{"line":44,"column":5}},"18":{"start":{"line":41,"column":6},"end":{"line":41,"column":49}},"19":{"start":{"line":43,"column":6},"end":{"line":43,"column":38}},"20":{"start":{"line":47,"column":9},"end":{"line":108,"column":3}},"21":{"start":{"line":48,"column":4},"end":{"line":48,"column":57}},"22":{"start":{"line":49,"column":4},"end":{"line":49,"column":56}},"23":{"start":{"line":51,"column":4},"end":{"line":51,"column":35}},"24":{"start":{"line":52,"column":4},"end":{"line":52,"column":39}},"25":{"start":{"line":54,"column":4},"end":{"line":65,"column":5}},"26":{"start":{"line":55,"column":6},"end":{"line":59,"column":7}},"27":{"start":{"line":56,"column":8},"end":{"line":56,"column":46}},"28":{"start":{"line":57,"column":8},"end":{"line":57,"column":35}},"29":{"start":{"line":58,"column":8},"end":{"line":58,"column":39}},"30":{"start":{"line":61,"column":6},"end":{"line":61,"column":44}},"31":{"start":{"line":62,"column":6},"end":{"line":62,"column":95}},"32":{"start":{"line":63,"column":6},"end":{"line":63,"column":25}},"33":{"start":{"line":64,"column":6},"end":{"line":64,"column":33}},"34":{"start":{"line":67,"column":4},"end":{"line":107,"column":5}},"35":{"start":{"line":68,"column":6},"end":{"line":68,"column":55}},"36":{"start":{"line":69,"column":6},"end":{"line":69,"column":52}},"37":{"start":{"line":70,"column":6},"end":{"line":70,"column":65}},"38":{"start":{"line":71,"column":6},"end":{"line":71,"column":56}},"39":{"start":{"line":73,"column":6},"end":{"line":73,"column":27}},"40":{"start":{"line":74,"column":6},"end":{"line":74,"column":37}},"41":{"start":{"line":75,"column":6},"end":{"line":78,"column":7}},"42":{"start":{"line":76,"column":8},"end":{"line":76,"column":47}},"43":{"start":{"line":77,"column":8},"end":{"line":77,"column":39}},"44":{"start":{"line":79,"column":6},"end":{"line":79,"column":53}},"45":{"start":{"line":80,"column":6},"end":{"line":80,"column":47}},"46":{"start":{"line":81,"column":6},"end":{"line":81,"column":47}},"47":{"start":{"line":83,"column":6},"end":{"line":106,"column":7}},"48":{"start":{"line":84,"column":8},"end":{"line":84,"column":55}},"49":{"start":{"line":85,"column":8},"end":{"line":85,"column":39}},"50":{"start":{"line":86,"column":8},"end":{"line":86,"column":18}},"51":{"start":{"line":87,"column":8},"end":{"line":96,"column":9}},"52":{"start":{"line":88,"column":10},"end":{"line":88,"column":41}},"53":{"start":{"line":89,"column":10},"end":{"line":89,"column":49}},"54":{"start":{"line":90,"column":10},"end":{"line":92,"column":11}},"55":{"start":{"line":91,"column":12},"end":{"line":91,"column":43}},"56":{"start":{"line":93,"column":10},"end":{"line":93,"column":33}},"57":{"start":{"line":94,"column":10},"end":{"line":94,"column":58}},"58":{"start":{"line":95,"column":10},"end":{"line":95,"column":14}},"59":{"start":{"line":97,"column":8},"end":{"line":102,"column":10}},"60":{"start":{"line":98,"column":10},"end":{"line":100,"column":11}},"61":{"start":{"line":99,"column":12},"end":{"line":99,"column":54}},"62":{"start":{"line":101,"column":10},"end":{"line":101,"column":40}},"63":{"start":{"line":104,"column":8},"end":{"line":104,"column":38}},"64":{"start":{"line":105,"column":8},"end":{"line":105,"column":47}},"65":{"start":{"line":110,"column":9},"end":{"line":126,"column":3}},"66":{"start":{"line":111,"column":4},"end":{"line":111,"column":31}},"67":{"start":{"line":112,"column":4},"end":{"line":112,"column":39}},"68":{"start":{"line":113,"column":4},"end":{"line":117,"column":5}},"69":{"start":{"line":114,"column":6},"end":{"line":114,"column":95}},"70":{"start":{"line":116,"column":6},"end":{"line":116,"column":96}},"71":{"start":{"line":118,"column":4},"end":{"line":118,"column":139}},"72":{"start":{"line":119,"column":4},"end":{"line":119,"column":23}},"73":{"start":{"line":120,"column":4},"end":{"line":120,"column":52}},"74":{"start":{"line":121,"column":4},"end":{"line":121,"column":41}},"75":{"start":{"line":122,"column":4},"end":{"line":122,"column":22}},"76":{"start":{"line":123,"column":4},"end":{"line":123,"column":47}},"77":{"start":{"line":124,"column":4},"end":{"line":124,"column":38}},"78":{"start":{"line":125,"column":4},"end":{"line":125,"column":33}},"79":{"start":{"line":128,"column":9},"end":{"line":133,"column":3}},"80":{"start":{"line":129,"column":4},"end":{"line":129,"column":51}},"81":{"start":{"line":130,"column":4},"end":{"line":130,"column":30}},"82":{"start":{"line":131,"column":4},"end":{"line":131,"column":58}},"83":{"start":{"line":132,"column":4},"end":{"line":132,"column":21}},"84":{"start":{"line":135,"column":9},"end":{"line":140,"column":3}},"85":{"start":{"line":136,"column":4},"end":{"line":136,"column":50}},"86":{"start":{"line":137,"column":4},"end":{"line":137,"column":31}},"87":{"start":{"line":138,"column":4},"end":{"line":138,"column":47}},"88":{"start":{"line":139,"column":4},"end":{"line":139,"column":20}},"89":{"start":{"line":142,"column":9},"end":{"line":151,"column":3}},"90":{"start":{"line":143,"column":4},"end":{"line":143,"column":68}},"91":{"start":{"line":144,"column":4},"end":{"line":144,"column":43}},"92":{"start":{"line":145,"column":4},"end":{"line":145,"column":35}},"93":{"start":{"line":146,"column":4},"end":{"line":146,"column":20}},"94":{"start":{"line":147,"column":4},"end":{"line":147,"column":19}},"95":{"start":{"line":148,"column":4},"end":{"line":148,"column":43}},"96":{"start":{"line":149,"column":4},"end":{"line":149,"column":60}},"97":{"start":{"line":150,"column":4},"end":{"line":150,"column":16}},"98":{"start":{"line":153,"column":10},"end":{"line":163,"column":3}},"99":{"start":{"line":153,"column":2},"end":{"line":163,"column":3}},"100":{"start":{"line":154,"column":4},"end":{"line":162,"column":6}},"101":{"start":{"line":155,"column":6},"end":{"line":155,"column":67}},"102":{"start":{"line":156,"column":6},"end":{"line":156,"column":55}},"103":{"start":{"line":157,"column":6},"end":{"line":161,"column":33}},"104":{"start":{"line":18,"column":9},"end":{"line":18,"column":29}},"105":{"start":{"line":19,"column":9},"end":{"line":19,"column":44}},"106":{"start":{"line":21,"column":9},"end":{"line":23,"column":3}},"107":{"start":{"line":165,"column":0},"end":{"line":165,"column":1}},"108":{"start":{"line":17,"column":13},"end":{"line":165,"column":1}},"109":{"start":{"line":167,"column":0},"end":{"line":167,"column":57}}},"fnMap":{"1":{"name":"(anonymous_5227)","line":17,"loc":{"start":{"line":17,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"PrintableUri","line":34,"loc":{"start":{"line":34,"column":2},"end":{"line":34,"column":140}}},"3":{"name":"(anonymous_5229)","line":47,"loc":{"start":{"line":47,"column":2},"end":{"line":47,"column":66}}},"4":{"name":"(anonymous_5230)","line":97,"loc":{"start":{"line":97,"column":27},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_5231)","line":110,"loc":{"start":{"line":110,"column":2},"end":{"line":110,"column":62}}},"6":{"name":"(anonymous_5232)","line":128,"loc":{"start":{"line":128,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_5233)","line":135,"loc":{"start":{"line":135,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_5234)","line":142,"loc":{"start":{"line":142,"column":2},"end":{"line":142,"column":49}}},"9":{"name":"(anonymous_5235)","line":153,"loc":{"start":{"line":153,"column":2},"end":{"line":153,"column":47}}},"10":{"name":"(anonymous_5236)","line":154,"loc":{"start":{"line":154,"column":43},"end":{"line":154,"column":52}}}},"branchMap":{"1":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":4},"end":{"line":40,"column":3}},{"start":{"line":40,"column":4},"end":{"line":40,"column":3}}]},"2":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":6},"end":{"line":55,"column":5}},{"start":{"line":55,"column":6},"end":{"line":55,"column":5}}]},"3":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":4},"end":{"line":67,"column":3}},{"start":{"line":67,"column":4},"end":{"line":67,"column":3}}]},"4":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":6},"end":{"line":83,"column":5}},{"start":{"line":83,"column":6},"end":{"line":83,"column":5}}]},"5":{"line":87,"type":"binary-expr","locations":[{"start":{"line":87,"column":15},"end":{"line":87,"column":32}},{"start":{"line":87,"column":36},"end":{"line":87,"column":66}}]},"6":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":10},"end":{"line":90,"column":9}},{"start":{"line":90,"column":10},"end":{"line":90,"column":9}}]},"7":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":4},"end":{"line":113,"column":3}},{"start":{"line":113,"column":4},"end":{"line":113,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":1,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":1,"80":0,"81":0,"82":0,"83":0,"84":1,"85":0,"86":0,"87":0,"88":0,"89":1,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":1,"99":0,"100":0,"101":0,"102":0,"103":0,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"code":"import {Component} from '../Base/Component'\nimport {IComponentBindings} from '../Base/ComponentBindings'\nimport {ComponentOptions} from '../Base/ComponentOptions'\nimport {IQueryResult} from '../../rest/QueryResult'\nimport {HighlightUtils, StringAndHoles} from '../../utils/HighlightUtils'\nimport {Initialization} from '../Base/Initialization'\nimport {analyticsActionCauseList} from '../Analytics/AnalyticsActionListMeta'\nimport {Utils} from '../../utils/Utils'\nimport {$$} from '../../utils/Dom'\n\nexport interface IPrintableUriOptions {\n}\n\n/**\n * This component is meant to be used inside a result template to display the URI or path to access a result.\n */\nexport class PrintableUri extends Component {\n  static ID = 'PrintableUri';\n  static options: IPrintableUriOptions = {};\n\n  static fields = [\n    'parents'\n  ]\n\n  private uri: string;\n\n  /**\n   * Create a new PrintableUri\n   * @param element\n   * @param options\n   * @param bindings\n   * @param result\n   */\n  constructor(public element: HTMLElement, public options: IPrintableUriOptions, bindings?: IComponentBindings, public result?: IQueryResult) {\n    super(element, PrintableUri.ID, bindings);\n\n    this.options = ComponentOptions.initComponentOptions(element, PrintableUri, options);\n\n    let parentsXml = result.raw.parents;\n    if (parentsXml) {\n      this.renderParentsXml(element, parentsXml);\n    } else {\n      this.renderUri(element, result);\n    }\n  }\n\n  public renderParentsXml(element: HTMLElement, parentsXml: string) {\n    let xmlDoc: XMLDocument = Utils.parseXml(parentsXml);\n    let parents = xmlDoc.getElementsByTagName('parent');\n\n    let tokens: HTMLElement[] = [];\n    let seperators: HTMLElement[] = [];\n\n    for (let i = 0; i < parents.length; i++) {\n      if (i > 0) {\n        let seperator = this.buildSeperator();\n        seperators.push(seperator);\n        element.appendChild(seperator);\n      }\n\n      let parent = <Element>parents.item(i);\n      let token = this.buildHtmlToken(parent.getAttribute('name'), parent.getAttribute('uri'));\n      tokens.push(token);\n      element.appendChild(token);\n    }\n\n    if (tokens.length > 1) {\n      let ellipsis: HTMLElement = this.buildEllipsis();\n      element.insertBefore(ellipsis, seperators[0]);\n      let ellipsisSeperator: HTMLElement = this.buildSeperator();\n      element.insertBefore(ellipsisSeperator, ellipsis);\n\n      let contentWidth = 0;\n      let tokensWidth: number[] = [];\n      for (let i = 0; i < tokens.length; i++) {\n        tokensWidth[i] = tokens[i].offsetWidth;\n        contentWidth += tokensWidth[i];\n      }\n      let seperatorWidth = seperators[0].offsetWidth;\n      let ellipsisWidth = ellipsis.offsetWidth;\n      let availableWidth = element.offsetWidth;\n\n      if (availableWidth <= contentWidth) {\n        contentWidth += ellipsisWidth + seperatorWidth;\n        let hidden: HTMLElement[] = [];\n        let i = 1;\n        while (i < tokens.length && availableWidth <= contentWidth) {\n          element.removeChild(tokens[i]);\n          element.removeChild(seperators[i - 1]);\n          if (i > 1) {\n            hidden.push(seperators[i - 1]);\n          }\n          hidden.push(tokens[i]);\n          contentWidth -= tokensWidth[i] + seperatorWidth;\n          i++;\n        }\n        ellipsis.onclick = () => {\n          for (let i = 0; i < hidden.length; i++) {\n            element.insertBefore(hidden[i], ellipsis);\n          }\n          element.removeChild(ellipsis);\n        };\n      } else {\n        element.removeChild(ellipsis);\n        element.removeChild(ellipsisSeperator);\n      }\n    }\n  }\n\n  public renderUri(element: HTMLElement, result?: IQueryResult) {\n    this.uri = result.clickUri;\n    let stringAndHoles: StringAndHoles;\n    if (result.printableUri.indexOf('\\\\') == -1) {\n      stringAndHoles = StringAndHoles.shortenUri(result.printableUri, $$(element).width() / 7);\n    } else {\n      stringAndHoles = StringAndHoles.shortenPath(result.printableUri, $$(element).width() / 7);\n    }\n    let uri = HighlightUtils.highlightString(stringAndHoles.value, result.printableUriHighlights, stringAndHoles.holes, 'coveo-highlight');\n    let link = $$('a');\n    link.setAttribute('title', result.printableUri);\n    link.addClass('coveo-printable-uri');\n    link.setHtml(uri);\n    link.setAttribute('href', result.clickUri);\n    this.bindLogOpenDocument(link.el);\n    element.appendChild(link.el);\n  }\n\n  public buildSeperator() {\n    let seperator = document.createElement('span');\n    seperator.innerText = '>';\n    seperator.className = 'coveo-printable-uri-separator';\n    return seperator;\n  }\n\n  public buildEllipsis() {\n    let ellipsis = document.createElement('span');\n    ellipsis.innerText = '...';\n    ellipsis.className = 'coveo-printable-uri';\n    return ellipsis;\n  }\n\n  public buildHtmlToken(name: string, uri: string) {\n    let modifiedName = name.charAt(0).toUpperCase() + name.slice(1);\n    let link = document.createElement('a');\n    this.bindLogOpenDocument(link);\n    link.href = uri;\n    this.uri = uri;\n    link.className = 'coveo-printable-uri';\n    link.appendChild(document.createTextNode(modifiedName));\n    return link;\n  }\n\n  private bindLogOpenDocument(link: HTMLElement) {\n    $$(link).on(['mousedown', 'touchend'], (e: Event) => {\n      let url = $$(<HTMLElement>e.srcElement).getAttribute('href');\n      let title = $$(<HTMLElement>e.srcElement).text();\n      this.usageAnalytics.logClickEvent(analyticsActionCauseList.documentOpen, {\n        documentURL: url,\n        documentTitle: title,\n        author: this.result.raw.author\n      }, this.result, this.root);\n    })\n  }\n\n}\n\nInitialization.registerAutoCreateComponent(PrintableUri);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/PrintableUri/PrintableUri.ts\n **/","l":{"1":1,"3":1,"5":1,"6":1,"7":1,"8":1,"9":1,"17":1,"18":1,"19":1,"21":1,"34":1,"35":0,"37":0,"39":0,"40":0,"41":0,"43":0,"47":1,"48":0,"49":0,"51":0,"52":0,"54":0,"55":0,"56":0,"57":0,"58":0,"61":0,"62":0,"63":0,"64":0,"67":0,"68":0,"69":0,"70":0,"71":0,"73":0,"74":0,"75":0,"76":0,"77":0,"79":0,"80":0,"81":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"93":0,"94":0,"95":0,"97":0,"98":0,"99":0,"101":0,"104":0,"105":0,"110":1,"111":0,"112":0,"113":0,"114":0,"116":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"128":1,"129":0,"130":0,"131":0,"132":0,"135":1,"136":0,"137":0,"138":0,"139":0,"142":1,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"153":1,"154":0,"155":0,"156":0,"157":0,"165":1,"167":1}},"src/ui/DidYouMean/DidYouMean.ts":{"path":"src/ui/DidYouMean/DidYouMean.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":58}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":41}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":123}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":61}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":54}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":52}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":40}},"10":{"start":{"line":12,"column":0},"end":{"line":12,"column":96}},"11":{"start":{"line":13,"column":0},"end":{"line":13,"column":40}},"12":{"start":{"line":24,"column":0},"end":{"line":158,"column":1}},"13":{"start":{"line":24,"column":32},"end":{"line":24,"column":41}},"14":{"start":{"line":49,"column":2},"end":{"line":66,"column":3}},"15":{"start":{"line":51,"column":4},"end":{"line":51,"column":44}},"16":{"start":{"line":49,"column":21},"end":{"line":49,"column":41}},"17":{"start":{"line":49,"column":50},"end":{"line":49,"column":78}},"18":{"start":{"line":49,"column":87},"end":{"line":49,"column":116}},"19":{"start":{"line":53,"column":4},"end":{"line":53,"column":87}},"20":{"start":{"line":54,"column":4},"end":{"line":54,"column":27}},"21":{"start":{"line":55,"column":4},"end":{"line":55,"column":32}},"22":{"start":{"line":57,"column":4},"end":{"line":57,"column":25}},"23":{"start":{"line":59,"column":4},"end":{"line":59,"column":30}},"24":{"start":{"line":61,"column":4},"end":{"line":61,"column":87}},"25":{"start":{"line":62,"column":4},"end":{"line":62,"column":89}},"26":{"start":{"line":63,"column":4},"end":{"line":63,"column":73}},"27":{"start":{"line":64,"column":4},"end":{"line":64,"column":71}},"28":{"start":{"line":65,"column":4},"end":{"line":65,"column":28}},"29":{"start":{"line":72,"column":9},"end":{"line":78,"column":3}},"30":{"start":{"line":72,"column":2},"end":{"line":78,"column":3}},"31":{"start":{"line":73,"column":4},"end":{"line":73,"column":38}},"32":{"start":{"line":74,"column":4},"end":{"line":74,"column":83}},"33":{"start":{"line":75,"column":4},"end":{"line":77,"column":7}},"34":{"start":{"line":76,"column":32},"end":{"line":76,"column":130}},"35":{"start":{"line":80,"column":10},"end":{"line":88,"column":3}},"36":{"start":{"line":81,"column":4},"end":{"line":87,"column":5}},"37":{"start":{"line":82,"column":6},"end":{"line":82,"column":31}},"38":{"start":{"line":83,"column":6},"end":{"line":83,"column":30}},"39":{"start":{"line":84,"column":6},"end":{"line":84,"column":32}},"40":{"start":{"line":86,"column":6},"end":{"line":86,"column":27}},"41":{"start":{"line":90,"column":10},"end":{"line":93,"column":3}},"42":{"start":{"line":91,"column":4},"end":{"line":91,"column":24}},"43":{"start":{"line":92,"column":4},"end":{"line":92,"column":46}},"44":{"start":{"line":95,"column":10},"end":{"line":116,"column":3}},"45":{"start":{"line":97,"column":4},"end":{"line":115,"column":5}},"46":{"start":{"line":98,"column":6},"end":{"line":98,"column":85}},"47":{"start":{"line":99,"column":6},"end":{"line":99,"column":75}},"48":{"start":{"line":100,"column":6},"end":{"line":100,"column":92}},"49":{"start":{"line":101,"column":6},"end":{"line":101,"column":114}},"50":{"start":{"line":102,"column":6},"end":{"line":102,"column":32}},"51":{"start":{"line":103,"column":6},"end":{"line":103,"column":28}},"52":{"start":{"line":105,"column":6},"end":{"line":105,"column":90}},"53":{"start":{"line":106,"column":6},"end":{"line":106,"column":163}},"54":{"start":{"line":107,"column":6},"end":{"line":107,"column":45}},"55":{"start":{"line":109,"column":6},"end":{"line":109,"column":97}},"56":{"start":{"line":110,"column":6},"end":{"line":110,"column":127}},"57":{"start":{"line":111,"column":6},"end":{"line":111,"column":49}},"58":{"start":{"line":113,"column":6},"end":{"line":113,"column":30}},"59":{"start":{"line":114,"column":6},"end":{"line":114,"column":109}},"60":{"start":{"line":118,"column":10},"end":{"line":140,"column":3}},"61":{"start":{"line":118,"column":2},"end":{"line":140,"column":3}},"62":{"start":{"line":119,"column":4},"end":{"line":119,"column":24}},"63":{"start":{"line":120,"column":4},"end":{"line":120,"column":32}},"64":{"start":{"line":122,"column":4},"end":{"line":122,"column":31}},"65":{"start":{"line":123,"column":4},"end":{"line":123,"column":72}},"66":{"start":{"line":125,"column":4},"end":{"line":139,"column":5}},"67":{"start":{"line":126,"column":6},"end":{"line":126,"column":87}},"68":{"start":{"line":127,"column":6},"end":{"line":127,"column":70}},"69":{"start":{"line":128,"column":6},"end":{"line":128,"column":105}},"70":{"start":{"line":129,"column":6},"end":{"line":129,"column":43}},"71":{"start":{"line":131,"column":6},"end":{"line":131,"column":57}},"72":{"start":{"line":132,"column":6},"end":{"line":132,"column":41}},"73":{"start":{"line":134,"column":6},"end":{"line":136,"column":9}},"74":{"start":{"line":135,"column":8},"end":{"line":135,"column":40}},"75":{"start":{"line":138,"column":6},"end":{"line":138,"column":30}},"76":{"start":{"line":142,"column":10},"end":{"line":157,"column":3}},"77":{"start":{"line":143,"column":4},"end":{"line":143,"column":22}},"78":{"start":{"line":144,"column":4},"end":{"line":144,"column":73}},"79":{"start":{"line":145,"column":4},"end":{"line":145,"column":27}},"80":{"start":{"line":146,"column":4},"end":{"line":146,"column":26}},"81":{"start":{"line":147,"column":4},"end":{"line":154,"column":6}},"82":{"start":{"line":148,"column":6},"end":{"line":148,"column":115}},"83":{"start":{"line":149,"column":6},"end":{"line":149,"column":44}},"84":{"start":{"line":150,"column":6},"end":{"line":150,"column":30}},"85":{"start":{"line":151,"column":6},"end":{"line":151,"column":131}},"86":{"start":{"line":152,"column":6},"end":{"line":152,"column":28}},"87":{"start":{"line":153,"column":6},"end":{"line":153,"column":68}},"88":{"start":{"line":155,"column":4},"end":{"line":155,"column":90}},"89":{"start":{"line":156,"column":4},"end":{"line":156,"column":29}},"90":{"start":{"line":25,"column":9},"end":{"line":25,"column":27}},"91":{"start":{"line":30,"column":9},"end":{"line":37,"column":4}},"92":{"start":{"line":158,"column":0},"end":{"line":158,"column":1}},"93":{"start":{"line":24,"column":13},"end":{"line":158,"column":1}},"94":{"start":{"line":160,"column":0},"end":{"line":160,"column":55}}},"fnMap":{"1":{"name":"(anonymous_5241)","line":24,"loc":{"start":{"line":24,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"DidYouMean","line":49,"loc":{"start":{"line":49,"column":2},"end":{"line":49,"column":116}}},"3":{"name":"(anonymous_5243)","line":72,"loc":{"start":{"line":72,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_5244)","line":76,"loc":{"start":{"line":76,"column":26},"end":{"line":76,"column":31}}},"5":{"name":"(anonymous_5245)","line":80,"loc":{"start":{"line":80,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_5246)","line":90,"loc":{"start":{"line":90,"column":2},"end":{"line":90,"column":65}}},"7":{"name":"(anonymous_5247)","line":95,"loc":{"start":{"line":95,"column":2},"end":{"line":95,"column":51}}},"8":{"name":"(anonymous_5248)","line":118,"loc":{"start":{"line":118,"column":2},"end":{"line":118,"column":67}}},"9":{"name":"(anonymous_5249)","line":134,"loc":{"start":{"line":134,"column":33},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_5250)","line":142,"loc":{"start":{"line":142,"column":2},"end":{"line":142,"column":61}}},"11":{"name":"(anonymous_5251)","line":147,"loc":{"start":{"line":147,"column":39},"end":{"line":147,"column":54}}}},"branchMap":{"1":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":4},"end":{"line":81,"column":3}},{"start":{"line":81,"column":4},"end":{"line":81,"column":3}}]},"2":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":4},"end":{"line":97,"column":3}},{"start":{"line":97,"column":4},"end":{"line":97,"column":3}}]},"3":{"line":97,"type":"binary-expr","locations":[{"start":{"line":97,"column":8},"end":{"line":97,"column":60}},{"start":{"line":97,"column":64},"end":{"line":97,"column":85}},{"start":{"line":97,"column":89},"end":{"line":97,"column":122}}]},"4":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":4},"end":{"line":125,"column":3}},{"start":{"line":125,"column":4},"end":{"line":125,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":18,"16":18,"17":18,"18":18,"19":18,"20":18,"21":18,"22":18,"23":18,"24":18,"25":18,"26":18,"27":18,"28":18,"29":1,"30":4,"31":4,"32":2,"33":2,"34":1,"35":1,"36":12,"37":12,"38":12,"39":12,"40":0,"41":1,"42":12,"43":12,"44":1,"45":6,"46":3,"47":3,"48":3,"49":3,"50":3,"51":3,"52":3,"53":3,"54":3,"55":3,"56":3,"57":3,"58":3,"59":3,"60":1,"61":12,"62":12,"63":12,"64":12,"65":12,"66":12,"67":10,"68":10,"69":10,"70":10,"71":10,"72":10,"73":10,"74":0,"75":10,"76":1,"77":13,"78":13,"79":13,"80":13,"81":13,"82":10,"83":10,"84":10,"85":10,"86":10,"87":10,"88":13,"89":13,"90":1,"91":1,"92":1,"93":1,"94":1},"b":{"1":[12,0],"2":[3,3],"3":[6,5,4],"4":[10,2]},"f":{"1":1,"2":18,"3":4,"4":1,"5":12,"6":12,"7":6,"8":12,"9":0,"10":13,"11":10},"code":"import {Component} from '../Base/Component';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {Assert} from '../../misc/Assert';\nimport {QueryEvents, IBuildingQueryEventArgs, INoResultsEventArgs, IQuerySuccessEventArgs} from '../../events/QueryEvents';\nimport {$$} from '../../utils/Dom';\nimport {QueryStateModel} from '../../models/QueryStateModel';\nimport {Initialization} from '../Base/Initialization';\nimport {IQueryCorrection} from '../../rest/QueryCorrection';\nimport {StringUtils} from '../../utils/StringUtils';\nimport {Utils} from '../../utils/Utils';\nimport {analyticsActionCauseList, IAnalyticsNoMeta} from '../Analytics/AnalyticsActionListMeta';\nimport {l} from '../../strings/Strings';\n\nexport interface IDidYouMeanOptions {\n  enableAutoCorrection?: boolean\n}\n\n/**\n * This component is responsible for displaying query corrections. If this component is in the page\n * and the query returns no results, but finds a possible query correction, the component either\n * suggests the correction or automatically triggers a new query with the suggested term.\n */\nexport class DidYouMean extends Component {\n  static ID = 'DidYouMean';\n  /**\n   * The options for the component\n   * @componentOptions\n   */\n  static options: IDidYouMeanOptions = {\n    /**\n     * This option allows the DidYouMean component to automatically trigger a new query\n     * when there are no results and a correction is available <br/>\n     * The default value is <code>true</code>\n     */\n    enableAutoCorrection: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n  };\n\n  public correctedTerm: string;\n\n  private hideNext: boolean;\n\n  /**\n   * Create a new DidYouMean component\n   * @param element\n   * @param options\n   * @param bindings\n   */\n  constructor(public element: HTMLElement, public options?: IDidYouMeanOptions, public bindings?: IComponentBindings) {\n\n    super(element, DidYouMean.ID, bindings);\n\n    this.options = ComponentOptions.initComponentOptions(element, DidYouMean, options);\n    Assert.exists(element);\n    Assert.exists(this.options);\n\n    this.hideNext = true;\n\n    this.correctedTerm = null;\n\n    this.bind.onRootElement(QueryEvents.buildingQuery, this.handlePrepareQueryBuilder);\n    this.bind.onRootElement(QueryEvents.querySuccess, this.handleProcessNewQueryResults);\n    this.bind.onRootElement(QueryEvents.noResults, this.handleNoResults);\n    this.bind.onRootElement(QueryEvents.newQuery, this.handleNewQuery);\n    $$(this.element).hide();\n  }\n\n  /**\n   * Execute a query with the corrected term <br/>\n   * Will throw an exception if the corrected term has not been initialized\n   */\n  public doQueryWithCorrectedTerm() {\n    Assert.exists(this.correctedTerm);\n    this.queryStateModel.set(QueryStateModel.attributesEnum.q, this.correctedTerm);\n    this.queryController.deferExecuteQuery({\n      beforeExecuteQuery: () => this.usageAnalytics.logSearchEvent<IAnalyticsNoMeta>(analyticsActionCauseList.didyoumeanClick, {})\n    });\n  }\n\n  private handleNewQuery() {\n    if (this.hideNext) {\n      $$(this.element).empty();\n      $$(this.element).hide();\n      this.correctedTerm = null;\n    } else {\n      this.hideNext = true;\n    }\n  }\n\n  private handlePrepareQueryBuilder(data: IBuildingQueryEventArgs) {\n    Assert.exists(data);\n    data.queryBuilder.enableDidYouMean = true;\n  }\n\n  private handleNoResults(data: INoResultsEventArgs) {\n    // We do not auto-correct on search-as-you-type queries\n    if (Utils.isNonEmptyArray(data.results.queryCorrections) && !data.searchAsYouType && this.options.enableAutoCorrection) {\n      let originalQuery = this.queryStateModel.get(QueryStateModel.attributesEnum.q);\n      this.correctedTerm = data.results.queryCorrections[0].correctedQuery;\n      let correctedSentence = this.buildCorrectedSentence(data.results.queryCorrections[0]);\n      this.queryStateModel.set(QueryStateModel.attributesEnum.q, data.results.queryCorrections[0].correctedQuery);\n      data.retryTheQuery = true;\n      this.hideNext = false;\n\n      let noResultsFor = $$('div', { className: 'coveo-did-you-mean-no-results-for' }).el;\n      noResultsFor.innerHTML = l('noResultFor', '<span class=\"coveo-highlight coveo-did-you-mean-highlight\">' + StringUtils.htmlEncode(originalQuery) + '</span>');\n      this.element.appendChild(noResultsFor);\n\n      let automaticCorrect = $$('div', { className: 'coveo-did-you-mean-automatic-correct' }).el;\n      automaticCorrect.innerHTML = l('autoCorrectedQueryTo', '<span class=\"coveo-highlight\">' + correctedSentence + '</span>');\n      this.element.appendChild(automaticCorrect);\n\n      $$(this.element).show();\n      this.usageAnalytics.logSearchEvent<IAnalyticsNoMeta>(analyticsActionCauseList.didyoumeanAutomatic, {});\n    }\n  }\n\n  private handleProcessNewQueryResults(data: IQuerySuccessEventArgs) {\n    Assert.exists(data);\n    Assert.exists(data.results);\n\n    let results = data.results;\n    this.logger.trace('Received query results from new query', results);\n\n    if (Utils.isNonEmptyArray(results.queryCorrections)) {\n      let correctedSentence = this.buildCorrectedSentence(results.queryCorrections[0]);\n      this.correctedTerm = results.queryCorrections[0].correctedQuery;\n      let didYouMean = $$('div', { className: 'coveo-did-you-mean-suggestion' }, l('didYouMean', '')).el;\n      this.element.appendChild(didYouMean);\n\n      let searchTerm = $$('a', {}, correctedSentence).el;\n      didYouMean.appendChild(searchTerm);\n\n      $$(searchTerm).on('click', () => {\n        this.doQueryWithCorrectedTerm();\n      });\n\n      $$(this.element).show();\n    }\n  }\n\n  private buildCorrectedSentence(correction: IQueryCorrection) {\n    let toReturn = [];\n    let tagStart = '<span class=\\'coveo-did-you-mean-word-correction\\'>';\n    let tagEnd = '</span>';\n    let currentOffset = 0;\n    _.each(correction.wordCorrections, (wordCorrection) => {\n      toReturn.push(StringUtils.htmlEncode(correction.correctedQuery.slice(currentOffset, wordCorrection.offset)));\n      currentOffset = wordCorrection.offset;\n      toReturn.push(tagStart);\n      toReturn.push(StringUtils.htmlEncode(correction.correctedQuery.slice(currentOffset, wordCorrection.length + currentOffset)));\n      toReturn.push(tagEnd);\n      currentOffset = wordCorrection.offset + wordCorrection.length;\n    })\n    toReturn.push(StringUtils.htmlEncode(correction.correctedQuery.slice(currentOffset)));\n    return toReturn.join('');\n  }\n}\n\nInitialization.registerAutoCreateComponent(DidYouMean);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/DidYouMean/DidYouMean.ts\n **/","l":{"1":1,"2":1,"4":1,"5":1,"6":1,"7":1,"8":1,"10":1,"11":1,"12":1,"13":1,"24":1,"25":1,"30":1,"49":18,"51":18,"53":18,"54":18,"55":18,"57":18,"59":18,"61":18,"62":18,"63":18,"64":18,"65":18,"72":4,"73":4,"74":2,"75":2,"76":1,"80":1,"81":12,"82":12,"83":12,"84":12,"86":0,"90":1,"91":12,"92":12,"95":1,"97":6,"98":3,"99":3,"100":3,"101":3,"102":3,"103":3,"105":3,"106":3,"107":3,"109":3,"110":3,"111":3,"113":3,"114":3,"118":12,"119":12,"120":12,"122":12,"123":12,"125":12,"126":10,"127":10,"128":10,"129":10,"131":10,"132":10,"134":10,"135":0,"138":10,"142":1,"143":13,"144":13,"145":13,"146":13,"147":13,"148":10,"149":10,"150":10,"151":10,"152":10,"153":10,"155":13,"156":13,"158":1,"160":1}},"src/ui/ErrorReport/ErrorReport.ts":{"path":"src/ui/ErrorReport/ErrorReport.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":58}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":75}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":96}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":40}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":41}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":54}},"9":{"start":{"line":22,"column":0},"end":{"line":189,"column":1}},"10":{"start":{"line":22,"column":33},"end":{"line":22,"column":42}},"11":{"start":{"line":44,"column":2},"end":{"line":68,"column":3}},"12":{"start":{"line":45,"column":4},"end":{"line":45,"column":45}},"13":{"start":{"line":44,"column":21},"end":{"line":44,"column":41}},"14":{"start":{"line":44,"column":50},"end":{"line":44,"column":79}},"15":{"start":{"line":46,"column":4},"end":{"line":46,"column":88}},"16":{"start":{"line":48,"column":4},"end":{"line":48,"column":91}},"17":{"start":{"line":49,"column":4},"end":{"line":49,"column":39}},"18":{"start":{"line":52,"column":4},"end":{"line":52,"column":80}},"19":{"start":{"line":53,"column":4},"end":{"line":53,"column":56}},"20":{"start":{"line":54,"column":4},"end":{"line":54,"column":53}},"21":{"start":{"line":55,"column":4},"end":{"line":55,"column":53}},"22":{"start":{"line":57,"column":4},"end":{"line":59,"column":7}},"23":{"start":{"line":61,"column":4},"end":{"line":61,"column":48}},"24":{"start":{"line":62,"column":4},"end":{"line":62,"column":46}},"25":{"start":{"line":64,"column":4},"end":{"line":64,"column":28}},"26":{"start":{"line":66,"column":4},"end":{"line":66,"column":79}},"27":{"start":{"line":66,"column":56},"end":{"line":66,"column":77}},"28":{"start":{"line":67,"column":4},"end":{"line":67,"column":113}},"29":{"start":{"line":67,"column":84},"end":{"line":67,"column":111}},"30":{"start":{"line":73,"column":9},"end":{"line":77,"column":3}},"31":{"start":{"line":74,"column":4},"end":{"line":74,"column":108}},"32":{"start":{"line":75,"column":4},"end":{"line":75,"column":96}},"33":{"start":{"line":76,"column":4},"end":{"line":76,"column":19}},"34":{"start":{"line":82,"column":9},"end":{"line":87,"column":3}},"35":{"start":{"line":83,"column":4},"end":{"line":83,"column":33}},"36":{"start":{"line":84,"column":4},"end":{"line":84,"column":103}},"37":{"start":{"line":85,"column":4},"end":{"line":85,"column":114}},"38":{"start":{"line":86,"column":4},"end":{"line":86,"column":40}},"39":{"start":{"line":92,"column":9},"end":{"line":96,"column":3}},"40":{"start":{"line":93,"column":4},"end":{"line":93,"column":98}},"41":{"start":{"line":94,"column":4},"end":{"line":94,"column":109}},"42":{"start":{"line":95,"column":4},"end":{"line":95,"column":40}},"43":{"start":{"line":98,"column":10},"end":{"line":109,"column":3}},"44":{"start":{"line":99,"column":4},"end":{"line":102,"column":5}},"45":{"start":{"line":103,"column":4},"end":{"line":103,"column":41}},"46":{"start":{"line":104,"column":4},"end":{"line":104,"column":41}},"47":{"start":{"line":105,"column":4},"end":{"line":108,"column":5}},"48":{"start":{"line":106,"column":6},"end":{"line":106,"column":33}},"49":{"start":{"line":107,"column":6},"end":{"line":107,"column":33}},"50":{"start":{"line":111,"column":10},"end":{"line":115,"column":3}},"51":{"start":{"line":111,"column":2},"end":{"line":115,"column":3}},"52":{"start":{"line":112,"column":4},"end":{"line":112,"column":89}},"53":{"start":{"line":113,"column":4},"end":{"line":113,"column":44}},"54":{"start":{"line":113,"column":31},"end":{"line":113,"column":42}},"55":{"start":{"line":114,"column":4},"end":{"line":114,"column":23}},"56":{"start":{"line":117,"column":10},"end":{"line":125,"column":3}},"57":{"start":{"line":117,"column":2},"end":{"line":125,"column":3}},"58":{"start":{"line":118,"column":4},"end":{"line":120,"column":19}},"59":{"start":{"line":122,"column":4},"end":{"line":122,"column":42}},"60":{"start":{"line":122,"column":28},"end":{"line":122,"column":40}},"61":{"start":{"line":124,"column":4},"end":{"line":124,"column":20}},"62":{"start":{"line":127,"column":10},"end":{"line":135,"column":3}},"63":{"start":{"line":127,"column":2},"end":{"line":135,"column":3}},"64":{"start":{"line":128,"column":4},"end":{"line":130,"column":19}},"65":{"start":{"line":132,"column":4},"end":{"line":132,"column":42}},"66":{"start":{"line":132,"column":28},"end":{"line":132,"column":40}},"67":{"start":{"line":134,"column":4},"end":{"line":134,"column":20}},"68":{"start":{"line":137,"column":10},"end":{"line":142,"column":3}},"69":{"start":{"line":138,"column":4},"end":{"line":138,"column":28}},"70":{"start":{"line":139,"column":4},"end":{"line":141,"column":5}},"71":{"start":{"line":140,"column":6},"end":{"line":140,"column":24}},"72":{"start":{"line":144,"column":10},"end":{"line":171,"column":3}},"73":{"start":{"line":144,"column":2},"end":{"line":171,"column":3}},"74":{"start":{"line":145,"column":4},"end":{"line":145,"column":24}},"75":{"start":{"line":146,"column":4},"end":{"line":146,"column":30}},"76":{"start":{"line":150,"column":4},"end":{"line":152,"column":5}},"77":{"start":{"line":151,"column":6},"end":{"line":151,"column":13}},"78":{"start":{"line":154,"column":4},"end":{"line":154,"column":25}},"79":{"start":{"line":155,"column":4},"end":{"line":155,"column":24}},"80":{"start":{"line":157,"column":4},"end":{"line":168,"column":5}},"81":{"start":{"line":158,"column":6},"end":{"line":160,"column":24}},"82":{"start":{"line":162,"column":6},"end":{"line":165,"column":8}},"83":{"start":{"line":163,"column":8},"end":{"line":163,"column":25}},"84":{"start":{"line":164,"column":8},"end":{"line":164,"column":69}},"85":{"start":{"line":167,"column":6},"end":{"line":167,"column":47}},"86":{"start":{"line":170,"column":4},"end":{"line":170,"column":28}},"87":{"start":{"line":173,"column":10},"end":{"line":187,"column":3}},"88":{"start":{"line":174,"column":4},"end":{"line":176,"column":7}},"89":{"start":{"line":178,"column":4},"end":{"line":178,"column":76}},"90":{"start":{"line":179,"column":4},"end":{"line":179,"column":42}},"91":{"start":{"line":181,"column":4},"end":{"line":183,"column":32}},"92":{"start":{"line":184,"column":4},"end":{"line":184,"column":43}},"93":{"start":{"line":186,"column":4},"end":{"line":186,"column":24}},"94":{"start":{"line":23,"column":9},"end":{"line":23,"column":28}},"95":{"start":{"line":28,"column":9},"end":{"line":34,"column":3}},"96":{"start":{"line":189,"column":0},"end":{"line":189,"column":1}},"97":{"start":{"line":22,"column":13},"end":{"line":189,"column":1}},"98":{"start":{"line":191,"column":0},"end":{"line":191,"column":56}}},"fnMap":{"1":{"name":"(anonymous_5255)","line":22,"loc":{"start":{"line":22,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"ErrorReport","line":44,"loc":{"start":{"line":44,"column":2},"end":{"line":44,"column":110}}},"3":{"name":"(anonymous_5257)","line":66,"loc":{"start":{"line":66,"column":50},"end":{"line":66,"column":55}}},"4":{"name":"(anonymous_5258)","line":67,"loc":{"start":{"line":67,"column":52},"end":{"line":67,"column":79}}},"5":{"name":"(anonymous_5259)","line":73,"loc":{"start":{"line":73,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_5260)","line":82,"loc":{"start":{"line":82,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_5261)","line":92,"loc":{"start":{"line":92,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_5262)","line":98,"loc":{"start":{"line":98,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_5263)","line":111,"loc":{"start":{"line":111,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_5264)","line":113,"loc":{"start":{"line":113,"column":25},"end":{"line":113,"column":30}}},"11":{"name":"(anonymous_5265)","line":117,"loc":{"start":{"line":117,"column":2},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_5266)","line":122,"loc":{"start":{"line":122,"column":22},"end":{"line":122,"column":27}}},"13":{"name":"(anonymous_5267)","line":127,"loc":{"start":{"line":127,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_5268)","line":132,"loc":{"start":{"line":132,"column":22},"end":{"line":132,"column":27}}},"15":{"name":"(anonymous_5269)","line":137,"loc":{"start":{"line":137,"column":2},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_5270)","line":144,"loc":{"start":{"line":144,"column":2},"end":{"line":144,"column":53}}},"17":{"name":"(anonymous_5271)","line":162,"loc":{"start":{"line":162,"column":27},"end":{"line":null,"column":-1}}},"18":{"name":"(anonymous_5272)","line":173,"loc":{"start":{"line":173,"column":2},"end":{"line":173,"column":45}}}},"branchMap":{"1":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":4},"end":{"line":105,"column":3}},{"start":{"line":105,"column":4},"end":{"line":105,"column":3}}]},"2":{"line":105,"type":"binary-expr","locations":[{"start":{"line":105,"column":8},"end":{"line":105,"column":10}},{"start":{"line":105,"column":14},"end":{"line":105,"column":16}}]},"3":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":4},"end":{"line":139,"column":3}},{"start":{"line":139,"column":4},"end":{"line":139,"column":3}}]},"4":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":4},"end":{"line":150,"column":3}},{"start":{"line":150,"column":4},"end":{"line":150,"column":3}}]},"5":{"line":157,"type":"if","locations":[{"start":{"line":157,"column":4},"end":{"line":157,"column":3}},{"start":{"line":157,"column":4},"end":{"line":157,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":8,"10":1,"11":1,"12":7,"13":7,"14":7,"15":7,"16":7,"17":7,"18":7,"19":7,"20":7,"21":7,"22":7,"23":7,"24":7,"25":7,"26":7,"27":5,"28":7,"29":5,"30":1,"31":0,"32":0,"33":0,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":5,"45":5,"46":5,"47":5,"48":5,"49":5,"50":1,"51":7,"52":7,"53":7,"54":0,"55":7,"56":1,"57":7,"58":7,"59":7,"60":0,"61":7,"62":1,"63":7,"64":7,"65":7,"66":0,"67":7,"68":1,"69":5,"70":5,"71":0,"72":1,"73":5,"74":5,"75":5,"76":5,"77":0,"78":5,"79":5,"80":5,"81":4,"82":4,"83":0,"84":0,"85":4,"86":5,"87":1,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":1,"95":1,"96":1,"97":1,"98":1},"b":{"1":[5,0],"2":[5,5],"3":[0,5],"4":[0,5],"5":[4,1]},"f":{"1":1,"2":7,"3":5,"4":5,"5":0,"6":1,"7":1,"8":5,"9":7,"10":0,"11":7,"12":0,"13":7,"14":0,"15":5,"16":5,"17":0,"18":0},"code":"import {Component} from '../Base/Component';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {Dom, $$} from '../../utils/Dom';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {QueryEvents, IQueryErrorEventArgs} from '../../events/QueryEvents';\nimport {analyticsActionCauseList, IAnalyticsNoMeta} from '../Analytics/AnalyticsActionListMeta';\nimport {l} from '../../strings/Strings';\nimport {Assert} from '../../misc/Assert';\nimport {Initialization} from '../Base/Initialization';\nimport {IEndpointError} from '../../rest/EndpointError';\nimport {MissingAuthenticationError} from '../../rest/MissingAuthenticationError';\n\nexport interface IErrorReportOptions {\n  showDetailedError: boolean;\n}\n\n/**\n * This component takes care of handling fatal error when doing a query on the index / search API.<br/>\n * For example, it will display a message when the service responds with something like a 401 or 503.<br/>\n * It will also render a small text area with the JSON content of the error response, for debugging purpose.\n */\nexport class ErrorReport extends Component {\n  static ID = 'ErrorReport';\n  /**\n   * The options for the component\n   * @componentOptions\n   */\n  static options: IErrorReportOptions = {\n    /**\n     * Display the detailed error message as a JSON in a text content area.<br/>\n     * The default value is <code>true</code>\n     */\n    showDetailedError: ComponentOptions.buildBooleanOption({ defaultValue: true })\n  }\n  private message: Dom;\n  private closePopup: () => void;\n\n  /**\n   * Create a new ErrorReport component\n   * @param element\n   * @param options\n   * @param bindings\n   */\n  constructor(public element: HTMLElement, public options?: IErrorReportOptions, bindings?: IComponentBindings) {\n    super(element, ErrorReport.ID, bindings);\n    this.options = ComponentOptions.initComponentOptions(element, ErrorReport, options);\n\n    let title = $$('div', { className: 'coveo-error-report-title' }, '<h3></h3><h4></h4>');\n    this.element.appendChild(title.el);\n\n\n    let optionsElement = $$('div', { className: 'coveo-error-report-options' });\n    optionsElement.el.appendChild(this.buildPrevious());\n    optionsElement.el.appendChild(this.buildReset());\n    optionsElement.el.appendChild(this.buildRetry());\n\n    this.message = $$('div', {\n      className: 'coveo-error-report-message'\n    });\n\n    this.element.appendChild(optionsElement.el);\n    this.element.appendChild(this.message.el);\n\n    $$(this.element).hide();\n\n    this.bind.onRootElement(QueryEvents.newQuery, () => this.handleNewQuery());\n    this.bind.onRootElement(QueryEvents.queryError, (data: IQueryErrorEventArgs) => this.handleQueryError(data));\n  }\n\n  /**\n   * Do the \"back\" action in the browser\n   */\n  public back(): void {\n    this.usageAnalytics.logCustomEvent<IAnalyticsNoMeta>(analyticsActionCauseList.errorBack, {}, this.root);\n    this.usageAnalytics.logSearchEvent<IAnalyticsNoMeta>(analyticsActionCauseList.errorBack, {})\n    history.back();\n  }\n\n  /**\n   * Reset the current state of the query to 'empty', and trigger a new query\n   */\n  public reset(): void {\n    this.queryStateModel.reset();\n    this.usageAnalytics.logSearchEvent<IAnalyticsNoMeta>(analyticsActionCauseList.errorClearQuery, {});\n    this.usageAnalytics.logCustomEvent<IAnalyticsNoMeta>(analyticsActionCauseList.errorClearQuery, {}, this.root);\n    this.queryController.executeQuery();\n  }\n\n  /**\n   * Retry the same query, in case of a temporary service error\n   */\n  public retry(): void {\n    this.usageAnalytics.logSearchEvent<IAnalyticsNoMeta>(analyticsActionCauseList.errorRetry, {});\n    this.usageAnalytics.logCustomEvent<IAnalyticsNoMeta>(analyticsActionCauseList.errorRetry, {}, this.root);\n    this.queryController.executeQuery();\n  }\n\n  private setErrorTitle(): void {\n    let errorTitle = {\n      h3: l('OopsError'),\n      h4: l('ProblemPersists')\n    }\n    let h3 = $$(this.element).find('h3');\n    let h4 = $$(this.element).find('h4');\n    if (h3 && h4) {\n      $$(h3).text(errorTitle.h3);\n      $$(h4).text(errorTitle.h4);\n    }\n  }\n\n  private buildPrevious(): HTMLElement {\n    let previous = $$('span', { className: 'coveo-error-report-previous' }, l('GoBack'));\n    previous.on('click', () => this.back());\n    return previous.el;\n  }\n\n  private buildReset(): HTMLElement {\n    let reset = $$('span', {\n      className: 'coveo-error-report-clear'\n    }, l('Reset'));\n\n    reset.on('click', () => this.reset());\n\n    return reset.el;\n  }\n\n  private buildRetry(): HTMLElement {\n    let retry = $$('span', {\n      className: 'coveo-error-report-retry'\n    }, l('Retry'));\n\n    retry.on('click', () => this.retry());\n\n    return retry.el;\n  }\n\n  private handleNewQuery(): void {\n    $$(this.element).hide();\n    if (this.closePopup != null) {\n      this.closePopup();\n    }\n  }\n\n  private handleQueryError(data: IQueryErrorEventArgs): void {\n    Assert.exists(data);\n    Assert.exists(data.error);\n\n    // Do not display the panel if the error is for missing authentication. The\n    // appropriate authentication provider should take care of redirecting.\n    if ((<MissingAuthenticationError>data.error).isMissingAuthentication) {\n      return;\n    }\n\n    this.message.empty();\n    this.setErrorTitle()\n\n    if (this.options.showDetailedError) {\n      let moreInfo = $$('span', {\n        className: 'coveo-error-report-more-info'\n      }, l('MoreInfo'));\n\n      moreInfo.on('click', () => {\n        moreInfo.empty();\n        this.message.el.appendChild(this.buildErrorInfo(data.error));\n      })\n\n      this.message.el.appendChild(moreInfo.el);\n    }\n\n    $$(this.element).show();\n  }\n\n  private buildErrorInfo(data: IEndpointError): HTMLElement {\n    let errorInfo = $$('div', {\n      className: 'coveo-error-info'\n    });\n\n    let textArea = $$('textarea', undefined, JSON.stringify(data, null, 2));\n    errorInfo.el.appendChild(textArea.el);\n\n    let infoLabel = $$('div', {\n      className: 'coveo-error-info-label'\n    }, l('CopyPasteToSupport'));\n    errorInfo.el.appendChild(infoLabel.el);\n\n    return errorInfo.el;\n  }\n\n}\n\nInitialization.registerAutoCreateComponent(ErrorReport);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/ErrorReport/ErrorReport.ts\n **/","l":{"1":1,"2":1,"3":1,"5":1,"6":1,"7":1,"8":1,"9":1,"22":8,"23":1,"28":1,"44":7,"45":7,"46":7,"48":7,"49":7,"52":7,"53":7,"54":7,"55":7,"57":7,"61":7,"62":7,"64":7,"66":7,"67":7,"73":1,"74":0,"75":0,"76":0,"82":1,"83":1,"84":1,"85":1,"86":1,"92":1,"93":1,"94":1,"95":1,"98":1,"99":5,"103":5,"104":5,"105":5,"106":5,"107":5,"111":7,"112":7,"113":7,"114":7,"117":7,"118":7,"122":7,"124":7,"127":7,"128":7,"132":7,"134":7,"137":1,"138":5,"139":5,"140":0,"144":5,"145":5,"146":5,"150":5,"151":0,"154":5,"155":5,"157":5,"158":4,"162":4,"163":0,"164":0,"167":4,"170":5,"173":1,"174":0,"178":0,"179":0,"181":0,"184":0,"186":0,"189":1,"191":1}},"src/ui/ExportToExcel/ExportToExcel.ts":{"path":"src/ui/ExportToExcel/ExportToExcel.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":58}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":59}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":95}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":54}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":40}},"7":{"start":{"line":18,"column":0},"end":{"line":75,"column":1}},"8":{"start":{"line":18,"column":35},"end":{"line":18,"column":44}},"9":{"start":{"line":42,"column":2},"end":{"line":54,"column":3}},"10":{"start":{"line":43,"column":4},"end":{"line":43,"column":47}},"11":{"start":{"line":42,"column":21},"end":{"line":42,"column":41}},"12":{"start":{"line":42,"column":50},"end":{"line":42,"column":80}},"13":{"start":{"line":42,"column":89},"end":{"line":42,"column":118}},"14":{"start":{"line":42,"column":127},"end":{"line":42,"column":143}},"15":{"start":{"line":44,"column":4},"end":{"line":44,"column":42}},"16":{"start":{"line":45,"column":4},"end":{"line":45,"column":90}},"17":{"start":{"line":46,"column":4},"end":{"line":53,"column":7}},"18":{"start":{"line":47,"column":6},"end":{"line":52,"column":8}},"19":{"start":{"line":51,"column":22},"end":{"line":51,"column":37}},"20":{"start":{"line":59,"column":9},"end":{"line":70,"column":3}},"21":{"start":{"line":60,"column":4},"end":{"line":60,"column":52}},"22":{"start":{"line":62,"column":4},"end":{"line":69,"column":5}},"23":{"start":{"line":63,"column":6},"end":{"line":63,"column":47}},"24":{"start":{"line":64,"column":6},"end":{"line":64,"column":80}},"25":{"start":{"line":66,"column":6},"end":{"line":66,"column":56}},"26":{"start":{"line":67,"column":6},"end":{"line":67,"column":117}},"27":{"start":{"line":68,"column":6},"end":{"line":68,"column":104}},"28":{"start":{"line":72,"column":9},"end":{"line":74,"column":3}},"29":{"start":{"line":73,"column":4},"end":{"line":73,"column":53}},"30":{"start":{"line":19,"column":9},"end":{"line":19,"column":30}},"31":{"start":{"line":24,"column":9},"end":{"line":33,"column":4}},"32":{"start":{"line":75,"column":0},"end":{"line":75,"column":1}},"33":{"start":{"line":18,"column":13},"end":{"line":75,"column":1}},"34":{"start":{"line":77,"column":0},"end":{"line":77,"column":58}}},"fnMap":{"1":{"name":"(anonymous_5277)","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"ExportToExcel","line":42,"loc":{"start":{"line":42,"column":2},"end":{"line":42,"column":143}}},"3":{"name":"(anonymous_5279)","line":46,"loc":{"start":{"line":46,"column":65},"end":{"line":46,"column":97}}},"4":{"name":"(anonymous_5280)","line":51,"loc":{"start":{"line":51,"column":16},"end":{"line":51,"column":21}}},"5":{"name":"(anonymous_5281)","line":59,"loc":{"start":{"line":59,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_5282)","line":72,"loc":{"start":{"line":72,"column":2},"end":{"line":72,"column":89}}}},"branchMap":{"1":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":19},"end":{"line":44,"column":31}},{"start":{"line":44,"column":35},"end":{"line":44,"column":41}}]},"2":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":4},"end":{"line":62,"column":3}},{"start":{"line":62,"column":4},"end":{"line":62,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":6,"8":1,"9":1,"10":5,"11":5,"12":5,"13":5,"14":5,"15":5,"16":5,"17":5,"18":0,"19":0,"20":1,"21":4,"22":4,"23":3,"24":3,"25":3,"26":3,"27":3,"28":1,"29":0,"30":1,"31":1,"32":1,"33":1,"34":1},"b":{"1":[5,5],"2":[3,1]},"f":{"1":1,"2":5,"3":0,"4":0,"5":4,"6":0},"code":"import {Component} from '../Base/Component';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {SettingsEvents} from '../../events/SettingsEvents';\nimport {ISettingsPopulateMenuArgs} from '../Settings/Settings';\nimport {IAnalyticsNoMeta, analyticsActionCauseList} from '../Analytics/AnalyticsActionListMeta'\nimport {Initialization} from '../Base/Initialization';\nimport {l} from '../../strings/Strings';\n\nexport interface IExportToExcelOptions {\n  numberOfResults?: number\n}\n\n/**\n * This component allows users to export the current search results in a Microsoft Excel (.xlsx) format.\n * It populates the {@link Settings} component's menu.\n */\nexport class ExportToExcel extends Component {\n  static ID = 'ExportToExcel';\n  /**\n   * The options for the component\n   * @componentOptions\n   */\n  static options: IExportToExcelOptions = {\n    /**\n     * The number of results included in the exported Excel file.<br/>\n     * The default value of <code>100</code> makes the generation and the download of the resulting Excel file\n     * last about 1 second.<br/>\n     * Increasing this value will exponentially increase the time needed to create the Excel file.<br/>\n     * It is not recommended to go above the default index limit of 1000 search results.\n     */\n    numberOfResults: ComponentOptions.buildNumberOption({ defaultValue: 100, min: 1 })\n  };\n\n  /**\n   * Create a new ExportToExcel component\n   * @param element\n   * @param options\n   * @param bindings\n   * @param _window The global Window object (used to download the Excel link)\n   */\n  constructor(public element: HTMLElement, public options: IExportToExcelOptions, public bindings?: IComponentBindings, public _window?: Window) {\n    super(element, ExportToExcel.ID, bindings);\n    this._window = this._window || window;\n    this.options = ComponentOptions.initComponentOptions(element, ExportToExcel, options);\n    this.bind.onRootElement(SettingsEvents.settingsPopulateMenu, (args: ISettingsPopulateMenuArgs) => {\n      args.menuData.push({\n        text: l('ExportToExcel'),\n        className: 'coveo-export-to-excel',\n        tooltip: l('ExportToExcelDescription'),\n        onOpen: () => this.download()\n      })\n    });\n  }\n\n  /**\n   * Download the Excel representation of the current query\n   */\n  public download() {\n    let query = this.queryController.getLastQuery();\n\n    if (query) {\n      query = _.omit(query, 'numberOfResults');\n      this.logger.debug('Performing query following \\'Export to Excel\\' click');\n\n      let endpoint = this.queryController.getEndpoint();\n      this.usageAnalytics.logCustomEvent<IAnalyticsNoMeta>(analyticsActionCauseList.exportToExcel, {}, this.element);\n      this._window.location.replace(endpoint.getExportToExcelLink(query, this.options.numberOfResults));\n    }\n  }\n\n  static create(element: HTMLElement, options?: IExportToExcelOptions, root?: HTMLElement): ExportToExcel {\n    return new ExportToExcel(element, options, root);\n  }\n}\n\nInitialization.registerAutoCreateComponent(ExportToExcel);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/ExportToExcel/ExportToExcel.ts\n **/","l":{"1":1,"2":1,"4":1,"6":1,"7":1,"8":1,"18":6,"19":1,"24":1,"42":5,"43":5,"44":5,"45":5,"46":5,"47":0,"51":0,"59":1,"60":4,"62":4,"63":3,"64":3,"66":3,"67":3,"68":3,"72":1,"73":0,"75":1,"77":1}},"src/ui/Folding/Folding.ts":{"path":"src/ui/Folding/Folding.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":44}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":50}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":58}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":40}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":41}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":107}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":54}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":35}},"9":{"start":{"line":13,"column":0},"end":{"line":13,"column":50}},"10":{"start":{"line":51,"column":0},"end":{"line":398,"column":1}},"11":{"start":{"line":51,"column":29},"end":{"line":51,"column":38}},"12":{"start":{"line":185,"column":2},"end":{"line":195,"column":3}},"13":{"start":{"line":186,"column":4},"end":{"line":186,"column":41}},"14":{"start":{"line":185,"column":21},"end":{"line":185,"column":41}},"15":{"start":{"line":185,"column":50},"end":{"line":185,"column":74}},"16":{"start":{"line":188,"column":4},"end":{"line":188,"column":84}},"17":{"start":{"line":190,"column":4},"end":{"line":190,"column":103}},"18":{"start":{"line":191,"column":4},"end":{"line":191,"column":55}},"19":{"start":{"line":193,"column":4},"end":{"line":193,"column":81}},"20":{"start":{"line":194,"column":4},"end":{"line":194,"column":89}},"21":{"start":{"line":199,"column":9},"end":{"line":261,"column":3}},"22":{"start":{"line":200,"column":4},"end":{"line":206,"column":5}},"23":{"start":{"line":208,"column":4},"end":{"line":256,"column":7}},"24":{"start":{"line":209,"column":6},"end":{"line":209,"column":85}},"25":{"start":{"line":211,"column":6},"end":{"line":255,"column":7}},"26":{"start":{"line":213,"column":8},"end":{"line":221,"column":9}},"27":{"start":{"line":214,"column":10},"end":{"line":218,"column":12}},"28":{"start":{"line":219,"column":10},"end":{"line":219,"column":45}},"29":{"start":{"line":220,"column":10},"end":{"line":220,"column":39}},"30":{"start":{"line":224,"column":8},"end":{"line":234,"column":9}},"31":{"start":{"line":225,"column":10},"end":{"line":225,"column":59}},"32":{"start":{"line":227,"column":10},"end":{"line":227,"column":89}},"33":{"start":{"line":229,"column":10},"end":{"line":233,"column":11}},"34":{"start":{"line":236,"column":8},"end":{"line":236,"column":102}},"35":{"start":{"line":238,"column":8},"end":{"line":246,"column":9}},"36":{"start":{"line":239,"column":10},"end":{"line":243,"column":12}},"37":{"start":{"line":244,"column":10},"end":{"line":244,"column":47}},"38":{"start":{"line":245,"column":10},"end":{"line":245,"column":41}},"39":{"start":{"line":248,"column":8},"end":{"line":248,"column":47}},"40":{"start":{"line":249,"column":8},"end":{"line":249,"column":41}},"41":{"start":{"line":250,"column":8},"end":{"line":250,"column":34}},"42":{"start":{"line":251,"column":8},"end":{"line":254,"column":9}},"43":{"start":{"line":252,"column":10},"end":{"line":252,"column":42}},"44":{"start":{"line":253,"column":10},"end":{"line":253,"column":33}},"45":{"start":{"line":257,"column":4},"end":{"line":257,"column":63}},"46":{"start":{"line":259,"column":4},"end":{"line":259,"column":82}},"47":{"start":{"line":259,"column":51},"end":{"line":259,"column":81}},"48":{"start":{"line":260,"column":4},"end":{"line":260,"column":34}},"49":{"start":{"line":265,"column":16},"end":{"line":278,"column":3}},"50":{"start":{"line":266,"column":4},"end":{"line":266,"column":60}},"51":{"start":{"line":268,"column":4},"end":{"line":268,"column":28}},"52":{"start":{"line":270,"column":4},"end":{"line":270,"column":29}},"53":{"start":{"line":272,"column":4},"end":{"line":272,"column":46}},"54":{"start":{"line":274,"column":4},"end":{"line":274,"column":36}},"55":{"start":{"line":276,"column":4},"end":{"line":276,"column":37}},"56":{"start":{"line":277,"column":4},"end":{"line":277,"column":21}},"57":{"start":{"line":280,"column":16},"end":{"line":283,"column":3}},"58":{"start":{"line":282,"column":4},"end":{"line":282,"column":43}},"59":{"start":{"line":286,"column":17},"end":{"line":291,"column":3}},"60":{"start":{"line":287,"column":4},"end":{"line":287,"column":35}},"61":{"start":{"line":288,"column":4},"end":{"line":288,"column":117}},"62":{"start":{"line":289,"column":4},"end":{"line":289,"column":86}},"63":{"start":{"line":290,"column":4},"end":{"line":290,"column":18}},"64":{"start":{"line":293,"column":17},"end":{"line":304,"column":3}},"65":{"start":{"line":294,"column":4},"end":{"line":302,"column":5}},"66":{"start":{"line":295,"column":6},"end":{"line":297,"column":7}},"67":{"start":{"line":296,"column":8},"end":{"line":296,"column":30}},"68":{"start":{"line":298,"column":6},"end":{"line":298,"column":79}},"69":{"start":{"line":299,"column":6},"end":{"line":301,"column":7}},"70":{"start":{"line":300,"column":8},"end":{"line":300,"column":26}},"71":{"start":{"line":303,"column":4},"end":{"line":303,"column":16}},"72":{"start":{"line":307,"column":10},"end":{"line":324,"column":3}},"73":{"start":{"line":308,"column":4},"end":{"line":308,"column":24}},"74":{"start":{"line":310,"column":4},"end":{"line":323,"column":5}},"75":{"start":{"line":311,"column":6},"end":{"line":311,"column":61}},"76":{"start":{"line":312,"column":6},"end":{"line":312,"column":63}},"77":{"start":{"line":313,"column":6},"end":{"line":313,"column":57}},"78":{"start":{"line":314,"column":6},"end":{"line":314,"column":62}},"79":{"start":{"line":316,"column":6},"end":{"line":316,"column":64}},"80":{"start":{"line":317,"column":6},"end":{"line":319,"column":7}},"81":{"start":{"line":318,"column":8},"end":{"line":318,"column":71}},"82":{"start":{"line":320,"column":6},"end":{"line":322,"column":7}},"83":{"start":{"line":321,"column":8},"end":{"line":321,"column":72}},"84":{"start":{"line":326,"column":10},"end":{"line":336,"column":3}},"85":{"start":{"line":327,"column":4},"end":{"line":327,"column":24}},"86":{"start":{"line":328,"column":4},"end":{"line":328,"column":135}},"87":{"start":{"line":329,"column":4},"end":{"line":329,"column":32}},"88":{"start":{"line":331,"column":4},"end":{"line":331,"column":36}},"89":{"start":{"line":333,"column":4},"end":{"line":333,"column":111}},"90":{"start":{"line":334,"column":4},"end":{"line":334,"column":66}},"91":{"start":{"line":335,"column":4},"end":{"line":335,"column":78}},"92":{"start":{"line":338,"column":10},"end":{"line":347,"column":3}},"93":{"start":{"line":338,"column":2},"end":{"line":347,"column":3}},"94":{"start":{"line":339,"column":4},"end":{"line":346,"column":6}},"95":{"start":{"line":340,"column":6},"end":{"line":344,"column":7}},"96":{"start":{"line":341,"column":8},"end":{"line":343,"column":9}},"97":{"start":{"line":342,"column":10},"end":{"line":342,"column":57}},"98":{"start":{"line":345,"column":6},"end":{"line":345,"column":20}},"99":{"start":{"line":350,"column":10},"end":{"line":389,"column":3}},"100":{"start":{"line":350,"column":2},"end":{"line":389,"column":3}},"101":{"start":{"line":351,"column":4},"end":{"line":351,"column":35}},"102":{"start":{"line":352,"column":4},"end":{"line":352,"column":64}},"103":{"start":{"line":354,"column":4},"end":{"line":354,"column":69}},"104":{"start":{"line":356,"column":4},"end":{"line":358,"column":5}},"105":{"start":{"line":357,"column":6},"end":{"line":357,"column":89}},"106":{"start":{"line":360,"column":4},"end":{"line":363,"column":5}},"107":{"start":{"line":362,"column":6},"end":{"line":362,"column":64}},"108":{"start":{"line":365,"column":4},"end":{"line":367,"column":5}},"109":{"start":{"line":366,"column":6},"end":{"line":366,"column":66}},"110":{"start":{"line":369,"column":4},"end":{"line":371,"column":5}},"111":{"start":{"line":370,"column":6},"end":{"line":370,"column":51}},"112":{"start":{"line":372,"column":4},"end":{"line":374,"column":5}},"113":{"start":{"line":373,"column":6},"end":{"line":373,"column":49}},"114":{"start":{"line":376,"column":4},"end":{"line":381,"column":5}},"115":{"start":{"line":377,"column":6},"end":{"line":377,"column":54}},"116":{"start":{"line":379,"column":6},"end":{"line":379,"column":54}},"117":{"start":{"line":380,"column":6},"end":{"line":380,"column":48}},"118":{"start":{"line":383,"column":4},"end":{"line":383,"column":35}},"119":{"start":{"line":384,"column":4},"end":{"line":388,"column":9}},"120":{"start":{"line":386,"column":8},"end":{"line":386,"column":50}},"121":{"start":{"line":387,"column":8},"end":{"line":387,"column":31}},"122":{"start":{"line":391,"column":10},"end":{"line":397,"column":3}},"123":{"start":{"line":392,"column":4},"end":{"line":392,"column":127}},"124":{"start":{"line":393,"column":4},"end":{"line":393,"column":60}},"125":{"start":{"line":394,"column":4},"end":{"line":396,"column":7}},"126":{"start":{"line":52,"column":9},"end":{"line":52,"column":24}},"127":{"start":{"line":57,"column":9},"end":{"line":177,"column":4}},"128":{"start":{"line":93,"column":61},"end":{"line":93,"column":125}},"129":{"start":{"line":159,"column":6},"end":{"line":159,"column":18}},"130":{"start":{"line":175,"column":6},"end":{"line":175,"column":18}},"131":{"start":{"line":398,"column":0},"end":{"line":398,"column":1}},"132":{"start":{"line":51,"column":13},"end":{"line":398,"column":1}},"133":{"start":{"line":400,"column":0},"end":{"line":400,"column":52}}},"fnMap":{"1":{"name":"(anonymous_5287)","line":51,"loc":{"start":{"line":51,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Folding","line":185,"loc":{"start":{"line":185,"column":2},"end":{"line":185,"column":105}}},"3":{"name":"(anonymous_5289)","line":199,"loc":{"start":{"line":199,"column":2},"end":{"line":199,"column":52}}},"4":{"name":"(anonymous_5290)","line":208,"loc":{"start":{"line":208,"column":25},"end":{"line":208,"column":62}}},"5":{"name":"(anonymous_5291)","line":259,"loc":{"start":{"line":259,"column":35},"end":{"line":259,"column":46}}},"6":{"name":"(anonymous_5292)","line":265,"loc":{"start":{"line":265,"column":2},"end":{"line":265,"column":53}}},"7":{"name":"(anonymous_5293)","line":280,"loc":{"start":{"line":280,"column":2},"end":{"line":280,"column":61}}},"8":{"name":"(anonymous_5294)","line":286,"loc":{"start":{"line":286,"column":2},"end":{"line":286,"column":64}}},"9":{"name":"(anonymous_5295)","line":293,"loc":{"start":{"line":293,"column":2},"end":{"line":293,"column":74}}},"10":{"name":"(anonymous_5296)","line":307,"loc":{"start":{"line":307,"column":2},"end":{"line":307,"column":59}}},"11":{"name":"(anonymous_5297)","line":326,"loc":{"start":{"line":326,"column":2},"end":{"line":326,"column":67}}},"12":{"name":"(anonymous_5298)","line":338,"loc":{"start":{"line":338,"column":2},"end":{"line":338,"column":75}}},"13":{"name":"(anonymous_5299)","line":339,"loc":{"start":{"line":339,"column":26},"end":{"line":339,"column":33}}},"14":{"name":"(anonymous_5300)","line":341,"loc":{"start":{"line":341,"column":29},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_5301)","line":350,"loc":{"start":{"line":350,"column":2},"end":{"line":350,"column":65}}},"16":{"name":"(anonymous_5302)","line":385,"loc":{"start":{"line":385,"column":12},"end":{"line":385,"column":35}}},"17":{"name":"(anonymous_5303)","line":391,"loc":{"start":{"line":391,"column":2},"end":{"line":391,"column":65}}},"18":{"name":"(anonymous_5304)","line":93,"loc":{"start":{"line":93,"column":50},"end":{"line":93,"column":56}}},"19":{"name":"(anonymous_5305)","line":158,"loc":{"start":{"line":158,"column":90},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_5306)","line":174,"loc":{"start":{"line":174,"column":100},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":211,"type":"if","locations":[{"start":{"line":211,"column":6},"end":{"line":211,"column":5}},{"start":{"line":211,"column":6},"end":{"line":211,"column":5}}]},"2":{"line":211,"type":"binary-expr","locations":[{"start":{"line":211,"column":10},"end":{"line":211,"column":42}},{"start":{"line":211,"column":46},"end":{"line":211,"column":103}}]},"3":{"line":213,"type":"if","locations":[{"start":{"line":213,"column":8},"end":{"line":213,"column":7}},{"start":{"line":213,"column":8},"end":{"line":213,"column":7}}]},"4":{"line":224,"type":"if","locations":[{"start":{"line":224,"column":8},"end":{"line":224,"column":7}},{"start":{"line":224,"column":8},"end":{"line":224,"column":7}}]},"5":{"line":238,"type":"if","locations":[{"start":{"line":238,"column":8},"end":{"line":238,"column":7}},{"start":{"line":238,"column":8},"end":{"line":238,"column":7}}]},"6":{"line":251,"type":"binary-expr","locations":[{"start":{"line":251,"column":15},"end":{"line":251,"column":29}},{"start":{"line":251,"column":33},"end":{"line":251,"column":64}}]},"7":{"line":266,"type":"binary-expr","locations":[{"start":{"line":266,"column":34},"end":{"line":266,"column":53}},{"start":{"line":266,"column":57},"end":{"line":266,"column":59}}]},"8":{"line":289,"type":"cond-expr","locations":[{"start":{"line":289,"column":54},"end":{"line":289,"column":78}},{"start":{"line":289,"column":81},"end":{"line":289,"column":85}}]},"9":{"line":295,"type":"if","locations":[{"start":{"line":295,"column":6},"end":{"line":295,"column":5}},{"start":{"line":295,"column":6},"end":{"line":295,"column":5}}]},"10":{"line":299,"type":"if","locations":[{"start":{"line":299,"column":6},"end":{"line":299,"column":5}},{"start":{"line":299,"column":6},"end":{"line":299,"column":5}}]},"11":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":4},"end":{"line":310,"column":3}},{"start":{"line":310,"column":4},"end":{"line":310,"column":3}}]},"12":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":6},"end":{"line":317,"column":5}},{"start":{"line":317,"column":6},"end":{"line":317,"column":5}}]},"13":{"line":320,"type":"if","locations":[{"start":{"line":320,"column":6},"end":{"line":320,"column":5}},{"start":{"line":320,"column":6},"end":{"line":320,"column":5}}]},"14":{"line":333,"type":"binary-expr","locations":[{"start":{"line":333,"column":60},"end":{"line":333,"column":82}},{"start":{"line":333,"column":86},"end":{"line":333,"column":110}}]},"15":{"line":340,"type":"if","locations":[{"start":{"line":340,"column":6},"end":{"line":340,"column":5}},{"start":{"line":340,"column":6},"end":{"line":340,"column":5}}]},"16":{"line":340,"type":"binary-expr","locations":[{"start":{"line":340,"column":10},"end":{"line":340,"column":35}},{"start":{"line":340,"column":39},"end":{"line":340,"column":112}}]},"17":{"line":356,"type":"if","locations":[{"start":{"line":356,"column":4},"end":{"line":356,"column":3}},{"start":{"line":356,"column":4},"end":{"line":356,"column":3}}]},"18":{"line":360,"type":"if","locations":[{"start":{"line":360,"column":4},"end":{"line":360,"column":3}},{"start":{"line":360,"column":4},"end":{"line":360,"column":3}}]},"19":{"line":365,"type":"if","locations":[{"start":{"line":365,"column":4},"end":{"line":365,"column":3}},{"start":{"line":365,"column":4},"end":{"line":365,"column":3}}]},"20":{"line":369,"type":"if","locations":[{"start":{"line":369,"column":4},"end":{"line":369,"column":3}},{"start":{"line":369,"column":4},"end":{"line":369,"column":3}}]},"21":{"line":372,"type":"if","locations":[{"start":{"line":372,"column":4},"end":{"line":372,"column":3}},{"start":{"line":372,"column":4},"end":{"line":372,"column":3}}]},"22":{"line":376,"type":"if","locations":[{"start":{"line":376,"column":4},"end":{"line":376,"column":3}},{"start":{"line":376,"column":4},"end":{"line":376,"column":3}}]},"23":{"line":392,"type":"binary-expr","locations":[{"start":{"line":392,"column":66},"end":{"line":392,"column":93}},{"start":{"line":392,"column":97},"end":{"line":392,"column":126}}]},"24":{"line":93,"type":"cond-expr","locations":[{"start":{"line":93,"column":93},"end":{"line":93,"column":118}},{"start":{"line":93,"column":121},"end":{"line":93,"column":125}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":25,"14":25,"15":25,"16":25,"17":24,"18":24,"19":24,"20":24,"21":1,"22":31,"23":31,"24":54,"25":54,"26":38,"27":34,"28":34,"29":34,"30":16,"31":4,"32":4,"33":12,"34":16,"35":16,"36":4,"37":4,"38":4,"39":16,"40":16,"41":16,"42":16,"43":5,"44":5,"45":31,"46":31,"47":37,"48":31,"49":1,"50":31,"51":31,"52":31,"53":31,"54":31,"55":31,"56":31,"57":1,"58":0,"59":1,"60":81,"61":81,"62":81,"63":81,"64":1,"65":174,"66":124,"67":20,"68":104,"69":104,"70":7,"71":147,"72":1,"73":10,"74":10,"75":10,"76":10,"77":10,"78":10,"79":10,"80":10,"81":10,"82":10,"83":10,"84":1,"85":10,"86":10,"87":10,"88":10,"89":10,"90":10,"91":10,"92":1,"93":10,"94":10,"95":28,"96":6,"97":5,"98":28,"99":1,"100":5,"101":5,"102":5,"103":5,"104":5,"105":5,"106":5,"107":3,"108":5,"109":1,"110":5,"111":5,"112":5,"113":5,"114":5,"115":0,"116":5,"117":5,"118":5,"119":5,"120":0,"121":0,"122":1,"123":0,"124":0,"125":0,"126":1,"127":1,"128":0,"129":0,"130":0,"131":1,"132":1,"133":1},"b":{"1":[38,16],"2":[54,16],"3":[34,4],"4":[4,12],"5":[4,12],"6":[21,21],"7":[31,0],"8":[50,31],"9":[20,104],"10":[7,97],"11":[10,0],"12":[10,0],"13":[10,0],"14":[10,10],"15":[6,22],"16":[28,27],"17":[5,0],"18":[3,2],"19":[1,4],"20":[5,0],"21":[5,0],"22":[0,5],"23":[0,0],"24":[0,0]},"f":{"1":1,"2":25,"3":31,"4":54,"5":37,"6":31,"7":0,"8":81,"9":174,"10":10,"11":10,"12":10,"13":28,"14":5,"15":5,"16":0,"17":0,"18":0,"19":0,"20":0},"code":"import {IQueryResult} from '../../rest/QueryResult';\nimport {Component} from '../Base/Component';\nimport {SortCriteria} from '../Sort/SortCriteria';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {Utils} from '../../utils/Utils';\nimport {Assert} from '../../misc/Assert';\nimport {QueryEvents, IBuildingQueryEventArgs, IPreprocessResultsEventArgs} from '../../events/QueryEvents';\nimport {Initialization} from '../Base/Initialization';\nimport {IQueryResults} from '../../rest/QueryResults';\nimport {IQuery} from '../../rest/Query';\nimport {$$} from '../../utils/Dom';\nimport {QueryBuilder} from '../Base/QueryBuilder';\n\nexport interface IFoldingOptions {\n  field?: string;\n\n  childField?: string;\n  parentField?: string;\n\n  range?: number;\n  rearrange?: SortCriteria;\n\n  enableExpand?: boolean;\n  expandExpression?: string;\n  maximumExpandedResults?: number;\n\n  /**\n   * Manage folding for each results individually\n   */\n  getResult?: (result: IQueryResult) => IQueryResult;\n  /**\n   * Manage folding of all more results\n   */\n  getMoreResults?: (results: IQueryResult[]) => IQueryResult[];\n}\n\ninterface IResultNode {\n  score: number;\n  parent?: IResultNode;\n  result: IQueryResult;\n  children: IResultNode[];\n}\n\n/**\n * This component is used to display search results that share a common field hierarchically.\n * It is typically used to display email conversations and message board threads.\n * The different messages in a given conversation typically have a unique conversation ID.\n * Given that this ID is indexed in a field, you can use it to fold search results\n */\nexport class Folding extends Component {\n  static ID = 'Folding';\n  /**\n   * The options for the component\n   * @componentOptions\n   */\n  static options: IFoldingOptions = {\n    /**\n     * The name of the field on which the folding is done.<br/>\n     * This option is required.\n     */\n    field: ComponentOptions.buildFieldOption({ required: true }),\n    /**\n     * Specifies the field that determines that a result is a child of another top result.<br/>\n     * The default value is `@topparentid`\n     */\n    childField: ComponentOptions.buildFieldOption({ defaultValue: '@topparentid' }),\n    /**\n     * Specifies the field that determines that a result is a top result containing other child results<br/>\n     * The default value is `@syscontainsattachment`\n     */\n    parentField: ComponentOptions.buildFieldOption({ defaultValue: '@containsattachment' }),\n    /**\n     * The number of child results to fold.\n     *\n     * The default value is 2.\n     *\n     * The minimum value is 0.\n     *\n     * > Example:\n     * > For an email thread with 20 messages in total, using the default value means that a maximum of 2 child messages are loaded and displayed under the original message (unless the whole conversation is expanded via the use of a Show all conversation button).\n     */\n    range: ComponentOptions.buildNumberOption({ defaultValue: 2, min: 0 }),\n    /**\n     * Specifies how the top result and its related child results, following the sort criteria format\n     * (`date ascending`, `@somefield ascending`, etc.).\n     *\n     * The default value is `none`, which means that results are displayed in the order that the index returned them.\n     *\n     * > Example:\n     * > If you specify date descending, the component re-arranges an email conversation so that the newest email is always the top result. Doing the opposite would allow the original email to always be the top result since it is also the oldest.\n     */\n    rearrange: ComponentOptions.buildCustomOption((value) => Utils.isNonEmptyString(value) ? SortCriteria.parse(value) : null),\n    /**\n     * Specifies whether to add a callback function on the top result, allowing to make an additional query\n     * to load all the conversation of a given thread.\n     *\n     * Concretely, the {@link ResultFolding} component uses this for its <b>Load full conversation</b> option.\n     *\n     * The default value is `true`\n     */\n    enableExpand: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies a customized constant expression to send when querying the expanded results.\n     */\n    expandExpression: ComponentOptions.buildStringOption({ depend: 'enableExpand' }),\n    /**\n     * Specifies the maximum number of expanded results.\n     *\n     * The default value is 100.\n     *\n     * The minimum value is 1.\n     */\n    maximumExpandedResults: ComponentOptions.buildNumberOption({ defaultValue: 100, min: 1, depend: 'enableExpand' }),\n    /**\n     * This function manages folding individually for each result.\n     *\n     * The default value ( which is implemented in Coveo.Folding.defaultGetResult) :\n     *\n     * ```\n     * var results = result.childResults || [];\n     * // Add the top result at the top of the list\n     * results.unshift(result);\n     * // Empty childResults just to clean it\n     * result.childResults = [];\n     * // Fold those results\n     * results = Coveo.Folding.foldWithParent(results);\n     * // The first result is the top one\n     * var topResult = results.shift();\n     * // All other results are childResults\n     * topResult.childResults = results;\n     * return topResult;\n     * ```\n     *\n     * You can preprocess all the result with this option:\n     * ```\n     * Coveo.init(document.querySelector('#search'), {\n     *    Folding: {\n     *      getResult: function(result) {\n     *        result = Coveo.Folding.defaultGetResult(result);\n     *        // Your code here\n     *      }\n     *    }\n     * })\n     *\n     * // OR using the jquery extension\n     *\n     * Coveo.$('#search').coveo('init', {\n     *    Folding: {\n     *      getResult: function(result) {\n     *        result = Coveo.Folding.defaultGetResult(result);\n     *        // Your code here\n     *      }\n     *    }\n     * });\n     * ```\n     */\n    getResult: ComponentOptions.buildCustomOption<(result: IQueryResult) => IQueryResult>(() => {\n      return null;\n    }),\n    /**\n     * This function manages folding of all results.\n     *\n     * The default value (Coveo.Folding.defaultGetMoreResults):\n     *\n     * ```\n     * Coveo.Folding.defaultGetMoreResults = function(results) {\n     *    // The results are flat, just do the folding\n     *    return Coveo.Folding.foldWithParent(results);\n     * }\n     * ```\n     *\n     */\n    getMoreResults: ComponentOptions.buildCustomOption<(results: IQueryResult[]) => IQueryResult[]>(() => {\n      return null;\n    })\n  };\n\n  /**\n   * Create a new Folding component\n   * @param element\n   * @param options\n   * @param bindings\n   */\n  constructor(public element: HTMLElement, public options: IFoldingOptions, bindings?: IComponentBindings) {\n    super(element, Folding.ID, bindings);\n\n    this.options = ComponentOptions.initComponentOptions(element, Folding, options);\n\n    Assert.check(Utils.isCoveoField(this.options.field), this.options.field + ' is not a valid field');\n    Assert.exists(this.options.maximumExpandedResults);\n\n    this.bind.onRootElement(QueryEvents.buildingQuery, this.handleBuildingQuery);\n    this.bind.onRootElement(QueryEvents.preprocessResults, this.handlepreprocessResults);\n  }\n\n  // From a list of results, return a list of results and their attachments\n  // We use parentResult to build a tree of result\n  static foldWithParent(queryResults: IQueryResult[]): IQueryResult[] {\n    let rootNode: IResultNode = {\n      score: Number.NEGATIVE_INFINITY,\n      children: [],\n      result: <IQueryResult>{\n        raw: false\n      }\n    }\n\n    _.each(queryResults, (queryResult: IQueryResult, i: number) => {\n      let resultNode = Folding.findUniqueId(rootNode.children, queryResult.uniqueId);\n      // If he have no parent or is parent is him self, add it to the root\n      if (queryResult.parentResult == null || queryResult.parentResult.uniqueId == queryResult.uniqueId) {\n        // Add it only if he do not exist\n        if (resultNode == null) {\n          resultNode = {\n            result: queryResult,\n            score: i,\n            children: []\n          };\n          rootNode.children.push(resultNode);\n          resultNode.parent = rootNode;\n        }\n      } else {\n        // If the resultNode already exist\n        if (resultNode != null) {\n          resultNode.score = Math.min(i, resultNode.score);\n          // Remove himself from his parent because it will be added in his parent. This allowed to remove duplicate.\n          resultNode.parent.children = _.without(resultNode.parent.children, resultNode);\n        } else {\n          resultNode = {\n            result: queryResult,\n            score: i,\n            children: []\n          }\n        }\n\n        let parentResult = Folding.findUniqueId(rootNode.children, queryResult.parentResult.uniqueId);\n        // If the parent does not already exist, create it and add it the root\n        if (parentResult == null) {\n          parentResult = {\n            result: queryResult.parentResult,\n            score: Number.POSITIVE_INFINITY,\n            children: []\n          };\n          rootNode.children.push(parentResult);\n          parentResult.parent = rootNode;\n        }\n        // Add the resultNode to parent\n        parentResult.children.push(resultNode);\n        resultNode.parent = parentResult;\n        let parent = parentResult;\n        while (parent != null && resultNode.score < parent.score) {\n          parent.score = resultNode.score;\n          parent = parent.parent;\n        }\n      }\n    });\n    let rootResult = Folding.resultNodeToQueryResult(rootNode);\n    // Remove the root from all results\n    _.each(rootResult.attachments, (attachment) => attachment.parentResult = null)\n    return rootResult.attachments;\n  }\n\n  // 99.9% of the folding case will be alright with those default functions.\n  // Otherwise use the options getResult and getMoreResults\n  public static defaultGetResult(result: IQueryResult) {\n    let results: IQueryResult[] = result.childResults || [];\n    // Add the top result at the top of the list\n    results.unshift(result);\n    // Empty childResults just to make it more clean\n    result.childResults = [];\n    // Fold those results\n    results = Folding.foldWithParent(results);\n    // The first result is the top one\n    let topResult = results.shift();\n    // All other the results are childResults\n    topResult.childResults = results;\n    return topResult;\n  }\n\n  public static defaultGetMoreResults(results: IQueryResult[]) {\n    // The result are flat, just do the fold\n    return Folding.foldWithParent(results);\n  }\n\n  // Convert ResultNode to QueryResult\n  private static resultNodeToQueryResult(resultNode: IResultNode): IQueryResult {\n    let result = resultNode.result;\n    result.attachments = _.map(_.sortBy<IResultNode>(resultNode.children, 'score'), Folding.resultNodeToQueryResult);\n    result.parentResult = resultNode.parent != null ? resultNode.parent.result : null;\n    return result;\n  }\n\n  private static findUniqueId(resultNodes: IResultNode[], uniqueId: string): IResultNode {\n    for (let i = 0; i < resultNodes.length; i++) {\n      if (resultNodes[i].result.uniqueId == uniqueId) {\n        return resultNodes[i];\n      }\n      let resultNode = Folding.findUniqueId(resultNodes[i].children, uniqueId);\n      if (resultNode != null) {\n        return resultNode;\n      }\n    }\n    return null;\n  }\n\n\n  private handleBuildingQuery(data: IBuildingQueryEventArgs) {\n    Assert.exists(data);\n\n    if (!this.disabled) {\n      data.queryBuilder.childField = this.options.childField;\n      data.queryBuilder.parentField = this.options.parentField;\n      data.queryBuilder.filterField = this.options.field;\n      data.queryBuilder.filterFieldRange = this.options.range;\n\n      data.queryBuilder.requiredFields.push(this.options.field);\n      if (this.options.childField != null) {\n        data.queryBuilder.requiredFields.push(this.options.childField);\n      }\n      if (this.options.parentField != null) {\n        data.queryBuilder.requiredFields.push(this.options.parentField);\n      }\n    }\n  }\n\n  private handlepreprocessResults(data: IPreprocessResultsEventArgs) {\n    Assert.exists(data);\n    Assert.check(!data.results._folded, 'Two folding component are active at the same time for the same tab. Can\\'t process result !');\n    data.results._folded = true;\n\n    let queryResults = data.results;\n\n    let getResult: (result: IQueryResult) => IQueryResult = this.options.getResult || Folding.defaultGetResult;\n    queryResults.results = _.map(queryResults.results, getResult);\n    this.addLoadMoreHandler(<IQueryResult[]>queryResults.results, data.query);\n  }\n\n  private addLoadMoreHandler(results: IQueryResult[], originalQuery: IQuery) {\n    return _.map(results, (result) => {\n      if (this.options.enableExpand && !Utils.isNullOrUndefined(Utils.getFieldValue(result, this.options.field))) {\n        result.moreResults = () => {\n          return this.moreResults(result, originalQuery);\n        }\n      }\n      return result;\n    })\n  }\n\n\n  private moreResults(result: IQueryResult, originalQuery: IQuery): Promise<IQueryResult[]> {\n    let query = new QueryBuilder();\n    query.numberOfResults = this.options.maximumExpandedResults;\n\n    let fieldValue = Utils.getFieldValue(result, this.options.field);\n\n    if (Utils.isNonEmptyString(fieldValue)) {\n      query.advancedExpression.addFieldExpression(this.options.field, '=', [fieldValue]);\n    }\n\n    if (Utils.isNonEmptyString(originalQuery.q)) {\n      // We add keywords to get the highlight and we add @uri to get all results\n      query.expression.add('(' + originalQuery.q + ') OR @uri');\n    }\n\n    if (Utils.isNonEmptyString(this.options.expandExpression)) {\n      query.constantExpression.add(this.options.expandExpression);\n    }\n\n    if (this.options.parentField != null) {\n      query.parentField = this.options.parentField;\n    }\n    if (this.options.childField != null) {\n      query.childField = this.options.childField;\n    }\n\n    if (this.options.rearrange) {\n      this.options.rearrange.putInQueryBuilder(query);\n    } else {\n      query.sortCriteria = originalQuery.sortCriteria;\n      query.sortField = originalQuery.sortField;\n    }\n\n    let builtQuery = query.build();\n    return this.queryController.getEndpoint().search(builtQuery)\n      .then((results: IQueryResults) => {\n        this.handlePreprocessMoreResults(results);\n        return results.results;\n      });\n  }\n\n  private handlePreprocessMoreResults(queryResults: IQueryResults) {\n    let getResults: (results: IQueryResult[]) => IQueryResult[] = this.options.getMoreResults || Folding.defaultGetMoreResults;\n    queryResults.results = getResults(queryResults.results);\n    $$(this.element).trigger(QueryEvents.preprocessMoreResults, {\n      results: queryResults\n    });\n  }\n}\n\nInitialization.registerAutoCreateComponent(Folding);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Folding/Folding.ts\n **/","l":{"2":1,"3":1,"4":1,"6":1,"7":1,"8":1,"9":1,"12":1,"13":1,"51":1,"52":1,"57":1,"93":0,"159":0,"175":0,"185":25,"186":25,"188":25,"190":24,"191":24,"193":24,"194":24,"199":1,"200":31,"208":31,"209":54,"211":54,"213":38,"214":34,"219":34,"220":34,"224":16,"225":4,"227":4,"229":12,"236":16,"238":16,"239":4,"244":4,"245":4,"248":16,"249":16,"250":16,"251":16,"252":5,"253":5,"257":31,"259":37,"260":31,"265":1,"266":31,"268":31,"270":31,"272":31,"274":31,"276":31,"277":31,"280":1,"282":0,"286":1,"287":81,"288":81,"289":81,"290":81,"293":1,"294":174,"295":124,"296":20,"298":104,"299":104,"300":7,"303":147,"307":1,"308":10,"310":10,"311":10,"312":10,"313":10,"314":10,"316":10,"317":10,"318":10,"320":10,"321":10,"326":1,"327":10,"328":10,"329":10,"331":10,"333":10,"334":10,"335":10,"338":10,"339":10,"340":28,"341":6,"342":5,"345":28,"350":5,"351":5,"352":5,"354":5,"356":5,"357":5,"360":5,"362":3,"365":5,"366":1,"369":5,"370":5,"372":5,"373":5,"376":5,"377":0,"379":5,"380":5,"383":5,"384":5,"386":0,"387":0,"391":1,"392":0,"393":0,"394":0,"398":1,"400":1}},"src/ui/Sort/SortCriteria.ts":{"path":"src/ui/Sort/SortCriteria.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"3":{"start":{"line":6,"column":0},"end":{"line":96,"column":1}},"4":{"start":{"line":16,"column":2},"end":{"line":24,"column":3}},"5":{"start":{"line":16,"column":35},"end":{"line":16,"column":64}},"6":{"start":{"line":16,"column":21},"end":{"line":16,"column":33}},"7":{"start":{"line":16,"column":42},"end":{"line":16,"column":64}},"8":{"start":{"line":17,"column":4},"end":{"line":17,"column":34}},"9":{"start":{"line":18,"column":4},"end":{"line":18,"column":94}},"10":{"start":{"line":19,"column":4},"end":{"line":23,"column":5}},"11":{"start":{"line":20,"column":6},"end":{"line":20,"column":72}},"12":{"start":{"line":22,"column":6},"end":{"line":22,"column":36}},"13":{"start":{"line":30,"column":9},"end":{"line":34,"column":3}},"14":{"start":{"line":31,"column":4},"end":{"line":31,"column":38}},"15":{"start":{"line":32,"column":4},"end":{"line":32,"column":39}},"16":{"start":{"line":33,"column":4},"end":{"line":33,"column":48}},"17":{"start":{"line":40,"column":9},"end":{"line":50,"column":3}},"18":{"start":{"line":41,"column":4},"end":{"line":41,"column":32}},"19":{"start":{"line":42,"column":4},"end":{"line":49,"column":5}},"20":{"start":{"line":43,"column":6},"end":{"line":43,"column":59}},"21":{"start":{"line":44,"column":6},"end":{"line":44,"column":41}},"22":{"start":{"line":45,"column":11},"end":{"line":49,"column":5}},"23":{"start":{"line":46,"column":6},"end":{"line":46,"column":61}},"24":{"start":{"line":48,"column":6},"end":{"line":48,"column":44}},"25":{"start":{"line":57,"column":9},"end":{"line":67,"column":3}},"26":{"start":{"line":58,"column":4},"end":{"line":58,"column":26}},"27":{"start":{"line":60,"column":4},"end":{"line":66,"column":5}},"28":{"start":{"line":61,"column":6},"end":{"line":61,"column":52}},"29":{"start":{"line":62,"column":11},"end":{"line":66,"column":5}},"30":{"start":{"line":63,"column":6},"end":{"line":63,"column":32}},"31":{"start":{"line":65,"column":6},"end":{"line":65,"column":57}},"32":{"start":{"line":72,"column":9},"end":{"line":78,"column":3}},"33":{"start":{"line":73,"column":4},"end":{"line":77,"column":5}},"34":{"start":{"line":74,"column":6},"end":{"line":74,"column":46}},"35":{"start":{"line":76,"column":6},"end":{"line":76,"column":23}},"36":{"start":{"line":84,"column":9},"end":{"line":87,"column":3}},"37":{"start":{"line":85,"column":4},"end":{"line":85,"column":28}},"38":{"start":{"line":86,"column":4},"end":{"line":86,"column":78}},"39":{"start":{"line":89,"column":17},"end":{"line":91,"column":3}},"40":{"start":{"line":90,"column":4},"end":{"line":90,"column":37}},"41":{"start":{"line":93,"column":17},"end":{"line":95,"column":3}},"42":{"start":{"line":94,"column":4},"end":{"line":94,"column":98}},"43":{"start":{"line":7,"column":17},"end":{"line":7,"column":59}},"44":{"start":{"line":8,"column":17},"end":{"line":8,"column":50}},"45":{"start":{"line":9,"column":17},"end":{"line":9,"column":63}},"46":{"start":{"line":96,"column":0},"end":{"line":96,"column":1}},"47":{"start":{"line":6,"column":13},"end":{"line":96,"column":1}}},"fnMap":{"1":{"name":"(anonymous_5309)","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"SortCriteria","line":16,"loc":{"start":{"line":16,"column":2},"end":{"line":16,"column":64}}},"3":{"name":"(anonymous_5311)","line":30,"loc":{"start":{"line":30,"column":2},"end":{"line":30,"column":31}}},"4":{"name":"(anonymous_5312)","line":40,"loc":{"start":{"line":40,"column":2},"end":{"line":40,"column":53}}},"5":{"name":"(anonymous_5313)","line":57,"loc":{"start":{"line":57,"column":2},"end":{"line":57,"column":48}}},"6":{"name":"(anonymous_5314)","line":72,"loc":{"start":{"line":72,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_5315)","line":84,"loc":{"start":{"line":84,"column":2},"end":{"line":84,"column":38}}},"8":{"name":"(anonymous_5316)","line":89,"loc":{"start":{"line":89,"column":2},"end":{"line":89,"column":45}}},"9":{"name":"(anonymous_5317)","line":93,"loc":{"start":{"line":93,"column":2},"end":{"line":93,"column":48}}}},"branchMap":{"1":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":35},"end":{"line":16,"column":34}},{"start":{"line":16,"column":35},"end":{"line":16,"column":34}}]},"2":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":17},"end":{"line":18,"column":58}},{"start":{"line":18,"column":62},"end":{"line":18,"column":92}}]},"3":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":3}},{"start":{"line":19,"column":4},"end":{"line":19,"column":3}}]},"4":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":4},"end":{"line":42,"column":3}},{"start":{"line":42,"column":4},"end":{"line":42,"column":3}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":11},"end":{"line":45,"column":10}},{"start":{"line":45,"column":11},"end":{"line":45,"column":10}}]},"6":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":4},"end":{"line":60,"column":3}},{"start":{"line":60,"column":4},"end":{"line":60,"column":3}}]},"7":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":11},"end":{"line":62,"column":10}},{"start":{"line":62,"column":11},"end":{"line":62,"column":10}}]},"8":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":4},"end":{"line":73,"column":3}},{"start":{"line":73,"column":4},"end":{"line":73,"column":3}}]},"9":{"line":86,"type":"binary-expr","locations":[{"start":{"line":86,"column":11},"end":{"line":86,"column":37}},{"start":{"line":86,"column":41},"end":{"line":86,"column":77}}]},"10":{"line":94,"type":"binary-expr","locations":[{"start":{"line":94,"column":11},"end":{"line":94,"column":63}},{"start":{"line":94,"column":67},"end":{"line":94,"column":97}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":134,"6":115,"7":115,"8":115,"9":114,"10":110,"11":95,"12":15,"13":1,"14":92,"15":92,"16":92,"17":1,"18":11,"19":9,"20":3,"21":3,"22":6,"23":3,"24":3,"25":1,"26":3,"27":3,"28":2,"29":1,"30":1,"31":0,"32":1,"33":23,"34":20,"35":3,"36":1,"37":12,"38":12,"39":1,"40":53,"41":1,"42":110,"43":1,"44":1,"45":1,"46":1,"47":1},"b":{"1":[19,96],"2":[114,15],"3":[95,15],"4":[3,6],"5":[3,3],"6":[2,1],"7":[1,0],"8":[20,3],"9":[12,11],"10":[110,26]},"f":{"1":1,"2":115,"3":92,"4":11,"5":3,"6":23,"7":12,"8":53,"9":110},"code":"import {Assert} from '../../misc/Assert';\nimport {QueryBuilder} from '../Base/QueryBuilder';\nimport {Utils} from '../../utils/Utils';\nimport {IQueryResult} from '../../rest/QueryResult';\n\nexport class SortCriteria {\n  private static validSorts = ['relevancy', 'date', 'qre'];\n  private static sortsNeedingDirection = ['date'];\n  private static validDirections = ['ascending', 'descending'];\n\n  /**\n   * Create a new SortCriteria\n   * @param sort The sort criteria (e.g. relevancy, date)\n   * @param direction The direction by which to sort (e.g. ascending, descending)\n   */\n  constructor(public sort: string, public direction: string = '') {\n    Assert.isNonEmptyString(sort);\n    Assert.check(_.contains(SortCriteria.validSorts, sort) || SortCriteria.sortIsField(sort));\n    if (SortCriteria.sortNeedsDirection(sort)) {\n      Assert.check(_.contains(SortCriteria.validDirections, direction));\n    } else {\n      Assert.check(direction == '');\n    }\n  }\n\n  /**\n   * Return a new SortCriteria from a string\n   * @param criteria The string from which to create the SortCriteria\n   */\n  static parse(criteria: string): SortCriteria {\n    Assert.isNonEmptyString(criteria);\n    var split = criteria.match(/\\S+/g);\n    return new SortCriteria(split[0], split[1]);\n  }\n\n  /**\n   * Put the sort criteria in the passed queryBuilder\n   * @param queryBuilder The queryBuilder in which to put the sort criteria\n   */\n  public putInQueryBuilder(queryBuilder: QueryBuilder) {\n    Assert.exists(queryBuilder);\n    if (SortCriteria.sortIsField(this.sort)) {\n      queryBuilder.sortCriteria = 'field' + this.direction;\n      queryBuilder.sortField = this.sort;\n    } else if (this.direction != '') {\n      queryBuilder.sortCriteria = this.sort + this.direction;\n    } else {\n      queryBuilder.sortCriteria = this.sort;\n    }\n  }\n\n  /**\n   * Gets the value of the sort criteria from a single {@link IQueryResult}<br/>\n   * For example, if the sort criteria is 'relevancy', it will return the value of the 'relevancy' field from result\n   * @param result The {@link IQueryResult} from which to get the value.\n   */\n  public getValueFromResult(result: IQueryResult): any {\n    Assert.exists(result);\n\n    if (SortCriteria.sortIsField(this.sort)) {\n      return Utils.getFieldValue(result, this.sort);\n    } else if (this.sort == 'date') {\n      return result.raw['date'];\n    } else {\n      Assert.fail('Cannot retrieve value: ' + this.sort);\n    }\n  }\n\n  /**\n   * Returns a string representation of the sort criteria (e.g. 'date ascending')\n   */\n  public toString(): string {\n    if (Utils.isNonEmptyString(this.direction)) {\n      return this.sort + ' ' + this.direction;\n    } else {\n      return this.sort;\n    }\n  }\n\n  /**\n   * Checks if the SortCriteria is equal to another\n   * @param criteria The SortCriteria to compare with\n   */\n  public equals(criteria: SortCriteria): boolean {\n    Assert.exists(criteria);\n    return criteria.sort == this.sort && criteria.direction == this.direction;\n  }\n\n  private static sortIsField(criteria: string) {\n    return criteria.charAt(0) == '@';\n  }\n\n  private static sortNeedsDirection(sort: string) {\n    return _.contains(SortCriteria.sortsNeedingDirection, sort) || SortCriteria.sortIsField(sort);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Sort/SortCriteria.ts\n **/","l":{"1":1,"3":1,"6":1,"7":1,"8":1,"9":1,"16":134,"17":115,"18":114,"19":110,"20":95,"22":15,"30":1,"31":92,"32":92,"33":92,"40":1,"41":11,"42":9,"43":3,"44":3,"45":6,"46":3,"48":3,"57":1,"58":3,"60":3,"61":2,"62":1,"63":1,"65":0,"72":1,"73":23,"74":20,"76":3,"84":1,"85":12,"86":12,"89":1,"90":53,"93":1,"94":110,"96":1}},"src/ui/HiddenQuery/HiddenQuery.ts":{"path":"src/ui/HiddenQuery/HiddenQuery.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":58}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":78}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":93}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":107}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":85}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":35}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":40}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":54}},"11":{"start":{"line":12,"column":0},"end":{"line":12,"column":41}},"12":{"start":{"line":23,"column":0},"end":{"line":126,"column":1}},"13":{"start":{"line":23,"column":33},"end":{"line":23,"column":42}},"14":{"start":{"line":49,"column":2},"end":{"line":57,"column":3}},"15":{"start":{"line":51,"column":4},"end":{"line":51,"column":45}},"16":{"start":{"line":49,"column":21},"end":{"line":49,"column":41}},"17":{"start":{"line":49,"column":50},"end":{"line":49,"column":79}},"18":{"start":{"line":52,"column":4},"end":{"line":52,"column":88}},"19":{"start":{"line":54,"column":4},"end":{"line":54,"column":122}},"20":{"start":{"line":54,"column":90},"end":{"line":54,"column":120}},"21":{"start":{"line":55,"column":4},"end":{"line":55,"column":142}},"22":{"start":{"line":55,"column":105},"end":{"line":55,"column":140}},"23":{"start":{"line":56,"column":4},"end":{"line":56,"column":90}},"24":{"start":{"line":56,"column":68},"end":{"line":56,"column":88}},"25":{"start":{"line":62,"column":9},"end":{"line":67,"column":3}},"26":{"start":{"line":63,"column":4},"end":{"line":63,"column":25}},"27":{"start":{"line":64,"column":4},"end":{"line":64,"column":57}},"28":{"start":{"line":65,"column":4},"end":{"line":65,"column":151}},"29":{"start":{"line":66,"column":4},"end":{"line":66,"column":40}},"30":{"start":{"line":69,"column":10},"end":{"line":72,"column":3}},"31":{"start":{"line":70,"column":4},"end":{"line":70,"column":60}},"32":{"start":{"line":71,"column":4},"end":{"line":71,"column":60}},"33":{"start":{"line":74,"column":10},"end":{"line":80,"column":3}},"34":{"start":{"line":75,"column":4},"end":{"line":75,"column":24}},"35":{"start":{"line":76,"column":4},"end":{"line":76,"column":74}},"36":{"start":{"line":77,"column":4},"end":{"line":79,"column":5}},"37":{"start":{"line":78,"column":6},"end":{"line":78,"column":60}},"38":{"start":{"line":82,"column":10},"end":{"line":112,"column":3}},"39":{"start":{"line":82,"column":2},"end":{"line":112,"column":3}},"40":{"start":{"line":83,"column":4},"end":{"line":83,"column":44}},"41":{"start":{"line":84,"column":4},"end":{"line":111,"column":5}},"42":{"start":{"line":85,"column":6},"end":{"line":85,"column":47}},"43":{"start":{"line":86,"column":6},"end":{"line":86,"column":57}},"44":{"start":{"line":88,"column":6},"end":{"line":88,"column":49}},"45":{"start":{"line":89,"column":6},"end":{"line":89,"column":64}},"46":{"start":{"line":90,"column":6},"end":{"line":90,"column":41}},"47":{"start":{"line":91,"column":6},"end":{"line":91,"column":30}},"48":{"start":{"line":93,"column":6},"end":{"line":93,"column":50}},"49":{"start":{"line":94,"column":6},"end":{"line":94,"column":66}},"50":{"start":{"line":95,"column":6},"end":{"line":95,"column":31}},"51":{"start":{"line":97,"column":6},"end":{"line":97,"column":49}},"52":{"start":{"line":98,"column":6},"end":{"line":98,"column":64}},"53":{"start":{"line":99,"column":6},"end":{"line":99,"column":34}},"54":{"start":{"line":100,"column":6},"end":{"line":100,"column":32}},"55":{"start":{"line":102,"column":6},"end":{"line":102,"column":49}},"56":{"start":{"line":103,"column":6},"end":{"line":103,"column":64}},"57":{"start":{"line":104,"column":6},"end":{"line":104,"column":30}},"58":{"start":{"line":106,"column":6},"end":{"line":106,"column":47}},"59":{"start":{"line":106,"column":33},"end":{"line":106,"column":45}},"60":{"start":{"line":108,"column":6},"end":{"line":110,"column":8}},"61":{"start":{"line":114,"column":10},"end":{"line":125,"column":3}},"62":{"start":{"line":115,"column":4},"end":{"line":115,"column":82}},"63":{"start":{"line":116,"column":4},"end":{"line":118,"column":5}},"64":{"start":{"line":117,"column":6},"end":{"line":117,"column":80}},"65":{"start":{"line":119,"column":4},"end":{"line":123,"column":5}},"66":{"start":{"line":120,"column":6},"end":{"line":122,"column":7}},"67":{"start":{"line":121,"column":8},"end":{"line":121,"column":91}},"68":{"start":{"line":124,"column":4},"end":{"line":124,"column":23}},"69":{"start":{"line":24,"column":9},"end":{"line":24,"column":28}},"70":{"start":{"line":29,"column":9},"end":{"line":41,"column":4}},"71":{"start":{"line":126,"column":0},"end":{"line":126,"column":1}},"72":{"start":{"line":23,"column":13},"end":{"line":126,"column":1}},"73":{"start":{"line":127,"column":0},"end":{"line":127,"column":56}}},"fnMap":{"1":{"name":"(anonymous_5322)","line":23,"loc":{"start":{"line":23,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"HiddenQuery","line":49,"loc":{"start":{"line":49,"column":2},"end":{"line":49,"column":110}}},"3":{"name":"(anonymous_5324)","line":54,"loc":{"start":{"line":54,"column":55},"end":{"line":54,"column":85}}},"4":{"name":"(anonymous_5325)","line":55,"loc":{"start":{"line":55,"column":65},"end":{"line":55,"column":100}}},"5":{"name":"(anonymous_5326)","line":56,"loc":{"start":{"line":56,"column":62},"end":{"line":56,"column":67}}},"6":{"name":"(anonymous_5327)","line":62,"loc":{"start":{"line":62,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_5328)","line":69,"loc":{"start":{"line":69,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_5329)","line":74,"loc":{"start":{"line":74,"column":2},"end":{"line":74,"column":59}}},"9":{"name":"(anonymous_5330)","line":82,"loc":{"start":{"line":82,"column":2},"end":{"line":82,"column":69}}},"10":{"name":"(anonymous_5331)","line":106,"loc":{"start":{"line":106,"column":27},"end":{"line":106,"column":32}}},"11":{"name":"(anonymous_5332)","line":114,"loc":{"start":{"line":114,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":4},"end":{"line":77,"column":3}},{"start":{"line":77,"column":4},"end":{"line":77,"column":3}}]},"2":{"line":84,"type":"if","locations":[{"start":{"line":84,"column":4},"end":{"line":84,"column":3}},{"start":{"line":84,"column":4},"end":{"line":84,"column":3}}]},"3":{"line":84,"type":"binary-expr","locations":[{"start":{"line":84,"column":8},"end":{"line":84,"column":31}},{"start":{"line":84,"column":35},"end":{"line":84,"column":98}}]},"4":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":4},"end":{"line":116,"column":3}},{"start":{"line":116,"column":4},"end":{"line":116,"column":3}}]},"5":{"line":119,"type":"if","locations":[{"start":{"line":119,"column":4},"end":{"line":119,"column":3}},{"start":{"line":119,"column":4},"end":{"line":119,"column":3}}]},"6":{"line":120,"type":"if","locations":[{"start":{"line":120,"column":6},"end":{"line":120,"column":5}},{"start":{"line":120,"column":6},"end":{"line":120,"column":5}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":9,"13":1,"14":1,"15":8,"16":8,"17":8,"18":8,"19":8,"20":2,"21":8,"22":6,"23":8,"24":0,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":2,"35":2,"36":2,"37":1,"38":1,"39":6,"40":6,"41":6,"42":4,"43":4,"44":4,"45":4,"46":4,"47":4,"48":4,"49":4,"50":4,"51":4,"52":4,"53":4,"54":4,"55":4,"56":4,"57":4,"58":4,"59":0,"60":4,"61":1,"62":7,"63":7,"64":3,"65":7,"66":5,"67":1,"68":7,"69":1,"70":1,"71":1,"72":1,"73":1},"b":{"1":[1,1],"2":[4,2],"3":[6,5],"4":[3,4],"5":[5,2],"6":[1,4]},"f":{"1":1,"2":8,"3":2,"4":6,"5":0,"6":1,"7":1,"8":2,"9":6,"10":0,"11":7},"code":"import {Component} from '../Base/Component';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {l} from '../../strings/Strings';\nimport {QueryEvents, IBuildingQueryEventArgs} from '../../events/QueryEvents';\nimport {BreadcrumbEvents, IPopulateBreadcrumbEventArgs} from '../../events/BreadcrumbEvents';\nimport {analyticsActionCauseList, IAnalyticsContextRemoveMeta} from '../Analytics/AnalyticsActionListMeta';\nimport {QUERY_STATE_ATTRIBUTES, QueryStateModel} from '../../models/QueryStateModel';\nimport {$$} from '../../utils/Dom';\nimport {Utils} from '../../utils/Utils';\nimport {Initialization} from '../Base/Initialization';\nimport {Assert} from '../../misc/Assert';\n\nexport interface IHiddenQueryOptions {\n  maximumDescriptionLength: number;\n  title: string;\n}\n\n/**\n * This component job is to handle an 'hidden' query parameter.<br/>\n * Concretely, this means that a search interface loaded with #hq=foo&hd=bar will add 'foo' as an expression to the query ('hq'=> hidden query) and render 'bar' in the {@link Breadcrumb}<br/>\n */\nexport class HiddenQuery extends Component {\n  static ID = 'HiddenQuery';\n  /**\n   * Possible options for the HiddenQuery component\n   * @componentOptions\n   */\n  static options: IHiddenQueryOptions = {\n    /**\n     * Specifies a maximum character length for a description.<br/>\n     * After this length, the component will slice the descrption and add [...].<br/>\n     * Default value is 100\n     */\n    maximumDescriptionLength: ComponentOptions.buildNumberOption({ min: 0, defaultValue: 100 }),\n    /**\n     * Specifies a title that will appear in the {@link Breadcrumb} when it is populated by the HiddenQuery component.<br/>\n     * By default, it is a localized string for 'Additional filters :'\n     */\n    title: ComponentOptions.buildLocalizedStringOption({ defaultValue: l('AdditionalFilters') + ' : ' })\n  };\n\n  /**\n   * Create a new HiddenQuery component, which bind multiple events (building query as well as {@link Breadcrumb} events\n   * @param element\n   * @param options\n   * @param bindings\n   */\n  constructor(public element: HTMLElement, public options?: IHiddenQueryOptions, bindings?: IComponentBindings) {\n\n    super(element, HiddenQuery.ID, bindings);\n    this.options = ComponentOptions.initComponentOptions(element, HiddenQuery, options);\n\n    this.bind.onRootElement(QueryEvents.buildingQuery, (args: IBuildingQueryEventArgs) => this.handleBuildingQuery(args));\n    this.bind.onRootElement(BreadcrumbEvents.populateBreadcrumb, (args: IPopulateBreadcrumbEventArgs) => this.handlePopulateBreadcrumb(args));\n    this.bind.onRootElement(BreadcrumbEvents.clearBreadcrumb, () => this.setStateEmpty());\n  }\n\n  /**\n   * Clear any hd or hq set in the {@link QueryStateModel}, log an analytics event and trigger a new query.\n   */\n  public clear() {\n    this.setStateEmpty();\n    let hiddenDescriptionRemoved = this.getDescription();\n    this.usageAnalytics.logSearchEvent<IAnalyticsContextRemoveMeta>(analyticsActionCauseList.contextRemove, { contextName: hiddenDescriptionRemoved });\n    this.queryController.executeQuery();\n  }\n\n  private setStateEmpty() {\n    this.queryStateModel.set(QUERY_STATE_ATTRIBUTES.HD, '');\n    this.queryStateModel.set(QUERY_STATE_ATTRIBUTES.HQ, '');\n  }\n\n  private handleBuildingQuery(data: IBuildingQueryEventArgs) {\n    Assert.exists(data);\n    let hiddenQuery = this.queryStateModel.get(QUERY_STATE_ATTRIBUTES.HQ);\n    if (Utils.isNonEmptyString(hiddenQuery)) {\n      data.queryBuilder.advancedExpression.add(hiddenQuery);\n    }\n  }\n\n  private handlePopulateBreadcrumb(args: IPopulateBreadcrumbEventArgs) {\n    let description = this.getDescription();\n    if (!_.isEmpty(description) && !_.isEmpty(this.queryStateModel.get(QUERY_STATE_ATTRIBUTES.HQ))) {\n      let elem = document.createElement('div');\n      $$(elem).addClass('coveo-hidden-query-breadcrumb');\n\n      let title = document.createElement('span');\n      $$(title).addClass('coveo-hidden-query-breadcrumb-title');\n      $$(title).text(this.options.title);\n      elem.appendChild(title);\n\n      let values = document.createElement('span');\n      $$(values).addClass('coveo-hidden-query-breadcrumb-values');\n      elem.appendChild(values);\n\n      let value = document.createElement('span');\n      $$(value).addClass('coveo-hidden-query-breadcrumb-value');\n      $$(value).text(description);\n      values.appendChild(value);\n\n      let clear = document.createElement('span');\n      $$(clear).addClass('coveo-hidden-query-breadcrumb-clear');\n      elem.appendChild(clear);\n\n      $$(elem).on('click', () => this.clear());\n\n      args.breadcrumbs.push({\n        element: elem\n      })\n    }\n  }\n\n  private getDescription() {\n    let description = this.queryStateModel.get(QueryStateModel.attributesEnum.hd);\n    if (_.isEmpty(description)) {\n      description = this.queryStateModel.get(QueryStateModel.attributesEnum.hq);\n    }\n    if (!_.isEmpty(description)) {\n      if (description.length > this.options.maximumDescriptionLength) {\n        description = description.slice(0, this.options.maximumDescriptionLength) + ' ...';\n      }\n    }\n    return description;\n  }\n}\nInitialization.registerAutoCreateComponent(HiddenQuery);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/HiddenQuery/HiddenQuery.ts\n **/","l":{"1":1,"2":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"23":9,"24":1,"29":1,"49":8,"51":8,"52":8,"54":8,"55":8,"56":8,"62":1,"63":1,"64":1,"65":1,"66":1,"69":1,"70":1,"71":1,"74":1,"75":2,"76":2,"77":2,"78":1,"82":6,"83":6,"84":6,"85":4,"86":4,"88":4,"89":4,"90":4,"91":4,"93":4,"94":4,"95":4,"97":4,"98":4,"99":4,"100":4,"102":4,"103":4,"104":4,"106":4,"108":4,"114":1,"115":7,"116":7,"117":3,"119":7,"120":5,"121":1,"124":7,"126":1,"127":1}},"src/ui/HierarchicalFacet/HierarchicalFacet.ts":{"path":"src/ui/HierarchicalFacet/HierarchicalFacet.ts","statementMap":{"1":{"start":{"line":8,"column":0},"end":{"line":8,"column":48}},"2":{"start":{"line":9,"column":0},"end":{"line":9,"column":37}},"3":{"start":{"line":10,"column":0},"end":{"line":10,"column":58}},"4":{"start":{"line":11,"column":0},"end":{"line":11,"column":74}},"5":{"start":{"line":12,"column":0},"end":{"line":12,"column":100}},"6":{"start":{"line":15,"column":0},"end":{"line":15,"column":40}},"7":{"start":{"line":16,"column":0},"end":{"line":16,"column":35}},"8":{"start":{"line":17,"column":0},"end":{"line":17,"column":39}},"9":{"start":{"line":18,"column":0},"end":{"line":18,"column":86}},"10":{"start":{"line":19,"column":0},"end":{"line":19,"column":66}},"11":{"start":{"line":20,"column":0},"end":{"line":20,"column":84}},"12":{"start":{"line":22,"column":0},"end":{"line":22,"column":41}},"13":{"start":{"line":25,"column":0},"end":{"line":25,"column":78}},"14":{"start":{"line":26,"column":0},"end":{"line":26,"column":78}},"15":{"start":{"line":27,"column":0},"end":{"line":27,"column":54}},"16":{"start":{"line":74,"column":0},"end":{"line":877,"column":1}},"17":{"start":{"line":74,"column":39},"end":{"line":74,"column":44}},"18":{"start":{"line":132,"column":2},"end":{"line":140,"column":3}},"19":{"start":{"line":133,"column":4},"end":{"line":133,"column":60}},"20":{"start":{"line":132,"column":28},"end":{"line":132,"column":48}},"21":{"start":{"line":132,"column":93},"end":{"line":132,"column":121}},"22":{"start":{"line":121,"column":10},"end":{"line":121,"column":32}},"23":{"start":{"line":124,"column":10},"end":{"line":124,"column":47}},"24":{"start":{"line":134,"column":4},"end":{"line":134,"column":99}},"25":{"start":{"line":135,"column":4},"end":{"line":135,"column":103}},"26":{"start":{"line":136,"column":4},"end":{"line":136,"column":71}},"27":{"start":{"line":137,"column":4},"end":{"line":137,"column":79}},"28":{"start":{"line":138,"column":4},"end":{"line":138,"column":128}},"29":{"start":{"line":139,"column":4},"end":{"line":139,"column":129}},"30":{"start":{"line":149,"column":9},"end":{"line":158,"column":3}},"31":{"start":{"line":149,"column":33},"end":{"line":149,"column":68}},"32":{"start":{"line":150,"column":4},"end":{"line":150,"column":21}},"33":{"start":{"line":151,"column":4},"end":{"line":151,"column":45}},"34":{"start":{"line":152,"column":4},"end":{"line":152,"column":59}},"35":{"start":{"line":153,"column":4},"end":{"line":155,"column":5}},"36":{"start":{"line":154,"column":6},"end":{"line":154,"column":63}},"37":{"start":{"line":156,"column":4},"end":{"line":156,"column":48}},"38":{"start":{"line":157,"column":4},"end":{"line":157,"column":29}},"39":{"start":{"line":167,"column":9},"end":{"line":180,"column":3}},"40":{"start":{"line":167,"column":2},"end":{"line":180,"column":3}},"41":{"start":{"line":167,"column":45},"end":{"line":167,"column":80}},"42":{"start":{"line":168,"column":4},"end":{"line":168,"column":21}},"43":{"start":{"line":169,"column":4},"end":{"line":169,"column":44}},"44":{"start":{"line":170,"column":4},"end":{"line":178,"column":6}},"45":{"start":{"line":171,"column":6},"end":{"line":171,"column":61}},"46":{"start":{"line":172,"column":6},"end":{"line":172,"column":50}},"47":{"start":{"line":173,"column":6},"end":{"line":177,"column":7}},"48":{"start":{"line":174,"column":8},"end":{"line":176,"column":10}},"49":{"start":{"line":175,"column":10},"end":{"line":175,"column":45}},"50":{"start":{"line":179,"column":4},"end":{"line":179,"column":39}},"51":{"start":{"line":189,"column":9},"end":{"line":209,"column":3}},"52":{"start":{"line":189,"column":2},"end":{"line":209,"column":3}},"53":{"start":{"line":189,"column":35},"end":{"line":189,"column":56}},"54":{"start":{"line":190,"column":4},"end":{"line":190,"column":21}},"55":{"start":{"line":191,"column":4},"end":{"line":191,"column":45}},"56":{"start":{"line":192,"column":4},"end":{"line":192,"column":59}},"57":{"start":{"line":193,"column":4},"end":{"line":205,"column":5}},"58":{"start":{"line":194,"column":6},"end":{"line":194,"column":57}},"59":{"start":{"line":195,"column":6},"end":{"line":204,"column":7}},"60":{"start":{"line":196,"column":8},"end":{"line":199,"column":10}},"61":{"start":{"line":197,"column":10},"end":{"line":197,"column":80}},"62":{"start":{"line":198,"column":10},"end":{"line":198,"column":68}},"63":{"start":{"line":200,"column":8},"end":{"line":200,"column":48}},"64":{"start":{"line":201,"column":8},"end":{"line":203,"column":9}},"65":{"start":{"line":202,"column":10},"end":{"line":202,"column":69}},"66":{"start":{"line":206,"column":4},"end":{"line":206,"column":47}},"67":{"start":{"line":207,"column":4},"end":{"line":207,"column":50}},"68":{"start":{"line":208,"column":4},"end":{"line":208,"column":31}},"69":{"start":{"line":218,"column":9},"end":{"line":230,"column":3}},"70":{"start":{"line":218,"column":34},"end":{"line":218,"column":70}},"71":{"start":{"line":219,"column":4},"end":{"line":219,"column":21}},"72":{"start":{"line":220,"column":4},"end":{"line":220,"column":45}},"73":{"start":{"line":221,"column":4},"end":{"line":221,"column":59}},"74":{"start":{"line":222,"column":4},"end":{"line":227,"column":5}},"75":{"start":{"line":223,"column":6},"end":{"line":223,"column":48}},"76":{"start":{"line":225,"column":6},"end":{"line":225,"column":65}},"77":{"start":{"line":226,"column":6},"end":{"line":226,"column":33}},"78":{"start":{"line":228,"column":4},"end":{"line":228,"column":48}},"79":{"start":{"line":229,"column":4},"end":{"line":229,"column":30}},"80":{"start":{"line":239,"column":9},"end":{"line":248,"column":3}},"81":{"start":{"line":239,"column":36},"end":{"line":239,"column":73}},"82":{"start":{"line":240,"column":4},"end":{"line":240,"column":21}},"83":{"start":{"line":241,"column":4},"end":{"line":241,"column":45}},"84":{"start":{"line":242,"column":4},"end":{"line":242,"column":59}},"85":{"start":{"line":243,"column":4},"end":{"line":245,"column":5}},"86":{"start":{"line":244,"column":6},"end":{"line":244,"column":50}},"87":{"start":{"line":246,"column":4},"end":{"line":246,"column":50}},"88":{"start":{"line":247,"column":4},"end":{"line":247,"column":32}},"89":{"start":{"line":257,"column":9},"end":{"line":273,"column":3}},"90":{"start":{"line":257,"column":2},"end":{"line":273,"column":3}},"91":{"start":{"line":257,"column":47},"end":{"line":257,"column":84}},"92":{"start":{"line":258,"column":4},"end":{"line":258,"column":21}},"93":{"start":{"line":259,"column":4},"end":{"line":259,"column":44}},"94":{"start":{"line":260,"column":4},"end":{"line":271,"column":6}},"95":{"start":{"line":261,"column":6},"end":{"line":261,"column":61}},"96":{"start":{"line":262,"column":6},"end":{"line":262,"column":46}},"97":{"start":{"line":263,"column":6},"end":{"line":263,"column":52}},"98":{"start":{"line":264,"column":6},"end":{"line":270,"column":7}},"99":{"start":{"line":265,"column":8},"end":{"line":269,"column":10}},"100":{"start":{"line":266,"column":10},"end":{"line":266,"column":77}},"101":{"start":{"line":267,"column":10},"end":{"line":267,"column":52}},"102":{"start":{"line":268,"column":10},"end":{"line":268,"column":47}},"103":{"start":{"line":272,"column":4},"end":{"line":272,"column":41}},"104":{"start":{"line":281,"column":9},"end":{"line":289,"column":3}},"105":{"start":{"line":282,"column":4},"end":{"line":282,"column":21}},"106":{"start":{"line":283,"column":4},"end":{"line":283,"column":45}},"107":{"start":{"line":284,"column":4},"end":{"line":288,"column":5}},"108":{"start":{"line":285,"column":6},"end":{"line":285,"column":29}},"109":{"start":{"line":287,"column":6},"end":{"line":287,"column":32}},"110":{"start":{"line":297,"column":9},"end":{"line":305,"column":3}},"111":{"start":{"line":298,"column":4},"end":{"line":298,"column":21}},"112":{"start":{"line":299,"column":4},"end":{"line":299,"column":45}},"113":{"start":{"line":300,"column":4},"end":{"line":304,"column":5}},"114":{"start":{"line":301,"column":6},"end":{"line":301,"column":31}},"115":{"start":{"line":303,"column":6},"end":{"line":303,"column":33}},"116":{"start":{"line":313,"column":9},"end":{"line":325,"column":3}},"117":{"start":{"line":314,"column":4},"end":{"line":314,"column":47}},"118":{"start":{"line":315,"column":4},"end":{"line":315,"column":26}},"119":{"start":{"line":316,"column":4},"end":{"line":323,"column":5}},"120":{"start":{"line":317,"column":6},"end":{"line":319,"column":7}},"121":{"start":{"line":318,"column":8},"end":{"line":318,"column":60}},"122":{"start":{"line":320,"column":6},"end":{"line":322,"column":7}},"123":{"start":{"line":321,"column":8},"end":{"line":321,"column":62}},"124":{"start":{"line":324,"column":4},"end":{"line":324,"column":15}},"125":{"start":{"line":331,"column":9},"end":{"line":341,"column":3}},"126":{"start":{"line":331,"column":2},"end":{"line":341,"column":3}},"127":{"start":{"line":332,"column":4},"end":{"line":339,"column":6}},"128":{"start":{"line":333,"column":6},"end":{"line":333,"column":59}},"129":{"start":{"line":334,"column":6},"end":{"line":337,"column":7}},"130":{"start":{"line":335,"column":8},"end":{"line":335,"column":55}},"131":{"start":{"line":336,"column":8},"end":{"line":336,"column":52}},"132":{"start":{"line":338,"column":6},"end":{"line":338,"column":19}},"133":{"start":{"line":340,"column":4},"end":{"line":340,"column":39}},"134":{"start":{"line":347,"column":9},"end":{"line":350,"column":3}},"135":{"start":{"line":348,"column":4},"end":{"line":348,"column":31}},"136":{"start":{"line":349,"column":4},"end":{"line":349,"column":31}},"137":{"start":{"line":359,"column":9},"end":{"line":376,"column":3}},"138":{"start":{"line":360,"column":4},"end":{"line":360,"column":15}},"139":{"start":{"line":361,"column":4},"end":{"line":367,"column":5}},"140":{"start":{"line":362,"column":6},"end":{"line":362,"column":45}},"141":{"start":{"line":363,"column":11},"end":{"line":367,"column":5}},"142":{"start":{"line":364,"column":6},"end":{"line":364,"column":51}},"143":{"start":{"line":366,"column":6},"end":{"line":366,"column":21}},"144":{"start":{"line":368,"column":4},"end":{"line":375,"column":5}},"145":{"start":{"line":369,"column":6},"end":{"line":369,"column":92}},"146":{"start":{"line":370,"column":6},"end":{"line":370,"column":37}},"147":{"start":{"line":371,"column":6},"end":{"line":373,"column":7}},"148":{"start":{"line":372,"column":8},"end":{"line":372,"column":74}},"149":{"start":{"line":374,"column":6},"end":{"line":374,"column":72}},"150":{"start":{"line":385,"column":9},"end":{"line":402,"column":3}},"151":{"start":{"line":385,"column":2},"end":{"line":402,"column":3}},"152":{"start":{"line":386,"column":4},"end":{"line":386,"column":15}},"153":{"start":{"line":387,"column":4},"end":{"line":393,"column":5}},"154":{"start":{"line":388,"column":6},"end":{"line":388,"column":45}},"155":{"start":{"line":389,"column":11},"end":{"line":393,"column":5}},"156":{"start":{"line":390,"column":6},"end":{"line":390,"column":51}},"157":{"start":{"line":392,"column":6},"end":{"line":392,"column":21}},"158":{"start":{"line":394,"column":4},"end":{"line":401,"column":5}},"159":{"start":{"line":395,"column":6},"end":{"line":395,"column":89}},"160":{"start":{"line":396,"column":6},"end":{"line":396,"column":37}},"161":{"start":{"line":397,"column":6},"end":{"line":399,"column":9}},"162":{"start":{"line":398,"column":8},"end":{"line":398,"column":67}},"163":{"start":{"line":400,"column":6},"end":{"line":400,"column":73}},"164":{"start":{"line":407,"column":9},"end":{"line":417,"column":3}},"165":{"start":{"line":407,"column":2},"end":{"line":417,"column":3}},"166":{"start":{"line":408,"column":4},"end":{"line":410,"column":6}},"167":{"start":{"line":409,"column":6},"end":{"line":409,"column":46}},"168":{"start":{"line":413,"column":4},"end":{"line":415,"column":6}},"169":{"start":{"line":414,"column":6},"end":{"line":414,"column":33}},"170":{"start":{"line":416,"column":4},"end":{"line":416,"column":18}},"171":{"start":{"line":419,"column":9},"end":{"line":422,"column":3}},"172":{"start":{"line":420,"column":4},"end":{"line":420,"column":43}},"173":{"start":{"line":421,"column":4},"end":{"line":421,"column":27}},"174":{"start":{"line":424,"column":12},"end":{"line":428,"column":3}},"175":{"start":{"line":424,"column":36},"end":{"line":424,"column":62}},"176":{"start":{"line":427,"column":4},"end":{"line":427,"column":40}},"177":{"start":{"line":430,"column":12},"end":{"line":435,"column":3}},"178":{"start":{"line":430,"column":2},"end":{"line":435,"column":3}},"179":{"start":{"line":431,"column":4},"end":{"line":431,"column":33}},"180":{"start":{"line":432,"column":4},"end":{"line":434,"column":7}},"181":{"start":{"line":433,"column":6},"end":{"line":433,"column":46}},"182":{"start":{"line":438,"column":12},"end":{"line":440,"column":3}},"183":{"start":{"line":439,"column":4},"end":{"line":439,"column":75}},"184":{"start":{"line":442,"column":12},"end":{"line":445,"column":3}},"185":{"start":{"line":443,"column":4},"end":{"line":443,"column":103}},"186":{"start":{"line":444,"column":4},"end":{"line":444,"column":55}},"187":{"start":{"line":447,"column":12},"end":{"line":450,"column":3}},"188":{"start":{"line":448,"column":4},"end":{"line":448,"column":44}},"189":{"start":{"line":449,"column":4},"end":{"line":449,"column":43}},"190":{"start":{"line":452,"column":12},"end":{"line":460,"column":3}},"191":{"start":{"line":453,"column":4},"end":{"line":453,"column":24}},"192":{"start":{"line":454,"column":4},"end":{"line":459,"column":5}},"193":{"start":{"line":455,"column":6},"end":{"line":455,"column":161}},"194":{"start":{"line":456,"column":6},"end":{"line":458,"column":9}},"195":{"start":{"line":462,"column":12},"end":{"line":476,"column":3}},"196":{"start":{"line":462,"column":2},"end":{"line":476,"column":3}},"197":{"start":{"line":463,"column":4},"end":{"line":463,"column":55}},"198":{"start":{"line":464,"column":4},"end":{"line":466,"column":45}},"199":{"start":{"line":465,"column":6},"end":{"line":465,"column":71}},"200":{"start":{"line":467,"column":4},"end":{"line":470,"column":7}},"201":{"start":{"line":468,"column":6},"end":{"line":468,"column":70}},"202":{"start":{"line":469,"column":6},"end":{"line":469,"column":56}},"203":{"start":{"line":471,"column":4},"end":{"line":471,"column":89}},"204":{"start":{"line":472,"column":4},"end":{"line":475,"column":6}},"205":{"start":{"line":478,"column":12},"end":{"line":486,"column":3}},"206":{"start":{"line":479,"column":4},"end":{"line":479,"column":63}},"207":{"start":{"line":480,"column":4},"end":{"line":480,"column":28}},"208":{"start":{"line":481,"column":4},"end":{"line":481,"column":31}},"209":{"start":{"line":482,"column":4},"end":{"line":482,"column":33}},"210":{"start":{"line":483,"column":4},"end":{"line":483,"column":40}},"211":{"start":{"line":484,"column":4},"end":{"line":484,"column":27}},"212":{"start":{"line":485,"column":4},"end":{"line":485,"column":16}},"213":{"start":{"line":488,"column":12},"end":{"line":491,"column":3}},"214":{"start":{"line":489,"column":4},"end":{"line":489,"column":96}},"215":{"start":{"line":490,"column":4},"end":{"line":490,"column":59}},"216":{"start":{"line":493,"column":12},"end":{"line":497,"column":3}},"217":{"start":{"line":494,"column":4},"end":{"line":494,"column":88}},"218":{"start":{"line":495,"column":4},"end":{"line":495,"column":84}},"219":{"start":{"line":496,"column":4},"end":{"line":496,"column":59}},"220":{"start":{"line":499,"column":12},"end":{"line":504,"column":3}},"221":{"start":{"line":500,"column":4},"end":{"line":500,"column":67}},"222":{"start":{"line":501,"column":4},"end":{"line":501,"column":88}},"223":{"start":{"line":502,"column":4},"end":{"line":502,"column":16}},"224":{"start":{"line":503,"column":4},"end":{"line":503,"column":26}},"225":{"start":{"line":506,"column":12},"end":{"line":510,"column":3}},"226":{"start":{"line":507,"column":4},"end":{"line":507,"column":66}},"227":{"start":{"line":508,"column":4},"end":{"line":508,"column":16}},"228":{"start":{"line":509,"column":4},"end":{"line":509,"column":26}},"229":{"start":{"line":512,"column":12},"end":{"line":514,"column":3}},"230":{"start":{"line":513,"column":4},"end":{"line":513,"column":63}},"231":{"start":{"line":516,"column":10},"end":{"line":531,"column":3}},"232":{"start":{"line":516,"column":2},"end":{"line":531,"column":3}},"233":{"start":{"line":517,"column":4},"end":{"line":521,"column":5}},"234":{"start":{"line":518,"column":6},"end":{"line":520,"column":8}},"235":{"start":{"line":519,"column":8},"end":{"line":519,"column":49}},"236":{"start":{"line":522,"column":4},"end":{"line":522,"column":40}},"237":{"start":{"line":523,"column":4},"end":{"line":527,"column":6}},"238":{"start":{"line":524,"column":6},"end":{"line":526,"column":7}},"239":{"start":{"line":525,"column":8},"end":{"line":525,"column":39}},"240":{"start":{"line":528,"column":4},"end":{"line":530,"column":5}},"241":{"start":{"line":529,"column":6},"end":{"line":529,"column":41}},"242":{"start":{"line":533,"column":10},"end":{"line":548,"column":3}},"243":{"start":{"line":533,"column":2},"end":{"line":548,"column":3}},"244":{"start":{"line":535,"column":4},"end":{"line":537,"column":7}},"245":{"start":{"line":536,"column":6},"end":{"line":536,"column":75}},"246":{"start":{"line":540,"column":4},"end":{"line":540,"column":77}},"247":{"start":{"line":541,"column":4},"end":{"line":544,"column":6}},"248":{"start":{"line":542,"column":6},"end":{"line":542,"column":34}},"249":{"start":{"line":543,"column":6},"end":{"line":543,"column":37}},"250":{"start":{"line":545,"column":4},"end":{"line":547,"column":6}},"251":{"start":{"line":546,"column":6},"end":{"line":546,"column":34}},"252":{"start":{"line":550,"column":10},"end":{"line":563,"column":3}},"253":{"start":{"line":550,"column":2},"end":{"line":563,"column":3}},"254":{"start":{"line":551,"column":4},"end":{"line":556,"column":6}},"255":{"start":{"line":552,"column":6},"end":{"line":555,"column":7}},"256":{"start":{"line":553,"column":8},"end":{"line":553,"column":79}},"257":{"start":{"line":554,"column":8},"end":{"line":554,"column":55}},"258":{"start":{"line":557,"column":4},"end":{"line":562,"column":5}},"259":{"start":{"line":558,"column":6},"end":{"line":558,"column":27}},"260":{"start":{"line":559,"column":6},"end":{"line":559,"column":40}},"261":{"start":{"line":561,"column":6},"end":{"line":561,"column":40}},"262":{"start":{"line":565,"column":10},"end":{"line":579,"column":3}},"263":{"start":{"line":565,"column":2},"end":{"line":579,"column":3}},"264":{"start":{"line":566,"column":4},"end":{"line":566,"column":54}},"265":{"start":{"line":567,"column":4},"end":{"line":569,"column":5}},"266":{"start":{"line":568,"column":6},"end":{"line":568,"column":65}},"267":{"start":{"line":570,"column":4},"end":{"line":572,"column":10}},"268":{"start":{"line":574,"column":4},"end":{"line":576,"column":6}},"269":{"start":{"line":575,"column":6},"end":{"line":575,"column":97}},"270":{"start":{"line":578,"column":4},"end":{"line":578,"column":53}},"271":{"start":{"line":581,"column":10},"end":{"line":597,"column":3}},"272":{"start":{"line":581,"column":2},"end":{"line":597,"column":3}},"273":{"start":{"line":582,"column":4},"end":{"line":585,"column":15}},"274":{"start":{"line":587,"column":4},"end":{"line":596,"column":6}},"275":{"start":{"line":588,"column":6},"end":{"line":588,"column":85}},"276":{"start":{"line":589,"column":6},"end":{"line":594,"column":7}},"277":{"start":{"line":590,"column":8},"end":{"line":590,"column":70}},"278":{"start":{"line":591,"column":8},"end":{"line":591,"column":71}},"279":{"start":{"line":593,"column":8},"end":{"line":593,"column":57}},"280":{"start":{"line":595,"column":6},"end":{"line":595,"column":123}},"281":{"start":{"line":599,"column":10},"end":{"line":607,"column":3}},"282":{"start":{"line":599,"column":2},"end":{"line":607,"column":3}},"283":{"start":{"line":600,"column":4},"end":{"line":606,"column":6}},"284":{"start":{"line":601,"column":6},"end":{"line":604,"column":7}},"285":{"start":{"line":602,"column":8},"end":{"line":602,"column":45}},"286":{"start":{"line":603,"column":8},"end":{"line":603,"column":46}},"287":{"start":{"line":605,"column":6},"end":{"line":605,"column":34}},"288":{"start":{"line":609,"column":10},"end":{"line":627,"column":3}},"289":{"start":{"line":609,"column":2},"end":{"line":627,"column":3}},"290":{"start":{"line":610,"column":4},"end":{"line":619,"column":7}},"291":{"start":{"line":611,"column":6},"end":{"line":611,"column":41}},"292":{"start":{"line":612,"column":6},"end":{"line":612,"column":50}},"293":{"start":{"line":613,"column":6},"end":{"line":618,"column":8}},"294":{"start":{"line":620,"column":4},"end":{"line":620,"column":39}},"295":{"start":{"line":621,"column":4},"end":{"line":625,"column":7}},"296":{"start":{"line":622,"column":6},"end":{"line":624,"column":7}},"297":{"start":{"line":623,"column":8},"end":{"line":623,"column":52}},"298":{"start":{"line":626,"column":4},"end":{"line":626,"column":25}},"299":{"start":{"line":629,"column":10},"end":{"line":636,"column":3}},"300":{"start":{"line":629,"column":2},"end":{"line":636,"column":3}},"301":{"start":{"line":629,"column":27},"end":{"line":629,"column":61}},"302":{"start":{"line":630,"column":4},"end":{"line":634,"column":7}},"303":{"start":{"line":631,"column":6},"end":{"line":633,"column":7}},"304":{"start":{"line":632,"column":8},"end":{"line":632,"column":79}},"305":{"start":{"line":635,"column":4},"end":{"line":635,"column":38}},"306":{"start":{"line":638,"column":10},"end":{"line":695,"column":3}},"307":{"start":{"line":638,"column":2},"end":{"line":695,"column":3}},"308":{"start":{"line":639,"column":4},"end":{"line":643,"column":7}},"309":{"start":{"line":640,"column":6},"end":{"line":640,"column":117}},"310":{"start":{"line":641,"column":6},"end":{"line":641,"column":112}},"311":{"start":{"line":642,"column":6},"end":{"line":642,"column":60}},"312":{"start":{"line":644,"column":4},"end":{"line":680,"column":7}},"313":{"start":{"line":645,"column":6},"end":{"line":654,"column":8}},"314":{"start":{"line":646,"column":8},"end":{"line":646,"column":113}},"315":{"start":{"line":648,"column":8},"end":{"line":653,"column":9}},"316":{"start":{"line":656,"column":6},"end":{"line":658,"column":16}},"317":{"start":{"line":657,"column":8},"end":{"line":657,"column":82}},"318":{"start":{"line":660,"column":6},"end":{"line":660,"column":90}},"319":{"start":{"line":661,"column":6},"end":{"line":661,"column":45}},"320":{"start":{"line":662,"column":6},"end":{"line":664,"column":7}},"321":{"start":{"line":663,"column":8},"end":{"line":663,"column":92}},"322":{"start":{"line":665,"column":6},"end":{"line":679,"column":9}},"323":{"start":{"line":682,"column":4},"end":{"line":694,"column":14}},"324":{"start":{"line":684,"column":8},"end":{"line":684,"column":62}},"325":{"start":{"line":685,"column":8},"end":{"line":689,"column":9}},"326":{"start":{"line":686,"column":10},"end":{"line":686,"column":71}},"327":{"start":{"line":688,"column":10},"end":{"line":688,"column":23}},"328":{"start":{"line":692,"column":8},"end":{"line":692,"column":49}},"329":{"start":{"line":697,"column":10},"end":{"line":703,"column":3}},"330":{"start":{"line":698,"column":4},"end":{"line":698,"column":107}},"331":{"start":{"line":699,"column":4},"end":{"line":701,"column":5}},"332":{"start":{"line":700,"column":6},"end":{"line":700,"column":78}},"333":{"start":{"line":702,"column":4},"end":{"line":702,"column":21}},"334":{"start":{"line":705,"column":10},"end":{"line":713,"column":3}},"335":{"start":{"line":706,"column":4},"end":{"line":706,"column":39}},"336":{"start":{"line":707,"column":4},"end":{"line":712,"column":5}},"337":{"start":{"line":708,"column":6},"end":{"line":708,"column":41}},"338":{"start":{"line":710,"column":6},"end":{"line":710,"column":71}},"339":{"start":{"line":711,"column":6},"end":{"line":711,"column":87}},"340":{"start":{"line":715,"column":10},"end":{"line":717,"column":3}},"341":{"start":{"line":716,"column":4},"end":{"line":716,"column":96}},"342":{"start":{"line":719,"column":10},"end":{"line":721,"column":3}},"343":{"start":{"line":720,"column":4},"end":{"line":720,"column":93}},"344":{"start":{"line":723,"column":10},"end":{"line":727,"column":3}},"345":{"start":{"line":723,"column":2},"end":{"line":727,"column":3}},"346":{"start":{"line":724,"column":4},"end":{"line":726,"column":6}},"347":{"start":{"line":725,"column":6},"end":{"line":725,"column":33}},"348":{"start":{"line":729,"column":10},"end":{"line":733,"column":3}},"349":{"start":{"line":729,"column":2},"end":{"line":733,"column":3}},"350":{"start":{"line":730,"column":4},"end":{"line":732,"column":6}},"351":{"start":{"line":731,"column":6},"end":{"line":731,"column":33}},"352":{"start":{"line":735,"column":10},"end":{"line":740,"column":3}},"353":{"start":{"line":736,"column":4},"end":{"line":736,"column":40}},"354":{"start":{"line":737,"column":4},"end":{"line":739,"column":7}},"355":{"start":{"line":738,"column":6},"end":{"line":738,"column":29}},"356":{"start":{"line":742,"column":10},"end":{"line":747,"column":3}},"357":{"start":{"line":743,"column":4},"end":{"line":743,"column":36}},"358":{"start":{"line":744,"column":4},"end":{"line":746,"column":7}},"359":{"start":{"line":745,"column":6},"end":{"line":745,"column":29}},"360":{"start":{"line":749,"column":10},"end":{"line":753,"column":3}},"361":{"start":{"line":750,"column":4},"end":{"line":752,"column":7}},"362":{"start":{"line":751,"column":6},"end":{"line":751,"column":29}},"363":{"start":{"line":755,"column":10},"end":{"line":759,"column":3}},"364":{"start":{"line":756,"column":4},"end":{"line":758,"column":7}},"365":{"start":{"line":757,"column":6},"end":{"line":757,"column":29}},"366":{"start":{"line":761,"column":10},"end":{"line":768,"column":3}},"367":{"start":{"line":762,"column":4},"end":{"line":767,"column":5}},"368":{"start":{"line":763,"column":6},"end":{"line":763,"column":42}},"369":{"start":{"line":764,"column":6},"end":{"line":766,"column":7}},"370":{"start":{"line":765,"column":8},"end":{"line":765,"column":81}},"371":{"start":{"line":770,"column":10},"end":{"line":774,"column":3}},"372":{"start":{"line":771,"column":4},"end":{"line":773,"column":5}},"373":{"start":{"line":772,"column":6},"end":{"line":772,"column":51}},"374":{"start":{"line":776,"column":10},"end":{"line":783,"column":3}},"375":{"start":{"line":777,"column":4},"end":{"line":777,"column":39}},"376":{"start":{"line":778,"column":4},"end":{"line":782,"column":5}},"377":{"start":{"line":779,"column":6},"end":{"line":779,"column":78}},"378":{"start":{"line":780,"column":6},"end":{"line":780,"column":48}},"379":{"start":{"line":781,"column":6},"end":{"line":781,"column":40}},"380":{"start":{"line":785,"column":10},"end":{"line":802,"column":3}},"381":{"start":{"line":785,"column":2},"end":{"line":802,"column":3}},"382":{"start":{"line":786,"column":4},"end":{"line":786,"column":39}},"383":{"start":{"line":787,"column":4},"end":{"line":801,"column":5}},"384":{"start":{"line":788,"column":6},"end":{"line":788,"column":77}},"385":{"start":{"line":789,"column":6},"end":{"line":795,"column":8}},"386":{"start":{"line":790,"column":8},"end":{"line":790,"column":78}},"387":{"start":{"line":791,"column":8},"end":{"line":794,"column":9}},"388":{"start":{"line":792,"column":10},"end":{"line":793,"column":131}},"389":{"start":{"line":797,"column":6},"end":{"line":799,"column":7}},"390":{"start":{"line":798,"column":8},"end":{"line":798,"column":51}},"391":{"start":{"line":800,"column":6},"end":{"line":800,"column":40}},"392":{"start":{"line":804,"column":9},"end":{"line":807,"column":3}},"393":{"start":{"line":805,"column":4},"end":{"line":805,"column":67}},"394":{"start":{"line":806,"column":4},"end":{"line":806,"column":42}},"395":{"start":{"line":809,"column":10},"end":{"line":811,"column":3}},"396":{"start":{"line":810,"column":4},"end":{"line":810,"column":56}},"397":{"start":{"line":813,"column":10},"end":{"line":815,"column":3}},"398":{"start":{"line":814,"column":4},"end":{"line":814,"column":44}},"399":{"start":{"line":817,"column":10},"end":{"line":824,"column":3}},"400":{"start":{"line":818,"column":4},"end":{"line":818,"column":47}},"401":{"start":{"line":819,"column":4},"end":{"line":823,"column":5}},"402":{"start":{"line":820,"column":6},"end":{"line":820,"column":37}},"403":{"start":{"line":822,"column":6},"end":{"line":822,"column":26}},"404":{"start":{"line":826,"column":10},"end":{"line":833,"column":3}},"405":{"start":{"line":827,"column":4},"end":{"line":827,"column":58}},"406":{"start":{"line":828,"column":4},"end":{"line":832,"column":5}},"407":{"start":{"line":829,"column":6},"end":{"line":829,"column":45}},"408":{"start":{"line":831,"column":6},"end":{"line":831,"column":23}},"409":{"start":{"line":835,"column":10},"end":{"line":837,"column":3}},"410":{"start":{"line":836,"column":4},"end":{"line":836,"column":73}},"411":{"start":{"line":839,"column":10},"end":{"line":844,"column":3}},"412":{"start":{"line":840,"column":4},"end":{"line":842,"column":5}},"413":{"start":{"line":841,"column":6},"end":{"line":841,"column":30}},"414":{"start":{"line":843,"column":4},"end":{"line":843,"column":31}},"415":{"start":{"line":846,"column":10},"end":{"line":850,"column":3}},"416":{"start":{"line":847,"column":4},"end":{"line":849,"column":5}},"417":{"start":{"line":848,"column":6},"end":{"line":848,"column":51}},"418":{"start":{"line":852,"column":10},"end":{"line":857,"column":3}},"419":{"start":{"line":853,"column":4},"end":{"line":855,"column":5}},"420":{"start":{"line":854,"column":6},"end":{"line":854,"column":23}},"421":{"start":{"line":856,"column":4},"end":{"line":856,"column":50}},"422":{"start":{"line":859,"column":10},"end":{"line":864,"column":3}},"423":{"start":{"line":860,"column":4},"end":{"line":862,"column":5}},"424":{"start":{"line":861,"column":6},"end":{"line":861,"column":30}},"425":{"start":{"line":863,"column":4},"end":{"line":863,"column":51}},"426":{"start":{"line":866,"column":10},"end":{"line":876,"column":3}},"427":{"start":{"line":866,"column":2},"end":{"line":876,"column":3}},"428":{"start":{"line":867,"column":4},"end":{"line":875,"column":6}},"429":{"start":{"line":868,"column":6},"end":{"line":874,"column":7}},"430":{"start":{"line":869,"column":8},"end":{"line":873,"column":9}},"431":{"start":{"line":870,"column":10},"end":{"line":870,"column":153}},"432":{"start":{"line":871,"column":10},"end":{"line":871,"column":86}},"433":{"start":{"line":872,"column":10},"end":{"line":872,"column":33}},"434":{"start":{"line":75,"column":9},"end":{"line":75,"column":34}},"435":{"start":{"line":80,"column":9},"end":{"line":112,"column":3}},"436":{"start":{"line":114,"column":9},"end":{"line":114,"column":24}},"437":{"start":{"line":877,"column":0},"end":{"line":877,"column":1}},"438":{"start":{"line":74,"column":13},"end":{"line":877,"column":1}},"439":{"start":{"line":878,"column":0},"end":{"line":878,"column":62}}},"fnMap":{"1":{"name":"(anonymous_5334)","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":77}}},"2":{"name":"(anonymous_5337)","line":74,"loc":{"start":{"line":74,"column":0},"end":{"line":null,"column":-1}}},"3":{"name":"HierarchicalFacet","line":132,"loc":{"start":{"line":132,"column":2},"end":{"line":132,"column":121}}},"4":{"name":"(anonymous_5339)","line":149,"loc":{"start":{"line":149,"column":2},"end":{"line":149,"column":68}}},"5":{"name":"(anonymous_5340)","line":167,"loc":{"start":{"line":167,"column":2},"end":{"line":167,"column":80}}},"6":{"name":"(anonymous_5341)","line":170,"loc":{"start":{"line":170,"column":19},"end":{"line":170,"column":25}}},"7":{"name":"(anonymous_5342)","line":174,"loc":{"start":{"line":174,"column":38},"end":{"line":174,"column":44}}},"8":{"name":"(anonymous_5343)","line":189,"loc":{"start":{"line":189,"column":2},"end":{"line":189,"column":56}}},"9":{"name":"(anonymous_5344)","line":196,"loc":{"start":{"line":196,"column":76},"end":{"line":196,"column":82}}},"10":{"name":"(anonymous_5345)","line":218,"loc":{"start":{"line":218,"column":2},"end":{"line":218,"column":70}}},"11":{"name":"(anonymous_5346)","line":239,"loc":{"start":{"line":239,"column":2},"end":{"line":239,"column":73}}},"12":{"name":"(anonymous_5347)","line":257,"loc":{"start":{"line":257,"column":2},"end":{"line":257,"column":84}}},"13":{"name":"(anonymous_5348)","line":260,"loc":{"start":{"line":260,"column":19},"end":{"line":260,"column":25}}},"14":{"name":"(anonymous_5349)","line":265,"loc":{"start":{"line":265,"column":38},"end":{"line":265,"column":44}}},"15":{"name":"(anonymous_5350)","line":281,"loc":{"start":{"line":281,"column":2},"end":{"line":281,"column":37}}},"16":{"name":"(anonymous_5351)","line":297,"loc":{"start":{"line":297,"column":2},"end":{"line":297,"column":38}}},"17":{"name":"(anonymous_5352)","line":313,"loc":{"start":{"line":313,"column":2},"end":{"line":313,"column":40}}},"18":{"name":"(anonymous_5353)","line":331,"loc":{"start":{"line":331,"column":2},"end":{"line":null,"column":-1}}},"19":{"name":"(anonymous_5354)","line":332,"loc":{"start":{"line":332,"column":51},"end":{"line":332,"column":53}}},"20":{"name":"(anonymous_5355)","line":347,"loc":{"start":{"line":347,"column":2},"end":{"line":347,"column":36}}},"21":{"name":"(anonymous_5356)","line":359,"loc":{"start":{"line":359,"column":2},"end":{"line":359,"column":24}}},"22":{"name":"(anonymous_5357)","line":385,"loc":{"start":{"line":385,"column":2},"end":{"line":385,"column":25}}},"23":{"name":"(anonymous_5358)","line":397,"loc":{"start":{"line":397,"column":28},"end":{"line":397,"column":51}}},"24":{"name":"(anonymous_5359)","line":407,"loc":{"start":{"line":407,"column":2},"end":{"line":null,"column":-1}}},"25":{"name":"(anonymous_5360)","line":408,"loc":{"start":{"line":408,"column":40},"end":{"line":408,"column":55}}},"26":{"name":"(anonymous_5361)","line":413,"loc":{"start":{"line":413,"column":40},"end":{"line":413,"column":55}}},"27":{"name":"(anonymous_5362)","line":419,"loc":{"start":{"line":419,"column":2},"end":{"line":419,"column":71}}},"28":{"name":"(anonymous_5363)","line":424,"loc":{"start":{"line":424,"column":2},"end":{"line":424,"column":62}}},"29":{"name":"(anonymous_5364)","line":430,"loc":{"start":{"line":430,"column":2},"end":{"line":null,"column":-1}}},"30":{"name":"(anonymous_5365)","line":432,"loc":{"start":{"line":432,"column":16},"end":{"line":null,"column":-1}}},"31":{"name":"(anonymous_5366)","line":438,"loc":{"start":{"line":438,"column":2},"end":{"line":null,"column":-1}}},"32":{"name":"(anonymous_5367)","line":442,"loc":{"start":{"line":442,"column":2},"end":{"line":null,"column":-1}}},"33":{"name":"(anonymous_5368)","line":447,"loc":{"start":{"line":447,"column":2},"end":{"line":447,"column":67}}},"34":{"name":"(anonymous_5369)","line":452,"loc":{"start":{"line":452,"column":2},"end":{"line":452,"column":71}}},"35":{"name":"(anonymous_5370)","line":462,"loc":{"start":{"line":462,"column":2},"end":{"line":462,"column":76}}},"36":{"name":"(anonymous_5371)","line":464,"loc":{"start":{"line":464,"column":79},"end":{"line":464,"column":93}}},"37":{"name":"(anonymous_5372)","line":467,"loc":{"start":{"line":467,"column":45},"end":{"line":467,"column":55}}},"38":{"name":"(anonymous_5373)","line":478,"loc":{"start":{"line":478,"column":2},"end":{"line":null,"column":-1}}},"39":{"name":"(anonymous_5374)","line":488,"loc":{"start":{"line":488,"column":2},"end":{"line":null,"column":-1}}},"40":{"name":"(anonymous_5375)","line":493,"loc":{"start":{"line":493,"column":2},"end":{"line":null,"column":-1}}},"41":{"name":"(anonymous_5376)","line":499,"loc":{"start":{"line":499,"column":2},"end":{"line":null,"column":-1}}},"42":{"name":"(anonymous_5377)","line":506,"loc":{"start":{"line":506,"column":2},"end":{"line":null,"column":-1}}},"43":{"name":"(anonymous_5378)","line":512,"loc":{"start":{"line":512,"column":2},"end":{"line":null,"column":-1}}},"44":{"name":"(anonymous_5379)","line":516,"loc":{"start":{"line":516,"column":2},"end":{"line":516,"column":53}}},"45":{"name":"(anonymous_5380)","line":518,"loc":{"start":{"line":518,"column":39},"end":{"line":518,"column":53}}},"46":{"name":"(anonymous_5381)","line":523,"loc":{"start":{"line":523,"column":24},"end":{"line":523,"column":47}}},"47":{"name":"(anonymous_5382)","line":533,"loc":{"start":{"line":533,"column":2},"end":{"line":null,"column":-1}}},"48":{"name":"(anonymous_5383)","line":535,"loc":{"start":{"line":535,"column":56},"end":{"line":535,"column":83}}},"49":{"name":"(anonymous_5384)","line":541,"loc":{"start":{"line":541,"column":75},"end":{"line":541,"column":99}}},"50":{"name":"(anonymous_5385)","line":545,"loc":{"start":{"line":545,"column":54},"end":{"line":545,"column":78}}},"51":{"name":"(anonymous_5386)","line":550,"loc":{"start":{"line":550,"column":2},"end":{"line":550,"column":95}}},"52":{"name":"(anonymous_5387)","line":551,"loc":{"start":{"line":551,"column":39},"end":{"line":551,"column":45}}},"53":{"name":"(anonymous_5388)","line":565,"loc":{"start":{"line":565,"column":2},"end":{"line":565,"column":96}}},"54":{"name":"(anonymous_5389)","line":574,"loc":{"start":{"line":574,"column":39},"end":{"line":null,"column":-1}}},"55":{"name":"(anonymous_5390)","line":581,"loc":{"start":{"line":581,"column":2},"end":{"line":null,"column":-1}}},"56":{"name":"(anonymous_5391)","line":587,"loc":{"start":{"line":587,"column":24},"end":{"line":587,"column":51}}},"57":{"name":"(anonymous_5392)","line":599,"loc":{"start":{"line":599,"column":2},"end":{"line":null,"column":-1}}},"58":{"name":"(anonymous_5393)","line":600,"loc":{"start":{"line":600,"column":74},"end":{"line":600,"column":84}}},"59":{"name":"(anonymous_5394)","line":609,"loc":{"start":{"line":609,"column":2},"end":{"line":609,"column":57}}},"60":{"name":"(anonymous_5395)","line":610,"loc":{"start":{"line":610,"column":49},"end":{"line":610,"column":67}}},"61":{"name":"(anonymous_5396)","line":621,"loc":{"start":{"line":621,"column":40},"end":{"line":621,"column":55}}},"62":{"name":"(anonymous_5397)","line":629,"loc":{"start":{"line":629,"column":2},"end":{"line":629,"column":61}}},"63":{"name":"(anonymous_5398)","line":630,"loc":{"start":{"line":630,"column":40},"end":{"line":630,"column":67}}},"64":{"name":"(anonymous_5399)","line":638,"loc":{"start":{"line":638,"column":2},"end":{"line":638,"column":56}}},"65":{"name":"(anonymous_5400)","line":639,"loc":{"start":{"line":639,"column":65},"end":{"line":639,"column":75}}},"66":{"name":"(anonymous_5401)","line":644,"loc":{"start":{"line":644,"column":31},"end":{"line":644,"column":57}}},"67":{"name":"(anonymous_5402)","line":645,"loc":{"start":{"line":645,"column":70},"end":{"line":645,"column":84}}},"68":{"name":"(anonymous_5403)","line":647,"loc":{"start":{"line":647,"column":10},"end":{"line":647,"column":16}}},"69":{"name":"(anonymous_5404)","line":656,"loc":{"start":{"line":656,"column":89},"end":{"line":656,"column":104}}},"70":{"name":"(anonymous_5405)","line":683,"loc":{"start":{"line":683,"column":14},"end":{"line":683,"column":32}}},"71":{"name":"(anonymous_5406)","line":691,"loc":{"start":{"line":691,"column":11},"end":{"line":691,"column":29}}},"72":{"name":"(anonymous_5407)","line":697,"loc":{"start":{"line":697,"column":2},"end":{"line":697,"column":37}}},"73":{"name":"(anonymous_5408)","line":705,"loc":{"start":{"line":705,"column":2},"end":{"line":705,"column":35}}},"74":{"name":"(anonymous_5409)","line":715,"loc":{"start":{"line":715,"column":2},"end":{"line":715,"column":47}}},"75":{"name":"(anonymous_5410)","line":719,"loc":{"start":{"line":719,"column":2},"end":{"line":719,"column":47}}},"76":{"name":"(anonymous_5411)","line":723,"loc":{"start":{"line":723,"column":2},"end":{"line":723,"column":48}}},"77":{"name":"(anonymous_5412)","line":724,"loc":{"start":{"line":724,"column":21},"end":{"line":724,"column":27}}},"78":{"name":"(anonymous_5413)","line":729,"loc":{"start":{"line":729,"column":2},"end":{"line":729,"column":48}}},"79":{"name":"(anonymous_5414)","line":730,"loc":{"start":{"line":730,"column":21},"end":{"line":730,"column":27}}},"80":{"name":"(anonymous_5415)","line":735,"loc":{"start":{"line":735,"column":2},"end":{"line":735,"column":75}}},"81":{"name":"(anonymous_5416)","line":737,"loc":{"start":{"line":737,"column":46},"end":{"line":737,"column":52}}},"82":{"name":"(anonymous_5417)","line":742,"loc":{"start":{"line":742,"column":2},"end":{"line":742,"column":77}}},"83":{"name":"(anonymous_5418)","line":744,"loc":{"start":{"line":744,"column":48},"end":{"line":744,"column":54}}},"84":{"name":"(anonymous_5419)","line":749,"loc":{"start":{"line":749,"column":2},"end":{"line":749,"column":51}}},"85":{"name":"(anonymous_5420)","line":750,"loc":{"start":{"line":750,"column":47},"end":{"line":750,"column":53}}},"86":{"name":"(anonymous_5421)","line":755,"loc":{"start":{"line":755,"column":2},"end":{"line":755,"column":53}}},"87":{"name":"(anonymous_5422)","line":756,"loc":{"start":{"line":756,"column":49},"end":{"line":756,"column":55}}},"88":{"name":"(anonymous_5423)","line":761,"loc":{"start":{"line":761,"column":2},"end":{"line":761,"column":46}}},"89":{"name":"(anonymous_5424)","line":770,"loc":{"start":{"line":770,"column":2},"end":{"line":770,"column":48}}},"90":{"name":"(anonymous_5425)","line":776,"loc":{"start":{"line":776,"column":2},"end":{"line":776,"column":64}}},"91":{"name":"(anonymous_5426)","line":785,"loc":{"start":{"line":785,"column":2},"end":{"line":785,"column":66}}},"92":{"name":"(anonymous_5427)","line":789,"loc":{"start":{"line":789,"column":84},"end":{"line":789,"column":90}}},"93":{"name":"(anonymous_5428)","line":804,"loc":{"start":{"line":804,"column":2},"end":{"line":804,"column":41}}},"94":{"name":"(anonymous_5429)","line":809,"loc":{"start":{"line":809,"column":2},"end":{"line":809,"column":47}}},"95":{"name":"(anonymous_5430)","line":813,"loc":{"start":{"line":813,"column":2},"end":{"line":813,"column":44}}},"96":{"name":"(anonymous_5431)","line":817,"loc":{"start":{"line":817,"column":2},"end":{"line":817,"column":49}}},"97":{"name":"(anonymous_5432)","line":826,"loc":{"start":{"line":826,"column":2},"end":{"line":826,"column":42}}},"98":{"name":"(anonymous_5433)","line":835,"loc":{"start":{"line":835,"column":2},"end":{"line":835,"column":36}}},"99":{"name":"(anonymous_5434)","line":839,"loc":{"start":{"line":839,"column":2},"end":{"line":null,"column":-1}}},"100":{"name":"(anonymous_5435)","line":846,"loc":{"start":{"line":846,"column":2},"end":{"line":846,"column":42}}},"101":{"name":"(anonymous_5436)","line":852,"loc":{"start":{"line":852,"column":2},"end":{"line":852,"column":39}}},"102":{"name":"(anonymous_5437)","line":859,"loc":{"start":{"line":859,"column":2},"end":{"line":859,"column":63}}},"103":{"name":"(anonymous_5438)","line":866,"loc":{"start":{"line":866,"column":2},"end":{"line":null,"column":-1}}},"104":{"name":"(anonymous_5439)","line":867,"loc":{"start":{"line":867,"column":32},"end":{"line":867,"column":51}}}},"branchMap":{"1":{"line":135,"type":"binary-expr","locations":[{"start":{"line":135,"column":69},"end":{"line":135,"column":96}},{"start":{"line":135,"column":100},"end":{"line":135,"column":101}}]},"2":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":33},"end":{"line":149,"column":32}},{"start":{"line":149,"column":33},"end":{"line":149,"column":32}}]},"3":{"line":153,"type":"if","locations":[{"start":{"line":153,"column":4},"end":{"line":153,"column":3}},{"start":{"line":153,"column":4},"end":{"line":153,"column":3}}]},"4":{"line":167,"type":"if","locations":[{"start":{"line":167,"column":45},"end":{"line":167,"column":44}},{"start":{"line":167,"column":45},"end":{"line":167,"column":44}}]},"5":{"line":173,"type":"if","locations":[{"start":{"line":173,"column":6},"end":{"line":173,"column":5}},{"start":{"line":173,"column":6},"end":{"line":173,"column":5}}]},"6":{"line":189,"type":"if","locations":[{"start":{"line":189,"column":35},"end":{"line":189,"column":34}},{"start":{"line":189,"column":35},"end":{"line":189,"column":34}}]},"7":{"line":193,"type":"if","locations":[{"start":{"line":193,"column":4},"end":{"line":193,"column":3}},{"start":{"line":193,"column":4},"end":{"line":193,"column":3}}]},"8":{"line":195,"type":"if","locations":[{"start":{"line":195,"column":6},"end":{"line":195,"column":5}},{"start":{"line":195,"column":6},"end":{"line":195,"column":5}}]},"9":{"line":198,"type":"binary-expr","locations":[{"start":{"line":198,"column":17},"end":{"line":198,"column":40}},{"start":{"line":198,"column":44},"end":{"line":198,"column":67}}]},"10":{"line":201,"type":"if","locations":[{"start":{"line":201,"column":8},"end":{"line":201,"column":7}},{"start":{"line":201,"column":8},"end":{"line":201,"column":7}}]},"11":{"line":218,"type":"if","locations":[{"start":{"line":218,"column":34},"end":{"line":218,"column":33}},{"start":{"line":218,"column":34},"end":{"line":218,"column":33}}]},"12":{"line":222,"type":"if","locations":[{"start":{"line":222,"column":4},"end":{"line":222,"column":3}},{"start":{"line":222,"column":4},"end":{"line":222,"column":3}}]},"13":{"line":239,"type":"if","locations":[{"start":{"line":239,"column":36},"end":{"line":239,"column":35}},{"start":{"line":239,"column":36},"end":{"line":239,"column":35}}]},"14":{"line":243,"type":"if","locations":[{"start":{"line":243,"column":4},"end":{"line":243,"column":3}},{"start":{"line":243,"column":4},"end":{"line":243,"column":3}}]},"15":{"line":257,"type":"if","locations":[{"start":{"line":257,"column":47},"end":{"line":257,"column":46}},{"start":{"line":257,"column":47},"end":{"line":257,"column":46}}]},"16":{"line":264,"type":"if","locations":[{"start":{"line":264,"column":6},"end":{"line":264,"column":5}},{"start":{"line":264,"column":6},"end":{"line":264,"column":5}}]},"17":{"line":284,"type":"if","locations":[{"start":{"line":284,"column":4},"end":{"line":284,"column":3}},{"start":{"line":284,"column":4},"end":{"line":284,"column":3}}]},"18":{"line":300,"type":"if","locations":[{"start":{"line":300,"column":4},"end":{"line":300,"column":3}},{"start":{"line":300,"column":4},"end":{"line":300,"column":3}}]},"19":{"line":316,"type":"if","locations":[{"start":{"line":316,"column":4},"end":{"line":316,"column":3}},{"start":{"line":316,"column":4},"end":{"line":316,"column":3}}]},"20":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":6},"end":{"line":317,"column":5}},{"start":{"line":317,"column":6},"end":{"line":317,"column":5}}]},"21":{"line":318,"type":"binary-expr","locations":[{"start":{"line":318,"column":14},"end":{"line":318,"column":52}},{"start":{"line":318,"column":56},"end":{"line":318,"column":59}}]},"22":{"line":320,"type":"if","locations":[{"start":{"line":320,"column":6},"end":{"line":320,"column":5}},{"start":{"line":320,"column":6},"end":{"line":320,"column":5}}]},"23":{"line":334,"type":"if","locations":[{"start":{"line":334,"column":6},"end":{"line":334,"column":5}},{"start":{"line":334,"column":6},"end":{"line":334,"column":5}}]},"24":{"line":361,"type":"if","locations":[{"start":{"line":361,"column":4},"end":{"line":361,"column":3}},{"start":{"line":361,"column":4},"end":{"line":361,"column":3}}]},"25":{"line":363,"type":"if","locations":[{"start":{"line":363,"column":11},"end":{"line":363,"column":10}},{"start":{"line":363,"column":11},"end":{"line":363,"column":10}}]},"26":{"line":368,"type":"if","locations":[{"start":{"line":368,"column":4},"end":{"line":368,"column":3}},{"start":{"line":368,"column":4},"end":{"line":368,"column":3}}]},"27":{"line":371,"type":"if","locations":[{"start":{"line":371,"column":6},"end":{"line":371,"column":5}},{"start":{"line":371,"column":6},"end":{"line":371,"column":5}}]},"28":{"line":387,"type":"if","locations":[{"start":{"line":387,"column":4},"end":{"line":387,"column":3}},{"start":{"line":387,"column":4},"end":{"line":387,"column":3}}]},"29":{"line":389,"type":"if","locations":[{"start":{"line":389,"column":11},"end":{"line":389,"column":10}},{"start":{"line":389,"column":11},"end":{"line":389,"column":10}}]},"30":{"line":394,"type":"if","locations":[{"start":{"line":394,"column":4},"end":{"line":394,"column":3}},{"start":{"line":394,"column":4},"end":{"line":394,"column":3}}]},"31":{"line":424,"type":"if","locations":[{"start":{"line":424,"column":36},"end":{"line":424,"column":35}},{"start":{"line":424,"column":36},"end":{"line":424,"column":35}}]},"32":{"line":454,"type":"if","locations":[{"start":{"line":454,"column":4},"end":{"line":454,"column":3}},{"start":{"line":454,"column":4},"end":{"line":454,"column":3}}]},"33":{"line":469,"type":"cond-expr","locations":[{"start":{"line":469,"column":24},"end":{"line":469,"column":43}},{"start":{"line":469,"column":46},"end":{"line":469,"column":55}}]},"34":{"line":517,"type":"if","locations":[{"start":{"line":517,"column":4},"end":{"line":517,"column":3}},{"start":{"line":517,"column":4},"end":{"line":517,"column":3}}]},"35":{"line":517,"type":"binary-expr","locations":[{"start":{"line":517,"column":8},"end":{"line":517,"column":22}},{"start":{"line":517,"column":26},"end":{"line":517,"column":59}}]},"36":{"line":524,"type":"if","locations":[{"start":{"line":524,"column":6},"end":{"line":524,"column":5}},{"start":{"line":524,"column":6},"end":{"line":524,"column":5}}]},"37":{"line":528,"type":"if","locations":[{"start":{"line":528,"column":4},"end":{"line":528,"column":3}},{"start":{"line":528,"column":4},"end":{"line":528,"column":3}}]},"38":{"line":536,"type":"binary-expr","locations":[{"start":{"line":536,"column":13},"end":{"line":536,"column":42}},{"start":{"line":536,"column":46},"end":{"line":536,"column":75}}]},"39":{"line":552,"type":"if","locations":[{"start":{"line":552,"column":6},"end":{"line":552,"column":5}},{"start":{"line":552,"column":6},"end":{"line":552,"column":5}}]},"40":{"line":557,"type":"if","locations":[{"start":{"line":557,"column":4},"end":{"line":557,"column":3}},{"start":{"line":557,"column":4},"end":{"line":557,"column":3}}]},"41":{"line":567,"type":"if","locations":[{"start":{"line":567,"column":4},"end":{"line":567,"column":3}},{"start":{"line":567,"column":4},"end":{"line":567,"column":3}}]},"42":{"line":575,"type":"cond-expr","locations":[{"start":{"line":575,"column":52},"end":{"line":575,"column":73}},{"start":{"line":575,"column":76},"end":{"line":575,"column":96}}]},"43":{"line":589,"type":"if","locations":[{"start":{"line":589,"column":6},"end":{"line":589,"column":5}},{"start":{"line":589,"column":6},"end":{"line":589,"column":5}}]},"44":{"line":601,"type":"if","locations":[{"start":{"line":601,"column":6},"end":{"line":601,"column":5}},{"start":{"line":601,"column":6},"end":{"line":601,"column":5}}]},"45":{"line":612,"type":"binary-expr","locations":[{"start":{"line":612,"column":17},"end":{"line":612,"column":34}},{"start":{"line":612,"column":38},"end":{"line":612,"column":49}}]},"46":{"line":622,"type":"if","locations":[{"start":{"line":622,"column":6},"end":{"line":622,"column":5}},{"start":{"line":622,"column":6},"end":{"line":622,"column":5}}]},"47":{"line":629,"type":"if","locations":[{"start":{"line":629,"column":27},"end":{"line":629,"column":26}},{"start":{"line":629,"column":27},"end":{"line":629,"column":26}}]},"48":{"line":631,"type":"if","locations":[{"start":{"line":631,"column":6},"end":{"line":631,"column":5}},{"start":{"line":631,"column":6},"end":{"line":631,"column":5}}]},"49":{"line":640,"type":"binary-expr","locations":[{"start":{"line":640,"column":34},"end":{"line":640,"column":70}},{"start":{"line":640,"column":74},"end":{"line":640,"column":116}}]},"50":{"line":641,"type":"binary-expr","locations":[{"start":{"line":641,"column":34},"end":{"line":641,"column":68}},{"start":{"line":641,"column":72},"end":{"line":641,"column":111}}]},"51":{"line":642,"type":"binary-expr","locations":[{"start":{"line":642,"column":13},"end":{"line":642,"column":34}},{"start":{"line":642,"column":38},"end":{"line":642,"column":59}}]},"52":{"line":646,"type":"binary-expr","locations":[{"start":{"line":646,"column":15},"end":{"line":646,"column":43}},{"start":{"line":646,"column":47},"end":{"line":646,"column":113}}]},"53":{"line":656,"type":"cond-expr","locations":[{"start":{"line":656,"column":46},"end":{"line":658,"column":8}},{"start":{"line":658,"column":11},"end":{"line":658,"column":15}}]},"54":{"line":662,"type":"if","locations":[{"start":{"line":662,"column":6},"end":{"line":662,"column":5}},{"start":{"line":662,"column":6},"end":{"line":662,"column":5}}]},"55":{"line":667,"type":"cond-expr","locations":[{"start":{"line":667,"column":38},"end":{"line":667,"column":47}},{"start":{"line":667,"column":50},"end":{"line":673,"column":9}}]},"56":{"line":670,"type":"cond-expr","locations":[{"start":{"line":670,"column":59},"end":{"line":670,"column":104}},{"start":{"line":670,"column":107},"end":{"line":670,"column":112}}]},"57":{"line":671,"type":"cond-expr","locations":[{"start":{"line":671,"column":65},"end":{"line":671,"column":116}},{"start":{"line":671,"column":119},"end":{"line":671,"column":124}}]},"58":{"line":672,"type":"cond-expr","locations":[{"start":{"line":672,"column":65},"end":{"line":672,"column":116}},{"start":{"line":672,"column":119},"end":{"line":672,"column":128}}]},"59":{"line":676,"type":"cond-expr","locations":[{"start":{"line":676,"column":49},"end":{"line":676,"column":86}},{"start":{"line":676,"column":89},"end":{"line":676,"column":94}}]},"60":{"line":677,"type":"cond-expr","locations":[{"start":{"line":677,"column":55},"end":{"line":677,"column":98}},{"start":{"line":677,"column":101},"end":{"line":677,"column":106}}]},"61":{"line":678,"type":"cond-expr","locations":[{"start":{"line":678,"column":55},"end":{"line":678,"column":98}},{"start":{"line":678,"column":101},"end":{"line":678,"column":110}}]},"62":{"line":685,"type":"if","locations":[{"start":{"line":685,"column":8},"end":{"line":685,"column":7}},{"start":{"line":685,"column":8},"end":{"line":685,"column":7}}]},"63":{"line":686,"type":"binary-expr","locations":[{"start":{"line":686,"column":41},"end":{"line":686,"column":64}},{"start":{"line":686,"column":68},"end":{"line":686,"column":69}}]},"64":{"line":699,"type":"if","locations":[{"start":{"line":699,"column":4},"end":{"line":699,"column":3}},{"start":{"line":699,"column":4},"end":{"line":699,"column":3}}]},"65":{"line":707,"type":"if","locations":[{"start":{"line":707,"column":4},"end":{"line":707,"column":3}},{"start":{"line":707,"column":4},"end":{"line":707,"column":3}}]},"66":{"line":762,"type":"if","locations":[{"start":{"line":762,"column":4},"end":{"line":762,"column":3}},{"start":{"line":762,"column":4},"end":{"line":762,"column":3}}]},"67":{"line":764,"type":"if","locations":[{"start":{"line":764,"column":6},"end":{"line":764,"column":5}},{"start":{"line":764,"column":6},"end":{"line":764,"column":5}}]},"68":{"line":771,"type":"if","locations":[{"start":{"line":771,"column":4},"end":{"line":771,"column":3}},{"start":{"line":771,"column":4},"end":{"line":771,"column":3}}]},"69":{"line":791,"type":"if","locations":[{"start":{"line":791,"column":8},"end":{"line":791,"column":7}},{"start":{"line":791,"column":8},"end":{"line":791,"column":7}}]},"70":{"line":792,"type":"binary-expr","locations":[{"start":{"line":792,"column":17},"end":{"line":792,"column":85}},{"start":{"line":793,"column":16},"end":{"line":793,"column":52}},{"start":{"line":793,"column":56},"end":{"line":793,"column":92}},{"start":{"line":793,"column":96},"end":{"line":793,"column":129}}]},"71":{"line":797,"type":"if","locations":[{"start":{"line":797,"column":6},"end":{"line":797,"column":5}},{"start":{"line":797,"column":6},"end":{"line":797,"column":5}}]},"72":{"line":805,"type":"cond-expr","locations":[{"start":{"line":805,"column":47},"end":{"line":805,"column":58}},{"start":{"line":805,"column":61},"end":{"line":805,"column":66}}]},"73":{"line":814,"type":"binary-expr","locations":[{"start":{"line":814,"column":11},"end":{"line":814,"column":28}},{"start":{"line":814,"column":32},"end":{"line":814,"column":43}}]},"74":{"line":819,"type":"if","locations":[{"start":{"line":819,"column":4},"end":{"line":819,"column":3}},{"start":{"line":819,"column":4},"end":{"line":819,"column":3}}]},"75":{"line":828,"type":"if","locations":[{"start":{"line":828,"column":4},"end":{"line":828,"column":3}},{"start":{"line":828,"column":4},"end":{"line":828,"column":3}}]},"76":{"line":840,"type":"if","locations":[{"start":{"line":840,"column":4},"end":{"line":840,"column":3}},{"start":{"line":840,"column":4},"end":{"line":840,"column":3}}]},"77":{"line":847,"type":"if","locations":[{"start":{"line":847,"column":4},"end":{"line":847,"column":3}},{"start":{"line":847,"column":4},"end":{"line":847,"column":3}}]},"78":{"line":853,"type":"if","locations":[{"start":{"line":853,"column":4},"end":{"line":853,"column":3}},{"start":{"line":853,"column":4},"end":{"line":853,"column":3}}]},"79":{"line":860,"type":"if","locations":[{"start":{"line":860,"column":4},"end":{"line":860,"column":3}},{"start":{"line":860,"column":4},"end":{"line":860,"column":3}}]},"80":{"line":868,"type":"if","locations":[{"start":{"line":868,"column":6},"end":{"line":868,"column":5}},{"start":{"line":868,"column":6},"end":{"line":868,"column":5}}]},"81":{"line":869,"type":"if","locations":[{"start":{"line":869,"column":8},"end":{"line":869,"column":7}},{"start":{"line":869,"column":8},"end":{"line":869,"column":7}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":15,"20":15,"21":15,"22":15,"23":15,"24":15,"25":15,"26":15,"27":15,"28":15,"29":15,"30":1,"31":14,"32":7,"33":7,"34":7,"35":7,"36":7,"37":7,"38":7,"39":1,"40":7,"41":14,"42":7,"43":7,"44":7,"45":3,"46":3,"47":3,"48":3,"49":0,"50":7,"51":1,"52":8,"53":12,"54":8,"55":8,"56":8,"57":8,"58":4,"59":4,"60":4,"61":0,"62":0,"63":4,"64":4,"65":4,"66":8,"67":8,"68":8,"69":1,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":1,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":1,"90":4,"91":8,"92":4,"93":4,"94":4,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":4,"104":1,"105":0,"106":0,"107":0,"108":0,"109":0,"110":1,"111":0,"112":0,"113":0,"114":0,"115":0,"116":1,"117":490,"118":490,"119":490,"120":0,"121":0,"122":0,"123":0,"124":490,"125":1,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":1,"135":0,"136":0,"137":1,"138":5,"139":5,"140":4,"141":1,"142":0,"143":1,"144":5,"145":4,"146":4,"147":4,"148":0,"149":4,"150":1,"151":18,"152":18,"153":18,"154":1,"155":17,"156":0,"157":17,"158":18,"159":18,"160":18,"161":18,"162":9,"163":18,"164":1,"165":1,"166":1,"167":8,"168":1,"169":8,"170":1,"171":1,"172":0,"173":0,"174":1,"175":27,"176":27,"177":1,"178":26,"179":26,"180":26,"181":26,"182":1,"183":15,"184":1,"185":15,"186":15,"187":1,"188":26,"189":26,"190":1,"191":2,"192":2,"193":2,"194":2,"195":1,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":1,"206":27,"207":27,"208":27,"209":27,"210":27,"211":27,"212":27,"213":1,"214":15,"215":15,"216":1,"217":27,"218":27,"219":27,"220":1,"221":0,"222":0,"223":0,"224":0,"225":1,"226":0,"227":0,"228":0,"229":1,"230":68,"231":1,"232":26,"233":26,"234":11,"235":11,"236":26,"237":26,"238":18,"239":1,"240":26,"241":1,"242":1,"243":27,"244":27,"245":53,"246":27,"247":27,"248":1,"249":1,"250":27,"251":51,"252":1,"253":53,"254":53,"255":159,"256":159,"257":159,"258":53,"259":1,"260":1,"261":52,"262":1,"263":53,"264":53,"265":53,"266":5,"267":53,"268":53,"269":0,"270":53,"271":1,"272":27,"273":27,"274":27,"275":215,"276":215,"277":53,"278":53,"279":162,"280":215,"281":1,"282":27,"283":27,"284":215,"285":0,"286":0,"287":215,"288":1,"289":28,"290":28,"291":216,"292":216,"293":216,"294":28,"295":28,"296":224,"297":9,"298":28,"299":1,"300":28,"301":55,"302":28,"303":104,"304":1,"305":28,"306":1,"307":28,"308":28,"309":216,"310":216,"311":216,"312":28,"313":216,"314":1714,"315":159,"316":216,"317":516,"318":216,"319":216,"320":216,"321":159,"322":216,"323":28,"324":223,"325":223,"326":223,"327":0,"328":55,"329":1,"330":871,"331":871,"332":653,"333":218,"334":1,"335":490,"336":490,"337":164,"338":326,"339":326,"340":1,"341":66,"342":1,"343":172,"344":1,"345":71,"346":71,"347":168,"348":1,"349":5,"350":5,"351":15,"352":1,"353":7,"354":7,"355":3,"356":1,"357":4,"358":4,"359":0,"360":1,"361":0,"362":0,"363":1,"364":0,"365":0,"366":1,"367":0,"368":0,"369":0,"370":0,"371":1,"372":8,"373":4,"374":1,"375":26,"376":26,"377":21,"378":21,"379":21,"380":1,"381":8,"382":8,"383":8,"384":4,"385":4,"386":12,"387":12,"388":12,"389":4,"390":3,"391":4,"392":1,"393":930,"394":930,"395":1,"396":0,"397":1,"398":2341,"399":1,"400":634,"401":634,"402":634,"403":0,"404":1,"405":634,"406":634,"407":634,"408":0,"409":1,"410":431,"411":1,"412":87,"413":15,"414":87,"415":1,"416":1,"417":1,"418":1,"419":1717,"420":0,"421":1717,"422":1,"423":216,"424":0,"425":216,"426":1,"427":27,"428":27,"429":215,"430":162,"431":3,"432":3,"433":3,"434":1,"435":1,"436":1,"437":1,"438":1,"439":1},"b":{"1":[15,0],"2":[7,0],"3":[7,0],"4":[7,0],"5":[3,0],"6":[4,4],"7":[4,4],"8":[4,0],"9":[0,0],"10":[4,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[4,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,490],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[4,1],"25":[0,1],"26":[4,1],"27":[0,4],"28":[1,17],"29":[0,17],"30":[18,0],"31":[0,27],"32":[2,0],"33":[0,0],"34":[11,15],"35":[26,16],"36":[1,17],"37":[1,25],"38":[53,52],"39":[159,0],"40":[1,52],"41":[5,48],"42":[0,0],"43":[53,162],"44":[0,215],"45":[216,0],"46":[9,215],"47":[27,1],"48":[1,103],"49":[216,216],"50":[216,0],"51":[216,216],"52":[1714,1290],"53":[162,54],"54":[159,57],"55":[57,159],"56":[159,0],"57":[159,0],"58":[159,0],"59":[95,121],"60":[95,121],"61":[95,121],"62":[223,0],"63":[223,223],"64":[653,218],"65":[164,326],"66":[0,0],"67":[0,0],"68":[4,4],"69":[12,0],"70":[12,8,7,7],"71":[3,1],"72":[677,253],"73":[2341,0],"74":[634,0],"75":[634,0],"76":[15,72],"77":[1,0],"78":[0,1717],"79":[0,216],"80":[162,53],"81":[3,159]},"f":{"1":1,"2":1,"3":15,"4":7,"5":7,"6":3,"7":0,"8":8,"9":0,"10":0,"11":0,"12":4,"13":0,"14":0,"15":0,"16":0,"17":490,"18":0,"19":0,"20":0,"21":5,"22":18,"23":9,"24":1,"25":8,"26":8,"27":0,"28":27,"29":26,"30":26,"31":15,"32":15,"33":26,"34":2,"35":0,"36":0,"37":0,"38":27,"39":15,"40":27,"41":0,"42":0,"43":68,"44":26,"45":11,"46":18,"47":27,"48":53,"49":1,"50":51,"51":53,"52":159,"53":53,"54":0,"55":27,"56":215,"57":27,"58":215,"59":28,"60":216,"61":224,"62":28,"63":104,"64":28,"65":216,"66":216,"67":1714,"68":159,"69":516,"70":223,"71":55,"72":871,"73":490,"74":66,"75":172,"76":71,"77":168,"78":5,"79":15,"80":7,"81":3,"82":4,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":8,"90":26,"91":8,"92":12,"93":930,"94":0,"95":2341,"96":634,"97":634,"98":431,"99":87,"100":1,"101":1717,"102":216,"103":27,"104":215},"code":"/// <reference path=\"../../controllers/HierarchicalFacetQueryController.ts\" />\n/// <reference path=\"HierarchicalFacetValuesList.ts\" />\n/// <reference path=\"HierarchicalFacetSearch.ts\" />\n/// <reference path=\"HierarchicalBreadcrumbValuesList.ts\" />\n/// <reference path=\"HierarchicalFacetValueElement.ts\" />\n\nimport {IFacetOptions} from '../Facet/Facet';\nimport {FacetValue} from '../Facet/FacetValues';\nimport {Facet} from '../Facet/Facet';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {HierarchicalFacetValuesList} from './HierarchicalFacetValuesList';\nimport {HierarchicalFacetQueryController} from '../../controllers/HierarchicalFacetQueryController';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {IIndexFieldValue} from '../../rest/FieldValue';\nimport {Utils} from '../../utils/Utils';\nimport {$$} from '../../utils/Dom';\nimport {Defer} from '../../misc/Defer';\nimport {HierarchicalFacetSearchValuesList} from './HierarchicalFacetSearchValuesList';\nimport {HierarchicalFacetSearch} from './HierarchicalFacetSearch';\nimport {HierarchicalBreadcrumbValuesList} from './HierarchicalBreadcrumbValuesList';\nimport {IQuerySuccessEventArgs} from '../../events/QueryEvents';\nimport {Assert} from '../../misc/Assert';\nimport {IPopulateBreadcrumbEventArgs} from '../../events/BreadcrumbEvents';\nimport {IPopulateOmniboxEventArgs} from '../../events/OmniboxEvents';\nimport {OmniboxHierarchicalValuesList} from './OmniboxHierarchicalValuesList';\nimport {HierarchicalFacetValueElement} from './HierarchicalFacetValueElement';\nimport {Initialization} from '../Base/Initialization';\n\nexport interface IHierarchicalFacetOptions extends IFacetOptions {\n  delimitingCharacter?: string;\n  levelStart?: number;\n  levelEnd?: number;\n  marginByLevel?: number;\n}\n\nexport interface IValueHierarchy {\n  childs?: IValueHierarchy[];\n  parent?: IValueHierarchy;\n  originalPosition?: number;\n  facetValue: FacetValue;\n  level: number;\n  keepOpened: boolean;\n  hasChildSelected: boolean;\n}\n\ninterface IFlatHierarchy {\n  facetValue: FacetValue;\n  level: number;\n  parent: string;\n  self: string;\n}\n\n/**\n * This component inherits all of its options and behavior from the normal {@link Facet} component, but is meant to be used for hierarchical values.<br/>\n * The HierarchicalFacet component could be used to display files in a file system, or categories for documents in a hierarchy.<br/>\n * This facet require a group by field with a special format in order to work correctly.<br/>\n * Let's say we have the following files indexed on a filesystem:\n * ```\n * C:\\\n *    folder1\\\n *        text1.txt\n *    folder2\\\n *      folder3\\\n *        text2.txt\n * ```\n * The document `text1.txt` would need to have a field with the following format:<br/>\n * `@field : c; c|folder1;`<br/>\n * The document `text2.txt` would have a field with the following format:<br/>\n * `@field: c; c|folder2; c|folder2|folder3;`<br/>\n * The | character allows the facet to build its hierarchy (`folder3` inside `folder2` inside `c`)<br/>\n * Since both documents contain the `c` value, selecting that value in the facet would return both documents.<br/>\n * Selecting the `folder3` value in the facet would only return the `text2.txt` document.\n */\nexport class HierarchicalFacet extends Facet {\n  static ID = 'HierarchicalFacet';\n  /**\n   * The options for the component\n   * @componentOptions\n   */\n  static options: IHierarchicalFacetOptions = {\n    /**\n     * The character that allows to specify the hierarchy dependency.<br/>\n     * The default value is `|`.<br/>\n     * For example, if your field has the following values : @field: c; c>folder2; c>folder2>folder3; Then your delimiting character would be `>`\n     */\n    delimitingCharacter: ComponentOptions.buildStringOption({ defaultValue: '|' }),\n    /**\n     * Specifies at which level (0 based index) of the hierarchy you want your facet to start displaying it's values.<br/>\n     * The default value is `0`.<br/>\n     * Using this example :\n     * ```\n     * C:\\\n     *    folder1\\\n     *        text1.txt\n     *    folder2\\\n     *      folder3\\\n     *        text2.txt\n     * ```\n     * Setting levelStart to 1 would only display folder1 and folder2, and omit c:\n     */\n    levelStart: ComponentOptions.buildNumberOption({ defaultValue: 0, min: 0 }),\n    /**\n     * Specifies at which level (0 based index) of the hierarchy you want your facet to stop displaying it's values.<br/>\n     * The default value is undefined, meaning it will render all levels.\n     */\n    levelEnd: ComponentOptions.buildNumberOption({ min: 0 }),\n    /**\n     * Specifies the margin, in pixel, between each level, when they are expanded.<br/>\n     * Default value is `10`.\n     */\n    marginByLevel: ComponentOptions.buildNumberOption({ defaultValue: 10, min: 0 })\n  }\n\n  static parent = Facet;\n\n  public options: IHierarchicalFacetOptions;\n  public facetValuesList: HierarchicalFacetValuesList;\n  public numberOfValuesToShow: number;\n  public facetQueryController: HierarchicalFacetQueryController;\n  private valueHierarchy: { [facetValue: string]: IValueHierarchy };\n  private firstPlacement = true;\n  private originalNumberOfValuesToShow: number;\n  private topLevelHierarchy: IValueHierarchy[];\n  private correctLevels: IFlatHierarchy[] = [];\n\n  /**\n   * Create a new instance of the Hierarchical component\n   * @param element\n   * @param options\n   * @param bindings\n   */\n  public constructor(public element: HTMLElement, options: IHierarchicalFacetOptions, public bindings: IComponentBindings) {\n    super(element, options, bindings, HierarchicalFacet.ID);\n    this.options = ComponentOptions.initComponentOptions(element, HierarchicalFacet, this.options);\n    this.numberOfValuesToShow = this.originalNumberOfValuesToShow = (this.options.numberOfValues || 5);\n    this.numberOfValues = Math.max(this.options.numberOfValues, 10000);\n    this.options.injectionDepth = Math.max(this.options.injectionDepth, 10000);\n    this.logger.info('Hierarchy facet : Set number of values very high in order to build hierarchy', this.numberOfValues, this);\n    this.logger.info('Hierarchy facet : Set injection depth very high in order to build hierarchy', this.options.injectionDepth);\n  }\n\n  /**\n   * Select a single value\n   * @param value The value to select\n   * @param selectChilds Determine if the child values (if any) should also be selected. By default, this is the opposite value of the {@link Facet.options.useAnd} value\n   */\n  public selectValue(value: FacetValue, selectChilds?: boolean): void;\n  public selectValue(value: string, selectChilds?: boolean): void;\n  public selectValue(value: any, selectChilds = !this.options.useAnd) {\n    this.ensureDom();\n    this.ensureValueHierarchyExists([value]);\n    let valueHierarchy = this.getValueFromHierarchy(value);\n    if (selectChilds) {\n      this.selectChilds(valueHierarchy, valueHierarchy.childs);\n    }\n    this.flagParentForSelection(valueHierarchy);\n    super.selectValue(value);\n  }\n\n  /**\n   * Select multiple values\n   * @param values The array of values to select\n   * @param selectChilds Determine if the child values (if any) should also be selected. By default, this is the opposite value of the {@link Facet.options.useAnd} value\n   */\n  public selectMultipleValues(values: FacetValue[], selectChilds?: boolean): void;\n  public selectMultipleValues(values: string[], selectChilds?: boolean): void;\n  public selectMultipleValues(values: any[], selectChilds = !this.options.useAnd): void {\n    this.ensureDom();\n    this.ensureValueHierarchyExists(values);\n    _.each(values, (value) => {\n      let valueHierarchy = this.getValueFromHierarchy(value);\n      this.flagParentForSelection(valueHierarchy);\n      if (selectChilds) {\n        _.each(valueHierarchy.childs, (child) => {\n          this.selectValue(child.facetValue);\n        })\n      }\n    })\n    super.selectMultipleValues(values);\n  }\n\n  /**\n   * Deselect a single value\n   * @param value The value to deselect\n   * @param deselectChilds Determine if the child values (if any) should also be de-selected. By default, this is true\n   */\n  public deselectValue(value: FacetValue, deselectChilds?: boolean): void;\n  public deselectValue(value: string, deselectChilds?: boolean): void;\n  public deselectValue(value: any, deselectChilds = true) {\n    this.ensureDom();\n    this.ensureValueHierarchyExists([value]);\n    let valueHierarchy = this.getValueFromHierarchy(value);\n    if (deselectChilds) {\n      let hasChilds = valueHierarchy.childs != undefined;\n      if (hasChilds) {\n        let activeChilds = _.filter<IValueHierarchy>(valueHierarchy.childs, (child) => {\n          let valueToCompare = this.getFacetValueFromHierarchy(child.facetValue)\n          return valueToCompare.selected || valueToCompare.excluded;\n        })\n        valueHierarchy.hasChildSelected = false;\n        if (activeChilds.length == valueHierarchy.childs.length) {\n          this.deselectChilds(valueHierarchy, valueHierarchy.childs);\n        }\n      }\n    }\n    this.deselectParent(valueHierarchy.parent);\n    this.unflagParentForSelection(valueHierarchy);\n    super.deselectValue(value);\n  }\n\n  /**\n   * Exclude a single value\n   * @param value The value to exclude\n   * @param excludeChilds Determine if the child values (if any) should also be excluded. By default, this is the opposite value of the {@link Facet.options.useAnd} value\n   */\n  public excludeValue(value: FacetValue, excludeChilds?: boolean): void;\n  public excludeValue(value: string, excludeChilds?: boolean): void;\n  public excludeValue(value: any, excludeChilds = !this.options.useAnd): void {\n    this.ensureDom();\n    this.ensureValueHierarchyExists([value]);\n    let valueHierarchy = this.getValueFromHierarchy(value);\n    if (excludeChilds) {\n      this.excludeChilds(valueHierarchy.childs);\n    } else {\n      this.deselectChilds(valueHierarchy, valueHierarchy.childs);\n      this.close(valueHierarchy);\n    }\n    this.flagParentForSelection(valueHierarchy);\n    super.excludeValue(value);\n  }\n\n  /**\n   * Unexclude a single value\n   * @param value The value to unexclude\n   * @param unexludeChilds Determine if the child values (if any) should also be un-excluded. By default, this is the opposite value of the {@link Facet.options.useAnd} value\n   */\n  public unexcludeValue(value: FacetValue, unexludeChilds?: boolean): void;\n  public unexcludeValue(value: string, unexludeChilds?: boolean): void;\n  public unexcludeValue(value: any, unexludeChilds = !this.options.useAnd): void {\n    this.ensureDom();\n    this.ensureValueHierarchyExists([value]);\n    let valueHierarchy = this.getValueFromHierarchy(value);\n    if (unexludeChilds) {\n      this.unexcludeChilds(valueHierarchy.childs);\n    }\n    this.unflagParentForSelection(valueHierarchy);\n    super.unexcludeValue(value);\n  }\n\n  /**\n   * Deselect multiple values\n   * @param values The array of values to deselect\n   * @param deselectChilds Determine if the child values (if any) should also be deselected. By default, this is the opposite value of the {@link Facet.options.useAnd} value\n   */\n  public deselectMultipleValues(values: FacetValue[], deselectChilds?: boolean): void;\n  public deselectMultipleValues(values: string[], deselectChilds?: boolean): void;\n  public deselectMultipleValues(values: any[], deselectChilds = !this.options.useAnd): void {\n    this.ensureDom();\n    this.ensureValueHierarchyExists(values);\n    _.each(values, (value) => {\n      let valueHierarchy = this.getValueFromHierarchy(value);\n      valueHierarchy.hasChildSelected = false;\n      this.unflagParentForSelection(valueHierarchy);\n      if (deselectChilds) {\n        _.each(valueHierarchy.childs, (child) => {\n          let childInHierarchy = this.getValueFromHierarchy(child.facetValue)\n          childInHierarchy.hasChildSelected = false;\n          this.deselectValue(child.facetValue);\n        })\n      }\n    })\n    super.deselectMultipleValues(values);\n  }\n\n  /**\n   * Toggle the selection on a single value (select / deselect).\n   * @param value\n   */\n  public toggleSelectValue(value: FacetValue): void;\n  public toggleSelectValue(value: string): void;\n  public toggleSelectValue(value: any): void {\n    this.ensureDom();\n    this.ensureValueHierarchyExists([value]);\n    if (this.getFacetValueFromHierarchy(value).selected == false) {\n      this.selectValue(value)\n    } else {\n      this.deselectValue(value);\n    }\n  }\n\n  /**\n   * Toggle the exclusion on a single value (exclude / unexclude)\n   * @param value\n   */\n  public toggleExcludeValue(value: FacetValue): void;\n  public toggleExcludeValue(value: string): void;\n  public toggleExcludeValue(value: any): void {\n    this.ensureDom();\n    this.ensureValueHierarchyExists([value]);\n    if (this.getFacetValueFromHierarchy(value).excluded == false) {\n      this.excludeValue(value);\n    } else {\n      this.unexcludeValue(value);\n    }\n  }\n\n  /**\n   * Get the caption for a single value.\n   * @param facetValue\n   */\n  public getValueCaption(facetValue: IIndexFieldValue): string;\n  public getValueCaption(facetValue: FacetValue): string;\n  public getValueCaption(facetValue: any): string {\n    let stringValue = this.getSelf(facetValue);\n    let ret = stringValue;\n    if (Utils.exists(this.options.valueCaption)) {\n      if (typeof this.options.valueCaption == 'object') {\n        ret = this.options.valueCaption[stringValue] || ret;\n      }\n      if (typeof this.options.valueCaption == 'function') {\n        ret = this.options.valueCaption.call(this, facetValue)\n      }\n    }\n    return ret;\n  }\n\n  /**\n   * Get the currently displayed values in the facet\n   * @returns {any[]}\n   */\n  public getDisplayedValues(): string[] {\n    let displayed = _.filter(this.values.getAll(), (v) => {\n      let valFromHierarchy = this.getValueFromHierarchy(v);\n      if (valFromHierarchy) {\n        let elem = this.getElementFromFacetValueList(v)\n        return !$$(elem).hasClass('coveo-inactive');\n      }\n      return false;\n    })\n    return _.pluck(displayed, 'value');\n  }\n\n  /**\n   * Update the sort criteria for the facet\n   * @param criteria\n   */\n  public updateSort(criteria: string) {\n    this.firstPlacement = true;\n    super.updateSort(criteria);\n  }\n\n  /**\n   * Open a single value and show all it's child\n   * @param value\n   */\n  public open(value: FacetValue);\n  public open(value: IValueHierarchy);\n  public open(value: String);\n  public open(value: any) {\n    let getter;\n    if (_.isString(value)) {\n      getter = this.getValueHierarchy(value);\n    } else if (value instanceof FacetValue) {\n      getter = this.getValueHierarchy(value.value);\n    } else {\n      getter = value;\n    }\n    if (getter != undefined) {\n      $$(this.getElementFromFacetValueList(getter.facetValue.value)).addClass('coveo-open');\n      this.showChilds(getter.childs);\n      if (getter.parent != undefined) {\n        this.open(this.getValueHierarchy(getter.facetValue.value).parent);\n      }\n      this.getValueHierarchy(getter.facetValue.value).keepOpened = true;\n    }\n  }\n\n  /**\n   * Close a single value and hide all it's child\n   * @param value\n   */\n  public close(value: FacetValue);\n  public close(value: IValueHierarchy);\n  public close(value: String);\n  public close(value: any) {\n    let getter;\n    if (_.isString(value)) {\n      getter = this.getValueHierarchy(value);\n    } else if (value instanceof FacetValue) {\n      getter = this.getValueHierarchy(value.value);\n    } else {\n      getter = value;\n    }\n    if (getter != undefined) {\n      $$(this.getElementFromFacetValueList(getter.facetValue)).removeClass('coveo-open');\n      this.hideChilds(getter.childs);\n      _.each(getter.childs, (child: IValueHierarchy) => {\n        this.close(this.getValueHierarchy(child.facetValue.value));\n      });\n      this.getValueHierarchy(getter.facetValue.value).keepOpened = false;\n    }\n  }\n\n  /**\n   * Reset the facet state\n   */\n  public reset() {\n    _.each(this.getAllValueHierarchy(), (valueHierarchy) => {\n      valueHierarchy.hasChildSelected = false;\n    })\n    // Need to close all values, otherwise we might end up with orphan(s)\n    // if a parent value, after reset, is no longer visible.\n    _.each(this.getAllValueHierarchy(), (valueHierarchy) => {\n      this.close(valueHierarchy);\n    })\n    super.reset();\n  }\n\n  public processFacetSearchAllResultsSelected(facetValues: FacetValue[]): void {\n    this.selectMultipleValues(facetValues);\n    this.triggerNewQuery();\n  }\n\n  protected updateSearchInNewDesign(moreValuesAvailable = true) {\n    // We always want to show search for hierarchical facet :\n    // It's useful since child values are folded under their parent most of the time\n    super.updateSearchInNewDesign(true);\n  }\n\n  protected facetValueHasChanged() {\n    this.updateQueryStateModel();\n    Defer.defer(() => {\n      this.updateAppearanceDependingOnState();\n    });\n  }\n\n\n  protected initFacetQueryController() {\n    this.facetQueryController = new HierarchicalFacetQueryController(this);\n  }\n\n  protected initFacetSearch() {\n    this.facetSearch = new HierarchicalFacetSearch(this, HierarchicalFacetSearchValuesList, this.root);\n    this.element.appendChild(this.facetSearch.build());\n  }\n\n  protected handleDeferredQuerySuccess(data: IQuerySuccessEventArgs) {\n    this.updateAppearanceDependingOnState();\n    super.handleDeferredQuerySuccess(data);\n  }\n\n  protected handlePopulateBreadcrumb(args: IPopulateBreadcrumbEventArgs) {\n    Assert.exists(args);\n    if (this.values.hasSelectedOrExcludedValues()) {\n      let element = new HierarchicalBreadcrumbValuesList(this, this.values.getSelected().concat(this.values.getExcluded()), this.getAllValueHierarchy()).build();\n      args.breadcrumbs.push({\n        element: element\n      });\n    }\n  }\n\n  protected handleOmniboxWithStaticValue(eventArg: IPopulateOmniboxEventArgs) {\n    let regex = eventArg.completeQueryExpression.regex;\n    let match = _.first(_.filter<IValueHierarchy>(this.getAllValueHierarchy(), (existingValue) => {\n      return regex.test(this.getValueCaption(existingValue.facetValue))\n    }), this.options.numberOfValuesInOmnibox)\n    let facetValues = _.compact(_.map(match, (gotAMatch) => {\n      let fromList = this.getFromFacetValueList(gotAMatch.facetValue);\n      return fromList ? fromList.facetValue : undefined;\n    }))\n    let element = new OmniboxHierarchicalValuesList(this, facetValues, eventArg).build();\n    eventArg.rows.push({\n      element: element,\n      zIndex: this.omniboxZIndex\n    })\n  }\n\n  protected rebuildValueElements() {\n    this.numberOfValues = Math.max(this.numberOfValues, 10000);\n    this.processHierarchy();\n    this.setValueListContent();\n    super.rebuildValueElements();\n    this.buildParentChildRelationship();\n    this.checkForOrphans();\n    this.crop();\n  }\n\n  protected initFacetValuesList() {\n    this.facetValuesList = new HierarchicalFacetValuesList(this, HierarchicalFacetValueElement);\n    this.element.appendChild(this.facetValuesList.build());\n  }\n\n  protected updateMoreLess() {\n    let moreValuesAvailable = this.numberOfValuesToShow < this.topLevelHierarchy.length;\n    let lessIsShown = this.numberOfValuesToShow > this.originalNumberOfValuesToShow;\n    super.updateMoreLess(lessIsShown, moreValuesAvailable);\n  }\n\n  protected handleClickMore(): void {\n    this.numberOfValuesToShow += this.originalNumberOfValuesToShow;\n    this.numberOfValuesToShow = Math.min(this.numberOfValuesToShow, this.values.size());\n    this.crop();\n    this.updateMoreLess();\n  }\n\n  protected handleClickLess() {\n    this.numberOfValuesToShow = this.originalNumberOfValuesToShow;\n    this.crop();\n    this.updateMoreLess();\n  }\n\n  protected updateNumberOfValues() {\n    this.numberOfValues = Math.max(this.numberOfValues, 10000);\n  }\n\n  private ensureValueHierarchyExists(facetValues: any) {\n    if (facetValues[0] && typeof facetValues[0] == 'string') {\n      facetValues = _.map(facetValues, (value: string) => {\n        return FacetValue.createFromValue(value);\n      })\n    }\n    let atLeastOneDoesNotExists = false;\n    _.each(facetValues, (facetValue: FacetValue) => {\n      if (this.getValueHierarchy(facetValue.value) == undefined) {\n        atLeastOneDoesNotExists = true;\n      }\n    })\n    if (atLeastOneDoesNotExists) {\n      this.processHierarchy(facetValues);\n    }\n  }\n\n  private crop() {\n    // Partition the top level or the facet to only operate on the values that are not selected or excluded\n    let partition = _.partition(this.topLevelHierarchy, (hierarchy: IValueHierarchy) => {\n      return hierarchy.facetValue.selected || hierarchy.facetValue.excluded\n    });\n\n    // Hide and show the partitionned top level values, depending on the numberOfValuesToShow\n    let numberOfValuesLeft = this.numberOfValuesToShow - partition[0].length;\n    _.each(_.last(partition[1], partition[1].length - numberOfValuesLeft), (toHide: IValueHierarchy) => {\n      this.hideFacetValue(toHide);\n      this.hideChilds(toHide.childs);\n    })\n    _.each(_.first(partition[1], numberOfValuesLeft), (toShow: IValueHierarchy) => {\n      this.showFacetValue(toShow);\n    })\n  }\n\n  private placeChildsUnderTheirParent(hierarchy: IValueHierarchy, hierarchyElement: HTMLElement) {\n    _.each(hierarchy.childs.reverse(), (child) => {\n      if (this.getValueHierarchy(child.facetValue.value)) {\n        let childElement = this.getElementFromFacetValueList(child.facetValue);\n        $$(childElement).insertAfter(hierarchyElement);\n      }\n    })\n    if (hierarchy.keepOpened) {\n      this.open(hierarchy);\n      this.showChilds(hierarchy.childs);\n    } else {\n      this.hideChilds(hierarchy.childs);\n    }\n  }\n\n  private addCssClassToParentAndChilds(hierarchy: IValueHierarchy, hierarchyElement: HTMLElement) {\n    $$(hierarchyElement).addClass('coveo-has-childs');\n    if (hierarchy.hasChildSelected) {\n      $$(hierarchyElement).addClass('coveo-has-childs-selected');\n    }\n    let openAndCloseChilds = $$('div', {\n      className: 'coveo-has-childs-toggle'\n    }).el;\n\n    $$(openAndCloseChilds).on('click', () => {\n      $$(hierarchyElement).hasClass('coveo-open') ? this.close(hierarchy) : this.open(hierarchy);\n    })\n\n    $$(hierarchyElement).prepend(openAndCloseChilds);\n  }\n\n  private buildParentChildRelationship() {\n    let sorted = _.chain(this.getAllValueHierarchy())\n      .toArray()\n      .sortBy('level')\n      .value();\n\n    _.each(<any>sorted, (hierarchy: IValueHierarchy) => {\n      let hierarchyElement = this.getElementFromFacetValueList(hierarchy.facetValue);\n      if (Utils.isNonEmptyArray(hierarchy.childs)) {\n        this.placeChildsUnderTheirParent(hierarchy, hierarchyElement);\n        this.addCssClassToParentAndChilds(hierarchy, hierarchyElement);\n      } else {\n        $$(hierarchyElement).addClass('coveo-no-childs');\n      }\n      hierarchyElement.style.marginLeft = (this.options.marginByLevel * (hierarchy.level - this.options.levelStart)) + 'px'\n    })\n  }\n\n  private setValueListContent() {\n    this.facetValuesList.hierarchyFacetValues = _.map(this.correctLevels, (hierarchy) => {\n      if (!this.values.contains(hierarchy.facetValue.value)) {\n        hierarchy.facetValue.occurrences = 0;\n        this.values.add(hierarchy.facetValue);\n      }\n      return hierarchy.facetValue;\n    })\n  }\n\n  private createHierarchy(valuesToBuildWith: FacetValue[]) {\n    let flatHierarchy = _.map(valuesToBuildWith, (value: FacetValue) => {\n      let parent = this.getParent(value);\n      let self = value.lookupValue || value.value;\n      return {\n        facetValue: value,\n        level: this.getLevel(value),\n        parent: parent,\n        self: self\n      };\n    });\n    this.setInHierarchy(flatHierarchy);\n    _.each(this.getAllValueHierarchy(), (valueHierarchy) => {\n      if (valueHierarchy.facetValue.selected) {\n        this.flagParentForSelection(valueHierarchy);\n      }\n    });\n    return flatHierarchy;\n  }\n\n  private processHierarchy(facetValues = this.values.getAll()) {\n    _.each(this.getAllValueHierarchy(), (hierarchy: IValueHierarchy) => {\n      if (this.values.get(hierarchy.facetValue.value) == undefined) {\n        this.deleteValueHierarchy(this.getLookupOrValue(hierarchy.facetValue));\n      }\n    });\n    this.createHierarchy(facetValues);\n  }\n\n  private setInHierarchy(flatHierarchy: IFlatHierarchy[]) {\n    this.correctLevels = _.filter<IFlatHierarchy>(flatHierarchy, (hierarchy) => {\n      let isCorrectMinimumLevel = this.options.levelStart == undefined || hierarchy.level >= this.options.levelStart;\n      let isCorrectMaximumLevel = this.options.levelEnd == undefined || hierarchy.level < this.options.levelEnd;\n      return isCorrectMinimumLevel && isCorrectMaximumLevel;\n    });\n    _.each(this.correctLevels, (hierarchy: IFlatHierarchy) => {\n      let childs = _.map(_.filter<IFlatHierarchy>(this.correctLevels, (possibleChild) => {\n        return possibleChild.parent != null && possibleChild.parent.toLowerCase() == hierarchy.self.toLowerCase()\n      }), (child): IValueHierarchy => {\n        return {\n          facetValue: child.facetValue,\n          level: child.level,\n          keepOpened: false,\n          hasChildSelected: false\n        }\n      })\n\n      let parent = hierarchy.parent != null ? _.find<IFlatHierarchy>(this.correctLevels, (possibleParent) => {\n        return possibleParent.self.toLowerCase() == hierarchy.parent.toLowerCase()\n      }) : null;\n\n      let hierarchyThatAlreadyExists = this.getValueHierarchy(hierarchy.facetValue.value);\n      let hierarchyThatAlreadyExistsAtParent;\n      if (parent) {\n        hierarchyThatAlreadyExistsAtParent = this.getValueHierarchy(parent.facetValue.value)\n      }\n      this.setValueHierarchy(hierarchy.facetValue.value, {\n        childs: childs,\n        parent: parent == undefined ? undefined : {\n          facetValue: parent.facetValue,\n          level: parent.level,\n          keepOpened: hierarchyThatAlreadyExistsAtParent ? hierarchyThatAlreadyExistsAtParent.keepOpened : false,\n          hasChildSelected: hierarchyThatAlreadyExistsAtParent ? hierarchyThatAlreadyExistsAtParent.hasChildSelected : false,\n          originalPosition: hierarchyThatAlreadyExistsAtParent ? hierarchyThatAlreadyExistsAtParent.originalPosition : undefined,\n        },\n        facetValue: hierarchy.facetValue,\n        level: hierarchy.level,\n        keepOpened: hierarchyThatAlreadyExists ? hierarchyThatAlreadyExists.keepOpened : false,\n        hasChildSelected: hierarchyThatAlreadyExists ? hierarchyThatAlreadyExists.hasChildSelected : false,\n        originalPosition: hierarchyThatAlreadyExists ? hierarchyThatAlreadyExists.originalPosition : undefined\n      });\n    });\n\n    this.topLevelHierarchy = _.chain(this.values.getAll())\n      .filter((value: FacetValue) => {\n        let fromHierarchy = this.getValueFromHierarchy(value);\n        if (fromHierarchy) {\n          return fromHierarchy.level == (this.options.levelStart || 0);\n        } else {\n          return false;\n        }\n      })\n      .map((value: FacetValue) => {\n        return this.getValueFromHierarchy(value);\n      })\n      .value()\n  }\n\n  private getParent(value: FacetValue) {\n    let lastIndexOfDelimiting = this.getLookupOrValue(value).lastIndexOf(this.options.delimitingCharacter);\n    if (lastIndexOfDelimiting != -1) {\n      return this.getLookupOrValue(value).substring(0, lastIndexOfDelimiting);\n    }\n    return undefined;\n  }\n\n  private getSelf(value: FacetValue) {\n    let parent = this.getParent(value);\n    if (parent == undefined) {\n      return this.getLookupOrValue(value)\n    } else {\n      let indexOfParent = this.getLookupOrValue(value).indexOf(parent);\n      return this.getLookupOrValue(value).substring(indexOfParent + parent.length + 1);\n    }\n  }\n\n  private showFacetValue(value: IValueHierarchy) {\n    $$(this.getElementFromFacetValueList(value.facetValue.value)).removeClass('coveo-inactive');\n  }\n\n  private hideFacetValue(value: IValueHierarchy) {\n    $$(this.getElementFromFacetValueList(value.facetValue.value)).addClass('coveo-inactive');\n  }\n\n  private hideChilds(children: IValueHierarchy[]) {\n    _.each(children, (child) => {\n      this.hideFacetValue(child);\n    })\n  }\n\n  private showChilds(children: IValueHierarchy[]) {\n    _.each(children, (child) => {\n      this.showFacetValue(child);\n    })\n  }\n\n  private selectChilds(parent: IValueHierarchy, children: IValueHierarchy[]) {\n    this.flagParentForSelection(parent);\n    this.selectMultipleValues(_.map(children, (child) => {\n      return child.facetValue\n    }))\n  }\n\n  private deselectChilds(parent: IValueHierarchy, children: IValueHierarchy[]) {\n    parent.hasChildSelected = false;\n    this.deselectMultipleValues(_.map(children, (child) => {\n      return child.facetValue\n    }))\n  }\n\n  private excludeChilds(children: IValueHierarchy[]) {\n    this.excludeMultipleValues(_.map(children, (child) => {\n      return child.facetValue\n    }))\n  }\n\n  private unexcludeChilds(children: IValueHierarchy[]) {\n    this.unexcludeMultipleValues(_.map(children, (child) => {\n      return child.facetValue\n    }))\n  }\n\n  private selectParent(parent: IValueHierarchy) {\n    if (parent != undefined) {\n      this.selectValue(parent.facetValue);\n      if (parent.parent) {\n        this.selectParent(this.getValueHierarchy(parent.parent.facetValue.value))\n      }\n    }\n  }\n\n  private deselectParent(parent: IValueHierarchy) {\n    if (parent != undefined) {\n      this.deselectValue(parent.facetValue, false);\n    }\n  }\n\n  private flagParentForSelection(valueHierarchy: IValueHierarchy) {\n    let parent = valueHierarchy.parent;\n    while (parent) {\n      let parentInHierarchy = this.getValueHierarchy(parent.facetValue.value);\n      parentInHierarchy.hasChildSelected = true;\n      parent = parentInHierarchy.parent;\n    }\n  }\n\n  private unflagParentForSelection(valueHierarchy: IValueHierarchy) {\n    let parent = valueHierarchy.parent;\n    while (parent) {\n      let parentInHierarchy = this.getValueHierarchy(parent.facetValue.value)\n      let otherSelectedChilds = _.filter<IValueHierarchy>(parentInHierarchy.childs, (child) => {\n        let childInHierarchy = this.getValueHierarchy(child.facetValue.value);\n        if (childInHierarchy != undefined) {\n          return childInHierarchy.facetValue.value != valueHierarchy.facetValue.value\n            && (childInHierarchy.facetValue.selected || childInHierarchy.facetValue.excluded || childInHierarchy.hasChildSelected);\n        }\n      })\n\n      if (otherSelectedChilds.length == 0) {\n        parentInHierarchy.hasChildSelected = false;\n      }\n      parent = parentInHierarchy.parent;\n    }\n  }\n\n  public getValueFromHierarchy(value: any): IValueHierarchy {\n    let getter = value instanceof FacetValue ? value.value : value;\n    return this.getValueHierarchy(getter);\n  }\n\n  private getFacetValueFromHierarchy(value: any): FacetValue {\n    return this.getValueFromHierarchy(value).facetValue;\n  }\n\n  private getLookupOrValue(value: FacetValue) {\n    return value.lookupValue || value.value;\n  }\n\n  private getElementFromFacetValueList(value: any) {\n    let ret = this.getFromFacetValueList(value)\n    if (ret) {\n      return ret.renderer.listElement\n    } else {\n      return $$('div').el;\n    }\n  }\n\n  private getFromFacetValueList(value: any) {\n    let fromHierarchy = this.getValueFromHierarchy(value);\n    if (fromHierarchy != undefined) {\n      return this.facetValuesList.get(value);\n    } else {\n      return undefined;\n    }\n  }\n\n  private getLevel(value: FacetValue) {\n    return value.value.split(this.options.delimitingCharacter).length - 1\n  }\n\n  private getAllValueHierarchy(): { [facetValue: string]: IValueHierarchy } {\n    if (this.valueHierarchy == null) {\n      this.valueHierarchy = {}\n    }\n    return this.valueHierarchy;\n  }\n\n  private deleteValueHierarchy(key: string) {\n    if (this.valueHierarchy != null) {\n      delete this.valueHierarchy[key.toLowerCase()]\n    }\n  }\n\n  private getValueHierarchy(key: string): IValueHierarchy {\n    if (this.valueHierarchy == null) {\n      return undefined;\n    }\n    return this.valueHierarchy[key.toLowerCase()];\n  }\n\n  private setValueHierarchy(key: string, value: IValueHierarchy) {\n    if (this.valueHierarchy == null) {\n      this.valueHierarchy = {}\n    }\n    this.valueHierarchy[key.toLowerCase()] = value;\n  }\n\n  private checkForOrphans() {\n    _.each(this.valueHierarchy, (v: IValueHierarchy) => {\n      if (this.getLevel(v.facetValue) != 0) {\n        if (this.getValueHierarchy(this.getParent(v.facetValue)) == undefined) {\n          this.logger.error(`Orphan value found in HierarchicalFacet : ${v.facetValue.value}`, `Needed : ${this.getParent(v.facetValue)} but not found`);\n          this.logger.warn(`Removing incoherent facet value : ${v.facetValue.value}`);\n          this.hideFacetValue(v);\n        }\n      }\n    })\n  }\n}\nInitialization.registerAutoCreateComponent(HierarchicalFacet);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/HierarchicalFacet/HierarchicalFacet.ts\n **/","l":{"8":1,"9":1,"10":1,"11":1,"12":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"22":1,"25":1,"26":1,"27":1,"74":1,"75":1,"80":1,"114":1,"121":15,"124":15,"132":15,"133":15,"134":15,"135":15,"136":15,"137":15,"138":15,"139":15,"149":14,"150":7,"151":7,"152":7,"153":7,"154":7,"156":7,"157":7,"167":14,"168":7,"169":7,"170":7,"171":3,"172":3,"173":3,"174":3,"175":0,"179":7,"189":12,"190":8,"191":8,"192":8,"193":8,"194":4,"195":4,"196":4,"197":0,"198":0,"200":4,"201":4,"202":4,"206":8,"207":8,"208":8,"218":1,"219":0,"220":0,"221":0,"222":0,"223":0,"225":0,"226":0,"228":0,"229":0,"239":1,"240":0,"241":0,"242":0,"243":0,"244":0,"246":0,"247":0,"257":8,"258":4,"259":4,"260":4,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"272":4,"281":1,"282":0,"283":0,"284":0,"285":0,"287":0,"297":1,"298":0,"299":0,"300":0,"301":0,"303":0,"313":1,"314":490,"315":490,"316":490,"317":0,"318":0,"320":0,"321":0,"324":490,"331":1,"332":0,"333":0,"334":0,"335":0,"336":0,"338":0,"340":0,"347":1,"348":0,"349":0,"359":1,"360":5,"361":5,"362":4,"363":1,"364":0,"366":1,"368":5,"369":4,"370":4,"371":4,"372":0,"374":4,"385":18,"386":18,"387":18,"388":1,"389":17,"390":0,"392":17,"394":18,"395":18,"396":18,"397":18,"398":9,"400":18,"407":1,"408":1,"409":8,"413":1,"414":8,"416":1,"419":1,"420":0,"421":0,"424":27,"427":27,"430":26,"431":26,"432":26,"433":26,"438":1,"439":15,"442":1,"443":15,"444":15,"447":1,"448":26,"449":26,"452":1,"453":2,"454":2,"455":2,"456":2,"462":1,"463":0,"464":0,"465":0,"467":0,"468":0,"469":0,"471":0,"472":0,"478":1,"479":27,"480":27,"481":27,"482":27,"483":27,"484":27,"485":27,"488":1,"489":15,"490":15,"493":1,"494":27,"495":27,"496":27,"499":1,"500":0,"501":0,"502":0,"503":0,"506":1,"507":0,"508":0,"509":0,"512":1,"513":68,"516":26,"517":26,"518":11,"519":11,"522":26,"523":26,"524":18,"525":1,"528":26,"529":1,"533":27,"535":27,"536":53,"540":27,"541":27,"542":1,"543":1,"545":27,"546":51,"550":53,"551":53,"552":159,"553":159,"554":159,"557":53,"558":1,"559":1,"561":52,"565":53,"566":53,"567":53,"568":5,"570":53,"574":53,"575":0,"578":53,"581":27,"582":27,"587":27,"588":215,"589":215,"590":53,"591":53,"593":162,"595":215,"599":27,"600":27,"601":215,"602":0,"603":0,"605":215,"609":28,"610":28,"611":216,"612":216,"613":216,"620":28,"621":28,"622":224,"623":9,"626":28,"629":55,"630":28,"631":104,"632":1,"635":28,"638":28,"639":28,"640":216,"641":216,"642":216,"644":28,"645":216,"646":1714,"648":159,"656":216,"657":516,"660":216,"661":216,"662":216,"663":159,"665":216,"682":28,"684":223,"685":223,"686":223,"688":0,"692":55,"697":1,"698":871,"699":871,"700":653,"702":218,"705":1,"706":490,"707":490,"708":164,"710":326,"711":326,"715":1,"716":66,"719":1,"720":172,"723":71,"724":71,"725":168,"729":5,"730":5,"731":15,"735":1,"736":7,"737":7,"738":3,"742":1,"743":4,"744":4,"745":0,"749":1,"750":0,"751":0,"755":1,"756":0,"757":0,"761":1,"762":0,"763":0,"764":0,"765":0,"770":1,"771":8,"772":4,"776":1,"777":26,"778":26,"779":21,"780":21,"781":21,"785":8,"786":8,"787":8,"788":4,"789":4,"790":12,"791":12,"792":12,"797":4,"798":3,"800":4,"804":1,"805":930,"806":930,"809":1,"810":0,"813":1,"814":2341,"817":1,"818":634,"819":634,"820":634,"822":0,"826":1,"827":634,"828":634,"829":634,"831":0,"835":1,"836":431,"839":1,"840":87,"841":15,"843":87,"846":1,"847":1,"848":1,"852":1,"853":1717,"854":0,"856":1717,"859":1,"860":216,"861":0,"863":216,"866":27,"867":27,"868":215,"869":162,"870":3,"871":3,"872":3,"877":1,"878":1}},"src/ui/HierarchicalFacet/HierarchicalFacetValuesList.ts":{"path":"src/ui/HierarchicalFacet/HierarchicalFacetValuesList.ts","statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":57}},"2":{"start":{"line":8,"column":0},"end":{"line":18,"column":1}},"3":{"start":{"line":8,"column":49},"end":{"line":8,"column":64}},"4":{"start":{"line":11,"column":2},"end":{"line":13,"column":3}},"5":{"start":{"line":12,"column":4},"end":{"line":12,"column":41}},"6":{"start":{"line":11,"column":21},"end":{"line":11,"column":45}},"7":{"start":{"line":11,"column":54},"end":{"line":11,"column":101}},"8":{"start":{"line":15,"column":12},"end":{"line":17,"column":3}},"9":{"start":{"line":16,"column":4},"end":{"line":16,"column":37}},"10":{"start":{"line":18,"column":0},"end":{"line":18,"column":1}},"11":{"start":{"line":8,"column":13},"end":{"line":18,"column":1}}},"fnMap":{"1":{"name":"(anonymous_5443)","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"HierarchicalFacetValuesList","line":11,"loc":{"start":{"line":11,"column":2},"end":{"line":11,"column":101}}},"3":{"name":"(anonymous_5445)","line":15,"loc":{"start":{"line":15,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":15,"6":15,"7":15,"8":1,"9":27,"10":1,"11":1},"b":{},"f":{"1":1,"2":15,"3":27},"code":"/// <reference path=\"HierarchicalFacet.ts\" />\n\nimport {FacetValuesList} from '../Facet/FacetValuesList';\nimport {FacetValue} from '../Facet/FacetValues';\nimport {HierarchicalFacet} from './HierarchicalFacet';\nimport {IFacetValueElementKlass} from '../Facet/FacetValueElement';\n\nexport class HierarchicalFacetValuesList extends FacetValuesList {\n  public hierarchyFacetValues: FacetValue[];\n\n  constructor(public facet: HierarchicalFacet, public facetValueElementKlass: IFacetValueElementKlass) {\n    super(facet, facetValueElementKlass);\n  }\n\n  protected getValuesToBuildWith() {\n    return this.hierarchyFacetValues;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/HierarchicalFacet/HierarchicalFacetValuesList.ts\n **/","l":{"3":1,"8":1,"11":15,"12":15,"15":1,"16":27,"18":1}},"src/ui/HierarchicalFacet/HierarchicalFacetSearchValuesList.ts":{"path":"src/ui/HierarchicalFacet/HierarchicalFacetSearchValuesList.ts","statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":69}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":90}},"3":{"start":{"line":7,"column":0},"end":{"line":11,"column":1}},"4":{"start":{"line":7,"column":55},"end":{"line":7,"column":76}},"5":{"start":{"line":8,"column":2},"end":{"line":10,"column":3}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":54}},"7":{"start":{"line":8,"column":21},"end":{"line":8,"column":33}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":1}},"9":{"start":{"line":7,"column":13},"end":{"line":11,"column":1}}},"fnMap":{"1":{"name":"(anonymous_5449)","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"HierarchicalFacetSearchValuesList","line":8,"loc":{"start":{"line":8,"column":2},"end":{"line":8,"column":33}}}},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":1,"9":1},"b":{},"f":{"1":1,"2":0},"code":"/// <reference path=\"../Facet/Facet.ts\" />\n\nimport {Facet} from '../Facet/Facet';\nimport {FacetSearchValuesList} from '../Facet/FacetSearchValuesList';\nimport {HierarchicalFacetSearchValueElement} from './HierarchicalFacetSearchValueElement';\n\nexport class HierarchicalFacetSearchValuesList extends FacetSearchValuesList {\n  constructor(public facet: Facet) {\n    super(facet, HierarchicalFacetSearchValueElement);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/HierarchicalFacet/HierarchicalFacetSearchValuesList.ts\n **/","l":{"4":1,"5":1,"7":1,"8":1,"9":0,"11":1}},"src/ui/HierarchicalFacet/HierarchicalFacetSearchValueElement.ts":{"path":"src/ui/HierarchicalFacet/HierarchicalFacetSearchValueElement.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":61}},"2":{"start":{"line":6,"column":0},"end":{"line":20,"column":1}},"3":{"start":{"line":6,"column":57},"end":{"line":6,"column":74}},"4":{"start":{"line":7,"column":2},"end":{"line":9,"column":3}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":57}},"6":{"start":{"line":7,"column":21},"end":{"line":7,"column":45}},"7":{"start":{"line":7,"column":54},"end":{"line":7,"column":76}},"8":{"start":{"line":7,"column":85},"end":{"line":7,"column":120}},"9":{"start":{"line":11,"column":9},"end":{"line":14,"column":3}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":37}},"11":{"start":{"line":13,"column":4},"end":{"line":13,"column":43}},"12":{"start":{"line":16,"column":9},"end":{"line":19,"column":3}},"13":{"start":{"line":17,"column":4},"end":{"line":17,"column":37}},"14":{"start":{"line":18,"column":4},"end":{"line":18,"column":44}},"15":{"start":{"line":20,"column":0},"end":{"line":20,"column":1}},"16":{"start":{"line":6,"column":13},"end":{"line":20,"column":1}}},"fnMap":{"1":{"name":"(anonymous_5454)","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"HierarchicalFacetSearchValueElement","line":7,"loc":{"start":{"line":7,"column":2},"end":{"line":7,"column":120}}},"3":{"name":"(anonymous_5456)","line":11,"loc":{"start":{"line":11,"column":2},"end":{"line":11,"column":69}}},"4":{"name":"(anonymous_5457)","line":16,"loc":{"start":{"line":16,"column":2},"end":{"line":16,"column":70}}}},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":1,"13":0,"14":0,"15":1,"16":1},"b":{},"f":{"1":1,"2":0,"3":0,"4":0},"code":"import {FacetValueElement} from '../Facet/FacetValueElement';\nimport {HierarchicalFacet} from '../HierarchicalFacet/HierarchicalFacet';\nimport {IValueElementEventsBinding} from '../Facet/ValueElement';\nimport {FacetValue} from '../Facet/FacetValues';\n\nexport class HierarchicalFacetSearchValueElement extends FacetValueElement {\n  constructor(public facet: HierarchicalFacet, public facetValue: FacetValue, public keepDisplayedValueNextTime: boolean) {\n    super(facet, facetValue, keepDisplayedValueNextTime);\n  }\n\n  public _handleSelectValue(eventBindings: IValueElementEventsBinding) {\n    this.facet.open(this.facetValue);\n    super.handleSelectValue(eventBindings);\n  }\n\n  public _handleExcludeClick(eventBindings: IValueElementEventsBinding) {\n    this.facet.open(this.facetValue);\n    super.handleExcludeClick(eventBindings);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/HierarchicalFacet/HierarchicalFacetSearchValueElement.ts\n **/","l":{"1":1,"6":1,"7":1,"8":0,"11":1,"12":0,"13":0,"16":1,"17":0,"18":0,"20":1}},"src/ui/HierarchicalFacet/HierarchicalFacetSearch.ts":{"path":"src/ui/HierarchicalFacet/HierarchicalFacetSearch.ts","statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":49}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":69}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":48}},"4":{"start":{"line":9,"column":0},"end":{"line":9,"column":40}},"5":{"start":{"line":10,"column":0},"end":{"line":10,"column":51}},"6":{"start":{"line":12,"column":0},"end":{"line":68,"column":1}},"7":{"start":{"line":12,"column":45},"end":{"line":12,"column":56}},"8":{"start":{"line":13,"column":2},"end":{"line":15,"column":3}},"9":{"start":{"line":14,"column":4},"end":{"line":14,"column":51}},"10":{"start":{"line":13,"column":21},"end":{"line":13,"column":45}},"11":{"start":{"line":13,"column":54},"end":{"line":13,"column":109}},"12":{"start":{"line":17,"column":12},"end":{"line":24,"column":3}},"13":{"start":{"line":18,"column":4},"end":{"line":18,"column":73}},"14":{"start":{"line":19,"column":4},"end":{"line":19,"column":59}},"15":{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},"16":{"start":{"line":21,"column":6},"end":{"line":21,"column":107}},"17":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"18":{"start":{"line":26,"column":12},"end":{"line":40,"column":3}},"19":{"start":{"line":26,"column":2},"end":{"line":40,"column":3}},"20":{"start":{"line":27,"column":4},"end":{"line":27,"column":38}},"21":{"start":{"line":29,"column":4},"end":{"line":29,"column":65}},"22":{"start":{"line":30,"column":4},"end":{"line":30,"column":59}},"23":{"start":{"line":31,"column":4},"end":{"line":31,"column":69}},"24":{"start":{"line":32,"column":4},"end":{"line":32,"column":76}},"25":{"start":{"line":33,"column":4},"end":{"line":38,"column":7}},"26":{"start":{"line":34,"column":6},"end":{"line":34,"column":37}},"27":{"start":{"line":35,"column":6},"end":{"line":35,"column":27}},"28":{"start":{"line":36,"column":6},"end":{"line":36,"column":57}},"29":{"start":{"line":37,"column":6},"end":{"line":37,"column":67}},"30":{"start":{"line":39,"column":4},"end":{"line":39,"column":35}},"31":{"start":{"line":42,"column":10},"end":{"line":49,"column":3}},"32":{"start":{"line":42,"column":2},"end":{"line":49,"column":3}},"33":{"start":{"line":43,"column":4},"end":{"line":43,"column":20}},"34":{"start":{"line":44,"column":4},"end":{"line":47,"column":6}},"35":{"start":{"line":45,"column":6},"end":{"line":45,"column":73}},"36":{"start":{"line":46,"column":6},"end":{"line":46,"column":66}},"37":{"start":{"line":48,"column":4},"end":{"line":48,"column":29}},"38":{"start":{"line":51,"column":10},"end":{"line":67,"column":3}},"39":{"start":{"line":51,"column":2},"end":{"line":67,"column":3}},"40":{"start":{"line":52,"column":4},"end":{"line":52,"column":20}},"41":{"start":{"line":53,"column":4},"end":{"line":53,"column":48}},"42":{"start":{"line":54,"column":4},"end":{"line":54,"column":55}},"43":{"start":{"line":55,"column":4},"end":{"line":57,"column":5}},"44":{"start":{"line":56,"column":6},"end":{"line":56,"column":49}},"45":{"start":{"line":58,"column":4},"end":{"line":58,"column":31}},"46":{"start":{"line":59,"column":4},"end":{"line":59,"column":32}},"47":{"start":{"line":60,"column":4},"end":{"line":60,"column":28}},"48":{"start":{"line":61,"column":4},"end":{"line":61,"column":34}},"49":{"start":{"line":62,"column":4},"end":{"line":65,"column":6}},"50":{"start":{"line":63,"column":6},"end":{"line":63,"column":84}},"51":{"start":{"line":64,"column":6},"end":{"line":64,"column":71}},"52":{"start":{"line":66,"column":4},"end":{"line":66,"column":18}},"53":{"start":{"line":68,"column":0},"end":{"line":68,"column":1}},"54":{"start":{"line":12,"column":13},"end":{"line":68,"column":1}}},"fnMap":{"1":{"name":"(anonymous_5459)","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}}},"2":{"name":"(anonymous_5462)","line":12,"loc":{"start":{"line":12,"column":0},"end":{"line":null,"column":-1}}},"3":{"name":"HierarchicalFacetSearch","line":13,"loc":{"start":{"line":13,"column":2},"end":{"line":13,"column":128}}},"4":{"name":"(anonymous_5464)","line":17,"loc":{"start":{"line":17,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_5465)","line":26,"loc":{"start":{"line":26,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_5466)","line":33,"loc":{"start":{"line":33,"column":66},"end":{"line":33,"column":98}}},"7":{"name":"(anonymous_5467)","line":42,"loc":{"start":{"line":42,"column":2},"end":{"line":42,"column":56}}},"8":{"name":"(anonymous_5468)","line":44,"loc":{"start":{"line":44,"column":24},"end":{"line":44,"column":35}}},"9":{"name":"(anonymous_5469)","line":51,"loc":{"start":{"line":51,"column":2},"end":{"line":51,"column":67}}},"10":{"name":"(anonymous_5470)","line":62,"loc":{"start":{"line":62,"column":19},"end":{"line":62,"column":25}}}},"branchMap":{"1":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":4},"end":{"line":20,"column":3}},{"start":{"line":20,"column":4},"end":{"line":20,"column":3}}]},"2":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":4},"end":{"line":55,"column":3}},{"start":{"line":55,"column":4},"end":{"line":55,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":15,"10":15,"11":15,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":1,"54":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":1,"2":1,"3":15,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"code":"/// <reference path=\"HierarchicalFacet.ts\" />\n\nimport {FacetSearch} from '../Facet/FacetSearch';\nimport {HierarchicalFacet, IValueHierarchy} from './HierarchicalFacet';\nimport {IFacetSearchValuesListKlass} from '../Facet/FacetSearchValuesList'\nimport {FacetSearchParameters} from '../Facet/FacetSearchParameters';\nimport {IIndexFieldValue} from '../../rest/FieldValue';\nimport {FacetValue} from '../Facet/FacetValues';\nimport {Utils} from '../../utils/Utils';\nimport {ModalBox} from '../../ExternalModulesShim';\n\nexport class HierarchicalFacetSearch extends FacetSearch {\n  constructor(public facet: HierarchicalFacet, public facetSearchValuesListKlass: IFacetSearchValuesListKlass, root: HTMLElement) {\n    super(facet, facetSearchValuesListKlass, root);\n  }\n\n  protected buildParamsForExcludingCurrentlyDisplayedValues() {\n    var params = super.buildParamsForExcludingCurrentlyDisplayedValues();\n    params.alwaysExclude = this.facet.getDisplayedValues();\n    if (this.facet.facetSearch.currentlyDisplayedResults) {\n      params.alwaysExclude = params.alwaysExclude.concat(this.facet.facetSearch.currentlyDisplayedResults);\n    }\n    return params;\n  }\n\n  protected selectAllValuesMatchingSearch() {\n    this.facet.showWaitingAnimation();\n\n    var searchParameters = new FacetSearchParameters(this.facet);\n    searchParameters.nbResults = this.facet.numberOfValues;\n    searchParameters.alwaysInclude = this.facet.getDisplayedValues();\n    searchParameters.setValueToSearch(this.getValueInInputForFacetSearch());\n    this.facet.facetQueryController.search(searchParameters).then((fieldValues: IIndexFieldValue[]) => {\n      this.completelyDismissSearch();\n      ModalBox.close(true);\n      var facetValues = this.getFacetValues(fieldValues);\n      this.facet.processFacetSearchAllResultsSelected(facetValues);\n    });\n    this.completelyDismissSearch();\n  }\n\n  private getFacetValues(fieldValues: IIndexFieldValue[]): FacetValue[] {\n    var values = [];\n    _.each(fieldValues, (fieldValue) => {\n      var hierarchy = this.facet.getValueFromHierarchy(fieldValue.value);\n      values.push(this.createFacetValuesFromHierarchy(hierarchy));\n    })\n    return _.flatten(values);\n  }\n\n  private createFacetValuesFromHierarchy(hierarchy: IValueHierarchy): FacetValue[] {\n    var values = [];\n    var fieldValue = hierarchy.facetValue.value;\n    var facetValue = this.facet.values.get(fieldValue);\n    if (!Utils.exists(facetValue)) {\n      facetValue = FacetValue.create(fieldValue);\n    }\n    facetValue.selected = true;\n    facetValue.excluded = false;\n    values.push(facetValue);\n    var childs = hierarchy.childs;\n    _.each(childs, (child) => {\n      var childHierarchy = this.facet.getValueFromHierarchy(child.facetValue.value);\n      values.push(this.createFacetValuesFromHierarchy(childHierarchy));\n    })\n    return values;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/HierarchicalFacet/HierarchicalFacetSearch.ts\n **/","l":{"3":1,"6":1,"8":1,"9":1,"10":1,"12":1,"13":15,"14":15,"17":1,"18":0,"19":0,"20":0,"21":0,"23":0,"26":1,"27":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"39":0,"42":1,"43":0,"44":0,"45":0,"46":0,"48":0,"51":1,"52":0,"53":0,"54":0,"55":0,"56":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"66":0,"68":1}},"src/ui/HierarchicalFacet/HierarchicalBreadcrumbValuesList.ts":{"path":"src/ui/HierarchicalFacet/HierarchicalBreadcrumbValuesList.ts","statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":66}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":88}},"3":{"start":{"line":8,"column":0},"end":{"line":12,"column":1}},"4":{"start":{"line":8,"column":54},"end":{"line":8,"column":73}},"5":{"start":{"line":9,"column":2},"end":{"line":11,"column":3}},"6":{"start":{"line":10,"column":4},"end":{"line":10,"column":66}},"7":{"start":{"line":9,"column":21},"end":{"line":9,"column":45}},"8":{"start":{"line":9,"column":54},"end":{"line":9,"column":79}},"9":{"start":{"line":9,"column":88},"end":{"line":9,"column":145}},"10":{"start":{"line":12,"column":0},"end":{"line":12,"column":1}},"11":{"start":{"line":8,"column":13},"end":{"line":12,"column":1}}},"fnMap":{"1":{"name":"(anonymous_5474)","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"HierarchicalBreadcrumbValuesList","line":9,"loc":{"start":{"line":9,"column":2},"end":{"line":9,"column":145}}}},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":2,"7":2,"8":2,"9":2,"10":1,"11":1},"b":{},"f":{"1":1,"2":2},"code":"/// <reference path=\"HierarchicalFacet.ts\" />\n\nimport {BreadcrumbValueList} from '../Facet/BreadcrumbValuesList';\nimport {HierarchicalFacet, IValueHierarchy} from './HierarchicalFacet';\nimport {FacetValue} from '../Facet/FacetValues';\nimport {HierarchicalBreadcrumbValueElement} from './HierarchicalBreadcrumbValueElement';\n\nexport class HierarchicalBreadcrumbValuesList extends BreadcrumbValueList {\n  constructor(public facet: HierarchicalFacet, public facetValues: FacetValue[], public valueHierarchy: { [facetValue: string]: IValueHierarchy }) {\n    super(facet, facetValues, HierarchicalBreadcrumbValueElement);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/HierarchicalFacet/HierarchicalBreadcrumbValuesList.ts\n **/","l":{"3":1,"6":1,"8":1,"9":2,"10":2,"12":1}},"src/ui/HierarchicalFacet/HierarchicalBreadcrumbValueElement.ts":{"path":"src/ui/HierarchicalFacet/HierarchicalBreadcrumbValueElement.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":71}},"2":{"start":{"line":6,"column":0},"end":{"line":22,"column":1}},"3":{"start":{"line":6,"column":56},"end":{"line":6,"column":78}},"4":{"start":{"line":7,"column":2},"end":{"line":9,"column":3}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":29}},"6":{"start":{"line":7,"column":21},"end":{"line":7,"column":45}},"7":{"start":{"line":7,"column":54},"end":{"line":7,"column":76}},"8":{"start":{"line":11,"column":9},"end":{"line":21,"column":3}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":30}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":53}},"11":{"start":{"line":14,"column":4},"end":{"line":14,"column":64}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":85}},"13":{"start":{"line":16,"column":4},"end":{"line":18,"column":6}},"14":{"start":{"line":17,"column":6},"end":{"line":17,"column":25}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":103}},"16":{"start":{"line":20,"column":4},"end":{"line":20,"column":17}},"17":{"start":{"line":22,"column":0},"end":{"line":22,"column":1}},"18":{"start":{"line":6,"column":13},"end":{"line":22,"column":1}}},"fnMap":{"1":{"name":"(anonymous_5480)","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"HierarchicalBreadcrumbValueElement","line":7,"loc":{"start":{"line":7,"column":2},"end":{"line":7,"column":76}}},"3":{"name":"(anonymous_5482)","line":11,"loc":{"start":{"line":11,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_5483)","line":16,"loc":{"start":{"line":16,"column":27},"end":{"line":16,"column":29}}}},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":2,"14":3,"15":2,"16":2,"17":1,"18":1},"b":{},"f":{"1":1,"2":2,"3":2,"4":3},"code":"import {BreadcrumbValueElement} from '../Facet/BreadcrumbValueElement';\nimport {FacetValue} from '../Facet/FacetValues';\nimport {HierarchicalFacet} from './HierarchicalFacet';\nimport {Dom} from '../../utils/Dom';\n\nexport class HierarchicalBreadcrumbValueElement extends BreadcrumbValueElement {\n  constructor(public facet: HierarchicalFacet, public facetValue: FacetValue) {\n    super(facet, facetValue);\n  }\n\n  public build(): Dom {\n    var build = super.build();\n    build.addClass('coveo-hierarchical-facet-value');\n    var caption = build.find('.coveo-facet-breadcrumb-caption');\n    var values = this.facetValue.value.split(this.facet.options.delimitingCharacter);\n    values = _.map(values, (v) => {\n      return _.escape(v);\n    })\n    caption.innerHTML = values.join('<span class=\\'coveo-hierarchical-breadcrumb-separator\\'></span>');\n    return build;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/HierarchicalFacet/HierarchicalBreadcrumbValueElement.ts\n **/","l":{"1":1,"6":1,"7":2,"8":2,"11":1,"12":2,"13":2,"14":2,"15":2,"16":2,"17":3,"19":2,"20":2,"22":1}},"src/ui/HierarchicalFacet/OmniboxHierarchicalValuesList.ts":{"path":"src/ui/HierarchicalFacet/OmniboxHierarchicalValuesList.ts","statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":61}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":82}},"3":{"start":{"line":9,"column":0},"end":{"line":13,"column":1}},"4":{"start":{"line":9,"column":51},"end":{"line":9,"column":68}},"5":{"start":{"line":10,"column":2},"end":{"line":12,"column":3}},"6":{"start":{"line":11,"column":4},"end":{"line":11,"column":78}},"7":{"start":{"line":10,"column":21},"end":{"line":10,"column":45}},"8":{"start":{"line":10,"column":54},"end":{"line":10,"column":79}},"9":{"start":{"line":10,"column":88},"end":{"line":10,"column":125}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":1}},"11":{"start":{"line":9,"column":13},"end":{"line":13,"column":1}}},"fnMap":{"1":{"name":"(anonymous_5487)","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"OmniboxHierarchicalValuesList","line":10,"loc":{"start":{"line":10,"column":2},"end":{"line":10,"column":125}}}},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":1,"11":1},"b":{},"f":{"1":1,"2":0},"code":"/// <reference path=\"../HierarchicalFacet/HierarchicalFacet.ts\" />\n\nimport {OmniboxValuesList} from '../Facet/OmniboxValuesList';\nimport {FacetValue} from '../Facet/FacetValues';\nimport {HierarchicalFacet} from '../HierarchicalFacet/HierarchicalFacet';\nimport {IPopulateOmniboxObject} from '../Omnibox/OmniboxInterface';\nimport {OmniboxHierarchicalValueElement} from './OmniboxHierarchicalValueElement';\n\nexport class OmniboxHierarchicalValuesList extends OmniboxValuesList {\n  constructor(public facet: HierarchicalFacet, public facetValues: FacetValue[], public omniboxObject: IPopulateOmniboxObject) {\n    super(facet, facetValues, omniboxObject, OmniboxHierarchicalValueElement);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/HierarchicalFacet/OmniboxHierarchicalValuesList.ts\n **/","l":{"3":1,"7":1,"9":1,"10":1,"11":0,"13":1}},"src/ui/HierarchicalFacet/OmniboxHierarchicalValueElement.ts":{"path":"src/ui/HierarchicalFacet/OmniboxHierarchicalValueElement.ts","statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":65}},"2":{"start":{"line":9,"column":0},"end":{"line":23,"column":1}},"3":{"start":{"line":9,"column":53},"end":{"line":9,"column":72}},"4":{"start":{"line":10,"column":2},"end":{"line":12,"column":3}},"5":{"start":{"line":11,"column":4},"end":{"line":11,"column":38}},"6":{"start":{"line":10,"column":21},"end":{"line":10,"column":45}},"7":{"start":{"line":10,"column":54},"end":{"line":10,"column":76}},"8":{"start":{"line":10,"column":85},"end":{"line":10,"column":117}},"9":{"start":{"line":14,"column":9},"end":{"line":17,"column":3}},"10":{"start":{"line":15,"column":4},"end":{"line":15,"column":37}},"11":{"start":{"line":16,"column":4},"end":{"line":16,"column":43}},"12":{"start":{"line":19,"column":9},"end":{"line":22,"column":3}},"13":{"start":{"line":20,"column":4},"end":{"line":20,"column":37}},"14":{"start":{"line":21,"column":4},"end":{"line":21,"column":44}},"15":{"start":{"line":23,"column":0},"end":{"line":23,"column":1}},"16":{"start":{"line":9,"column":13},"end":{"line":23,"column":1}}},"fnMap":{"1":{"name":"(anonymous_5492)","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"OmniboxHierarchicalValueElement","line":10,"loc":{"start":{"line":10,"column":2},"end":{"line":10,"column":117}}},"3":{"name":"(anonymous_5494)","line":14,"loc":{"start":{"line":14,"column":2},"end":{"line":14,"column":69}}},"4":{"name":"(anonymous_5495)","line":19,"loc":{"start":{"line":19,"column":2},"end":{"line":19,"column":70}}}},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":1,"13":0,"14":0,"15":1,"16":1},"b":{},"f":{"1":1,"2":0,"3":0,"4":0},"code":"/// <reference path=\"HierarchicalFacet.ts\" />\n\nimport {OmniboxValueElement} from '../Facet/OmniboxValueElement';\nimport {HierarchicalFacet} from './HierarchicalFacet';\nimport {FacetValue} from '../Facet/FacetValues';\nimport {IPopulateOmniboxObject} from '../Omnibox/OmniboxInterface';\nimport {IValueElementEventsBinding} from '../Facet/ValueElement';\n\nexport class OmniboxHierarchicalValueElement extends OmniboxValueElement {\n  constructor(public facet: HierarchicalFacet, public facetValue: FacetValue, public eventArg: IPopulateOmniboxObject) {\n    super(facet, facetValue, eventArg)\n  }\n\n  public _handleSelectValue(eventBindings: IValueElementEventsBinding) {\n    this.facet.open(this.facetValue);\n    super.handleSelectValue(eventBindings);\n  }\n\n  public _handleExcludeClick(eventBindings: IValueElementEventsBinding) {\n    this.facet.open(this.facetValue);\n    super.handleExcludeClick(eventBindings);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/HierarchicalFacet/OmniboxHierarchicalValueElement.ts\n **/","l":{"3":1,"9":1,"10":1,"11":0,"14":1,"15":0,"16":0,"19":1,"20":0,"21":0,"23":1}},"src/ui/HierarchicalFacet/HierarchicalFacetValueElement.ts":{"path":"src/ui/HierarchicalFacet/HierarchicalFacetValueElement.ts","statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":61}},"2":{"start":{"line":7,"column":0},"end":{"line":11,"column":1}},"3":{"start":{"line":7,"column":51},"end":{"line":7,"column":68}},"4":{"start":{"line":8,"column":2},"end":{"line":10,"column":3}},"5":{"start":{"line":9,"column":4},"end":{"line":9,"column":56}},"6":{"start":{"line":8,"column":21},"end":{"line":8,"column":45}},"7":{"start":{"line":8,"column":54},"end":{"line":8,"column":76}},"8":{"start":{"line":8,"column":85},"end":{"line":8,"column":120}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":1}},"10":{"start":{"line":7,"column":13},"end":{"line":11,"column":1}}},"fnMap":{"1":{"name":"(anonymous_5499)","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"HierarchicalFacetValueElement","line":8,"loc":{"start":{"line":8,"column":2},"end":{"line":8,"column":120}}}},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":215,"6":215,"7":215,"8":215,"9":1,"10":1},"b":{},"f":{"1":1,"2":215},"code":"/// <reference path=\"HierarchicalFacet.ts\" />\n\nimport {FacetValueElement} from '../Facet/FacetValueElement';\nimport {HierarchicalFacet} from './HierarchicalFacet';\nimport {FacetValue} from '../Facet/FacetValues';\n\nexport class HierarchicalFacetValueElement extends FacetValueElement {\n  constructor(public facet: HierarchicalFacet, public facetValue: FacetValue, public keepDisplayedValueNextTime: boolean) {\n    super(facet, facetValue, keepDisplayedValueNextTime)\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/HierarchicalFacet/HierarchicalFacetValueElement.ts\n **/","l":{"3":1,"7":1,"8":215,"9":215,"11":1}},"src/ui/Matrix/Matrix.ts":{"path":"src/ui/Matrix/Matrix.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":44}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":58}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":28}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":88}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":35}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":131}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":61}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":40}},"9":{"start":{"line":15,"column":0},"end":{"line":15,"column":81}},"10":{"start":{"line":16,"column":0},"end":{"line":16,"column":50}},"11":{"start":{"line":18,"column":0},"end":{"line":18,"column":40}},"12":{"start":{"line":54,"column":0},"end":{"line":815,"column":1}},"13":{"start":{"line":54,"column":28},"end":{"line":54,"column":37}},"14":{"start":{"line":223,"column":2},"end":{"line":250,"column":3}},"15":{"start":{"line":224,"column":4},"end":{"line":224,"column":40}},"16":{"start":{"line":223,"column":21},"end":{"line":223,"column":41}},"17":{"start":{"line":223,"column":50},"end":{"line":223,"column":74}},"18":{"start":{"line":201,"column":9},"end":{"line":201,"column":27}},"19":{"start":{"line":202,"column":9},"end":{"line":202,"column":20}},"20":{"start":{"line":203,"column":9},"end":{"line":203,"column":23}},"21":{"start":{"line":207,"column":9},"end":{"line":207,"column":46}},"22":{"start":{"line":211,"column":9},"end":{"line":211,"column":41}},"23":{"start":{"line":213,"column":10},"end":{"line":213,"column":27}},"24":{"start":{"line":214,"column":10},"end":{"line":214,"column":30}},"25":{"start":{"line":225,"column":4},"end":{"line":225,"column":83}},"26":{"start":{"line":227,"column":4},"end":{"line":229,"column":5}},"27":{"start":{"line":228,"column":6},"end":{"line":228,"column":138}},"28":{"start":{"line":231,"column":4},"end":{"line":233,"column":5}},"29":{"start":{"line":232,"column":6},"end":{"line":232,"column":64}},"30":{"start":{"line":235,"column":4},"end":{"line":237,"column":5}},"31":{"start":{"line":236,"column":6},"end":{"line":236,"column":65}},"32":{"start":{"line":239,"column":4},"end":{"line":239,"column":23}},"33":{"start":{"line":240,"column":4},"end":{"line":249,"column":5}},"34":{"start":{"line":241,"column":6},"end":{"line":241,"column":82}},"35":{"start":{"line":242,"column":11},"end":{"line":249,"column":5}},"36":{"start":{"line":243,"column":6},"end":{"line":243,"column":85}},"37":{"start":{"line":244,"column":11},"end":{"line":249,"column":5}},"38":{"start":{"line":245,"column":6},"end":{"line":245,"column":87}},"39":{"start":{"line":247,"column":6},"end":{"line":247,"column":24}},"40":{"start":{"line":248,"column":6},"end":{"line":248,"column":28}},"41":{"start":{"line":257,"column":9},"end":{"line":280,"column":3}},"42":{"start":{"line":258,"column":4},"end":{"line":258,"column":30}},"43":{"start":{"line":259,"column":4},"end":{"line":261,"column":5}},"44":{"start":{"line":260,"column":6},"end":{"line":260,"column":45}},"45":{"start":{"line":263,"column":4},"end":{"line":265,"column":5}},"46":{"start":{"line":264,"column":6},"end":{"line":264,"column":54}},"47":{"start":{"line":267,"column":4},"end":{"line":272,"column":5}},"48":{"start":{"line":268,"column":6},"end":{"line":268,"column":55}},"49":{"start":{"line":270,"column":6},"end":{"line":270,"column":39}},"50":{"start":{"line":271,"column":6},"end":{"line":271,"column":47}},"51":{"start":{"line":274,"column":4},"end":{"line":279,"column":5}},"52":{"start":{"line":275,"column":6},"end":{"line":275,"column":61}},"53":{"start":{"line":277,"column":6},"end":{"line":277,"column":44}},"54":{"start":{"line":278,"column":6},"end":{"line":278,"column":50}},"55":{"start":{"line":285,"column":9},"end":{"line":287,"column":3}},"56":{"start":{"line":286,"column":4},"end":{"line":286,"column":36}},"57":{"start":{"line":292,"column":9},"end":{"line":294,"column":3}},"58":{"start":{"line":293,"column":4},"end":{"line":293,"column":33}},"59":{"start":{"line":302,"column":9},"end":{"line":304,"column":3}},"60":{"start":{"line":303,"column":4},"end":{"line":303,"column":56}},"61":{"start":{"line":312,"column":9},"end":{"line":315,"column":3}},"62":{"start":{"line":313,"column":4},"end":{"line":313,"column":60}},"63":{"start":{"line":314,"column":4},"end":{"line":314,"column":27}},"64":{"start":{"line":317,"column":9},"end":{"line":344,"column":3}},"65":{"start":{"line":317,"column":2},"end":{"line":344,"column":3}},"66":{"start":{"line":318,"column":4},"end":{"line":320,"column":6}},"67":{"start":{"line":321,"column":4},"end":{"line":321,"column":34}},"68":{"start":{"line":322,"column":4},"end":{"line":322,"column":104}},"69":{"start":{"line":323,"column":4},"end":{"line":328,"column":5}},"70":{"start":{"line":324,"column":6},"end":{"line":326,"column":12}},"71":{"start":{"line":327,"column":6},"end":{"line":327,"column":27}},"72":{"start":{"line":330,"column":4},"end":{"line":336,"column":5}},"73":{"start":{"line":331,"column":6},"end":{"line":333,"column":12}},"74":{"start":{"line":335,"column":6},"end":{"line":335,"column":52}},"75":{"start":{"line":338,"column":4},"end":{"line":343,"column":5}},"76":{"start":{"line":339,"column":6},"end":{"line":339,"column":65}},"77":{"start":{"line":340,"column":6},"end":{"line":342,"column":8}},"78":{"start":{"line":341,"column":8},"end":{"line":341,"column":53}},"79":{"start":{"line":346,"column":10},"end":{"line":350,"column":3}},"80":{"start":{"line":346,"column":2},"end":{"line":350,"column":3}},"81":{"start":{"line":347,"column":4},"end":{"line":347,"column":122}},"82":{"start":{"line":347,"column":90},"end":{"line":347,"column":120}},"83":{"start":{"line":348,"column":4},"end":{"line":348,"column":134}},"84":{"start":{"line":348,"column":98},"end":{"line":348,"column":132}},"85":{"start":{"line":349,"column":4},"end":{"line":349,"column":135}},"86":{"start":{"line":349,"column":96},"end":{"line":349,"column":133}},"87":{"start":{"line":352,"column":10},"end":{"line":358,"column":3}},"88":{"start":{"line":353,"column":4},"end":{"line":353,"column":67}},"89":{"start":{"line":354,"column":4},"end":{"line":354,"column":73}},"90":{"start":{"line":356,"column":4},"end":{"line":356,"column":62}},"91":{"start":{"line":357,"column":4},"end":{"line":357,"column":65}},"92":{"start":{"line":360,"column":10},"end":{"line":365,"column":3}},"93":{"start":{"line":361,"column":4},"end":{"line":361,"column":22}},"94":{"start":{"line":362,"column":4},"end":{"line":362,"column":21}},"95":{"start":{"line":363,"column":4},"end":{"line":363,"column":41}},"96":{"start":{"line":364,"column":4},"end":{"line":364,"column":24}},"97":{"start":{"line":367,"column":10},"end":{"line":373,"column":3}},"98":{"start":{"line":368,"column":4},"end":{"line":368,"column":61}},"99":{"start":{"line":369,"column":4},"end":{"line":371,"column":17}},"100":{"start":{"line":372,"column":4},"end":{"line":372,"column":40}},"101":{"start":{"line":375,"column":10},"end":{"line":380,"column":3}},"102":{"start":{"line":376,"column":4},"end":{"line":378,"column":10}},"103":{"start":{"line":379,"column":4},"end":{"line":379,"column":35}},"104":{"start":{"line":382,"column":10},"end":{"line":391,"column":3}},"105":{"start":{"line":383,"column":4},"end":{"line":390,"column":5}},"106":{"start":{"line":384,"column":6},"end":{"line":386,"column":7}},"107":{"start":{"line":385,"column":8},"end":{"line":385,"column":116}},"108":{"start":{"line":387,"column":6},"end":{"line":389,"column":7}},"109":{"start":{"line":388,"column":8},"end":{"line":388,"column":122}},"110":{"start":{"line":393,"column":10},"end":{"line":397,"column":3}},"111":{"start":{"line":394,"column":4},"end":{"line":394,"column":27}},"112":{"start":{"line":395,"column":4},"end":{"line":395,"column":50}},"113":{"start":{"line":396,"column":4},"end":{"line":396,"column":54}},"114":{"start":{"line":399,"column":10},"end":{"line":407,"column":3}},"115":{"start":{"line":400,"column":4},"end":{"line":400,"column":17}},"116":{"start":{"line":401,"column":4},"end":{"line":401,"column":36}},"117":{"start":{"line":402,"column":4},"end":{"line":402,"column":21}},"118":{"start":{"line":403,"column":4},"end":{"line":403,"column":22}},"119":{"start":{"line":404,"column":4},"end":{"line":404,"column":23}},"120":{"start":{"line":405,"column":4},"end":{"line":405,"column":38}},"121":{"start":{"line":406,"column":4},"end":{"line":406,"column":41}},"122":{"start":{"line":409,"column":10},"end":{"line":419,"column":3}},"123":{"start":{"line":410,"column":4},"end":{"line":415,"column":5}},"124":{"start":{"line":417,"column":4},"end":{"line":417,"column":64}},"125":{"start":{"line":418,"column":4},"end":{"line":418,"column":47}},"126":{"start":{"line":421,"column":10},"end":{"line":434,"column":3}},"127":{"start":{"line":422,"column":4},"end":{"line":433,"column":5}},"128":{"start":{"line":423,"column":6},"end":{"line":429,"column":7}},"129":{"start":{"line":431,"column":6},"end":{"line":431,"column":65}},"130":{"start":{"line":432,"column":6},"end":{"line":432,"column":49}},"131":{"start":{"line":436,"column":10},"end":{"line":451,"column":3}},"132":{"start":{"line":437,"column":4},"end":{"line":437,"column":53}},"133":{"start":{"line":438,"column":4},"end":{"line":438,"column":69}},"134":{"start":{"line":439,"column":4},"end":{"line":439,"column":69}},"135":{"start":{"line":440,"column":4},"end":{"line":440,"column":24}},"136":{"start":{"line":441,"column":4},"end":{"line":443,"column":5}},"137":{"start":{"line":442,"column":6},"end":{"line":442,"column":37}},"138":{"start":{"line":444,"column":4},"end":{"line":446,"column":5}},"139":{"start":{"line":445,"column":6},"end":{"line":445,"column":45}},"140":{"start":{"line":447,"column":4},"end":{"line":449,"column":5}},"141":{"start":{"line":448,"column":6},"end":{"line":448,"column":45}},"142":{"start":{"line":450,"column":4},"end":{"line":450,"column":22}},"143":{"start":{"line":453,"column":10},"end":{"line":459,"column":3}},"144":{"start":{"line":454,"column":4},"end":{"line":457,"column":7}},"145":{"start":{"line":458,"column":4},"end":{"line":458,"column":26}},"146":{"start":{"line":461,"column":10},"end":{"line":478,"column":3}},"147":{"start":{"line":462,"column":4},"end":{"line":462,"column":47}},"148":{"start":{"line":463,"column":4},"end":{"line":463,"column":56}},"149":{"start":{"line":464,"column":4},"end":{"line":464,"column":23}},"150":{"start":{"line":466,"column":4},"end":{"line":471,"column":5}},"151":{"start":{"line":467,"column":6},"end":{"line":470,"column":7}},"152":{"start":{"line":468,"column":8},"end":{"line":468,"column":63}},"153":{"start":{"line":469,"column":8},"end":{"line":469,"column":14}},"154":{"start":{"line":473,"column":4},"end":{"line":475,"column":5}},"155":{"start":{"line":474,"column":6},"end":{"line":474,"column":21}},"156":{"start":{"line":477,"column":4},"end":{"line":477,"column":22}},"157":{"start":{"line":480,"column":10},"end":{"line":487,"column":3}},"158":{"start":{"line":481,"column":4},"end":{"line":483,"column":5}},"159":{"start":{"line":482,"column":6},"end":{"line":482,"column":26}},"160":{"start":{"line":484,"column":4},"end":{"line":486,"column":5}},"161":{"start":{"line":485,"column":6},"end":{"line":485,"column":29}},"162":{"start":{"line":489,"column":10},"end":{"line":509,"column":3}},"163":{"start":{"line":489,"column":2},"end":{"line":509,"column":3}},"164":{"start":{"line":490,"column":4},"end":{"line":490,"column":21}},"165":{"start":{"line":491,"column":4},"end":{"line":491,"column":55}},"166":{"start":{"line":492,"column":4},"end":{"line":495,"column":5}},"167":{"start":{"line":493,"column":6},"end":{"line":493,"column":45}},"168":{"start":{"line":494,"column":6},"end":{"line":494,"column":58}},"169":{"start":{"line":498,"column":4},"end":{"line":502,"column":5}},"170":{"start":{"line":499,"column":6},"end":{"line":501,"column":8}},"171":{"start":{"line":500,"column":8},"end":{"line":500,"column":94}},"172":{"start":{"line":504,"column":4},"end":{"line":508,"column":5}},"173":{"start":{"line":505,"column":6},"end":{"line":507,"column":8}},"174":{"start":{"line":506,"column":8},"end":{"line":506,"column":94}},"175":{"start":{"line":511,"column":10},"end":{"line":518,"column":3}},"176":{"start":{"line":512,"column":4},"end":{"line":512,"column":18}},"177":{"start":{"line":513,"column":4},"end":{"line":513,"column":52}},"178":{"start":{"line":514,"column":4},"end":{"line":517,"column":5}},"179":{"start":{"line":515,"column":6},"end":{"line":515,"column":51}},"180":{"start":{"line":516,"column":6},"end":{"line":516,"column":58}},"181":{"start":{"line":520,"column":10},"end":{"line":526,"column":3}},"182":{"start":{"line":521,"column":4},"end":{"line":521,"column":18}},"183":{"start":{"line":522,"column":4},"end":{"line":524,"column":5}},"184":{"start":{"line":523,"column":6},"end":{"line":523,"column":68}},"185":{"start":{"line":525,"column":4},"end":{"line":525,"column":17}},"186":{"start":{"line":528,"column":10},"end":{"line":534,"column":3}},"187":{"start":{"line":529,"column":4},"end":{"line":529,"column":18}},"188":{"start":{"line":530,"column":4},"end":{"line":532,"column":5}},"189":{"start":{"line":531,"column":6},"end":{"line":531,"column":68}},"190":{"start":{"line":533,"column":4},"end":{"line":533,"column":17}},"191":{"start":{"line":536,"column":10},"end":{"line":544,"column":3}},"192":{"start":{"line":537,"column":4},"end":{"line":543,"column":5}},"193":{"start":{"line":538,"column":6},"end":{"line":542,"column":7}},"194":{"start":{"line":539,"column":8},"end":{"line":539,"column":48}},"195":{"start":{"line":540,"column":8},"end":{"line":540,"column":91}},"196":{"start":{"line":541,"column":8},"end":{"line":541,"column":39}},"197":{"start":{"line":546,"column":10},"end":{"line":554,"column":3}},"198":{"start":{"line":547,"column":4},"end":{"line":547,"column":18}},"199":{"start":{"line":548,"column":4},"end":{"line":548,"column":21}},"200":{"start":{"line":549,"column":4},"end":{"line":549,"column":51}},"201":{"start":{"line":550,"column":4},"end":{"line":553,"column":5}},"202":{"start":{"line":551,"column":6},"end":{"line":551,"column":23}},"203":{"start":{"line":552,"column":6},"end":{"line":552,"column":60}},"204":{"start":{"line":556,"column":10},"end":{"line":563,"column":3}},"205":{"start":{"line":557,"column":4},"end":{"line":557,"column":38}},"206":{"start":{"line":559,"column":4},"end":{"line":561,"column":5}},"207":{"start":{"line":560,"column":6},"end":{"line":560,"column":45}},"208":{"start":{"line":562,"column":4},"end":{"line":562,"column":24}},"209":{"start":{"line":565,"column":10},"end":{"line":571,"column":3}},"210":{"start":{"line":566,"column":4},"end":{"line":568,"column":5}},"211":{"start":{"line":567,"column":6},"end":{"line":567,"column":48}},"212":{"start":{"line":570,"column":4},"end":{"line":570,"column":27}},"213":{"start":{"line":573,"column":10},"end":{"line":582,"column":3}},"214":{"start":{"line":574,"column":4},"end":{"line":576,"column":7}},"215":{"start":{"line":578,"column":4},"end":{"line":580,"column":5}},"216":{"start":{"line":579,"column":6},"end":{"line":579,"column":45}},"217":{"start":{"line":581,"column":4},"end":{"line":581,"column":54}},"218":{"start":{"line":584,"column":10},"end":{"line":601,"column":3}},"219":{"start":{"line":585,"column":4},"end":{"line":585,"column":60}},"220":{"start":{"line":586,"column":4},"end":{"line":588,"column":5}},"221":{"start":{"line":587,"column":6},"end":{"line":587,"column":38}},"222":{"start":{"line":590,"column":4},"end":{"line":592,"column":5}},"223":{"start":{"line":591,"column":6},"end":{"line":591,"column":48}},"224":{"start":{"line":594,"column":4},"end":{"line":598,"column":5}},"225":{"start":{"line":595,"column":6},"end":{"line":597,"column":7}},"226":{"start":{"line":596,"column":8},"end":{"line":596,"column":53}},"227":{"start":{"line":600,"column":4},"end":{"line":600,"column":55}},"228":{"start":{"line":603,"column":10},"end":{"line":606,"column":3}},"229":{"start":{"line":604,"column":4},"end":{"line":604,"column":45}},"230":{"start":{"line":605,"column":4},"end":{"line":605,"column":40}},"231":{"start":{"line":608,"column":10},"end":{"line":610,"column":3}},"232":{"start":{"line":609,"column":4},"end":{"line":609,"column":46}},"233":{"start":{"line":612,"column":10},"end":{"line":614,"column":3}},"234":{"start":{"line":613,"column":4},"end":{"line":613,"column":60}},"235":{"start":{"line":616,"column":10},"end":{"line":619,"column":3}},"236":{"start":{"line":617,"column":4},"end":{"line":617,"column":77}},"237":{"start":{"line":618,"column":4},"end":{"line":618,"column":85}},"238":{"start":{"line":621,"column":10},"end":{"line":631,"column":3}},"239":{"start":{"line":622,"column":4},"end":{"line":629,"column":5}},"240":{"start":{"line":623,"column":6},"end":{"line":623,"column":86}},"241":{"start":{"line":624,"column":6},"end":{"line":628,"column":7}},"242":{"start":{"line":625,"column":8},"end":{"line":627,"column":9}},"243":{"start":{"line":626,"column":10},"end":{"line":626,"column":22}},"244":{"start":{"line":630,"column":4},"end":{"line":630,"column":51}},"245":{"start":{"line":633,"column":10},"end":{"line":636,"column":3}},"246":{"start":{"line":634,"column":4},"end":{"line":634,"column":71}},"247":{"start":{"line":635,"column":4},"end":{"line":635,"column":81}},"248":{"start":{"line":638,"column":10},"end":{"line":648,"column":3}},"249":{"start":{"line":639,"column":4},"end":{"line":646,"column":5}},"250":{"start":{"line":640,"column":6},"end":{"line":640,"column":73}},"251":{"start":{"line":641,"column":6},"end":{"line":645,"column":7}},"252":{"start":{"line":642,"column":8},"end":{"line":644,"column":9}},"253":{"start":{"line":643,"column":10},"end":{"line":643,"column":22}},"254":{"start":{"line":647,"column":4},"end":{"line":647,"column":45}},"255":{"start":{"line":650,"column":10},"end":{"line":658,"column":3}},"256":{"start":{"line":651,"column":4},"end":{"line":655,"column":5}},"257":{"start":{"line":652,"column":6},"end":{"line":652,"column":80}},"258":{"start":{"line":653,"column":11},"end":{"line":655,"column":5}},"259":{"start":{"line":654,"column":6},"end":{"line":654,"column":48}},"260":{"start":{"line":657,"column":4},"end":{"line":657,"column":17}},"261":{"start":{"line":660,"column":10},"end":{"line":662,"column":3}},"262":{"start":{"line":661,"column":4},"end":{"line":661,"column":67}},"263":{"start":{"line":664,"column":10},"end":{"line":667,"column":3}},"264":{"start":{"line":665,"column":4},"end":{"line":665,"column":57}},"265":{"start":{"line":666,"column":4},"end":{"line":666,"column":38}},"266":{"start":{"line":669,"column":10},"end":{"line":672,"column":3}},"267":{"start":{"line":670,"column":4},"end":{"line":670,"column":60}},"268":{"start":{"line":671,"column":4},"end":{"line":671,"column":38}},"269":{"start":{"line":674,"column":10},"end":{"line":681,"column":3}},"270":{"start":{"line":675,"column":4},"end":{"line":675,"column":29}},"271":{"start":{"line":676,"column":4},"end":{"line":676,"column":26}},"272":{"start":{"line":677,"column":4},"end":{"line":677,"column":29}},"273":{"start":{"line":678,"column":4},"end":{"line":678,"column":41}},"274":{"start":{"line":680,"column":4},"end":{"line":680,"column":23}},"275":{"start":{"line":683,"column":10},"end":{"line":703,"column":3}},"276":{"start":{"line":684,"column":4},"end":{"line":701,"column":5}},"277":{"start":{"line":685,"column":6},"end":{"line":685,"column":69}},"278":{"start":{"line":686,"column":6},"end":{"line":692,"column":7}},"279":{"start":{"line":687,"column":8},"end":{"line":691,"column":9}},"280":{"start":{"line":688,"column":10},"end":{"line":688,"column":50}},"281":{"start":{"line":689,"column":10},"end":{"line":689,"column":24}},"282":{"start":{"line":690,"column":10},"end":{"line":690,"column":41}},"283":{"start":{"line":694,"column":6},"end":{"line":700,"column":7}},"284":{"start":{"line":695,"column":8},"end":{"line":699,"column":9}},"285":{"start":{"line":696,"column":10},"end":{"line":696,"column":74}},"286":{"start":{"line":697,"column":10},"end":{"line":697,"column":65}},"287":{"start":{"line":698,"column":10},"end":{"line":698,"column":41}},"288":{"start":{"line":705,"column":10},"end":{"line":725,"column":3}},"289":{"start":{"line":705,"column":2},"end":{"line":725,"column":3}},"290":{"start":{"line":706,"column":4},"end":{"line":706,"column":53}},"291":{"start":{"line":708,"column":6},"end":{"line":708,"column":51}},"292":{"start":{"line":709,"column":6},"end":{"line":714,"column":8}},"293":{"start":{"line":710,"column":8},"end":{"line":712,"column":9}},"294":{"start":{"line":711,"column":10},"end":{"line":711,"column":43}},"295":{"start":{"line":713,"column":8},"end":{"line":713,"column":19}},"296":{"start":{"line":716,"column":6},"end":{"line":721,"column":7}},"297":{"start":{"line":717,"column":8},"end":{"line":720,"column":13}},"298":{"start":{"line":718,"column":10},"end":{"line":718,"column":77}},"299":{"start":{"line":718,"column":41},"end":{"line":718,"column":75}},"300":{"start":{"line":719,"column":10},"end":{"line":719,"column":77}},"301":{"start":{"line":719,"column":40},"end":{"line":719,"column":75}},"302":{"start":{"line":722,"column":6},"end":{"line":722,"column":28}},"303":{"start":{"line":707,"column":4},"end":{"line":723,"column":5}},"304":{"start":{"line":724,"column":4},"end":{"line":724,"column":26}},"305":{"start":{"line":727,"column":10},"end":{"line":733,"column":3}},"306":{"start":{"line":727,"column":2},"end":{"line":733,"column":3}},"307":{"start":{"line":728,"column":4},"end":{"line":732,"column":5}},"308":{"start":{"line":729,"column":6},"end":{"line":731,"column":36}},"309":{"start":{"line":730,"column":8},"end":{"line":730,"column":60}},"310":{"start":{"line":735,"column":10},"end":{"line":739,"column":3}},"311":{"start":{"line":736,"column":4},"end":{"line":736,"column":38}},"312":{"start":{"line":737,"column":4},"end":{"line":737,"column":50}},"313":{"start":{"line":738,"column":4},"end":{"line":738,"column":25}},"314":{"start":{"line":741,"column":10},"end":{"line":764,"column":3}},"315":{"start":{"line":741,"column":2},"end":{"line":764,"column":3}},"316":{"start":{"line":742,"column":4},"end":{"line":742,"column":65}},"317":{"start":{"line":743,"column":4},"end":{"line":743,"column":50}},"318":{"start":{"line":744,"column":4},"end":{"line":744,"column":80}},"319":{"start":{"line":746,"column":4},"end":{"line":746,"column":54}},"320":{"start":{"line":747,"column":4},"end":{"line":763,"column":6}},"321":{"start":{"line":751,"column":6},"end":{"line":753,"column":7}},"322":{"start":{"line":752,"column":8},"end":{"line":752,"column":15}},"323":{"start":{"line":754,"column":6},"end":{"line":754,"column":52}},"324":{"start":{"line":755,"column":6},"end":{"line":757,"column":8}},"325":{"start":{"line":756,"column":8},"end":{"line":756,"column":42}},"326":{"start":{"line":758,"column":6},"end":{"line":758,"column":20}},"327":{"start":{"line":759,"column":6},"end":{"line":761,"column":9}},"328":{"start":{"line":760,"column":8},"end":{"line":760,"column":33}},"329":{"start":{"line":762,"column":6},"end":{"line":762,"column":31}},"330":{"start":{"line":766,"column":10},"end":{"line":777,"column":3}},"331":{"start":{"line":767,"column":4},"end":{"line":767,"column":83}},"332":{"start":{"line":768,"column":4},"end":{"line":772,"column":5}},"333":{"start":{"line":774,"column":4},"end":{"line":774,"column":79}},"334":{"start":{"line":776,"column":4},"end":{"line":776,"column":19}},"335":{"start":{"line":779,"column":10},"end":{"line":795,"column":3}},"336":{"start":{"line":780,"column":4},"end":{"line":780,"column":132}},"337":{"start":{"line":781,"column":4},"end":{"line":781,"column":144}},"338":{"start":{"line":782,"column":4},"end":{"line":782,"column":52}},"339":{"start":{"line":783,"column":4},"end":{"line":783,"column":34}},"340":{"start":{"line":784,"column":4},"end":{"line":784,"column":38}},"341":{"start":{"line":785,"column":4},"end":{"line":785,"column":58}},"342":{"start":{"line":786,"column":4},"end":{"line":786,"column":52}},"343":{"start":{"line":787,"column":4},"end":{"line":787,"column":58}},"344":{"start":{"line":788,"column":4},"end":{"line":790,"column":6}},"345":{"start":{"line":789,"column":6},"end":{"line":789,"column":33}},"346":{"start":{"line":791,"column":4},"end":{"line":793,"column":5}},"347":{"start":{"line":792,"column":6},"end":{"line":792,"column":46}},"348":{"start":{"line":794,"column":4},"end":{"line":794,"column":17}},"349":{"start":{"line":797,"column":10},"end":{"line":802,"column":3}},"350":{"start":{"line":798,"column":4},"end":{"line":800,"column":5}},"351":{"start":{"line":799,"column":6},"end":{"line":799,"column":68}},"352":{"start":{"line":801,"column":4},"end":{"line":801,"column":27}},"353":{"start":{"line":804,"column":10},"end":{"line":809,"column":3}},"354":{"start":{"line":805,"column":4},"end":{"line":807,"column":5}},"355":{"start":{"line":806,"column":6},"end":{"line":806,"column":77}},"356":{"start":{"line":808,"column":4},"end":{"line":808,"column":30}},"357":{"start":{"line":811,"column":10},"end":{"line":813,"column":3}},"358":{"start":{"line":812,"column":4},"end":{"line":812,"column":80}},"359":{"start":{"line":55,"column":9},"end":{"line":55,"column":23}},"360":{"start":{"line":61,"column":9},"end":{"line":195,"column":3}},"361":{"start":{"line":815,"column":0},"end":{"line":815,"column":1}},"362":{"start":{"line":54,"column":13},"end":{"line":815,"column":1}},"363":{"start":{"line":817,"column":0},"end":{"line":817,"column":51}}},"fnMap":{"1":{"name":"(anonymous_5505)","line":54,"loc":{"start":{"line":54,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Matrix","line":223,"loc":{"start":{"line":223,"column":2},"end":{"line":223,"column":105}}},"3":{"name":"(anonymous_5507)","line":257,"loc":{"start":{"line":257,"column":2},"end":{"line":257,"column":59}}},"4":{"name":"(anonymous_5508)","line":285,"loc":{"start":{"line":285,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_5509)","line":292,"loc":{"start":{"line":292,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_5510)","line":302,"loc":{"start":{"line":302,"column":2},"end":{"line":302,"column":63}}},"7":{"name":"(anonymous_5511)","line":312,"loc":{"start":{"line":312,"column":2},"end":{"line":312,"column":61}}},"8":{"name":"(anonymous_5512)","line":317,"loc":{"start":{"line":317,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_5513)","line":340,"loc":{"start":{"line":340,"column":20},"end":{"line":340,"column":35}}},"10":{"name":"(anonymous_5514)","line":346,"loc":{"start":{"line":346,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_5515)","line":347,"loc":{"start":{"line":347,"column":55},"end":{"line":347,"column":85}}},"12":{"name":"(anonymous_5516)","line":348,"loc":{"start":{"line":348,"column":59},"end":{"line":348,"column":93}}},"13":{"name":"(anonymous_5517)","line":349,"loc":{"start":{"line":349,"column":62},"end":{"line":349,"column":91}}},"14":{"name":"(anonymous_5518)","line":352,"loc":{"start":{"line":352,"column":2},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_5519)","line":360,"loc":{"start":{"line":360,"column":2},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_5520)","line":367,"loc":{"start":{"line":367,"column":2},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_5521)","line":375,"loc":{"start":{"line":375,"column":2},"end":{"line":null,"column":-1}}},"18":{"name":"(anonymous_5522)","line":382,"loc":{"start":{"line":382,"column":2},"end":{"line":382,"column":59}}},"19":{"name":"(anonymous_5523)","line":393,"loc":{"start":{"line":393,"column":2},"end":{"line":393,"column":67}}},"20":{"name":"(anonymous_5524)","line":399,"loc":{"start":{"line":399,"column":2},"end":{"line":399,"column":65}}},"21":{"name":"(anonymous_5525)","line":409,"loc":{"start":{"line":409,"column":2},"end":{"line":409,"column":58}}},"22":{"name":"(anonymous_5526)","line":421,"loc":{"start":{"line":421,"column":2},"end":{"line":421,"column":62}}},"23":{"name":"(anonymous_5527)","line":436,"loc":{"start":{"line":436,"column":2},"end":{"line":436,"column":52}}},"24":{"name":"(anonymous_5528)","line":453,"loc":{"start":{"line":453,"column":2},"end":{"line":null,"column":-1}}},"25":{"name":"(anonymous_5529)","line":461,"loc":{"start":{"line":461,"column":2},"end":{"line":461,"column":72}}},"26":{"name":"(anonymous_5530)","line":480,"loc":{"start":{"line":480,"column":2},"end":{"line":null,"column":-1}}},"27":{"name":"(anonymous_5531)","line":489,"loc":{"start":{"line":489,"column":2},"end":{"line":null,"column":-1}}},"28":{"name":"(anonymous_5532)","line":499,"loc":{"start":{"line":499,"column":21},"end":{"line":499,"column":42}}},"29":{"name":"(anonymous_5533)","line":505,"loc":{"start":{"line":505,"column":21},"end":{"line":505,"column":42}}},"30":{"name":"(anonymous_5534)","line":511,"loc":{"start":{"line":511,"column":2},"end":{"line":null,"column":-1}}},"31":{"name":"(anonymous_5535)","line":520,"loc":{"start":{"line":520,"column":2},"end":{"line":520,"column":43}}},"32":{"name":"(anonymous_5536)","line":528,"loc":{"start":{"line":528,"column":2},"end":{"line":528,"column":49}}},"33":{"name":"(anonymous_5537)","line":536,"loc":{"start":{"line":536,"column":2},"end":{"line":null,"column":-1}}},"34":{"name":"(anonymous_5538)","line":546,"loc":{"start":{"line":546,"column":2},"end":{"line":null,"column":-1}}},"35":{"name":"(anonymous_5539)","line":556,"loc":{"start":{"line":556,"column":2},"end":{"line":null,"column":-1}}},"36":{"name":"(anonymous_5540)","line":565,"loc":{"start":{"line":565,"column":2},"end":{"line":null,"column":-1}}},"37":{"name":"(anonymous_5541)","line":573,"loc":{"start":{"line":573,"column":2},"end":{"line":573,"column":62}}},"38":{"name":"(anonymous_5542)","line":584,"loc":{"start":{"line":584,"column":2},"end":{"line":584,"column":70}}},"39":{"name":"(anonymous_5543)","line":603,"loc":{"start":{"line":603,"column":2},"end":{"line":603,"column":61}}},"40":{"name":"(anonymous_5544)","line":608,"loc":{"start":{"line":608,"column":2},"end":{"line":608,"column":39}}},"41":{"name":"(anonymous_5545)","line":612,"loc":{"start":{"line":612,"column":2},"end":{"line":612,"column":45}}},"42":{"name":"(anonymous_5546)","line":616,"loc":{"start":{"line":616,"column":2},"end":{"line":null,"column":-1}}},"43":{"name":"(anonymous_5547)","line":621,"loc":{"start":{"line":621,"column":2},"end":{"line":621,"column":46}}},"44":{"name":"(anonymous_5548)","line":633,"loc":{"start":{"line":633,"column":2},"end":{"line":null,"column":-1}}},"45":{"name":"(anonymous_5549)","line":638,"loc":{"start":{"line":638,"column":2},"end":{"line":638,"column":40}}},"46":{"name":"(anonymous_5550)","line":650,"loc":{"start":{"line":650,"column":2},"end":{"line":650,"column":62}}},"47":{"name":"(anonymous_5551)","line":660,"loc":{"start":{"line":660,"column":2},"end":{"line":null,"column":-1}}},"48":{"name":"(anonymous_5552)","line":664,"loc":{"start":{"line":664,"column":2},"end":{"line":null,"column":-1}}},"49":{"name":"(anonymous_5553)","line":669,"loc":{"start":{"line":669,"column":2},"end":{"line":null,"column":-1}}},"50":{"name":"(anonymous_5554)","line":674,"loc":{"start":{"line":674,"column":2},"end":{"line":null,"column":-1}}},"51":{"name":"(anonymous_5555)","line":683,"loc":{"start":{"line":683,"column":2},"end":{"line":683,"column":45}}},"52":{"name":"(anonymous_5556)","line":705,"loc":{"start":{"line":705,"column":2},"end":{"line":705,"column":53}}},"53":{"name":"(anonymous_5557)","line":707,"loc":{"start":{"line":707,"column":4},"end":{"line":null,"column":-1}}},"54":{"name":"(anonymous_5558)","line":709,"loc":{"start":{"line":709,"column":27},"end":{"line":null,"column":-1}}},"55":{"name":"(anonymous_5559)","line":710,"loc":{"start":{"line":710,"column":22},"end":{"line":710,"column":26}}},"56":{"name":"(anonymous_5560)","line":717,"loc":{"start":{"line":717,"column":9},"end":{"line":717,"column":21}}},"57":{"name":"(anonymous_5561)","line":718,"loc":{"start":{"line":718,"column":35},"end":{"line":718,"column":40}}},"58":{"name":"(anonymous_5562)","line":719,"loc":{"start":{"line":719,"column":34},"end":{"line":719,"column":39}}},"59":{"name":"(anonymous_5563)","line":727,"loc":{"start":{"line":727,"column":2},"end":{"line":727,"column":63}}},"60":{"name":"(anonymous_5564)","line":729,"loc":{"start":{"line":729,"column":39},"end":{"line":null,"column":-1}}},"61":{"name":"(anonymous_5565)","line":735,"loc":{"start":{"line":735,"column":2},"end":{"line":735,"column":64}}},"62":{"name":"(anonymous_5566)","line":741,"loc":{"start":{"line":741,"column":2},"end":{"line":741,"column":71}}},"63":{"name":"(anonymous_5567)","line":747,"loc":{"start":{"line":747,"column":32},"end":{"line":747,"column":52}}},"64":{"name":"(anonymous_5568)","line":755,"loc":{"start":{"line":755,"column":52},"end":{"line":755,"column":68}}},"65":{"name":"(anonymous_5569)","line":759,"loc":{"start":{"line":759,"column":34},"end":{"line":759,"column":41}}},"66":{"name":"(anonymous_5570)","line":766,"loc":{"start":{"line":766,"column":2},"end":{"line":766,"column":50}}},"67":{"name":"(anonymous_5571)","line":779,"loc":{"start":{"line":779,"column":2},"end":{"line":779,"column":68}}},"68":{"name":"(anonymous_5572)","line":788,"loc":{"start":{"line":788,"column":52},"end":{"line":788,"column":66}}},"69":{"name":"(anonymous_5573)","line":797,"loc":{"start":{"line":797,"column":2},"end":{"line":797,"column":47}}},"70":{"name":"(anonymous_5574)","line":804,"loc":{"start":{"line":804,"column":2},"end":{"line":804,"column":53}}},"71":{"name":"(anonymous_5575)","line":811,"loc":{"start":{"line":811,"column":2},"end":{"line":811,"column":53}}}},"branchMap":{"1":{"line":227,"type":"if","locations":[{"start":{"line":227,"column":4},"end":{"line":227,"column":3}},{"start":{"line":227,"column":4},"end":{"line":227,"column":3}}]},"2":{"line":231,"type":"if","locations":[{"start":{"line":231,"column":4},"end":{"line":231,"column":3}},{"start":{"line":231,"column":4},"end":{"line":231,"column":3}}]},"3":{"line":235,"type":"if","locations":[{"start":{"line":235,"column":4},"end":{"line":235,"column":3}},{"start":{"line":235,"column":4},"end":{"line":235,"column":3}}]},"4":{"line":240,"type":"if","locations":[{"start":{"line":240,"column":4},"end":{"line":240,"column":3}},{"start":{"line":240,"column":4},"end":{"line":240,"column":3}}]},"5":{"line":242,"type":"if","locations":[{"start":{"line":242,"column":11},"end":{"line":242,"column":10}},{"start":{"line":242,"column":11},"end":{"line":242,"column":10}}]},"6":{"line":244,"type":"if","locations":[{"start":{"line":244,"column":11},"end":{"line":244,"column":10}},{"start":{"line":244,"column":11},"end":{"line":244,"column":10}}]},"7":{"line":259,"type":"if","locations":[{"start":{"line":259,"column":4},"end":{"line":259,"column":3}},{"start":{"line":259,"column":4},"end":{"line":259,"column":3}}]},"8":{"line":259,"type":"binary-expr","locations":[{"start":{"line":259,"column":8},"end":{"line":259,"column":23}},{"start":{"line":259,"column":27},"end":{"line":259,"column":62}}]},"9":{"line":263,"type":"if","locations":[{"start":{"line":263,"column":4},"end":{"line":263,"column":3}},{"start":{"line":263,"column":4},"end":{"line":263,"column":3}}]},"10":{"line":263,"type":"binary-expr","locations":[{"start":{"line":263,"column":8},"end":{"line":263,"column":26}},{"start":{"line":263,"column":30},"end":{"line":263,"column":71}}]},"11":{"line":267,"type":"if","locations":[{"start":{"line":267,"column":4},"end":{"line":267,"column":3}},{"start":{"line":267,"column":4},"end":{"line":267,"column":3}}]},"12":{"line":267,"type":"binary-expr","locations":[{"start":{"line":267,"column":8},"end":{"line":267,"column":16}},{"start":{"line":267,"column":20},"end":{"line":267,"column":44}}]},"13":{"line":274,"type":"if","locations":[{"start":{"line":274,"column":4},"end":{"line":274,"column":3}},{"start":{"line":274,"column":4},"end":{"line":274,"column":3}}]},"14":{"line":274,"type":"binary-expr","locations":[{"start":{"line":274,"column":8},"end":{"line":274,"column":19}},{"start":{"line":274,"column":23},"end":{"line":274,"column":50}}]},"15":{"line":322,"type":"cond-expr","locations":[{"start":{"line":322,"column":63},"end":{"line":322,"column":84}},{"start":{"line":322,"column":87},"end":{"line":322,"column":104}}]},"16":{"line":330,"type":"if","locations":[{"start":{"line":330,"column":4},"end":{"line":330,"column":3}},{"start":{"line":330,"column":4},"end":{"line":330,"column":3}}]},"17":{"line":338,"type":"if","locations":[{"start":{"line":338,"column":4},"end":{"line":338,"column":3}},{"start":{"line":338,"column":4},"end":{"line":338,"column":3}}]},"18":{"line":368,"type":"cond-expr","locations":[{"start":{"line":368,"column":37},"end":{"line":368,"column":55}},{"start":{"line":368,"column":58},"end":{"line":368,"column":60}}]},"19":{"line":383,"type":"if","locations":[{"start":{"line":383,"column":4},"end":{"line":383,"column":3}},{"start":{"line":383,"column":4},"end":{"line":383,"column":3}}]},"20":{"line":384,"type":"if","locations":[{"start":{"line":384,"column":6},"end":{"line":384,"column":5}},{"start":{"line":384,"column":6},"end":{"line":384,"column":5}}]},"21":{"line":384,"type":"binary-expr","locations":[{"start":{"line":384,"column":10},"end":{"line":384,"column":31}},{"start":{"line":384,"column":35},"end":{"line":384,"column":60}}]},"22":{"line":387,"type":"if","locations":[{"start":{"line":387,"column":6},"end":{"line":387,"column":5}},{"start":{"line":387,"column":6},"end":{"line":387,"column":5}}]},"23":{"line":387,"type":"binary-expr","locations":[{"start":{"line":387,"column":10},"end":{"line":387,"column":34}},{"start":{"line":387,"column":38},"end":{"line":387,"column":66}}]},"24":{"line":441,"type":"if","locations":[{"start":{"line":441,"column":4},"end":{"line":441,"column":3}},{"start":{"line":441,"column":4},"end":{"line":441,"column":3}}]},"25":{"line":444,"type":"if","locations":[{"start":{"line":444,"column":4},"end":{"line":444,"column":3}},{"start":{"line":444,"column":4},"end":{"line":444,"column":3}}]},"26":{"line":447,"type":"if","locations":[{"start":{"line":447,"column":4},"end":{"line":447,"column":3}},{"start":{"line":447,"column":4},"end":{"line":447,"column":3}}]},"27":{"line":467,"type":"if","locations":[{"start":{"line":467,"column":6},"end":{"line":467,"column":5}},{"start":{"line":467,"column":6},"end":{"line":467,"column":5}}]},"28":{"line":473,"type":"if","locations":[{"start":{"line":473,"column":4},"end":{"line":473,"column":3}},{"start":{"line":473,"column":4},"end":{"line":473,"column":3}}]},"29":{"line":473,"type":"binary-expr","locations":[{"start":{"line":473,"column":8},"end":{"line":473,"column":32}},{"start":{"line":473,"column":36},"end":{"line":473,"column":71}}]},"30":{"line":481,"type":"if","locations":[{"start":{"line":481,"column":4},"end":{"line":481,"column":3}},{"start":{"line":481,"column":4},"end":{"line":481,"column":3}}]},"31":{"line":484,"type":"if","locations":[{"start":{"line":484,"column":4},"end":{"line":484,"column":3}},{"start":{"line":484,"column":4},"end":{"line":484,"column":3}}]},"32":{"line":498,"type":"if","locations":[{"start":{"line":498,"column":4},"end":{"line":498,"column":3}},{"start":{"line":498,"column":4},"end":{"line":498,"column":3}}]},"33":{"line":504,"type":"if","locations":[{"start":{"line":504,"column":4},"end":{"line":504,"column":3}},{"start":{"line":504,"column":4},"end":{"line":504,"column":3}}]},"34":{"line":578,"type":"if","locations":[{"start":{"line":578,"column":4},"end":{"line":578,"column":3}},{"start":{"line":578,"column":4},"end":{"line":578,"column":3}}]},"35":{"line":586,"type":"if","locations":[{"start":{"line":586,"column":4},"end":{"line":586,"column":3}},{"start":{"line":586,"column":4},"end":{"line":586,"column":3}}]},"36":{"line":590,"type":"if","locations":[{"start":{"line":590,"column":4},"end":{"line":590,"column":3}},{"start":{"line":590,"column":4},"end":{"line":590,"column":3}}]},"37":{"line":594,"type":"if","locations":[{"start":{"line":594,"column":4},"end":{"line":594,"column":3}},{"start":{"line":594,"column":4},"end":{"line":594,"column":3}}]},"38":{"line":594,"type":"binary-expr","locations":[{"start":{"line":594,"column":8},"end":{"line":594,"column":32}},{"start":{"line":594,"column":36},"end":{"line":594,"column":93}}]},"39":{"line":595,"type":"if","locations":[{"start":{"line":595,"column":6},"end":{"line":595,"column":5}},{"start":{"line":595,"column":6},"end":{"line":595,"column":5}}]},"40":{"line":595,"type":"binary-expr","locations":[{"start":{"line":595,"column":10},"end":{"line":595,"column":27}},{"start":{"line":595,"column":31},"end":{"line":595,"column":45}}]},"41":{"line":617,"type":"binary-expr","locations":[{"start":{"line":617,"column":31},"end":{"line":617,"column":70}},{"start":{"line":617,"column":74},"end":{"line":617,"column":76}}]},"42":{"line":618,"type":"binary-expr","locations":[{"start":{"line":618,"column":11},"end":{"line":618,"column":44}},{"start":{"line":618,"column":48},"end":{"line":618,"column":85}}]},"43":{"line":622,"type":"if","locations":[{"start":{"line":622,"column":4},"end":{"line":622,"column":3}},{"start":{"line":622,"column":4},"end":{"line":622,"column":3}}]},"44":{"line":622,"type":"binary-expr","locations":[{"start":{"line":622,"column":8},"end":{"line":622,"column":32}},{"start":{"line":622,"column":36},"end":{"line":622,"column":47}}]},"45":{"line":623,"type":"binary-expr","locations":[{"start":{"line":623,"column":33},"end":{"line":623,"column":79}},{"start":{"line":623,"column":83},"end":{"line":623,"column":85}}]},"46":{"line":625,"type":"if","locations":[{"start":{"line":625,"column":8},"end":{"line":625,"column":7}},{"start":{"line":625,"column":8},"end":{"line":625,"column":7}}]},"47":{"line":634,"type":"binary-expr","locations":[{"start":{"line":634,"column":28},"end":{"line":634,"column":64}},{"start":{"line":634,"column":68},"end":{"line":634,"column":70}}]},"48":{"line":635,"type":"binary-expr","locations":[{"start":{"line":635,"column":11},"end":{"line":635,"column":41}},{"start":{"line":635,"column":45},"end":{"line":635,"column":80}}]},"49":{"line":639,"type":"if","locations":[{"start":{"line":639,"column":4},"end":{"line":639,"column":3}},{"start":{"line":639,"column":4},"end":{"line":639,"column":3}}]},"50":{"line":639,"type":"binary-expr","locations":[{"start":{"line":639,"column":8},"end":{"line":639,"column":29}},{"start":{"line":639,"column":33},"end":{"line":639,"column":41}}]},"51":{"line":640,"type":"binary-expr","locations":[{"start":{"line":640,"column":30},"end":{"line":640,"column":66}},{"start":{"line":640,"column":70},"end":{"line":640,"column":72}}]},"52":{"line":642,"type":"if","locations":[{"start":{"line":642,"column":8},"end":{"line":642,"column":7}},{"start":{"line":642,"column":8},"end":{"line":642,"column":7}}]},"53":{"line":651,"type":"if","locations":[{"start":{"line":651,"column":4},"end":{"line":651,"column":3}},{"start":{"line":651,"column":4},"end":{"line":651,"column":3}}]},"54":{"line":651,"type":"binary-expr","locations":[{"start":{"line":651,"column":8},"end":{"line":651,"column":32}},{"start":{"line":651,"column":36},"end":{"line":651,"column":57}}]},"55":{"line":652,"type":"binary-expr","locations":[{"start":{"line":652,"column":13},"end":{"line":652,"column":41}},{"start":{"line":652,"column":45},"end":{"line":652,"column":79}}]},"56":{"line":653,"type":"if","locations":[{"start":{"line":653,"column":11},"end":{"line":653,"column":10}},{"start":{"line":653,"column":11},"end":{"line":653,"column":10}}]},"57":{"line":661,"type":"binary-expr","locations":[{"start":{"line":661,"column":11},"end":{"line":661,"column":35}},{"start":{"line":661,"column":39},"end":{"line":661,"column":66}}]},"58":{"line":666,"type":"binary-expr","locations":[{"start":{"line":666,"column":11},"end":{"line":666,"column":16}},{"start":{"line":666,"column":20},"end":{"line":666,"column":38}}]},"59":{"line":671,"type":"binary-expr","locations":[{"start":{"line":671,"column":11},"end":{"line":671,"column":16}},{"start":{"line":671,"column":20},"end":{"line":671,"column":38}}]},"60":{"line":684,"type":"if","locations":[{"start":{"line":684,"column":4},"end":{"line":684,"column":3}},{"start":{"line":684,"column":4},"end":{"line":684,"column":3}}]},"61":{"line":686,"type":"if","locations":[{"start":{"line":686,"column":6},"end":{"line":686,"column":5}},{"start":{"line":686,"column":6},"end":{"line":686,"column":5}}]},"62":{"line":716,"type":"if","locations":[{"start":{"line":716,"column":6},"end":{"line":716,"column":5}},{"start":{"line":716,"column":6},"end":{"line":716,"column":5}}]},"63":{"line":728,"type":"if","locations":[{"start":{"line":728,"column":4},"end":{"line":728,"column":3}},{"start":{"line":728,"column":4},"end":{"line":728,"column":3}}]},"64":{"line":728,"type":"binary-expr","locations":[{"start":{"line":728,"column":8},"end":{"line":728,"column":43}},{"start":{"line":728,"column":47},"end":{"line":728,"column":88}}]},"65":{"line":751,"type":"if","locations":[{"start":{"line":751,"column":6},"end":{"line":751,"column":5}},{"start":{"line":751,"column":6},"end":{"line":751,"column":5}}]},"66":{"line":791,"type":"if","locations":[{"start":{"line":791,"column":4},"end":{"line":791,"column":3}},{"start":{"line":791,"column":4},"end":{"line":791,"column":3}}]},"67":{"line":798,"type":"if","locations":[{"start":{"line":798,"column":4},"end":{"line":798,"column":3}},{"start":{"line":798,"column":4},"end":{"line":798,"column":3}}]},"68":{"line":799,"type":"binary-expr","locations":[{"start":{"line":799,"column":13},"end":{"line":799,"column":28}},{"start":{"line":799,"column":32},"end":{"line":799,"column":67}}]},"69":{"line":805,"type":"if","locations":[{"start":{"line":805,"column":4},"end":{"line":805,"column":3}},{"start":{"line":805,"column":4},"end":{"line":805,"column":3}}]},"70":{"line":806,"type":"binary-expr","locations":[{"start":{"line":806,"column":13},"end":{"line":806,"column":31}},{"start":{"line":806,"column":35},"end":{"line":806,"column":76}}]},"71":{"line":812,"type":"binary-expr","locations":[{"start":{"line":812,"column":11},"end":{"line":812,"column":39}},{"start":{"line":812,"column":43},"end":{"line":812,"column":79}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":24,"16":24,"17":24,"18":24,"19":24,"20":24,"21":24,"22":24,"23":24,"24":24,"25":24,"26":24,"27":24,"28":24,"29":24,"30":24,"31":16,"32":24,"33":24,"34":0,"35":24,"36":0,"37":24,"38":0,"39":24,"40":24,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":0,"49":1,"50":1,"51":1,"52":0,"53":1,"54":1,"55":1,"56":0,"57":1,"58":0,"59":1,"60":1930,"61":1,"62":935,"63":935,"64":1,"65":14,"66":14,"67":14,"68":14,"69":14,"70":30,"71":30,"72":14,"73":13,"74":13,"75":14,"76":0,"77":0,"78":0,"79":1,"80":24,"81":24,"82":14,"83":24,"84":14,"85":24,"86":14,"87":1,"88":24,"89":24,"90":24,"91":24,"92":1,"93":38,"94":38,"95":38,"96":38,"97":1,"98":38,"99":38,"100":38,"101":1,"102":38,"103":38,"104":1,"105":14,"106":14,"107":1,"108":14,"109":1,"110":1,"111":14,"112":14,"113":14,"114":1,"115":14,"116":14,"117":14,"118":14,"119":14,"120":14,"121":14,"122":1,"123":14,"124":14,"125":14,"126":1,"127":14,"128":48,"129":48,"130":48,"131":1,"132":48,"133":48,"134":48,"135":48,"136":48,"137":0,"138":48,"139":9,"140":48,"141":0,"142":48,"143":1,"144":62,"145":62,"146":1,"147":270,"148":270,"149":270,"150":270,"151":1485,"152":270,"153":270,"154":270,"155":0,"156":270,"157":1,"158":14,"159":14,"160":14,"161":13,"162":1,"163":14,"164":14,"165":14,"166":14,"167":30,"168":30,"169":14,"170":14,"171":87,"172":14,"173":0,"174":0,"175":1,"176":13,"177":13,"178":13,"179":61,"180":61,"181":1,"182":30,"183":30,"184":270,"185":30,"186":1,"187":61,"188":61,"189":300,"190":61,"191":1,"192":14,"193":43,"194":361,"195":361,"196":361,"197":1,"198":38,"199":38,"200":38,"201":38,"202":177,"203":177,"204":1,"205":81,"206":81,"207":374,"208":81,"209":1,"210":229,"211":259,"212":229,"213":1,"214":633,"215":633,"216":81,"217":633,"218":1,"219":994,"220":994,"221":958,"222":994,"223":0,"224":994,"225":29,"226":18,"227":994,"228":1,"229":0,"230":0,"231":1,"232":1265,"233":1,"234":1297,"235":1,"236":3252,"237":3252,"238":1,"239":32,"240":27,"241":27,"242":0,"243":0,"244":32,"245":1,"246":64,"247":64,"248":1,"249":32,"250":20,"251":20,"252":0,"253":0,"254":32,"255":1,"256":994,"257":32,"258":962,"259":0,"260":962,"261":1,"262":14,"263":1,"264":16,"265":16,"266":1,"267":2,"268":2,"269":1,"270":14,"271":14,"272":14,"273":14,"274":14,"275":1,"276":14,"277":14,"278":14,"279":3,"280":30,"281":30,"282":30,"283":14,"284":30,"285":270,"286":270,"287":270,"288":1,"289":57,"290":57,"291":480,"292":480,"293":0,"294":0,"295":0,"296":480,"297":480,"298":480,"299":0,"300":480,"301":0,"302":480,"303":57,"304":57,"305":1,"306":0,"307":0,"308":0,"309":0,"310":1,"311":0,"312":0,"313":0,"314":1,"315":0,"316":0,"317":0,"318":0,"319":0,"320":0,"321":0,"322":0,"323":0,"324":0,"325":0,"326":0,"327":0,"328":0,"329":0,"330":1,"331":0,"332":0,"333":0,"334":0,"335":1,"336":0,"337":0,"338":0,"339":0,"340":0,"341":0,"342":0,"343":0,"344":0,"345":0,"346":0,"347":0,"348":0,"349":1,"350":0,"351":0,"352":0,"353":1,"354":0,"355":0,"356":0,"357":1,"358":0,"359":1,"360":1,"361":1,"362":1,"363":1},"b":{"1":[24,0],"2":[24,0],"3":[16,8],"4":[0,24],"5":[0,24],"6":[0,24],"7":[1,0],"8":[1,1],"9":[1,0],"10":[1,1],"11":[0,1],"12":[1,1],"13":[0,1],"14":[1,1],"15":[13,1],"16":[13,1],"17":[0,14],"18":[1,37],"19":[14,0],"20":[1,13],"21":[14,1],"22":[1,13],"23":[14,1],"24":[0,48],"25":[9,39],"26":[0,48],"27":[270,1215],"28":[0,270],"29":[270,0],"30":[14,0],"31":[13,1],"32":[14,0],"33":[0,14],"34":[81,552],"35":[958,36],"36":[0,994],"37":[29,965],"38":[994,32],"39":[18,11],"40":[29,27],"41":[3252,3252],"42":[3252,3252],"43":[27,5],"44":[32,32],"45":[27,0],"46":[0,0],"47":[64,64],"48":[64,64],"49":[20,12],"50":[32,32],"51":[20,20],"52":[0,0],"53":[32,962],"54":[994,32],"55":[32,0],"56":[0,962],"57":[14,0],"58":[16,0],"59":[2,0],"60":[14,0],"61":[3,11],"62":[480,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0],"69":[0,0],"70":[0,0],"71":[0,0]},"f":{"1":1,"2":24,"3":1,"4":0,"5":0,"6":1930,"7":935,"8":14,"9":0,"10":24,"11":14,"12":14,"13":14,"14":24,"15":38,"16":38,"17":38,"18":14,"19":14,"20":14,"21":14,"22":14,"23":48,"24":62,"25":270,"26":14,"27":14,"28":87,"29":0,"30":13,"31":30,"32":61,"33":14,"34":38,"35":81,"36":229,"37":633,"38":994,"39":0,"40":1265,"41":1297,"42":3252,"43":32,"44":64,"45":32,"46":994,"47":14,"48":16,"49":2,"50":14,"51":14,"52":57,"53":480,"54":0,"55":0,"56":480,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0},"code":"import {Template} from '../Templates/Template';\nimport {Component} from '../Base/Component';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {Cell} from './Cell';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {DefaultMatrixResultPreviewTemplate} from './DefaultMatrixResultPreviewTemplate';\nimport {$$} from '../../utils/Dom';\nimport {QueryEvents, IBuildingQueryEventArgs, IDoneBuildingQueryEventArgs, IQuerySuccessEventArgs} from '../../events/QueryEvents';\nimport {QueryStateModel} from '../../models/QueryStateModel';\nimport {QueryBuilder} from '../Base/QueryBuilder';\nimport {Utils} from '../../utils/Utils';\nimport {IGroupByRequest} from '../../rest/GroupByRequest';\nimport {IQueryResults} from '../../rest/QueryResults';\nimport {IQueryResult} from '../../rest/QueryResult';\nimport {Initialization, IInitializationParameters} from '../Base/Initialization';\nimport {QueryUtils} from '../../utils/QueryUtils';\nimport {IQuery} from '../../rest/Query';\nimport Globalize = require('globalize');\n\nexport interface IMatrixOptions {\n  title?: string;\n\n  rowField: string;\n  sortCriteria?: string;\n  maximumNumberOfRows?: number;\n  enableRowTotals?: boolean;\n\n  columnField: string;\n  columnFieldValues?: string[];\n  columnLabels?: string[];\n  columnHeader?: string;\n  maximumNumberOfValuesInGroupBy?: number;\n  enableColumnTotals?: boolean;\n\n  computedField: string;\n  computedFieldOperation?: string;\n  computedFieldFormat?: string;\n  cellFontSize?: string;\n\n  enableHoverPreview?: boolean;\n  previewSortCriteria?: string;\n  previewSortField?: string;\n  previewMaxWidth?: string;\n  previewMinWidth?: string;\n  previewDelay?: number;\n  previewTemplate?: Template;\n}\n\n/**\n * This component uses the values of two fields (row and column) to display the results of the specified computed field in a table.<br/>\n * The values to use for the columns are specified by the user while those for the rows are obtained by a groupBy operation performed at the same time as the main query (see {@link IGroupByRequest}).<br/>\n * Like a {@link Facet}, selecting a cell allows the user to drill down inside results by restricting the row field and the column field to match the values of the selected cell.\n */\nexport class Matrix extends Component {\n  static ID = 'Matrix';\n\n  /**\n   * The possible options for the component\n   * @componentOptions\n   */\n  static options: IMatrixOptions = {\n    /**\n     * Specifies the text to display at the top of the matrix.\n     */\n    title: ComponentOptions.buildStringOption(),\n    /**\n     * Specifies the field to use for the rows.<br/>\n     * Required options, otherwise the component will not work\n     */\n    rowField: ComponentOptions.buildFieldOption({ required: true }),\n    /**\n     * Specifies the field to use for the columns.<br/>\n     * Required options, otherwise the component will not work\n     */\n    columnField: ComponentOptions.buildFieldOption({ required: true }),\n    /**\n     * Specifies the criteria used to sort the rows. The available sort criteria are the same as those for the Group By parameter (see Group By Parameters - sortCriteria).<br/>\n     * The default value is 'ComputedFieldDescending'.\n     */\n    sortCriteria: ComponentOptions.buildStringOption({ defaultValue: 'ComputedFieldDescending' }),\n    /**\n     * Specifies the maximum number of rows to display in the matrix.<br/>\n     * The default value is 10.\n     */\n    maximumNumberOfRows: ComponentOptions.buildNumberOption({ defaultValue: 10, min: 0 }),\n    /**\n     * Specifies whether to add a total column which contains the total for each row.<br/>\n     * The default value is true.\n     */\n    enableRowTotals: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies the field values to use for each column.<br/>\n     * If not specified, you won't generate any column except one for the 'Total' column.\n     */\n    columnFieldValues: ComponentOptions.buildListOption({ defaultValue: [] }),\n    /**\n     * Specifies the labels values to use for each column.<br/>\n     * The array should match the {@link Matrix.options.columnFieldValues}.\n     */\n    columnLabels: ComponentOptions.buildListOption({ defaultValue: [] }),\n    /**\n     * Specifies the label for the first column on the left, as a description of the columnField.\n     */\n    columnHeader: ComponentOptions.buildStringOption(),\n    /**\n     * Specifies the maximum number of results to include in the group by requests for the columns.<br/>\n     * This value should always be greater than {@link Matrix.options.maximumNumberOfRows}. If it is too small, some results won't be displayed in the matrix.<br/>\n     * The default value is 100.\n     */\n    maximumNumberOfValuesInGroupBy: ComponentOptions.buildNumberOption({ defaultValue: 100, min: 0 }),\n    /**\n     * Specifies whether to add a total row which contains the total for each column.<br/>\n     * The default value is true.\n     */\n    enableColumnTotals: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies the field whose computed values are displayed in the cells.\n     */\n    computedField: ComponentOptions.buildFieldOption({ required: true }),\n    /**\n     * Specifies the type of aggregate operation to use on the computed field.<br/>\n     * The available values are the same as those for the {@link Facet.options.computedFieldOperation}.<br/>\n     * The available values are:\n     * <ul>\n     *   <li>sum - Computes the sum of the computed field values.</li>\n     *   <li>average - Computes the average of the computed field values.</li>\n     *   <li>minimum - Finds the minimum value of the computed field values.</li>\n     *   <li>maximum - Finds the maximum value of the computed field values.</li>\n     * </ul>\n     * The default value is sum.\n     */\n    computedFieldOperation: ComponentOptions.buildStringOption({ defaultValue: 'sum' }),\n    /**\n     * Specifies how to format the values resulting from a computed field operation.<br/>\n     * The available formats are the same as those for the {@link Facet.options.computedFieldFormat}.<br/>\n     * The formats available are defined by the Globalize library. The most common used formats are:\n     * <ul>\n     *   <li>c0 - Formats the value as a currency.</li>\n     *   <li>n0 - Formats the value as an integer.</li>\n     *   <li>n2 - Formats the value as a floating point with 2 decimal digits.</li>\n     * </ul>\n     * The default value is c0.\n     */\n    computedFieldFormat: ComponentOptions.buildStringOption({ defaultValue: 'c0' }),\n    /**\n     * Specifies the font-size of the cells.<br/>\n     * This option is mainly used to reduce the cell font-size when some values are cropped because there are too many columns in the matrix.<br/>\n     * Other options to fix this problem are to remove less important columns or modify the CSS to give more place to the matrix.\n     */\n    cellFontSize: ComponentOptions.buildStringOption({ defaultValue: '' }),\n    /**\n     * Specifies whether to show a preview popup of cell results on hover. The default value is true.\n     */\n    enableHoverPreview: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies the criteria to use to sort the results of the hover preview.<br/>\n     * The available sort criteria values are the same as those of the {@link IQuery}.\n     * Possible values are :\n     * <ul>\n     *    <li> relevancy :  This uses all the configured ranking weights as well as any specified ranking expressions to rank results.</li>\n     *    <li> dateascending / datedescending : Sort using the value of the @date field, which is typically the last modification date of an item in the index.</li>\n     *    <li> qre : Sort using only the weights applied through ranking expressions. This is much like using Relevancy except that automatic weights based on keyword proximity etc, are not computed.<li/>\n     *    <li> nosort : Do not sort the results. The order in which items are returned is essentially random.</li>\n     *    <li> fieldascending / fielddescending : Sort using the value of a custom field.</li>\n     * </ul>\n     * The default value is 'FieldDescending'.\n     */\n    previewSortCriteria: ComponentOptions.buildStringOption({ defaultValue: 'FieldDescending' }),\n    /**\n     * Specifies the field to use when the previewSortCriteria option is FieldDescending or FieldAscending.<br/>\n     * By default, the value of the computedField option is used.\n     */\n    previewSortField: ComponentOptions.buildFieldOption(),\n    /**\n     * Specifies the maximum width of the preview pop-up.<br/>\n     * The default value is 500px.\n     */\n    previewMaxWidth: ComponentOptions.buildStringOption({ defaultValue: '500px' }),\n    /**\n     * Specifies the minimum width of the preview pop-up.<br/>\n     * The default value is 0.\n     */\n    previewMinWidth: ComponentOptions.buildStringOption({ defaultValue: '0' }),\n    /**\n     * Specifies the delay (in milliseconds) before the query used to get the preview results is sent.<br/>\n     * The default value is 500.\n     */\n    previewDelay: ComponentOptions.buildNumberOption({ defaultValue: 500 }),\n    /**\n     * Specifies the ID or CSS selector of the template to use to render the results of the hover preview.<br/>\n     * Eg : <code>data-template-id='TemplateId'</code> , <code>data-template-selector='.templateSelector'</code><br/>\n     *\n     */\n    previewTemplate: ComponentOptions.buildTemplateOption()\n  }\n\n  /**\n   * Holds the data for the matrix\n   */\n  public data: Cell[][];\n  public groupByIndex = [];\n  public rowId = '';\n  public columnId = '';\n  /**\n   * The currently selected row value, or undefined if nothing is selected\n   */\n  public selectedRowValue: string = undefined;\n  /**\n   * The currently selected column value, or undefined if nothing is selected\n   */\n  public selectedColumnValue = undefined;\n\n  private numberOfRows = 0;\n  private numberOfColumns = 0;\n  private previewTimeout: number;\n\n  /**\n   * Create a new matrix, check if the options are valid and makes sense. Bind query events.\n   * @param element\n   * @param options\n   * @param bindings\n   */\n  constructor(public element: HTMLElement, public options?: IMatrixOptions, bindings?: IComponentBindings) {\n    super(element, Matrix.ID, bindings);\n    this.options = ComponentOptions.initComponentOptions(element, Matrix, options);\n\n    if (!this.options.previewTemplate) {\n      this.options.previewTemplate = new DefaultMatrixResultPreviewTemplate(this.options.computedField, this.options.computedFieldFormat);\n    }\n\n    if (!this.options.previewSortField) {\n      this.options.previewSortField = this.options.computedField\n    }\n\n    if (this.options.columnFieldValues.length != this.options.columnLabels.length) {\n      this.options.columnLabels = this.options.columnFieldValues;\n    }\n\n    this.buildMatrix();\n    if (this.options.rowField == null) {\n      this.logger.error('\\'rowField\\' option is required in the Matrix component')\n    } else if (this.options.columnField == null) {\n      this.logger.error('\\'columnField\\' option is required in the Matrix component')\n    } else if (this.options.computedField == null) {\n      this.logger.error('\\'computedField\\' option is required in the Matrix component')\n    } else {\n      this.bindEvents();\n      this.initQueryState();\n    }\n  }\n\n  /**\n   * Select a cell by it's row and column number. Does not execute a query.\n   * @param rowNumber\n   * @param columnNumber\n   */\n  public selectCell(rowNumber: number, columnNumber: number): void {\n    let rowValue, columnValue;\n    if (rowNumber !== 0 && rowNumber !== this.numberOfRows - 1) {\n      rowValue = this.getRowValue(rowNumber);\n    }\n\n    if (columnNumber !== 0 && columnNumber !== this.numberOfColumns - 1) {\n      columnValue = this.getColumnValue(columnNumber);\n    }\n\n    if (rowValue && this.isRowFacetPresent()) {\n      this.queryStateModel.set(this.rowId, [rowValue]);\n    } else {\n      this.selectedRowValue = rowValue;\n      this.queryStateModel.set(this.rowId, []);\n    }\n\n    if (columnValue && this.isColumnFacetPresent()) {\n      this.queryStateModel.set(this.columnId, [columnValue]);\n    } else {\n      this.selectedColumnValue = columnValue\n      this.queryStateModel.set(this.columnId, []);\n    }\n  }\n\n  /**\n   * Return the currently selected column value\n   */\n  public getSelectedColumnValue(): string {\n    return this.selectedColumnValue;\n  }\n\n  /**\n   * Return the currently selected row value\n   */\n  public getSelectedRowValue(): string {\n    return this.selectedRowValue;\n  }\n\n  /**\n   * Get the HTMLElement associated to the desired cell\n   * @param rowNumber\n   * @param columnNumber\n   * @returns {HTMLElement}\n   */\n  public getCellElement(rowNumber: number, columnNumber: number): HTMLElement {\n    return this.data[rowNumber][columnNumber].getHTML();\n  }\n\n  /**\n   * Get the string associated to the desired cell\n   * @param rowNumber\n   * @param columnNumber\n   * @returns {string}\n   */\n  public getCellValue(rowNumber: number, columnNumber: number): string {\n    let cell = this.getCellElement(rowNumber, columnNumber);\n    return $$(cell).text();\n  }\n\n  public drawMatrix() {\n    let headerRow = $$('div', {\n      className: 'coveo-matrix-row matrix-header-row'\n    })\n    this.drawRow(headerRow.el, 0);\n    let numberOfRowsToDraw = this.options.enableColumnTotals ? this.numberOfRows - 1 : this.numberOfRows\n    for (let i = 1; i < numberOfRowsToDraw; i++) {\n      let row = $$('div', {\n        className: 'coveo-matrix-row'\n      }).el;\n      this.drawRow(row, i);\n    }\n\n    if (this.options.enableColumnTotals) {\n      let totalRow = $$('div', {\n        className: 'coveo-matrix-row matrix-total-row'\n      }).el;\n\n      this.drawRow(totalRow, this.numberOfRows - 1);\n    }\n\n    if (this.options.cellFontSize !== '') {\n      let cells = $$(this.element).findAll('.coveo-matrix-cell');\n      _.each(cells, (c: HTMLElement) => {\n        c.style.fontSize = this.options.cellFontSize;\n      })\n    }\n  }\n\n  private bindEvents() {\n    this.bind.onRootElement(QueryEvents.buildingQuery, (args: IBuildingQueryEventArgs) => this.handleBuildingQuery(args));\n    this.bind.onRootElement(QueryEvents.doneBuildingQuery, (args: IDoneBuildingQueryEventArgs) => this.handleDoneBuildingQuery(args));\n    this.bind.onRootElement(QueryEvents.deferredQuerySuccess, (args: IQuerySuccessEventArgs) => this.handleDeferredQuerySuccess(args));\n  }\n\n  private initQueryState() {\n    this.rowId = QueryStateModel.getFacetId(this.options.rowField);\n    this.columnId = QueryStateModel.getFacetId(this.options.columnField);\n\n    this.queryStateModel.registerNewAttribute(this.rowId, []);\n    this.queryStateModel.registerNewAttribute(this.columnId, []);\n  }\n\n  private buildMatrix() {\n    this.buildTitle();\n    this.buildBody();\n    this.data = new Array<Array<Cell>>();\n    this.addHeaderRow();\n  }\n\n  private buildTitle() {\n    let title = this.options.title ? this.options.title : '';\n    let titleHtml = $$('div', {\n      className: 'coveo-matrix-title'\n    }, title).el;\n    this.element.appendChild(titleHtml);\n  }\n\n  private buildBody() {\n    let body = $$('div', {\n      className: 'coveo-matrix'\n    }).el;\n    this.element.appendChild(body);\n  }\n\n  private handleBuildingQuery(args: IBuildingQueryEventArgs) {\n    if (!this.areFacetsPresent()) {\n      if (this.selectedRowValue && !this.isRowFacetPresent()) {\n        args.queryBuilder.advancedExpression.addFieldExpression(this.options.rowField, '=', [this.selectedRowValue])\n      }\n      if (this.selectedColumnValue && !this.isColumnFacetPresent()) {\n        args.queryBuilder.advancedExpression.addFieldExpression(this.options.columnField, '=', [this.selectedColumnValue])\n      }\n    }\n  }\n\n  private handleDoneBuildingQuery(args: IDoneBuildingQueryEventArgs) {\n    this.groupByIndex = [];\n    this.addMainGroubByRequest(args.queryBuilder);\n    this.addColumnsGroupByRequests(args.queryBuilder);\n  }\n\n  private handleDeferredQuerySuccess(args: IQuerySuccessEventArgs) {\n    this.reset();\n    this.parseResults(args.results);\n    this.addTotals();\n    this.drawMatrix();\n    this.formatCells();\n    this.selectedRowValue = undefined;\n    this.selectedColumnValue = undefined;\n  }\n\n  private addMainGroubByRequest(queryBuilder: QueryBuilder) {\n    let groupBy: IGroupByRequest = {\n      field: this.options.rowField,\n      sortCriteria: this.options.sortCriteria,\n      computedFields: this.getComputedFields(),\n      maximumNumberOfValues: this.options.maximumNumberOfRows\n    }\n\n    this.groupByIndex.push(queryBuilder.groupByRequests.length);\n    queryBuilder.groupByRequests.push(groupBy);\n  }\n\n  private addColumnsGroupByRequests(queryBuilder: QueryBuilder) {\n    for (let i = 0; i < this.options.columnFieldValues.length; i++) {\n      let groupBy = {\n        field: this.options.rowField,\n        sortCriteria: this.options.sortCriteria,\n        computedFields: this.getComputedFields(),\n        queryOverride: '(' + this.buildExpression(queryBuilder) + ')' + '(' + this.options.columnField + '=\\'' + this.options.columnFieldValues[i] + '\\')',\n        maximumNumberOfValues: this.options.maximumNumberOfValuesInGroupBy\n      }\n\n      this.groupByIndex.push(queryBuilder.groupByRequests.length)\n      queryBuilder.groupByRequests.push(groupBy);\n    }\n  }\n\n  private buildExpression(queryBuilder: QueryBuilder) {\n    let expression = queryBuilder.expression.build();\n    let advancedExpression = queryBuilder.advancedExpression.build();\n    let constantExpression = queryBuilder.constantExpression.build();\n    let totalQuery = '';\n    if (expression) {\n      totalQuery += ' ' + expression;\n    }\n    if (advancedExpression) {\n      totalQuery += ' ' + advancedExpression;\n    }\n    if (constantExpression) {\n      totalQuery += ' ' + constantExpression;\n    }\n    return totalQuery;\n  }\n\n  private getComputedFields() {\n    let computedFields = [{\n      field: this.options.computedField,\n      operation: this.options.computedFieldOperation\n    }];\n    return computedFields;\n  }\n\n  private getCellResult(results, rowNumber: number, columnNumber: number) {\n    let rowValue = this.getRowValue(rowNumber);\n    let columnValue = this.getColumnValue(columnNumber);\n    let cellResult = 0;\n\n    for (let i = 0; i < results.values.length; i++) {\n      if (results.values[i].value === rowValue) {\n        cellResult = results.values[i].computedFieldResults[0];\n        break;\n      }\n    }\n\n    if (this.isAColumnSelected() && !this.isColumnSelected(columnValue)) {\n      cellResult = 0;\n    }\n\n    return cellResult;\n  }\n\n  private addTotals() {\n    if (this.options.enableRowTotals) {\n      this.addRowTotals();\n    }\n    if (this.options.enableColumnTotals) {\n      this.addColumnTotals();\n    }\n  }\n\n  private addRowTotals() {\n    this.addColumn();\n    this.setValue('Total', 0, this.numberOfColumns - 1)\n    for (let i = 1; i < this.numberOfRows; i++) {\n      let rowTotal = this.computeRowTotal(i);\n      this.setValue(rowTotal, i, this.numberOfColumns - 1)\n    }\n\n    // Fix sort ordering when not all columns field values are present.\n    if (this.options.sortCriteria.toLowerCase() == 'computedfielddescending') {\n      this.data.sort((a: Cell[], b: Cell[]): number => {\n        return b[this.numberOfColumns - 1].getValue() - a[this.numberOfColumns - 1].getValue()\n      })\n    }\n\n    if (this.options.sortCriteria.toLowerCase() == 'computedfieldascending') {\n      this.data.sort((a: Cell[], b: Cell[]): number => {\n        return a[this.numberOfColumns - 1].getValue() - b[this.numberOfColumns - 1].getValue()\n      })\n    }\n  }\n\n  private addColumnTotals() {\n    this.addRow();\n    this.setValue('Total', this.numberOfRows - 1, 0)\n    for (let i = 1; i < this.numberOfColumns; i++) {\n      let columnTotal = this.computeColumnTotal(i);\n      this.setValue(columnTotal, this.numberOfRows - 1, i)\n    }\n  }\n\n  private computeRowTotal(rowNumber: number): number {\n    let total = 0;\n    for (let columnNumber = 1; columnNumber < this.numberOfColumns - 1; columnNumber++) {\n      total += parseInt(this.getCellValue(rowNumber, columnNumber));\n    }\n    return total;\n  }\n\n  private computeColumnTotal(columnNumber: number): number {\n    let total = 0;\n    for (let rowNumber = 1; rowNumber < this.numberOfRows - 1; rowNumber++) {\n      total += parseInt(this.getCellValue(rowNumber, columnNumber));\n    }\n    return total;\n  }\n\n  private formatCells() {\n    for (let i = 1; i < this.numberOfRows; i++) {\n      for (let j = 1; j < this.numberOfColumns; j++) {\n        let cellValue = this.getCellValue(i, j);\n        cellValue = Globalize.format(parseInt(cellValue), this.options.computedFieldFormat)\n        this.setValue(cellValue, i, j);\n      }\n    }\n  }\n\n  private addHeaderRow() {\n    this.addRow();\n    this.addColumn();\n    this.setValue(this.options.columnHeader, 0, 0);\n    for (let i = 0; i < this.options.columnLabels.length; i++) {\n      this.addColumn();\n      this.setValue(this.options.columnLabels[i], 0, i + 1);\n    }\n  }\n\n  private addRow() {\n    this.data.push(new Array<Cell>());\n\n    for (let i = 0; i < this.numberOfColumns; i++) {\n      this.addCellToRow(this.numberOfRows, i)\n    }\n    this.numberOfRows++;\n  }\n\n  private addColumn() {\n    for (let i = 0; i < this.numberOfRows; i++) {\n      this.addCellToRow(i, this.numberOfColumns)\n    }\n\n    this.numberOfColumns++;\n  }\n\n  private addCellToRow(rowNumber: number, columnNumber: number) {\n    let column = $$('div', {\n      className: 'coveo-matrix-cell'\n    });\n\n    if (columnNumber == 0) {\n      column.addClass('matrix-first-column');\n    }\n    this.data[rowNumber].push(new Cell(0, column.el));\n  }\n\n  private setValue(value: any, rowNumber: number, columnNumber: number) {\n    let cell = this.getCellElement(rowNumber, columnNumber);\n    if (!Utils.isNullOrUndefined(value)) {\n      $$(cell).text(value.toString());\n    }\n\n    if (this.isCellSelected(this.getRowValue(rowNumber), this.getColumnValue(columnNumber))) {\n      $$(cell).addClass('coveo-matrix-selected')\n    }\n\n    if (this.isAColumnSelected() && !this.isColumnSelected(this.getColumnValue(columnNumber))) {\n      if (columnNumber != 0 && rowNumber != 0) {\n        $$(cell).addClass('coveo-matrix-unimportant')\n      }\n    }\n\n    this.data[rowNumber][columnNumber].setValue(value);\n  }\n\n  private handleClick(rowNumber: number, columnNumber: number) {\n    this.selectCell(rowNumber, columnNumber);\n    this.queryController.executeQuery();\n  }\n\n  private getRowValue(rowNumber: number): string {\n    return this.data[rowNumber][0].getValue();\n  }\n\n  private getColumnValue(columnNumber: number): string {\n    return this.options.columnFieldValues[columnNumber - 1];\n  }\n\n  private isAColumnSelected(): boolean {\n    let selectedColumnValues = this.queryStateModel.get(this.columnId) || [];\n    return selectedColumnValues.length !== 0 || this.selectedColumnValue != undefined\n  }\n\n  private isColumnSelected(columnValue: string): boolean {\n    if (this.isAColumnSelected() && columnValue) {\n      let selectedColumnValues = this.queryStateModel.attributes[this.columnId] || [];\n      for (let i = 0; i < selectedColumnValues.length; i++) {\n        if (selectedColumnValues[i].toLowerCase() === columnValue.toLowerCase()) {\n          return true;\n        }\n      }\n    }\n    return this.selectedColumnValue == columnValue;\n  }\n\n  private isARowSelected(): boolean {\n    let selectedRowValues = this.queryStateModel.get(this.rowId) || [];\n    return selectedRowValues.length !== 0 || this.selectedRowValue !== undefined;\n  }\n\n  private isRowSelected(rowValue: string): boolean {\n    if (this.isARowSelected() && rowValue) {\n      let selectedRowValues = this.queryStateModel.get(this.rowId) || [];\n      for (let i = 0; i < selectedRowValues.length; i++) {\n        if (selectedRowValues[i].toLowerCase() === rowValue.toLowerCase()) {\n          return true;\n        }\n      }\n    }\n    return this.selectedRowValue == rowValue;\n  }\n\n  private isCellSelected(rowValue: string, columnValue: string): boolean {\n    if (this.isAColumnSelected() && this.isARowSelected()) {\n      return this.isRowSelected(rowValue) && this.isColumnSelected(columnValue);\n    } else if (this.isAColumnSelected()) {\n      return this.isColumnSelected(columnValue);\n    }\n\n    return false;\n  }\n\n  private areFacetsPresent() {\n    return this.isRowFacetPresent() && this.isColumnFacetPresent();\n  }\n\n  private isRowFacetPresent() {\n    let facet = this.componentStateModel.get(this.rowId);\n    return facet && !facet[0].disabled\n  }\n\n  private isColumnFacetPresent() {\n    let facet = this.componentStateModel.get(this.columnId);\n    return facet && !facet[0].disabled\n  }\n\n  private reset() {\n    $$(this.element).empty();\n    this.numberOfRows = 0;\n    this.numberOfColumns = 0;\n    this.data = new Array<Array<Cell>>();\n\n    this.buildMatrix();\n  }\n\n  private parseResults(results: IQueryResults) {\n    if (results) {\n      let mainResults = results.groupByResults[this.groupByIndex[0]];\n      if (mainResults) {\n        for (let i = 0; i < mainResults.values.length; i++) {\n          let value = mainResults.values[i].value;\n          this.addRow();\n          this.setValue(value, i + 1, 0);\n        }\n      }\n\n      for (let i = 1; i < this.numberOfRows; i++) {\n        for (let j = 1; j < this.numberOfColumns; j++) {\n          let columnResult = results.groupByResults[this.groupByIndex[j]];\n          let cellValue = this.getCellResult(columnResult, i, j);\n          this.setValue(cellValue, i, j);\n        }\n      }\n    }\n\n  }\n\n  private drawRow(row: HTMLElement, rowNumber: number) {\n    let body = $$(this.element).find('.coveo-matrix')\n    for (let i = 0; i < this.numberOfColumns; i++) {\n      let cell = this.data[rowNumber][i].getHTML();\n      $$(cell).on('click', () => {\n        let handler = (num) => {\n          this.handleClick(rowNumber, num);\n        }\n        handler(i);\n      })\n\n      if (this.options.enableHoverPreview) {\n        ((num: number) => {\n          $$(cell).on('mouseover', () => this.handleHoverIn(rowNumber, num));\n          $$(cell).on('mouseout', () => this.handleHoverOut(rowNumber, num));\n        })(i)\n      }\n      row.appendChild(cell);\n    }\n    body.appendChild(row);\n  }\n\n  private handleHoverIn(rowNumber: number, columnNumber: number) {\n    if (this.isHoverWorkingOnRow(rowNumber) && this.isHoverWorkingOnColumn(columnNumber)) {\n      this.previewTimeout = setTimeout(() => {\n        this.displayResultsPreview(rowNumber, columnNumber);\n      }, this.options.previewDelay);\n    }\n  }\n\n  private handleHoverOut(rowNumber: number, columnNumber: number) {\n    clearTimeout(this.previewTimeout);\n    let cell = this.data[rowNumber][columnNumber];\n    cell.removePreview();\n  }\n\n  private displayResultsPreview(rowNumber: number, columnNumber: number) {\n    let query = this.createPreviewQuery(rowNumber, columnNumber);\n    let cell = this.data[rowNumber][columnNumber];\n    cell.addPreview(this.options.previewMinWidth, this.options.previewMaxWidth);\n\n    let endpoint = this.queryController.getEndpoint();\n    endpoint.search(query).then((data: IQueryResults) => {\n      // During the time it take for the query to return, the matrix can change size depending\n      // on if another query was performed : Need to check for undefined before accessing the data\n      // we're trying to render;\n      if (!this.isDataAvailable(rowNumber, columnNumber)) {\n        return;\n      }\n      let cell = this.data[rowNumber][columnNumber];\n      let instantiatedResults = _.map(data.results, (r: IQueryResult) => {\n        return this.instantiateTemplate(r)\n      })\n      let html = '';\n      _.each(instantiatedResults, (result) => {\n        html += result.outerHTML;\n      });\n      cell.updatePreview(html);\n    })\n  }\n\n  private instantiateTemplate(result: IQueryResult): HTMLElement {\n    let content = this.options.previewTemplate.instantiateToElement(result, false);\n    let initParameters: IInitializationParameters = {\n      options: this.options,\n      bindings: this.getBindings(),\n      result: result\n    }\n\n    Initialization.automaticallyCreateComponentsInside(content, initParameters)\n\n    return content;\n  }\n\n  private createPreviewQuery(rowNumber: number, columnNumber: number): IQuery {\n    let rowFieldExpression = '(' + QueryUtils.buildFieldExpression(this.options.rowField, '=', [this.getRowValue(rowNumber)]) + ')';\n    let columnFieldExpression = '(' + QueryUtils.buildFieldExpression(this.options.columnField, '=', [this.getColumnValue(columnNumber)]) + ')';\n    let query = this.queryController.getLastQuery();\n    query.aq = rowFieldExpression;\n    query.aq += columnFieldExpression;\n    query.sortCriteria = this.options.previewSortCriteria;\n    query.sortField = this.options.previewSortField;\n    let fieldSliced = this.options.computedField.slice(1);\n    let fieldExists = _.find(query.fieldsToInclude, (field: string) => {\n      return field == fieldSliced\n    })\n    if (!fieldExists) {\n      query.fieldsToInclude.push(fieldSliced);\n    }\n    return query;\n  }\n\n  private isHoverWorkingOnRow(rowNumber: number) {\n    if (this.options.enableColumnTotals) {\n      return rowNumber !== 0 && rowNumber !== this.numberOfRows - 1;\n    }\n    return rowNumber !== 0;\n  }\n\n  private isHoverWorkingOnColumn(columnNumber: number) {\n    if (this.options.enableRowTotals) {\n      return columnNumber !== 0 && columnNumber !== this.numberOfColumns - 1;\n    }\n    return columnNumber !== 0;\n  }\n\n  private isDataAvailable(row: number, column: number) {\n    return this.data[row] !== undefined && this.data[row][column] !== undefined;\n  }\n\n}\n\nInitialization.registerAutoCreateComponent(Matrix);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Matrix/Matrix.ts\n **/","l":{"2":1,"3":1,"4":1,"6":1,"7":1,"8":1,"9":1,"11":1,"15":1,"16":1,"18":1,"54":1,"55":1,"61":1,"201":24,"202":24,"203":24,"207":24,"211":24,"213":24,"214":24,"223":24,"224":24,"225":24,"227":24,"228":24,"231":24,"232":24,"235":24,"236":16,"239":24,"240":24,"241":0,"242":24,"243":0,"244":24,"245":0,"247":24,"248":24,"257":1,"258":1,"259":1,"260":1,"263":1,"264":1,"267":1,"268":0,"270":1,"271":1,"274":1,"275":0,"277":1,"278":1,"285":1,"286":0,"292":1,"293":0,"302":1,"303":1930,"312":1,"313":935,"314":935,"317":14,"318":14,"321":14,"322":14,"323":14,"324":30,"327":30,"330":14,"331":13,"335":13,"338":14,"339":0,"340":0,"341":0,"346":24,"347":24,"348":24,"349":24,"352":1,"353":24,"354":24,"356":24,"357":24,"360":1,"361":38,"362":38,"363":38,"364":38,"367":1,"368":38,"369":38,"372":38,"375":1,"376":38,"379":38,"382":1,"383":14,"384":14,"385":1,"387":14,"388":1,"393":1,"394":14,"395":14,"396":14,"399":1,"400":14,"401":14,"402":14,"403":14,"404":14,"405":14,"406":14,"409":1,"410":14,"417":14,"418":14,"421":1,"422":14,"423":48,"431":48,"432":48,"436":1,"437":48,"438":48,"439":48,"440":48,"441":48,"442":0,"444":48,"445":9,"447":48,"448":0,"450":48,"453":1,"454":62,"458":62,"461":1,"462":270,"463":270,"464":270,"466":270,"467":1485,"468":270,"469":270,"473":270,"474":0,"477":270,"480":1,"481":14,"482":14,"484":14,"485":13,"489":14,"490":14,"491":14,"492":14,"493":30,"494":30,"498":14,"499":14,"500":87,"504":14,"505":0,"506":0,"511":1,"512":13,"513":13,"514":13,"515":61,"516":61,"520":1,"521":30,"522":30,"523":270,"525":30,"528":1,"529":61,"530":61,"531":300,"533":61,"536":1,"537":14,"538":43,"539":361,"540":361,"541":361,"546":1,"547":38,"548":38,"549":38,"550":38,"551":177,"552":177,"556":1,"557":81,"559":81,"560":374,"562":81,"565":1,"566":229,"567":259,"570":229,"573":1,"574":633,"578":633,"579":81,"581":633,"584":1,"585":994,"586":994,"587":958,"590":994,"591":0,"594":994,"595":29,"596":18,"600":994,"603":1,"604":0,"605":0,"608":1,"609":1265,"612":1,"613":1297,"616":1,"617":3252,"618":3252,"621":1,"622":32,"623":27,"624":27,"625":0,"626":0,"630":32,"633":1,"634":64,"635":64,"638":1,"639":32,"640":20,"641":20,"642":0,"643":0,"647":32,"650":1,"651":994,"652":32,"653":962,"654":0,"657":962,"660":1,"661":14,"664":1,"665":16,"666":16,"669":1,"670":2,"671":2,"674":1,"675":14,"676":14,"677":14,"678":14,"680":14,"683":1,"684":14,"685":14,"686":14,"687":3,"688":30,"689":30,"690":30,"694":14,"695":30,"696":270,"697":270,"698":270,"705":57,"706":57,"707":57,"708":480,"709":480,"710":0,"711":0,"713":0,"716":480,"717":480,"718":480,"719":480,"722":480,"724":57,"727":1,"728":0,"729":0,"730":0,"735":1,"736":0,"737":0,"738":0,"741":1,"742":0,"743":0,"744":0,"746":0,"747":0,"751":0,"752":0,"754":0,"755":0,"756":0,"758":0,"759":0,"760":0,"762":0,"766":1,"767":0,"768":0,"774":0,"776":0,"779":1,"780":0,"781":0,"782":0,"783":0,"784":0,"785":0,"786":0,"787":0,"788":0,"789":0,"791":0,"792":0,"794":0,"797":1,"798":0,"799":0,"801":0,"804":1,"805":0,"806":0,"808":0,"811":1,"812":0,"815":1,"817":1}},"src/ui/Matrix/Cell.ts":{"path":"src/ui/Matrix/Cell.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}},"2":{"start":{"line":6,"column":0},"end":{"line":92,"column":1}},"3":{"start":{"line":11,"column":2},"end":{"line":14,"column":3}},"4":{"start":{"line":11,"column":14},"end":{"line":11,"column":28}},"5":{"start":{"line":9,"column":10},"end":{"line":9,"column":32}},"6":{"start":{"line":12,"column":4},"end":{"line":12,"column":22}},"7":{"start":{"line":13,"column":4},"end":{"line":13,"column":23}},"8":{"start":{"line":20,"column":9},"end":{"line":22,"column":3}},"9":{"start":{"line":21,"column":4},"end":{"line":21,"column":22}},"10":{"start":{"line":28,"column":9},"end":{"line":30,"column":3}},"11":{"start":{"line":29,"column":4},"end":{"line":29,"column":24}},"12":{"start":{"line":36,"column":9},"end":{"line":38,"column":3}},"13":{"start":{"line":37,"column":4},"end":{"line":37,"column":23}},"14":{"start":{"line":44,"column":9},"end":{"line":46,"column":3}},"15":{"start":{"line":45,"column":4},"end":{"line":45,"column":24}},"16":{"start":{"line":53,"column":9},"end":{"line":68,"column":3}},"17":{"start":{"line":54,"column":4},"end":{"line":54,"column":30}},"18":{"start":{"line":55,"column":4},"end":{"line":57,"column":7}},"19":{"start":{"line":58,"column":4},"end":{"line":58,"column":50}},"20":{"start":{"line":59,"column":4},"end":{"line":59,"column":50}},"21":{"start":{"line":60,"column":4},"end":{"line":62,"column":7}},"22":{"start":{"line":61,"column":6},"end":{"line":61,"column":26}},"23":{"start":{"line":63,"column":4},"end":{"line":63,"column":50}},"24":{"start":{"line":64,"column":4},"end":{"line":64,"column":82}},"25":{"start":{"line":65,"column":4},"end":{"line":67,"column":6}},"26":{"start":{"line":66,"column":6},"end":{"line":66,"column":19}},"27":{"start":{"line":73,"column":9},"end":{"line":79,"column":3}},"28":{"start":{"line":74,"column":4},"end":{"line":74,"column":31}},"29":{"start":{"line":75,"column":4},"end":{"line":75,"column":79}},"30":{"start":{"line":76,"column":4},"end":{"line":78,"column":5}},"31":{"start":{"line":77,"column":6},"end":{"line":77,"column":29}},"32":{"start":{"line":85,"column":9},"end":{"line":91,"column":3}},"33":{"start":{"line":86,"column":4},"end":{"line":90,"column":5}},"34":{"start":{"line":87,"column":6},"end":{"line":87,"column":79}},"35":{"start":{"line":88,"column":6},"end":{"line":88,"column":36}},"36":{"start":{"line":89,"column":6},"end":{"line":89,"column":25}},"37":{"start":{"line":92,"column":0},"end":{"line":92,"column":1}},"38":{"start":{"line":6,"column":13},"end":{"line":92,"column":1}}},"fnMap":{"1":{"name":"(anonymous_5578)","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Cell","line":11,"loc":{"start":{"line":11,"column":2},"end":{"line":11,"column":46}}},"3":{"name":"(anonymous_5580)","line":20,"loc":{"start":{"line":20,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_5581)","line":28,"loc":{"start":{"line":28,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_5582)","line":36,"loc":{"start":{"line":36,"column":2},"end":{"line":36,"column":28}}},"6":{"name":"(anonymous_5583)","line":44,"loc":{"start":{"line":44,"column":2},"end":{"line":44,"column":34}}},"7":{"name":"(anonymous_5584)","line":53,"loc":{"start":{"line":53,"column":2},"end":{"line":53,"column":54}}},"8":{"name":"(anonymous_5585)","line":60,"loc":{"start":{"line":60,"column":33},"end":{"line":60,"column":47}}},"9":{"name":"(anonymous_5586)","line":65,"loc":{"start":{"line":65,"column":22},"end":{"line":65,"column":37}}},"10":{"name":"(anonymous_5587)","line":73,"loc":{"start":{"line":73,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_5588)","line":85,"loc":{"start":{"line":85,"column":2},"end":{"line":85,"column":39}}}},"branchMap":{"1":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":14},"end":{"line":11,"column":13}},{"start":{"line":11,"column":14},"end":{"line":11,"column":13}}]},"2":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":4},"end":{"line":76,"column":3}},{"start":{"line":76,"column":4},"end":{"line":76,"column":3}}]},"3":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":4},"end":{"line":86,"column":3}},{"start":{"line":86,"column":4},"end":{"line":86,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":633,"5":633,"6":633,"7":633,"8":1,"9":1449,"10":1,"11":2410,"12":1,"13":994,"14":1,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":1,"38":1},"b":{"1":[0,633],"2":[0,0],"3":[0,0]},"f":{"1":1,"2":633,"3":1449,"4":2410,"5":994,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"code":"import {$$} from '../../utils/Dom';\n\n/**\n * Represent a single cell of data in the {@link Matrix} component\n */\nexport class Cell {\n  private value: any;\n  private element: HTMLElement;\n  private previewActive = false;\n\n  constructor(value: any = 0, el?: HTMLElement) {\n    this.element = el;\n    this.value = value;\n  }\n\n  /**\n   * Return the value of the cell\n   * @returns {any}\n   */\n  public getValue(): any {\n    return this.value;\n  }\n\n  /**\n   * Return the HTMLElement for the cell\n   * @returns {HTMLElement}\n   */\n  public getHTML(): HTMLElement {\n    return this.element;\n  }\n\n  /**\n   * Set the value if the cell\n   * @param value\n   */\n  public setValue(value: any) {\n    this.value = value;\n  }\n\n  /**\n   * Set the HTMLElement for the cell\n   * @param html\n   */\n  public setHTML(html: HTMLElement) {\n    this.element = html;\n  }\n\n  /**\n   * Show the preview of the cell\n   * @param minWidth css minWidth property : eg 100px\n   * @param maxWidth css maxWidth property : eg 100px\n   */\n  public addPreview(minWidth: string, maxWidth: string) {\n    this.previewActive = true;\n    let previewContainer = $$('div', {\n      className: 'matrix-results-preview-container'\n    });\n    previewContainer.el.style.minWidth = minWidth;\n    previewContainer.el.style.maxWidth = maxWidth;\n    previewContainer.on('click', (e: MouseEvent) => {\n      e.stopPropagation();\n    });\n    this.element.appendChild(previewContainer.el);\n    let container = $$(this.element).findAll('.matrix-results-preview-container');\n    _.each(container, (c: HTMLElement) => {\n      $$(c).hide();\n    })\n  }\n\n  /**\n   * Remove the preview of the cell\n   */\n  public removePreview() {\n    this.previewActive = false;\n    let container = $$(this.element).find('.matrix-results-preview-container');\n    if (container) {\n      $$(container).detach();\n    }\n  }\n\n  /**\n   * Update the preview with a new template\n   * @param template\n   */\n  public updatePreview(template: string) {\n    if (this.previewActive) {\n      let preview = $$(this.element).find('.matrix-results-preview-container');\n      preview.innerHTML += template;\n      $$(preview).show();\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Matrix/Cell.ts\n **/","l":{"1":1,"6":1,"9":633,"11":633,"12":633,"13":633,"20":1,"21":1449,"28":1,"29":2410,"36":1,"37":994,"44":1,"45":0,"53":1,"54":0,"55":0,"58":0,"59":0,"60":0,"61":0,"63":0,"64":0,"65":0,"66":0,"73":1,"74":0,"75":0,"76":0,"77":0,"85":1,"86":0,"87":0,"88":0,"89":0,"92":1}},"src/ui/Matrix/DefaultMatrixResultPreviewTemplate.ts":{"path":"src/ui/Matrix/DefaultMatrixResultPreviewTemplate.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":47}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"4":{"start":{"line":6,"column":0},"end":{"line":32,"column":1}},"5":{"start":{"line":6,"column":56},"end":{"line":6,"column":64}},"6":{"start":{"line":8,"column":2},"end":{"line":10,"column":3}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":12}},"8":{"start":{"line":8,"column":22},"end":{"line":8,"column":43}},"9":{"start":{"line":8,"column":53},"end":{"line":8,"column":67}},"10":{"start":{"line":12,"column":2},"end":{"line":27,"column":3}},"11":{"start":{"line":13,"column":4},"end":{"line":25,"column":14}},"12":{"start":{"line":26,"column":4},"end":{"line":26,"column":19}},"13":{"start":{"line":29,"column":2},"end":{"line":31,"column":3}},"14":{"start":{"line":30,"column":4},"end":{"line":30,"column":69}},"15":{"start":{"line":32,"column":0},"end":{"line":32,"column":1}},"16":{"start":{"line":6,"column":13},"end":{"line":32,"column":1}}},"fnMap":{"1":{"name":"(anonymous_5592)","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"DefaultMatrixResultPreviewTemplate","line":8,"loc":{"start":{"line":8,"column":2},"end":{"line":8,"column":67}}},"3":{"name":"(anonymous_5594)","line":12,"loc":{"start":{"line":12,"column":2},"end":{"line":12,"column":69}}},"4":{"name":"(anonymous_5595)","line":29,"loc":{"start":{"line":29,"column":2},"end":{"line":29,"column":70}}}},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":24,"8":24,"9":24,"10":1,"11":0,"12":0,"13":1,"14":0,"15":1,"16":1},"b":{},"f":{"1":1,"2":24,"3":0,"4":0},"code":"import {Template} from '../Templates/Template';\nimport {IQueryResult} from '../../rest/QueryResult';\nimport {$$} from '../../utils/Dom';\nimport Globalize = require('globalize');\n\nexport class DefaultMatrixResultPreviewTemplate extends Template {\n\n  constructor(private computedField: string, private format: string) {\n    super();\n  }\n\n  instantiateToString(object?: IQueryResult, checkCondition?: boolean): string {\n    var preview = '<div class=\\'coveo-result-frame\\'>' +\n      '<div class=\\'coveo-result-row\\'>' +\n      '<div class=\\'coveo-result-cell\\' style=\\'width: 40px; padding-right:5px;vertical-align: middle\\'>' +\n      '<a class=\\'CoveoIcon\\' data-small=\\'true\\'></a>' +\n      '</div>' +\n      '<div class=\\'coveo-result-cell\\' style=\\'font-size:13px;vertical-align: middle\\'>' +\n      '<a class=\\'CoveoResultLink\\'></a>' +\n      '</div>' +\n      '<div class=\\'coveo-result-cell\\' style=\\'width:80px; text-align:right; font-size:13px; padding-right: 5px;vertical-align: middle\\'>' +\n      Globalize.format(parseInt(object.raw[this.computedField.slice(1)]), this.format) +\n      '</div>' +\n      '</div>' +\n      '</div>'\n    return preview;\n  }\n\n  instantiateToElement(object?: IQueryResult, checkCondition?: boolean): HTMLElement {\n    return $$('div', undefined, this.instantiateToString(object)).el;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Matrix/DefaultMatrixResultPreviewTemplate.ts\n **/","l":{"1":1,"3":1,"4":1,"6":1,"8":24,"9":24,"12":1,"13":0,"26":0,"29":1,"30":0,"32":1}},"src/ui/YouTube/YouTubeThumbnail.ts":{"path":"src/ui/YouTube/YouTubeThumbnail.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":58}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":52}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":81}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":46}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":35}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":51}},"8":{"start":{"line":17,"column":0},"end":{"line":102,"column":1}},"9":{"start":{"line":17,"column":38},"end":{"line":17,"column":47}},"10":{"start":{"line":32,"column":2},"end":{"line":73,"column":3}},"11":{"start":{"line":33,"column":4},"end":{"line":33,"column":50}},"12":{"start":{"line":32,"column":21},"end":{"line":32,"column":41}},"13":{"start":{"line":32,"column":50},"end":{"line":32,"column":84}},"14":{"start":{"line":32,"column":93},"end":{"line":32,"column":129}},"15":{"start":{"line":32,"column":138},"end":{"line":32,"column":159}},"16":{"start":{"line":34,"column":4},"end":{"line":34,"column":93}},"17":{"start":{"line":35,"column":4},"end":{"line":35,"column":29}},"18":{"start":{"line":36,"column":4},"end":{"line":36,"column":67}},"19":{"start":{"line":38,"column":4},"end":{"line":38,"column":33}},"20":{"start":{"line":39,"column":4},"end":{"line":39,"column":62}},"21":{"start":{"line":40,"column":4},"end":{"line":40,"column":39}},"22":{"start":{"line":42,"column":4},"end":{"line":42,"column":23}},"23":{"start":{"line":43,"column":4},"end":{"line":43,"column":44}},"24":{"start":{"line":44,"column":4},"end":{"line":44,"column":46}},"25":{"start":{"line":45,"column":4},"end":{"line":45,"column":58}},"26":{"start":{"line":46,"column":4},"end":{"line":46,"column":48}},"27":{"start":{"line":47,"column":4},"end":{"line":47,"column":32}},"28":{"start":{"line":49,"column":4},"end":{"line":49,"column":26}},"29":{"start":{"line":50,"column":4},"end":{"line":50,"column":56}},"30":{"start":{"line":51,"column":4},"end":{"line":51,"column":33}},"31":{"start":{"line":54,"column":4},"end":{"line":54,"column":43}},"32":{"start":{"line":56,"column":4},"end":{"line":60,"column":5}},"33":{"start":{"line":57,"column":6},"end":{"line":59,"column":8}},"34":{"start":{"line":58,"column":23},"end":{"line":58,"column":43}},"35":{"start":{"line":62,"column":4},"end":{"line":62,"column":73}},"36":{"start":{"line":63,"column":4},"end":{"line":65,"column":6}},"37":{"start":{"line":66,"column":4},"end":{"line":70,"column":5}},"38":{"start":{"line":71,"column":4},"end":{"line":71,"column":80}},"39":{"start":{"line":75,"column":10},"end":{"line":97,"column":3}},"40":{"start":{"line":75,"column":2},"end":{"line":97,"column":3}},"41":{"start":{"line":77,"column":4},"end":{"line":77,"column":47}},"42":{"start":{"line":78,"column":4},"end":{"line":78,"column":105}},"43":{"start":{"line":79,"column":4},"end":{"line":79,"column":62}},"44":{"start":{"line":80,"column":4},"end":{"line":80,"column":74}},"45":{"start":{"line":81,"column":4},"end":{"line":81,"column":41}},"46":{"start":{"line":82,"column":4},"end":{"line":82,"column":42}},"47":{"start":{"line":84,"column":4},"end":{"line":84,"column":26}},"48":{"start":{"line":86,"column":4},"end":{"line":92,"column":7}},"49":{"start":{"line":90,"column":24},"end":{"line":90,"column":28}},"50":{"start":{"line":94,"column":4},"end":{"line":96,"column":6}},"51":{"start":{"line":95,"column":6},"end":{"line":95,"column":28}},"52":{"start":{"line":99,"column":10},"end":{"line":101,"column":3}},"53":{"start":{"line":100,"column":4},"end":{"line":100,"column":53}},"54":{"start":{"line":18,"column":9},"end":{"line":18,"column":33}},"55":{"start":{"line":20,"column":9},"end":{"line":24,"column":4}},"56":{"start":{"line":26,"column":9},"end":{"line":28,"column":3}},"57":{"start":{"line":102,"column":0},"end":{"line":102,"column":1}},"58":{"start":{"line":17,"column":13},"end":{"line":102,"column":1}},"59":{"start":{"line":103,"column":0},"end":{"line":103,"column":61}}},"fnMap":{"1":{"name":"(anonymous_5600)","line":17,"loc":{"start":{"line":17,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"YouTubeThumbnail","line":32,"loc":{"start":{"line":32,"column":2},"end":{"line":32,"column":159}}},"3":{"name":"(anonymous_5602)","line":58,"loc":{"start":{"line":58,"column":17},"end":{"line":58,"column":22}}},"4":{"name":"(anonymous_5603)","line":75,"loc":{"start":{"line":75,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_5604)","line":90,"loc":{"start":{"line":90,"column":18},"end":{"line":90,"column":23}}},"6":{"name":"(anonymous_5605)","line":94,"loc":{"start":{"line":94,"column":84},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_5606)","line":99,"loc":{"start":{"line":99,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":4},"end":{"line":56,"column":3}},{"start":{"line":56,"column":4},"end":{"line":56,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":1,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1},"b":{"1":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"code":"import {Component} from '../Base/Component';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {IResultsComponentBindings} from '../Base/ResultsComponentBindings';\nimport {IQueryResult} from '../../rest/QueryResult';\nimport {ResultLink} from '../ResultLink/ResultLink';\nimport {Initialization, IInitializationParameters} from '../Base/Initialization';\nimport {DomUtils} from '../../utils/DomUtils';\nimport {$$} from '../../utils/Dom';\nimport {ModalBox} from '../../ExternalModulesShim';\n\nexport interface IYouTubeThumbnailOptions {\n  width: string;\n  height: string;\n  embed: boolean;\n}\n\nexport class YouTubeThumbnail extends Component {\n  static ID = 'YouTubeThumbnail';\n\n  static options: IYouTubeThumbnailOptions = {\n    width: ComponentOptions.buildStringOption({ defaultValue: '200px' }),\n    height: ComponentOptions.buildStringOption({ defaultValue: '112px' }),\n    embed: ComponentOptions.buildBooleanOption({ defaultValue: true })\n  };\n\n  static fields = [\n    'ytthumbnailurl'\n  ]\n\n  private modalbox: Coveo.ModalBox.ModalBox;\n\n  constructor(public element: HTMLElement, public options?: IYouTubeThumbnailOptions, public bindings?: IResultsComponentBindings, public result?: IQueryResult) {\n    super(element, YouTubeThumbnail.ID, bindings);\n    this.options = ComponentOptions.initComponentOptions(element, YouTubeThumbnail, options);\n    let resultLink = $$('a');\n    resultLink.addClass(Component.computeCssClassName(ResultLink));\n\n    let thumbnailDiv = $$('div');\n    thumbnailDiv.addClass('coveo-youtube-thumbnail-container')\n    resultLink.append(thumbnailDiv.el);\n\n    let img = $$('img')\n    img.el.style.width = this.options.width;\n    img.el.style.height = this.options.height;\n    img.setAttribute('src', result.raw['ytthumbnailurl']);\n    img.addClass('coveo-youtube-thumbnail-img');\n    thumbnailDiv.append(img.el);\n\n    let span = $$('span');\n    span.addClass('coveo-youtube-thumbnail-play-button')\n    thumbnailDiv.append(span.el);\n\n\n    $$(this.element).append(resultLink.el);\n\n    if (this.options.embed) {\n      this.options = _.extend(this.options, {\n        onClick: () => this.handleOnClick()\n      })\n    }\n\n    let initOptions = this.searchInterface.options.originalOptionsObject;\n    let resultComponentBindings: IResultsComponentBindings = _.extend({}, this.getBindings(), {\n      resultElement: element\n    })\n    let initParameters: IInitializationParameters = {\n      options: _.extend({}, { initOptions: { ResultLink: options } }, initOptions),\n      bindings: resultComponentBindings,\n      result: result\n    }\n    Initialization.automaticallyCreateComponentsInside(element, initParameters);\n\n  }\n\n  private handleOnClick() {\n    // need to put iframe inside div : iframe with position absolute and left:0, right : 0 , bottom: 0 is not standard/supported\n    let iframe = $$('iframe'), div = $$('div');\n    iframe.setAttribute('src', 'https://www.youtube.com/embed/' + this.extractVideoId() + '?autoplay=1');\n    iframe.setAttribute('allowfullscreen', 'allowfullscreen');\n    iframe.setAttribute('webkitallowfullscreen', 'webkitallowfullscreen');\n    iframe.setAttribute('width', '100%');\n    iframe.setAttribute('height', '100%');\n\n    div.append(iframe.el);\n\n    this.modalbox = ModalBox.open(div.el, {\n      overlayClose: true,\n      title: DomUtils.getQuickviewHeader(this.result, { showDate: true, title: this.result.title }, this.bindings).el.outerHTML,\n      className: 'coveo-quick-view coveo-youtube-player',\n      validation: () => true,\n      body: this.element.ownerDocument.body\n    });\n\n    $$($$(this.modalbox.wrapper).find('.coveo-quickview-close-button')).on('click', () => {\n      this.modalbox.close();\n    })\n  }\n\n  private extractVideoId() {\n    return this.result.clickUri.split('watch?v=')[1];\n  }\n}\nInitialization.registerAutoCreateComponent(YouTubeThumbnail);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/YouTube/YouTubeThumbnail.ts\n **/","l":{"1":1,"2":1,"5":1,"6":1,"7":1,"8":1,"9":1,"17":1,"18":1,"20":1,"26":1,"32":1,"33":0,"34":0,"35":0,"36":0,"38":0,"39":0,"40":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"49":0,"50":0,"51":0,"54":0,"56":0,"57":0,"58":0,"62":0,"63":0,"66":0,"71":0,"75":1,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"84":0,"86":0,"90":0,"94":0,"95":0,"99":1,"100":0,"102":1,"103":1}},"src/ui/ResultAttachments/ResultAttachments.ts":{"path":"src/ui/ResultAttachments/ResultAttachments.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":43}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":57}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":81}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":39}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":49}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":81}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":40}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":34}},"9":{"start":{"line":24,"column":0},"end":{"line":116,"column":1}},"10":{"start":{"line":24,"column":39},"end":{"line":24,"column":48}},"11":{"start":{"line":66,"column":2},"end":{"line":75,"column":3}},"12":{"start":{"line":66,"column":148},"end":{"line":66,"column":174}},"13":{"start":{"line":67,"column":4},"end":{"line":67,"column":51}},"14":{"start":{"line":66,"column":21},"end":{"line":66,"column":41}},"15":{"start":{"line":66,"column":50},"end":{"line":66,"column":85}},"16":{"start":{"line":66,"column":94},"end":{"line":66,"column":123}},"17":{"start":{"line":66,"column":155},"end":{"line":66,"column":174}},"18":{"start":{"line":69,"column":4},"end":{"line":69,"column":94}},"19":{"start":{"line":71,"column":4},"end":{"line":71,"column":42}},"20":{"start":{"line":72,"column":4},"end":{"line":74,"column":5}},"21":{"start":{"line":73,"column":6},"end":{"line":73,"column":31}},"22":{"start":{"line":77,"column":10},"end":{"line":93,"column":3}},"23":{"start":{"line":77,"column":2},"end":{"line":93,"column":3}},"24":{"start":{"line":78,"column":4},"end":{"line":92,"column":6}},"25":{"start":{"line":79,"column":6},"end":{"line":79,"column":84}},"26":{"start":{"line":80,"column":6},"end":{"line":80,"column":176}},"27":{"start":{"line":82,"column":6},"end":{"line":82,"column":102}},"28":{"start":{"line":84,"column":6},"end":{"line":84,"column":67}},"29":{"start":{"line":85,"column":6},"end":{"line":85,"column":42}},"30":{"start":{"line":87,"column":6},"end":{"line":91,"column":7}},"31":{"start":{"line":88,"column":8},"end":{"line":88,"column":52}},"32":{"start":{"line":89,"column":8},"end":{"line":89,"column":56}},"33":{"start":{"line":90,"column":8},"end":{"line":90,"column":123}},"34":{"start":{"line":95,"column":10},"end":{"line":104,"column":3}},"35":{"start":{"line":96,"column":4},"end":{"line":103,"column":5}},"36":{"start":{"line":97,"column":6},"end":{"line":97,"column":18}},"37":{"start":{"line":98,"column":11},"end":{"line":103,"column":5}},"38":{"start":{"line":99,"column":6},"end":{"line":99,"column":55}},"39":{"start":{"line":100,"column":6},"end":{"line":100,"column":18}},"40":{"start":{"line":102,"column":6},"end":{"line":102,"column":19}},"41":{"start":{"line":106,"column":10},"end":{"line":115,"column":3}},"42":{"start":{"line":107,"column":4},"end":{"line":107,"column":27}},"43":{"start":{"line":108,"column":4},"end":{"line":108,"column":51}},"44":{"start":{"line":109,"column":4},"end":{"line":113,"column":5}},"45":{"start":{"line":114,"column":4},"end":{"line":114,"column":104}},"46":{"start":{"line":25,"column":9},"end":{"line":25,"column":34}},"47":{"start":{"line":31,"column":9},"end":{"line":54,"column":3}},"48":{"start":{"line":41,"column":83},"end":{"line":41,"column":120}},"49":{"start":{"line":48,"column":135},"end":{"line":48,"column":181}},"50":{"start":{"line":116,"column":0},"end":{"line":116,"column":1}},"51":{"start":{"line":24,"column":13},"end":{"line":116,"column":1}},"52":{"start":{"line":118,"column":0},"end":{"line":118,"column":62}}},"fnMap":{"1":{"name":"(anonymous_5611)","line":24,"loc":{"start":{"line":24,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"ResultAttachments","line":66,"loc":{"start":{"line":66,"column":2},"end":{"line":66,"column":174}}},"3":{"name":"(anonymous_5613)","line":77,"loc":{"start":{"line":77,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_5614)","line":78,"loc":{"start":{"line":78,"column":29},"end":{"line":78,"column":40}}},"5":{"name":"(anonymous_5615)","line":95,"loc":{"start":{"line":95,"column":2},"end":{"line":95,"column":61}}},"6":{"name":"(anonymous_5616)","line":106,"loc":{"start":{"line":106,"column":2},"end":{"line":106,"column":85}}},"7":{"name":"(anonymous_5617)","line":41,"loc":{"start":{"line":41,"column":76},"end":{"line":41,"column":78}}},"8":{"name":"(anonymous_5618)","line":48,"loc":{"start":{"line":48,"column":78},"end":{"line":48,"column":130}}}},"branchMap":{"1":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":148},"end":{"line":66,"column":147}},{"start":{"line":66,"column":148},"end":{"line":66,"column":147}}]},"2":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":4},"end":{"line":72,"column":3}},{"start":{"line":72,"column":4},"end":{"line":72,"column":3}}]},"3":{"line":80,"type":"cond-expr","locations":[{"start":{"line":80,"column":49},"end":{"line":80,"column":112}},{"start":{"line":80,"column":115},"end":{"line":80,"column":175}}]},"4":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":6},"end":{"line":87,"column":5}},{"start":{"line":87,"column":6},"end":{"line":87,"column":5}}]},"5":{"line":87,"type":"binary-expr","locations":[{"start":{"line":87,"column":10},"end":{"line":87,"column":53}},{"start":{"line":87,"column":57},"end":{"line":87,"column":115}}]},"6":{"line":96,"type":"if","locations":[{"start":{"line":96,"column":4},"end":{"line":96,"column":3}},{"start":{"line":96,"column":4},"end":{"line":96,"column":3}}]},"7":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":11},"end":{"line":98,"column":10}},{"start":{"line":98,"column":11},"end":{"line":98,"column":10}}]},"8":{"line":48,"type":"cond-expr","locations":[{"start":{"line":48,"column":151},"end":{"line":48,"column":156}},{"start":{"line":48,"column":159},"end":{"line":48,"column":181}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":20,"13":11,"14":11,"15":11,"16":11,"17":11,"18":11,"19":11,"20":11,"21":6,"22":1,"23":6,"24":6,"25":10,"26":10,"27":10,"28":10,"29":10,"30":10,"31":2,"32":2,"33":2,"34":1,"35":10,"36":3,"37":7,"38":0,"39":0,"40":7,"41":1,"42":10,"43":10,"44":10,"45":10,"46":1,"47":1,"48":8,"49":11,"50":1,"51":1,"52":1},"b":{"1":[9,2],"2":[6,5],"3":[4,6],"4":[2,8],"5":[10,3],"6":[3,7],"7":[0,7],"8":[3,8]},"f":{"1":1,"2":11,"3":6,"4":10,"5":10,"6":10,"7":8,"8":11},"code":"import {Template} from '../Templates/Template'\nimport {Component} from '../Base/Component'\nimport {IComponentBindings} from '../Base/ComponentBindings'\nimport {ComponentOptions} from '../Base/ComponentOptions'\nimport {DefaultResultAttachmentTemplate} from './DefaultResultAttachmentTemplate'\nimport {IQueryResult} from '../../rest/QueryResult'\nimport {Utils} from '../../utils/Utils'\nimport {QueryUtils} from '../../utils/QueryUtils'\nimport {Initialization, IInitializationParameters} from '../Base/Initialization';\nimport {Assert} from '../../misc/Assert'\nimport {$$} from '../../utils/Dom'\n\nexport interface IResultAttachmentsOptions {\n  resultTemplate?: Template;\n  subResultTemplate?: Template;\n  maximumAttachmentLevel?: number;\n}\n\n/**\n * This component is used to render attachments in a result set, for example when displaying emails.<br/>\n * It is intended to be used inside a result template when there is an active {@link Folding} component\n * inside the page.\n */\nexport class ResultAttachments extends Component {\n  static ID = 'ResultAttachments';\n\n  /**\n   * The options for the component\n   * @componentOptions\n   */\n  static options: IResultAttachmentsOptions = {\n    /**\n     * Specifies the template to use to render each of the attachments for a top result.<br/>\n     * By default, it will use the template specified in a child element with a `<script>` tag.<br/>\n     * This can be specified directly as an attribute to the element, for example :\n     * ```html\n     * <div class=\"CoveoResultFolding\" data-result-template-id=\"Foo\"></div>\n     * ```\n     * which will use a previously registered template ID (see {@link TemplateCache})\n     */\n    resultTemplate: ComponentOptions.buildTemplateOption({ defaultFunction: (e) => new DefaultResultAttachmentTemplate() }),\n    /**\n     * Specifies the template to use to render sub-attachments, which are attachments within other attachments,\n     * for example multiple files embedded in a .zip attachment.<br/>\n     * Sub-attachments can also contain other sub-attachments.<br/>\n     * The template can be specified the same way as {@link ResultAttachments.options.resultTemplate resultTemplate}\n     */\n    subResultTemplate: ComponentOptions.buildTemplateOption({ postProcessing: (value: Template, options: IResultAttachmentsOptions) => value != null ? value : options.resultTemplate }),\n    /**\n     * Specifies the maximum nesting depth at which the component should stop rendering sub-attachments.<br/>\n     * The default value is 5.\n     */\n    maximumAttachmentLevel: ComponentOptions.buildNumberOption({ defaultValue: 5, min: 0 })\n  }\n\n  private attachments: IQueryResult[];\n\n  /**\n   * Build a new ResultAttachments component\n   * @param element\n   * @param options\n   * @param bindings\n   * @param result\n   * @param attachmentLevel\n   */\n  constructor(public element: HTMLElement, public options?: IResultAttachmentsOptions, public bindings?: IComponentBindings, result?: IQueryResult, public attachmentLevel = 0) {\n    super(element, ResultAttachments.ID, bindings);\n\n    this.options = ComponentOptions.initComponentOptions(element, ResultAttachments, options);\n\n    this.attachments = result.attachments;\n    if (Utils.isNonEmptyArray(this.attachments)) {\n      this.renderAttachments();\n    }\n  }\n\n  private renderAttachments() {\n    _.each(this.attachments, (attachment) => {\n      QueryUtils.setStateObjectOnQueryResult(this.queryStateModel.get(), attachment)\n      var container = this.attachmentLevel > 0 ? this.options.subResultTemplate.instantiateToElement(attachment) : this.options.resultTemplate.instantiateToElement(attachment);\n\n      this.autoCreateComponentsInsideResult(container, _.extend({}, attachment, { attachments: [] }));\n\n      $$(container).addClass('coveo-result-attachments-container');\n      this.element.appendChild(container);\n\n      if (this.attachmentHasSubAttachment(attachment) && this.attachmentLevel < this.options.maximumAttachmentLevel) {\n        var childAttachmentContainer = $$('div').el;\n        container.appendChild(childAttachmentContainer);\n        new ResultAttachments(childAttachmentContainer, this.options, this.bindings, attachment, this.attachmentLevel + 1);\n      }\n    })\n  }\n\n  private attachmentHasSubAttachment(attachment: IQueryResult) {\n    if (Utils.isNonEmptyArray(attachment.attachments)) {\n      return true;\n    } else if (Utils.isNonEmptyArray(attachment.childResults)) {\n      attachment.attachments = attachment.childResults;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  private autoCreateComponentsInsideResult(element: HTMLElement, result: IQueryResult) {\n    Assert.exists(element);\n    var initOptions = this.searchInterface.options;\n    var initParameters: IInitializationParameters = {\n      options: initOptions,\n      bindings: this.getBindings(),\n      result: result\n    }\n    Initialization.automaticallyCreateComponentsInside(element, initParameters, [ResultAttachments.ID]);\n  }\n}\n\nInitialization.registerAutoCreateComponent(ResultAttachments);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/ResultAttachments/ResultAttachments.ts\n **/","l":{"2":1,"4":1,"5":1,"7":1,"8":1,"9":1,"10":1,"11":1,"24":1,"25":1,"31":1,"41":8,"48":11,"66":20,"67":11,"69":11,"71":11,"72":11,"73":6,"77":6,"78":6,"79":10,"80":10,"82":10,"84":10,"85":10,"87":10,"88":2,"89":2,"90":2,"95":1,"96":10,"97":3,"98":7,"99":0,"100":0,"102":7,"106":1,"107":10,"108":10,"109":10,"114":10,"116":1,"118":1}},"src/ui/ResultAttachments/DefaultResultAttachmentTemplate.ts":{"path":"src/ui/ResultAttachments/DefaultResultAttachmentTemplate.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":46}},"2":{"start":{"line":5,"column":0},"end":{"line":14,"column":1}},"3":{"start":{"line":5,"column":53},"end":{"line":5,"column":61}},"4":{"start":{"line":7,"column":2},"end":{"line":9,"column":3}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":12}},"6":{"start":{"line":11,"column":2},"end":{"line":13,"column":3}},"7":{"start":{"line":12,"column":4},"end":{"line":12,"column":125}},"8":{"start":{"line":14,"column":0},"end":{"line":14,"column":1}},"9":{"start":{"line":5,"column":13},"end":{"line":14,"column":1}}},"fnMap":{"1":{"name":"(anonymous_5622)","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"DefaultResultAttachmentTemplate","line":7,"loc":{"start":{"line":7,"column":2},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_5624)","line":11,"loc":{"start":{"line":11,"column":2},"end":{"line":11,"column":48}}}},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":8,"6":1,"7":6,"8":1,"9":1},"b":{},"f":{"1":1,"2":8,"3":6},"code":"import {Template} from '../Templates/Template'\nimport {IQueryResult} from '../../rest/QueryResult'\n\n\nexport class DefaultResultAttachmentTemplate extends Template {\n\n  constructor() {\n    super();\n  }\n\n  instantiateToString(queryResult?: IQueryResult): string {\n    return '<div><span class=\"CoveoIcon\"></span> <a class=\"CoveoResultLink\"></a> <span class=\"CoveoQuickview\"></span></div>';\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/ResultAttachments/DefaultResultAttachmentTemplate.ts\n **/","l":{"1":1,"5":1,"7":1,"8":8,"11":1,"12":6,"14":1}},"src/ui/ResultFolding/ResultFolding.ts":{"path":"src/ui/ResultFolding/ResultFolding.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":43}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":57}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":63}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":39}},"5":{"start":{"line":9,"column":0},"end":{"line":9,"column":49}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":81}},"7":{"start":{"line":11,"column":0},"end":{"line":11,"column":40}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":34}},"9":{"start":{"line":13,"column":0},"end":{"line":13,"column":39}},"10":{"start":{"line":30,"column":0},"end":{"line":249,"column":1}},"11":{"start":{"line":30,"column":35},"end":{"line":30,"column":44}},"12":{"start":{"line":87,"column":2},"end":{"line":101,"column":3}},"13":{"start":{"line":88,"column":4},"end":{"line":88,"column":47}},"14":{"start":{"line":87,"column":21},"end":{"line":87,"column":41}},"15":{"start":{"line":87,"column":50},"end":{"line":87,"column":81}},"16":{"start":{"line":87,"column":121},"end":{"line":87,"column":142}},"17":{"start":{"line":83,"column":10},"end":{"line":83,"column":37}},"18":{"start":{"line":90,"column":4},"end":{"line":90,"column":95}},"19":{"start":{"line":92,"column":4},"end":{"line":92,"column":26}},"20":{"start":{"line":94,"column":4},"end":{"line":94,"column":25}},"21":{"start":{"line":95,"column":4},"end":{"line":95,"column":55}},"22":{"start":{"line":96,"column":4},"end":{"line":96,"column":35}},"23":{"start":{"line":98,"column":4},"end":{"line":100,"column":5}},"24":{"start":{"line":99,"column":6},"end":{"line":99,"column":30}},"25":{"start":{"line":103,"column":9},"end":{"line":125,"column":3}},"26":{"start":{"line":103,"column":2},"end":{"line":125,"column":3}},"27":{"start":{"line":104,"column":4},"end":{"line":104,"column":43}},"28":{"start":{"line":106,"column":4},"end":{"line":106,"column":36}},"29":{"start":{"line":107,"column":4},"end":{"line":107,"column":56}},"30":{"start":{"line":108,"column":4},"end":{"line":108,"column":78}},"31":{"start":{"line":109,"column":4},"end":{"line":109,"column":49}},"32":{"start":{"line":110,"column":4},"end":{"line":110,"column":35}},"33":{"start":{"line":112,"column":4},"end":{"line":124,"column":9}},"34":{"start":{"line":114,"column":8},"end":{"line":114,"column":36}},"35":{"start":{"line":115,"column":8},"end":{"line":115,"column":39}},"36":{"start":{"line":116,"column":8},"end":{"line":116,"column":42}},"37":{"start":{"line":117,"column":8},"end":{"line":117,"column":53}},"38":{"start":{"line":118,"column":8},"end":{"line":118,"column":23}},"39":{"start":{"line":121,"column":8},"end":{"line":121,"column":44}},"40":{"start":{"line":122,"column":8},"end":{"line":122,"column":40}},"41":{"start":{"line":123,"column":8},"end":{"line":123,"column":39}},"42":{"start":{"line":127,"column":9},"end":{"line":133,"column":3}},"43":{"start":{"line":128,"column":4},"end":{"line":128,"column":36}},"44":{"start":{"line":129,"column":4},"end":{"line":129,"column":36}},"45":{"start":{"line":130,"column":4},"end":{"line":130,"column":55}},"46":{"start":{"line":131,"column":4},"end":{"line":131,"column":35}},"47":{"start":{"line":132,"column":4},"end":{"line":132,"column":33}},"48":{"start":{"line":135,"column":10},"end":{"line":139,"column":3}},"49":{"start":{"line":136,"column":4},"end":{"line":136,"column":23}},"50":{"start":{"line":137,"column":4},"end":{"line":137,"column":24}},"51":{"start":{"line":138,"column":4},"end":{"line":138,"column":23}},"52":{"start":{"line":141,"column":10},"end":{"line":153,"column":3}},"53":{"start":{"line":142,"column":4},"end":{"line":142,"column":69}},"54":{"start":{"line":143,"column":4},"end":{"line":143,"column":37}},"55":{"start":{"line":144,"column":4},"end":{"line":150,"column":5}},"56":{"start":{"line":145,"column":6},"end":{"line":145,"column":115}},"57":{"start":{"line":146,"column":6},"end":{"line":146,"column":45}},"58":{"start":{"line":148,"column":6},"end":{"line":148,"column":121}},"59":{"start":{"line":149,"column":6},"end":{"line":149,"column":47}},"60":{"start":{"line":151,"column":4},"end":{"line":151,"column":122}},"61":{"start":{"line":152,"column":4},"end":{"line":152,"column":46}},"62":{"start":{"line":155,"column":10},"end":{"line":158,"column":3}},"63":{"start":{"line":156,"column":4},"end":{"line":156,"column":72}},"64":{"start":{"line":157,"column":4},"end":{"line":157,"column":43}},"65":{"start":{"line":160,"column":10},"end":{"line":182,"column":3}},"66":{"start":{"line":160,"column":2},"end":{"line":182,"column":3}},"67":{"start":{"line":161,"column":4},"end":{"line":161,"column":69}},"68":{"start":{"line":162,"column":4},"end":{"line":162,"column":51}},"69":{"start":{"line":164,"column":4},"end":{"line":181,"column":5}},"70":{"start":{"line":165,"column":6},"end":{"line":165,"column":91}},"71":{"start":{"line":166,"column":6},"end":{"line":166,"column":66}},"72":{"start":{"line":166,"column":42},"end":{"line":166,"column":64}},"73":{"start":{"line":167,"column":6},"end":{"line":167,"column":40}},"74":{"start":{"line":169,"column":6},"end":{"line":169,"column":91}},"75":{"start":{"line":170,"column":6},"end":{"line":170,"column":66}},"76":{"start":{"line":170,"column":42},"end":{"line":170,"column":64}},"77":{"start":{"line":171,"column":6},"end":{"line":171,"column":40}},"78":{"start":{"line":173,"column":6},"end":{"line":173,"column":132}},"79":{"start":{"line":174,"column":6},"end":{"line":174,"column":132}},"80":{"start":{"line":175,"column":6},"end":{"line":175,"column":104}},"81":{"start":{"line":176,"column":6},"end":{"line":176,"column":104}},"82":{"start":{"line":177,"column":6},"end":{"line":177,"column":46}},"83":{"start":{"line":178,"column":6},"end":{"line":178,"column":46}},"84":{"start":{"line":179,"column":6},"end":{"line":179,"column":52}},"85":{"start":{"line":180,"column":6},"end":{"line":180,"column":52}},"86":{"start":{"line":184,"column":10},"end":{"line":207,"column":3}},"87":{"start":{"line":185,"column":4},"end":{"line":187,"column":5}},"88":{"start":{"line":186,"column":6},"end":{"line":186,"column":101}},"89":{"start":{"line":188,"column":4},"end":{"line":190,"column":5}},"90":{"start":{"line":189,"column":6},"end":{"line":189,"column":63}},"91":{"start":{"line":191,"column":4},"end":{"line":191,"column":104}},"92":{"start":{"line":193,"column":4},"end":{"line":196,"column":5}},"93":{"start":{"line":194,"column":6},"end":{"line":194,"column":99}},"94":{"start":{"line":195,"column":6},"end":{"line":195,"column":56}},"95":{"start":{"line":198,"column":4},"end":{"line":198,"column":70}},"96":{"start":{"line":199,"column":4},"end":{"line":201,"column":5}},"97":{"start":{"line":200,"column":6},"end":{"line":200,"column":56}},"98":{"start":{"line":203,"column":4},"end":{"line":203,"column":74}},"99":{"start":{"line":204,"column":4},"end":{"line":206,"column":5}},"100":{"start":{"line":205,"column":6},"end":{"line":205,"column":57}},"101":{"start":{"line":209,"column":10},"end":{"line":212,"column":3}},"102":{"start":{"line":210,"column":4},"end":{"line":210,"column":61}},"103":{"start":{"line":211,"column":4},"end":{"line":211,"column":80}},"104":{"start":{"line":214,"column":10},"end":{"line":219,"column":3}},"105":{"start":{"line":214,"column":2},"end":{"line":219,"column":3}},"106":{"start":{"line":215,"column":4},"end":{"line":215,"column":29}},"107":{"start":{"line":216,"column":4},"end":{"line":218,"column":7}},"108":{"start":{"line":217,"column":6},"end":{"line":217,"column":37}},"109":{"start":{"line":221,"column":10},"end":{"line":231,"column":3}},"110":{"start":{"line":222,"column":4},"end":{"line":222,"column":84}},"111":{"start":{"line":224,"column":4},"end":{"line":224,"column":80}},"112":{"start":{"line":225,"column":4},"end":{"line":225,"column":63}},"113":{"start":{"line":226,"column":4},"end":{"line":226,"column":39}},"114":{"start":{"line":228,"column":4},"end":{"line":228,"column":84}},"115":{"start":{"line":229,"column":4},"end":{"line":229,"column":85}},"116":{"start":{"line":230,"column":4},"end":{"line":230,"column":65}},"117":{"start":{"line":233,"column":10},"end":{"line":239,"column":3}},"118":{"start":{"line":234,"column":4},"end":{"line":234,"column":27}},"119":{"start":{"line":236,"column":4},"end":{"line":236,"column":51}},"120":{"start":{"line":237,"column":4},"end":{"line":237,"column":122}},"121":{"start":{"line":238,"column":4},"end":{"line":238,"column":80}},"122":{"start":{"line":241,"column":10},"end":{"line":248,"column":3}},"123":{"start":{"line":242,"column":4},"end":{"line":244,"column":5}},"124":{"start":{"line":243,"column":6},"end":{"line":243,"column":42}},"125":{"start":{"line":246,"column":4},"end":{"line":246,"column":50}},"126":{"start":{"line":247,"column":4},"end":{"line":247,"column":45}},"127":{"start":{"line":31,"column":9},"end":{"line":31,"column":30}},"128":{"start":{"line":37,"column":9},"end":{"line":73,"column":4}},"129":{"start":{"line":47,"column":82},"end":{"line":47,"column":110}},"130":{"start":{"line":62,"column":90},"end":{"line":62,"column":112}},"131":{"start":{"line":67,"column":90},"end":{"line":67,"column":112}},"132":{"start":{"line":72,"column":95},"end":{"line":72,"column":133}},"133":{"start":{"line":249,"column":0},"end":{"line":249,"column":1}},"134":{"start":{"line":30,"column":13},"end":{"line":249,"column":1}},"135":{"start":{"line":251,"column":0},"end":{"line":251,"column":58}}},"fnMap":{"1":{"name":"(anonymous_5629)","line":30,"loc":{"start":{"line":30,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"ResultFolding","line":87,"loc":{"start":{"line":87,"column":2},"end":{"line":87,"column":142}}},"3":{"name":"(anonymous_5631)","line":103,"loc":{"start":{"line":103,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_5632)","line":113,"loc":{"start":{"line":113,"column":12},"end":{"line":113,"column":37}}},"5":{"name":"(anonymous_5633)","line":120,"loc":{"start":{"line":120,"column":15},"end":{"line":120,"column":40}}},"6":{"name":"(anonymous_5634)","line":127,"loc":{"start":{"line":127,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_5635)","line":135,"loc":{"start":{"line":135,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_5636)","line":141,"loc":{"start":{"line":141,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_5637)","line":155,"loc":{"start":{"line":155,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_5638)","line":160,"loc":{"start":{"line":160,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_5639)","line":166,"loc":{"start":{"line":166,"column":36},"end":{"line":166,"column":41}}},"12":{"name":"(anonymous_5640)","line":170,"loc":{"start":{"line":170,"column":36},"end":{"line":170,"column":41}}},"13":{"name":"(anonymous_5641)","line":184,"loc":{"start":{"line":184,"column":2},"end":{"line":184,"column":59}}},"14":{"name":"(anonymous_5642)","line":209,"loc":{"start":{"line":209,"column":2},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_5643)","line":214,"loc":{"start":{"line":214,"column":2},"end":{"line":214,"column":53}}},"16":{"name":"(anonymous_5644)","line":216,"loc":{"start":{"line":216,"column":20},"end":{"line":216,"column":27}}},"17":{"name":"(anonymous_5645)","line":221,"loc":{"start":{"line":221,"column":2},"end":{"line":221,"column":53}}},"18":{"name":"(anonymous_5646)","line":233,"loc":{"start":{"line":233,"column":2},"end":{"line":233,"column":85}}},"19":{"name":"(anonymous_5647)","line":241,"loc":{"start":{"line":241,"column":2},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_5648)","line":47,"loc":{"start":{"line":47,"column":76},"end":{"line":47,"column":81}}},"21":{"name":"(anonymous_5649)","line":62,"loc":{"start":{"line":62,"column":79},"end":{"line":62,"column":85}}},"22":{"name":"(anonymous_5650)","line":67,"loc":{"start":{"line":67,"column":79},"end":{"line":67,"column":85}}},"23":{"name":"(anonymous_5651)","line":72,"loc":{"start":{"line":72,"column":84},"end":{"line":72,"column":90}}}},"branchMap":{"1":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":4},"end":{"line":98,"column":3}},{"start":{"line":98,"column":4},"end":{"line":98,"column":3}}]},"2":{"line":98,"type":"binary-expr","locations":[{"start":{"line":98,"column":8},"end":{"line":98,"column":44}},{"start":{"line":98,"column":48},"end":{"line":98,"column":72}}]},"3":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":4},"end":{"line":144,"column":3}},{"start":{"line":144,"column":4},"end":{"line":144,"column":3}}]},"4":{"line":144,"type":"binary-expr","locations":[{"start":{"line":144,"column":8},"end":{"line":144,"column":47}},{"start":{"line":144,"column":51},"end":{"line":144,"column":92}}]},"5":{"line":164,"type":"if","locations":[{"start":{"line":164,"column":4},"end":{"line":164,"column":3}},{"start":{"line":164,"column":4},"end":{"line":164,"column":3}}]},"6":{"line":185,"type":"if","locations":[{"start":{"line":185,"column":4},"end":{"line":185,"column":3}},{"start":{"line":185,"column":4},"end":{"line":185,"column":3}}]},"7":{"line":186,"type":"binary-expr","locations":[{"start":{"line":186,"column":36},"end":{"line":186,"column":60}},{"start":{"line":186,"column":64},"end":{"line":186,"column":99}}]},"8":{"line":188,"type":"if","locations":[{"start":{"line":188,"column":4},"end":{"line":188,"column":3}},{"start":{"line":188,"column":4},"end":{"line":188,"column":3}}]},"9":{"line":191,"type":"binary-expr","locations":[{"start":{"line":191,"column":60},"end":{"line":191,"column":76}},{"start":{"line":191,"column":80},"end":{"line":191,"column":101}}]},"10":{"line":193,"type":"if","locations":[{"start":{"line":193,"column":4},"end":{"line":193,"column":3}},{"start":{"line":193,"column":4},"end":{"line":193,"column":3}}]},"11":{"line":194,"type":"binary-expr","locations":[{"start":{"line":194,"column":31},"end":{"line":194,"column":55}},{"start":{"line":194,"column":59},"end":{"line":194,"column":97}}]},"12":{"line":199,"type":"if","locations":[{"start":{"line":199,"column":4},"end":{"line":199,"column":3}},{"start":{"line":199,"column":4},"end":{"line":199,"column":3}}]},"13":{"line":204,"type":"if","locations":[{"start":{"line":204,"column":4},"end":{"line":204,"column":3}},{"start":{"line":204,"column":4},"end":{"line":204,"column":3}}]},"14":{"line":242,"type":"if","locations":[{"start":{"line":242,"column":4},"end":{"line":242,"column":3}},{"start":{"line":242,"column":4},"end":{"line":242,"column":3}}]},"15":{"line":62,"type":"binary-expr","locations":[{"start":{"line":62,"column":90},"end":{"line":62,"column":95}},{"start":{"line":62,"column":99},"end":{"line":62,"column":112}}]},"16":{"line":67,"type":"binary-expr","locations":[{"start":{"line":67,"column":90},"end":{"line":67,"column":95}},{"start":{"line":67,"column":99},"end":{"line":67,"column":112}}]},"17":{"line":72,"type":"binary-expr","locations":[{"start":{"line":72,"column":95},"end":{"line":72,"column":100}},{"start":{"line":72,"column":104},"end":{"line":72,"column":133}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":39,"14":39,"15":39,"16":39,"17":39,"18":39,"19":39,"20":39,"21":39,"22":39,"23":39,"24":24,"25":1,"26":8,"27":8,"28":8,"29":8,"30":8,"31":8,"32":8,"33":8,"34":6,"35":6,"36":6,"37":6,"38":6,"39":6,"40":6,"41":6,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":39,"50":39,"51":39,"52":1,"53":39,"54":39,"55":39,"56":3,"57":3,"58":3,"59":3,"60":39,"61":39,"62":1,"63":39,"64":39,"65":1,"66":39,"67":39,"68":39,"69":39,"70":8,"71":8,"72":0,"73":8,"74":8,"75":8,"76":0,"77":8,"78":8,"79":8,"80":8,"81":8,"82":8,"83":8,"84":8,"85":8,"86":1,"87":54,"88":4,"89":54,"90":4,"91":54,"92":54,"93":21,"94":21,"95":54,"96":54,"97":3,"98":54,"99":54,"100":3,"101":1,"102":1,"103":1,"104":1,"105":46,"106":46,"107":46,"108":69,"109":1,"110":69,"111":69,"112":69,"113":69,"114":69,"115":69,"116":69,"117":1,"118":69,"119":69,"120":69,"121":69,"122":1,"123":9,"124":0,"125":9,"126":9,"127":1,"128":1,"129":34,"130":39,"131":39,"132":39,"133":1,"134":1,"135":1},"b":{"1":[24,15],"2":[39,27],"3":[3,36],"4":[39,4],"5":[8,31],"6":[4,50],"7":[4,4],"8":[4,50],"9":[54,6],"10":[21,33],"11":[21,15],"12":[3,51],"13":[3,51],"14":[0,9],"15":[39,38],"16":[39,38],"17":[39,38]},"f":{"1":1,"2":39,"3":8,"4":6,"5":6,"6":1,"7":39,"8":39,"9":39,"10":39,"11":0,"12":0,"13":54,"14":1,"15":46,"16":69,"17":69,"18":69,"19":9,"20":34,"21":39,"22":39,"23":39},"code":"import {Template} from '../Templates/Template'\nimport {Component} from '../Base/Component'\nimport {IComponentBindings} from '../Base/ComponentBindings'\nimport {ComponentOptions} from '../Base/ComponentOptions'\nimport {DefaultFoldingTemplate} from './DefaultFoldingTemplate'\nimport {Promise} from 'es6-promise';\nimport {IQueryResult} from '../../rest/QueryResult'\nimport {Utils} from '../../utils/Utils'\nimport {QueryUtils} from '../../utils/QueryUtils'\nimport {Initialization, IInitializationParameters} from '../Base/Initialization';\nimport {Assert} from '../../misc/Assert'\nimport {$$} from '../../utils/Dom'\nimport {l} from '../../strings/Strings'\n\nexport interface IResultFoldingOptions {\n  resultTemplate?: Template;\n  normalCaption?: string;\n  expandedCaption?: string;\n  moreCaption?: string;\n  lessCaption?: string;\n  oneResultCaption?: string;\n}\n\n/**\n * This component is used to render folded result sets. It is intended to be used inside a\n * <a href='https://developers.coveo.com/display/public/JsSearchV1/Result+Templates'>Result Template</a>\n * when there is an active {@link Folding} component on the page. This component takes care of rendering\n * the parent result and its child results in a coherent manner.\n */\nexport class ResultFolding extends Component {\n  static ID = 'ResultFolding';\n\n  /**\n   * The options for the component\n   * @componentOptions\n   */\n  static options: IResultFoldingOptions = {\n    /**\n     * Specifies the template to use to render each of the child results for a top result.<br/>\n     * By default, it will use the template specified in a child element with a `<script>` tag.<br/>\n     * This can be specified directly as an attribute to the element, for example :\n     * ```html\n     * <div class='CoveoResultFolding' data-result-template-id='Foo'></div>\n     * ```\n     * which will use a previously registered template ID (see {@link TemplateCache})\n     */\n    resultTemplate: ComponentOptions.buildTemplateOption({ defaultFunction: () => new DefaultFoldingTemplate() }),\n    /**\n     * Specifies the caption to show at the top of the child results when the conversation is not expanded.<br/>\n     * By default, the value is undefined, which doesn't show any caption.\n     */\n    normalCaption: ComponentOptions.buildLocalizedStringOption(),\n    /**\n     * Specifies the caption to show at the top of the child results when the conversation is expanded.<br/>\n     * By default, the value is undefined, which doesn't show any caption.\n     */\n    expandedCaption: ComponentOptions.buildLocalizedStringOption(),\n    /**\n     * Specifies the caption to show on the link to expand / show child results\n     * The default value is the localized version of <code>ShowMore</code>.\n     */\n    moreCaption: ComponentOptions.buildLocalizedStringOption({ postProcessing: (value) => value || l('ShowMore') }),\n    /**\n     * Specifies the caption to show on the link to shrink the loaded conversation back to only the top result.\n     * The default value is the localized version of <code>ShowLess</code>.\n     */\n    lessCaption: ComponentOptions.buildLocalizedStringOption({ postProcessing: (value) => value || l('ShowLess') }),\n    /**\n     * Specifies the caption to show when there is only one result in a conversation.\n     * The default value is the localized version of <code>DisplayingTheOnlyMessage</code>.\n     */\n    oneResultCaption: ComponentOptions.buildLocalizedStringOption({ postProcessing: (value) => value || l('DisplayingTheOnlyMessage') })\n  };\n\n  private normalCaption: HTMLElement;\n  private expandedCaption: HTMLElement;\n  private oneResultCaption: HTMLElement;\n  private results: HTMLElement;\n  private showMore: HTMLElement;\n  private showLess: HTMLElement;\n  private waitAnimation: HTMLElement;\n  private moreResultsPromise: Promise<IQueryResult[]>;\n  private showingMoreResults = false;\n\n  public childResults: IQueryResult[];\n\n  constructor(public element: HTMLElement, public options?: IResultFoldingOptions, bindings?: IComponentBindings, public result?: IQueryResult) {\n    super(element, ResultFolding.ID, bindings);\n\n    this.options = ComponentOptions.initComponentOptions(this.element, ResultFolding, options);\n\n    Assert.exists(result);\n\n    this.buildElements();\n    this.displayThoseResults(this.result.childResults);\n    this.updateElementVisibility();\n\n    if (this.result.childResults.length == 0 && !this.result.moreResults) {\n      $$(this.element).hide();\n    }\n  }\n\n  public showMoreResults() {\n    Assert.exists(this.result.moreResults);\n\n    this.cancelAnyPendingShowMore();\n    this.moreResultsPromise = this.result.moreResults();\n    this.waitAnimation = $$('div', { className: 'coveo-loading-spinner' }).el;\n    this.results.appendChild(this.waitAnimation);\n    this.updateElementVisibility();\n\n    this.moreResultsPromise\n      .then((results?: IQueryResult[]) => {\n        this.childResults = results;\n        this.showingMoreResults = true;\n        this.displayThoseResults(results);\n        this.updateElementVisibility(results.length);\n        return results;\n      })\n      .finally((results?: IQueryResult[]) => {\n        this.moreResultsPromise = undefined;\n        $$(this.waitAnimation).detach();\n        this.waitAnimation = undefined;\n      });\n  }\n\n  public showLessResults() {\n    this.cancelAnyPendingShowMore();\n    this.showingMoreResults = false;\n    this.displayThoseResults(this.result.childResults);\n    this.updateElementVisibility();\n    this.scrollToResultElement();\n  }\n\n  private buildElements() {\n    this.buildHeader();\n    this.buildResults();\n    this.buildFooter();\n  }\n\n  private buildHeader() {\n    let header = $$('div', { className: 'coveo-folding-header' }).el;\n    this.element.appendChild(header);\n    if (this.options.normalCaption != undefined && this.options.expandedCaption != undefined) {\n      this.normalCaption = $$('div', { className: 'coveo-folding-normal-caption' }, this.options.normalCaption).el;\n      header.appendChild(this.normalCaption);\n\n      this.expandedCaption = $$('div', { className: 'coveo-folding-expanded-caption' }, this.options.expandedCaption).el;\n      header.appendChild(this.expandedCaption);\n    }\n    this.oneResultCaption = $$('div', { className: 'coveo-folding-oneresult-caption' }, this.options.oneResultCaption).el;\n    header.appendChild(this.oneResultCaption);\n  }\n\n  private buildResults() {\n    this.results = $$('div', { className: 'coveo-folding-results' }).el;\n    this.element.appendChild(this.results);\n  }\n\n  private buildFooter() {\n    let footer = $$('div', { className: 'coveo-folding-footer' }).el;\n    this.element.parentElement.appendChild(footer);\n\n    if (this.result.moreResults) {\n      this.showMore = $$('div', { className: 'coveo-folding-footer-section-for-less' }).el;\n      $$(this.showMore).on('click', () => this.showMoreResults());\n      footer.appendChild(this.showMore);\n\n      this.showLess = $$('div', { className: 'coveo-folding-footer-section-for-more' }).el;\n      $$(this.showLess).on('click', () => this.showLessResults());\n      footer.appendChild(this.showLess);\n\n      let footerIconShowMore = $$('div', { className: 'coveo-more' }, $$('span', { className: 'coveo-folding-footer-icon' }).el).el;\n      let footerIconShowLess = $$('div', { className: 'coveo-less' }, $$('span', { className: 'coveo-folding-footer-icon' }).el).el;\n      let showMoreLink = $$('a', { className: 'coveo-folding-show-more' }, this.options.moreCaption).el;\n      let showLessLink = $$('a', { className: 'coveo-folding-show-less' }, this.options.lessCaption).el;\n      this.showMore.appendChild(showMoreLink);\n      this.showLess.appendChild(showLessLink);\n      this.showMore.appendChild(footerIconShowMore);\n      this.showLess.appendChild(footerIconShowLess);\n    }\n  }\n\n  private updateElementVisibility(subResultsLength?: number) {\n    if (this.normalCaption) {\n      $$(this.normalCaption).toggle(!this.showingMoreResults && this.result.childResults.length > 0);\n    }\n    if (this.expandedCaption) {\n      $$(this.expandedCaption).toggle(this.showingMoreResults);\n    }\n    $$(this.oneResultCaption).toggleClass('coveo-hidden', !(subResultsLength && subResultsLength == 1));\n\n    if (this.showMore) {\n      $$(this.showMore).toggle(!this.showingMoreResults && !Utils.exists(this.moreResultsPromise));\n      $$(this.showLess).toggle(this.showingMoreResults);\n    }\n\n    let showIfNormal = $$(this.element).find('.coveo-show-if-normal');\n    if (showIfNormal) {\n      $$(showIfNormal).toggle(!this.showingMoreResults);\n    }\n\n    let showIfExpanded = $$(this.element).find('.coveo-show-if-expanded');\n    if (showIfExpanded) {\n      $$(showIfExpanded).toggle(this.showingMoreResults);\n    }\n  }\n\n  private scrollToResultElement() {\n    let resultElem = $$(this.element).closest('CoveoResult');\n    window.scrollTo(0, window.scrollY + resultElem.getBoundingClientRect().top);\n  }\n\n  private displayThoseResults(results: IQueryResult[]) {\n    $$(this.results).empty();\n    _.each(results, (result) => {\n      this.renderChildResult(result);\n    });\n  }\n\n  private renderChildResult(childResult: IQueryResult) {\n    QueryUtils.setStateObjectOnQueryResult(this.queryStateModel.get(), childResult);\n\n    let oneChild = this.options.resultTemplate.instantiateToElement(childResult)\n    $$(oneChild).addClass('coveo-result-folding-child-result');\n    this.results.appendChild(oneChild);\n\n    $$(oneChild).toggleClass('coveo-normal-child-result', !this.showingMoreResults);\n    $$(oneChild).toggleClass('coveo-expanded-child-result', this.showingMoreResults);\n    this.autoCreateComponentsInsideResult(oneChild, childResult);\n  }\n\n  private autoCreateComponentsInsideResult(element: HTMLElement, result: IQueryResult) {\n    Assert.exists(element);\n\n    let initOptions = this.searchInterface.options;\n    let initParameters: IInitializationParameters = { options: initOptions, bindings: this.getBindings(), result: result }\n    Initialization.automaticallyCreateComponentsInside(element, initParameters);\n  }\n\n  private cancelAnyPendingShowMore() {\n    if (this.moreResultsPromise) {\n      this.moreResultsPromise = undefined;\n    }\n\n    Assert.doesNotExists(this.moreResultsPromise);\n    Assert.doesNotExists(this.waitAnimation);\n  }\n}\n\nInitialization.registerAutoCreateComponent(ResultFolding);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/ResultFolding/ResultFolding.ts\n **/","l":{"2":1,"4":1,"5":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"30":1,"31":1,"37":1,"47":34,"62":39,"67":39,"72":39,"83":39,"87":39,"88":39,"90":39,"92":39,"94":39,"95":39,"96":39,"98":39,"99":24,"103":8,"104":8,"106":8,"107":8,"108":8,"109":8,"110":8,"112":8,"114":6,"115":6,"116":6,"117":6,"118":6,"121":6,"122":6,"123":6,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"135":1,"136":39,"137":39,"138":39,"141":1,"142":39,"143":39,"144":39,"145":3,"146":3,"148":3,"149":3,"151":39,"152":39,"155":1,"156":39,"157":39,"160":39,"161":39,"162":39,"164":39,"165":8,"166":8,"167":8,"169":8,"170":8,"171":8,"173":8,"174":8,"175":8,"176":8,"177":8,"178":8,"179":8,"180":8,"184":1,"185":54,"186":4,"188":54,"189":4,"191":54,"193":54,"194":21,"195":21,"198":54,"199":54,"200":3,"203":54,"204":54,"205":3,"209":1,"210":1,"211":1,"214":46,"215":46,"216":46,"217":69,"221":1,"222":69,"224":69,"225":69,"226":69,"228":69,"229":69,"230":69,"233":1,"234":69,"236":69,"237":69,"238":69,"241":1,"242":9,"243":0,"246":9,"247":9,"249":1,"251":1}},"src/ui/ResultFolding/DefaultFoldingTemplate.ts":{"path":"src/ui/ResultFolding/DefaultFoldingTemplate.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":46}},"2":{"start":{"line":4,"column":0},"end":{"line":17,"column":1}},"3":{"start":{"line":4,"column":44},"end":{"line":4,"column":52}},"4":{"start":{"line":6,"column":2},"end":{"line":8,"column":3}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":12}},"6":{"start":{"line":10,"column":2},"end":{"line":12,"column":3}},"7":{"start":{"line":11,"column":4},"end":{"line":11,"column":152}},"8":{"start":{"line":14,"column":2},"end":{"line":16,"column":3}},"9":{"start":{"line":15,"column":4},"end":{"line":15,"column":36}},"10":{"start":{"line":17,"column":0},"end":{"line":17,"column":1}},"11":{"start":{"line":4,"column":13},"end":{"line":17,"column":1}}},"fnMap":{"1":{"name":"(anonymous_5655)","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"DefaultFoldingTemplate","line":6,"loc":{"start":{"line":6,"column":2},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_5657)","line":10,"loc":{"start":{"line":10,"column":2},"end":{"line":10,"column":48}}},"4":{"name":"(anonymous_5658)","line":14,"loc":{"start":{"line":14,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":34,"6":1,"7":58,"8":1,"9":0,"10":1,"11":1},"b":{},"f":{"1":1,"2":34,"3":58,"4":0},"code":"import {Template} from '../Templates/Template'\nimport {IQueryResult} from '../../rest/QueryResult'\n\nexport class DefaultFoldingTemplate extends Template {\n\n  constructor() {\n    super();\n  }\n\n  instantiateToString(queryResult?: IQueryResult): string {\n    return '<div class=\"coveo-child-result\"><span class=\"CoveoIcon\"></span> <a class=\"CoveoResultLink\"></a> <span class=\"CoveoQuickview\"></span></div>';\n  }\n\n  getType() {\n    return 'DefaultFoldingTemplate';\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/ResultFolding/DefaultFoldingTemplate.ts\n **/","l":{"1":1,"4":1,"6":1,"7":34,"10":1,"11":58,"14":1,"15":0,"17":1}},"src/ui/FieldTable/FieldTable.ts":{"path":"src/ui/FieldTable/FieldTable.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":57}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":49}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":53}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":59}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":34}},"7":{"start":{"line":35,"column":0},"end":{"line":198,"column":1}},"8":{"start":{"line":35,"column":32},"end":{"line":35,"column":41}},"9":{"start":{"line":79,"column":2},"end":{"line":100,"column":3}},"10":{"start":{"line":80,"column":4},"end":{"line":80,"column":42}},"11":{"start":{"line":79,"column":21},"end":{"line":79,"column":41}},"12":{"start":{"line":79,"column":50},"end":{"line":79,"column":78}},"13":{"start":{"line":79,"column":118},"end":{"line":79,"column":139}},"14":{"start":{"line":81,"column":4},"end":{"line":81,"column":87}},"15":{"start":{"line":83,"column":4},"end":{"line":83,"column":58}},"16":{"start":{"line":84,"column":4},"end":{"line":86,"column":7}},"17":{"start":{"line":85,"column":6},"end":{"line":85,"column":43}},"18":{"start":{"line":88,"column":4},"end":{"line":90,"column":5}},"19":{"start":{"line":89,"column":6},"end":{"line":89,"column":27}},"20":{"start":{"line":92,"column":4},"end":{"line":99,"column":5}},"21":{"start":{"line":93,"column":6},"end":{"line":93,"column":95}},"22":{"start":{"line":94,"column":6},"end":{"line":94,"column":25}},"23":{"start":{"line":95,"column":6},"end":{"line":95,"column":58}},"24":{"start":{"line":96,"column":6},"end":{"line":96,"column":53}},"25":{"start":{"line":98,"column":6},"end":{"line":98,"column":29}},"26":{"start":{"line":106,"column":9},"end":{"line":111,"column":3}},"27":{"start":{"line":106,"column":16},"end":{"line":106,"column":28}},"28":{"start":{"line":107,"column":4},"end":{"line":110,"column":5}},"29":{"start":{"line":108,"column":6},"end":{"line":108,"column":41}},"30":{"start":{"line":109,"column":6},"end":{"line":109,"column":64}},"31":{"start":{"line":117,"column":9},"end":{"line":125,"column":3}},"32":{"start":{"line":117,"column":16},"end":{"line":117,"column":28}},"33":{"start":{"line":118,"column":4},"end":{"line":124,"column":5}},"34":{"start":{"line":119,"column":6},"end":{"line":119,"column":29}},"35":{"start":{"line":120,"column":6},"end":{"line":120,"column":66}},"36":{"start":{"line":121,"column":6},"end":{"line":121,"column":51}},"37":{"start":{"line":122,"column":6},"end":{"line":122,"column":64}},"38":{"start":{"line":123,"column":6},"end":{"line":123,"column":68}},"39":{"start":{"line":131,"column":9},"end":{"line":139,"column":3}},"40":{"start":{"line":131,"column":18},"end":{"line":131,"column":30}},"41":{"start":{"line":132,"column":4},"end":{"line":138,"column":5}},"42":{"start":{"line":133,"column":6},"end":{"line":133,"column":30}},"43":{"start":{"line":134,"column":6},"end":{"line":134,"column":67}},"44":{"start":{"line":135,"column":6},"end":{"line":135,"column":54}},"45":{"start":{"line":136,"column":6},"end":{"line":136,"column":67}},"46":{"start":{"line":137,"column":6},"end":{"line":137,"column":70}},"47":{"start":{"line":141,"column":12},"end":{"line":147,"column":3}},"48":{"start":{"line":142,"column":4},"end":{"line":144,"column":5}},"49":{"start":{"line":143,"column":6},"end":{"line":143,"column":18}},"50":{"start":{"line":145,"column":4},"end":{"line":145,"column":85}},"51":{"start":{"line":146,"column":4},"end":{"line":146,"column":17}},"52":{"start":{"line":149,"column":10},"end":{"line":176,"column":3}},"53":{"start":{"line":149,"column":2},"end":{"line":176,"column":3}},"54":{"start":{"line":150,"column":4},"end":{"line":150,"column":84}},"55":{"start":{"line":151,"column":4},"end":{"line":151,"column":90}},"56":{"start":{"line":153,"column":4},"end":{"line":153,"column":80}},"57":{"start":{"line":154,"column":4},"end":{"line":154,"column":54}},"58":{"start":{"line":155,"column":4},"end":{"line":155,"column":51}},"59":{"start":{"line":156,"column":4},"end":{"line":156,"column":53}},"60":{"start":{"line":158,"column":4},"end":{"line":158,"column":125}},"61":{"start":{"line":159,"column":4},"end":{"line":159,"column":59}},"62":{"start":{"line":161,"column":4},"end":{"line":167,"column":5}},"63":{"start":{"line":162,"column":6},"end":{"line":162,"column":30}},"64":{"start":{"line":163,"column":11},"end":{"line":167,"column":5}},"65":{"start":{"line":164,"column":6},"end":{"line":164,"column":29}},"66":{"start":{"line":166,"column":6},"end":{"line":166,"column":60}},"67":{"start":{"line":169,"column":4},"end":{"line":172,"column":7}},"68":{"start":{"line":170,"column":6},"end":{"line":170,"column":41}},"69":{"start":{"line":171,"column":6},"end":{"line":171,"column":55}},"70":{"start":{"line":174,"column":4},"end":{"line":174,"column":63}},"71":{"start":{"line":174,"column":44},"end":{"line":174,"column":61}},"72":{"start":{"line":175,"column":4},"end":{"line":175,"column":74}},"73":{"start":{"line":175,"column":55},"end":{"line":175,"column":72}},"74":{"start":{"line":178,"column":10},"end":{"line":193,"column":3}},"75":{"start":{"line":178,"column":22},"end":{"line":178,"column":45}},"76":{"start":{"line":178,"column":47},"end":{"line":178,"column":67}},"77":{"start":{"line":179,"column":4},"end":{"line":181,"column":5}},"78":{"start":{"line":180,"column":6},"end":{"line":180,"column":63}},"79":{"start":{"line":182,"column":4},"end":{"line":188,"column":5}},"80":{"start":{"line":183,"column":6},"end":{"line":183,"column":51}},"81":{"start":{"line":184,"column":6},"end":{"line":184,"column":76}},"82":{"start":{"line":186,"column":6},"end":{"line":186,"column":76}},"83":{"start":{"line":187,"column":6},"end":{"line":187,"column":46}},"84":{"start":{"line":189,"column":4},"end":{"line":192,"column":5}},"85":{"start":{"line":190,"column":6},"end":{"line":190,"column":40}},"86":{"start":{"line":191,"column":6},"end":{"line":191,"column":66}},"87":{"start":{"line":195,"column":10},"end":{"line":197,"column":3}},"88":{"start":{"line":196,"column":4},"end":{"line":196,"column":67}},"89":{"start":{"line":36,"column":9},"end":{"line":36,"column":27}},"90":{"start":{"line":42,"column":9},"end":{"line":62,"column":4}},"91":{"start":{"line":198,"column":0},"end":{"line":198,"column":1}},"92":{"start":{"line":35,"column":13},"end":{"line":198,"column":1}},"93":{"start":{"line":200,"column":0},"end":{"line":200,"column":55}},"94":{"start":{"line":206,"column":0},"end":{"line":231,"column":1}},"95":{"start":{"line":206,"column":23},"end":{"line":206,"column":33}},"96":{"start":{"line":215,"column":2},"end":{"line":222,"column":3}},"97":{"start":{"line":216,"column":4},"end":{"line":216,"column":59}},"98":{"start":{"line":215,"column":21},"end":{"line":215,"column":41}},"99":{"start":{"line":215,"column":50},"end":{"line":215,"column":76}},"100":{"start":{"line":215,"column":116},"end":{"line":215,"column":137}},"101":{"start":{"line":217,"column":4},"end":{"line":217,"column":85}},"102":{"start":{"line":219,"column":4},"end":{"line":219,"column":30}},"103":{"start":{"line":220,"column":4},"end":{"line":220,"column":88}},"104":{"start":{"line":221,"column":4},"end":{"line":221,"column":65}},"105":{"start":{"line":224,"column":12},"end":{"line":230,"column":3}},"106":{"start":{"line":225,"column":4},"end":{"line":228,"column":5}},"107":{"start":{"line":226,"column":6},"end":{"line":226,"column":57}},"108":{"start":{"line":227,"column":6},"end":{"line":227,"column":52}},"109":{"start":{"line":229,"column":4},"end":{"line":229,"column":31}},"110":{"start":{"line":207,"column":9},"end":{"line":207,"column":25}},"111":{"start":{"line":208,"column":9},"end":{"line":210,"column":3}},"112":{"start":{"line":209,"column":86},"end":{"line":209,"column":118}},"113":{"start":{"line":212,"column":9},"end":{"line":212,"column":29}},"114":{"start":{"line":231,"column":0},"end":{"line":231,"column":1}}},"fnMap":{"1":{"name":"(anonymous_5663)","line":35,"loc":{"start":{"line":35,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"FieldTable","line":79,"loc":{"start":{"line":79,"column":2},"end":{"line":79,"column":139}}},"3":{"name":"(anonymous_5665)","line":84,"loc":{"start":{"line":84,"column":17},"end":{"line":84,"column":32}}},"4":{"name":"(anonymous_5666)","line":106,"loc":{"start":{"line":106,"column":2},"end":{"line":106,"column":28}}},"5":{"name":"(anonymous_5667)","line":117,"loc":{"start":{"line":117,"column":2},"end":{"line":117,"column":28}}},"6":{"name":"(anonymous_5668)","line":131,"loc":{"start":{"line":131,"column":2},"end":{"line":131,"column":30}}},"7":{"name":"(anonymous_5669)","line":141,"loc":{"start":{"line":141,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_5670)","line":149,"loc":{"start":{"line":149,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_5671)","line":169,"loc":{"start":{"line":169,"column":15},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_5672)","line":174,"loc":{"start":{"line":174,"column":38},"end":{"line":174,"column":43}}},"11":{"name":"(anonymous_5673)","line":175,"loc":{"start":{"line":175,"column":49},"end":{"line":175,"column":54}}},"12":{"name":"(anonymous_5674)","line":178,"loc":{"start":{"line":178,"column":2},"end":{"line":178,"column":67}}},"13":{"name":"(anonymous_5675)","line":195,"loc":{"start":{"line":195,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_5676)","line":206,"loc":{"start":{"line":206,"column":0},"end":{"line":null,"column":-1}}},"15":{"name":"ValueRow","line":215,"loc":{"start":{"line":215,"column":2},"end":{"line":215,"column":137}}},"16":{"name":"(anonymous_5678)","line":224,"loc":{"start":{"line":224,"column":2},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_5679)","line":209,"loc":{"start":{"line":209,"column":66},"end":{"line":209,"column":81}}}},"branchMap":{"1":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":4},"end":{"line":88,"column":3}},{"start":{"line":88,"column":4},"end":{"line":88,"column":3}}]},"2":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":4},"end":{"line":92,"column":3}},{"start":{"line":92,"column":4},"end":{"line":92,"column":3}}]},"3":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":16},"end":{"line":106,"column":15}},{"start":{"line":106,"column":16},"end":{"line":106,"column":15}}]},"4":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":4},"end":{"line":107,"column":3}},{"start":{"line":107,"column":4},"end":{"line":107,"column":3}}]},"5":{"line":109,"type":"cond-expr","locations":[{"start":{"line":109,"column":24},"end":{"line":109,"column":41}},{"start":{"line":109,"column":44},"end":{"line":109,"column":63}}]},"6":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":16},"end":{"line":117,"column":15}},{"start":{"line":117,"column":16},"end":{"line":117,"column":15}}]},"7":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":4},"end":{"line":118,"column":3}},{"start":{"line":118,"column":4},"end":{"line":118,"column":3}}]},"8":{"line":123,"type":"cond-expr","locations":[{"start":{"line":123,"column":13},"end":{"line":123,"column":35}},{"start":{"line":123,"column":38},"end":{"line":123,"column":67}}]},"9":{"line":131,"type":"if","locations":[{"start":{"line":131,"column":18},"end":{"line":131,"column":17}},{"start":{"line":131,"column":18},"end":{"line":131,"column":17}}]},"10":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":4},"end":{"line":132,"column":3}},{"start":{"line":132,"column":4},"end":{"line":132,"column":3}}]},"11":{"line":137,"type":"cond-expr","locations":[{"start":{"line":137,"column":13},"end":{"line":137,"column":36}},{"start":{"line":137,"column":39},"end":{"line":137,"column":69}}]},"12":{"line":142,"type":"if","locations":[{"start":{"line":142,"column":4},"end":{"line":142,"column":3}},{"start":{"line":142,"column":4},"end":{"line":142,"column":3}}]},"13":{"line":142,"type":"binary-expr","locations":[{"start":{"line":142,"column":8},"end":{"line":142,"column":42}},{"start":{"line":142,"column":46},"end":{"line":142,"column":76}}]},"14":{"line":161,"type":"if","locations":[{"start":{"line":161,"column":4},"end":{"line":161,"column":3}},{"start":{"line":161,"column":4},"end":{"line":161,"column":3}}]},"15":{"line":163,"type":"if","locations":[{"start":{"line":163,"column":11},"end":{"line":163,"column":10}},{"start":{"line":163,"column":11},"end":{"line":163,"column":10}}]},"16":{"line":171,"type":"cond-expr","locations":[{"start":{"line":171,"column":24},"end":{"line":171,"column":37}},{"start":{"line":171,"column":40},"end":{"line":171,"column":55}}]},"17":{"line":178,"type":"if","locations":[{"start":{"line":178,"column":22},"end":{"line":178,"column":21}},{"start":{"line":178,"column":22},"end":{"line":178,"column":21}}]},"18":{"line":178,"type":"if","locations":[{"start":{"line":178,"column":47},"end":{"line":178,"column":46}},{"start":{"line":178,"column":47},"end":{"line":178,"column":46}}]},"19":{"line":179,"type":"if","locations":[{"start":{"line":179,"column":4},"end":{"line":179,"column":3}},{"start":{"line":179,"column":4},"end":{"line":179,"column":3}}]},"20":{"line":182,"type":"if","locations":[{"start":{"line":182,"column":4},"end":{"line":182,"column":3}},{"start":{"line":182,"column":4},"end":{"line":182,"column":3}}]},"21":{"line":189,"type":"if","locations":[{"start":{"line":189,"column":4},"end":{"line":189,"column":3}},{"start":{"line":189,"column":4},"end":{"line":189,"column":3}}]},"22":{"line":225,"type":"if","locations":[{"start":{"line":225,"column":4},"end":{"line":225,"column":3}},{"start":{"line":225,"column":4},"end":{"line":225,"column":3}}]},"23":{"line":209,"type":"binary-expr","locations":[{"start":{"line":209,"column":86},"end":{"line":209,"column":91}},{"start":{"line":209,"column":95},"end":{"line":209,"column":118}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":187,"11":187,"12":187,"13":187,"14":187,"15":187,"16":187,"17":23,"18":187,"19":164,"20":187,"21":183,"22":183,"23":183,"24":183,"25":4,"26":1,"27":6,"28":3,"29":2,"30":2,"31":1,"32":15,"33":8,"34":7,"35":7,"36":7,"37":7,"38":7,"39":1,"40":371,"41":186,"42":185,"43":185,"44":185,"45":185,"46":185,"47":1,"48":384,"49":377,"50":7,"51":7,"52":1,"53":183,"54":183,"55":183,"56":183,"57":183,"58":183,"59":183,"60":183,"61":183,"62":183,"63":1,"64":182,"65":1,"66":181,"67":183,"68":183,"69":183,"70":183,"71":0,"72":183,"73":0,"74":1,"75":192,"76":192,"77":192,"78":192,"79":192,"80":7,"81":7,"82":185,"83":185,"84":192,"85":192,"86":192,"87":1,"88":183,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":23,"98":23,"99":23,"100":23,"101":23,"102":23,"103":23,"104":23,"105":1,"106":46,"107":23,"108":23,"109":46,"110":1,"111":1,"112":23,"113":1,"114":1},"b":{"1":[164,23],"2":[183,4],"3":[3,0],"4":[2,1],"5":[1,1],"6":[7,1],"7":[7,1],"8":[0,7],"9":[185,1],"10":[185,1],"11":[0,185],"12":[377,7],"13":[384,384],"14":[1,182],"15":[1,181],"16":[3,180],"17":[0,192],"18":[0,192],"19":[192,0],"20":[7,185],"21":[192,0],"22":[23,23],"23":[23,0]},"f":{"1":1,"2":187,"3":23,"4":3,"5":8,"6":186,"7":384,"8":183,"9":183,"10":0,"11":0,"12":192,"13":183,"14":1,"15":23,"16":46,"17":23},"code":"import {Component} from '../Base/Component'\nimport {IComponentBindings} from '../Base/ComponentBindings'\nimport {ComponentOptions} from '../Base/ComponentOptions'\nimport {QueryUtils} from '../../utils/QueryUtils'\nimport {IQueryResult} from '../../rest/QueryResult'\nimport {Initialization} from '../Base/Initialization'\nimport {FieldValue, IFieldValueOptions} from './FieldValue'\nimport {$$} from '../../utils/Dom'\n\nexport interface IFieldTableOptions {\n  allowMinimization: boolean;\n  expandedTitle: string;\n  minimizedTitle: string;\n  minimizedByDefault: boolean;\n}\n\n/**\n * This component is used to display a set of {@link FieldValue} components in a table which\n * can be optionally expanded and minimized.<br/>\n * Automatically, it will take care of not displaying empty field values.\n *\n * # Examples\n *\n * ```\n * // This is the FieldTable component itself, which holds a list of table row.\n * // Each row is a FieldValue component\n * <table class='CoveoFieldTable'>\n *    // Items\n *    <tr data-field='@sysdate' data-caption='Date' data-helper='dateTime' />\n *    <tr data-field='@sysauthor' data-caption='Author' />\n *    <tr data-field='@clickuri' data-html-value='true' data-caption='URL' data-helper='anchor' data-helper-options='{text: \\\"<%= raw.syssource %>\\\" , target:\\\"_blank\\\"}'>\n * </table>\n * ```\n */\nexport class FieldTable extends Component {\n  static ID = 'FieldTable';\n\n  /**\n   * The options for the component\n   * @componentOptions\n   */\n  static options: IFieldTableOptions = {\n    /**\n     * Specifies whether to allow the minimization (collapsing) of the FieldTable.<br/>\n     * This creates a 'minimize' and 'expand' link above the table.\n     */\n    allowMinimization: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies the caption to show on the minimize link (when the table is expanded).<br/>\n     * By default, it is set to the localized version of \"Details\".\n     */\n    expandedTitle: ComponentOptions.buildLocalizedStringOption({ defaultValue: 'Details', depend: 'allowMinimization' }),\n    /**\n     * Specifies the caption to show on the expand link (when the table is minimized).<br/>\n     * By default, it is set to the localized version of \"Details\".\n     */\n    minimizedTitle: ComponentOptions.buildLocalizedStringOption({ defaultValue: 'Details', depend: 'allowMinimization' }),\n    /**\n     * Specifies whether the table is minimized by default.\n     */\n    minimizedByDefault: ComponentOptions.buildBooleanOption({ depend: 'allowMinimization' })\n  };\n\n  public isExpanded: boolean;\n  private toggleButton: HTMLElement;\n  private toggleIcon: HTMLElement;\n  private toggleCaption: HTMLElement;\n  private toggleButtonInsideTable: HTMLElement;\n  private toggleContainer: HTMLElement;\n  private toggleContainerHeight: number;\n\n  /**\n   * Create a new FieldTable\n   * @param element\n   * @param options\n   * @param bindings\n   * @param result\n   */\n  constructor(public element: HTMLElement, public options?: IFieldTableOptions, bindings?: IComponentBindings, public result?: IQueryResult) {\n    super(element, ValueRow.ID, bindings);\n    this.options = ComponentOptions.initComponentOptions(element, FieldTable, options);\n\n    var rows = $$(this.element).findAll('tr[data-field]');\n    _.each(rows, (e: HTMLElement) => {\n      new ValueRow(e, {}, bindings, result)\n    });\n\n    if ($$(this.element).find('tr') == null) {\n      $$(element).detach();\n    }\n\n    if (this.isTogglable()) {\n      this.toggleContainer = $$('div', { className: 'coveo-field-table-toggle-container' }).el;\n      this.buildToggle();\n      $$(this.toggleContainer).insertBefore(this.element);\n      this.toggleContainer.appendChild(this.element);\n    } else {\n      this.isExpanded = true;\n    }\n  }\n\n  /**\n   * Toggle between expanding and minimizing the FieldTable\n   * @param anim Specifies whether to show a sliding animation when toggling\n   */\n  public toggle(anim = false) {\n    if (this.isTogglable()) {\n      this.isExpanded = !this.isExpanded;\n      this.isExpanded ? this.expand(anim) : this.minimize(anim);\n    }\n  }\n\n  /**\n   * Expand (show) the FieldTable\n   * @param anim Specifies whether to show a sliding animation when opening\n   */\n  public expand(anim = false) {\n    if (this.isTogglable()) {\n      this.isExpanded = true;\n      this.toggleCaption.textContent = this.options.expandedTitle;\n      $$(this.toggleIcon).addClass('coveo-opened');\n      $$(this.toggleButtonInsideTable).addClass('coveo-opened');\n      anim ? this.slideToggle(true) : this.slideToggle(true, false);\n    }\n  }\n\n  /**\n   * Minimize (collapse) the FieldTable\n   * @param anim Specifies whether to show a sliding animation when collapsing\n   */\n  public minimize(anim = false) {\n    if (this.isTogglable()) {\n      this.isExpanded = false;\n      this.toggleCaption.textContent = this.options.minimizedTitle;\n      $$(this.toggleIcon).removeClass('coveo-opened');\n      $$(this.toggleButtonInsideTable).removeClass('coveo-opened');\n      anim ? this.slideToggle(false) : this.slideToggle(false, false);\n    }\n  }\n\n  protected isTogglable() {\n    if (this.searchInterface.isNewDesign() && this.options.allowMinimization) {\n      return true;\n    }\n    this.logger.info('Cannot open or close the field table with older design', this);\n    return false;\n  }\n\n  private buildToggle() {\n    this.toggleIcon = $$('span', { className: 'coveo-field-table-toggle-icon' }).el;\n    this.toggleCaption = $$('span', { className: 'coveo-field-table-toggle-caption' }).el;\n\n    this.toggleButton = $$('div', { className: 'coveo-field-table-toggle' }).el;\n    this.toggleButton.appendChild(this.toggleCaption);\n    this.toggleButton.appendChild(this.toggleIcon);\n    $$(this.toggleButton).insertBefore(this.element);\n\n    this.toggleButtonInsideTable = $$('span', { className: 'coveo-field-table-toggle-icon-up coveo-field-table-toggle' }).el;\n    this.element.appendChild(this.toggleButtonInsideTable);\n\n    if (this.options.minimizedByDefault === true) {\n      this.isExpanded = false;\n    } else if (this.options.minimizedByDefault === false) {\n      this.isExpanded = true;\n    } else {\n      this.isExpanded = !QueryUtils.hasExcerpt(this.result);\n    }\n\n    setTimeout(() => {\n      this.updateToggleContainerHeight();\n      this.isExpanded ? this.expand() : this.minimize()\n    }); // Wait until toggleContainer.scrollHeight is computed.\n\n    $$(this.toggleButton).on('click', () => this.toggle(true));\n    $$(this.toggleButtonInsideTable).on('click', () => this.toggle(true));\n  }\n\n  private slideToggle(visible: boolean = true, anim: boolean = true) {\n    if (!anim) {\n      $$(this.toggleContainer).addClass('coveo-no-transition');\n    }\n    if (visible) {\n      this.toggleContainer.style.display = 'block';\n      this.toggleContainer.style.height = this.toggleContainerHeight + 'px';\n    } else {\n      this.toggleContainer.style.height = this.toggleContainerHeight + 'px';\n      this.toggleContainer.style.height = '0';\n    }\n    if (!anim) {\n      this.toggleContainer.offsetHeight; // Force reflow\n      $$(this.toggleContainer).removeClass('coveo-no-transition');\n    }\n  }\n\n  private updateToggleContainerHeight() {\n    this.toggleContainerHeight = this.toggleContainer.scrollHeight;\n  }\n}\n\nInitialization.registerAutoCreateComponent(FieldTable);\n\nexport interface IValueRowOptions extends IFieldValueOptions {\n  caption?: string;\n}\n\nclass ValueRow extends FieldValue {\n  static ID = 'ValueRow';\n  static options: IValueRowOptions = {\n    caption: ComponentOptions.buildStringOption({ postProcessing: (value, options) => value || options.field.substr(1) })\n  }\n\n  static parent = FieldValue;\n  private valueContainer: HTMLElement;\n\n  constructor(public element: HTMLElement, public options?: IValueRowOptions, bindings?: IComponentBindings, public result?: IQueryResult) {\n    super(element, options, bindings, result, ValueRow.ID);\n    this.options = ComponentOptions.initComponentOptions(element, ValueRow, options);\n\n    var caption = $$('th').el;\n    caption.appendChild(document.createTextNode(this.options.caption.toLocaleString()));\n    this.element.insertBefore(caption, this.getValueContainer());\n  }\n\n  protected getValueContainer() {\n    if (this.valueContainer == null) {\n      this.valueContainer = document.createElement('td');\n      this.element.appendChild(this.valueContainer);\n    }\n    return this.valueContainer;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/FieldTable/FieldTable.ts\n **/","l":{"1":1,"3":1,"4":1,"6":1,"7":1,"8":1,"35":1,"36":1,"42":1,"79":187,"80":187,"81":187,"83":187,"84":187,"85":23,"88":187,"89":164,"92":187,"93":183,"94":183,"95":183,"96":183,"98":4,"106":6,"107":3,"108":2,"109":2,"117":15,"118":8,"119":7,"120":7,"121":7,"122":7,"123":7,"131":371,"132":186,"133":185,"134":185,"135":185,"136":185,"137":185,"141":1,"142":384,"143":377,"145":7,"146":7,"149":183,"150":183,"151":183,"153":183,"154":183,"155":183,"156":183,"158":183,"159":183,"161":183,"162":1,"163":182,"164":1,"166":181,"169":183,"170":183,"171":183,"174":183,"175":183,"178":192,"179":192,"180":192,"182":192,"183":7,"184":7,"186":185,"187":185,"189":192,"190":192,"191":192,"195":1,"196":183,"198":1,"200":1,"206":1,"207":1,"208":1,"209":23,"212":1,"215":23,"216":23,"217":23,"219":23,"220":23,"221":23,"224":1,"225":46,"226":23,"227":23,"229":46,"231":1}},"src/ui/FieldTable/FieldValue.ts":{"path":"src/ui/FieldTable/FieldValue.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":57}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":53}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":60}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":40}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":69}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":60}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":77}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":39}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":34}},"11":{"start":{"line":32,"column":0},"end":{"line":38,"column":1}},"12":{"start":{"line":33,"column":2},"end":{"line":35,"column":3}},"13":{"start":{"line":34,"column":4},"end":{"line":34,"column":22}},"14":{"start":{"line":36,"column":8},"end":{"line":36,"column":34}},"15":{"start":{"line":37,"column":2},"end":{"line":37,"column":17}},"16":{"start":{"line":47,"column":0},"end":{"line":289,"column":1}},"17":{"start":{"line":47,"column":32},"end":{"line":47,"column":41}},"18":{"start":{"line":145,"column":2},"end":{"line":180,"column":3}},"19":{"start":{"line":145,"column":141},"end":{"line":145,"column":182}},"20":{"start":{"line":146,"column":4},"end":{"line":146,"column":48}},"21":{"start":{"line":145,"column":21},"end":{"line":145,"column":41}},"22":{"start":{"line":145,"column":50},"end":{"line":145,"column":78}},"23":{"start":{"line":145,"column":118},"end":{"line":145,"column":139}},"24":{"start":{"line":148,"column":4},"end":{"line":148,"column":92}},"25":{"start":{"line":150,"column":4},"end":{"line":152,"column":5}},"26":{"start":{"line":151,"column":6},"end":{"line":151,"column":99}},"27":{"start":{"line":154,"column":4},"end":{"line":154,"column":54}},"28":{"start":{"line":155,"column":4},"end":{"line":155,"column":31}},"29":{"start":{"line":157,"column":4},"end":{"line":157,"column":51}},"30":{"start":{"line":158,"column":4},"end":{"line":179,"column":5}},"31":{"start":{"line":160,"column":6},"end":{"line":162,"column":7}},"32":{"start":{"line":161,"column":8},"end":{"line":161,"column":61}},"33":{"start":{"line":164,"column":6},"end":{"line":164,"column":27}},"34":{"start":{"line":166,"column":6},"end":{"line":177,"column":7}},"35":{"start":{"line":167,"column":8},"end":{"line":167,"column":42}},"36":{"start":{"line":168,"column":13},"end":{"line":177,"column":7}},"37":{"start":{"line":169,"column":8},"end":{"line":173,"column":9}},"38":{"start":{"line":170,"column":10},"end":{"line":172,"column":13}},"39":{"start":{"line":171,"column":12},"end":{"line":171,"column":28}},"40":{"start":{"line":175,"column":8},"end":{"line":175,"column":71}},"41":{"start":{"line":176,"column":8},"end":{"line":176,"column":44}},"42":{"start":{"line":178,"column":6},"end":{"line":178,"column":37}},"43":{"start":{"line":186,"column":9},"end":{"line":192,"column":3}},"44":{"start":{"line":187,"column":4},"end":{"line":187,"column":69}},"45":{"start":{"line":188,"column":4},"end":{"line":190,"column":5}},"46":{"start":{"line":189,"column":6},"end":{"line":189,"column":19}},"47":{"start":{"line":191,"column":4},"end":{"line":191,"column":17}},"48":{"start":{"line":198,"column":9},"end":{"line":217,"column":3}},"49":{"start":{"line":199,"column":4},"end":{"line":199,"column":32}},"50":{"start":{"line":200,"column":4},"end":{"line":200,"column":25}},"51":{"start":{"line":201,"column":4},"end":{"line":208,"column":5}},"52":{"start":{"line":202,"column":6},"end":{"line":202,"column":107}},"53":{"start":{"line":204,"column":6},"end":{"line":204,"column":69}},"54":{"start":{"line":205,"column":6},"end":{"line":207,"column":7}},"55":{"start":{"line":206,"column":8},"end":{"line":206,"column":51}},"56":{"start":{"line":210,"column":4},"end":{"line":214,"column":5}},"57":{"start":{"line":211,"column":6},"end":{"line":211,"column":35}},"58":{"start":{"line":213,"column":6},"end":{"line":213,"column":61}},"59":{"start":{"line":215,"column":4},"end":{"line":215,"column":42}},"60":{"start":{"line":216,"column":4},"end":{"line":216,"column":19}},"61":{"start":{"line":219,"column":12},"end":{"line":221,"column":3}},"62":{"start":{"line":220,"column":4},"end":{"line":220,"column":24}},"63":{"start":{"line":223,"column":10},"end":{"line":229,"column":3}},"64":{"start":{"line":224,"column":4},"end":{"line":224,"column":93}},"65":{"start":{"line":225,"column":4},"end":{"line":227,"column":5}},"66":{"start":{"line":226,"column":6},"end":{"line":226,"column":87}},"67":{"start":{"line":228,"column":4},"end":{"line":228,"column":38}},"68":{"start":{"line":231,"column":10},"end":{"line":245,"column":3}},"69":{"start":{"line":232,"column":4},"end":{"line":237,"column":6}},"70":{"start":{"line":239,"column":4},"end":{"line":243,"column":5}},"71":{"start":{"line":240,"column":6},"end":{"line":240,"column":79}},"72":{"start":{"line":241,"column":11},"end":{"line":243,"column":5}},"73":{"start":{"line":242,"column":6},"end":{"line":242,"column":83}},"74":{"start":{"line":244,"column":4},"end":{"line":244,"column":14}},"75":{"start":{"line":247,"column":10},"end":{"line":256,"column":3}},"76":{"start":{"line":247,"column":2},"end":{"line":256,"column":3}},"77":{"start":{"line":248,"column":4},"end":{"line":255,"column":6}},"78":{"start":{"line":249,"column":6},"end":{"line":254,"column":7}},"79":{"start":{"line":250,"column":8},"end":{"line":250,"column":73}},"80":{"start":{"line":251,"column":8},"end":{"line":253,"column":9}},"81":{"start":{"line":252,"column":10},"end":{"line":252,"column":103}},"82":{"start":{"line":258,"column":10},"end":{"line":287,"column":3}},"83":{"start":{"line":258,"column":2},"end":{"line":287,"column":3}},"84":{"start":{"line":259,"column":4},"end":{"line":259,"column":76}},"85":{"start":{"line":260,"column":4},"end":{"line":260,"column":128}},"86":{"start":{"line":260,"column":111},"end":{"line":260,"column":126}},"87":{"start":{"line":261,"column":4},"end":{"line":261,"column":53}},"88":{"start":{"line":263,"column":4},"end":{"line":286,"column":5}},"89":{"start":{"line":264,"column":6},"end":{"line":267,"column":9}},"90":{"start":{"line":265,"column":8},"end":{"line":265,"column":49}},"91":{"start":{"line":266,"column":8},"end":{"line":266,"column":49}},"92":{"start":{"line":268,"column":6},"end":{"line":280,"column":8}},"93":{"start":{"line":269,"column":8},"end":{"line":273,"column":9}},"94":{"start":{"line":270,"column":10},"end":{"line":270,"column":71}},"95":{"start":{"line":270,"column":43},"end":{"line":270,"column":69}},"96":{"start":{"line":272,"column":10},"end":{"line":272,"column":69}},"97":{"start":{"line":272,"column":43},"end":{"line":272,"column":67}},"98":{"start":{"line":274,"column":8},"end":{"line":279,"column":11}},"99":{"start":{"line":275,"column":36},"end":{"line":278,"column":12}},"100":{"start":{"line":282,"column":6},"end":{"line":284,"column":7}},"101":{"start":{"line":283,"column":8},"end":{"line":283,"column":47}},"102":{"start":{"line":285,"column":6},"end":{"line":285,"column":46}},"103":{"start":{"line":48,"column":9},"end":{"line":48,"column":27}},"104":{"start":{"line":54,"column":9},"end":{"line":130,"column":3}},"105":{"start":{"line":66,"column":84},"end":{"line":66,"column":106}},"106":{"start":{"line":132,"column":9},"end":{"line":132,"column":69}},"107":{"start":{"line":134,"column":9},"end":{"line":136,"column":3}},"108":{"start":{"line":289,"column":0},"end":{"line":289,"column":1}},"109":{"start":{"line":47,"column":13},"end":{"line":289,"column":1}},"110":{"start":{"line":291,"column":0},"end":{"line":291,"column":55}}},"fnMap":{"1":{"name":"showOnlyWithHelper","line":32,"loc":{"start":{"line":32,"column":0},"end":{"line":32,"column":61}}},"2":{"name":"(anonymous_5685)","line":47,"loc":{"start":{"line":47,"column":0},"end":{"line":null,"column":-1}}},"3":{"name":"FieldValue","line":145,"loc":{"start":{"line":145,"column":2},"end":{"line":145,"column":182}}},"4":{"name":"(anonymous_5687)","line":170,"loc":{"start":{"line":170,"column":81},"end":{"line":170,"column":91}}},"5":{"name":"(anonymous_5688)","line":186,"loc":{"start":{"line":186,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_5689)","line":198,"loc":{"start":{"line":198,"column":2},"end":{"line":198,"column":37}}},"7":{"name":"(anonymous_5690)","line":219,"loc":{"start":{"line":219,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_5691)","line":223,"loc":{"start":{"line":223,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_5692)","line":231,"loc":{"start":{"line":231,"column":2},"end":{"line":231,"column":50}}},"10":{"name":"(anonymous_5693)","line":247,"loc":{"start":{"line":247,"column":2},"end":{"line":247,"column":44}}},"11":{"name":"(anonymous_5694)","line":248,"loc":{"start":{"line":248,"column":19},"end":{"line":248,"column":32}}},"12":{"name":"(anonymous_5695)","line":258,"loc":{"start":{"line":258,"column":2},"end":{"line":258,"column":62}}},"13":{"name":"(anonymous_5696)","line":260,"loc":{"start":{"line":260,"column":89},"end":{"line":260,"column":106}}},"14":{"name":"(anonymous_5697)","line":264,"loc":{"start":{"line":264,"column":36},"end":{"line":264,"column":49}}},"15":{"name":"(anonymous_5698)","line":268,"loc":{"start":{"line":268,"column":30},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_5699)","line":270,"loc":{"start":{"line":270,"column":25},"end":{"line":270,"column":38}}},"17":{"name":"(anonymous_5700)","line":272,"loc":{"start":{"line":272,"column":25},"end":{"line":272,"column":38}}},"18":{"name":"(anonymous_5701)","line":275,"loc":{"start":{"line":275,"column":30},"end":{"line":275,"column":35}}},"19":{"name":"(anonymous_5702)","line":66,"loc":{"start":{"line":66,"column":64},"end":{"line":66,"column":79}}}},"branchMap":{"1":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":2},"end":{"line":33,"column":1}},{"start":{"line":33,"column":2},"end":{"line":33,"column":1}}]},"2":{"line":145,"type":"if","locations":[{"start":{"line":145,"column":141},"end":{"line":145,"column":140}},{"start":{"line":145,"column":141},"end":{"line":145,"column":140}}]},"3":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":4},"end":{"line":150,"column":3}},{"start":{"line":150,"column":4},"end":{"line":150,"column":3}}]},"4":{"line":154,"type":"binary-expr","locations":[{"start":{"line":154,"column":18},"end":{"line":154,"column":29}},{"start":{"line":154,"column":33},"end":{"line":154,"column":53}}]},"5":{"line":158,"type":"if","locations":[{"start":{"line":158,"column":4},"end":{"line":158,"column":3}},{"start":{"line":158,"column":4},"end":{"line":158,"column":3}}]},"6":{"line":160,"type":"if","locations":[{"start":{"line":160,"column":6},"end":{"line":160,"column":5}},{"start":{"line":160,"column":6},"end":{"line":160,"column":5}}]},"7":{"line":166,"type":"if","locations":[{"start":{"line":166,"column":6},"end":{"line":166,"column":5}},{"start":{"line":166,"column":6},"end":{"line":166,"column":5}}]},"8":{"line":168,"type":"if","locations":[{"start":{"line":168,"column":13},"end":{"line":168,"column":12}},{"start":{"line":168,"column":13},"end":{"line":168,"column":12}}]},"9":{"line":169,"type":"if","locations":[{"start":{"line":169,"column":8},"end":{"line":169,"column":7}},{"start":{"line":169,"column":8},"end":{"line":169,"column":7}}]},"10":{"line":188,"type":"if","locations":[{"start":{"line":188,"column":4},"end":{"line":188,"column":3}},{"start":{"line":188,"column":4},"end":{"line":188,"column":3}}]},"11":{"line":188,"type":"binary-expr","locations":[{"start":{"line":188,"column":8},"end":{"line":188,"column":25}},{"start":{"line":188,"column":29},"end":{"line":188,"column":46}}]},"12":{"line":201,"type":"if","locations":[{"start":{"line":201,"column":4},"end":{"line":201,"column":3}},{"start":{"line":201,"column":4},"end":{"line":201,"column":3}}]},"13":{"line":205,"type":"if","locations":[{"start":{"line":205,"column":6},"end":{"line":205,"column":5}},{"start":{"line":205,"column":6},"end":{"line":205,"column":5}}]},"14":{"line":210,"type":"if","locations":[{"start":{"line":210,"column":4},"end":{"line":210,"column":3}},{"start":{"line":210,"column":4},"end":{"line":210,"column":3}}]},"15":{"line":225,"type":"if","locations":[{"start":{"line":225,"column":4},"end":{"line":225,"column":3}},{"start":{"line":225,"column":4},"end":{"line":225,"column":3}}]},"16":{"line":239,"type":"if","locations":[{"start":{"line":239,"column":4},"end":{"line":239,"column":3}},{"start":{"line":239,"column":4},"end":{"line":239,"column":3}}]},"17":{"line":241,"type":"if","locations":[{"start":{"line":241,"column":11},"end":{"line":241,"column":10}},{"start":{"line":241,"column":11},"end":{"line":241,"column":10}}]},"18":{"line":241,"type":"binary-expr","locations":[{"start":{"line":241,"column":15},"end":{"line":241,"column":35}},{"start":{"line":241,"column":39},"end":{"line":241,"column":64}}]},"19":{"line":249,"type":"if","locations":[{"start":{"line":249,"column":6},"end":{"line":249,"column":5}},{"start":{"line":249,"column":6},"end":{"line":249,"column":5}}]},"20":{"line":251,"type":"if","locations":[{"start":{"line":251,"column":8},"end":{"line":251,"column":7}},{"start":{"line":251,"column":8},"end":{"line":251,"column":7}}]},"21":{"line":263,"type":"if","locations":[{"start":{"line":263,"column":4},"end":{"line":263,"column":3}},{"start":{"line":263,"column":4},"end":{"line":263,"column":3}}]},"22":{"line":266,"type":"binary-expr","locations":[{"start":{"line":266,"column":15},"end":{"line":266,"column":25}},{"start":{"line":266,"column":29},"end":{"line":266,"column":48}}]},"23":{"line":269,"type":"if","locations":[{"start":{"line":269,"column":8},"end":{"line":269,"column":7}},{"start":{"line":269,"column":8},"end":{"line":269,"column":7}}]},"24":{"line":282,"type":"if","locations":[{"start":{"line":282,"column":6},"end":{"line":282,"column":5}},{"start":{"line":282,"column":6},"end":{"line":282,"column":5}}]},"25":{"line":66,"type":"binary-expr","locations":[{"start":{"line":66,"column":84},"end":{"line":66,"column":89}},{"start":{"line":66,"column":93},"end":{"line":66,"column":106}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":22,"13":11,"14":22,"15":22,"16":1,"17":1,"18":1,"19":99,"20":66,"21":66,"22":66,"23":66,"24":66,"25":66,"26":5,"27":66,"28":66,"29":66,"30":66,"31":16,"32":16,"33":50,"34":50,"35":1,"36":49,"37":4,"38":4,"39":12,"40":45,"41":45,"42":50,"43":1,"44":66,"45":66,"46":0,"47":66,"48":1,"49":69,"50":69,"51":69,"52":5,"53":5,"54":5,"55":3,"56":69,"57":1,"58":68,"59":69,"60":69,"61":1,"62":47,"63":1,"64":5,"65":5,"66":0,"67":5,"68":1,"69":5,"70":5,"71":1,"72":4,"73":2,"74":2,"75":1,"76":50,"77":50,"78":60,"79":60,"80":60,"81":10,"82":1,"83":69,"84":69,"85":69,"86":2,"87":69,"88":69,"89":1,"90":1,"91":1,"92":1,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":1,"101":1,"102":1,"103":1,"104":1,"105":66,"106":1,"107":1,"108":1,"109":1,"110":1},"b":{"1":[11,11],"2":[33,33],"3":[5,61],"4":[66,0],"5":[16,50],"6":[16,0],"7":[1,49],"8":[4,45],"9":[4,0],"10":[0,66],"11":[66,65],"12":[5,64],"13":[3,2],"14":[1,68],"15":[0,5],"16":[1,4],"17":[2,2],"18":[4,3],"19":[60,0],"20":[10,50],"21":[1,68],"22":[1,1],"23":[0,0],"24":[1,0],"25":[66,64]},"f":{"1":22,"2":1,"3":66,"4":12,"5":66,"6":69,"7":47,"8":5,"9":5,"10":50,"11":60,"12":69,"13":2,"14":1,"15":0,"16":0,"17":0,"18":0,"19":66},"code":"import {Component} from '../Base/Component'\nimport {IComponentBindings} from '../Base/ComponentBindings'\nimport {ComponentOptions} from '../Base/ComponentOptions'\nimport {IQueryResult} from '../../rest/QueryResult'\nimport {Initialization} from '../Base/Initialization'\nimport {TemplateHelpers} from '../Templates/TemplateHelpers'\nimport {Assert} from '../../misc/Assert'\nimport {DateUtils, IDateToStringOptions} from '../../utils/DateUtils'\nimport {QueryStateModel} from '../../models/QueryStateModel'\nimport {analyticsActionCauseList} from '../Analytics/AnalyticsActionListMeta'\nimport {Utils} from '../../utils/Utils'\nimport {Facet} from '../Facet/Facet'\nimport {$$} from '../../utils/Dom'\n\nexport interface IFieldValueOptions {\n  field?: string;\n  facet?: string;\n  htmlValue?: boolean;\n  helper?: string;\n  helperOptions?: { [key: string]: any };\n  splitValues?: boolean;\n  separator?: string;\n  displaySeparator?: string;\n}\n\nexport interface IAnalyticsFieldValueMeta {\n  facetId: string;\n  facetValue?: string;\n  facetTitle?: string;\n}\n\nfunction showOnlyWithHelper<T>(helpers: string[], options?: T): T {\n  if (options == null) {\n    options = <any>{};\n  }\n  (<any>options).helpers = helpers\n  return options;\n}\n\n/**\n * This component can be used as part of a result template to display the value of a field\n * associated with the current search result.<br/>\n * This component is usually located inside a {@link FieldTable}.<br/>\n * A common use of this component is to display a specific field value, when that field also\n * happens to be a facet. When the field value is clicked on, the corresponding facet is activated.\n */\nexport class FieldValue extends Component {\n  static ID = 'FieldValue';\n\n  /**\n   * The options for the component\n   * @componentOptions\n   */\n  static options: IFieldValueOptions = {\n    /**\n     * Specifies the field to be displayed by the FieldValue.<br/>\n     * This field is required.\n     */\n    field: ComponentOptions.buildFieldOption({ defaultValue: '@field', required: true }),\n    /**\n     * Specifies the facet to be toggled when the component is clicked on.<br/>\n     * When no value is specified, the value of the <code>field</code> option is used.<br/>\n     * If the facet id is custom (e.g. not the same name as its field), you must specify\n     * manually this option in order to link the correct facet.\n     */\n    facet: ComponentOptions.buildStringOption({ postProcessing: (value, options) => value || options.field }),\n    /**\n     * Specifies if the content to display is an HTML element.<br/>\n     * The default value is <code>false</code>\n     */\n    htmlValue: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    /**\n     * Specifies if the field value is to be split at each {@link FieldValue.options.separator}.\n     * This is useful for splitting groups by a facet field.<br/>\n     * The values displayed are split by the {@link FieldValue.options.displaySeparator}.<br/>\n     * The default value is <code>false</code>.\n     */\n    splitValues: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    /**\n     * Specifies the string used to split multi-value fields from the index.\n     * The default value is <code>;</code>.\n     */\n    separator: ComponentOptions.buildStringOption({ defaultValue: ';' }),\n    /**\n     * Specifies the string used to display multi-value fields in the UI.\n     * It is inserted between the displayed values.\n     * The default value is <code>, </code>.\n     */\n    displaySeparator: ComponentOptions.buildStringOption({ defaultValue: ', ' }),\n    /**\n     * Specifies the helper to be used by the FieldValue to display its content.<br/>\n     * A few helpers exist by default (see {@link ICoreHelpers}), and new ones can be\n     * custom-created (see {@link TemplateHelpers}).\n     */\n    helper: ComponentOptions.buildHelperOption(),\n    /**\n     * Specifies the options to call on the specified helper.<br/>\n     */\n    helperOptions: ComponentOptions.buildObjectOption({\n      subOptions: {\n        text: ComponentOptions.buildStringOption(showOnlyWithHelper(['anchor'])),\n        target: ComponentOptions.buildStringOption(showOnlyWithHelper(['anchor'])),\n        'class': ComponentOptions.buildStringOption(showOnlyWithHelper(['anchor'])),\n\n        decimals: ComponentOptions.buildNumberOption(showOnlyWithHelper(['currency'], { min: 0 })),\n        symbol: ComponentOptions.buildStringOption(showOnlyWithHelper(['currency'])),\n\n        useTodayYesterdayAndTomorrow: ComponentOptions.buildBooleanOption(showOnlyWithHelper(['date', 'dateTime', 'emailDateTime', 'time'], { defaultValue: true })),\n        useWeekdayIfThisWeek: ComponentOptions.buildBooleanOption(showOnlyWithHelper(['date', 'dateTime', 'emailDateTime', 'time'], { defaultValue: true })),\n        omitYearIfCurrentOne: ComponentOptions.buildBooleanOption(showOnlyWithHelper(['date', 'dateTime', 'emailDateTime', 'time'], { defaultValue: true })),\n        useLongDateFormat: ComponentOptions.buildBooleanOption(showOnlyWithHelper(['date', 'dateTime', 'emailDateTime', 'time'], { defaultValue: false })),\n        includeTimeIfToday: ComponentOptions.buildBooleanOption(showOnlyWithHelper(['date', 'dateTime', 'emailDateTime', 'time'], { defaultValue: true })),\n        includeTimeIfThisWeek: ComponentOptions.buildBooleanOption(showOnlyWithHelper(['date', 'dateTime', 'emailDateTime', 'time'], { defaultValue: true })),\n        alwaysIncludeTime: ComponentOptions.buildBooleanOption(showOnlyWithHelper(['date', 'dateTime', 'emailDateTime', 'time'], { defaultValue: false })),\n        predefinedFormat: ComponentOptions.buildStringOption(showOnlyWithHelper(['date', 'dateTime', 'emailDateTime', 'time'])),\n\n        companyDomain: ComponentOptions.buildStringOption(showOnlyWithHelper(['email'])),\n        lengthLimit: ComponentOptions.buildNumberOption(showOnlyWithHelper(['email'], { min: 1 })),\n        truncateName: ComponentOptions.buildBooleanOption(showOnlyWithHelper(['email'])),\n\n        alt: ComponentOptions.buildStringOption(showOnlyWithHelper(['image'])),\n        height: ComponentOptions.buildStringOption(showOnlyWithHelper(['image'])),\n        width: ComponentOptions.buildStringOption(showOnlyWithHelper(['image'])),\n\n        presision: ComponentOptions.buildNumberOption(showOnlyWithHelper(['size'], { min: 0, defaultValue: 2 })),\n        base: ComponentOptions.buildNumberOption(showOnlyWithHelper(['size'], { min: 0, defaultValue: 0 })),\n        isMilliseconds: ComponentOptions.buildBooleanOption(showOnlyWithHelper(['timeSpan'])),\n      }\n    })\n  }\n\n  static simpleOptions = _.omit(FieldValue.options, 'helperOptions');\n\n  static helperOptions = <any>{\n    helperOptions: FieldValue.options.helperOptions\n  }\n\n  /**\n   * Build a new FieldValue\n   * @param element\n   * @param options\n   * @param bindings\n   * @param result\n   */\n  constructor(public element: HTMLElement, public options?: IFieldValueOptions, bindings?: IComponentBindings, public result?: IQueryResult, fieldValueClassId: string = FieldValue.ID) {\n    super(element, fieldValueClassId, bindings);\n\n    this.options = ComponentOptions.initOptions(element, FieldValue.simpleOptions, options);\n\n    if (this.options.helper != null) {\n      this.options = ComponentOptions.initOptions(element, FieldValue.helperOptions, this.options);\n    }\n\n    this.result = this.result || this.resolveResult();\n    Assert.exists(this.result);\n\n    let loadedValueFromComponent = this.getValue();\n    if (loadedValueFromComponent == null) {\n      // Completely remove the element to ease stuff such as adding separators in CSS\n      if (this.element.parentElement != null) {\n        this.element.parentElement.removeChild(this.element);\n      }\n    } else {\n      let values: string[];\n\n      if (_.isArray(loadedValueFromComponent)) {\n        values = loadedValueFromComponent;\n      } else if (this.options.splitValues) {\n        if (_.isString(loadedValueFromComponent)) {\n          values = _.map(loadedValueFromComponent.split(this.options.separator), (v: string) => {\n            return v.trim();\n          });\n        }\n      } else {\n        loadedValueFromComponent = loadedValueFromComponent.toString();\n        values = [loadedValueFromComponent];\n      }\n      this.appendValuesToDom(values);\n    }\n  }\n\n  /**\n   * Get the current field value from the current result.<br/>\n   * Returns <code>null</code> if value is an <code>Object</code>.\n   */\n  public getValue() {\n    let value = Utils.getFieldValue(this.result, this.options.field);\n    if (!_.isArray(value) && _.isObject(value)) {\n      value = null;\n    }\n    return value;\n  }\n\n  /**\n   * Render the passed value string with all of the component's options.<br/>\n   * Returns an <code>HTMLElement</code> containing the rendered value.\n   */\n  public renderOneValue(value: string): HTMLElement {\n    let element = $$('span').el;\n    let toRender = value;\n    if (this.options.helper) {\n      toRender = TemplateHelpers.getHelper(this.options.helper).call(this, value, this.getHelperOptions());\n\n      let fullDateStr = this.getFullDate(value, this.options.helper);\n      if (fullDateStr) {\n        element.setAttribute('title', fullDateStr);\n      }\n    }\n\n    if (this.options.htmlValue) {\n      element.innerHTML = toRender;\n    } else {\n      element.appendChild(document.createTextNode(toRender));\n    }\n    this.bindEventOnValue(element, value);\n    return element;\n  }\n\n  protected getValueContainer() {\n    return this.element;\n  }\n\n  private getHelperOptions() {\n    let inlineOptions = ComponentOptions.loadStringOption(this.element, 'helperOptions', {});\n    if (Utils.isNonEmptyString(inlineOptions)) {\n      return _.extend({}, this.options.helperOptions, eval('(' + inlineOptions + ')'));\n    }\n    return this.options.helperOptions;\n  }\n\n  private getFullDate(date: string, helper: string) {\n    let fullDateOptions: IDateToStringOptions = {\n      useLongDateFormat: true,\n      useTodayYesterdayAndTomorrow: false,\n      useWeekdayIfThisWeek: false,\n      omitYearIfCurrentOne: false\n    };\n\n    if (helper == 'date') {\n      return DateUtils.dateToString(new Date(parseInt(date)), fullDateOptions);\n    } else if (helper == 'dateTime' || helper == 'emailDateTime') {\n      return DateUtils.dateTimeToString(new Date(parseInt(date)), fullDateOptions);\n    }\n    return '';\n  }\n\n  private appendValuesToDom(values: string[]): void {\n    _.each(values, (value, index) => {\n      if (value != undefined) {\n        this.getValueContainer().appendChild(this.renderOneValue(value));\n        if (index !== values.length - 1) {\n          this.getValueContainer().appendChild(document.createTextNode(this.options.displaySeparator));\n        }\n      }\n    })\n  }\n\n  private bindEventOnValue(element: HTMLElement, value: string) {\n    let facetAttributeName = QueryStateModel.getFacetId(this.options.facet);\n    let facets: Component[] = _.filter(this.componentStateModel.get(facetAttributeName), (facet: Component) => !facet.disabled);\n    let atLeastOneFacetIsEnabled = facets.length > 0;\n\n    if (atLeastOneFacetIsEnabled) {\n      let selected = _.find(facets, (facet: Facet) => {\n        let facetValue = facet.values.get(value);\n        return facetValue && facetValue.selected;\n      });\n      $$(element).on('click', () => {\n        if (selected != null) {\n          _.each(facets, (facet: Facet) => facet.deselectValue(value));\n        } else {\n          _.each(facets, (facet: Facet) => facet.selectValue(value));\n        }\n        this.queryController.deferExecuteQuery({\n          beforeExecuteQuery: () => this.usageAnalytics.logSearchEvent<IAnalyticsFieldValueMeta>(analyticsActionCauseList.documentField, {\n            facetId: this.options.facet,\n            facetValue: value.toLowerCase()\n          })\n        });\n      })\n\n      if (selected) {\n        $$(element).addClass('coveo-selected');\n      }\n      $$(element).addClass('coveo-clickable');\n    }\n  }\n\n}\n\nInitialization.registerAutoCreateComponent(FieldValue);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/FieldTable/FieldValue.ts\n **/","l":{"1":1,"3":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"13":1,"32":1,"33":22,"34":11,"36":22,"37":22,"47":1,"48":1,"54":1,"66":66,"132":1,"134":1,"145":99,"146":66,"148":66,"150":66,"151":5,"154":66,"155":66,"157":66,"158":66,"160":16,"161":16,"164":50,"166":50,"167":1,"168":49,"169":4,"170":4,"171":12,"175":45,"176":45,"178":50,"186":1,"187":66,"188":66,"189":0,"191":66,"198":1,"199":69,"200":69,"201":69,"202":5,"204":5,"205":5,"206":3,"210":69,"211":1,"213":68,"215":69,"216":69,"219":1,"220":47,"223":1,"224":5,"225":5,"226":0,"228":5,"231":1,"232":5,"239":5,"240":1,"241":4,"242":2,"244":2,"247":50,"248":50,"249":60,"250":60,"251":60,"252":10,"258":69,"259":69,"260":69,"261":69,"263":69,"264":1,"265":1,"266":1,"268":1,"269":0,"270":0,"272":0,"274":0,"275":0,"282":1,"283":1,"285":1,"289":1,"291":1}},"src/ui/FieldTable/Badge.ts":{"path":"src/ui/FieldTable/Badge.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":57}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":53}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":59}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":51}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":40}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":34}},"7":{"start":{"line":32,"column":0},"end":{"line":181,"column":1}},"8":{"start":{"line":32,"column":27},"end":{"line":32,"column":37}},"9":{"start":{"line":77,"column":2},"end":{"line":86,"column":3}},"10":{"start":{"line":78,"column":4},"end":{"line":78,"column":111}},"11":{"start":{"line":77,"column":43},"end":{"line":77,"column":66}},"12":{"start":{"line":79,"column":4},"end":{"line":82,"column":5}},"13":{"start":{"line":81,"column":6},"end":{"line":81,"column":72}},"14":{"start":{"line":83,"column":4},"end":{"line":85,"column":5}},"15":{"start":{"line":84,"column":6},"end":{"line":84,"column":38}},"16":{"start":{"line":104,"column":16},"end":{"line":130,"column":3}},"17":{"start":{"line":105,"column":4},"end":{"line":128,"column":5}},"18":{"start":{"line":106,"column":6},"end":{"line":122,"column":7}},"19":{"start":{"line":107,"column":8},"end":{"line":109,"column":10}},"20":{"start":{"line":110,"column":8},"end":{"line":110,"column":83}},"21":{"start":{"line":111,"column":8},"end":{"line":120,"column":10}},"22":{"start":{"line":112,"column":17},"end":{"line":112,"column":49}},"23":{"start":{"line":113,"column":10},"end":{"line":119,"column":11}},"24":{"start":{"line":114,"column":12},"end":{"line":116,"column":13}},"25":{"start":{"line":118,"column":12},"end":{"line":118,"column":42}},"26":{"start":{"line":121,"column":8},"end":{"line":121,"column":26}},"27":{"start":{"line":123,"column":6},"end":{"line":127,"column":7}},"28":{"start":{"line":124,"column":8},"end":{"line":124,"column":40}},"29":{"start":{"line":126,"column":8},"end":{"line":126,"column":66}},"30":{"start":{"line":129,"column":4},"end":{"line":129,"column":14}},"31":{"start":{"line":138,"column":9},"end":{"line":145,"column":3}},"32":{"start":{"line":138,"column":18},"end":{"line":138,"column":36}},"33":{"start":{"line":139,"column":4},"end":{"line":139,"column":121}},"34":{"start":{"line":139,"column":79},"end":{"line":139,"column":119}},"35":{"start":{"line":140,"column":4},"end":{"line":140,"column":82}},"36":{"start":{"line":141,"column":4},"end":{"line":144,"column":6}},"37":{"start":{"line":152,"column":9},"end":{"line":180,"column":3}},"38":{"start":{"line":153,"column":4},"end":{"line":153,"column":47}},"39":{"start":{"line":154,"column":4},"end":{"line":154,"column":41}},"40":{"start":{"line":156,"column":4},"end":{"line":156,"column":37}},"41":{"start":{"line":158,"column":4},"end":{"line":165,"column":5}},"42":{"start":{"line":159,"column":6},"end":{"line":159,"column":66}},"43":{"start":{"line":160,"column":6},"end":{"line":162,"column":7}},"44":{"start":{"line":161,"column":8},"end":{"line":161,"column":38}},"45":{"start":{"line":163,"column":11},"end":{"line":165,"column":5}},"46":{"start":{"line":164,"column":6},"end":{"line":164,"column":45}},"47":{"start":{"line":167,"column":4},"end":{"line":167,"column":86}},"48":{"start":{"line":169,"column":4},"end":{"line":171,"column":5}},"49":{"start":{"line":170,"column":6},"end":{"line":170,"column":37}},"50":{"start":{"line":173,"column":4},"end":{"line":173,"column":25}},"51":{"start":{"line":175,"column":4},"end":{"line":177,"column":5}},"52":{"start":{"line":176,"column":6},"end":{"line":176,"column":33}},"53":{"start":{"line":178,"column":4},"end":{"line":178,"column":32}},"54":{"start":{"line":179,"column":4},"end":{"line":179,"column":20}},"55":{"start":{"line":33,"column":9},"end":{"line":33,"column":22}},"56":{"start":{"line":39,"column":9},"end":{"line":66,"column":4}},"57":{"start":{"line":65,"column":80},"end":{"line":65,"column":104}},"58":{"start":{"line":68,"column":9},"end":{"line":68,"column":29}},"59":{"start":{"line":93,"column":17},"end":{"line":93,"column":105}},"60":{"start":{"line":97,"column":17},"end":{"line":97,"column":133}},"61":{"start":{"line":181,"column":0},"end":{"line":181,"column":1}},"62":{"start":{"line":32,"column":13},"end":{"line":181,"column":1}},"63":{"start":{"line":183,"column":0},"end":{"line":183,"column":50}}},"fnMap":{"1":{"name":"(anonymous_5707)","line":32,"loc":{"start":{"line":32,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Badge","line":77,"loc":{"start":{"line":77,"column":2},"end":{"line":77,"column":120}}},"3":{"name":"(anonymous_5709)","line":104,"loc":{"start":{"line":104,"column":2},"end":{"line":104,"column":48}}},"4":{"name":"(anonymous_5710)","line":111,"loc":{"start":{"line":111,"column":23},"end":{"line":111,"column":39}}},"5":{"name":"(anonymous_5711)","line":138,"loc":{"start":{"line":138,"column":2},"end":{"line":138,"column":36}}},"6":{"name":"(anonymous_5712)","line":139,"loc":{"start":{"line":139,"column":62},"end":{"line":139,"column":74}}},"7":{"name":"(anonymous_5713)","line":152,"loc":{"start":{"line":152,"column":2},"end":{"line":152,"column":37}}},"8":{"name":"(anonymous_5714)","line":65,"loc":{"start":{"line":65,"column":61},"end":{"line":65,"column":75}}}},"branchMap":{"1":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":4},"end":{"line":79,"column":3}},{"start":{"line":79,"column":4},"end":{"line":79,"column":3}}]},"2":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":4},"end":{"line":83,"column":3}},{"start":{"line":83,"column":4},"end":{"line":83,"column":3}}]},"3":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":4},"end":{"line":105,"column":3}},{"start":{"line":105,"column":4},"end":{"line":105,"column":3}}]},"4":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":6},"end":{"line":106,"column":5}},{"start":{"line":106,"column":6},"end":{"line":106,"column":5}}]},"5":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":10},"end":{"line":113,"column":9}},{"start":{"line":113,"column":10},"end":{"line":113,"column":9}}]},"6":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":18},"end":{"line":138,"column":17}},{"start":{"line":138,"column":18},"end":{"line":138,"column":17}}]},"7":{"line":140,"type":"cond-expr","locations":[{"start":{"line":140,"column":40},"end":{"line":140,"column":76}},{"start":{"line":140,"column":79},"end":{"line":140,"column":81}}]},"8":{"line":142,"type":"binary-expr","locations":[{"start":{"line":142,"column":12},"end":{"line":142,"column":22}},{"start":{"line":142,"column":26},"end":{"line":142,"column":50}}]},"9":{"line":143,"type":"binary-expr","locations":[{"start":{"line":143,"column":12},"end":{"line":143,"column":22}},{"start":{"line":143,"column":26},"end":{"line":143,"column":50}}]},"10":{"line":158,"type":"if","locations":[{"start":{"line":158,"column":4},"end":{"line":158,"column":3}},{"start":{"line":158,"column":4},"end":{"line":158,"column":3}}]},"11":{"line":160,"type":"if","locations":[{"start":{"line":160,"column":6},"end":{"line":160,"column":5}},{"start":{"line":160,"column":6},"end":{"line":160,"column":5}}]},"12":{"line":163,"type":"if","locations":[{"start":{"line":163,"column":11},"end":{"line":163,"column":10}},{"start":{"line":163,"column":11},"end":{"line":163,"column":10}}]},"13":{"line":169,"type":"if","locations":[{"start":{"line":169,"column":4},"end":{"line":169,"column":3}},{"start":{"line":169,"column":4},"end":{"line":169,"column":3}}]},"14":{"line":175,"type":"if","locations":[{"start":{"line":175,"column":4},"end":{"line":175,"column":3}},{"start":{"line":175,"column":4},"end":{"line":175,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":11,"11":10,"12":10,"13":0,"14":10,"15":0,"16":1,"17":3,"18":3,"19":1,"20":1,"21":1,"22":4,"23":4,"24":3,"25":1,"26":1,"27":2,"28":2,"29":1,"30":0,"31":1,"32":10,"33":9,"34":14,"35":9,"36":9,"37":1,"38":5,"39":5,"40":5,"41":5,"42":2,"43":2,"44":2,"45":3,"46":3,"47":5,"48":5,"49":5,"50":5,"51":5,"52":2,"53":5,"54":5,"55":1,"56":1,"57":3,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1},"b":{"1":[0,10],"2":[0,10],"3":[3,0],"4":[1,2],"5":[3,1],"6":[1,8],"7":[6,3],"8":[9,3],"9":[9,3],"10":[2,3],"11":[2,0],"12":[3,0],"13":[5,0],"14":[2,3]},"f":{"1":1,"2":11,"3":3,"4":4,"5":9,"6":14,"7":5,"8":3},"code":"import {IComponentBindings} from '../Base/ComponentBindings'\nimport {ComponentOptions} from '../Base/ComponentOptions'\nimport {IQueryResult} from '../../rest/QueryResult'\nimport {Initialization} from '../Base/Initialization'\nimport {FieldValue, IFieldValueOptions} from './FieldValue'\nimport {StringUtils} from '../../utils/StringUtils'\nimport {Assert} from '../../misc/Assert'\nimport {$$} from '../../utils/Dom'\nimport {Utils} from '../../utils/Utils';\nimport {ComponentOptionsType} from \"../Base/ComponentOptions\";\n\n\nexport interface IBadgeOptions extends IFieldValueOptions {\n  colors: IBadgeColors;\n}\n\nexport interface IBadgeColors extends IBadgeColor {\n  values?: { [value: string]: IBadgeColors };\n}\n\nexport interface IBadgeColor {\n  icon?: string;\n  text?: string;\n}\n\n/**\n * This component is used to easily output a field value with customizable colors and an icon preceding it.<br/>\n * It extends {@link FieldValue}, so any options on that component can be used on Badge.<br/>\n * It is possible to configure the default colors, but also to set colors specific to\n * the current field value.\n */\nexport class Badge extends FieldValue {\n  static ID = 'Badge';\n\n  /**\n   * The options for the component\n   * @componentOptions\n   */\n  static options: IBadgeOptions = {\n    /**\n     * Specifies the colors for the badge.\n     *\n     * Colors are specified in a a JSON format like the following:\n     * ```json\n     * {\n     *   \"values\":{\n     *     \"foo\":{\n     *       \"icon\":\"blue\",\n     *       \"text\":\"#222\"\n     *     },\n     *     \"bar\":{\n     *       \"icon\":\"green\",\n     *       \"text\":\"lightgreen\"\n     *     }\n     *   },\n     *   \"icon\":\"red\",\n     *   \"text\":\"#9ab52b\"\n     * }\n     * ```\n     * This format allows to customize both the icon and text colors for each\n     * field value as well as the default value.\n     *\n     * Colors can be specified in HTML or hexadecimal code format.\n     */\n    colors: ComponentOptions.buildCustomOption<IBadgeColors>((value: string) => Badge.parseColors(value), { defaultValue: { values: {} } })\n  };\n\n  static parent = FieldValue;\n\n  /**\n   * Build a new Badge component\n   * @param element\n   * @param options\n   * @param bindings\n   * @param result\n   */\n  constructor(element: HTMLElement, public options?: IBadgeOptions, bindings?: IComponentBindings, result?: IQueryResult) {\n    super(element, ComponentOptions.initComponentOptions(element, Badge, options), bindings, result, Badge.ID);\n    if (_.isString(this.options.colors)) {\n      // to support the old string options\n      this.options.colors = Badge.parseColors(<any>this.options.colors);\n    }\n    if (this.options.colors.values == null) {\n      this.options.colors.values = {};\n    }\n  }\n\n  // The following regexes are used to match the old color format:\n\n  // This one matches a single color, e.g. either \"red\" or \"foo: blue\".\n  // Its capture groups will be the following :\n  // 0:( 1:() 2:(red)) or 0:( 1:(foo) 2:(blue))\n  private static colorRegex = /(?:\\s*((?:[^:;]|\\\\[;:])*)\\s*:\\s*)?(\\w+|#[A-Fa-f0-9]{6}|#[A-Fa-f0-9]{3})/g;\n  // This one matches all colors, separated by semicolons, e.g. \"red; foo: blue; bar: green\".\n  // It wraps 'colorRegex' in other capture groups, such as the following:\n  // 0:(red) 1:(foo: blue;) 2:(bar: green)\n  private static colorsRegex = new RegExp('^(\\\\s*' + Badge.colorRegex.source + '\\\\s*;)*(\\\\s*' + Badge.colorRegex.source + ')?\\\\s*$');\n\n  /**\n   * Parse the passed color string into a workable format.\n   * See {@link Badge.options.colors} for more info on defining colors.\n   * @param colorsOption The color string to parse\n   */\n  public static parseColors(colorsOption: string): IBadgeColors {\n    if (colorsOption) {\n      if (Badge.colorsRegex.test(colorsOption)) {\n        let badgeColors: IBadgeColors = {\n          values: {}\n        };\n        let colors: string[][] = StringUtils.match(colorsOption, Badge.colorRegex);\n        _.each(colors, (color: string[]) => {\n          let [, fieldValue, colorValue] = color;\n          if (fieldValue != null) {\n            badgeColors.values[fieldValue.replace(/\\\\(:|;)/g, '$1')] = {\n              icon: colorValue\n            }\n          } else {\n            badgeColors.icon = colorValue;\n          }\n        })\n        return badgeColors\n      }\n      try {\n        return JSON.parse(colorsOption);\n      } catch (e) {\n        Assert.fail(`Invalid colors for badge '${colorsOption}'`);\n      }\n    }\n    return {};\n  }\n\n  /**\n   * Get the icon and text color for the passed field value.<br/>\n   * Returns an object with the `icon` and `text` keys,\n   * representing their respective colors.\n   * @param value The field value for which the colors are returned\n   */\n  public getColor(value: string = ''): IBadgeColor {\n    var colorKey = _.find(_.keys(this.options.colors.values), (key: string) => value.toLowerCase() == key.toLowerCase());\n    var color: IBadgeColor = colorKey ? this.options.colors.values[colorKey] : {};\n    return {\n      icon: color.icon || this.options.colors.icon,\n      text: color.text || this.options.colors.text,\n    };\n  }\n\n  /**\n   * Render one string value with the appropriate colors and icon.<br/>\n   * Returns an HTML `span` containing the rendered value\n   * @param value The field value to render\n   */\n  public renderOneValue(value: string): HTMLElement {\n    let valueDom = super.renderOneValue(value);\n    $$(valueDom).addClass('coveo-value');\n\n    let color = this.getColor(value);\n\n    if (this.searchInterface.isNewDesign()) {\n      var icon = $$('span', { className: 'coveo-badge-icon' }).el;\n      if (color.icon != null) {\n        icon.style.color = color.icon;\n      }\n    } else if (color.icon != null) {\n      valueDom.style.background = color.icon;\n    }\n\n    let label = $$('span', { className: 'coveo-badge-label' }, valueDom.innerHTML).el;\n\n    if (color.text != null) {\n      label.style.color = color.text;\n    }\n\n    $$(valueDom).empty();\n\n    if (this.searchInterface.isNewDesign()) {\n      valueDom.appendChild(icon);\n    }\n    valueDom.appendChild(label);\n    return valueDom;\n  }\n}\n\nInitialization.registerAutoCreateComponent(Badge);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/FieldTable/Badge.ts\n **/","l":{"2":1,"4":1,"5":1,"6":1,"7":1,"8":1,"32":1,"33":1,"39":1,"65":3,"68":1,"77":10,"78":11,"79":10,"81":0,"83":10,"84":0,"93":1,"97":1,"104":1,"105":3,"106":3,"107":1,"110":1,"111":1,"112":4,"113":4,"114":3,"118":1,"121":1,"123":2,"124":2,"126":1,"129":0,"138":10,"139":14,"140":9,"141":9,"152":1,"153":5,"154":5,"156":5,"158":5,"159":2,"160":2,"161":2,"163":3,"164":3,"167":5,"169":5,"170":5,"173":5,"175":5,"176":2,"178":5,"179":5,"181":1,"183":1}},"src/ui/ResultRating/ResultRating.ts":{"path":"src/ui/ResultRating/ResultRating.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":57}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":39}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":54}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":39}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":72}},"7":{"start":{"line":10,"column":27},"end":{"line":10,"column":36}},"8":{"start":{"line":10,"column":38},"end":{"line":10,"column":44}},"9":{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},"10":{"start":{"line":10,"column":51},"end":{"line":10,"column":58}},"11":{"start":{"line":10,"column":60},"end":{"line":10,"column":64}},"12":{"start":{"line":10,"column":66},"end":{"line":10,"column":70}},"13":{"start":{"line":18,"column":0},"end":{"line":94,"column":1}},"14":{"start":{"line":18,"column":34},"end":{"line":18,"column":43}},"15":{"start":{"line":21,"column":2},"end":{"line":28,"column":3}},"16":{"start":{"line":22,"column":4},"end":{"line":22,"column":46}},"17":{"start":{"line":21,"column":21},"end":{"line":21,"column":41}},"18":{"start":{"line":21,"column":50},"end":{"line":21,"column":80}},"19":{"start":{"line":21,"column":89},"end":{"line":21,"column":118}},"20":{"start":{"line":21,"column":127},"end":{"line":21,"column":148}},"21":{"start":{"line":23,"column":4},"end":{"line":23,"column":89}},"22":{"start":{"line":25,"column":4},"end":{"line":27,"column":5}},"23":{"start":{"line":26,"column":6},"end":{"line":26,"column":51}},"24":{"start":{"line":30,"column":10},"end":{"line":34,"column":3}},"25":{"start":{"line":31,"column":4},"end":{"line":33,"column":5}},"26":{"start":{"line":32,"column":6},"end":{"line":32,"column":65}},"27":{"start":{"line":36,"column":10},"end":{"line":72,"column":3}},"28":{"start":{"line":36,"column":2},"end":{"line":72,"column":3}},"29":{"start":{"line":37,"column":4},"end":{"line":37,"column":18}},"30":{"start":{"line":38,"column":4},"end":{"line":38,"column":74}},"31":{"start":{"line":39,"column":4},"end":{"line":62,"column":5}},"32":{"start":{"line":40,"column":6},"end":{"line":40,"column":21}},"33":{"start":{"line":41,"column":6},"end":{"line":41,"column":35}},"34":{"start":{"line":43,"column":6},"end":{"line":57,"column":7}},"35":{"start":{"line":44,"column":8},"end":{"line":47,"column":11}},"36":{"start":{"line":45,"column":10},"end":{"line":45,"column":72}},"37":{"start":{"line":46,"column":10},"end":{"line":46,"column":82}},"38":{"start":{"line":49,"column":8},"end":{"line":52,"column":11}},"39":{"start":{"line":50,"column":10},"end":{"line":50,"column":72}},"40":{"start":{"line":51,"column":10},"end":{"line":51,"column":94}},"41":{"start":{"line":54,"column":8},"end":{"line":56,"column":11}},"42":{"start":{"line":55,"column":10},"end":{"line":55,"column":60}},"43":{"start":{"line":59,"column":6},"end":{"line":59,"column":61}},"44":{"start":{"line":61,"column":6},"end":{"line":61,"column":29}},"45":{"start":{"line":64,"column":4},"end":{"line":64,"column":30}},"46":{"start":{"line":65,"column":4},"end":{"line":69,"column":5}},"47":{"start":{"line":66,"column":6},"end":{"line":66,"column":34}},"48":{"start":{"line":68,"column":6},"end":{"line":68,"column":41}},"49":{"start":{"line":70,"column":4},"end":{"line":70,"column":64}},"50":{"start":{"line":71,"column":4},"end":{"line":71,"column":58}},"51":{"start":{"line":79,"column":9},"end":{"line":93,"column":3}},"52":{"start":{"line":79,"column":2},"end":{"line":93,"column":3}},"53":{"start":{"line":80,"column":4},"end":{"line":83,"column":6}},"54":{"start":{"line":85,"column":4},"end":{"line":92,"column":9}},"55":{"start":{"line":87,"column":8},"end":{"line":87,"column":36}},"56":{"start":{"line":88,"column":8},"end":{"line":88,"column":51}},"57":{"start":{"line":91,"column":8},"end":{"line":91,"column":73}},"58":{"start":{"line":19,"column":9},"end":{"line":19,"column":29}},"59":{"start":{"line":94,"column":0},"end":{"line":94,"column":1}},"60":{"start":{"line":18,"column":13},"end":{"line":94,"column":1}},"61":{"start":{"line":96,"column":0},"end":{"line":96,"column":57}}},"fnMap":{"1":{"name":"(anonymous_5718)","line":10,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":24}}},"2":{"name":"(anonymous_5719)","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":null,"column":-1}}},"3":{"name":"ResultRating","line":21,"loc":{"start":{"line":21,"column":2},"end":{"line":21,"column":148}}},"4":{"name":"(anonymous_5721)","line":30,"loc":{"start":{"line":30,"column":2},"end":{"line":30,"column":62}}},"5":{"name":"(anonymous_5722)","line":36,"loc":{"start":{"line":36,"column":2},"end":{"line":36,"column":76}}},"6":{"name":"(anonymous_5723)","line":44,"loc":{"start":{"line":44,"column":25},"end":{"line":44,"column":27}}},"7":{"name":"(anonymous_5724)","line":49,"loc":{"start":{"line":49,"column":29},"end":{"line":49,"column":31}}},"8":{"name":"(anonymous_5725)","line":54,"loc":{"start":{"line":54,"column":28},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_5726)","line":79,"loc":{"start":{"line":79,"column":2},"end":{"line":79,"column":42}}},"10":{"name":"(anonymous_5727)","line":86,"loc":{"start":{"line":86,"column":12},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_5728)","line":90,"loc":{"start":{"line":90,"column":13},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":12},"end":{"line":10,"column":24}},{"start":{"line":10,"column":12},"end":{"line":10,"column":24}}]},"2":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":4},"end":{"line":25,"column":3}},{"start":{"line":25,"column":4},"end":{"line":25,"column":3}}]},"3":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":4},"end":{"line":39,"column":3}},{"start":{"line":39,"column":4},"end":{"line":39,"column":3}}]},"4":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":6},"end":{"line":43,"column":5}},{"start":{"line":43,"column":6},"end":{"line":43,"column":5}}]},"5":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":4},"end":{"line":65,"column":3}},{"start":{"line":65,"column":4},"end":{"line":65,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":2,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":33,"17":33,"18":33,"19":33,"20":33,"21":33,"22":33,"23":32,"24":1,"25":39,"26":195,"27":1,"28":195,"29":195,"30":195,"31":195,"32":160,"33":160,"34":160,"35":20,"36":0,"37":0,"38":20,"39":4,"40":4,"41":20,"42":2,"43":160,"44":35,"45":195,"46":195,"47":185,"48":10,"49":195,"50":195,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":1,"59":1,"60":1,"61":1},"b":{"1":[1,1],"2":[32,1],"3":[160,35],"4":[20,140],"5":[185,10]},"f":{"1":1,"2":1,"3":33,"4":39,"5":195,"6":0,"7":4,"8":2,"9":1,"10":1,"11":0},"code":"import {Component} from '../Base/Component'\nimport {IComponentBindings} from '../Base/ComponentBindings'\nimport {ComponentOptions} from '../Base/ComponentOptions'\nimport {IQueryResult} from '../../rest/QueryResult'\nimport {$$, Dom} from '../../utils/Dom'\nimport {Initialization} from '../Base/Initialization';\nimport {Utils} from '../../utils/Utils'\nimport {IRatingRequest} from '../../rest/RatingRequest';\n\nexport enum RatingValues { Undefined, Lowest, Low, Average, Good, Best };\n\nexport interface IResultRatingOptions {\n}\n/**\n * Component used to render document rating. Allows search users to rate a result with a 5-star representation.\n * Interactive rating is possible if collaborative rating is enabled.\n */\nexport class ResultRating extends Component {\n  static ID = 'ResultRating';\n\n  constructor(public element: HTMLElement, public options?: IResultRatingOptions, public bindings?: IComponentBindings, public result?: IQueryResult) {\n    super(element, ResultRating.ID, bindings);\n    this.options = ComponentOptions.initComponentOptions(element, ResultRating, options);\n\n    if (!Utils.isNullOrUndefined(result.rating)) {\n      this.renderComponent(element, result.rating);\n    }\n  }\n\n  private renderComponent(element: HTMLElement, rating: number) {\n    for (let starNumber = 1; starNumber <= 5; starNumber++) {\n      this.renderStar(element, starNumber <= rating, starNumber);\n    }\n  }\n\n  private renderStar(element: HTMLElement, isChecked: boolean, value: number) {\n    let star: Dom;\n    let starElement = $$(element).find('a[rating-value=\"' + value + '\"]');\n    if (starElement == null) {\n      star = $$('a');\n      element.appendChild(star.el);\n\n      if (this.bindings.searchInterface.options.enableCollaborativeRating) {\n        star.on('click', (e) => {\n          let targetElement: HTMLElement = <HTMLElement>e.currentTarget;\n          this.rateDocument(parseInt(targetElement.getAttribute('rating-value')));\n        });\n\n        star.on('mouseover', (e) => {\n          let targetElement: HTMLElement = <HTMLElement>e.currentTarget;\n          this.renderComponent(element, parseInt(targetElement.getAttribute('rating-value')));\n        });\n\n        star.on('mouseout', () => {\n          this.renderComponent(element, this.result.rating);\n        });\n      }\n\n      star.el.setAttribute('rating-value', value.toString());\n    } else {\n      star = $$(starElement);\n    }\n\n    let basePath: String = '';\n    if (this.searchInterface.isNewDesign()) {\n      basePath = 'coveo-sprites-';\n    } else {\n      basePath = 'coveo-sprites-common-';\n    }\n    star.toggleClass(basePath + 'star_placeholder', !isChecked);\n    star.toggleClass(basePath + 'star_active', isChecked);\n  }\n\n  /**\n   * Rates a document with the specified rating value.\n   * @param rating The rating assigned to the document. Specified using the enum RatingValues.\n   * Possible values are: Undefined, Lowest, Low, Average, Good and Best.\n   */\n  public rateDocument(rating: RatingValues) {\n    let request: IRatingRequest = {\n      rating: RatingValues[rating],\n      uniqueId: this.result.uniqueId\n    };\n\n    this.queryController.getEndpoint().rateDocument(request)\n      .then(() => {\n        this.result.rating = rating;\n        this.renderComponent(this.element, rating);\n      })\n      .catch(() => {\n        this.logger.error('An error occurred while rating the document');\n      });\n  }\n}\n\nInitialization.registerAutoCreateComponent(ResultRating);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/ResultRating/ResultRating.ts\n **/","l":{"1":1,"3":1,"5":1,"6":1,"7":1,"10":2,"18":1,"19":1,"21":33,"22":33,"23":33,"25":33,"26":32,"30":1,"31":39,"32":195,"36":195,"37":195,"38":195,"39":195,"40":160,"41":160,"43":160,"44":20,"45":0,"46":0,"49":20,"50":4,"51":4,"54":20,"55":2,"59":160,"61":35,"64":195,"65":195,"66":185,"68":10,"70":195,"71":195,"79":1,"80":1,"85":1,"87":1,"88":1,"91":0,"94":1,"96":1}},"src/ui/PreferencesPanel/PreferencesPanel.ts":{"path":"src/ui/PreferencesPanel/PreferencesPanel.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":58}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":59}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":75}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":54}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":40}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":35}},"8":{"start":{"line":17,"column":0},"end":{"line":79,"column":1}},"9":{"start":{"line":17,"column":38},"end":{"line":17,"column":47}},"10":{"start":{"line":28,"column":2},"end":{"line":42,"column":3}},"11":{"start":{"line":29,"column":4},"end":{"line":29,"column":50}},"12":{"start":{"line":28,"column":21},"end":{"line":28,"column":41}},"13":{"start":{"line":28,"column":50},"end":{"line":28,"column":83}},"14":{"start":{"line":30,"column":4},"end":{"line":30,"column":93}},"15":{"start":{"line":31,"column":4},"end":{"line":31,"column":28}},"16":{"start":{"line":32,"column":4},"end":{"line":32,"column":22}},"17":{"start":{"line":34,"column":4},"end":{"line":41,"column":7}},"18":{"start":{"line":35,"column":6},"end":{"line":40,"column":9}},"19":{"start":{"line":38,"column":22},"end":{"line":38,"column":33}},"20":{"start":{"line":39,"column":23},"end":{"line":39,"column":35}},"21":{"start":{"line":47,"column":9},"end":{"line":49,"column":3}},"22":{"start":{"line":48,"column":4},"end":{"line":48,"column":46}},"23":{"start":{"line":54,"column":9},"end":{"line":57,"column":3}},"24":{"start":{"line":55,"column":4},"end":{"line":55,"column":49}},"25":{"start":{"line":56,"column":4},"end":{"line":56,"column":80}},"26":{"start":{"line":62,"column":9},"end":{"line":65,"column":3}},"27":{"start":{"line":63,"column":4},"end":{"line":63,"column":69}},"28":{"start":{"line":64,"column":4},"end":{"line":64,"column":40}},"29":{"start":{"line":67,"column":10},"end":{"line":73,"column":3}},"30":{"start":{"line":67,"column":2},"end":{"line":73,"column":3}},"31":{"start":{"line":68,"column":4},"end":{"line":68,"column":123}},"32":{"start":{"line":69,"column":4},"end":{"line":71,"column":6}},"33":{"start":{"line":70,"column":6},"end":{"line":70,"column":19}},"34":{"start":{"line":72,"column":4},"end":{"line":72,"column":45}},"35":{"start":{"line":75,"column":10},"end":{"line":78,"column":3}},"36":{"start":{"line":76,"column":4},"end":{"line":76,"column":95}},"37":{"start":{"line":77,"column":4},"end":{"line":77,"column":36}},"38":{"start":{"line":18,"column":9},"end":{"line":18,"column":33}},"39":{"start":{"line":20,"column":9},"end":{"line":20,"column":48}},"40":{"start":{"line":79,"column":0},"end":{"line":79,"column":1}},"41":{"start":{"line":17,"column":13},"end":{"line":79,"column":1}},"42":{"start":{"line":81,"column":0},"end":{"line":81,"column":61}}},"fnMap":{"1":{"name":"(anonymous_5732)","line":17,"loc":{"start":{"line":17,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"PreferencesPanel","line":28,"loc":{"start":{"line":28,"column":2},"end":{"line":28,"column":114}}},"3":{"name":"(anonymous_5734)","line":34,"loc":{"start":{"line":34,"column":65},"end":{"line":34,"column":97}}},"4":{"name":"(anonymous_5735)","line":38,"loc":{"start":{"line":38,"column":16},"end":{"line":38,"column":21}}},"5":{"name":"(anonymous_5736)","line":39,"loc":{"start":{"line":39,"column":17},"end":{"line":39,"column":22}}},"6":{"name":"(anonymous_5737)","line":47,"loc":{"start":{"line":47,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_5738)","line":54,"loc":{"start":{"line":54,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_5739)","line":62,"loc":{"start":{"line":62,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_5740)","line":67,"loc":{"start":{"line":67,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_5741)","line":69,"loc":{"start":{"line":69,"column":28},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_5742)","line":75,"loc":{"start":{"line":75,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":7,"9":1,"10":1,"11":6,"12":6,"13":6,"14":6,"15":6,"16":6,"17":6,"18":0,"19":0,"20":0,"21":1,"22":2,"23":1,"24":2,"25":2,"26":1,"27":2,"28":2,"29":1,"30":6,"31":6,"32":6,"33":0,"34":6,"35":1,"36":6,"37":6,"38":1,"39":1,"40":1,"41":1,"42":1},"b":{},"f":{"1":1,"2":6,"3":0,"4":0,"5":0,"6":2,"7":2,"8":2,"9":6,"10":0,"11":6},"code":"import {Component} from '../Base/Component';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {SettingsEvents} from '../../events/SettingsEvents';\nimport {ISettingsPopulateMenuArgs} from '../Settings/Settings';\nimport {PreferencesPanelEvents} from '../../events/PreferencesPanelEvents';\nimport {Initialization} from '../Base/Initialization';\nimport {l} from '../../strings/Strings';\nimport {$$} from '../../utils/Dom';\n\nexport interface IPreferencesPanelOptions {\n}\n\n/**\n * A panel that is displayed inside the {@link Settings} component, and allows end user to select some customization for their interface, saved in local storage.\n */\nexport class PreferencesPanel extends Component {\n  static ID = 'PreferencesPanel';\n\n  static options: IPreferencesPanelOptions = {};\n\n  /**\n   * Create a new PreferencesPanel\n   * @param element\n   * @param options\n   * @param bindings\n   */\n  constructor(public element: HTMLElement, public options: IPreferencesPanelOptions, bindings?: IComponentBindings) {\n    super(element, PreferencesPanel.ID, bindings);\n    this.options = ComponentOptions.initComponentOptions(element, PreferencesPanel, options);\n    this.buildCloseButton();\n    this.buildTitle();\n\n    this.bind.onRootElement(SettingsEvents.settingsPopulateMenu, (args: ISettingsPopulateMenuArgs) => {\n      args.menuData.push({\n        className: 'coveo-preferences-panel',\n        text: l('Preferences'),\n        onOpen: () => this.open(),\n        onClose: () => this.close()\n      });\n    });\n  }\n\n  /**\n   * Open the PreferencesPanel\n   */\n  public open(): void {\n    $$(this.element).addClass('coveo-active');\n  }\n\n  /**\n   * Close the PreferencesPanel without saving changes\n   */\n  public close(): void {\n    $$(this.element).removeClass('coveo-active');\n    $$(this.element).trigger(PreferencesPanelEvents.exitPreferencesWithoutSave);\n  }\n\n  /**\n   * Save the changes \n   */\n  public save(): void {\n    $$(this.element).trigger(PreferencesPanelEvents.savePreferences);\n    this.queryController.executeQuery();\n  }\n\n  private buildCloseButton(): void {\n    var closeButton = $$('div', { className: 'coveo-preferences-panel-close' }, $$('span', { className: 'coveo-icon' }).el)\n    closeButton.on('click', () => {\n      this.close();\n    })\n    $$(this.element).prepend(closeButton.el);\n  }\n\n  private buildTitle(): void {\n    var title = $$('div', { className: 'coveo-preferences-panel-title' }, l('Preferences')).el;\n    $$(this.element).prepend(title);\n  }\n}\n\nInitialization.registerAutoCreateComponent(PreferencesPanel);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/PreferencesPanel/PreferencesPanel.ts\n **/","l":{"1":1,"3":1,"4":1,"6":1,"7":1,"8":1,"9":1,"17":7,"18":1,"20":1,"28":6,"29":6,"30":6,"31":6,"32":6,"34":6,"35":0,"38":0,"39":0,"47":1,"48":2,"54":1,"55":2,"56":2,"62":1,"63":2,"64":2,"67":6,"68":6,"69":6,"70":0,"72":6,"75":1,"76":6,"77":6,"79":1,"81":1}},"src/ui/ResultsFiltersPreferences/ResultsFiltersPreferences.ts":{"path":"src/ui/ResultsFiltersPreferences/ResultsFiltersPreferences.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":58}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":64}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":51}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":70}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":181}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":71}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":75}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":48}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":78}},"11":{"start":{"line":12,"column":0},"end":{"line":12,"column":85}},"12":{"start":{"line":13,"column":0},"end":{"line":13,"column":93}},"13":{"start":{"line":14,"column":0},"end":{"line":14,"column":112}},"14":{"start":{"line":16,"column":0},"end":{"line":16,"column":54}},"15":{"start":{"line":17,"column":0},"end":{"line":17,"column":40}},"16":{"start":{"line":18,"column":0},"end":{"line":18,"column":40}},"17":{"start":{"line":19,"column":0},"end":{"line":19,"column":35}},"18":{"start":{"line":44,"column":0},"end":{"line":563,"column":1}},"19":{"start":{"line":44,"column":47},"end":{"line":44,"column":56}},"20":{"start":{"line":109,"column":2},"end":{"line":127,"column":3}},"21":{"start":{"line":110,"column":4},"end":{"line":110,"column":59}},"22":{"start":{"line":109,"column":21},"end":{"line":109,"column":41}},"23":{"start":{"line":109,"column":50},"end":{"line":109,"column":92}},"24":{"start":{"line":109,"column":101},"end":{"line":109,"column":129}},"25":{"start":{"line":112,"column":4},"end":{"line":112,"column":102}},"26":{"start":{"line":114,"column":4},"end":{"line":114,"column":101}},"27":{"start":{"line":115,"column":4},"end":{"line":115,"column":139}},"28":{"start":{"line":116,"column":4},"end":{"line":116,"column":54}},"29":{"start":{"line":118,"column":4},"end":{"line":118,"column":36}},"30":{"start":{"line":119,"column":4},"end":{"line":119,"column":31}},"31":{"start":{"line":120,"column":4},"end":{"line":120,"column":26}},"32":{"start":{"line":124,"column":4},"end":{"line":124,"column":105}},"33":{"start":{"line":124,"column":87},"end":{"line":124,"column":103}},"34":{"start":{"line":126,"column":4},"end":{"line":126,"column":124}},"35":{"start":{"line":126,"column":85},"end":{"line":126,"column":122}},"36":{"start":{"line":129,"column":9},"end":{"line":135,"column":3}},"37":{"start":{"line":130,"column":4},"end":{"line":130,"column":22}},"38":{"start":{"line":131,"column":4},"end":{"line":131,"column":32}},"39":{"start":{"line":132,"column":4},"end":{"line":134,"column":5}},"40":{"start":{"line":133,"column":6},"end":{"line":133,"column":34}},"41":{"start":{"line":137,"column":9},"end":{"line":142,"column":3}},"42":{"start":{"line":138,"column":4},"end":{"line":138,"column":42}},"43":{"start":{"line":139,"column":4},"end":{"line":139,"column":49}},"44":{"start":{"line":140,"column":4},"end":{"line":140,"column":51}},"45":{"start":{"line":141,"column":4},"end":{"line":141,"column":50}},"46":{"start":{"line":144,"column":9},"end":{"line":146,"column":3}},"47":{"start":{"line":145,"column":4},"end":{"line":145,"column":42}},"48":{"start":{"line":148,"column":10},"end":{"line":151,"column":3}},"49":{"start":{"line":148,"column":2},"end":{"line":151,"column":3}},"50":{"start":{"line":149,"column":4},"end":{"line":149,"column":97}},"51":{"start":{"line":149,"column":85},"end":{"line":149,"column":96}},"52":{"start":{"line":150,"column":4},"end":{"line":150,"column":119}},"53":{"start":{"line":150,"column":96},"end":{"line":150,"column":118}},"54":{"start":{"line":153,"column":10},"end":{"line":158,"column":3}},"55":{"start":{"line":153,"column":2},"end":{"line":158,"column":3}},"56":{"start":{"line":154,"column":4},"end":{"line":157,"column":5}},"57":{"start":{"line":155,"column":6},"end":{"line":155,"column":144}},"58":{"start":{"line":155,"column":107},"end":{"line":155,"column":142}},"59":{"start":{"line":156,"column":6},"end":{"line":156,"column":100}},"60":{"start":{"line":156,"column":70},"end":{"line":156,"column":98}},"61":{"start":{"line":160,"column":10},"end":{"line":162,"column":3}},"62":{"start":{"line":160,"column":2},"end":{"line":162,"column":3}},"63":{"start":{"line":161,"column":4},"end":{"line":161,"column":122}},"64":{"start":{"line":161,"column":90},"end":{"line":161,"column":120}},"65":{"start":{"line":164,"column":10},"end":{"line":168,"column":3}},"66":{"start":{"line":165,"column":4},"end":{"line":167,"column":6}},"67":{"start":{"line":166,"column":6},"end":{"line":166,"column":65}},"68":{"start":{"line":170,"column":10},"end":{"line":193,"column":3}},"69":{"start":{"line":171,"column":4},"end":{"line":171,"column":42}},"70":{"start":{"line":172,"column":4},"end":{"line":192,"column":5}},"71":{"start":{"line":173,"column":6},"end":{"line":173,"column":94}},"72":{"start":{"line":174,"column":6},"end":{"line":174,"column":59}},"73":{"start":{"line":175,"column":6},"end":{"line":175,"column":54}},"74":{"start":{"line":176,"column":6},"end":{"line":176,"column":41}},"75":{"start":{"line":178,"column":6},"end":{"line":178,"column":70}},"76":{"start":{"line":179,"column":6},"end":{"line":179,"column":51}},"77":{"start":{"line":181,"column":6},"end":{"line":190,"column":7}},"78":{"start":{"line":182,"column":8},"end":{"line":188,"column":9}},"79":{"start":{"line":183,"column":10},"end":{"line":185,"column":13}},"80":{"start":{"line":186,"column":10},"end":{"line":186,"column":31}},"81":{"start":{"line":187,"column":10},"end":{"line":187,"column":55}},"82":{"start":{"line":189,"column":8},"end":{"line":189,"column":73}},"83":{"start":{"line":191,"column":6},"end":{"line":191,"column":55}},"84":{"start":{"line":195,"column":10},"end":{"line":200,"column":3}},"85":{"start":{"line":196,"column":4},"end":{"line":198,"column":6}},"86":{"start":{"line":197,"column":6},"end":{"line":197,"column":30}},"87":{"start":{"line":199,"column":4},"end":{"line":199,"column":42}},"88":{"start":{"line":202,"column":10},"end":{"line":206,"column":3}},"89":{"start":{"line":203,"column":4},"end":{"line":205,"column":44}},"90":{"start":{"line":208,"column":10},"end":{"line":225,"column":3}},"91":{"start":{"line":208,"column":2},"end":{"line":225,"column":3}},"92":{"start":{"line":209,"column":4},"end":{"line":209,"column":94}},"93":{"start":{"line":210,"column":4},"end":{"line":210,"column":36}},"94":{"start":{"line":211,"column":4},"end":{"line":211,"column":43}},"95":{"start":{"line":212,"column":4},"end":{"line":212,"column":96}},"96":{"start":{"line":213,"column":4},"end":{"line":213,"column":77}},"97":{"start":{"line":214,"column":4},"end":{"line":214,"column":94}},"98":{"start":{"line":214,"column":47},"end":{"line":214,"column":92}},"99":{"start":{"line":215,"column":4},"end":{"line":218,"column":12}},"100":{"start":{"line":220,"column":4},"end":{"line":220,"column":54}},"101":{"start":{"line":222,"column":4},"end":{"line":222,"column":34}},"102":{"start":{"line":223,"column":4},"end":{"line":223,"column":48}},"103":{"start":{"line":224,"column":4},"end":{"line":224,"column":58}},"104":{"start":{"line":227,"column":10},"end":{"line":242,"column":3}},"105":{"start":{"line":228,"column":4},"end":{"line":232,"column":60}},"106":{"start":{"line":233,"column":4},"end":{"line":237,"column":63}},"107":{"start":{"line":238,"column":4},"end":{"line":241,"column":73}},"108":{"start":{"line":244,"column":10},"end":{"line":291,"column":3}},"109":{"start":{"line":244,"column":2},"end":{"line":291,"column":3}},"110":{"start":{"line":245,"column":4},"end":{"line":245,"column":69}},"111":{"start":{"line":247,"column":4},"end":{"line":249,"column":6}},"112":{"start":{"line":251,"column":4},"end":{"line":253,"column":7}},"113":{"start":{"line":255,"column":4},"end":{"line":257,"column":7}},"114":{"start":{"line":259,"column":4},"end":{"line":261,"column":7}},"115":{"start":{"line":263,"column":4},"end":{"line":263,"column":60}},"116":{"start":{"line":264,"column":4},"end":{"line":264,"column":61}},"117":{"start":{"line":266,"column":4},"end":{"line":266,"column":68}},"118":{"start":{"line":267,"column":4},"end":{"line":267,"column":47}},"119":{"start":{"line":269,"column":4},"end":{"line":269,"column":65}},"120":{"start":{"line":270,"column":4},"end":{"line":270,"column":47}},"121":{"start":{"line":272,"column":4},"end":{"line":272,"column":76}},"122":{"start":{"line":273,"column":4},"end":{"line":273,"column":55}},"123":{"start":{"line":275,"column":4},"end":{"line":277,"column":6}},"124":{"start":{"line":276,"column":6},"end":{"line":276,"column":54}},"125":{"start":{"line":279,"column":4},"end":{"line":281,"column":7}},"126":{"start":{"line":280,"column":6},"end":{"line":280,"column":28}},"127":{"start":{"line":282,"column":4},"end":{"line":282,"column":99}},"128":{"start":{"line":282,"column":38},"end":{"line":282,"column":97}},"129":{"start":{"line":284,"column":4},"end":{"line":288,"column":6}},"130":{"start":{"line":285,"column":6},"end":{"line":287,"column":7}},"131":{"start":{"line":286,"column":8},"end":{"line":286,"column":36}},"132":{"start":{"line":290,"column":4},"end":{"line":290,"column":106}},"133":{"start":{"line":290,"column":67},"end":{"line":290,"column":104}},"134":{"start":{"line":293,"column":10},"end":{"line":302,"column":3}},"135":{"start":{"line":294,"column":4},"end":{"line":294,"column":50}},"136":{"start":{"line":295,"column":4},"end":{"line":301,"column":5}},"137":{"start":{"line":296,"column":6},"end":{"line":296,"column":91}},"138":{"start":{"line":297,"column":6},"end":{"line":300,"column":8}},"139":{"start":{"line":298,"column":8},"end":{"line":298,"column":49}},"140":{"start":{"line":299,"column":8},"end":{"line":299,"column":30}},"141":{"start":{"line":304,"column":10},"end":{"line":312,"column":3}},"142":{"start":{"line":305,"column":4},"end":{"line":311,"column":6}},"143":{"start":{"line":306,"column":6},"end":{"line":310,"column":7}},"144":{"start":{"line":314,"column":10},"end":{"line":344,"column":3}},"145":{"start":{"line":314,"column":2},"end":{"line":344,"column":3}},"146":{"start":{"line":315,"column":4},"end":{"line":317,"column":5}},"147":{"start":{"line":316,"column":6},"end":{"line":316,"column":40}},"148":{"start":{"line":318,"column":4},"end":{"line":318,"column":55}},"149":{"start":{"line":319,"column":4},"end":{"line":343,"column":5}},"150":{"start":{"line":320,"column":6},"end":{"line":320,"column":115}},"151":{"start":{"line":321,"column":6},"end":{"line":323,"column":12}},"152":{"start":{"line":324,"column":6},"end":{"line":324,"column":86}},"153":{"start":{"line":326,"column":6},"end":{"line":328,"column":8}},"154":{"start":{"line":327,"column":8},"end":{"line":327,"column":108}},"155":{"start":{"line":330,"column":6},"end":{"line":330,"column":56}},"156":{"start":{"line":331,"column":6},"end":{"line":331,"column":37}},"157":{"start":{"line":332,"column":6},"end":{"line":332,"column":39}},"158":{"start":{"line":333,"column":6},"end":{"line":333,"column":44}},"159":{"start":{"line":334,"column":6},"end":{"line":342,"column":8}},"160":{"start":{"line":335,"column":8},"end":{"line":341,"column":10}},"161":{"start":{"line":336,"column":10},"end":{"line":336,"column":22}},"162":{"start":{"line":337,"column":10},"end":{"line":337,"column":68}},"163":{"start":{"line":338,"column":10},"end":{"line":338,"column":54}},"164":{"start":{"line":339,"column":10},"end":{"line":339,"column":95}},"165":{"start":{"line":340,"column":10},"end":{"line":340,"column":46}},"166":{"start":{"line":346,"column":10},"end":{"line":360,"column":3}},"167":{"start":{"line":346,"column":2},"end":{"line":360,"column":3}},"168":{"start":{"line":347,"column":4},"end":{"line":359,"column":6}},"169":{"start":{"line":348,"column":6},"end":{"line":358,"column":7}},"170":{"start":{"line":349,"column":8},"end":{"line":353,"column":18}},"171":{"start":{"line":354,"column":8},"end":{"line":354,"column":75}},"172":{"start":{"line":355,"column":8},"end":{"line":355,"column":121}},"173":{"start":{"line":356,"column":8},"end":{"line":356,"column":46}},"174":{"start":{"line":357,"column":8},"end":{"line":357,"column":87}},"175":{"start":{"line":357,"column":44},"end":{"line":357,"column":85}},"176":{"start":{"line":362,"column":10},"end":{"line":374,"column":3}},"177":{"start":{"line":362,"column":2},"end":{"line":374,"column":3}},"178":{"start":{"line":363,"column":4},"end":{"line":373,"column":6}},"179":{"start":{"line":364,"column":6},"end":{"line":372,"column":7}},"180":{"start":{"line":365,"column":8},"end":{"line":367,"column":52}},"181":{"start":{"line":368,"column":8},"end":{"line":368,"column":75}},"182":{"start":{"line":369,"column":8},"end":{"line":369,"column":121}},"183":{"start":{"line":370,"column":8},"end":{"line":370,"column":47}},"184":{"start":{"line":371,"column":8},"end":{"line":371,"column":79}},"185":{"start":{"line":371,"column":38},"end":{"line":371,"column":77}},"186":{"start":{"line":376,"column":10},"end":{"line":394,"column":3}},"187":{"start":{"line":376,"column":2},"end":{"line":394,"column":3}},"188":{"start":{"line":377,"column":4},"end":{"line":377,"column":56}},"189":{"start":{"line":379,"column":4},"end":{"line":379,"column":60}},"190":{"start":{"line":380,"column":4},"end":{"line":380,"column":33}},"191":{"start":{"line":381,"column":4},"end":{"line":381,"column":36}},"192":{"start":{"line":383,"column":4},"end":{"line":383,"column":57}},"193":{"start":{"line":384,"column":4},"end":{"line":384,"column":34}},"194":{"start":{"line":386,"column":4},"end":{"line":391,"column":6}},"195":{"start":{"line":387,"column":6},"end":{"line":387,"column":30}},"196":{"start":{"line":388,"column":6},"end":{"line":388,"column":73}},"197":{"start":{"line":389,"column":6},"end":{"line":389,"column":44}},"198":{"start":{"line":390,"column":6},"end":{"line":390,"column":42}},"199":{"start":{"line":393,"column":4},"end":{"line":393,"column":19}},"200":{"start":{"line":396,"column":10},"end":{"line":405,"column":3}},"201":{"start":{"line":397,"column":4},"end":{"line":404,"column":5}},"202":{"start":{"line":398,"column":6},"end":{"line":398,"column":38}},"203":{"start":{"line":399,"column":6},"end":{"line":399,"column":57}},"204":{"start":{"line":400,"column":6},"end":{"line":403,"column":7}},"205":{"start":{"line":401,"column":8},"end":{"line":401,"column":59}},"206":{"start":{"line":402,"column":8},"end":{"line":402,"column":44}},"207":{"start":{"line":407,"column":10},"end":{"line":414,"column":3}},"208":{"start":{"line":408,"column":4},"end":{"line":408,"column":62}},"209":{"start":{"line":409,"column":4},"end":{"line":409,"column":54}},"210":{"start":{"line":410,"column":4},"end":{"line":410,"column":68}},"211":{"start":{"line":411,"column":4},"end":{"line":411,"column":55}},"212":{"start":{"line":412,"column":4},"end":{"line":412,"column":50}},"213":{"start":{"line":413,"column":4},"end":{"line":413,"column":94}},"214":{"start":{"line":416,"column":10},"end":{"line":420,"column":3}},"215":{"start":{"line":416,"column":30},"end":{"line":416,"column":85}},"216":{"start":{"line":417,"column":4},"end":{"line":417,"column":84}},"217":{"start":{"line":418,"column":4},"end":{"line":418,"column":93}},"218":{"start":{"line":419,"column":4},"end":{"line":419,"column":60}},"219":{"start":{"line":422,"column":10},"end":{"line":426,"column":3}},"220":{"start":{"line":423,"column":4},"end":{"line":423,"column":60}},"221":{"start":{"line":424,"column":4},"end":{"line":424,"column":44}},"222":{"start":{"line":425,"column":4},"end":{"line":425,"column":70}},"223":{"start":{"line":428,"column":10},"end":{"line":435,"column":3}},"224":{"start":{"line":429,"column":4},"end":{"line":434,"column":5}},"225":{"start":{"line":430,"column":6},"end":{"line":430,"column":90}},"226":{"start":{"line":432,"column":6},"end":{"line":432,"column":33}},"227":{"start":{"line":433,"column":6},"end":{"line":433,"column":66}},"228":{"start":{"line":437,"column":10},"end":{"line":459,"column":3}},"229":{"start":{"line":438,"column":4},"end":{"line":438,"column":23}},"230":{"start":{"line":439,"column":4},"end":{"line":439,"column":64}},"231":{"start":{"line":440,"column":4},"end":{"line":440,"column":70}},"232":{"start":{"line":441,"column":4},"end":{"line":441,"column":76}},"233":{"start":{"line":442,"column":4},"end":{"line":442,"column":56}},"234":{"start":{"line":443,"column":4},"end":{"line":449,"column":5}},"235":{"start":{"line":450,"column":4},"end":{"line":450,"column":32}},"236":{"start":{"line":451,"column":4},"end":{"line":451,"column":16}},"237":{"start":{"line":452,"column":4},"end":{"line":452,"column":84}},"238":{"start":{"line":453,"column":4},"end":{"line":453,"column":49}},"239":{"start":{"line":454,"column":4},"end":{"line":454,"column":52}},"240":{"start":{"line":455,"column":4},"end":{"line":455,"column":42}},"241":{"start":{"line":456,"column":4},"end":{"line":456,"column":58}},"242":{"start":{"line":457,"column":4},"end":{"line":457,"column":72}},"243":{"start":{"line":458,"column":4},"end":{"line":458,"column":40}},"244":{"start":{"line":461,"column":10},"end":{"line":471,"column":3}},"245":{"start":{"line":461,"column":2},"end":{"line":471,"column":3}},"246":{"start":{"line":462,"column":4},"end":{"line":464,"column":6}},"247":{"start":{"line":463,"column":6},"end":{"line":463,"column":63}},"248":{"start":{"line":465,"column":4},"end":{"line":467,"column":6}},"249":{"start":{"line":466,"column":6},"end":{"line":466,"column":65}},"250":{"start":{"line":468,"column":4},"end":{"line":470,"column":6}},"251":{"start":{"line":469,"column":6},"end":{"line":469,"column":63}},"252":{"start":{"line":473,"column":10},"end":{"line":482,"column":3}},"253":{"start":{"line":474,"column":4},"end":{"line":474,"column":69}},"254":{"start":{"line":475,"column":4},"end":{"line":481,"column":6}},"255":{"start":{"line":476,"column":6},"end":{"line":480,"column":7}},"256":{"start":{"line":477,"column":8},"end":{"line":477,"column":31}},"257":{"start":{"line":479,"column":8},"end":{"line":479,"column":32}},"258":{"start":{"line":484,"column":10},"end":{"line":489,"column":3}},"259":{"start":{"line":484,"column":2},"end":{"line":489,"column":3}},"260":{"start":{"line":485,"column":4},"end":{"line":485,"column":40}},"261":{"start":{"line":486,"column":4},"end":{"line":488,"column":6}},"262":{"start":{"line":487,"column":6},"end":{"line":487,"column":77}},"263":{"start":{"line":491,"column":10},"end":{"line":496,"column":3}},"264":{"start":{"line":491,"column":2},"end":{"line":496,"column":3}},"265":{"start":{"line":492,"column":4},"end":{"line":492,"column":40}},"266":{"start":{"line":493,"column":4},"end":{"line":495,"column":6}},"267":{"start":{"line":494,"column":6},"end":{"line":494,"column":76}},"268":{"start":{"line":498,"column":10},"end":{"line":503,"column":3}},"269":{"start":{"line":498,"column":2},"end":{"line":503,"column":3}},"270":{"start":{"line":499,"column":4},"end":{"line":499,"column":40}},"271":{"start":{"line":500,"column":4},"end":{"line":502,"column":6}},"272":{"start":{"line":501,"column":6},"end":{"line":501,"column":78}},"273":{"start":{"line":505,"column":10},"end":{"line":507,"column":3}},"274":{"start":{"line":506,"column":4},"end":{"line":506,"column":70}},"275":{"start":{"line":509,"column":10},"end":{"line":512,"column":3}},"276":{"start":{"line":510,"column":4},"end":{"line":510,"column":39}},"277":{"start":{"line":511,"column":4},"end":{"line":511,"column":73}},"278":{"start":{"line":514,"column":10},"end":{"line":516,"column":3}},"279":{"start":{"line":515,"column":4},"end":{"line":515,"column":95}},"280":{"start":{"line":518,"column":10},"end":{"line":530,"column":3}},"281":{"start":{"line":519,"column":4},"end":{"line":519,"column":61}},"282":{"start":{"line":520,"column":4},"end":{"line":528,"column":6}},"283":{"start":{"line":521,"column":6},"end":{"line":527,"column":7}},"284":{"start":{"line":529,"column":4},"end":{"line":529,"column":15}},"285":{"start":{"line":532,"column":10},"end":{"line":554,"column":3}},"286":{"start":{"line":533,"column":4},"end":{"line":533,"column":87}},"287":{"start":{"line":534,"column":4},"end":{"line":534,"column":67}},"288":{"start":{"line":535,"column":4},"end":{"line":541,"column":6}},"289":{"start":{"line":536,"column":6},"end":{"line":536,"column":39}},"290":{"start":{"line":537,"column":6},"end":{"line":539,"column":8}},"291":{"start":{"line":538,"column":8},"end":{"line":538,"column":61}},"292":{"start":{"line":540,"column":6},"end":{"line":540,"column":53}},"293":{"start":{"line":543,"column":4},"end":{"line":543,"column":26}},"294":{"start":{"line":544,"column":4},"end":{"line":552,"column":7}},"295":{"start":{"line":545,"column":6},"end":{"line":551,"column":7}},"296":{"start":{"line":553,"column":4},"end":{"line":553,"column":122}},"297":{"start":{"line":556,"column":10},"end":{"line":562,"column":3}},"298":{"start":{"line":557,"column":4},"end":{"line":561,"column":7}},"299":{"start":{"line":45,"column":9},"end":{"line":45,"column":42}},"300":{"start":{"line":51,"column":9},"end":{"line":95,"column":4}},"301":{"start":{"line":563,"column":0},"end":{"line":563,"column":1}},"302":{"start":{"line":44,"column":13},"end":{"line":563,"column":1}},"303":{"start":{"line":565,"column":0},"end":{"line":565,"column":70}}},"fnMap":{"1":{"name":"(anonymous_5747)","line":44,"loc":{"start":{"line":44,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"ResultsFiltersPreferences","line":109,"loc":{"start":{"line":109,"column":2},"end":{"line":109,"column":129}}},"3":{"name":"(anonymous_5749)","line":124,"loc":{"start":{"line":124,"column":81},"end":{"line":124,"column":86}}},"4":{"name":"(anonymous_5750)","line":126,"loc":{"start":{"line":126,"column":79},"end":{"line":126,"column":84}}},"5":{"name":"(anonymous_5751)","line":129,"loc":{"start":{"line":129,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_5752)","line":137,"loc":{"start":{"line":137,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_5753)","line":144,"loc":{"start":{"line":144,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_5754)","line":148,"loc":{"start":{"line":148,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_5755)","line":149,"loc":{"start":{"line":149,"column":79},"end":{"line":149,"column":84}}},"10":{"name":"(anonymous_5756)","line":150,"loc":{"start":{"line":150,"column":90},"end":{"line":150,"column":95}}},"11":{"name":"(anonymous_5757)","line":153,"loc":{"start":{"line":153,"column":2},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_5758)","line":155,"loc":{"start":{"line":155,"column":67},"end":{"line":155,"column":102}}},"13":{"name":"(anonymous_5759)","line":156,"loc":{"start":{"line":156,"column":64},"end":{"line":156,"column":69}}},"14":{"name":"(anonymous_5760)","line":160,"loc":{"start":{"line":160,"column":2},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_5761)","line":161,"loc":{"start":{"line":161,"column":55},"end":{"line":161,"column":85}}},"16":{"name":"(anonymous_5762)","line":164,"loc":{"start":{"line":164,"column":2},"end":{"line":164,"column":59}}},"17":{"name":"(anonymous_5763)","line":165,"loc":{"start":{"line":165,"column":36},"end":{"line":165,"column":43}}},"18":{"name":"(anonymous_5764)","line":170,"loc":{"start":{"line":170,"column":2},"end":{"line":170,"column":69}}},"19":{"name":"(anonymous_5765)","line":195,"loc":{"start":{"line":195,"column":2},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_5766)","line":196,"loc":{"start":{"line":196,"column":36},"end":{"line":196,"column":43}}},"21":{"name":"(anonymous_5767)","line":202,"loc":{"start":{"line":202,"column":2},"end":{"line":null,"column":-1}}},"22":{"name":"(anonymous_5768)","line":208,"loc":{"start":{"line":208,"column":2},"end":{"line":null,"column":-1}}},"23":{"name":"(anonymous_5769)","line":214,"loc":{"start":{"line":214,"column":41},"end":{"line":214,"column":46}}},"24":{"name":"(anonymous_5770)","line":227,"loc":{"start":{"line":227,"column":2},"end":{"line":null,"column":-1}}},"25":{"name":"(anonymous_5771)","line":244,"loc":{"start":{"line":244,"column":2},"end":{"line":null,"column":-1}}},"26":{"name":"(anonymous_5772)","line":275,"loc":{"start":{"line":275,"column":105},"end":{"line":275,"column":121}}},"27":{"name":"(anonymous_5773)","line":279,"loc":{"start":{"line":279,"column":31},"end":{"line":null,"column":-1}}},"28":{"name":"(anonymous_5774)","line":282,"loc":{"start":{"line":282,"column":32},"end":{"line":282,"column":37}}},"29":{"name":"(anonymous_5775)","line":284,"loc":{"start":{"line":284,"column":73},"end":{"line":284,"column":90}}},"30":{"name":"(anonymous_5776)","line":290,"loc":{"start":{"line":290,"column":53},"end":{"line":290,"column":62}}},"31":{"name":"(anonymous_5777)","line":293,"loc":{"start":{"line":293,"column":2},"end":{"line":null,"column":-1}}},"32":{"name":"(anonymous_5778)","line":297,"loc":{"start":{"line":297,"column":32},"end":{"line":297,"column":56}}},"33":{"name":"(anonymous_5779)","line":304,"loc":{"start":{"line":304,"column":2},"end":{"line":null,"column":-1}}},"34":{"name":"(anonymous_5780)","line":305,"loc":{"start":{"line":305,"column":35},"end":{"line":305,"column":67}}},"35":{"name":"(anonymous_5781)","line":314,"loc":{"start":{"line":314,"column":2},"end":{"line":null,"column":-1}}},"36":{"name":"(anonymous_5782)","line":326,"loc":{"start":{"line":326,"column":78},"end":{"line":326,"column":107}}},"37":{"name":"(anonymous_5783)","line":334,"loc":{"start":{"line":334,"column":60},"end":{"line":334,"column":79}}},"38":{"name":"(anonymous_5784)","line":335,"loc":{"start":{"line":335,"column":31},"end":{"line":335,"column":40}}},"39":{"name":"(anonymous_5785)","line":346,"loc":{"start":{"line":346,"column":2},"end":{"line":null,"column":-1}}},"40":{"name":"(anonymous_5786)","line":347,"loc":{"start":{"line":347,"column":29},"end":{"line":347,"column":36}}},"41":{"name":"(anonymous_5787)","line":357,"loc":{"start":{"line":357,"column":38},"end":{"line":357,"column":43}}},"42":{"name":"(anonymous_5788)","line":362,"loc":{"start":{"line":362,"column":2},"end":{"line":null,"column":-1}}},"43":{"name":"(anonymous_5789)","line":363,"loc":{"start":{"line":363,"column":29},"end":{"line":363,"column":36}}},"44":{"name":"(anonymous_5790)","line":371,"loc":{"start":{"line":371,"column":32},"end":{"line":371,"column":37}}},"45":{"name":"(anonymous_5791)","line":376,"loc":{"start":{"line":376,"column":2},"end":{"line":376,"column":57}}},"46":{"name":"(anonymous_5792)","line":386,"loc":{"start":{"line":386,"column":21},"end":{"line":null,"column":-1}}},"47":{"name":"(anonymous_5793)","line":396,"loc":{"start":{"line":396,"column":2},"end":{"line":396,"column":83}}},"48":{"name":"(anonymous_5794)","line":407,"loc":{"start":{"line":407,"column":2},"end":{"line":407,"column":81}}},"49":{"name":"(anonymous_5795)","line":416,"loc":{"start":{"line":416,"column":2},"end":{"line":416,"column":85}}},"50":{"name":"(anonymous_5796)","line":422,"loc":{"start":{"line":422,"column":2},"end":{"line":422,"column":92}}},"51":{"name":"(anonymous_5797)","line":428,"loc":{"start":{"line":428,"column":2},"end":{"line":null,"column":-1}}},"52":{"name":"(anonymous_5798)","line":437,"loc":{"start":{"line":437,"column":2},"end":{"line":437,"column":48}}},"53":{"name":"(anonymous_5799)","line":461,"loc":{"start":{"line":461,"column":2},"end":{"line":null,"column":-1}}},"54":{"name":"(anonymous_5800)","line":462,"loc":{"start":{"line":462,"column":36},"end":{"line":462,"column":68}}},"55":{"name":"(anonymous_5801)","line":465,"loc":{"start":{"line":465,"column":38},"end":{"line":465,"column":70}}},"56":{"name":"(anonymous_5802)","line":468,"loc":{"start":{"line":468,"column":37},"end":{"line":468,"column":69}}},"57":{"name":"(anonymous_5803)","line":473,"loc":{"start":{"line":473,"column":2},"end":{"line":null,"column":-1}}},"58":{"name":"(anonymous_5804)","line":475,"loc":{"start":{"line":475,"column":29},"end":{"line":475,"column":61}}},"59":{"name":"(anonymous_5805)","line":484,"loc":{"start":{"line":484,"column":2},"end":{"line":null,"column":-1}}},"60":{"name":"(anonymous_5806)","line":486,"loc":{"start":{"line":486,"column":38},"end":{"line":486,"column":70}}},"61":{"name":"(anonymous_5807)","line":491,"loc":{"start":{"line":491,"column":2},"end":{"line":null,"column":-1}}},"62":{"name":"(anonymous_5808)","line":493,"loc":{"start":{"line":493,"column":38},"end":{"line":493,"column":70}}},"63":{"name":"(anonymous_5809)","line":498,"loc":{"start":{"line":498,"column":2},"end":{"line":null,"column":-1}}},"64":{"name":"(anonymous_5810)","line":500,"loc":{"start":{"line":500,"column":38},"end":{"line":500,"column":70}}},"65":{"name":"(anonymous_5811)","line":505,"loc":{"start":{"line":505,"column":2},"end":{"line":null,"column":-1}}},"66":{"name":"(anonymous_5812)","line":509,"loc":{"start":{"line":509,"column":2},"end":{"line":509,"column":74}}},"67":{"name":"(anonymous_5813)","line":514,"loc":{"start":{"line":514,"column":2},"end":{"line":514,"column":51}}},"68":{"name":"(anonymous_5814)","line":518,"loc":{"start":{"line":518,"column":2},"end":{"line":null,"column":-1}}},"69":{"name":"(anonymous_5815)","line":520,"loc":{"start":{"line":520,"column":38},"end":{"line":520,"column":122}}},"70":{"name":"(anonymous_5816)","line":532,"loc":{"start":{"line":532,"column":2},"end":{"line":null,"column":-1}}},"71":{"name":"(anonymous_5817)","line":535,"loc":{"start":{"line":535,"column":93},"end":{"line":535,"column":104}}},"72":{"name":"(anonymous_5818)","line":537,"loc":{"start":{"line":537,"column":78},"end":{"line":537,"column":95}}},"73":{"name":"(anonymous_5819)","line":544,"loc":{"start":{"line":544,"column":43},"end":{"line":544,"column":75}}},"74":{"name":"(anonymous_5820)","line":556,"loc":{"start":{"line":556,"column":2},"end":{"line":556,"column":82}}}},"branchMap":{"1":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":4},"end":{"line":132,"column":3}},{"start":{"line":132,"column":4},"end":{"line":132,"column":3}}]},"2":{"line":154,"type":"if","locations":[{"start":{"line":154,"column":4},"end":{"line":154,"column":3}},{"start":{"line":154,"column":4},"end":{"line":154,"column":3}}]},"3":{"line":172,"type":"if","locations":[{"start":{"line":172,"column":4},"end":{"line":172,"column":3}},{"start":{"line":172,"column":4},"end":{"line":172,"column":3}}]},"4":{"line":182,"type":"if","locations":[{"start":{"line":182,"column":8},"end":{"line":182,"column":7}},{"start":{"line":182,"column":8},"end":{"line":182,"column":7}}]},"5":{"line":285,"type":"if","locations":[{"start":{"line":285,"column":6},"end":{"line":285,"column":5}},{"start":{"line":285,"column":6},"end":{"line":285,"column":5}}]},"6":{"line":295,"type":"if","locations":[{"start":{"line":295,"column":4},"end":{"line":295,"column":3}},{"start":{"line":295,"column":4},"end":{"line":295,"column":3}}]},"7":{"line":315,"type":"if","locations":[{"start":{"line":315,"column":4},"end":{"line":315,"column":3}},{"start":{"line":315,"column":4},"end":{"line":315,"column":3}}]},"8":{"line":319,"type":"if","locations":[{"start":{"line":319,"column":4},"end":{"line":319,"column":3}},{"start":{"line":319,"column":4},"end":{"line":319,"column":3}}]},"9":{"line":339,"type":"cond-expr","locations":[{"start":{"line":339,"column":68},"end":{"line":339,"column":78}},{"start":{"line":339,"column":81},"end":{"line":339,"column":93}}]},"10":{"line":348,"type":"if","locations":[{"start":{"line":348,"column":6},"end":{"line":348,"column":5}},{"start":{"line":348,"column":6},"end":{"line":348,"column":5}}]},"11":{"line":364,"type":"if","locations":[{"start":{"line":364,"column":6},"end":{"line":364,"column":5}},{"start":{"line":364,"column":6},"end":{"line":364,"column":5}}]},"12":{"line":397,"type":"if","locations":[{"start":{"line":397,"column":4},"end":{"line":397,"column":3}},{"start":{"line":397,"column":4},"end":{"line":397,"column":3}}]},"13":{"line":400,"type":"if","locations":[{"start":{"line":400,"column":6},"end":{"line":400,"column":5}},{"start":{"line":400,"column":6},"end":{"line":400,"column":5}}]},"14":{"line":416,"type":"if","locations":[{"start":{"line":416,"column":30},"end":{"line":416,"column":29}},{"start":{"line":416,"column":30},"end":{"line":416,"column":29}}]},"15":{"line":429,"type":"if","locations":[{"start":{"line":429,"column":4},"end":{"line":429,"column":3}},{"start":{"line":429,"column":4},"end":{"line":429,"column":3}}]},"16":{"line":476,"type":"if","locations":[{"start":{"line":476,"column":6},"end":{"line":476,"column":5}},{"start":{"line":476,"column":6},"end":{"line":476,"column":5}}]},"17":{"line":487,"type":"binary-expr","locations":[{"start":{"line":487,"column":13},"end":{"line":487,"column":28}},{"start":{"line":487,"column":32},"end":{"line":487,"column":76}}]},"18":{"line":494,"type":"binary-expr","locations":[{"start":{"line":494,"column":13},"end":{"line":494,"column":28}},{"start":{"line":494,"column":32},"end":{"line":494,"column":75}}]},"19":{"line":501,"type":"binary-expr","locations":[{"start":{"line":501,"column":13},"end":{"line":501,"column":29}},{"start":{"line":501,"column":33},"end":{"line":501,"column":77}}]},"20":{"line":511,"type":"binary-expr","locations":[{"start":{"line":511,"column":11},"end":{"line":511,"column":38}},{"start":{"line":511,"column":42},"end":{"line":511,"column":72}}]},"21":{"line":524,"type":"cond-expr","locations":[{"start":{"line":524,"column":36},"end":{"line":524,"column":51}},{"start":{"line":524,"column":54},"end":{"line":524,"column":59}}]},"22":{"line":540,"type":"binary-expr","locations":[{"start":{"line":540,"column":13},"end":{"line":540,"column":21}},{"start":{"line":540,"column":25},"end":{"line":540,"column":52}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":1,"42":0,"43":0,"44":0,"45":0,"46":1,"47":0,"48":1,"49":0,"50":0,"51":0,"52":0,"53":0,"54":1,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":1,"62":0,"63":0,"64":0,"65":1,"66":0,"67":0,"68":1,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":1,"85":0,"86":0,"87":0,"88":1,"89":0,"90":1,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":1,"105":0,"106":0,"107":0,"108":1,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":1,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":1,"142":0,"143":0,"144":1,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":1,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":1,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":1,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":1,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":1,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":1,"215":0,"216":0,"217":0,"218":0,"219":1,"220":0,"221":0,"222":0,"223":1,"224":0,"225":0,"226":0,"227":0,"228":1,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":1,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":1,"253":0,"254":0,"255":0,"256":0,"257":0,"258":1,"259":0,"260":0,"261":0,"262":0,"263":1,"264":0,"265":0,"266":0,"267":0,"268":1,"269":0,"270":0,"271":0,"272":0,"273":1,"274":0,"275":1,"276":0,"277":0,"278":1,"279":0,"280":1,"281":0,"282":0,"283":0,"284":0,"285":1,"286":0,"287":0,"288":0,"289":0,"290":0,"291":0,"292":0,"293":0,"294":0,"295":0,"296":0,"297":1,"298":0,"299":1,"300":1,"301":1,"302":1,"303":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0},"code":"import {Component} from '../Base/Component';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {LocalStorageUtils} from '../../utils/LocalStorageUtils';\nimport {KEYBOARD} from '../../utils/KeyboardUtils';\nimport {PreferencesPanel} from '../PreferencesPanel/PreferencesPanel';\nimport {PreferencesPanelCheckboxInput, PreferencesPanelTextAreaInput, PreferencePanelMultiSelectInput, IPreferencePanelInputToBuild} from '../PreferencesPanel/PreferencesPanelItem';\nimport {InitializationEvents} from '../../events/InitializationEvents';\nimport {PreferencesPanelEvents} from '../../events/PreferencesPanelEvents';\nimport {MODEL_EVENTS} from '../../models/Model';\nimport {QueryEvents, IBuildingQueryEventArgs} from '../../events/QueryEvents';\nimport {QueryStateModel, QUERY_STATE_ATTRIBUTES} from '../../models/QueryStateModel';\nimport {BreadcrumbEvents, IPopulateBreadcrumbEventArgs} from '../../events/BreadcrumbEvents';\nimport {analyticsActionCauseList, IAnalyticsCustomFiltersChangeMeta} from '../Analytics/AnalyticsActionListMeta'\nimport {Tab} from '../Tab/Tab';\nimport {Initialization} from '../Base/Initialization';\nimport {l} from '../../strings/Strings';\nimport {Utils} from '../../utils/Utils';\nimport {$$} from '../../utils/Dom';\n\nexport interface IResultFilterPreference {\n  selected?: boolean;\n  custom?: boolean;\n  tab?: string[];\n  caption: string;\n  expression: string;\n}\n\nexport interface IResultsFiltersPreferencesOptions {\n  filters?: {\n    [caption: string]: { expression: string; tab?: string[]; };\n  };\n  includeInBreadcrumb?: boolean;\n  showAdvancedFilters?: boolean;\n}\n\n/**\n * This component allows end-users to create their own customized filters to apply to their search.<br/>\n * It is a feature meant for advanced user that understand the Coveo Query syntax.<br/>\n * These preferences are saved in the localStorage of each user.<br/>\n * This component is normally accessible visually using the {@link Settings} menu.<br/>\n * It is usually located, in the DOM, inside the {@link PreferencesPanel} component.\n */\nexport class ResultsFiltersPreferences extends Component {\n  static ID = 'ResultsFiltersPreferences';\n\n  /**\n   * The options for the component\n   * @componentOptions\n   */\n  static options: IResultsFiltersPreferencesOptions = {\n    /**\n     * Specifies whether to include the active filter(s) in the breadcrumb.<br/>\n     * Default is <code>true</code>.\n     */\n    includeInBreadcrumb: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies whether to show or hide the Create button to allow end-users to create their own filters.<br/>\n     * If set to false, only pre-populated filter created on initialization using js code will be available to the end user.\n     * Default is <code>true</code>.\n     */\n    showAdvancedFilters: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies default filters that all users will see.\n     *\n     * End-users will not be able to modify or delete them, as they are not customized for each user, but instead created by the creator/developer of the search page.\n     *\n     * Filters should follow this definition :\n     *\n     * ```\n     *   filters: { [caption: string]: { expression: string; tab?: string[]; }};\n     * ```\n     *\n     * eg :\n     *\n     * ```javascript\n     * Coveo.init(root, {\n     *   ResultsFiltersPreferences : {\n     *     filters : {\n     *       'Only google drive stuff' : {\n     *         tab: ['Tab1', 'Tab2'],\n     *         expression : '@connectortype == 'GoogleDriveCrawler''\n     *       },\n     *       'Another filter' : {\n     *         expression : 'another expression''\n     *       }\n     *     }\n     *   }\n     * })\n     * ```\n     *\n     * This is optional, and by default this option is left 'empty'.\n     */\n    filters: <any>ComponentOptions.buildJsonOption()\n  };\n\n  public preferences: { [caption: string]: IResultFilterPreference };\n  private preferencePanelLocalStorage: LocalStorageUtils<{ [caption: string]: IResultFilterPreference }>;\n  private preferencePanel: HTMLElement;\n  private preferenceContainer: HTMLElement;\n  private preferencePanelCheckboxInput: PreferencesPanelCheckboxInput;\n  private advancedFilters: HTMLElement;\n  private advancedFiltersBuilder: HTMLElement;\n  private advancedFiltersTextInputCaption: PreferencesPanelTextAreaInput;\n  private advancedFiltersTextInputExpression: PreferencesPanelTextAreaInput;\n  private advancedFiltersTabSelect: PreferencePanelMultiSelectInput;\n  private advancedFilterFormValidate: HTMLFormElement;\n\n  constructor(public element: HTMLElement, public options: IResultsFiltersPreferencesOptions, public bindings: IComponentBindings) {\n    super(element, ResultsFiltersPreferences.ID, bindings);\n\n    this.options = ComponentOptions.initComponentOptions(element, ResultsFiltersPreferences, options);\n\n    this.preferencePanel = $$(this.element).closest(Component.computeCssClassName(PreferencesPanel));\n    this.preferencePanelLocalStorage = new LocalStorageUtils<{ [caption: string]: IResultFilterPreference }>(ResultsFiltersPreferences.ID);\n    this.mergeLocalPreferencesWithStaticPreferences();\n\n    this.bindPreferencePanelEvent();\n    this.bindBreadcrumbEvent();\n    this.bindQueryEvent();\n\n    // We need to wait after all components are initialized before building the dom, because this component interacts with Tab\n    // And we don't know if Tab(s) are initialized before or after this component.\n    this.bind.oneRootElement(InitializationEvents.afterComponentsInitialization, () => this.createDom());\n\n    this.bind.oneQueryState(MODEL_EVENTS.CHANGE_ONE, QUERY_STATE_ATTRIBUTES.T, () => this.fromPreferencesToCheckboxInput());\n  }\n\n  public createDom() {\n    this.buildTitle();\n    this.buildCheckboxesInput();\n    if (this.options.showAdvancedFilters) {\n      this.buildAdvancedFilters();\n    }\n  }\n\n  public save() {\n    this.fromCheckboxInputToPreferences();\n    var toSave = _.omit(this.preferences, 'tab');\n    this.logger.info('Saving preferences', toSave);\n    this.preferencePanelLocalStorage.save(toSave);\n  }\n\n  public exitWithoutSave() {\n    this.fromPreferencesToCheckboxInput();\n  }\n\n  private bindPreferencePanelEvent() {\n    this.bind.on(this.preferencePanel, PreferencesPanelEvents.savePreferences, () => this.save())\n    this.bind.on(this.preferencePanel, PreferencesPanelEvents.exitPreferencesWithoutSave, () => this.exitWithoutSave())\n  }\n\n  private bindBreadcrumbEvent() {\n    if (this.options.includeInBreadcrumb) {\n      this.bind.onRootElement(BreadcrumbEvents.populateBreadcrumb, (args: IPopulateBreadcrumbEventArgs) => this.handlePopulateBreadcrumb(args));\n      this.bind.onRootElement(BreadcrumbEvents.clearBreadcrumb, () => this.handleClearBreadcrumb());\n    }\n  }\n\n  private bindQueryEvent() {\n    this.bind.onRootElement(QueryEvents.buildingQuery, (args: IBuildingQueryEventArgs) => this.handleBuildingQuery(args));\n  }\n\n  private handleBuildingQuery(args: IBuildingQueryEventArgs) {\n    _.each(this.getActiveFilters(), (filter) => {\n      args.queryBuilder.advancedExpression.add(filter.expression)\n    })\n  }\n\n  private handlePopulateBreadcrumb(args: IPopulateBreadcrumbEventArgs) {\n    var actives = this.getActiveFilters();\n    if (Utils.isNonEmptyArray(actives)) {\n      var container = $$('div', { className: 'coveo-results-filter-preferences-breadcrumb' });\n      var title = $$('span', { className: 'coveo-title' });\n      title.text(l('FiltersInYourPreferences') + ':');\n      container.el.appendChild(title.el);\n\n      var valuesContainer = $$('span', { className: 'coveo-values' });\n      container.el.appendChild(valuesContainer.el);\n\n      for (var i = 0; i < actives.length; i++) {\n        if (i != 0) {\n          var separator = $$('span', {\n            className: 'coveo-separator'\n          });\n          separator.text(', ');\n          valuesContainer.el.appendChild(separator.el);\n        }\n        valuesContainer.el.appendChild(this.buildBreadcrumb(actives[i]));\n      }\n      args.breadcrumbs.push({ element: container.el });\n    }\n  }\n\n  private handleClearBreadcrumb() {\n    _.each(this.getActiveFilters(), (filter) => {\n      filter.selected = false;\n    })\n    this.fromPreferencesToCheckboxInput();\n  }\n\n  private buildTitle() {\n    this.element.appendChild($$('div', {\n      className: 'coveo-title'\n    }, l('ResultsFilteringExpression')).el);\n  }\n\n  private buildAdvancedFilters() {\n    this.advancedFilters = $$('div', { className: 'coveo-advanced-filters' }, l('Create')).el;\n    this.buildAdvancedFilterInput();\n    this.buildAdvancedFilterFormValidate();\n    this.advancedFiltersBuilder = $$('div', { className: 'coveo-advanced-filters-builder' }).el;\n    this.advancedFiltersBuilder.appendChild(this.advancedFilterFormValidate);\n    $$(this.advancedFilters).on('click', () => this.openAdvancedFilterSectionOrSaveFilters());\n    var onlineHelp = $$('a', {\n      href: 'http://www.coveo.com/go?dest=adminhelp70&lcid=9&context=10006',\n      className: 'coveo-online-help'\n    }, '?');\n\n    var title = $$(this.element).find('.coveo-title');\n\n    onlineHelp.insertAfter(title);\n    $$(this.advancedFilters).insertAfter(title);\n    this.element.appendChild(this.advancedFiltersBuilder);\n  }\n\n  private buildAdvancedFilterInput() {\n    this.advancedFiltersTextInputCaption = new PreferencesPanelTextAreaInput(<IPreferencePanelInputToBuild[]>[{\n      label: l('Caption'),\n      placeholder: l('EnterExpressionName'),\n      otherAttribute: 'required'\n    }], ResultsFiltersPreferences.ID + '-advanced-caption');\n    this.advancedFiltersTextInputExpression = new PreferencesPanelTextAreaInput(<IPreferencePanelInputToBuild[]>[{\n      label: l('Expression'),\n      placeholder: l('EnterExpressionToFilterWith'),\n      otherAttribute: 'required'\n    }], ResultsFiltersPreferences.ID + '-advanced-expression');\n    this.advancedFiltersTabSelect = new PreferencePanelMultiSelectInput({\n      label: l('Tab'),\n      placeholder: l('SelectTab')\n    }, this.getAllTabs(), ResultsFiltersPreferences.ID + '-multiselect');\n  }\n\n  private buildAdvancedFilterFormValidate() {\n    this.advancedFilterFormValidate = <HTMLFormElement>$$('form').el;\n\n    var formSubmit = $$('input', {\n      type: 'submit'\n    })\n\n    var saveFormButton = $$('span', {\n      className: 'coveo-save'\n    });\n\n    var closeFormButton = $$('span', {\n      className: 'coveo-close'\n    });\n\n    var saveAndCloseContainer = $$('div', {\n      className: 'coveo-choice-container coveo-close-and-save'\n    });\n\n    saveAndCloseContainer.el.appendChild(saveFormButton.el);\n    saveAndCloseContainer.el.appendChild(closeFormButton.el);\n\n    var inputCaption = this.advancedFiltersTextInputCaption.build();\n    $$(inputCaption).addClass('coveo-caption');\n\n    var filtersTabSelect = this.advancedFiltersTabSelect.build();\n    $$(filtersTabSelect).addClass('coveo-tab');\n\n    var filtersExpression = this.advancedFiltersTextInputExpression.build();\n    $$(filtersExpression).addClass('coveo-expression');\n\n    _.each([inputCaption, filtersTabSelect, filtersExpression, saveAndCloseContainer.el, formSubmit.el], (el: HTMLElement) => {\n      this.advancedFilterFormValidate.appendChild(el);\n    })\n\n    saveFormButton.on('click', () => {\n      formSubmit.el.click();\n    });\n    closeFormButton.on('click', () => $$(this.advancedFiltersBuilder).toggleClass('coveo-active'));\n\n    $$($$(this.advancedFilterFormValidate).find('textarea')).on('keyup', (e: KeyboardEvent) => {\n      if (e.keyCode == KEYBOARD.ENTER) {\n        formSubmit.trigger('click');\n      }\n    })\n\n    $$(this.advancedFilterFormValidate).on('submit', (e: Event) => this.validateAndSaveAdvancedFilter(e));\n  }\n\n  private getAllTabs() {\n    var tabRef = Component.getComponentRef('Tab');\n    if (tabRef) {\n      var tabsElement = $$(this.root).findAll('.' + Component.computeCssClassName(tabRef));\n      return _.map(tabsElement, (tabElement: HTMLElement) => {\n        let tab = <Tab>Component.get(tabElement);\n        return tab.options.id;\n      })\n    }\n  }\n\n  private getPreferencesBoxInputToBuild(): IPreferencePanelInputToBuild[] {\n    return _.map(this.preferences, (filter: IResultFilterPreference) => {\n      return {\n        label: filter.caption,\n        tab: filter.tab,\n        expression: filter.expression\n      }\n    })\n  }\n\n  private buildCheckboxesInput() {\n    if (this.preferenceContainer != undefined) {\n      this.preferenceContainer.remove();\n    }\n    var toBuild = this.getPreferencesBoxInputToBuild();\n    if (Utils.isNonEmptyArray(toBuild)) {\n      this.preferencePanelCheckboxInput = new PreferencesPanelCheckboxInput(toBuild, ResultsFiltersPreferences.ID);\n      this.preferenceContainer = $$('div', {\n        className: 'coveo-choices-container'\n      }).el;\n      this.preferenceContainer.appendChild(this.preferencePanelCheckboxInput.build());\n\n      _.each($$(this.preferenceContainer).findAll('.coveo-choice-container'), (choiceContainer: HTMLElement) => {\n        choiceContainer.appendChild($$('div', { className: 'coveo-section coveo-section-edit-delete' }).el);\n      })\n\n      $$(this.element).append(this.preferenceContainer);\n      this.buildEditAdvancedFilter();\n      this.buildDeleteAdvancedFilter();\n      this.fromPreferencesToCheckboxInput();\n      _.each($$(this.preferenceContainer).findAll('input'), (input: HTMLElement) => {\n        $$(input).on('change', (e: Event) => {\n          this.save();\n          var target: HTMLInputElement = <HTMLInputElement>e.target;\n          var filter = this.preferences[target.value];\n          this.fromFilterToAnalyticsEvent(filter, filter.selected ? 'selected' : 'unselected');\n          this.queryController.executeQuery();\n        })\n      })\n    }\n  }\n\n  private buildDeleteAdvancedFilter() {\n    _.each(this.preferences, (filter) => {\n      if (filter.custom) {\n        var deleteElement = $$('span', {\n          className: 'coveo-delete'\n        }, $$('span', {\n          className: 'coveo-icon'\n        }).el).el;\n        var filterElement = this.getFilterElementByCaption(filter.caption);\n        var insertInto = $$($$(filterElement).closest('coveo-section').parentElement).find('.coveo-section-edit-delete');\n        insertInto.appendChild(deleteElement);\n        $$(deleteElement).on('click', () => this.confirmDelete(filter, filterElement));\n      }\n    })\n  }\n\n  private buildEditAdvancedFilter() {\n    _.each(this.preferences, (filter) => {\n      if (filter.custom) {\n        var editElement = $$('span', {\n          className: 'coveo-edit'\n        }, $$('span', { className: 'coveo-icon' }));\n        var filterElement = this.getFilterElementByCaption(filter.caption);\n        var insertInto = $$($$(filterElement).closest('coveo-section').parentElement).find('.coveo-section-edit-delete');\n        insertInto.appendChild(editElement.el);\n        editElement.on('click', () => this.editElement(filter, filterElement));\n      }\n    })\n  }\n\n  private buildBreadcrumb(filter: IResultFilterPreference): HTMLElement {\n    var elem = $$('span', { className: 'coveo-value' });\n\n    var caption = $$('span', { className: 'coveo-caption' })\n    caption.text(filter.caption);\n    elem.el.appendChild(caption.el);\n\n    var clear = $$('span', { className: 'coveo-clear' });\n    elem.el.appendChild(clear.el);\n\n    elem.on('click', () => {\n      filter.selected = false;\n      this.fromFilterToAnalyticsEvent(filter, 'cleared from breadcrumb');\n      this.fromPreferencesToCheckboxInput();\n      this.queryController.executeQuery();\n    })\n\n    return elem.el;\n  }\n\n  private confirmDelete(filter: IResultFilterPreference, filterElement: HTMLElement) {\n    if (confirm(l('AreYouSureDeleteFilter', filter.caption, filter.expression))) {\n      var isSelected = filter.selected\n      this.deleteFilterPreference(filter, filterElement);\n      if (isSelected) {\n        this.fromFilterToAnalyticsEvent(filter, 'deleted');\n        this.queryController.executeQuery();\n      }\n    }\n  }\n\n  private editElement(filter: IResultFilterPreference, filterElement: HTMLElement) {\n    var oldCaption = this.preferences[filter.caption].caption;\n    var oldTab = this.preferences[filter.caption].tab;\n    var oldExpression = this.preferences[filter.caption].expression;\n    this.deleteFilterPreference(filter, filterElement);\n    this.openAdvancedFilterSectionOrSaveFilters();\n    this.populateEditSection({ tab: oldTab, caption: oldCaption, expression: oldExpression });\n  }\n\n  private populateEditSection(toPopulate = { tab: [''], caption: '', expression: '' }) {\n    this.advancedFiltersTextInputCaption.setValue(l('Caption'), toPopulate.caption);\n    this.advancedFiltersTextInputExpression.setValue(l('Expression'), toPopulate.expression);\n    this.advancedFiltersTabSelect.setValues(toPopulate.tab);\n  }\n\n  private deleteFilterPreference(filter: IResultFilterPreference, filterElement: HTMLElement) {\n    this.preferencePanelLocalStorage.remove(filter.caption);\n    delete this.preferences[filter.caption];\n    $$($$(filterElement).closest('.coveo-choice-container')).detach();\n  }\n\n  private openAdvancedFilterSectionOrSaveFilters() {\n    if ($$(this.advancedFiltersBuilder).hasClass('coveo-active')) {\n      $$($$(this.advancedFilterFormValidate).find('input[type=submit]')).trigger('click');\n    } else {\n      this.populateEditSection();\n      $$(this.advancedFiltersBuilder).toggleClass('coveo-active');\n    }\n  }\n\n  private validateAndSaveAdvancedFilter(e: Event) {\n    e.preventDefault();\n    $$(this.advancedFiltersBuilder).removeClass('coveo-active');\n    var caption = this.advancedFiltersTextInputCaption.getValues()[0];\n    var expression = this.advancedFiltersTextInputExpression.getValues()[0];\n    var tabs = this.advancedFiltersTabSelect.getValues()\n    this.preferences[caption] = {\n      caption: caption,\n      custom: true,\n      expression: expression,\n      tab: tabs,\n      selected: true\n    }\n    this.buildCheckboxesInput();\n    this.save();\n    this.queryStateModel.set(QueryStateModel.attributesEnum.t, this.getActiveTab());\n    this.advancedFiltersTextInputCaption.reset();\n    this.advancedFiltersTextInputExpression.reset();\n    this.advancedFiltersTabSelect.reset();\n    this.element.appendChild(this.advancedFiltersBuilder);\n    this.fromFilterToAnalyticsEvent(this.preferences[caption], 'saved');\n    this.queryController.executeQuery();\n  }\n\n  private fromPreferencesToCheckboxInput() {\n    _.each(this.getActiveFilters(), (filter: IResultFilterPreference) => {\n      this.preferencePanelCheckboxInput.select(filter.caption);\n    })\n    _.each(this.getInactiveFilters(), (filter: IResultFilterPreference) => {\n      this.preferencePanelCheckboxInput.unselect(filter.caption);\n    })\n    _.each(this.getDormantFilters(), (filter: IResultFilterPreference) => {\n      this.preferencePanelCheckboxInput.select(filter.caption);\n    })\n  }\n\n  private fromCheckboxInputToPreferences() {\n    var selecteds = this.preferencePanelCheckboxInput.getSelecteds();\n    _.each(this.preferences, (filter: IResultFilterPreference) => {\n      if (_.contains(selecteds, filter.caption)) {\n        filter.selected = true;\n      } else {\n        filter.selected = false;\n      }\n    })\n  }\n\n  private getDormantFilters() {\n    var activeTab = this.getActiveTab();\n    return _.filter(this.preferences, (filter: IResultFilterPreference) => {\n      return filter.selected && !this.filterIsInActiveTab(filter, activeTab);\n    })\n  }\n\n  private getActiveFilters() {\n    var activeTab = this.getActiveTab();\n    return _.filter(this.preferences, (filter: IResultFilterPreference) => {\n      return filter.selected && this.filterIsInActiveTab(filter, activeTab);\n    })\n  }\n\n  private getInactiveFilters() {\n    var activeTab = this.getActiveTab();\n    return _.filter(this.preferences, (filter: IResultFilterPreference) => {\n      return !filter.selected || !this.filterIsInActiveTab(filter, activeTab);\n    })\n  }\n\n  private getActiveTab() {\n    return this.queryStateModel.get(QueryStateModel.attributesEnum.t);\n  }\n\n  private filterIsInActiveTab(filter: IResultFilterPreference, tab: string) {\n    filter.tab = _.compact(filter.tab);\n    return _.contains(filter.tab, tab) || Utils.isEmptyArray(filter.tab);\n  }\n\n  private getFilterElementByCaption(caption: string): HTMLElement {\n    return $$(this.preferenceContainer).find('input[value=\\'' + caption + '\\']').parentElement;\n  }\n\n  private fromResultsFilterOptionToResultsPreferenceInterface() {\n    var ret: { [key: string]: IResultFilterPreference } = {};\n    _.each(<any>this.options.filters, (filter: { expression: string; tab?: string[]; selected?: boolean }, caption: string) => {\n      ret[caption] = {\n        expression: filter.expression,\n        tab: filter.tab,\n        selected: filter.selected ? filter.selected : false,\n        custom: false,\n        caption: caption\n      }\n    })\n    return ret;\n  }\n\n  private mergeLocalPreferencesWithStaticPreferences() {\n    var staticPreferences = this.fromResultsFilterOptionToResultsPreferenceInterface();\n    var localPreferences = this.preferencePanelLocalStorage.load();\n    var localPreferencesWithoutRemoved = _.filter<IResultFilterPreference>(localPreferences, (preference) => {\n      var isCustom = preference.custom;\n      var existsInStatic = _.find<IResultFilterPreference>(staticPreferences, (staticPreference) => {\n        return staticPreference.caption == preference.caption\n      })\n      return isCustom || existsInStatic != undefined;\n    })\n\n    var localToMerge = {};\n    _.each(localPreferencesWithoutRemoved, (filter: IResultFilterPreference) => {\n      localToMerge[filter.caption] = {\n        expression: filter.expression,\n        tab: filter.tab,\n        selected: filter.selected,\n        custom: filter.custom,\n        caption: filter.caption\n      }\n    });\n    this.preferences = <{ [caption: string]: IResultFilterPreference; }>Utils.extendDeep(staticPreferences, localToMerge);\n  }\n\n  private fromFilterToAnalyticsEvent(filter: IResultFilterPreference, type: string) {\n    this.usageAnalytics.logSearchEvent<IAnalyticsCustomFiltersChangeMeta>(analyticsActionCauseList.customfiltersChange, {\n      customFilterName: filter.caption,\n      customFilterExpression: filter.expression,\n      customFilterType: type\n    });\n  }\n}\n\nInitialization.registerAutoCreateComponent(ResultsFiltersPreferences);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/ResultsFiltersPreferences/ResultsFiltersPreferences.ts\n **/","l":{"1":1,"2":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"16":1,"17":1,"18":1,"19":1,"44":1,"45":1,"51":1,"109":1,"110":0,"112":0,"114":0,"115":0,"116":0,"118":0,"119":0,"120":0,"124":0,"126":0,"129":1,"130":0,"131":0,"132":0,"133":0,"137":1,"138":0,"139":0,"140":0,"141":0,"144":1,"145":0,"148":1,"149":0,"150":0,"153":1,"154":0,"155":0,"156":0,"160":1,"161":0,"164":1,"165":0,"166":0,"170":1,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"178":0,"179":0,"181":0,"182":0,"183":0,"186":0,"187":0,"189":0,"191":0,"195":1,"196":0,"197":0,"199":0,"202":1,"203":0,"208":1,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"220":0,"222":0,"223":0,"224":0,"227":1,"228":0,"233":0,"238":0,"244":1,"245":0,"247":0,"251":0,"255":0,"259":0,"263":0,"264":0,"266":0,"267":0,"269":0,"270":0,"272":0,"273":0,"275":0,"276":0,"279":0,"280":0,"282":0,"284":0,"285":0,"286":0,"290":0,"293":1,"294":0,"295":0,"296":0,"297":0,"298":0,"299":0,"304":1,"305":0,"306":0,"314":1,"315":0,"316":0,"318":0,"319":0,"320":0,"321":0,"324":0,"326":0,"327":0,"330":0,"331":0,"332":0,"333":0,"334":0,"335":0,"336":0,"337":0,"338":0,"339":0,"340":0,"346":1,"347":0,"348":0,"349":0,"354":0,"355":0,"356":0,"357":0,"362":1,"363":0,"364":0,"365":0,"368":0,"369":0,"370":0,"371":0,"376":1,"377":0,"379":0,"380":0,"381":0,"383":0,"384":0,"386":0,"387":0,"388":0,"389":0,"390":0,"393":0,"396":1,"397":0,"398":0,"399":0,"400":0,"401":0,"402":0,"407":1,"408":0,"409":0,"410":0,"411":0,"412":0,"413":0,"416":1,"417":0,"418":0,"419":0,"422":1,"423":0,"424":0,"425":0,"428":1,"429":0,"430":0,"432":0,"433":0,"437":1,"438":0,"439":0,"440":0,"441":0,"442":0,"443":0,"450":0,"451":0,"452":0,"453":0,"454":0,"455":0,"456":0,"457":0,"458":0,"461":1,"462":0,"463":0,"465":0,"466":0,"468":0,"469":0,"473":1,"474":0,"475":0,"476":0,"477":0,"479":0,"484":1,"485":0,"486":0,"487":0,"491":1,"492":0,"493":0,"494":0,"498":1,"499":0,"500":0,"501":0,"505":1,"506":0,"509":1,"510":0,"511":0,"514":1,"515":0,"518":1,"519":0,"520":0,"521":0,"529":0,"532":1,"533":0,"534":0,"535":0,"536":0,"537":0,"538":0,"540":0,"543":0,"544":0,"545":0,"553":0,"556":1,"557":0,"563":1,"565":1}},"src/ui/PreferencesPanel/PreferencesPanelItem.ts":{"path":"src/ui/PreferencesPanel/PreferencesPanelItem.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":41}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"4":{"start":{"line":13,"column":0},"end":{"line":76,"column":1}},"5":{"start":{"line":24,"column":2},"end":{"line":25,"column":3}},"6":{"start":{"line":24,"column":22},"end":{"line":24,"column":69}},"7":{"start":{"line":24,"column":79},"end":{"line":24,"column":98}},"8":{"start":{"line":24,"column":108},"end":{"line":24,"column":120}},"9":{"start":{"line":14,"column":9},"end":{"line":14,"column":55}},"10":{"start":{"line":16,"column":10},"end":{"line":22,"column":13}},"11":{"start":{"line":27,"column":9},"end":{"line":42,"column":3}},"12":{"start":{"line":27,"column":2},"end":{"line":42,"column":3}},"13":{"start":{"line":28,"column":4},"end":{"line":41,"column":20}},"14":{"start":{"line":29,"column":6},"end":{"line":36,"column":13}},"15":{"start":{"line":37,"column":6},"end":{"line":37,"column":40}},"16":{"start":{"line":39,"column":6},"end":{"line":39,"column":30}},"17":{"start":{"line":40,"column":6},"end":{"line":40,"column":18}},"18":{"start":{"line":44,"column":9},"end":{"line":49,"column":3}},"19":{"start":{"line":45,"column":4},"end":{"line":45,"column":41}},"20":{"start":{"line":46,"column":4},"end":{"line":46,"column":74}},"21":{"start":{"line":47,"column":4},"end":{"line":47,"column":25}},"22":{"start":{"line":48,"column":4},"end":{"line":48,"column":87}},"23":{"start":{"line":51,"column":9},"end":{"line":56,"column":3}},"24":{"start":{"line":52,"column":4},"end":{"line":52,"column":43}},"25":{"start":{"line":53,"column":4},"end":{"line":53,"column":76}},"26":{"start":{"line":54,"column":4},"end":{"line":54,"column":26}},"27":{"start":{"line":55,"column":4},"end":{"line":55,"column":92}},"28":{"start":{"line":58,"column":9},"end":{"line":64,"column":3}},"29":{"start":{"line":59,"column":4},"end":{"line":62,"column":6}},"30":{"start":{"line":60,"column":6},"end":{"line":60,"column":57}},"31":{"start":{"line":61,"column":6},"end":{"line":61,"column":27}},"32":{"start":{"line":63,"column":4},"end":{"line":63,"column":63}},"33":{"start":{"line":66,"column":9},"end":{"line":75,"column":3}},"34":{"start":{"line":67,"column":4},"end":{"line":70,"column":6}},"35":{"start":{"line":68,"column":6},"end":{"line":68,"column":57}},"36":{"start":{"line":69,"column":6},"end":{"line":69,"column":27}},"37":{"start":{"line":72,"column":4},"end":{"line":74,"column":6}},"38":{"start":{"line":73,"column":6},"end":{"line":73,"column":65}},"39":{"start":{"line":76,"column":0},"end":{"line":76,"column":1}},"40":{"start":{"line":13,"column":13},"end":{"line":76,"column":1}},"41":{"start":{"line":78,"column":0},"end":{"line":82,"column":1}},"42":{"start":{"line":78,"column":48},"end":{"line":78,"column":72}},"43":{"start":{"line":79,"column":2},"end":{"line":81,"column":3}},"44":{"start":{"line":80,"column":4},"end":{"line":80,"column":46}},"45":{"start":{"line":79,"column":22},"end":{"line":79,"column":73}},"46":{"start":{"line":79,"column":83},"end":{"line":79,"column":95}},"47":{"start":{"line":82,"column":0},"end":{"line":82,"column":1}},"48":{"start":{"line":78,"column":13},"end":{"line":82,"column":1}},"49":{"start":{"line":84,"column":0},"end":{"line":106,"column":1}},"50":{"start":{"line":84,"column":51},"end":{"line":84,"column":75}},"51":{"start":{"line":85,"column":2},"end":{"line":87,"column":3}},"52":{"start":{"line":86,"column":4},"end":{"line":86,"column":52}},"53":{"start":{"line":85,"column":22},"end":{"line":85,"column":76}},"54":{"start":{"line":85,"column":85},"end":{"line":85,"column":97}},"55":{"start":{"line":89,"column":9},"end":{"line":105,"column":3}},"56":{"start":{"line":90,"column":4},"end":{"line":90,"column":30}},"57":{"start":{"line":91,"column":4},"end":{"line":91,"column":55}},"58":{"start":{"line":92,"column":4},"end":{"line":103,"column":6}},"59":{"start":{"line":93,"column":6},"end":{"line":93,"column":73}},"60":{"start":{"line":94,"column":6},"end":{"line":97,"column":8}},"61":{"start":{"line":95,"column":8},"end":{"line":95,"column":36}},"62":{"start":{"line":96,"column":8},"end":{"line":96,"column":56}},"63":{"start":{"line":99,"column":6},"end":{"line":102,"column":8}},"64":{"start":{"line":100,"column":8},"end":{"line":100,"column":39}},"65":{"start":{"line":101,"column":8},"end":{"line":101,"column":36}},"66":{"start":{"line":104,"column":4},"end":{"line":104,"column":17}},"67":{"start":{"line":106,"column":0},"end":{"line":106,"column":1}},"68":{"start":{"line":84,"column":13},"end":{"line":106,"column":1}},"69":{"start":{"line":108,"column":0},"end":{"line":161,"column":1}},"70":{"start":{"line":112,"column":2},"end":{"line":113,"column":3}},"71":{"start":{"line":112,"column":21},"end":{"line":112,"column":71}},"72":{"start":{"line":112,"column":80},"end":{"line":112,"column":92}},"73":{"start":{"line":109,"column":9},"end":{"line":109,"column":55}},"74":{"start":{"line":110,"column":9},"end":{"line":110,"column":253}},"75":{"start":{"line":115,"column":9},"end":{"line":130,"column":3}},"76":{"start":{"line":115,"column":2},"end":{"line":130,"column":3}},"77":{"start":{"line":116,"column":4},"end":{"line":129,"column":21}},"78":{"start":{"line":117,"column":6},"end":{"line":123,"column":13}},"79":{"start":{"line":125,"column":6},"end":{"line":125,"column":40}},"80":{"start":{"line":127,"column":6},"end":{"line":127,"column":30}},"81":{"start":{"line":128,"column":6},"end":{"line":128,"column":18}},"82":{"start":{"line":132,"column":9},"end":{"line":136,"column":3}},"83":{"start":{"line":132,"column":2},"end":{"line":136,"column":3}},"84":{"start":{"line":133,"column":4},"end":{"line":135,"column":6}},"85":{"start":{"line":134,"column":6},"end":{"line":134,"column":58}},"86":{"start":{"line":138,"column":9},"end":{"line":141,"column":3}},"87":{"start":{"line":139,"column":4},"end":{"line":139,"column":38}},"88":{"start":{"line":140,"column":23},"end":{"line":140,"column":59}},"89":{"start":{"line":143,"column":9},"end":{"line":151,"column":3}},"90":{"start":{"line":144,"column":4},"end":{"line":150,"column":6}},"91":{"start":{"line":145,"column":6},"end":{"line":145,"column":109}},"92":{"start":{"line":146,"column":6},"end":{"line":148,"column":7}},"93":{"start":{"line":147,"column":8},"end":{"line":147,"column":73}},"94":{"start":{"line":149,"column":6},"end":{"line":149,"column":30}},"95":{"start":{"line":153,"column":10},"end":{"line":160,"column":3}},"96":{"start":{"line":154,"column":4},"end":{"line":154,"column":38}},"97":{"start":{"line":155,"column":4},"end":{"line":155,"column":53}},"98":{"start":{"line":156,"column":4},"end":{"line":158,"column":5}},"99":{"start":{"line":157,"column":6},"end":{"line":157,"column":54}},"100":{"start":{"line":159,"column":4},"end":{"line":159,"column":17}},"101":{"start":{"line":161,"column":0},"end":{"line":161,"column":1}},"102":{"start":{"line":108,"column":13},"end":{"line":161,"column":1}},"103":{"start":{"line":163,"column":0},"end":{"line":180,"column":1}},"104":{"start":{"line":163,"column":51},"end":{"line":163,"column":76}},"105":{"start":{"line":164,"column":9},"end":{"line":164,"column":238}},"106":{"start":{"line":166,"column":9},"end":{"line":179,"column":3}},"107":{"start":{"line":166,"column":2},"end":{"line":179,"column":3}},"108":{"start":{"line":167,"column":4},"end":{"line":178,"column":20}},"109":{"start":{"line":168,"column":6},"end":{"line":173,"column":13}},"110":{"start":{"line":174,"column":6},"end":{"line":174,"column":40}},"111":{"start":{"line":176,"column":6},"end":{"line":176,"column":30}},"112":{"start":{"line":177,"column":6},"end":{"line":177,"column":18}},"113":{"start":{"line":180,"column":0},"end":{"line":180,"column":1}},"114":{"start":{"line":163,"column":13},"end":{"line":180,"column":1}},"115":{"start":{"line":182,"column":0},"end":{"line":229,"column":1}},"116":{"start":{"line":186,"column":2},"end":{"line":188,"column":3}},"117":{"start":{"line":186,"column":22},"end":{"line":186,"column":59}},"118":{"start":{"line":186,"column":68},"end":{"line":186,"column":85}},"119":{"start":{"line":186,"column":94},"end":{"line":186,"column":106}},"120":{"start":{"line":187,"column":4},"end":{"line":187,"column":117}},"121":{"start":{"line":190,"column":9},"end":{"line":216,"column":3}},"122":{"start":{"line":190,"column":2},"end":{"line":216,"column":3}},"123":{"start":{"line":191,"column":4},"end":{"line":191,"column":53}},"124":{"start":{"line":192,"column":4},"end":{"line":192,"column":53}},"125":{"start":{"line":193,"column":4},"end":{"line":196,"column":7}},"126":{"start":{"line":194,"column":6},"end":{"line":194,"column":53}},"127":{"start":{"line":195,"column":6},"end":{"line":195,"column":37}},"128":{"start":{"line":197,"column":4},"end":{"line":212,"column":6}},"129":{"start":{"line":198,"column":6},"end":{"line":205,"column":17}},"130":{"start":{"line":200,"column":10},"end":{"line":200,"column":30}},"131":{"start":{"line":203,"column":10},"end":{"line":203,"column":27}},"132":{"start":{"line":207,"column":6},"end":{"line":211,"column":7}},"133":{"start":{"line":208,"column":8},"end":{"line":208,"column":70}},"134":{"start":{"line":210,"column":8},"end":{"line":210,"column":21}},"135":{"start":{"line":213,"column":4},"end":{"line":213,"column":35}},"136":{"start":{"line":214,"column":4},"end":{"line":214,"column":32}},"137":{"start":{"line":215,"column":4},"end":{"line":215,"column":14}},"138":{"start":{"line":218,"column":9},"end":{"line":220,"column":3}},"139":{"start":{"line":219,"column":4},"end":{"line":219,"column":52}},"140":{"start":{"line":222,"column":9},"end":{"line":224,"column":3}},"141":{"start":{"line":223,"column":4},"end":{"line":223,"column":66}},"142":{"start":{"line":226,"column":9},"end":{"line":228,"column":3}},"143":{"start":{"line":227,"column":4},"end":{"line":227,"column":52}},"144":{"start":{"line":229,"column":0},"end":{"line":229,"column":1}},"145":{"start":{"line":182,"column":13},"end":{"line":229,"column":1}}},"fnMap":{"1":{"name":"(anonymous_5825)","line":13,"loc":{"start":{"line":13,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"PreferencesPanelBoxInput","line":24,"loc":{"start":{"line":24,"column":2},"end":{"line":24,"column":120}}},"3":{"name":"(anonymous_5827)","line":27,"loc":{"start":{"line":27,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_5828)","line":28,"loc":{"start":{"line":28,"column":48},"end":{"line":28,"column":56}}},"5":{"name":"(anonymous_5829)","line":38,"loc":{"start":{"line":38,"column":8},"end":{"line":38,"column":46}}},"6":{"name":"(anonymous_5830)","line":44,"loc":{"start":{"line":44,"column":2},"end":{"line":44,"column":32}}},"7":{"name":"(anonymous_5831)","line":51,"loc":{"start":{"line":51,"column":2},"end":{"line":51,"column":36}}},"8":{"name":"(anonymous_5832)","line":58,"loc":{"start":{"line":58,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_5833)","line":59,"loc":{"start":{"line":59,"column":38},"end":{"line":59,"column":54}}},"10":{"name":"(anonymous_5834)","line":66,"loc":{"start":{"line":66,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_5835)","line":67,"loc":{"start":{"line":67,"column":41},"end":{"line":67,"column":57}}},"12":{"name":"(anonymous_5836)","line":72,"loc":{"start":{"line":72,"column":27},"end":{"line":72,"column":35}}},"13":{"name":"(anonymous_5837)","line":78,"loc":{"start":{"line":78,"column":0},"end":{"line":null,"column":-1}}},"14":{"name":"PreferencesPanelRadioInput","line":79,"loc":{"start":{"line":79,"column":2},"end":{"line":79,"column":95}}},"15":{"name":"(anonymous_5839)","line":84,"loc":{"start":{"line":84,"column":0},"end":{"line":null,"column":-1}}},"16":{"name":"PreferencesPanelCheckboxInput","line":85,"loc":{"start":{"line":85,"column":2},"end":{"line":85,"column":97}}},"17":{"name":"(anonymous_5841)","line":89,"loc":{"start":{"line":89,"column":2},"end":{"line":null,"column":-1}}},"18":{"name":"(anonymous_5842)","line":92,"loc":{"start":{"line":92,"column":18},"end":{"line":92,"column":36}}},"19":{"name":"(anonymous_5843)","line":94,"loc":{"start":{"line":94,"column":29},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_5844)","line":99,"loc":{"start":{"line":99,"column":27},"end":{"line":null,"column":-1}}},"21":{"name":"(anonymous_5845)","line":108,"loc":{"start":{"line":108,"column":0},"end":{"line":null,"column":-1}}},"22":{"name":"PreferencesPanelTextInput","line":112,"loc":{"start":{"line":112,"column":2},"end":{"line":112,"column":92}}},"23":{"name":"(anonymous_5847)","line":115,"loc":{"start":{"line":115,"column":2},"end":{"line":null,"column":-1}}},"24":{"name":"(anonymous_5848)","line":116,"loc":{"start":{"line":116,"column":51},"end":{"line":116,"column":59}}},"25":{"name":"(anonymous_5849)","line":126,"loc":{"start":{"line":126,"column":8},"end":{"line":126,"column":46}}},"26":{"name":"(anonymous_5850)","line":132,"loc":{"start":{"line":132,"column":2},"end":{"line":null,"column":-1}}},"27":{"name":"(anonymous_5851)","line":133,"loc":{"start":{"line":133,"column":30},"end":{"line":133,"column":41}}},"28":{"name":"(anonymous_5852)","line":138,"loc":{"start":{"line":138,"column":2},"end":{"line":138,"column":46}}},"29":{"name":"(anonymous_5853)","line":143,"loc":{"start":{"line":143,"column":2},"end":{"line":null,"column":-1}}},"30":{"name":"(anonymous_5854)","line":144,"loc":{"start":{"line":144,"column":24},"end":{"line":144,"column":43}}},"31":{"name":"(anonymous_5855)","line":153,"loc":{"start":{"line":153,"column":2},"end":{"line":153,"column":32}}},"32":{"name":"(anonymous_5856)","line":163,"loc":{"start":{"line":163,"column":0},"end":{"line":null,"column":-1}}},"33":{"name":"(anonymous_5858)","line":166,"loc":{"start":{"line":166,"column":2},"end":{"line":null,"column":-1}}},"34":{"name":"(anonymous_5859)","line":167,"loc":{"start":{"line":167,"column":51},"end":{"line":167,"column":59}}},"35":{"name":"(anonymous_5860)","line":175,"loc":{"start":{"line":175,"column":8},"end":{"line":175,"column":46}}},"36":{"name":"(anonymous_5861)","line":182,"loc":{"start":{"line":182,"column":0},"end":{"line":null,"column":-1}}},"37":{"name":"PreferencePanelMultiSelectInput","line":186,"loc":{"start":{"line":186,"column":2},"end":{"line":186,"column":106}}},"38":{"name":"(anonymous_5863)","line":190,"loc":{"start":{"line":190,"column":2},"end":{"line":null,"column":-1}}},"39":{"name":"(anonymous_5864)","line":193,"loc":{"start":{"line":193,"column":25},"end":{"line":193,"column":32}}},"40":{"name":"(anonymous_5865)","line":197,"loc":{"start":{"line":197,"column":33},"end":{"line":null,"column":-1}}},"41":{"name":"(anonymous_5866)","line":199,"loc":{"start":{"line":199,"column":16},"end":{"line":199,"column":39}}},"42":{"name":"(anonymous_5867)","line":202,"loc":{"start":{"line":202,"column":13},"end":{"line":202,"column":36}}},"43":{"name":"(anonymous_5868)","line":218,"loc":{"start":{"line":218,"column":2},"end":{"line":null,"column":-1}}},"44":{"name":"(anonymous_5869)","line":222,"loc":{"start":{"line":222,"column":2},"end":{"line":222,"column":35}}},"45":{"name":"(anonymous_5870)","line":226,"loc":{"start":{"line":226,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":122,"type":"binary-expr","locations":[{"start":{"line":122,"column":21},"end":{"line":122,"column":40}},{"start":{"line":122,"column":44},"end":{"line":122,"column":57}}]},"2":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":6},"end":{"line":146,"column":5}},{"start":{"line":146,"column":6},"end":{"line":146,"column":5}}]},"3":{"line":156,"type":"if","locations":[{"start":{"line":156,"column":4},"end":{"line":156,"column":3}},{"start":{"line":156,"column":4},"end":{"line":156,"column":3}}]},"4":{"line":172,"type":"binary-expr","locations":[{"start":{"line":172,"column":21},"end":{"line":172,"column":40}},{"start":{"line":172,"column":44},"end":{"line":172,"column":57}}]},"5":{"line":207,"type":"if","locations":[{"start":{"line":207,"column":6},"end":{"line":207,"column":5}},{"start":{"line":207,"column":6},"end":{"line":207,"column":5}}]},"6":{"line":207,"type":"binary-expr","locations":[{"start":{"line":207,"column":10},"end":{"line":207,"column":42}},{"start":{"line":207,"column":46},"end":{"line":207,"column":73}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":5,"7":5,"8":5,"9":5,"10":5,"11":1,"12":5,"13":5,"14":8,"15":8,"16":8,"17":8,"18":1,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"39":1,"40":1,"41":1,"42":1,"43":1,"44":0,"45":0,"46":0,"47":1,"48":1,"49":1,"50":1,"51":1,"52":5,"53":5,"54":5,"55":1,"56":5,"57":5,"58":5,"59":8,"60":8,"61":0,"62":0,"63":8,"64":0,"65":0,"66":5,"67":1,"68":1,"69":1,"70":1,"71":0,"72":0,"73":0,"74":0,"75":1,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":1,"83":0,"84":0,"85":0,"86":1,"87":0,"88":0,"89":1,"90":0,"91":0,"92":0,"93":0,"94":0,"95":1,"96":0,"97":0,"98":0,"99":0,"100":0,"101":1,"102":1,"103":2,"104":1,"105":0,"106":1,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":1,"114":1,"115":1,"116":1,"117":0,"118":0,"119":0,"120":0,"121":1,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":1,"139":0,"140":1,"141":0,"142":1,"143":0,"144":1,"145":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":1,"2":5,"3":5,"4":8,"5":8,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":1,"16":5,"17":5,"18":8,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0},"code":"import {$$} from '../../utils/Dom';\nimport {Assert} from '../../misc/Assert';\nimport {Utils} from '../../utils/Utils';\n\nexport interface IPreferencePanelInputToBuild {\n  label: string;\n  placeholder?: string;\n  tab?: string[];\n  expression?: string;\n  otherAttribute?: string;\n}\n\nexport class PreferencesPanelBoxInput {\n  public inputs: { [label: string]: HTMLElement } = {};\n\n  private inputTemplate = _.template('<div class=\\'coveo-choice-container\\'>\\\n      <div class=\\'coveo-section coveo-section-input\\'>\\\n        <input <%- otherAttribute %> class=\\'coveo-<%- label %>\\' id=\\'coveo-<%- label %>\\' type=\\'<%- type %>\\' name=\\'<%- name%>\\' value=\\'<%- label %>\\' ></input><span class=\\'coveo-input-icon\\'></span><label class=\\'coveo-preferences-panel-item-label\\' for=\\'coveo-<%- label %>\\'><%- label %></label>\\\n      </div>\\\n      <div class=\\'coveo-section coveo-section-tab\\'><%- tab %></div>\\\n    <div class=\\'coveo-section coveo-section-expression\\'><%- expression %></div>\\\n    </div>');\n\n  constructor(private boxInputToBuild: IPreferencePanelInputToBuild[], private nameOfInput: string, private type: string) {\n  }\n\n  public build(): HTMLElement {\n    return _.reduce(_.map(this.boxInputToBuild, (toBuild) => {\n      this.inputs[toBuild.label] = $$('div', undefined, this.inputTemplate({\n        label: toBuild.label,\n        name: this.nameOfInput,\n        type: this.type,\n        otherAttribute: toBuild.otherAttribute,\n        tab: toBuild.tab,\n        expression: toBuild.expression\n      })).el;\n      return this.inputs[toBuild.label];\n    }), (memo: HTMLElement, input: HTMLElement) => {\n      memo.appendChild(input);\n      return memo;\n    }, $$('div').el)\n  }\n\n  public select(toSelect: string) {\n    Assert.exists(this.inputs[toSelect]);\n    var input = <HTMLInputElement>$$(this.inputs[toSelect]).find('input');\n    input.checked = true;\n    $$($$(this.inputs[toSelect]).find('.coveo-input-icon')).addClass('coveo-selected');\n  }\n\n  public unselect(toUnselect: string) {\n    Assert.exists(this.inputs[toUnselect]);\n    var input = <HTMLInputElement>$$(this.inputs[toUnselect]).find('input');\n    input.checked = false;\n    $$($$(this.inputs[toUnselect]).find('.coveo-input-icon')).removeClass('coveo-selected');\n  }\n\n  public getSelected(): string {\n    var checked = _.find(this.inputs, (el: HTMLElement) => {\n      var input = <HTMLInputElement>$$(el).find('input');\n      return input.checked;\n    })\n    return (<HTMLInputElement>$$(checked).find('input')).value;\n  }\n\n  public getSelecteds(): string[] {\n    var checkeds = _.filter(this.inputs, (el: HTMLElement) => {\n      var input = <HTMLInputElement>$$(el).find('input');\n      return input.checked;\n    })\n\n    return _.map(checkeds, (checked) => {\n      return (<HTMLInputElement>$$(checked).find('input')).value;\n    })\n  }\n}\n\nexport class PreferencesPanelRadioInput extends PreferencesPanelBoxInput {\n  constructor(private radioElementToBuild: IPreferencePanelInputToBuild[], private name: string) {\n    super(radioElementToBuild, name, 'radio');\n  }\n}\n\nexport class PreferencesPanelCheckboxInput extends PreferencesPanelBoxInput {\n  constructor(private checkboxElementToBuild: IPreferencePanelInputToBuild[], public name: string) {\n    super(checkboxElementToBuild, name, 'checkbox');\n  }\n\n  public build(): HTMLElement {\n    var build = super.build();\n    var icons = $$(build).findAll('.coveo-input-icon');\n    _.each(icons, (icon: HTMLElement) => {\n      var input = <HTMLInputElement>$$(icon.parentElement).find('input');\n      $$(input).on('change', () => {\n        var checked = input.checked;\n        $$(icon).toggleClass('coveo-selected', checked);\n      })\n\n      $$(icon).on('click', () => {\n        input.checked = !input.checked;\n        $$(input).trigger('change');\n      })\n    })\n    return build;\n  }\n}\n\nexport class PreferencesPanelTextInput {\n  public inputs: { [label: string]: HTMLElement } = {};\n  public inputTemplate = _.template('<div class=\\'coveo-choice-container\\'><input <%- otherAttribute %> class=\\'coveo-<%- label %>\\' id=\\'coveo-<%- label %>\\' type=\\'<%- type %>\\' name=\\'<%- name%>\\' placeholder=\\'<%- placeholder %>\\' ></input></div>');\n\n  constructor(public textElementToBuild: IPreferencePanelInputToBuild[], public name: string) {\n  }\n\n  public build(): HTMLElement {\n    return _.reduce(_.map(this.textElementToBuild, (toBuild) => {\n      this.inputs[toBuild.label] = $$('div', undefined, this.inputTemplate({\n        label: toBuild.label,\n        name: this.name,\n        type: 'text',\n        otherAttribute: toBuild.otherAttribute,\n        placeholder: toBuild.placeholder || toBuild.label\n      })).el;\n\n      return this.inputs[toBuild.label];\n    }), (memo: HTMLElement, input: HTMLElement) => {\n      memo.appendChild(input);\n      return memo;\n    }, $$('div').el);\n  }\n\n  public getValues(): string[] {\n    return _.map(this.inputs, (input, key) => {\n      return (<HTMLInputElement>this.getInput(key)).value;\n    })\n  }\n\n  public setValue(input: string, value: string) {\n    Assert.exists(this.inputs[input]);\n    (<HTMLInputElement>this.getInput(input)).value = value;\n  }\n\n  public reset(): void {\n    _.each(this.inputs, (input: HTMLElement) => {\n      var inputElement: HTMLInputElement | HTMLTextAreaElement = (<HTMLInputElement>$$(input).find('input'));\n      if (!inputElement) {\n        inputElement = (<HTMLTextAreaElement>$$(input).find('textarea'));\n      }\n      inputElement.value = '';\n    })\n  }\n\n  private getInput(input: string): HTMLElement {\n    Assert.exists(this.inputs[input]);\n    var found = $$(this.inputs[input]).find('input');\n    if (!found) {\n      found = $$(this.inputs[input]).find('textarea');\n    }\n    return found;\n  }\n}\n\nexport class PreferencesPanelTextAreaInput extends PreferencesPanelTextInput {\n  public inputTemplate = _.template('<div class=\\'coveo-choice-container\\'><textarea <%- otherAttribute %> class=\\'coveo-<%- label %>\\' id=\\'coveo-<%- label %>\\' name=\\'<%- name%>\\' placeholder=\\'<%- placeholder %>\\' ></textarea></div>');\n\n  public build(): HTMLElement {\n    return _.reduce(_.map(this.textElementToBuild, (toBuild) => {\n      this.inputs[toBuild.label] = $$('div', undefined, this.inputTemplate({\n        label: toBuild.label,\n        name: this.name,\n        otherAttribute: toBuild.otherAttribute,\n        placeholder: toBuild.placeholder || toBuild.label\n      })).el;\n      return this.inputs[toBuild.label];\n    }), (memo: HTMLElement, input: HTMLElement) => {\n      memo.appendChild(input);\n      return memo;\n    }, $$('div').el)\n  }\n}\n\nexport class PreferencePanelMultiSelectInput {\n  private textInput: PreferencesPanelTextAreaInput;\n  private select: HTMLSelectElement;\n\n  constructor(private toBuild: IPreferencePanelInputToBuild, public options: string[], public name: string) {\n    this.textInput = new PreferencesPanelTextAreaInput([{ label: toBuild.label, otherAttribute: 'readonly' }], name);\n  }\n\n  public build() {\n    this.select = <HTMLSelectElement>$$('select').el;\n    this.select.setAttribute('multiple', 'multiple');\n    _.each(this.options, (option) => {\n      var optEl = $$('option', undefined, option).el;\n      this.select.appendChild(optEl);\n    });\n    $$(this.select).on('change', () => {\n      var values: string[] = _.chain(<any>this.select.options)\n        .filter((opt: HTMLOptionElement) => {\n          return opt.selected;\n        })\n        .map((opt: HTMLOptionElement) => {\n          return opt.value;\n        })\n        .value();\n\n      if (!Utils.isNullOrUndefined(values) && !Utils.isEmptyArray(values)) {\n        this.textInput.setValue(this.toBuild.label, values.join(','));\n      } else {\n        this.reset();\n      }\n    })\n    var el = this.textInput.build()\n    el.appendChild(this.select);\n    return el;\n  }\n\n  public getValues() {\n    return this.textInput.getValues()[0].split(',');\n  }\n\n  public setValues(values: string[]) {\n    this.textInput.setValue(this.toBuild.label, values.join(','));\n  }\n\n  public reset() {\n    this.textInput.setValue(this.toBuild.label, '');\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/PreferencesPanel/PreferencesPanelItem.ts\n **/","l":{"1":1,"2":1,"3":1,"13":1,"14":5,"16":5,"24":5,"27":5,"28":5,"29":8,"37":8,"39":8,"40":8,"44":1,"45":0,"46":0,"47":0,"48":0,"51":1,"52":0,"53":0,"54":0,"55":0,"58":1,"59":0,"60":0,"61":0,"63":0,"66":1,"67":0,"68":0,"69":0,"72":0,"73":0,"76":1,"78":1,"79":1,"80":0,"82":1,"84":1,"85":5,"86":5,"89":1,"90":5,"91":5,"92":5,"93":8,"94":8,"95":0,"96":0,"99":8,"100":0,"101":0,"104":5,"106":1,"108":1,"109":0,"110":0,"112":1,"115":1,"116":0,"117":0,"125":0,"127":0,"128":0,"132":1,"133":0,"134":0,"138":1,"139":0,"140":0,"143":1,"144":0,"145":0,"146":0,"147":0,"149":0,"153":1,"154":0,"155":0,"156":0,"157":0,"159":0,"161":1,"163":2,"164":0,"166":1,"167":0,"168":0,"174":0,"176":0,"177":0,"180":1,"182":1,"186":1,"187":0,"190":1,"191":0,"192":0,"193":0,"194":0,"195":0,"197":0,"198":0,"200":0,"203":0,"207":0,"208":0,"210":0,"213":0,"214":0,"215":0,"218":1,"219":0,"222":1,"223":0,"226":1,"227":0,"229":1}},"src/ui/QueryDuration/QueryDuration.ts":{"path":"src/ui/QueryDuration/QueryDuration.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":58}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":77}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":40}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":54}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":40}},"9":{"start":{"line":20,"column":0},"end":{"line":80,"column":1}},"10":{"start":{"line":20,"column":35},"end":{"line":20,"column":44}},"11":{"start":{"line":37,"column":2},"end":{"line":47,"column":3}},"12":{"start":{"line":38,"column":4},"end":{"line":38,"column":47}},"13":{"start":{"line":37,"column":21},"end":{"line":37,"column":41}},"14":{"start":{"line":37,"column":50},"end":{"line":37,"column":81}},"15":{"start":{"line":40,"column":4},"end":{"line":40,"column":90}},"16":{"start":{"line":42,"column":4},"end":{"line":42,"column":118}},"17":{"start":{"line":42,"column":88},"end":{"line":42,"column":117}},"18":{"start":{"line":43,"column":4},"end":{"line":43,"column":83}},"19":{"start":{"line":43,"column":58},"end":{"line":43,"column":81}},"20":{"start":{"line":44,"column":4},"end":{"line":44,"column":40}},"21":{"start":{"line":45,"column":4},"end":{"line":45,"column":39}},"22":{"start":{"line":46,"column":4},"end":{"line":46,"column":49}},"23":{"start":{"line":49,"column":10},"end":{"line":66,"column":3}},"24":{"start":{"line":50,"column":4},"end":{"line":65,"column":5}},"25":{"start":{"line":51,"column":6},"end":{"line":51,"column":26}},"26":{"start":{"line":53,"column":6},"end":{"line":58,"column":19}},"27":{"start":{"line":60,"column":6},"end":{"line":60,"column":87}},"28":{"start":{"line":61,"column":6},"end":{"line":61,"column":50}},"29":{"start":{"line":62,"column":6},"end":{"line":62,"column":44}},"30":{"start":{"line":64,"column":6},"end":{"line":64,"column":42}},"31":{"start":{"line":68,"column":10},"end":{"line":79,"column":3}},"32":{"start":{"line":69,"column":4},"end":{"line":78,"column":5}},"33":{"start":{"line":70,"column":6},"end":{"line":70,"column":30}},"34":{"start":{"line":72,"column":6},"end":{"line":72,"column":60}},"35":{"start":{"line":73,"column":6},"end":{"line":77,"column":7}},"36":{"start":{"line":74,"column":8},"end":{"line":74,"column":76}},"37":{"start":{"line":76,"column":8},"end":{"line":76,"column":70}},"38":{"start":{"line":21,"column":9},"end":{"line":21,"column":30}},"39":{"start":{"line":26,"column":9},"end":{"line":27,"column":3}},"40":{"start":{"line":80,"column":0},"end":{"line":80,"column":1}},"41":{"start":{"line":20,"column":13},"end":{"line":80,"column":1}},"42":{"start":{"line":81,"column":0},"end":{"line":81,"column":58}}},"fnMap":{"1":{"name":"(anonymous_5874)","line":20,"loc":{"start":{"line":20,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"QueryDuration","line":37,"loc":{"start":{"line":37,"column":2},"end":{"line":37,"column":112}}},"3":{"name":"(anonymous_5876)","line":42,"loc":{"start":{"line":42,"column":54},"end":{"line":42,"column":83}}},"4":{"name":"(anonymous_5877)","line":43,"loc":{"start":{"line":43,"column":52},"end":{"line":43,"column":57}}},"5":{"name":"(anonymous_5878)","line":49,"loc":{"start":{"line":49,"column":2},"end":{"line":49,"column":57}}},"6":{"name":"(anonymous_5879)","line":68,"loc":{"start":{"line":68,"column":2},"end":{"line":68,"column":54}}}},"branchMap":{"1":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":4},"end":{"line":50,"column":3}},{"start":{"line":50,"column":4},"end":{"line":50,"column":3}}]},"2":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":8},"end":{"line":50,"column":22}},{"start":{"line":50,"column":26},"end":{"line":50,"column":57}}]},"3":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":4},"end":{"line":69,"column":3}},{"start":{"line":69,"column":4},"end":{"line":69,"column":3}}]},"4":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":6},"end":{"line":73,"column":5}},{"start":{"line":73,"column":6},"end":{"line":73,"column":5}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":4,"10":1,"11":1,"12":3,"13":3,"14":3,"15":3,"16":3,"17":3,"18":3,"19":0,"20":3,"21":3,"22":3,"23":1,"24":3,"25":3,"26":3,"27":3,"28":3,"29":3,"30":0,"31":1,"32":15,"33":3,"34":12,"35":12,"36":12,"37":0,"38":1,"39":1,"40":1,"41":1,"42":1},"b":{"1":[3,0],"2":[3,3],"3":[3,12],"4":[12,0]},"f":{"1":1,"2":3,"3":3,"4":0,"5":3,"6":15},"code":"import {Component} from '../Base/Component';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {QueryEvents, IQuerySuccessEventArgs} from '../../events/QueryEvents';\nimport {Assert} from '../../misc/Assert';\nimport {$$} from '../../utils/Dom';\nimport {l} from '../../strings/Strings';\nimport {Initialization} from '../Base/Initialization';\nimport Globalize = require('globalize');\n\nexport interface IQueryDurationOptions {\n}\n\n/**\n * This component is used to display the time it took to execute the query.\n * When a {@link QueryEvents.querySuccess} event is called, it shows itself and displays\n * the global duration, the index duration, the proxy duration, and the client duration in a tooltip.<br/>\n * If a {@link QueryEvents.queryError} event is called, it hides.\n */\nexport class QueryDuration extends Component {\n  static ID = 'QueryDuration';\n  /**\n   * The options for the component\n   * @componentOptions\n   */\n  static options: IQueryDurationOptions = {\n  }\n\n  private textContainer: HTMLElement;\n\n  /**\n   * Create a new QueryDuration component.\n   * @param element\n   * @param options\n   * @param bindings\n   */\n  constructor(public element: HTMLElement, public options?: IQueryDurationOptions, bindings?: IComponentBindings) {\n    super(element, QueryDuration.ID, bindings);\n\n    this.options = ComponentOptions.initComponentOptions(element, QueryDuration, options);\n\n    this.bind.onRootElement(QueryEvents.querySuccess, (data: IQuerySuccessEventArgs) => this.handleQuerySuccess(data))\n    this.bind.onRootElement(QueryEvents.queryError, () => $$(this.element).hide());\n    this.element.style.display = 'none';\n    this.textContainer = $$('span').el;\n    this.element.appendChild(this.textContainer);\n  }\n\n  private handleQuerySuccess(data: IQuerySuccessEventArgs) {\n    if (!this.disabled && data.results.results.length > 0) {\n      Assert.exists(data);\n\n      let tooltip = [\n        l('Duration', this.formatQueryDuration(data.results.duration)),\n        l('IndexDuration', this.formatQueryDuration(data.results.indexDuration)),\n        l('ProxyDuration', this.formatQueryDuration(data.results.proxyDuration)),\n        l('ClientDuration', this.formatQueryDuration(data.results.clientDuration))\n      ].join('\\n');\n\n      this.textContainer.textContent = this.formatQueryDuration(data.results.duration);\n      this.element.setAttribute('title', tooltip);\n      this.element.style.display = 'inline';\n    } else {\n      this.element.style.display = 'none';\n    }\n  }\n\n  private formatQueryDuration(durationInMillis: number): string {\n    if (durationInMillis == undefined) {\n      return l('Unavailable');\n    } else {\n      var seconds = Math.max(durationInMillis / 1000, 0.01);\n      if (String['locale'] === 'en') {\n        return l('Seconds', Globalize.format(seconds, 'n2'), seconds, true);\n      } else {\n        return l('Seconds', Globalize.format(seconds, 'n2'), seconds);\n      }\n    }\n  }\n}\nInitialization.registerAutoCreateComponent(QueryDuration);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/QueryDuration/QueryDuration.ts\n **/","l":{"1":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"20":4,"21":1,"26":1,"37":3,"38":3,"40":3,"42":3,"43":3,"44":3,"45":3,"46":3,"49":1,"50":3,"51":3,"53":3,"60":3,"61":3,"62":3,"64":0,"68":1,"69":15,"70":3,"72":12,"73":12,"74":12,"76":0,"80":1,"81":1}},"src/ui/QuerySummary/QuerySummary.ts":{"path":"src/ui/QuerySummary/QuerySummary.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":58}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":77}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":41}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":40}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":96}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":54}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":61}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":40}},"11":{"start":{"line":22,"column":0},"end":{"line":143,"column":1}},"12":{"start":{"line":22,"column":34},"end":{"line":22,"column":43}},"13":{"start":{"line":43,"column":2},"end":{"line":52,"column":3}},"14":{"start":{"line":44,"column":4},"end":{"line":44,"column":46}},"15":{"start":{"line":43,"column":21},"end":{"line":43,"column":41}},"16":{"start":{"line":43,"column":50},"end":{"line":43,"column":80}},"17":{"start":{"line":46,"column":4},"end":{"line":46,"column":89}},"18":{"start":{"line":47,"column":4},"end":{"line":47,"column":119}},"19":{"start":{"line":47,"column":88},"end":{"line":47,"column":117}},"20":{"start":{"line":48,"column":4},"end":{"line":48,"column":71}},"21":{"start":{"line":48,"column":58},"end":{"line":48,"column":69}},"22":{"start":{"line":49,"column":4},"end":{"line":49,"column":16}},"23":{"start":{"line":50,"column":4},"end":{"line":50,"column":39}},"24":{"start":{"line":51,"column":4},"end":{"line":51,"column":49}},"25":{"start":{"line":54,"column":10},"end":{"line":56,"column":3}},"26":{"start":{"line":55,"column":4},"end":{"line":55,"column":46}},"27":{"start":{"line":58,"column":10},"end":{"line":60,"column":3}},"28":{"start":{"line":59,"column":4},"end":{"line":59,"column":49}},"29":{"start":{"line":62,"column":10},"end":{"line":87,"column":3}},"30":{"start":{"line":63,"column":4},"end":{"line":63,"column":24}},"31":{"start":{"line":64,"column":4},"end":{"line":64,"column":35}},"32":{"start":{"line":65,"column":4},"end":{"line":65,"column":16}},"33":{"start":{"line":67,"column":4},"end":{"line":79,"column":5}},"34":{"start":{"line":68,"column":6},"end":{"line":78,"column":7}},"35":{"start":{"line":69,"column":8},"end":{"line":69,"column":71}},"36":{"start":{"line":70,"column":8},"end":{"line":70,"column":96}},"37":{"start":{"line":71,"column":8},"end":{"line":71,"column":81}},"38":{"start":{"line":73,"column":8},"end":{"line":73,"column":84}},"39":{"start":{"line":74,"column":8},"end":{"line":74,"column":82}},"40":{"start":{"line":75,"column":8},"end":{"line":75,"column":89}},"41":{"start":{"line":77,"column":8},"end":{"line":77,"column":167}},"42":{"start":{"line":81,"column":4},"end":{"line":86,"column":5}},"43":{"start":{"line":82,"column":6},"end":{"line":82,"column":91}},"44":{"start":{"line":83,"column":6},"end":{"line":83,"column":63}},"45":{"start":{"line":84,"column":11},"end":{"line":86,"column":5}},"46":{"start":{"line":85,"column":6},"end":{"line":85,"column":36}},"47":{"start":{"line":89,"column":10},"end":{"line":142,"column":3}},"48":{"start":{"line":89,"column":2},"end":{"line":142,"column":3}},"49":{"start":{"line":90,"column":4},"end":{"line":90,"column":92}},"50":{"start":{"line":91,"column":4},"end":{"line":91,"column":32}},"51":{"start":{"line":93,"column":4},"end":{"line":97,"column":5}},"52":{"start":{"line":94,"column":6},"end":{"line":96,"column":100}},"53":{"start":{"line":98,"column":4},"end":{"line":100,"column":30}},"54":{"start":{"line":102,"column":4},"end":{"line":106,"column":7}},"55":{"start":{"line":103,"column":6},"end":{"line":103,"column":114}},"56":{"start":{"line":104,"column":6},"end":{"line":104,"column":102}},"57":{"start":{"line":105,"column":6},"end":{"line":105,"column":21}},"58":{"start":{"line":108,"column":4},"end":{"line":110,"column":6}},"59":{"start":{"line":111,"column":4},"end":{"line":111,"column":41}},"60":{"start":{"line":112,"column":4},"end":{"line":112,"column":30}},"61":{"start":{"line":114,"column":4},"end":{"line":114,"column":33}},"62":{"start":{"line":115,"column":4},"end":{"line":115,"column":43}},"63":{"start":{"line":117,"column":4},"end":{"line":117,"column":33}},"64":{"start":{"line":118,"column":4},"end":{"line":118,"column":51}},"65":{"start":{"line":120,"column":4},"end":{"line":120,"column":48}},"66":{"start":{"line":121,"column":4},"end":{"line":121,"column":48}},"67":{"start":{"line":123,"column":4},"end":{"line":127,"column":5}},"68":{"start":{"line":124,"column":6},"end":{"line":124,"column":33}},"69":{"start":{"line":125,"column":6},"end":{"line":125,"column":48}},"70":{"start":{"line":126,"column":6},"end":{"line":126,"column":48}},"71":{"start":{"line":129,"column":4},"end":{"line":141,"column":5}},"72":{"start":{"line":130,"column":6},"end":{"line":132,"column":7}},"73":{"start":{"line":131,"column":8},"end":{"line":131,"column":62}},"74":{"start":{"line":133,"column":6},"end":{"line":133,"column":58}},"75":{"start":{"line":134,"column":6},"end":{"line":134,"column":56}},"76":{"start":{"line":135,"column":6},"end":{"line":135,"column":52}},"77":{"start":{"line":137,"column":6},"end":{"line":139,"column":7}},"78":{"start":{"line":138,"column":8},"end":{"line":138,"column":62}},"79":{"start":{"line":140,"column":6},"end":{"line":140,"column":58}},"80":{"start":{"line":23,"column":9},"end":{"line":23,"column":29}},"81":{"start":{"line":28,"column":9},"end":{"line":39,"column":4}},"82":{"start":{"line":143,"column":0},"end":{"line":143,"column":1}},"83":{"start":{"line":22,"column":13},"end":{"line":143,"column":1}},"84":{"start":{"line":144,"column":0},"end":{"line":144,"column":57}}},"fnMap":{"1":{"name":"(anonymous_5884)","line":22,"loc":{"start":{"line":22,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"QuerySummary","line":43,"loc":{"start":{"line":43,"column":2},"end":{"line":43,"column":111}}},"3":{"name":"(anonymous_5886)","line":47,"loc":{"start":{"line":47,"column":54},"end":{"line":47,"column":83}}},"4":{"name":"(anonymous_5887)","line":48,"loc":{"start":{"line":48,"column":52},"end":{"line":48,"column":57}}},"5":{"name":"(anonymous_5888)","line":54,"loc":{"start":{"line":54,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_5889)","line":58,"loc":{"start":{"line":58,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_5890)","line":62,"loc":{"start":{"line":62,"column":2},"end":{"line":62,"column":57}}},"8":{"name":"(anonymous_5891)","line":89,"loc":{"start":{"line":89,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_5892)","line":102,"loc":{"start":{"line":102,"column":33},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":4},"end":{"line":67,"column":3}},{"start":{"line":67,"column":4},"end":{"line":67,"column":3}}]},"2":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":6},"end":{"line":68,"column":5}},{"start":{"line":68,"column":6},"end":{"line":68,"column":5}}]},"3":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":4},"end":{"line":81,"column":3}},{"start":{"line":81,"column":4},"end":{"line":81,"column":3}}]},"4":{"line":81,"type":"binary-expr","locations":[{"start":{"line":81,"column":8},"end":{"line":81,"column":38}},{"start":{"line":81,"column":42},"end":{"line":81,"column":77}}]},"5":{"line":84,"type":"if","locations":[{"start":{"line":84,"column":11},"end":{"line":84,"column":10}},{"start":{"line":84,"column":11},"end":{"line":84,"column":10}}]},"6":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":4},"end":{"line":93,"column":3}},{"start":{"line":93,"column":4},"end":{"line":93,"column":3}}]},"7":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":4},"end":{"line":123,"column":3}},{"start":{"line":123,"column":4},"end":{"line":123,"column":3}}]},"8":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":4},"end":{"line":129,"column":3}},{"start":{"line":129,"column":4},"end":{"line":129,"column":3}}]},"9":{"line":130,"type":"if","locations":[{"start":{"line":130,"column":6},"end":{"line":130,"column":5}},{"start":{"line":130,"column":6},"end":{"line":130,"column":5}}]},"10":{"line":137,"type":"if","locations":[{"start":{"line":137,"column":6},"end":{"line":137,"column":5}},{"start":{"line":137,"column":6},"end":{"line":137,"column":5}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":9,"12":1,"13":1,"14":8,"15":8,"16":8,"17":8,"18":8,"19":8,"20":8,"21":0,"22":8,"23":8,"24":8,"25":1,"26":8,"27":1,"28":8,"29":1,"30":8,"31":8,"32":8,"33":8,"34":7,"35":3,"36":3,"37":3,"38":3,"39":3,"40":3,"41":3,"42":8,"43":0,"44":0,"45":8,"46":4,"47":1,"48":4,"49":4,"50":4,"51":4,"52":0,"53":4,"54":4,"55":0,"56":0,"57":0,"58":4,"59":4,"60":4,"61":4,"62":4,"63":4,"64":4,"65":4,"66":4,"67":4,"68":0,"69":0,"70":0,"71":4,"72":3,"73":0,"74":3,"75":3,"76":3,"77":1,"78":0,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1},"b":{"1":[7,1],"2":[3,4],"3":[0,8],"4":[8,0],"5":[4,4],"6":[0,4],"7":[0,4],"8":[3,1],"9":[0,3],"10":[0,1]},"f":{"1":1,"2":8,"3":8,"4":0,"5":8,"6":8,"7":8,"8":4,"9":0},"code":"import {Component} from '../Base/Component';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {QueryEvents, IQuerySuccessEventArgs} from '../../events/QueryEvents';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {$$, Dom} from '../../utils/Dom';\nimport {Assert} from '../../misc/Assert';\nimport {l} from '../../strings/Strings';\nimport {analyticsActionCauseList, IAnalyticsNoMeta} from '../Analytics/AnalyticsActionListMeta';\nimport {Initialization} from '../Base/Initialization';\nimport {QueryStateModel} from '../../models/QueryStateModel';\nimport Globalize = require('globalize');\n\nexport interface IQuerySummaryOptions {\n  enableSearchTips?: boolean;\n  onlyDisplaySearchTips?: boolean;\n}\n\n/**\n * This component displays information about the current range of results being displayed (ex: 1-10 of 123).<br/>\n * If the query matches no documents, it will display advices and tip for the end user on how to remedy the problem.\n */\nexport class QuerySummary extends Component {\n  static ID = 'QuerySummary';\n  /**\n   * Options for the component\n   * @componentOptions\n   */\n  static options: IQuerySummaryOptions = {\n    /**\n     * Specifies whether the search tips are displayed to the end user when there are no search results.<br/>\n     * The default value is <code>true</code>.\n     */\n    enableSearchTips: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies whether to hide the information about the current range of results being displayed and only display the search tips.<br/>\n     * The default value is <code>false</code>.\n     */\n    onlyDisplaySearchTips: ComponentOptions.buildBooleanOption({ defaultValue: false })\n  };\n\n  private textContainer: HTMLElement;\n\n  constructor(public element: HTMLElement, public options?: IQuerySummaryOptions, bindings?: IComponentBindings) {\n    super(element, QuerySummary.ID, bindings);\n\n    this.options = ComponentOptions.initComponentOptions(element, QuerySummary, options);\n    this.bind.onRootElement(QueryEvents.querySuccess, (data: IQuerySuccessEventArgs) => this.handleQuerySuccess(data));\n    this.bind.onRootElement(QueryEvents.queryError, () => this.hide());\n    this.hide();\n    this.textContainer = $$('span').el;\n    this.element.appendChild(this.textContainer);\n  }\n\n  private hide() {\n    $$(this.element).addClass('coveo-hidden');\n  }\n\n  private show() {\n    $$(this.element).removeClass('coveo-hidden');\n  }\n\n  private handleQuerySuccess(data: IQuerySuccessEventArgs) {\n    Assert.exists(data);\n    $$(this.textContainer).empty();\n    this.show();\n\n    if (!this.options.onlyDisplaySearchTips) {\n      if (data.results.results.length > 0) {\n        let first = Globalize.format(data.query.firstResult + 1, 'n0');\n        let last = Globalize.format(data.query.firstResult + data.results.results.length, 'n0');\n        let totalCount = Globalize.format(data.results.totalCountFiltered, 'n0');\n\n        let highlightFirst = $$('span', { className: 'coveo-highlight' }, first).el;\n        let highlightLast = $$('span', { className: 'coveo-highlight' }, last).el;\n        let highlightTotal = $$('span', { className: 'coveo-highlight' }, totalCount).el;\n\n        this.textContainer.innerHTML = l('ShowingResultsOf', highlightFirst.outerHTML, highlightLast.outerHTML, highlightTotal.outerHTML, data.results.results.length);\n      }\n    }\n\n    if (data.results.exception != null && data.results.exception.code != null) {\n      let code: string = ('QueryException' + data.results.exception.code).toLocaleString();\n      this.textContainer.innerHTML = l('QueryException', code);\n    } else if (data.results.results.length == 0) {\n      this.displayInfoOnNoResults();\n    }\n  }\n\n  private displayInfoOnNoResults() {\n    let queryEscaped = _.escape(this.queryStateModel.get(QueryStateModel.attributesEnum.q));\n    let noResultsForString: Dom;\n\n    if (queryEscaped != '') {\n      noResultsForString = $$('div', {\n        className: 'coveo-query-summary-no-results-string'\n      }, l('noResultFor', $$('span', { className: 'coveo-highlight' }, queryEscaped).el.outerHTML));\n    }\n    let cancelLastAction = $$('div', {\n      className: 'coveo-query-summary-cancel-last'\n    }, l('CancelLastAction'));\n\n    cancelLastAction.on('click', () => {\n      this.usageAnalytics.logCustomEvent<IAnalyticsNoMeta>(analyticsActionCauseList.noResultsBack, {}, this.root);\n      this.usageAnalytics.logSearchEvent<IAnalyticsNoMeta>(analyticsActionCauseList.noResultsBack, {})\n      history.back();\n    });\n\n    let searchTipsInfo = $$('div', {\n      className: 'coveo-query-summary-search-tips-info'\n    })\n    searchTipsInfo.text(l('SearchTips'));\n    let searchTips = $$('ul');\n\n    let checkSpelling = $$('li');\n    checkSpelling.text(l('CheckSpelling'));\n\n    let fewerKeywords = $$('li');\n    fewerKeywords.text(l('TryUsingFewerKeywords'));\n\n    searchTips.el.appendChild(checkSpelling.el);\n    searchTips.el.appendChild(fewerKeywords.el);\n\n    if (this.queryStateModel.atLeastOneFacetIsActive()) {\n      let fewerFilter = $$('li');\n      fewerFilter.text(l('SelectFewerFilters'));\n      searchTips.el.appendChild(fewerFilter.el);\n    }\n\n    if (this.options.enableSearchTips) {\n      if (noResultsForString) {\n        this.textContainer.appendChild(noResultsForString.el);\n      }\n      this.textContainer.appendChild(cancelLastAction.el);\n      this.textContainer.appendChild(searchTipsInfo.el);\n      this.textContainer.appendChild(searchTips.el);\n    } else {\n      if (noResultsForString) {\n        this.textContainer.appendChild(noResultsForString.el);\n      }\n      this.textContainer.appendChild(cancelLastAction.el);\n    }\n  }\n}\nInitialization.registerAutoCreateComponent(QuerySummary);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/QuerySummary/QuerySummary.ts\n **/","l":{"1":1,"2":1,"3":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"22":9,"23":1,"28":1,"43":8,"44":8,"46":8,"47":8,"48":8,"49":8,"50":8,"51":8,"54":1,"55":8,"58":1,"59":8,"62":1,"63":8,"64":8,"65":8,"67":8,"68":7,"69":3,"70":3,"71":3,"73":3,"74":3,"75":3,"77":3,"81":8,"82":0,"83":0,"84":8,"85":4,"89":4,"90":4,"91":4,"93":4,"94":0,"98":4,"102":4,"103":0,"104":0,"105":0,"108":4,"111":4,"112":4,"114":4,"115":4,"117":4,"118":4,"120":4,"121":4,"123":4,"124":0,"125":0,"126":0,"129":4,"130":3,"131":0,"133":3,"134":3,"135":3,"137":1,"138":0,"140":1,"143":1,"144":1}},"src/ui/Settings/Settings.ts":{"path":"src/ui/Settings/Settings.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":58}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":71}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":35}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":101}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":59}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":54}},"8":{"start":{"line":26,"column":0},"end":{"line":149,"column":1}},"9":{"start":{"line":26,"column":30},"end":{"line":26,"column":39}},"10":{"start":{"line":50,"column":2},"end":{"line":54,"column":3}},"11":{"start":{"line":51,"column":4},"end":{"line":51,"column":42}},"12":{"start":{"line":50,"column":21},"end":{"line":50,"column":41}},"13":{"start":{"line":50,"column":50},"end":{"line":50,"column":75}},"14":{"start":{"line":42,"column":10},"end":{"line":42,"column":36}},"15":{"start":{"line":52,"column":4},"end":{"line":52,"column":85}},"16":{"start":{"line":53,"column":4},"end":{"line":53,"column":89}},"17":{"start":{"line":53,"column":76},"end":{"line":53,"column":87}},"18":{"start":{"line":59,"column":9},"end":{"line":69,"column":3}},"19":{"start":{"line":59,"column":2},"end":{"line":69,"column":3}},"20":{"start":{"line":60,"column":4},"end":{"line":60,"column":25}},"21":{"start":{"line":61,"column":4},"end":{"line":63,"column":5}},"22":{"start":{"line":62,"column":6},"end":{"line":62,"column":29}},"23":{"start":{"line":64,"column":4},"end":{"line":64,"column":33}},"24":{"start":{"line":65,"column":4},"end":{"line":65,"column":60}},"25":{"start":{"line":65,"column":41},"end":{"line":65,"column":58}},"26":{"start":{"line":66,"column":4},"end":{"line":66,"column":60}},"27":{"start":{"line":66,"column":41},"end":{"line":66,"column":58}},"28":{"start":{"line":67,"column":4},"end":{"line":67,"column":104}},"29":{"start":{"line":74,"column":9},"end":{"line":80,"column":3}},"30":{"start":{"line":75,"column":4},"end":{"line":75,"column":26}},"31":{"start":{"line":76,"column":4},"end":{"line":79,"column":5}},"32":{"start":{"line":77,"column":6},"end":{"line":77,"column":29}},"33":{"start":{"line":78,"column":6},"end":{"line":78,"column":23}},"34":{"start":{"line":82,"column":10},"end":{"line":103,"column":3}},"35":{"start":{"line":82,"column":2},"end":{"line":103,"column":3}},"36":{"start":{"line":83,"column":4},"end":{"line":91,"column":5}},"37":{"start":{"line":84,"column":6},"end":{"line":84,"column":73}},"38":{"start":{"line":85,"column":6},"end":{"line":85,"column":75}},"39":{"start":{"line":86,"column":6},"end":{"line":86,"column":64}},"40":{"start":{"line":86,"column":23},"end":{"line":86,"column":62}},"41":{"start":{"line":87,"column":6},"end":{"line":87,"column":40}},"42":{"start":{"line":89,"column":6},"end":{"line":89,"column":69}},"43":{"start":{"line":90,"column":6},"end":{"line":90,"column":37}},"44":{"start":{"line":93,"column":4},"end":{"line":99,"column":7}},"45":{"start":{"line":94,"column":6},"end":{"line":98,"column":7}},"46":{"start":{"line":95,"column":8},"end":{"line":95,"column":21}},"47":{"start":{"line":97,"column":8},"end":{"line":97,"column":20}},"48":{"start":{"line":101,"column":4},"end":{"line":101,"column":63}},"49":{"start":{"line":101,"column":44},"end":{"line":101,"column":61}},"50":{"start":{"line":102,"column":4},"end":{"line":102,"column":63}},"51":{"start":{"line":102,"column":44},"end":{"line":102,"column":61}},"52":{"start":{"line":105,"column":10},"end":{"line":129,"column":3}},"53":{"start":{"line":105,"column":2},"end":{"line":129,"column":3}},"54":{"start":{"line":106,"column":4},"end":{"line":106,"column":75}},"55":{"start":{"line":107,"column":4},"end":{"line":110,"column":5}},"56":{"start":{"line":111,"column":4},"end":{"line":111,"column":89}},"57":{"start":{"line":112,"column":4},"end":{"line":127,"column":7}},"58":{"start":{"line":113,"column":6},"end":{"line":116,"column":12}},"59":{"start":{"line":117,"column":6},"end":{"line":117,"column":73}},"60":{"start":{"line":118,"column":6},"end":{"line":118,"column":107}},"61":{"start":{"line":119,"column":6},"end":{"line":125,"column":9}},"62":{"start":{"line":120,"column":8},"end":{"line":120,"column":31}},"63":{"start":{"line":121,"column":8},"end":{"line":123,"column":10}},"64":{"start":{"line":122,"column":10},"end":{"line":122,"column":49}},"65":{"start":{"line":124,"column":8},"end":{"line":124,"column":26}},"66":{"start":{"line":126,"column":6},"end":{"line":126,"column":36}},"67":{"start":{"line":128,"column":4},"end":{"line":128,"column":16}},"68":{"start":{"line":131,"column":10},"end":{"line":136,"column":3}},"69":{"start":{"line":131,"column":2},"end":{"line":136,"column":3}},"70":{"start":{"line":132,"column":4},"end":{"line":132,"column":36}},"71":{"start":{"line":133,"column":4},"end":{"line":135,"column":30}},"72":{"start":{"line":134,"column":6},"end":{"line":134,"column":19}},"73":{"start":{"line":138,"column":10},"end":{"line":140,"column":3}},"74":{"start":{"line":139,"column":4},"end":{"line":139,"column":36}},"75":{"start":{"line":142,"column":10},"end":{"line":148,"column":3}},"76":{"start":{"line":143,"column":4},"end":{"line":147,"column":5}},"77":{"start":{"line":27,"column":9},"end":{"line":27,"column":25}},"78":{"start":{"line":32,"column":9},"end":{"line":38,"column":4}},"79":{"start":{"line":149,"column":0},"end":{"line":149,"column":1}},"80":{"start":{"line":26,"column":13},"end":{"line":149,"column":1}},"81":{"start":{"line":150,"column":0},"end":{"line":150,"column":53}}},"fnMap":{"1":{"name":"(anonymous_5897)","line":26,"loc":{"start":{"line":26,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Settings","line":50,"loc":{"start":{"line":50,"column":2},"end":{"line":50,"column":106}}},"3":{"name":"(anonymous_5899)","line":53,"loc":{"start":{"line":53,"column":70},"end":{"line":53,"column":75}}},"4":{"name":"(anonymous_5900)","line":59,"loc":{"start":{"line":59,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_5901)","line":65,"loc":{"start":{"line":65,"column":35},"end":{"line":65,"column":40}}},"6":{"name":"(anonymous_5902)","line":66,"loc":{"start":{"line":66,"column":35},"end":{"line":66,"column":40}}},"7":{"name":"(anonymous_5903)","line":74,"loc":{"start":{"line":74,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_5904)","line":82,"loc":{"start":{"line":82,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_5905)","line":86,"loc":{"start":{"line":86,"column":17},"end":{"line":86,"column":22}}},"10":{"name":"(anonymous_5906)","line":93,"loc":{"start":{"line":93,"column":33},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_5907)","line":101,"loc":{"start":{"line":101,"column":38},"end":{"line":101,"column":43}}},"12":{"name":"(anonymous_5908)","line":102,"loc":{"start":{"line":102,"column":38},"end":{"line":102,"column":43}}},"13":{"name":"(anonymous_5909)","line":105,"loc":{"start":{"line":105,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_5910)","line":112,"loc":{"start":{"line":112,"column":46},"end":{"line":112,"column":55}}},"15":{"name":"(anonymous_5911)","line":119,"loc":{"start":{"line":119,"column":34},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_5912)","line":121,"loc":{"start":{"line":121,"column":50},"end":{"line":121,"column":59}}},"17":{"name":"(anonymous_5913)","line":131,"loc":{"start":{"line":131,"column":2},"end":{"line":null,"column":-1}}},"18":{"name":"(anonymous_5914)","line":133,"loc":{"start":{"line":133,"column":35},"end":{"line":null,"column":-1}}},"19":{"name":"(anonymous_5915)","line":138,"loc":{"start":{"line":138,"column":2},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_5916)","line":142,"loc":{"start":{"line":142,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":4},"end":{"line":61,"column":3}},{"start":{"line":61,"column":4},"end":{"line":61,"column":3}}]},"2":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":4},"end":{"line":76,"column":3}},{"start":{"line":76,"column":4},"end":{"line":76,"column":3}}]},"3":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":4},"end":{"line":83,"column":3}},{"start":{"line":83,"column":4},"end":{"line":83,"column":3}}]},"4":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":6},"end":{"line":94,"column":5}},{"start":{"line":94,"column":6},"end":{"line":94,"column":5}}]},"5":{"line":115,"type":"binary-expr","locations":[{"start":{"line":115,"column":24},"end":{"line":115,"column":40}},{"start":{"line":115,"column":44},"end":{"line":115,"column":46}}]},"6":{"line":122,"type":"binary-expr","locations":[{"start":{"line":122,"column":10},"end":{"line":122,"column":26}},{"start":{"line":122,"column":30},"end":{"line":122,"column":48}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":17,"9":1,"10":1,"11":16,"12":16,"13":16,"14":16,"15":16,"16":16,"17":5,"18":1,"19":4,"20":4,"21":4,"22":0,"23":4,"24":4,"25":1,"26":4,"27":0,"28":4,"29":1,"30":2,"31":2,"32":2,"33":2,"34":1,"35":5,"36":5,"37":5,"38":5,"39":5,"40":15,"41":5,"42":0,"43":0,"44":5,"45":0,"46":0,"47":0,"48":5,"49":0,"50":5,"51":0,"52":1,"53":4,"54":4,"55":4,"56":4,"57":4,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":4,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":0,"75":1,"76":4,"77":1,"78":1,"79":1,"80":1,"81":1},"b":{"1":[0,4],"2":[2,0],"3":[5,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":1,"2":16,"3":5,"4":4,"5":1,"6":0,"7":2,"8":5,"9":15,"10":0,"11":0,"12":0,"13":4,"14":0,"15":0,"16":0,"17":1,"18":1,"19":0,"20":4},"code":"import {Component} from '../Base/Component';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {InitializationEvents} from '../../events/InitializationEvents';\nimport {$$} from '../../utils/Dom';\nimport {PopupUtils, IPosition, HorizontalAlignment, VerticalAlignment} from '../../utils/PopupUtils';\nimport {IMenuItem} from '../Menu/MenuItem';\nimport {SettingsEvents} from '../../events/SettingsEvents';\nimport {Initialization} from '../Base/Initialization';\n\nexport interface ISettingsPopulateMenuArgs {\n  settings: Settings;\n  menuData: IMenuItem[];\n}\n\nexport interface ISettingsOptions {\n  menuDelay: number;\n}\n\n/**\n * The Settings component is comprised of a settings button (usually located\n * on the right of the search box) which allows for some contextual actions.<br/>\n * This component references other components to show in its menu, for example\n * the {@link ShareQuery} component.\n */\nexport class Settings extends Component {\n  static ID = 'Settings';\n  /**\n   * The options for Settings\n   * @componentOptions\n   */\n  static options: ISettingsOptions = {\n    /**\n     * The delay before hiding the popup menu when the mouse leaves it.<br/>\n     * The default value is <code>300</code>\n     */\n    menuDelay: ComponentOptions.buildNumberOption({ defaultValue: 300, min: 0 })\n  };\n\n  private menu: HTMLElement;\n  private closeTimeout: number;\n  private isOpened: boolean = false;\n\n  /**\n   * Create a new Settings component\n   * @param element\n   * @param options\n   * @param bindings\n   */\n  constructor(public element: HTMLElement, public options: ISettingsOptions, bindings?: IComponentBindings) {\n    super(element, Settings.ID, bindings);\n    this.options = ComponentOptions.initComponentOptions(element, Settings, options);\n    this.bind.onRootElement(InitializationEvents.afterInitialization, () => this.init());\n  }\n\n  /**\n   * Open the settings popup\n   */\n  public open() {\n    this.isOpened = true;\n    if (this.menu != null) {\n      $$(this.menu).detach();\n    }\n    this.menu = this.buildMenu();\n    $$(this.menu).on('mouseleave', () => this.mouseleave());\n    $$(this.menu).on('mouseenter', () => this.mouseenter());\n    PopupUtils.positionPopup(this.menu, this.element, this.root, this.getPopupPositioning(), this.root);\n\n  }\n\n  /**\n   * Close the settings popup\n   */\n  public close() {\n    this.isOpened = false;\n    if (this.menu != null) {\n      $$(this.menu).detach();\n      this.menu = null;\n    }\n  }\n\n  private init() {\n    if (this.searchInterface.isNewDesign()) {\n      var square = $$('span', { className: 'coveo-settings-square' }).el;\n      var squares = $$('span', { className: 'coveo-settings-squares' }).el;\n      _.times(3, () => squares.appendChild(square.cloneNode()));\n      this.element.appendChild(squares);\n    } else {\n      var icon = $$('span', { className: 'coveo-settings-icon' }).el;\n      this.element.appendChild(icon);\n    }\n\n    $$(this.element).on('click', () => {\n      if (this.isOpened) {\n        this.close();\n      } else {\n        this.open();\n      }\n    });\n\n    $$(this.element).on('mouseleave', () => this.mouseleave());\n    $$(this.element).on('mouseenter', () => this.mouseenter());\n  }\n\n  private buildMenu(): HTMLElement {\n    var menu = $$('div', { className: 'coveo-settings-advanced-menu' }).el;\n    var settingsPopulateMenuArgs: ISettingsPopulateMenuArgs = {\n      settings: this,\n      menuData: []\n    }\n    $$(this.root).trigger(SettingsEvents.settingsPopulateMenu, settingsPopulateMenuArgs);\n    _.each(settingsPopulateMenuArgs.menuData, (menuItem) => {\n      var menuItemDom = $$('div', {\n        className: `coveo-settings-item ${menuItem.className}`,\n        title: _.escape(menuItem.tooltip || '')\n      }).el;\n      menuItemDom.appendChild($$('div', { className: 'coveo-icon' }).el);\n      menuItemDom.appendChild($$('div', { className: 'coveo-settings-text' }, _.escape(menuItem.text)).el);\n      $$(menuItemDom).on('click', () => {\n        $$(this.menu).detach();\n        _.each(settingsPopulateMenuArgs.menuData, (menuItem) => {\n          menuItem.onClose && menuItem.onClose();\n        })\n        menuItem.onOpen();\n      });\n      menu.appendChild(menuItemDom);\n    });\n    return menu;\n  }\n\n  private mouseleave() {\n    clearTimeout(this.closeTimeout);\n    this.closeTimeout = setTimeout(() => {\n      this.close();\n    }, this.options.menuDelay)\n  }\n\n  private mouseenter() {\n    clearTimeout(this.closeTimeout);\n  }\n\n  private getPopupPositioning(): IPosition {\n    return {\n      horizontal: HorizontalAlignment.INNERRIGHT,\n      vertical: VerticalAlignment.BOTTOM,\n      verticalOffset: 8\n    }\n  }\n}\nInitialization.registerAutoCreateComponent(Settings);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Settings/Settings.ts\n **/","l":{"1":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":1,"26":17,"27":1,"32":1,"42":16,"50":16,"51":16,"52":16,"53":16,"59":4,"60":4,"61":4,"62":0,"64":4,"65":4,"66":4,"67":4,"74":1,"75":2,"76":2,"77":2,"78":2,"82":5,"83":5,"84":5,"85":5,"86":15,"87":5,"89":0,"90":0,"93":5,"94":0,"95":0,"97":0,"101":5,"102":5,"105":4,"106":4,"107":4,"111":4,"112":4,"113":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"124":0,"126":0,"128":4,"131":1,"132":1,"133":1,"134":1,"138":1,"139":0,"142":1,"143":4,"149":1,"150":1}},"src/ui/ShareQuery/ShareQuery.ts":{"path":"src/ui/ShareQuery/ShareQuery.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":77}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":59}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":41}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":35}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":40}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":40}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":54}},"9":{"start":{"line":20,"column":0},"end":{"line":156,"column":1}},"10":{"start":{"line":20,"column":32},"end":{"line":20,"column":41}},"11":{"start":{"line":34,"column":2},"end":{"line":48,"column":3}},"12":{"start":{"line":35,"column":4},"end":{"line":35,"column":44}},"13":{"start":{"line":34,"column":21},"end":{"line":34,"column":41}},"14":{"start":{"line":34,"column":50},"end":{"line":34,"column":77}},"15":{"start":{"line":36,"column":4},"end":{"line":36,"column":48}},"16":{"start":{"line":37,"column":4},"end":{"line":37,"column":47}},"17":{"start":{"line":38,"column":4},"end":{"line":38,"column":129}},"18":{"start":{"line":38,"column":88},"end":{"line":38,"column":127}},"19":{"start":{"line":40,"column":4},"end":{"line":47,"column":7}},"20":{"start":{"line":41,"column":6},"end":{"line":46,"column":9}},"21":{"start":{"line":44,"column":22},"end":{"line":44,"column":33}},"22":{"start":{"line":45,"column":23},"end":{"line":45,"column":35}},"23":{"start":{"line":53,"column":9},"end":{"line":55,"column":3}},"24":{"start":{"line":54,"column":4},"end":{"line":54,"column":58}},"25":{"start":{"line":60,"column":9},"end":{"line":62,"column":3}},"26":{"start":{"line":61,"column":4},"end":{"line":61,"column":61}},"27":{"start":{"line":67,"column":9},"end":{"line":69,"column":3}},"28":{"start":{"line":68,"column":4},"end":{"line":68,"column":38}},"29":{"start":{"line":74,"column":9},"end":{"line":76,"column":3}},"30":{"start":{"line":75,"column":4},"end":{"line":75,"column":38}},"31":{"start":{"line":81,"column":9},"end":{"line":83,"column":3}},"32":{"start":{"line":82,"column":4},"end":{"line":82,"column":36}},"33":{"start":{"line":88,"column":9},"end":{"line":90,"column":3}},"34":{"start":{"line":89,"column":4},"end":{"line":89,"column":45}},"35":{"start":{"line":92,"column":10},"end":{"line":101,"column":3}},"36":{"start":{"line":93,"column":4},"end":{"line":93,"column":24}},"37":{"start":{"line":94,"column":4},"end":{"line":94,"column":32}},"38":{"start":{"line":95,"column":4},"end":{"line":95,"column":27}},"39":{"start":{"line":97,"column":4},"end":{"line":97,"column":54}},"40":{"start":{"line":98,"column":4},"end":{"line":98,"column":151}},"41":{"start":{"line":100,"column":4},"end":{"line":100,"column":70}},"42":{"start":{"line":103,"column":10},"end":{"line":108,"column":3}},"43":{"start":{"line":104,"column":4},"end":{"line":106,"column":5}},"44":{"start":{"line":105,"column":6},"end":{"line":105,"column":31}},"45":{"start":{"line":107,"column":4},"end":{"line":107,"column":14}},"46":{"start":{"line":110,"column":10},"end":{"line":139,"column":3}},"47":{"start":{"line":110,"column":2},"end":{"line":139,"column":3}},"48":{"start":{"line":111,"column":4},"end":{"line":111,"column":80}},"49":{"start":{"line":112,"column":4},"end":{"line":112,"column":88}},"50":{"start":{"line":113,"column":4},"end":{"line":113,"column":37}},"51":{"start":{"line":115,"column":4},"end":{"line":115,"column":84}},"52":{"start":{"line":116,"column":4},"end":{"line":116,"column":37}},"53":{"start":{"line":117,"column":4},"end":{"line":117,"column":46}},"54":{"start":{"line":117,"column":32},"end":{"line":117,"column":44}},"55":{"start":{"line":118,"column":4},"end":{"line":118,"column":31}},"56":{"start":{"line":120,"column":4},"end":{"line":120,"column":84}},"57":{"start":{"line":122,"column":4},"end":{"line":125,"column":10}},"58":{"start":{"line":126,"column":4},"end":{"line":126,"column":78}},"59":{"start":{"line":126,"column":47},"end":{"line":126,"column":76}},"60":{"start":{"line":128,"column":4},"end":{"line":128,"column":58}},"61":{"start":{"line":129,"column":4},"end":{"line":129,"column":51}},"62":{"start":{"line":130,"column":4},"end":{"line":130,"column":76}},"63":{"start":{"line":132,"column":4},"end":{"line":132,"column":89}},"64":{"start":{"line":133,"column":4},"end":{"line":133,"column":96}},"65":{"start":{"line":134,"column":4},"end":{"line":134,"column":31}},"66":{"start":{"line":136,"column":4},"end":{"line":136,"column":48}},"67":{"start":{"line":138,"column":4},"end":{"line":138,"column":19}},"68":{"start":{"line":141,"column":10},"end":{"line":149,"column":3}},"69":{"start":{"line":142,"column":4},"end":{"line":142,"column":88}},"70":{"start":{"line":143,"column":4},"end":{"line":143,"column":29}},"71":{"start":{"line":145,"column":4},"end":{"line":145,"column":33}},"72":{"start":{"line":146,"column":4},"end":{"line":146,"column":43}},"73":{"start":{"line":147,"column":4},"end":{"line":147,"column":33}},"74":{"start":{"line":148,"column":4},"end":{"line":148,"column":21}},"75":{"start":{"line":151,"column":9},"end":{"line":155,"column":3}},"76":{"start":{"line":152,"column":4},"end":{"line":152,"column":27}},"77":{"start":{"line":154,"column":4},"end":{"line":154,"column":50}},"78":{"start":{"line":21,"column":9},"end":{"line":21,"column":27}},"79":{"start":{"line":22,"column":9},"end":{"line":22,"column":42}},"80":{"start":{"line":156,"column":0},"end":{"line":156,"column":1}},"81":{"start":{"line":20,"column":13},"end":{"line":156,"column":1}},"82":{"start":{"line":158,"column":0},"end":{"line":158,"column":55}}},"fnMap":{"1":{"name":"(anonymous_5920)","line":20,"loc":{"start":{"line":20,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"ShareQuery","line":34,"loc":{"start":{"line":34,"column":2},"end":{"line":34,"column":108}}},"3":{"name":"(anonymous_5922)","line":38,"loc":{"start":{"line":38,"column":54},"end":{"line":38,"column":83}}},"4":{"name":"(anonymous_5923)","line":40,"loc":{"start":{"line":40,"column":65},"end":{"line":40,"column":97}}},"5":{"name":"(anonymous_5924)","line":44,"loc":{"start":{"line":44,"column":16},"end":{"line":44,"column":21}}},"6":{"name":"(anonymous_5925)","line":45,"loc":{"start":{"line":45,"column":17},"end":{"line":45,"column":22}}},"7":{"name":"(anonymous_5926)","line":53,"loc":{"start":{"line":53,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_5927)","line":60,"loc":{"start":{"line":60,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_5928)","line":67,"loc":{"start":{"line":67,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_5929)","line":74,"loc":{"start":{"line":74,"column":2},"end":{"line":74,"column":40}}},"11":{"name":"(anonymous_5930)","line":81,"loc":{"start":{"line":81,"column":2},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_5931)","line":88,"loc":{"start":{"line":88,"column":2},"end":{"line":88,"column":47}}},"13":{"name":"(anonymous_5932)","line":92,"loc":{"start":{"line":92,"column":2},"end":{"line":92,"column":67}}},"14":{"name":"(anonymous_5933)","line":103,"loc":{"start":{"line":103,"column":2},"end":{"line":103,"column":39}}},"15":{"name":"(anonymous_5934)","line":110,"loc":{"start":{"line":110,"column":2},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_5935)","line":117,"loc":{"start":{"line":117,"column":26},"end":{"line":117,"column":31}}},"17":{"name":"(anonymous_5936)","line":126,"loc":{"start":{"line":126,"column":41},"end":{"line":126,"column":46}}},"18":{"name":"(anonymous_5937)","line":141,"loc":{"start":{"line":141,"column":2},"end":{"line":141,"column":70}}},"19":{"name":"(anonymous_5938)","line":151,"loc":{"start":{"line":151,"column":2},"end":{"line":151,"column":86}}}},"branchMap":{"1":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":4},"end":{"line":104,"column":3}},{"start":{"line":104,"column":4},"end":{"line":104,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":5,"10":1,"11":1,"12":4,"13":4,"14":4,"15":4,"16":4,"17":4,"18":1,"19":4,"20":0,"21":0,"22":0,"23":1,"24":1,"25":1,"26":1,"27":1,"28":0,"29":1,"30":0,"31":1,"32":1,"33":1,"34":0,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":3,"44":3,"45":0,"46":1,"47":4,"48":4,"49":4,"50":4,"51":4,"52":4,"53":4,"54":0,"55":4,"56":4,"57":4,"58":4,"59":0,"60":4,"61":4,"62":4,"63":4,"64":4,"65":4,"66":4,"67":4,"68":1,"69":8,"70":8,"71":8,"72":8,"73":8,"74":8,"75":1,"76":0,"77":0,"78":1,"79":1,"80":1,"81":1,"82":1},"b":{"1":[3,0]},"f":{"1":1,"2":4,"3":1,"4":0,"5":0,"6":0,"7":1,"8":1,"9":0,"10":0,"11":1,"12":0,"13":1,"14":3,"15":4,"16":0,"17":0,"18":8,"19":0},"code":"import {Component} from '../Base/Component';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {QueryEvents, IQuerySuccessEventArgs} from '../../events/QueryEvents';\nimport {SettingsEvents} from '../../events/SettingsEvents';\nimport {ISettingsPopulateMenuArgs} from '../Settings/Settings';\nimport {Assert} from '../../misc/Assert';\nimport {$$} from '../../utils/Dom';\nimport {l} from '../../strings/Strings';\nimport {Utils} from '../../utils/Utils';\nimport {Initialization} from '../Base/Initialization';\n\nexport interface IShareQueryOptions {\n}\n\n/**\n * ShareQuery shows 2 text boxes, one with a shareable link and the\n * other with the complete query expression of the currently performed query.<br/>\n * It populates the {@link Settings} component's menu for easy access.\n */\nexport class ShareQuery extends Component {\n  static ID = 'ShareQuery';\n  static options: IShareQueryOptions = {};\n\n  public dialogBoxContent: HTMLElement;\n  private linkToThisQuery: HTMLInputElement;\n  private completeQuery: HTMLInputElement;\n\n  /**\n   * Create a new ShareQuery component.\n   * @param element\n   * @param options\n   * @param bindings\n   */\n  constructor(public element: HTMLElement, public options: IShareQueryOptions, bindings?: IComponentBindings) {\n    super(element, ShareQuery.ID, bindings);\n    this.dialogBoxContent = this.buildContent();\n    element.appendChild(this.dialogBoxContent);\n    this.bind.onRootElement(QueryEvents.querySuccess, (args: IQuerySuccessEventArgs) => this.handleProcessNewQueryResults(args));\n\n    this.bind.onRootElement(SettingsEvents.settingsPopulateMenu, (args: ISettingsPopulateMenuArgs) => {\n      args.menuData.push({\n        className: 'coveo-share-query',\n        text: l('ShareQuery'),\n        onOpen: () => this.open(),\n        onClose: () => this.close()\n      });\n    });\n  }\n\n  /**\n   * Show the ShareQuery\n   */\n  public open() {\n    $$(this.element).addClass('coveo-share-query-opened');\n  }\n\n  /**\n   * Hide the ShareQuery\n   */\n  public close() {\n    $$(this.element).removeClass('coveo-share-query-opened');\n  }\n\n  /**\n   * Get the link to the current query\n   */\n  public getLinkToThisQuery(): string {\n    return this.linkToThisQuery.value;\n  }\n\n  /**\n   * Set the link to the current query\n   */\n  public setLinkToThisQuery(link: string): void {\n    this.linkToThisQuery.value = link;\n  }\n\n  /**\n   * Get the complete query string\n   */\n  public getCompleteQuery(): string {\n    return this.completeQuery.value;\n  }\n\n  /**\n   * Set the complete query string\n   */\n  public setCompleteQuery(completeQuery: string) {\n    this.completeQuery.value = completeQuery;\n  }\n\n  private handleProcessNewQueryResults(args: IQuerySuccessEventArgs) {\n    Assert.exists(args);\n    Assert.exists(args.results);\n    let query = args.query;\n\n    this.linkToThisQuery.value = window.location.href;\n    this.completeQuery.value = Utils.trim(this.outputIfNotNull(query.q) + ' ' + this.outputIfNotNull(query.aq) + ' ' + this.outputIfNotNull(query.cq));\n\n    this.logger.trace('Received query results from new query', query);\n  }\n\n  private outputIfNotNull(value: string): string {\n    if (value) {\n      return '(' + value + ')';\n    }\n    return '';\n  }\n\n  private buildContent(): HTMLElement {\n    let content = $$('div', { className: 'coveo-share-query-summary-info' }).el;\n    content.appendChild($$('span', { className: 'coveo-query-summary-info-title' }).el);\n    $$(content).text(l('ShareQuery'))\n\n    let close = $$('div', { className: 'coveo-share-query-summary-info-close' }).el;\n    close.appendChild($$('span').el);\n    $$(close).on('click', () => this.close());\n    content.appendChild(close);\n\n    let boxes = $$('div', { className: 'coveo-share-query-summary-info-boxes' }).el;\n\n    this.linkToThisQuery = <HTMLInputElement>$$('input', {\n      'type': 'text',\n      className: 'coveo-share-query-summary-info-input'\n    }).el;\n    $$(this.linkToThisQuery).on('click', () => this.linkToThisQuery.select());\n\n    this.completeQuery = <HTMLInputElement>$$('input').el;\n    this.completeQuery.setAttribute('type', 'text')\n    $$(this.completeQuery).addClass('coveo-share-query-summary-info-input');\n\n    boxes.appendChild(this.buildTextBoxWithLabel(l('Link') + ':', this.linkToThisQuery));\n    boxes.appendChild(this.buildTextBoxWithLabel(l('CompleteQuery') + ':', this.completeQuery));\n    content.appendChild(boxes);\n\n    Component.pointElementsToDummyForm(content);\n\n    return content;\n  }\n\n  private buildTextBoxWithLabel(label: string, input: HTMLInputElement): HTMLElement {\n    let labelElement = $$('span', { className: 'coveo-share-query-summary-info-label' })\n    labelElement.text(label);\n\n    let returnDiv = $$('div').el;\n    returnDiv.appendChild(labelElement.el);\n    returnDiv.appendChild(input);\n    return returnDiv;\n  }\n\n  static create(element: HTMLElement, options?: IShareQueryOptions, root?: HTMLElement): ShareQuery {\n    Assert.exists(element);\n\n    return new ShareQuery(element, options, root);\n  }\n}\n\nInitialization.registerAutoCreateComponent(ShareQuery);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/ShareQuery/ShareQuery.ts\n **/","l":{"1":1,"3":1,"4":1,"6":1,"7":1,"8":1,"9":1,"10":1,"20":5,"21":1,"22":1,"34":4,"35":4,"36":4,"37":4,"38":4,"40":4,"41":0,"44":0,"45":0,"53":1,"54":1,"60":1,"61":1,"67":1,"68":0,"74":1,"75":0,"81":1,"82":1,"88":1,"89":0,"92":1,"93":1,"94":1,"95":1,"97":1,"98":1,"100":1,"103":1,"104":3,"105":3,"107":0,"110":4,"111":4,"112":4,"113":4,"115":4,"116":4,"117":4,"118":4,"120":4,"122":4,"126":4,"128":4,"129":4,"130":4,"132":4,"133":4,"134":4,"136":4,"138":4,"141":1,"142":8,"143":8,"145":8,"146":8,"147":8,"148":8,"151":1,"152":0,"154":0,"156":1,"158":1}},"src/ui/Sort/Sort.ts":{"path":"src/ui/Sort/Sort.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":47}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":58}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":40}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":35}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":69}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":61}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":102}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":54}},"11":{"start":{"line":12,"column":0},"end":{"line":12,"column":105}},"12":{"start":{"line":22,"column":0},"end":{"line":206,"column":1}},"13":{"start":{"line":22,"column":26},"end":{"line":22,"column":35}},"14":{"start":{"line":67,"column":2},"end":{"line":90,"column":3}},"15":{"start":{"line":68,"column":4},"end":{"line":68,"column":38}},"16":{"start":{"line":67,"column":21},"end":{"line":67,"column":41}},"17":{"start":{"line":67,"column":50},"end":{"line":67,"column":72}},"18":{"start":{"line":70,"column":4},"end":{"line":70,"column":81}},"19":{"start":{"line":72,"column":4},"end":{"line":72,"column":69}},"20":{"start":{"line":74,"column":4},"end":{"line":74,"column":120}},"21":{"start":{"line":75,"column":4},"end":{"line":75,"column":112}},"22":{"start":{"line":75,"column":77},"end":{"line":75,"column":111}},"23":{"start":{"line":76,"column":4},"end":{"line":76,"column":118}},"24":{"start":{"line":76,"column":88},"end":{"line":76,"column":117}},"25":{"start":{"line":77,"column":4},"end":{"line":77,"column":122}},"26":{"start":{"line":77,"column":90},"end":{"line":77,"column":120}},"27":{"start":{"line":78,"column":4},"end":{"line":78,"column":113}},"28":{"start":{"line":78,"column":84},"end":{"line":78,"column":111}},"29":{"start":{"line":79,"column":4},"end":{"line":79,"column":66}},"30":{"start":{"line":79,"column":46},"end":{"line":79,"column":64}},"31":{"start":{"line":81,"column":4},"end":{"line":83,"column":5}},"32":{"start":{"line":82,"column":6},"end":{"line":82,"column":50}},"33":{"start":{"line":85,"column":4},"end":{"line":87,"column":5}},"34":{"start":{"line":86,"column":6},"end":{"line":86,"column":62}},"35":{"start":{"line":89,"column":4},"end":{"line":89,"column":28}},"36":{"start":{"line":97,"column":9},"end":{"line":111,"column":3}},"37":{"start":{"line":98,"column":4},"end":{"line":108,"column":5}},"38":{"start":{"line":99,"column":6},"end":{"line":101,"column":8}},"39":{"start":{"line":100,"column":8},"end":{"line":100,"column":46}},"40":{"start":{"line":102,"column":11},"end":{"line":108,"column":5}},"41":{"start":{"line":103,"column":6},"end":{"line":103,"column":94}},"42":{"start":{"line":104,"column":6},"end":{"line":104,"column":48}},"43":{"start":{"line":105,"column":6},"end":{"line":105,"column":120}},"44":{"start":{"line":107,"column":6},"end":{"line":107,"column":58}},"45":{"start":{"line":110,"column":4},"end":{"line":110,"column":99}},"46":{"start":{"line":113,"column":9},"end":{"line":117,"column":3}},"47":{"start":{"line":114,"column":4},"end":{"line":114,"column":55}},"48":{"start":{"line":115,"column":4},"end":{"line":115,"column":18}},"49":{"start":{"line":116,"column":4},"end":{"line":116,"column":19}},"50":{"start":{"line":119,"column":9},"end":{"line":122,"column":3}},"51":{"start":{"line":120,"column":4},"end":{"line":120,"column":52}},"52":{"start":{"line":121,"column":4},"end":{"line":121,"column":20}},"53":{"start":{"line":127,"column":9},"end":{"line":129,"column":3}},"54":{"start":{"line":128,"column":4},"end":{"line":128,"column":32}},"55":{"start":{"line":135,"column":9},"end":{"line":137,"column":3}},"56":{"start":{"line":136,"column":4},"end":{"line":136,"column":110}},"57":{"start":{"line":136,"column":76},"end":{"line":136,"column":109}},"58":{"start":{"line":139,"column":10},"end":{"line":141,"column":3}},"59":{"start":{"line":140,"column":4},"end":{"line":140,"column":18}},"60":{"start":{"line":143,"column":10},"end":{"line":153,"column":3}},"61":{"start":{"line":145,"column":4},"end":{"line":145,"column":93}},"62":{"start":{"line":146,"column":4},"end":{"line":151,"column":5}},"63":{"start":{"line":147,"column":6},"end":{"line":147,"column":63}},"64":{"start":{"line":148,"column":6},"end":{"line":148,"column":127}},"65":{"start":{"line":148,"column":91},"end":{"line":148,"column":125}},"66":{"start":{"line":150,"column":6},"end":{"line":150,"column":34}},"67":{"start":{"line":152,"column":4},"end":{"line":152,"column":28}},"68":{"start":{"line":155,"column":10},"end":{"line":164,"column":3}},"69":{"start":{"line":156,"column":4},"end":{"line":156,"column":24}},"70":{"start":{"line":158,"column":4},"end":{"line":158,"column":77}},"71":{"start":{"line":159,"column":4},"end":{"line":163,"column":5}},"72":{"start":{"line":160,"column":6},"end":{"line":162,"column":7}},"73":{"start":{"line":161,"column":8},"end":{"line":161,"column":66}},"74":{"start":{"line":166,"column":10},"end":{"line":172,"column":3}},"75":{"start":{"line":167,"column":4},"end":{"line":171,"column":5}},"76":{"start":{"line":168,"column":6},"end":{"line":168,"column":52}},"77":{"start":{"line":170,"column":6},"end":{"line":170,"column":56}},"78":{"start":{"line":174,"column":10},"end":{"line":176,"column":3}},"79":{"start":{"line":175,"column":4},"end":{"line":175,"column":51}},"80":{"start":{"line":178,"column":10},"end":{"line":187,"column":3}},"81":{"start":{"line":178,"column":2},"end":{"line":187,"column":3}},"82":{"start":{"line":179,"column":4},"end":{"line":179,"column":43}},"83":{"start":{"line":180,"column":4},"end":{"line":180,"column":18}},"84":{"start":{"line":181,"column":4},"end":{"line":186,"column":5}},"85":{"start":{"line":182,"column":6},"end":{"line":185,"column":9}},"86":{"start":{"line":183,"column":34},"end":{"line":184,"column":88}},"87":{"start":{"line":189,"column":10},"end":{"line":191,"column":3}},"88":{"start":{"line":190,"column":4},"end":{"line":190,"column":48}},"89":{"start":{"line":193,"column":10},"end":{"line":195,"column":3}},"90":{"start":{"line":194,"column":4},"end":{"line":194,"column":46}},"91":{"start":{"line":197,"column":10},"end":{"line":204,"column":3}},"92":{"start":{"line":198,"column":4},"end":{"line":198,"column":70}},"93":{"start":{"line":200,"column":4},"end":{"line":203,"column":5}},"94":{"start":{"line":201,"column":6},"end":{"line":201,"column":117}},"95":{"start":{"line":202,"column":6},"end":{"line":202,"column":80}},"96":{"start":{"line":23,"column":9},"end":{"line":23,"column":21}},"97":{"start":{"line":28,"column":9},"end":{"line":57,"column":4}},"98":{"start":{"line":44,"column":6},"end":{"line":50,"column":8}},"99":{"start":{"line":45,"column":8},"end":{"line":49,"column":9}},"100":{"start":{"line":46,"column":10},"end":{"line":46,"column":46}},"101":{"start":{"line":48,"column":10},"end":{"line":48,"column":40}},"102":{"start":{"line":206,"column":0},"end":{"line":206,"column":1}},"103":{"start":{"line":22,"column":13},"end":{"line":206,"column":1}},"104":{"start":{"line":208,"column":0},"end":{"line":208,"column":49}}},"fnMap":{"1":{"name":"(anonymous_5943)","line":22,"loc":{"start":{"line":22,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Sort","line":67,"loc":{"start":{"line":67,"column":2},"end":{"line":67,"column":103}}},"3":{"name":"(anonymous_5945)","line":75,"loc":{"start":{"line":75,"column":39},"end":{"line":75,"column":72}}},"4":{"name":"(anonymous_5946)","line":76,"loc":{"start":{"line":76,"column":54},"end":{"line":76,"column":83}}},"5":{"name":"(anonymous_5947)","line":77,"loc":{"start":{"line":77,"column":55},"end":{"line":77,"column":85}}},"6":{"name":"(anonymous_5948)","line":78,"loc":{"start":{"line":78,"column":52},"end":{"line":78,"column":79}}},"7":{"name":"(anonymous_5949)","line":79,"loc":{"start":{"line":79,"column":40},"end":{"line":79,"column":45}}},"8":{"name":"(anonymous_5950)","line":97,"loc":{"start":{"line":97,"column":2},"end":{"line":97,"column":34}}},"9":{"name":"(anonymous_5951)","line":99,"loc":{"start":{"line":99,"column":63},"end":{"line":99,"column":86}}},"10":{"name":"(anonymous_5952)","line":113,"loc":{"start":{"line":113,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_5953)","line":119,"loc":{"start":{"line":119,"column":2},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_5954)","line":127,"loc":{"start":{"line":127,"column":2},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_5955)","line":135,"loc":{"start":{"line":135,"column":2},"end":{"line":135,"column":29}}},"14":{"name":"(anonymous_5956)","line":136,"loc":{"start":{"line":136,"column":44},"end":{"line":136,"column":71}}},"15":{"name":"(anonymous_5957)","line":139,"loc":{"start":{"line":139,"column":2},"end":{"line":139,"column":66}}},"16":{"name":"(anonymous_5958)","line":143,"loc":{"start":{"line":143,"column":2},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_5959)","line":148,"loc":{"start":{"line":148,"column":63},"end":{"line":148,"column":86}}},"18":{"name":"(anonymous_5960)","line":155,"loc":{"start":{"line":155,"column":2},"end":{"line":155,"column":59}}},"19":{"name":"(anonymous_5961)","line":166,"loc":{"start":{"line":166,"column":2},"end":{"line":166,"column":57}}},"20":{"name":"(anonymous_5962)","line":174,"loc":{"start":{"line":174,"column":2},"end":{"line":174,"column":53}}},"21":{"name":"(anonymous_5963)","line":178,"loc":{"start":{"line":178,"column":2},"end":{"line":null,"column":-1}}},"22":{"name":"(anonymous_5964)","line":183,"loc":{"start":{"line":183,"column":28},"end":{"line":183,"column":33}}},"23":{"name":"(anonymous_5965)","line":189,"loc":{"start":{"line":189,"column":2},"end":{"line":null,"column":-1}}},"24":{"name":"(anonymous_5966)","line":193,"loc":{"start":{"line":193,"column":2},"end":{"line":null,"column":-1}}},"25":{"name":"(anonymous_5967)","line":197,"loc":{"start":{"line":197,"column":2},"end":{"line":null,"column":-1}}},"26":{"name":"(anonymous_5968)","line":43,"loc":{"start":{"line":43,"column":57},"end":{"line":43,"column":91}}},"27":{"name":"(anonymous_5969)","line":44,"loc":{"start":{"line":44,"column":32},"end":{"line":44,"column":41}}}},"branchMap":{"1":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":4},"end":{"line":81,"column":3}},{"start":{"line":81,"column":4},"end":{"line":81,"column":3}}]},"2":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":4},"end":{"line":85,"column":3}},{"start":{"line":85,"column":4},"end":{"line":85,"column":3}}]},"3":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":4},"end":{"line":98,"column":3}},{"start":{"line":98,"column":4},"end":{"line":98,"column":3}}]},"4":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":11},"end":{"line":102,"column":10}},{"start":{"line":102,"column":11},"end":{"line":102,"column":10}}]},"5":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":4},"end":{"line":146,"column":3}},{"start":{"line":146,"column":4},"end":{"line":146,"column":3}}]},"6":{"line":159,"type":"if","locations":[{"start":{"line":159,"column":4},"end":{"line":159,"column":3}},{"start":{"line":159,"column":4},"end":{"line":159,"column":3}}]},"7":{"line":159,"type":"binary-expr","locations":[{"start":{"line":159,"column":8},"end":{"line":159,"column":54}},{"start":{"line":159,"column":58},"end":{"line":159,"column":75}}]},"8":{"line":160,"type":"if","locations":[{"start":{"line":160,"column":6},"end":{"line":160,"column":5}},{"start":{"line":160,"column":6},"end":{"line":160,"column":5}}]},"9":{"line":167,"type":"if","locations":[{"start":{"line":167,"column":4},"end":{"line":167,"column":3}},{"start":{"line":167,"column":4},"end":{"line":167,"column":3}}]},"10":{"line":181,"type":"if","locations":[{"start":{"line":181,"column":4},"end":{"line":181,"column":3}},{"start":{"line":181,"column":4},"end":{"line":181,"column":3}}]},"11":{"line":200,"type":"if","locations":[{"start":{"line":200,"column":4},"end":{"line":200,"column":3}},{"start":{"line":200,"column":4},"end":{"line":200,"column":3}}]},"12":{"line":201,"type":"cond-expr","locations":[{"start":{"line":201,"column":45},"end":{"line":201,"column":75}},{"start":{"line":201,"column":78},"end":{"line":201,"column":116}}]},"13":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":7}},{"start":{"line":45,"column":8},"end":{"line":45,"column":7}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":67,"13":1,"14":1,"15":66,"16":66,"17":66,"18":66,"19":58,"20":58,"21":58,"22":7,"23":58,"24":2,"25":58,"26":6,"27":58,"28":1,"29":58,"30":1,"31":58,"32":58,"33":58,"34":16,"35":58,"36":1,"37":11,"38":2,"39":4,"40":9,"41":1,"42":1,"43":1,"44":8,"45":11,"46":1,"47":1,"48":1,"49":1,"50":1,"51":0,"52":0,"53":1,"54":5,"55":1,"56":0,"57":0,"58":1,"59":7,"60":1,"61":8,"62":8,"63":8,"64":8,"65":8,"66":0,"67":8,"68":1,"69":6,"70":6,"71":6,"72":6,"73":6,"74":1,"75":2,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":0,"86":0,"87":1,"88":124,"89":1,"90":72,"91":1,"92":66,"93":66,"94":18,"95":18,"96":1,"97":1,"98":66,"99":82,"100":82,"101":0,"102":1,"103":1,"104":1},"b":{"1":[58,0],"2":[16,42],"3":[2,9],"4":[1,8],"5":[8,0],"6":[6,0],"7":[6,6],"8":[6,0],"9":[1,1],"10":[0,1],"11":[18,48],"12":[2,16],"13":[82,0]},"f":{"1":1,"2":66,"3":7,"4":2,"5":6,"6":1,"7":1,"8":11,"9":4,"10":1,"11":0,"12":5,"13":0,"14":0,"15":7,"16":8,"17":8,"18":6,"19":2,"20":1,"21":1,"22":0,"23":124,"24":72,"25":66,"26":66,"27":82},"code":"import {Component} from '../Base/Component';\nimport {SortCriteria} from './SortCriteria.ts';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {Assert} from '../../misc/Assert';\nimport {Utils} from '../../utils/Utils';\nimport {$$} from '../../utils/Dom';\nimport {Model, IAttributesChangedEventArg} from '../../models/Model';\nimport {QueryStateModel} from '../../models/QueryStateModel';\nimport {QueryEvents, IQuerySuccessEventArgs, IBuildingQueryEventArgs} from '../../events/QueryEvents';\nimport {Initialization} from '../Base/Initialization';\nimport {analyticsActionCauseList, IAnalyticsResultsSortMeta} from '../Analytics/AnalyticsActionListMeta';\nimport {IQueryErrorEventArgs} from '../../events/QueryEvents';\n\nexport interface ISortOptions {\n  sortCriteria?: SortCriteria[];\n  caption?: string;\n}\n/**\n * This component displays a sort criteria for searching.\n */\nexport class Sort extends Component {\n  static ID = 'Sort';\n  /**\n   * Options for the component\n   * @componentOptions\n   */\n  static options: ISortOptions = {\n    /**\n     * The criteria for sorting<br/>\n     * The available criteria are:\n     * <ul>\n     *   <li><code>relevancy</code></li>\n     *   <li><code>Date</code></li>\n     *   <li><code>qre</code></li>\n     *   <li><code>@fieldname</code> (replace fieldname with an actual field name (e.g. <code>@syssize</code>)</li>\n     * </ul>\n     *\n     * A direction (ascending or descending) can be specified, for example \"date ascending\"<br/>\n     * A Sort component can have multiple criteria, passed as a list<br/>\n     * This option is required.\n     */\n    sortCriteria: ComponentOptions.buildCustomListOption((values: string[] | SortCriteria[]) => {\n      return _.map(<any>values, (criteria) => { // 'any' because Underscore won't accept the union type as an argument.\n        if (typeof criteria === 'string') {\n          return SortCriteria.parse(criteria);\n        } else {\n          return <SortCriteria>criteria;\n        }\n      })\n    }, { required: true }),\n    /**\n     * The caption to display on the element<br/>\n     * If not specified, the component will use the tag's body\n     */\n    caption: ComponentOptions.buildLocalizedStringOption({ required: true })\n  };\n\n  private currentCriteria: SortCriteria;\n\n  /**\n   * Create a new Sort component.\n   * @param element\n   * @param options\n   * @param bindings\n   */\n  constructor(public element: HTMLElement, public options?: ISortOptions, bindings?: IComponentBindings) {\n    super(element, Sort.ID, bindings);\n\n    this.options = ComponentOptions.initComponentOptions(element, Sort, options);\n\n    Assert.isLargerOrEqualsThan(1, this.options.sortCriteria.length);\n\n    var eventName = this.queryStateModel.getEventName(Model.eventTypes.changeOne) + QueryStateModel.attributesEnum.sort;\n    this.bind.onRootElement(eventName, (args: IAttributesChangedEventArg) => this.handleQueryStateChanged(args))\n    this.bind.onRootElement(QueryEvents.querySuccess, (args: IQuerySuccessEventArgs) => this.handleQuerySuccess(args))\n    this.bind.onRootElement(QueryEvents.buildingQuery, (args: IBuildingQueryEventArgs) => this.handleBuildingQuery(args));\n    this.bind.onRootElement(QueryEvents.queryError, (args: IQueryErrorEventArgs) => this.handleQueryError(args));\n    this.bind.on(this.element, 'click', () => this.handleClick());\n\n    if (Utils.isNonEmptyString(this.options.caption)) {\n      $$(this.element).text(this.options.caption);\n    }\n\n    if (this.isToggle()) {\n      this.element.innerHTML += '<span class=\"coveo-icon\" />';\n    }\n\n    this.updateAppearance();\n  }\n\n  /**\n   * Select the Sort component.\n   * @param direction The sort direction (e.g. ascending, descending)<br/>\n   * Will trigger a query if the selection made the criteria change (if it was toggled)\n   */\n  public select(direction?: string) {\n    if (direction) {\n      this.currentCriteria = _.find(this.options.sortCriteria, (criteria: SortCriteria) => {\n        return criteria.direction == direction\n      })\n    } else if (Utils.exists(this.currentCriteria)) {\n      var indexOfCurrentCriteria = _.indexOf(this.options.sortCriteria, this.currentCriteria);\n      Assert.check(indexOfCurrentCriteria >= 0);\n      this.currentCriteria = this.options.sortCriteria[(indexOfCurrentCriteria + 1) % this.options.sortCriteria.length];\n    } else {\n      this.currentCriteria = this.options.sortCriteria[0];\n    }\n\n    this.queryStateModel.set(QueryStateModel.attributesEnum.sort, this.currentCriteria.toString());\n  }\n\n  public enable() {\n    $$(this.element).removeClass('coveo-tab-disabled');\n    this.update();\n    super.enable();\n  }\n\n  public disable() {\n    $$(this.element).addClass('coveo-tab-disabled');\n    super.disable();\n  }\n\n  /**\n   * Get the current SortCriteria.\n   */\n  public getCurrentCriteria(): SortCriteria {\n    return this.currentCriteria;\n  }\n\n  /**\n   * Returns true if one of the sort criterias matches the passed argument.\n   * @param sortId The sort criteria to verify with (e.g. 'date descending')\n   */\n  public match(sortId: string) {\n    return _.any(this.options.sortCriteria, (sortCriteria: SortCriteria) => sortId == sortCriteria.toString())\n  }\n\n  private handleQueryStateChanged(data: IAttributesChangedEventArg) {\n    this.update();\n  }\n\n  private update() {\n    // Basically, if the criteria in the model fits with one of ours, it'll become our active criteria\n    var sortCriteria = <string>this.queryStateModel.get(QueryStateModel.attributesEnum.sort);\n    if (Utils.isNonEmptyString(sortCriteria)) {\n      var criteriaFromModel = SortCriteria.parse(sortCriteria);\n      this.currentCriteria = _.find(this.options.sortCriteria, (criteria: SortCriteria) => criteriaFromModel.equals(criteria));\n    } else {\n      this.currentCriteria = null;\n    }\n    this.updateAppearance();\n  }\n\n  private handleBuildingQuery(data: IBuildingQueryEventArgs) {\n    Assert.exists(data);\n\n    var sort = this.queryStateModel.get(QueryStateModel.attributesEnum.sort);\n    if (sort == QueryStateModel.defaultAttributes.sort || this.isSelected()) {\n      if (this.currentCriteria) {\n        this.currentCriteria.putInQueryBuilder(data.queryBuilder);\n      }\n    }\n  }\n\n  private handleQuerySuccess(data: IQuerySuccessEventArgs) {\n    if (data.results.results.length == 0) {\n      $$(this.element).addClass('coveo-sort-hidden')\n    } else {\n      $$(this.element).removeClass('coveo-sort-hidden');\n    }\n  }\n\n  private handleQueryError(data: IQueryErrorEventArgs) {\n    $$(this.element).addClass('coveo-sort-hidden');\n  }\n\n  private handleClick() {\n    var oldCriteria = this.currentCriteria;\n    this.select();\n    if (oldCriteria != this.currentCriteria) {\n      this.queryController.deferExecuteQuery({\n        beforeExecuteQuery: () => this.usageAnalytics.logSearchEvent<IAnalyticsResultsSortMeta>(analyticsActionCauseList.resultsSort,\n          { resultsSortBy: this.currentCriteria.sort + this.currentCriteria.direction })\n      });\n    }\n  }\n\n  private isToggle(): boolean {\n    return this.options.sortCriteria.length > 1;\n  }\n\n  private isSelected(): boolean {\n    return Utils.exists(this.currentCriteria);\n  }\n\n  private updateAppearance() {\n    $$(this.element).toggleClass('coveo-selected', this.isSelected());\n\n    if (this.isToggle()) {\n      var direction = this.currentCriteria ? this.currentCriteria.direction : this.options.sortCriteria[0].direction;\n      $$(this.element).toggleClass('coveo-ascending', direction == 'ascending');\n    }\n  }\n\n}\n\nInitialization.registerAutoCreateComponent(Sort);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Sort/Sort.ts\n **/","l":{"1":1,"2":1,"3":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"22":67,"23":1,"28":1,"44":66,"45":82,"46":82,"48":0,"67":66,"68":66,"70":66,"72":58,"74":58,"75":58,"76":58,"77":58,"78":58,"79":58,"81":58,"82":58,"85":58,"86":16,"89":58,"97":1,"98":11,"99":2,"100":4,"102":9,"103":1,"104":1,"105":1,"107":8,"110":11,"113":1,"114":1,"115":1,"116":1,"119":1,"120":0,"121":0,"127":1,"128":5,"135":1,"136":0,"139":1,"140":7,"143":1,"145":8,"146":8,"147":8,"148":8,"150":0,"152":8,"155":1,"156":6,"158":6,"159":6,"160":6,"161":6,"166":1,"167":2,"168":1,"170":1,"174":1,"175":1,"178":1,"179":1,"180":1,"181":1,"182":0,"183":0,"189":1,"190":124,"193":1,"194":72,"197":1,"198":66,"200":66,"201":18,"202":18,"206":1,"208":1}},"src/ui/Triggers/Triggers.ts":{"path":"src/ui/Triggers/Triggers.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":58}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":41}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":77}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":35}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":180}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":61}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":54}},"9":{"start":{"line":20,"column":0},"end":{"line":130,"column":1}},"10":{"start":{"line":20,"column":30},"end":{"line":20,"column":39}},"11":{"start":{"line":37,"column":2},"end":{"line":49,"column":3}},"12":{"start":{"line":39,"column":4},"end":{"line":39,"column":42}},"13":{"start":{"line":37,"column":21},"end":{"line":37,"column":41}},"14":{"start":{"line":37,"column":50},"end":{"line":37,"column":76}},"15":{"start":{"line":37,"column":85},"end":{"line":37,"column":114}},"16":{"start":{"line":37,"column":123},"end":{"line":37,"column":139}},"17":{"start":{"line":41,"column":4},"end":{"line":41,"column":42}},"18":{"start":{"line":42,"column":4},"end":{"line":42,"column":85}},"19":{"start":{"line":43,"column":4},"end":{"line":43,"column":27}},"20":{"start":{"line":44,"column":4},"end":{"line":44,"column":32}},"21":{"start":{"line":46,"column":4},"end":{"line":46,"column":28}},"22":{"start":{"line":48,"column":4},"end":{"line":48,"column":89}},"23":{"start":{"line":51,"column":10},"end":{"line":120,"column":3}},"24":{"start":{"line":51,"column":2},"end":{"line":120,"column":3}},"25":{"start":{"line":52,"column":4},"end":{"line":52,"column":24}},"26":{"start":{"line":53,"column":4},"end":{"line":53,"column":32}},"27":{"start":{"line":55,"column":4},"end":{"line":55,"column":29}},"28":{"start":{"line":56,"column":4},"end":{"line":56,"column":34}},"29":{"start":{"line":57,"column":4},"end":{"line":57,"column":28}},"30":{"start":{"line":59,"column":4},"end":{"line":62,"column":5}},"31":{"start":{"line":60,"column":6},"end":{"line":60,"column":65}},"32":{"start":{"line":61,"column":6},"end":{"line":61,"column":13}},"33":{"start":{"line":64,"column":4},"end":{"line":74,"column":7}},"34":{"start":{"line":66,"column":6},"end":{"line":68,"column":23}},"35":{"start":{"line":70,"column":6},"end":{"line":70,"column":47}},"36":{"start":{"line":71,"column":6},"end":{"line":71,"column":101}},"37":{"start":{"line":73,"column":6},"end":{"line":73,"column":25}},"38":{"start":{"line":76,"column":4},"end":{"line":83,"column":13}},"39":{"start":{"line":78,"column":6},"end":{"line":80,"column":23}},"40":{"start":{"line":82,"column":6},"end":{"line":82,"column":53}},"41":{"start":{"line":85,"column":4},"end":{"line":94,"column":13}},"42":{"start":{"line":86,"column":6},"end":{"line":86,"column":82}},"43":{"start":{"line":87,"column":6},"end":{"line":93,"column":8}},"44":{"start":{"line":89,"column":10},"end":{"line":91,"column":27}},"45":{"start":{"line":96,"column":4},"end":{"line":116,"column":7}},"46":{"start":{"line":97,"column":6},"end":{"line":115,"column":7}},"47":{"start":{"line":98,"column":8},"end":{"line":98,"column":68}},"48":{"start":{"line":99,"column":8},"end":{"line":112,"column":9}},"49":{"start":{"line":100,"column":10},"end":{"line":102,"column":14}},"50":{"start":{"line":101,"column":12},"end":{"line":101,"column":49}},"51":{"start":{"line":103,"column":10},"end":{"line":103,"column":43}},"52":{"start":{"line":105,"column":10},"end":{"line":107,"column":26}},"53":{"start":{"line":109,"column":10},"end":{"line":109,"column":45}},"54":{"start":{"line":111,"column":10},"end":{"line":111,"column":143}},"55":{"start":{"line":114,"column":8},"end":{"line":114,"column":135}},"56":{"start":{"line":118,"column":4},"end":{"line":118,"column":63}},"57":{"start":{"line":122,"column":10},"end":{"line":129,"column":3}},"58":{"start":{"line":122,"column":105},"end":{"line":122,"column":128}},"59":{"start":{"line":123,"column":4},"end":{"line":125,"column":7}},"60":{"start":{"line":124,"column":6},"end":{"line":124,"column":33}},"61":{"start":{"line":126,"column":4},"end":{"line":126,"column":81}},"62":{"start":{"line":128,"column":4},"end":{"line":128,"column":35}},"63":{"start":{"line":21,"column":9},"end":{"line":21,"column":25}},"64":{"start":{"line":22,"column":9},"end":{"line":22,"column":40}},"65":{"start":{"line":130,"column":0},"end":{"line":130,"column":1}},"66":{"start":{"line":20,"column":13},"end":{"line":130,"column":1}},"67":{"start":{"line":132,"column":0},"end":{"line":132,"column":53}}},"fnMap":{"1":{"name":"(anonymous_5974)","line":20,"loc":{"start":{"line":20,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Triggers","line":37,"loc":{"start":{"line":37,"column":2},"end":{"line":37,"column":139}}},"3":{"name":"(anonymous_5976)","line":51,"loc":{"start":{"line":51,"column":2},"end":{"line":51,"column":67}}},"4":{"name":"(anonymous_5977)","line":64,"loc":{"start":{"line":64,"column":58},"end":{"line":64,"column":82}}},"5":{"name":"(anonymous_5978)","line":76,"loc":{"start":{"line":76,"column":60},"end":{"line":76,"column":86}}},"6":{"name":"(anonymous_5979)","line":85,"loc":{"start":{"line":85,"column":57},"end":{"line":85,"column":80}}},"7":{"name":"(anonymous_5980)","line":88,"loc":{"start":{"line":88,"column":28},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_5981)","line":96,"loc":{"start":{"line":96,"column":59},"end":{"line":96,"column":84}}},"9":{"name":"(anonymous_5982)","line":100,"loc":{"start":{"line":100,"column":62},"end":{"line":100,"column":75}}},"10":{"name":"(anonymous_5983)","line":122,"loc":{"start":{"line":122,"column":2},"end":{"line":122,"column":128}}},"11":{"name":"(anonymous_5984)","line":123,"loc":{"start":{"line":123,"column":43},"end":{"line":123,"column":66}}}},"branchMap":{"1":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":19},"end":{"line":41,"column":31}},{"start":{"line":41,"column":35},"end":{"line":41,"column":41}}]},"2":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":4},"end":{"line":59,"column":3}},{"start":{"line":59,"column":4},"end":{"line":59,"column":3}}]},"3":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":8},"end":{"line":99,"column":7}},{"start":{"line":99,"column":8},"end":{"line":99,"column":7}}]},"4":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":105},"end":{"line":122,"column":104}},{"start":{"line":122,"column":105},"end":{"line":122,"column":104}}]},"5":{"line":126,"type":"cond-expr","locations":[{"start":{"line":126,"column":59},"end":{"line":126,"column":60}},{"start":{"line":126,"column":63},"end":{"line":126,"column":79}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":13,"13":13,"14":13,"15":13,"16":13,"17":13,"18":13,"19":13,"20":13,"21":13,"22":13,"23":1,"24":15,"25":15,"26":15,"27":15,"28":15,"29":15,"30":15,"31":0,"32":0,"33":15,"34":7,"35":7,"36":7,"37":7,"38":15,"39":2,"40":2,"41":15,"42":2,"43":2,"44":1,"45":15,"46":4,"47":4,"48":4,"49":3,"50":3,"51":3,"52":3,"53":3,"54":1,"55":1,"56":15,"57":1,"58":90,"59":60,"60":60,"61":60,"62":60,"63":1,"64":1,"65":1,"66":1,"67":1},"b":{"1":[13,13],"2":[0,15],"3":[3,1],"4":[30,30],"5":[30,30]},"f":{"1":1,"2":13,"3":15,"4":7,"5":2,"6":2,"7":1,"8":4,"9":3,"10":60,"11":60},"code":"import {Component} from '../Base/Component';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {Assert} from '../../misc/Assert';\nimport {QueryEvents, IQuerySuccessEventArgs} from '../../events/QueryEvents';\nimport {ITriggerNotify, ITriggerExecute, ITriggerRedirect, ITriggerQuery, ITrigger} from '../../rest/Trigger';\nimport {$$} from '../../utils/Dom';\nimport {IAnalyticsTriggerNotify, analyticsActionCauseList, IAnalyticsTriggerRedirect, IAnalyticsTriggerQuery, IAnalyticsTriggerExecute} from '../Analytics/AnalyticsActionListMeta';\nimport {QueryStateModel} from '../../models/QueryStateModel';\nimport {Initialization} from '../Base/Initialization';\n\nexport interface ITriggersOptions {\n}\n\n/**\n * This component enables the use of triggers (<code>notify</code>, <code>execute</code>, <code>query</code>, <code>redirect</code>) generated by the Search API\n * based on <a href='https://developers.coveo.com/display/public/SearchREST/Trigger'>Trigger statements</a>\n * in the query pipeline (See <a href='https://developers.coveo.com/display/public/SearchREST/Managing+the+Query+Pipeline'>Managing the Query Pipeline</a>)\n */\nexport class Triggers extends Component {\n  static ID = 'Triggers';\n  static options: ITriggersOptions = {};\n\n  /**\n   * The list of notifications returned by the Search API for the current query (via 'notify' triggers).<br/>\n   * This list is automatically displayed visually in the component.\n   */\n  public notifications: string[];\n\n  /**\n   * Build a new Triggers component\n   * @param element\n   * @param options\n   * @param bindings\n   * @param _window\n   */\n  constructor(public element: HTMLElement, public options?: ITriggersOptions, public bindings?: IComponentBindings, public _window?: Window) {\n\n    super(element, Triggers.ID, bindings);\n\n    this._window = this._window || window;\n    this.options = ComponentOptions.initComponentOptions(element, Triggers, options);\n    Assert.exists(element);\n    Assert.exists(this.options);\n\n    this.notifications = [];\n\n    this.bind.onRootElement(QueryEvents.querySuccess, this.handleProcessNewQueryResults);\n  }\n\n  private handleProcessNewQueryResults(data: IQuerySuccessEventArgs) {\n    Assert.exists(data);\n    Assert.exists(data.results);\n\n    $$(this.element).empty();\n    this.notifications.length = 0;\n    let showElement = false;\n\n    if (data.results.triggers === undefined) {\n      $$(this.element).toggleClass('coveo-visible', showElement);\n      return;\n    }\n\n    this.executeTriggers(data.results.triggers, 'notify', (trigger: ITriggerNotify) => {\n\n      this.usageAnalytics.logCustomEvent<IAnalyticsTriggerNotify>(analyticsActionCauseList.triggerNotify, {\n        notification: trigger.content\n      }, this.element);\n\n      this.notifications.push(trigger.content);\n      this.element.appendChild($$('div', { className: 'coveo-trigger-notify' }, trigger.content).el);\n\n      showElement = true;\n    });\n\n    this.executeTriggers(data.results.triggers, 'redirect', (trigger: ITriggerRedirect) => {\n\n      this.usageAnalytics.logCustomEvent<IAnalyticsTriggerRedirect>(analyticsActionCauseList.triggerRedirect, {\n        redirectedTo: trigger.content\n      }, this.element);\n\n      this._window.location.replace(trigger.content);\n    }, true);\n\n    this.executeTriggers(data.results.triggers, 'query', (trigger: ITriggerQuery) => {\n      this.queryStateModel.set(QueryStateModel.attributesEnum.q, trigger.content);\n      this.queryController.executeQuery({\n        beforeExecuteQuery: () => {\n          this.usageAnalytics.logCustomEvent<IAnalyticsTriggerQuery>(analyticsActionCauseList.triggerQuery, {\n            query: trigger.content\n          }, this.element);\n        }\n      })\n    }, true);\n\n    this.executeTriggers(data.results.triggers, 'execute', (trigger: ITriggerExecute) => {\n      try {\n        let func: Function = this._window['' + trigger.content.name]\n        if (typeof func === 'function') {\n          let params = _.object(_.map(trigger.content.params, (value, index) => {\n            return ['param' + (index + 1), value]\n          }));\n          params['element'] = this.element;\n\n          this.usageAnalytics.logCustomEvent<IAnalyticsTriggerExecute>(analyticsActionCauseList.triggerExecute, {\n            executed: trigger.content.name\n          }, this.element)\n\n          func.apply(this._window, [params]);\n        } else {\n          this.logger.error(`A trigger tried to call the function '${trigger.content.name}', which doesn't exist.`, this, data.query, trigger);\n        }\n      } catch (error) {\n        this.logger.error(`A trigger called the function '${trigger.content.name}', which threw an error.`, this, data.query, trigger);\n      }\n    });\n\n    $$(this.element).toggleClass('coveo-visible', showElement);\n\n  }\n\n  private executeTriggers(trigger: ITrigger<any>[], type: string, func: (trigger: ITrigger<any>) => any, single: boolean = false) {\n    let triggersOfType = _.filter(trigger, (trigger: ITrigger<any>) => {\n      return trigger.type == type\n    });\n    let oneOrAllTriggers = _.take(triggersOfType, single ? 1 : Number.MAX_VALUE);\n\n    _.each(oneOrAllTriggers, func);\n  }\n}\n\nInitialization.registerAutoCreateComponent(Triggers);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Triggers/Triggers.ts\n **/","l":{"1":1,"3":1,"4":1,"5":1,"7":1,"8":1,"9":1,"10":1,"20":1,"21":1,"22":1,"37":13,"39":13,"41":13,"42":13,"43":13,"44":13,"46":13,"48":13,"51":15,"52":15,"53":15,"55":15,"56":15,"57":15,"59":15,"60":0,"61":0,"64":15,"66":7,"70":7,"71":7,"73":7,"76":15,"78":2,"82":2,"85":15,"86":2,"87":2,"89":1,"96":15,"97":4,"98":4,"99":4,"100":3,"101":3,"103":3,"105":3,"109":3,"111":1,"114":1,"118":15,"122":90,"123":60,"124":60,"126":60,"128":60,"130":1,"132":1}},"src/ui/Recommendation/RecommendationQuery.ts":{"path":"src/ui/Recommendation/RecommendationQuery.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":58}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":78}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":54}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":35}},"7":{"start":{"line":13,"column":0},"end":{"line":45,"column":1}},"8":{"start":{"line":13,"column":41},"end":{"line":13,"column":50}},"9":{"start":{"line":25,"column":2},"end":{"line":40,"column":3}},"10":{"start":{"line":26,"column":4},"end":{"line":26,"column":53}},"11":{"start":{"line":25,"column":21},"end":{"line":25,"column":41}},"12":{"start":{"line":25,"column":50},"end":{"line":25,"column":87}},"13":{"start":{"line":27,"column":4},"end":{"line":27,"column":96}},"14":{"start":{"line":29,"column":4},"end":{"line":38,"column":5}},"15":{"start":{"line":30,"column":6},"end":{"line":34,"column":7}},"16":{"start":{"line":31,"column":8},"end":{"line":31,"column":73}},"17":{"start":{"line":33,"column":8},"end":{"line":33,"column":15}},"18":{"start":{"line":35,"column":6},"end":{"line":37,"column":7}},"19":{"start":{"line":36,"column":8},"end":{"line":36,"column":84}},"20":{"start":{"line":42,"column":10},"end":{"line":44,"column":3}},"21":{"start":{"line":43,"column":4},"end":{"line":43,"column":59}},"22":{"start":{"line":14,"column":9},"end":{"line":14,"column":36}},"23":{"start":{"line":20,"column":9},"end":{"line":21,"column":4}},"24":{"start":{"line":45,"column":0},"end":{"line":45,"column":1}},"25":{"start":{"line":13,"column":13},"end":{"line":45,"column":1}},"26":{"start":{"line":47,"column":0},"end":{"line":47,"column":63}}},"fnMap":{"1":{"name":"(anonymous_5989)","line":13,"loc":{"start":{"line":13,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"RecommendationQuery","line":25,"loc":{"start":{"line":25,"column":2},"end":{"line":25,"column":118}}},"3":{"name":"(anonymous_5991)","line":42,"loc":{"start":{"line":42,"column":2},"end":{"line":42,"column":59}}}},"branchMap":{"1":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":29,"column":3}},{"start":{"line":29,"column":4},"end":{"line":29,"column":3}}]},"2":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":6},"end":{"line":35,"column":5}},{"start":{"line":35,"column":6},"end":{"line":35,"column":5}}]},"3":{"line":35,"type":"binary-expr","locations":[{"start":{"line":35,"column":10},"end":{"line":35,"column":38}},{"start":{"line":35,"column":42},"end":{"line":35,"column":60}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":2,"11":2,"12":2,"13":2,"14":2,"15":1,"16":1,"17":0,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1},"b":{"1":[1,1],"2":[1,0],"3":[1,1]},"f":{"1":1,"2":2,"3":1},"code":"import {Component} from '../Base/Component';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {Utils} from '../../utils/Utils';\nimport {QueryEvents, IBuildingQueryEventArgs} from '../../events/QueryEvents';\nimport {Initialization} from '../Base/Initialization';\nimport {$$} from '../../utils/Dom';\n\n\nexport interface IRecommendationQueryOptions {\n}\n\nexport class RecommendationQuery extends Component {\n  static ID = 'RecommendationQuery';\n\n  /**\n   * The options for the RecommendationQuery component\n   * @componentOptions\n   */\n  static options: IRecommendationQueryOptions = {\n  };\n\n  private content: string;\n\n  constructor(public element: HTMLElement, public options?: IRecommendationQueryOptions, bindings?: IComponentBindings) {\n    super(element, RecommendationQuery.ID, bindings);\n    this.options = ComponentOptions.initComponentOptions(element, RecommendationQuery, options);\n\n    if (this.element.tagName.toLowerCase() === 'script') {\n      try {\n        this.content = Utils.decodeHTMLEntities($$(this.element).text());\n      } catch (e) {\n        return;\n      }\n      if (!_.isUndefined(this.content) && this.content != '') {\n        this.bind.onRootElement(QueryEvents.buildingQuery, this.handleBuildingQuery)\n      }\n    }\n\n  }\n\n  private handleBuildingQuery(data: IBuildingQueryEventArgs) {\n    data.queryBuilder.advancedExpression.add(this.content);\n  }\n}\n\nInitialization.registerAutoCreateComponent(RecommendationQuery)\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Recommendation/RecommendationQuery.ts\n **/","l":{"1":1,"2":1,"4":1,"5":1,"6":1,"7":1,"13":1,"14":1,"20":1,"25":2,"26":2,"27":2,"29":2,"30":1,"31":1,"33":0,"35":1,"36":1,"42":1,"43":1,"45":1,"47":1}},"src/ui/TemplateLoader/TemplateLoader.ts":{"path":"src/ui/TemplateLoader/TemplateLoader.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":44}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":58}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":41}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":81}},"5":{"start":{"line":14,"column":0},"end":{"line":57,"column":1}},"6":{"start":{"line":14,"column":36},"end":{"line":14,"column":45}},"7":{"start":{"line":22,"column":2},"end":{"line":36,"column":3}},"8":{"start":{"line":23,"column":4},"end":{"line":23,"column":48}},"9":{"start":{"line":22,"column":21},"end":{"line":22,"column":41}},"10":{"start":{"line":22,"column":50},"end":{"line":22,"column":82}},"11":{"start":{"line":22,"column":91},"end":{"line":22,"column":120}},"12":{"start":{"line":22,"column":129},"end":{"line":22,"column":150}},"13":{"start":{"line":24,"column":4},"end":{"line":24,"column":91}},"14":{"start":{"line":25,"column":4},"end":{"line":25,"column":54}},"15":{"start":{"line":26,"column":4},"end":{"line":26,"column":31}},"16":{"start":{"line":28,"column":4},"end":{"line":35,"column":5}},"17":{"start":{"line":29,"column":6},"end":{"line":29,"column":106}},"18":{"start":{"line":30,"column":6},"end":{"line":32,"column":7}},"19":{"start":{"line":31,"column":8},"end":{"line":31,"column":26}},"20":{"start":{"line":34,"column":6},"end":{"line":34,"column":24}},"21":{"start":{"line":38,"column":10},"end":{"line":56,"column":3}},"22":{"start":{"line":38,"column":2},"end":{"line":56,"column":3}},"23":{"start":{"line":39,"column":4},"end":{"line":55,"column":5}},"24":{"start":{"line":40,"column":6},"end":{"line":40,"column":53}},"25":{"start":{"line":41,"column":6},"end":{"line":45,"column":8}},"26":{"start":{"line":47,"column":6},"end":{"line":47,"column":97}},"27":{"start":{"line":48,"column":6},"end":{"line":51,"column":8}},"28":{"start":{"line":49,"column":8},"end":{"line":49,"column":86}},"29":{"start":{"line":50,"column":8},"end":{"line":50,"column":125}},"30":{"start":{"line":53,"column":6},"end":{"line":53,"column":93}},"31":{"start":{"line":54,"column":6},"end":{"line":54,"column":87}},"32":{"start":{"line":15,"column":9},"end":{"line":15,"column":31}},"33":{"start":{"line":17,"column":9},"end":{"line":20,"column":4}},"34":{"start":{"line":57,"column":0},"end":{"line":57,"column":1}},"35":{"start":{"line":14,"column":13},"end":{"line":57,"column":1}},"36":{"start":{"line":59,"column":0},"end":{"line":59,"column":59}}},"fnMap":{"1":{"name":"(anonymous_5996)","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"TemplateLoader","line":22,"loc":{"start":{"line":22,"column":2},"end":{"line":22,"column":150}}},"3":{"name":"(anonymous_5998)","line":38,"loc":{"start":{"line":38,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_5999)","line":48,"loc":{"start":{"line":48,"column":22},"end":{"line":48,"column":29}}}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":18},"end":{"line":25,"column":29}},{"start":{"line":25,"column":33},"end":{"line":25,"column":53}}]},"2":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":4},"end":{"line":28,"column":3}},{"start":{"line":28,"column":4},"end":{"line":28,"column":3}}]},"3":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":6},"end":{"line":30,"column":5}},{"start":{"line":30,"column":6},"end":{"line":30,"column":5}}]},"4":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":4},"end":{"line":39,"column":3}},{"start":{"line":39,"column":4},"end":{"line":39,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":1,"34":1,"35":1,"36":1},"b":{"1":[1,1],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":1,"2":1,"3":0,"4":0},"code":"import {Template} from '../Templates/Template';\nimport {Component} from '../Base/Component';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {IQueryResult} from '../../rest/QueryResult';\nimport {Assert} from '../../misc/Assert';\nimport {Initialization, IInitializationParameters} from '../Base/Initialization';\n\nexport interface ITemplateLoaderOptions {\n  template: Template;\n  condition?: String;\n}\n\nexport class TemplateLoader extends Component {\n  static ID = 'TemplateLoader';\n\n  static options: ITemplateLoaderOptions = {\n    template: ComponentOptions.buildTemplateOption(),\n    condition: ComponentOptions.buildStringOption()\n  };\n\n  constructor(public element: HTMLElement, public options?: ITemplateLoaderOptions, public bindings?: IComponentBindings, public result?: IQueryResult) {\n    super(element, TemplateLoader.ID, bindings);\n    this.options = ComponentOptions.initComponentOptions(element, TemplateLoader, options);\n    this.result = this.result || this.resolveResult();\n    Assert.exists(this.result);\n\n    if (this.options.condition != null) {\n      var conditionFunction = new Function('obj', 'with(obj||{}){return ' + this.options.condition + '}');\n      if (conditionFunction(this.result)) {\n        this.initialize();\n      }\n    } else {\n      this.initialize();\n    }\n  }\n\n  private initialize() {\n    if (this.options.template != null) {\n      var initOptions = this.searchInterface.options;\n      var initParameters: IInitializationParameters = {\n        options: initOptions,\n        bindings: this.bindings,\n        result: this.result\n      };\n\n      var parents = $(this.element).parents('.' + Component.computeCssClassName(TemplateLoader));\n      _.each(parents, (parent) => {\n        var parentHTML = $(parent).clone().children().remove().end().get(0).outerHTML;\n        Assert.check(parentHTML.indexOf(this.element.outerHTML) === -1, 'TemplateLoader cannot load a template into itself.')\n      })\n\n      this.element.innerHTML = this.options.template.instantiateToString(this.result, false);\n      Initialization.automaticallyCreateComponentsInside(this.element, initParameters);\n    }\n  }\n}\n\nInitialization.registerAutoCreateComponent(TemplateLoader);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/TemplateLoader/TemplateLoader.ts\n **/","l":{"2":1,"3":1,"6":1,"7":1,"14":1,"15":1,"17":1,"22":1,"23":1,"24":1,"25":1,"26":0,"28":0,"29":0,"30":0,"31":0,"34":0,"38":1,"39":0,"40":0,"41":0,"47":0,"48":0,"49":0,"50":0,"53":0,"54":0,"57":1,"59":1}},"src/ui/Misc/SuggestionForOmnibox.ts":{"path":"src/ui/Misc/SuggestionForOmnibox.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":46}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}},"3":{"start":{"line":28,"column":0},"end":{"line":72,"column":1}},"4":{"start":{"line":30,"column":2},"end":{"line":31,"column":3}},"5":{"start":{"line":30,"column":21},"end":{"line":30,"column":61}},"6":{"start":{"line":30,"column":70},"end":{"line":30,"column":136}},"7":{"start":{"line":33,"column":9},"end":{"line":47,"column":3}},"8":{"start":{"line":34,"column":4},"end":{"line":34,"column":29}},"9":{"start":{"line":35,"column":4},"end":{"line":45,"column":5}},"10":{"start":{"line":36,"column":6},"end":{"line":36,"column":29}},"11":{"start":{"line":37,"column":6},"end":{"line":40,"column":7}},"12":{"start":{"line":38,"column":8},"end":{"line":38,"column":47}},"13":{"start":{"line":39,"column":8},"end":{"line":39,"column":36}},"14":{"start":{"line":41,"column":6},"end":{"line":41,"column":54}},"15":{"start":{"line":42,"column":6},"end":{"line":44,"column":8}},"16":{"start":{"line":43,"column":8},"end":{"line":43,"column":33}},"17":{"start":{"line":46,"column":4},"end":{"line":46,"column":19}},"18":{"start":{"line":49,"column":10},"end":{"line":53,"column":3}},"19":{"start":{"line":50,"column":4},"end":{"line":52,"column":11}},"20":{"start":{"line":55,"column":10},"end":{"line":71,"column":3}},"21":{"start":{"line":55,"column":2},"end":{"line":71,"column":3}},"22":{"start":{"line":56,"column":4},"end":{"line":56,"column":17}},"23":{"start":{"line":57,"column":4},"end":{"line":69,"column":6}},"24":{"start":{"line":58,"column":6},"end":{"line":61,"column":13}},"25":{"start":{"line":62,"column":6},"end":{"line":64,"column":8}},"26":{"start":{"line":63,"column":8},"end":{"line":63,"column":53}},"27":{"start":{"line":65,"column":6},"end":{"line":67,"column":8}},"28":{"start":{"line":66,"column":8},"end":{"line":66,"column":53}},"29":{"start":{"line":68,"column":6},"end":{"line":68,"column":19}},"30":{"start":{"line":70,"column":4},"end":{"line":70,"column":15}},"31":{"start":{"line":72,"column":0},"end":{"line":72,"column":1}},"32":{"start":{"line":28,"column":13},"end":{"line":72,"column":1}}},"fnMap":{"1":{"name":"(anonymous_6002)","line":28,"loc":{"start":{"line":28,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"SuggestionForOmnibox","line":30,"loc":{"start":{"line":30,"column":2},"end":{"line":30,"column":136}}},"3":{"name":"(anonymous_6004)","line":33,"loc":{"start":{"line":33,"column":2},"end":{"line":33,"column":100}}},"4":{"name":"(anonymous_6005)","line":42,"loc":{"start":{"line":42,"column":19},"end":{"line":42,"column":23}}},"5":{"name":"(anonymous_6006)","line":49,"loc":{"start":{"line":49,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_6007)","line":55,"loc":{"start":{"line":55,"column":2},"end":{"line":55,"column":98}}},"7":{"name":"(anonymous_6008)","line":57,"loc":{"start":{"line":57,"column":20},"end":{"line":57,"column":27}}},"8":{"name":"(anonymous_6009)","line":62,"loc":{"start":{"line":62,"column":26},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_6010)","line":65,"loc":{"start":{"line":65,"column":35},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":4},"end":{"line":35,"column":3}},{"start":{"line":35,"column":4},"end":{"line":35,"column":3}}]},"2":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":6},"end":{"line":37,"column":5}},{"start":{"line":37,"column":6},"end":{"line":37,"column":5}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":20,"6":20,"7":1,"8":13,"9":13,"10":13,"11":13,"12":0,"13":0,"14":13,"15":13,"16":39,"17":13,"18":1,"19":0,"20":1,"21":13,"22":13,"23":13,"24":39,"25":39,"26":7,"27":39,"28":0,"29":39,"30":13,"31":1,"32":1},"b":{"1":[13,0],"2":[0,13]},"f":{"1":1,"2":20,"3":13,"4":39,"5":0,"6":13,"7":39,"8":7,"9":0},"code":"import {IPopulateOmniboxEventArgs} from '../../events/OmniboxEvents';\nimport {DomUtils} from '../../utils/DomUtils';\nimport {$$} from '../../utils/Dom';\n\nexport interface ISuggestionForOmniboxOptionsOnSelect {\n  (value: string, args: IPopulateOmniboxEventArgs): void;\n}\n\nexport interface ISuggestionForOmniboxOptions {\n  omniboxZIndex?: number;\n  headerTitle?: string;\n  onSelect?: ISuggestionForOmniboxOptionsOnSelect;\n  numberOfSuggestions?: number;\n}\n\nexport interface ISuggestionForOmniboxTemplate {\n  header?: {\n    template: (...args: any[]) => string;\n    title: string;\n  };\n  row: (...args: any[]) => string;\n}\n\nexport interface ISuggestionForOmniboxResult {\n  value: string;\n}\n\nexport class SuggestionForOmnibox {\n\n  constructor(public structure: ISuggestionForOmniboxTemplate, public onSelect: (value: string, args: IPopulateOmniboxEventArgs) => void) {\n  }\n\n  public buildOmniboxElement(results: ISuggestionForOmniboxResult[], args: IPopulateOmniboxEventArgs): HTMLElement {\n    let element: HTMLElement;\n    if (results.length != 0) {\n      element = $$('div').el;\n      if (this.structure.header) {\n        let header = this.buildElementHeader();\n        element.appendChild(header);\n      }\n      let rows = this.buildRowElements(results, args);\n      _.each(rows, (row) => {\n        element.appendChild(row);\n      })\n    }\n    return element;\n  }\n\n  private buildElementHeader(): HTMLElement {\n    return $$('div', undefined, this.structure.header.template({\n      headerTitle: this.structure.header.title\n    })).el;\n  }\n\n  private buildRowElements(results: ISuggestionForOmniboxResult[], args: IPopulateOmniboxEventArgs): HTMLElement[] {\n    let ret = [];\n    _.each(results, (result) => {\n      let row = $$('div', undefined, this.structure.row({\n        rawValue: result.value,\n        data: DomUtils.highlightElement(result.value, args.completeQueryExpression.word)\n      })).el;\n      $$(row).on('click', () => {\n        this.onSelect.call(this, result.value, args);\n      })\n      $$(row).on('keyboardSelect', () => {\n        this.onSelect.call(this, result.value, args);\n      })\n      ret.push(row)\n    })\n    return ret;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Misc/SuggestionForOmnibox.ts\n **/","l":{"2":1,"3":1,"28":1,"30":20,"33":1,"34":13,"35":13,"36":13,"37":13,"38":0,"39":0,"41":13,"42":13,"43":39,"46":13,"49":1,"50":0,"55":13,"56":13,"57":13,"58":39,"62":39,"63":7,"65":39,"66":0,"68":39,"70":13,"72":1}},"src/ui/AnalyticsSuggestions/AnalyticsSuggestions.ts":{"path":"src/ui/AnalyticsSuggestions/AnalyticsSuggestions.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":127}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":58}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":44}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":84}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":53}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":40}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":61}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":107}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":54}},"11":{"start":{"line":12,"column":0},"end":{"line":12,"column":35}},"12":{"start":{"line":23,"column":0},"end":{"line":194,"column":1}},"13":{"start":{"line":23,"column":42},"end":{"line":23,"column":51}},"14":{"start":{"line":52,"column":2},"end":{"line":83,"column":3}},"15":{"start":{"line":53,"column":4},"end":{"line":53,"column":54}},"16":{"start":{"line":52,"column":43},"end":{"line":52,"column":80}},"17":{"start":{"line":47,"column":10},"end":{"line":47,"column":40}},"18":{"start":{"line":48,"column":10},"end":{"line":48,"column":41}},"19":{"start":{"line":49,"column":10},"end":{"line":49,"column":34}},"20":{"start":{"line":56,"column":4},"end":{"line":58,"column":5}},"21":{"start":{"line":57,"column":6},"end":{"line":57,"column":85}},"22":{"start":{"line":60,"column":4},"end":{"line":60,"column":102}},"23":{"start":{"line":62,"column":4},"end":{"line":62,"column":148}},"24":{"start":{"line":63,"column":4},"end":{"line":63,"column":73}},"25":{"start":{"line":65,"column":4},"end":{"line":65,"column":59}},"26":{"start":{"line":66,"column":4},"end":{"line":76,"column":5}},"27":{"start":{"line":67,"column":6},"end":{"line":69,"column":8}},"28":{"start":{"line":71,"column":6},"end":{"line":71,"column":198}},"29":{"start":{"line":72,"column":6},"end":{"line":75,"column":8}},"30":{"start":{"line":78,"column":4},"end":{"line":80,"column":7}},"31":{"start":{"line":79,"column":6},"end":{"line":79,"column":52}},"32":{"start":{"line":81,"column":4},"end":{"line":81,"column":130}},"33":{"start":{"line":81,"column":96},"end":{"line":81,"column":128}},"34":{"start":{"line":82,"column":4},"end":{"line":82,"column":86}},"35":{"start":{"line":82,"column":60},"end":{"line":82,"column":84}},"36":{"start":{"line":92,"column":9},"end":{"line":105,"column":3}},"37":{"start":{"line":93,"column":4},"end":{"line":104,"column":5}},"38":{"start":{"line":94,"column":6},"end":{"line":103,"column":7}},"39":{"start":{"line":95,"column":8},"end":{"line":97,"column":9}},"40":{"start":{"line":96,"column":10},"end":{"line":96,"column":86}},"41":{"start":{"line":99,"column":8},"end":{"line":99,"column":146}},"42":{"start":{"line":100,"column":8},"end":{"line":102,"column":9}},"43":{"start":{"line":101,"column":10},"end":{"line":101,"column":58}},"44":{"start":{"line":107,"column":10},"end":{"line":147,"column":3}},"45":{"start":{"line":107,"column":2},"end":{"line":147,"column":3}},"46":{"start":{"line":108,"column":4},"end":{"line":108,"column":24}},"47":{"start":{"line":110,"column":4},"end":{"line":144,"column":6}},"48":{"start":{"line":111,"column":6},"end":{"line":114,"column":9}},"49":{"start":{"line":116,"column":6},"end":{"line":138,"column":9}},"50":{"start":{"line":117,"column":8},"end":{"line":121,"column":11}},"51":{"start":{"line":118,"column":10},"end":{"line":120,"column":11}},"52":{"start":{"line":122,"column":8},"end":{"line":122,"column":39}},"53":{"start":{"line":123,"column":8},"end":{"line":125,"column":9}},"54":{"start":{"line":124,"column":10},"end":{"line":124,"column":70}},"55":{"start":{"line":126,"column":8},"end":{"line":126,"column":99}},"56":{"start":{"line":127,"column":8},"end":{"line":127,"column":48}},"57":{"start":{"line":128,"column":8},"end":{"line":133,"column":10}},"58":{"start":{"line":129,"column":10},"end":{"line":132,"column":11}},"59":{"start":{"line":134,"column":8},"end":{"line":137,"column":10}},"60":{"start":{"line":139,"column":6},"end":{"line":143,"column":9}},"61":{"start":{"line":140,"column":8},"end":{"line":142,"column":10}},"62":{"start":{"line":146,"column":4},"end":{"line":146,"column":42}},"63":{"start":{"line":149,"column":10},"end":{"line":160,"column":3}},"64":{"start":{"line":150,"column":4},"end":{"line":150,"column":17}},"65":{"start":{"line":151,"column":4},"end":{"line":151,"column":24}},"66":{"start":{"line":152,"column":4},"end":{"line":152,"column":70}},"67":{"start":{"line":153,"column":4},"end":{"line":158,"column":7}},"68":{"start":{"line":159,"column":4},"end":{"line":159,"column":40}},"69":{"start":{"line":162,"column":10},"end":{"line":193,"column":3}},"70":{"start":{"line":162,"column":45},"end":{"line":162,"column":63}},"71":{"start":{"line":164,"column":4},"end":{"line":166,"column":7}},"72":{"start":{"line":165,"column":6},"end":{"line":165,"column":53}},"73":{"start":{"line":170,"column":4},"end":{"line":172,"column":7}},"74":{"start":{"line":171,"column":6},"end":{"line":171,"column":39}},"75":{"start":{"line":175,"column":4},"end":{"line":175,"column":41}},"76":{"start":{"line":176,"column":4},"end":{"line":182,"column":10}},"77":{"start":{"line":177,"column":6},"end":{"line":177,"column":45}},"78":{"start":{"line":178,"column":6},"end":{"line":180,"column":7}},"79":{"start":{"line":179,"column":8},"end":{"line":179,"column":50}},"80":{"start":{"line":181,"column":6},"end":{"line":181,"column":24}},"81":{"start":{"line":183,"column":4},"end":{"line":183,"column":52}},"82":{"start":{"line":184,"column":4},"end":{"line":184,"column":32}},"83":{"start":{"line":188,"column":4},"end":{"line":190,"column":5}},"84":{"start":{"line":189,"column":6},"end":{"line":189,"column":62}},"85":{"start":{"line":192,"column":4},"end":{"line":192,"column":29}},"86":{"start":{"line":24,"column":9},"end":{"line":24,"column":37}},"87":{"start":{"line":29,"column":9},"end":{"line":44,"column":4}},"88":{"start":{"line":194,"column":0},"end":{"line":194,"column":1}},"89":{"start":{"line":23,"column":13},"end":{"line":194,"column":1}},"90":{"start":{"line":195,"column":0},"end":{"line":195,"column":65}}},"fnMap":{"1":{"name":"(anonymous_6015)","line":23,"loc":{"start":{"line":23,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"AnalyticsSuggestions","line":52,"loc":{"start":{"line":52,"column":2},"end":{"line":52,"column":111}}},"3":{"name":"(anonymous_6017)","line":78,"loc":{"start":{"line":78,"column":78},"end":{"line":78,"column":125}}},"4":{"name":"(anonymous_6018)","line":81,"loc":{"start":{"line":81,"column":59},"end":{"line":81,"column":91}}},"5":{"name":"(anonymous_6019)","line":82,"loc":{"start":{"line":82,"column":54},"end":{"line":82,"column":59}}},"6":{"name":"(anonymous_6020)","line":92,"loc":{"start":{"line":92,"column":2},"end":{"line":92,"column":41}}},"7":{"name":"(anonymous_6021)","line":107,"loc":{"start":{"line":107,"column":2},"end":{"line":107,"column":63}}},"8":{"name":"(anonymous_6022)","line":110,"loc":{"start":{"line":110,"column":30},"end":{"line":110,"column":46}}},"9":{"name":"(anonymous_6023)","line":116,"loc":{"start":{"line":116,"column":25},"end":{"line":116,"column":43}}},"10":{"name":"(anonymous_6024)","line":117,"loc":{"start":{"line":117,"column":49},"end":{"line":117,"column":56}}},"11":{"name":"(anonymous_6025)","line":128,"loc":{"start":{"line":128,"column":64},"end":{"line":128,"column":79}}},"12":{"name":"(anonymous_6026)","line":139,"loc":{"start":{"line":139,"column":26},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_6027)","line":149,"loc":{"start":{"line":149,"column":2},"end":{"line":149,"column":71}}},"14":{"name":"(anonymous_6028)","line":162,"loc":{"start":{"line":162,"column":2},"end":{"line":162,"column":63}}},"15":{"name":"(anonymous_6029)","line":164,"loc":{"start":{"line":164,"column":32},"end":{"line":164,"column":80}}},"16":{"name":"(anonymous_6030)","line":170,"loc":{"start":{"line":170,"column":29},"end":{"line":170,"column":37}}},"17":{"name":"(anonymous_6031)","line":176,"loc":{"start":{"line":176,"column":27},"end":{"line":176,"column":57}}}},"branchMap":{"1":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":4},"end":{"line":56,"column":3}},{"start":{"line":56,"column":4},"end":{"line":56,"column":3}}]},"2":{"line":56,"type":"binary-expr","locations":[{"start":{"line":56,"column":8},"end":{"line":56,"column":20}},{"start":{"line":56,"column":24},"end":{"line":56,"column":66}}]},"3":{"line":63,"type":"binary-expr","locations":[{"start":{"line":63,"column":28},"end":{"line":63,"column":49}},{"start":{"line":63,"column":53},"end":{"line":63,"column":72}}]},"4":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":4},"end":{"line":66,"column":3}},{"start":{"line":66,"column":4},"end":{"line":66,"column":3}}]},"5":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":4},"end":{"line":93,"column":3}},{"start":{"line":93,"column":4},"end":{"line":93,"column":3}}]},"6":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":6},"end":{"line":94,"column":5}},{"start":{"line":94,"column":6},"end":{"line":94,"column":5}}]},"7":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":8},"end":{"line":95,"column":7}},{"start":{"line":95,"column":8},"end":{"line":95,"column":7}}]},"8":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":8},"end":{"line":100,"column":7}},{"start":{"line":100,"column":8},"end":{"line":100,"column":7}}]},"9":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":8},"end":{"line":123,"column":7}},{"start":{"line":123,"column":8},"end":{"line":123,"column":7}}]},"10":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":12},"end":{"line":123,"column":47}},{"start":{"line":123,"column":51},"end":{"line":123,"column":90}}]},"11":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":45},"end":{"line":162,"column":44}},{"start":{"line":162,"column":45},"end":{"line":162,"column":44}}]},"12":{"line":165,"type":"binary-expr","locations":[{"start":{"line":165,"column":13},"end":{"line":165,"column":22}},{"start":{"line":165,"column":26},"end":{"line":165,"column":52}}]},"13":{"line":178,"type":"if","locations":[{"start":{"line":178,"column":6},"end":{"line":178,"column":5}},{"start":{"line":178,"column":6},"end":{"line":178,"column":5}}]},"14":{"line":188,"type":"if","locations":[{"start":{"line":188,"column":4},"end":{"line":188,"column":3}},{"start":{"line":188,"column":4},"end":{"line":188,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":12,"13":1,"14":1,"15":11,"16":11,"17":11,"18":11,"19":11,"20":11,"21":0,"22":11,"23":11,"24":11,"25":11,"26":11,"27":11,"28":0,"29":0,"30":11,"31":6,"32":11,"33":13,"34":11,"35":0,"36":1,"37":6,"38":6,"39":1,"40":1,"41":5,"42":5,"43":5,"44":1,"45":13,"46":13,"47":13,"48":13,"49":13,"50":11,"51":33,"52":11,"53":11,"54":11,"55":11,"56":11,"57":11,"58":33,"59":11,"60":13,"61":0,"62":13,"63":1,"64":6,"65":6,"66":6,"67":6,"68":6,"69":1,"70":24,"71":12,"72":28,"73":12,"74":26,"75":12,"76":12,"77":26,"78":26,"79":25,"80":26,"81":12,"82":12,"83":12,"84":0,"85":12,"86":1,"87":1,"88":1,"89":1,"90":1},"b":{"1":[0,11],"2":[11,11],"3":[11,11],"4":[11,0],"5":[6,0],"6":[1,5],"7":[1,0],"8":[5,0],"9":[11,0],"10":[11,11],"11":[12,0],"12":[28,16],"13":[25,1],"14":[0,12]},"f":{"1":1,"2":11,"3":6,"4":13,"5":0,"6":6,"7":13,"8":13,"9":11,"10":33,"11":33,"12":0,"13":6,"14":12,"15":28,"16":26,"17":26},"code":"import {ISuggestionForOmniboxOptions, SuggestionForOmnibox, ISuggestionForOmniboxTemplate} from '../Misc/SuggestionForOmnibox';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {Component} from '../Base/Component';\nimport {Assert} from '../../misc/Assert';\nimport {OmniboxEvents, IPopulateOmniboxEventArgs} from '../../events/OmniboxEvents';\nimport {QueryEvents} from '../../events/QueryEvents';\nimport {l} from '../../strings/Strings';\nimport {QueryStateModel} from '../../models/QueryStateModel';\nimport {analyticsActionCauseList, IAnalyticsTopSuggestionMeta} from '../Analytics/AnalyticsActionListMeta';\nimport {Initialization} from '../Base/Initialization';\nimport {$$} from '../../utils/Dom';\n\nexport interface IAnalyticsSuggestionsOptions extends ISuggestionForOmniboxOptions {\n}\n\n/**\n * This component is used to provide query suggestions based on the most commonly logged queries by a Coveo Analytics service.\n * In order to provide relevant suggestions, they are shown in order of successful document views: thus, queries resulting in no clicks from users or that require refinements are not suggested if better options exist.\n * These suggestions appear in the Omnibox Component. This component is thus highly related to the {@link Analytics} Component.\n * While a user is typing in a query box, he will be able to see and select the most commonly used queries.\n */\nexport class AnalyticsSuggestions extends Component {\n  static ID = 'AnalyticsSuggestions';\n  /**\n   * The options for the component\n   * @componentOptions\n   */\n  static options: IAnalyticsSuggestionsOptions = {\n    /**\n     * The index at which the suggestions should render in the omnibox. Higher value = placed first.<br/>\n     * The default value is `52`\n     */\n    omniboxZIndex: ComponentOptions.buildNumberOption({ defaultValue: 52, min: 0 }),\n    /**\n     * Specifies the title in the Omnibox for this group of suggestions. This option is not available when using the Lightning Friendly Theme, which is the default design.\n     */\n    headerTitle: ComponentOptions.buildLocalizedStringOption({ defaultValue: l('SuggestedQueries') }),\n    /**\n     * The number of suggestions that should be requested and displayed in the omnibox.<br/>\n     * The default value is `5`\n     */\n    numberOfSuggestions: ComponentOptions.buildNumberOption({ defaultValue: 5, min: 1 })\n  };\n\n  private suggestionForOmnibox: SuggestionForOmnibox;\n  private partialQueries: string[] = [];\n  private lastSuggestions: string[] = [];\n  private resultsToBuildWith = [];\n  private currentlyDisplayedSuggestions: { [suggestion: string]: { element: HTMLElement, pos: number } };\n\n  constructor(element: HTMLElement, public options: IAnalyticsSuggestionsOptions, bindings?: IComponentBindings) {\n    super(element, AnalyticsSuggestions.ID, bindings);\n\n\n    if (this.options && 'omniboxSuggestionOptions' in this.options) {\n      this.options = _.extend(this.options, this.options['omniboxSuggestionOptions'])\n    }\n\n    this.options = ComponentOptions.initComponentOptions(element, AnalyticsSuggestions, this.options);\n\n    let rowTemplate = _.template(`<div class='magic-box-suggestion coveo-omnibox-selectable coveo-top-analytics-suggestion-row'><%= data %></div>`);\n    this.options.onSelect = this.options.onSelect || this.onRowSelection;\n\n    let suggestionStructure: ISuggestionForOmniboxTemplate;\n    if (this.searchInterface.isNewDesign()) {\n      suggestionStructure = {\n        row: rowTemplate\n      };\n    } else {\n      let headerTemplate = _.template(`<div class='coveo-top-analytics-suggestion-header'><span class='coveo-icon-top-analytics'></span><span class='coveo-caption'><%= headerTitle %></span></div>`);\n      suggestionStructure = {\n        header: { template: headerTemplate, title: this.options.headerTitle },\n        row: rowTemplate\n      };\n    }\n\n    this.suggestionForOmnibox = new SuggestionForOmnibox(suggestionStructure, (value: string, args: IPopulateOmniboxEventArgs) => {\n      this.options.onSelect.call(this, value, args);\n    });\n    this.bind.onRootElement(OmniboxEvents.populateOmnibox, (args: IPopulateOmniboxEventArgs) => this.handlePopulateOmnibox(args));\n    this.bind.onRootElement(QueryEvents.querySuccess, () => this.partialQueries = []);\n  }\n\n  /**\n   * Select a currently displayed suggestion. This means that at least one suggestion must have been returned at least once.\n   * The suggestion parameter can either be a number (0 based index of the suggestion to select) or a string that match the suggestion\n   * @param suggestion\n   */\n  public selectSuggestion(suggestion: number);\n  public selectSuggestion(suggestion: string);\n  public selectSuggestion(suggestion: any) {\n    if (this.currentlyDisplayedSuggestions) {\n      if (isNaN(suggestion)) {\n        if (this.currentlyDisplayedSuggestions[suggestion]) {\n          $$(this.currentlyDisplayedSuggestions[suggestion].element).trigger('click');\n        }\n      } else {\n        let currentlySuggested = <{ element: HTMLElement, pos: number }>_.findWhere(<any>this.currentlyDisplayedSuggestions, { pos: suggestion });\n        if (currentlySuggested) {\n          $$(currentlySuggested.element).trigger('click');\n        }\n      }\n    }\n  }\n\n  private handlePopulateOmnibox(args: IPopulateOmniboxEventArgs) {\n    Assert.exists(args);\n\n    var promise = new Promise((resolve, reject) => {\n      let searchPromise = this.usageAnalytics.getTopQueries({\n        pageSize: this.options.numberOfSuggestions,\n        queryText: args.completeQueryExpression.word\n      });\n\n      searchPromise.then((results: string[]) => {\n        this.resultsToBuildWith = _.map(results, (result) => {\n          return {\n            value: result\n          }\n        });\n        this.lastSuggestions = results;\n        if (!_.isEmpty(this.resultsToBuildWith) && args.completeQueryExpression.word != '') {\n          this.partialQueries.push(args.completeQueryExpression.word);\n        }\n        let element = this.suggestionForOmnibox.buildOmniboxElement(this.resultsToBuildWith, args);\n        this.currentlyDisplayedSuggestions = {};\n        _.map($$(element).findAll('.coveo-omnibox-selectable'), (selectable, i?) => {\n          this.currentlyDisplayedSuggestions[$$(selectable).text()] = {\n            element: selectable,\n            pos: i\n          }\n        })\n        resolve({\n          element: element,\n          zIndex: this.options.omniboxZIndex\n        })\n      });\n      searchPromise.catch(() => {\n        resolve({\n          element: undefined\n        })\n      });\n    })\n\n    args.rows.push({ deferred: promise });\n  }\n\n  private onRowSelection(value: string, args: IPopulateOmniboxEventArgs) {\n    args.clear();\n    args.closeOmnibox();\n    this.queryStateModel.set(QueryStateModel.attributesEnum.q, value);\n    this.usageAnalytics.logSearchEvent<IAnalyticsTopSuggestionMeta>(analyticsActionCauseList.omniboxAnalytics, {\n      partialQueries: this.cleanCustomData(this.partialQueries),\n      suggestionRanking: _.indexOf(_.pluck(this.resultsToBuildWith, 'value'), value),\n      suggestions: this.cleanCustomData(this.lastSuggestions),\n      partialQuery: args.completeQueryExpression.word\n    });\n    this.queryController.executeQuery();\n  }\n\n  private cleanCustomData(toClean: string[], rejectLength = 256) {\n    // Filter out only consecutive values that are the identical\n    toClean = _.filter(toClean, (partial: string, pos?: number, array?: string[]) => {\n      return pos === 0 || partial !== array[pos - 1];\n    });\n\n    // Custom dimensions cannot be an array in analytics service: Send a string joined by ; instead.\n    // Need to replace ;\n    toClean = _.map(toClean, (partial) => {\n      return partial.replace(/;/g, '');\n    });\n\n    // Reduce right to get the last X words that adds to less then rejectLength\n    let reducedToRejectLengthOrLess = [];\n    _.reduceRight(toClean, (memo: number, partial: string) => {\n      let totalSoFar = memo + partial.length;\n      if (totalSoFar <= rejectLength) {\n        reducedToRejectLengthOrLess.push(partial);\n      }\n      return totalSoFar;\n    }, 0);\n    toClean = reducedToRejectLengthOrLess.reverse();\n    let ret = toClean.join(';');\n\n    // analytics service can store max 256 char in a custom event\n    // if we're over that, call cleanup again with an arbitrary 10 less char accepted\n    if (ret.length >= 256) {\n      return this.cleanCustomData(toClean, rejectLength - 10);\n    }\n\n    return toClean.join(';');\n  }\n}\nInitialization.registerAutoCreateComponent(AnalyticsSuggestions);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/AnalyticsSuggestions/AnalyticsSuggestions.ts\n **/","l":{"1":1,"2":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"23":12,"24":1,"29":1,"47":11,"48":11,"49":11,"52":11,"53":11,"56":11,"57":0,"60":11,"62":11,"63":11,"65":11,"66":11,"67":11,"71":0,"72":0,"78":11,"79":6,"81":13,"82":11,"92":1,"93":6,"94":6,"95":1,"96":1,"99":5,"100":5,"101":5,"107":13,"108":13,"110":13,"111":13,"116":13,"117":11,"118":33,"122":11,"123":11,"124":11,"126":11,"127":11,"128":11,"129":33,"134":11,"139":13,"140":0,"146":13,"149":1,"150":6,"151":6,"152":6,"153":6,"159":6,"162":24,"164":12,"165":28,"170":12,"171":26,"175":12,"176":12,"177":26,"178":26,"179":25,"181":26,"183":12,"184":12,"188":12,"189":0,"192":12,"194":1,"195":1}},"src/ui/FieldSuggestions/FieldSuggestions.ts":{"path":"src/ui/FieldSuggestions/FieldSuggestions.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":127}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":44}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":58}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":40}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":84}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":61}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":54}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":96}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":40}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":35}},"12":{"start":{"line":26,"column":0},"end":{"line":204,"column":1}},"13":{"start":{"line":26,"column":38},"end":{"line":26,"column":47}},"14":{"start":{"line":100,"column":2},"end":{"line":132,"column":3}},"15":{"start":{"line":101,"column":4},"end":{"line":101,"column":50}},"16":{"start":{"line":100,"column":43},"end":{"line":100,"column":76}},"17":{"start":{"line":103,"column":4},"end":{"line":105,"column":5}},"18":{"start":{"line":104,"column":6},"end":{"line":104,"column":85}},"19":{"start":{"line":107,"column":4},"end":{"line":107,"column":93}},"20":{"start":{"line":109,"column":4},"end":{"line":109,"column":103}},"21":{"start":{"line":111,"column":4},"end":{"line":111,"column":73}},"22":{"start":{"line":113,"column":4},"end":{"line":113,"column":144}},"23":{"start":{"line":115,"column":4},"end":{"line":115,"column":59}},"24":{"start":{"line":116,"column":4},"end":{"line":126,"column":5}},"25":{"start":{"line":117,"column":6},"end":{"line":119,"column":8}},"26":{"start":{"line":121,"column":6},"end":{"line":121,"column":190}},"27":{"start":{"line":122,"column":6},"end":{"line":125,"column":8}},"28":{"start":{"line":128,"column":4},"end":{"line":130,"column":7}},"29":{"start":{"line":129,"column":6},"end":{"line":129,"column":52}},"30":{"start":{"line":131,"column":4},"end":{"line":131,"column":130}},"31":{"start":{"line":131,"column":96},"end":{"line":131,"column":128}},"32":{"start":{"line":141,"column":9},"end":{"line":154,"column":3}},"33":{"start":{"line":142,"column":4},"end":{"line":153,"column":5}},"34":{"start":{"line":143,"column":6},"end":{"line":152,"column":7}},"35":{"start":{"line":144,"column":8},"end":{"line":146,"column":9}},"36":{"start":{"line":145,"column":10},"end":{"line":145,"column":86}},"37":{"start":{"line":148,"column":8},"end":{"line":148,"column":146}},"38":{"start":{"line":149,"column":8},"end":{"line":151,"column":9}},"39":{"start":{"line":150,"column":10},"end":{"line":150,"column":58}},"40":{"start":{"line":156,"column":10},"end":{"line":183,"column":3}},"41":{"start":{"line":156,"column":2},"end":{"line":183,"column":3}},"42":{"start":{"line":157,"column":4},"end":{"line":157,"column":24}},"43":{"start":{"line":159,"column":4},"end":{"line":159,"column":58}},"44":{"start":{"line":160,"column":4},"end":{"line":179,"column":6}},"45":{"start":{"line":161,"column":6},"end":{"line":178,"column":9}},"46":{"start":{"line":162,"column":8},"end":{"line":162,"column":83}},"47":{"start":{"line":163,"column":8},"end":{"line":163,"column":48}},"48":{"start":{"line":164,"column":8},"end":{"line":169,"column":10}},"49":{"start":{"line":165,"column":10},"end":{"line":168,"column":11}},"50":{"start":{"line":170,"column":8},"end":{"line":173,"column":10}},"51":{"start":{"line":175,"column":8},"end":{"line":177,"column":10}},"52":{"start":{"line":180,"column":4},"end":{"line":182,"column":6}},"53":{"start":{"line":185,"column":10},"end":{"line":191,"column":3}},"54":{"start":{"line":186,"column":4},"end":{"line":186,"column":17}},"55":{"start":{"line":187,"column":4},"end":{"line":187,"column":24}},"56":{"start":{"line":188,"column":4},"end":{"line":188,"column":70}},"57":{"start":{"line":189,"column":4},"end":{"line":189,"column":99}},"58":{"start":{"line":190,"column":4},"end":{"line":190,"column":40}},"59":{"start":{"line":193,"column":10},"end":{"line":203,"column":3}},"60":{"start":{"line":194,"column":4},"end":{"line":202,"column":6}},"61":{"start":{"line":27,"column":9},"end":{"line":27,"column":33}},"62":{"start":{"line":32,"column":9},"end":{"line":89,"column":4}},"63":{"start":{"line":87,"column":6},"end":{"line":87,"column":18}},"64":{"start":{"line":204,"column":0},"end":{"line":204,"column":1}},"65":{"start":{"line":26,"column":13},"end":{"line":204,"column":1}},"66":{"start":{"line":206,"column":0},"end":{"line":206,"column":61}}},"fnMap":{"1":{"name":"(anonymous_6036)","line":26,"loc":{"start":{"line":26,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"FieldSuggestions","line":100,"loc":{"start":{"line":100,"column":2},"end":{"line":100,"column":107}}},"3":{"name":"(anonymous_6038)","line":128,"loc":{"start":{"line":128,"column":78},"end":{"line":128,"column":125}}},"4":{"name":"(anonymous_6039)","line":131,"loc":{"start":{"line":131,"column":59},"end":{"line":131,"column":91}}},"5":{"name":"(anonymous_6040)","line":141,"loc":{"start":{"line":141,"column":2},"end":{"line":141,"column":41}}},"6":{"name":"(anonymous_6041)","line":156,"loc":{"start":{"line":156,"column":2},"end":{"line":156,"column":63}}},"7":{"name":"(anonymous_6042)","line":160,"loc":{"start":{"line":160,"column":30},"end":{"line":160,"column":38}}},"8":{"name":"(anonymous_6043)","line":161,"loc":{"start":{"line":161,"column":110},"end":{"line":161,"column":138}}},"9":{"name":"(anonymous_6044)","line":164,"loc":{"start":{"line":164,"column":64},"end":{"line":164,"column":79}}},"10":{"name":"(anonymous_6045)","line":174,"loc":{"start":{"line":174,"column":15},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_6046)","line":185,"loc":{"start":{"line":185,"column":2},"end":{"line":185,"column":71}}},"12":{"name":"(anonymous_6047)","line":193,"loc":{"start":{"line":193,"column":2},"end":{"line":193,"column":58}}},"13":{"name":"(anonymous_6048)","line":86,"loc":{"start":{"line":86,"column":87},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":4},"end":{"line":103,"column":3}},{"start":{"line":103,"column":4},"end":{"line":103,"column":3}}]},"2":{"line":103,"type":"binary-expr","locations":[{"start":{"line":103,"column":8},"end":{"line":103,"column":20}},{"start":{"line":103,"column":24},"end":{"line":103,"column":66}}]},"3":{"line":111,"type":"binary-expr","locations":[{"start":{"line":111,"column":28},"end":{"line":111,"column":49}},{"start":{"line":111,"column":53},"end":{"line":111,"column":72}}]},"4":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":4},"end":{"line":116,"column":3}},{"start":{"line":116,"column":4},"end":{"line":116,"column":3}}]},"5":{"line":142,"type":"if","locations":[{"start":{"line":142,"column":4},"end":{"line":142,"column":3}},{"start":{"line":142,"column":4},"end":{"line":142,"column":3}}]},"6":{"line":143,"type":"if","locations":[{"start":{"line":143,"column":6},"end":{"line":143,"column":5}},{"start":{"line":143,"column":6},"end":{"line":143,"column":5}}]},"7":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":8},"end":{"line":144,"column":7}},{"start":{"line":144,"column":8},"end":{"line":144,"column":7}}]},"8":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":8},"end":{"line":149,"column":7}},{"start":{"line":149,"column":8},"end":{"line":149,"column":7}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":11,"13":1,"14":1,"15":10,"16":10,"17":10,"18":0,"19":10,"20":9,"21":9,"22":9,"23":9,"24":9,"25":9,"26":0,"27":0,"28":9,"29":1,"30":9,"31":5,"32":1,"33":3,"34":1,"35":0,"36":0,"37":1,"38":1,"39":1,"40":1,"41":5,"42":5,"43":5,"44":5,"45":5,"46":2,"47":2,"48":2,"49":6,"50":2,"51":0,"52":5,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":5,"61":1,"62":1,"63":0,"64":1,"65":1,"66":1},"b":{"1":[0,10],"2":[10,10],"3":[9,9],"4":[9,0],"5":[1,2],"6":[0,1],"7":[0,0],"8":[1,0]},"f":{"1":1,"2":10,"3":1,"4":5,"5":3,"6":5,"7":5,"8":2,"9":6,"10":0,"11":1,"12":5,"13":0},"code":"import {ISuggestionForOmniboxOptions, SuggestionForOmnibox, ISuggestionForOmniboxTemplate} from '../Misc/SuggestionForOmnibox';\nimport {Component} from '../Base/Component';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {Assert} from '../../misc/Assert';\nimport {Utils} from '../../utils/Utils';\nimport {OmniboxEvents, IPopulateOmniboxEventArgs} from '../../events/OmniboxEvents';\nimport {IIndexFieldValue} from '../../rest/FieldValue';\nimport {IListFieldValuesRequest} from '../../rest/ListFieldValuesRequest';\nimport {QueryStateModel} from '../../models/QueryStateModel';\nimport {Initialization} from '../Base/Initialization';\nimport {analyticsActionCauseList, IAnalyticsNoMeta} from '../Analytics/AnalyticsActionListMeta';\nimport {l} from '../../strings/Strings';\nimport {$$} from '../../utils/Dom';\nimport {ISuggestionForOmniboxOptionsOnSelect} from '../Misc/SuggestionForOmnibox';\n\nexport interface IFieldSuggestionsOptions extends ISuggestionForOmniboxOptions {\n  field?: string;\n  queryOverride?: string;\n}\n\n/**\n * This component provides query suggestions based on a particular facet field.\n * For example, this can be used to provide auto-complete suggestions when you type in document titles.\n */\nexport class FieldSuggestions extends Component {\n  static ID = 'FieldSuggestions';\n\n  /**\n   * @componentOptions\n   */\n  static options: IFieldSuggestionsOptions = {\n    /**\n     * Specifies the field from which suggestions are provided.<br/>\n     * This is a required option\n     */\n    field: ComponentOptions.buildFieldOption({ required: true }),\n    /**\n     * Specifies a query override (any query expression) which should be applied when retrieving suggestions\n     */\n    queryOverride: ComponentOptions.buildStringOption({ defaultValue: '' }),\n    /**\n     * Specifies the position at which the suggestions should render when there are multiple suggestions providers. (eg : {@link Facet} or {@link AnalyticsSuggestions}).<br/>\n     * The default value is `51`\n     */\n    omniboxZIndex: ComponentOptions.buildNumberOption({ defaultValue: 51, min: 0 }),\n    /**\n     * Specifies the title in the Omnibox for this group of suggestions. This option is not available when using the Lightning Friendly Theme, which is the default design.\n     */\n    headerTitle: ComponentOptions.buildLocalizedStringOption({ defaultValue: l('SuggestedResults') }),\n    /**\n     * Specifies the number of suggestions that should be rendered in the omnibox.<br/>\n     * Default value is `5`\n     */\n    numberOfSuggestions: ComponentOptions.buildNumberOption({ defaultValue: 5, min: 1 }),\n    /**\n     * The event handler function to execute when a value is selected in the Omnibox. By default, the query box text is replaced by what was selected and a new query is executed. You can however replace this default text by providing a callback function to execute when the value is selected.\n     * For example:\n     *\n     * ```\n     * Coveo.init(document.querySelector('#search'), {\n     *    FieldSuggestions : {\n     *      omniboxSuggestionOptions : {\n     *        onSelect : function(valueSelected, populateOmniBoxEventArgs){\n     *          // Do something special when a value is selected.\n     *          // You receive the selected value as the first argument, and the Omnibox object as the second parameter.\n     *        }\n     *      }\n     *    }\n     * })\n     *\n     * // OR using the jquery extension\n     *\n     * $('#mySearch').coveo('init', {\n     *    FieldSuggestions : {\n     *      omniboxSuggestionOptions : {\n     *        onSelect : function(valueSelected, populateOmniBoxEventArgs){\n     *          // Do something special when a value is selected.\n     *          // You receive the selected value as the first argument, and the Omnibox object as the second parameter.\n     *        }\n     *      }\n     *    }\n     * })\n     * ```\n     */\n    onSelect: ComponentOptions.buildCustomOption<ISuggestionForOmniboxOptionsOnSelect>(() => {\n      return null;\n    })\n  };\n\n  private suggestionForOmnibox: SuggestionForOmnibox;\n  private currentlyDisplayedSuggestions: { [suggestion: string]: { element: HTMLElement, pos: number } };\n\n  /**\n   * Create a new FieldSuggestions component\n   * @param element\n   * @param options\n   * @param bindings\n   */\n  constructor(element: HTMLElement, public options: IFieldSuggestionsOptions, bindings?: IComponentBindings) {\n    super(element, FieldSuggestions.ID, bindings);\n\n    if (this.options && 'omniboxSuggestionOptions' in this.options) {\n      this.options = _.extend(this.options, this.options['omniboxSuggestionOptions'])\n    }\n\n    this.options = ComponentOptions.initComponentOptions(element, FieldSuggestions, options);\n\n    Assert.check(Utils.isCoveoField(this.options.field), this.options.field + ' is not a valid field');\n\n    this.options.onSelect = this.options.onSelect || this.onRowSelection;\n\n    let rowTemplate = _.template(`<div class='magic-box-suggestion coveo-omnibox-selectable coveo-top-field-suggestion-row'><%= data %></div>`);\n\n    let suggestionStructure: ISuggestionForOmniboxTemplate;\n    if (this.searchInterface.isNewDesign()) {\n      suggestionStructure = {\n        row: rowTemplate\n      };\n    } else {\n      let headerTemplate = _.template(`<div class='coveo-top-field-suggestion-header'><span class='coveo-icon-top-field'></span><span class='coveo-caption'><%= headerTitle %></span></div>`);\n      suggestionStructure = {\n        header: { template: headerTemplate, title: this.options.headerTitle },\n        row: rowTemplate\n      };\n    }\n\n    this.suggestionForOmnibox = new SuggestionForOmnibox(suggestionStructure, (value: string, args: IPopulateOmniboxEventArgs) => {\n      this.options.onSelect.call(this, value, args);\n    });\n    this.bind.onRootElement(OmniboxEvents.populateOmnibox, (args: IPopulateOmniboxEventArgs) => this.handlePopulateOmnibox(args));\n  }\n\n  /**\n   * Select a currently displayed suggestion. This means that at least one suggestion must have been returned at least once.\n   * The suggestion parameter can either be a number (0 based index of the suggestion to select) or a string that match the suggestion\n   * @param suggestion\n   */\n  public selectSuggestion(suggestion: number);\n  public selectSuggestion(suggestion: string);\n  public selectSuggestion(suggestion: any) {\n    if (this.currentlyDisplayedSuggestions) {\n      if (isNaN(suggestion)) {\n        if (this.currentlyDisplayedSuggestions[suggestion]) {\n          $$(this.currentlyDisplayedSuggestions[suggestion].element).trigger('click');\n        }\n      } else {\n        let currentlySuggested = <{ element: HTMLElement, pos: number }>_.findWhere(<any>this.currentlyDisplayedSuggestions, { pos: suggestion });\n        if (currentlySuggested) {\n          $$(currentlySuggested.element).trigger('click');\n        }\n      }\n    }\n  }\n\n  private handlePopulateOmnibox(args: IPopulateOmniboxEventArgs) {\n    Assert.exists(args);\n\n    let valueToSearch = args.completeQueryExpression.word;\n    let promise = new Promise((resolve) => {\n      this.queryController.getEndpoint().listFieldValues(this.buildListFieldValueRequest(valueToSearch)).then((results: IIndexFieldValue[]) => {\n        let element = this.suggestionForOmnibox.buildOmniboxElement(results, args);\n        this.currentlyDisplayedSuggestions = {};\n        _.map($$(element).findAll('.coveo-omnibox-selectable'), (selectable, i?) => {\n          this.currentlyDisplayedSuggestions[$$(selectable).text()] = {\n            element: selectable,\n            pos: i\n          }\n        })\n        resolve({\n          element: element,\n          zIndex: this.options.omniboxZIndex\n        })\n      }).catch(() => {\n        resolve({\n          element: undefined\n        })\n      });\n    })\n    args.rows.push({\n      deferred: promise\n    })\n  }\n\n  private onRowSelection(value: string, args: IPopulateOmniboxEventArgs) {\n    args.clear();\n    args.closeOmnibox();\n    this.queryStateModel.set(QueryStateModel.attributesEnum.q, value);\n    this.usageAnalytics.logSearchEvent<IAnalyticsNoMeta>(analyticsActionCauseList.omniboxField, {})\n    this.queryController.executeQuery();\n  }\n\n  private buildListFieldValueRequest(valueToSearch: string): IListFieldValuesRequest {\n    return {\n      field: this.options.field,\n      ignoreAccents: true,\n      sortCriteria: 'occurrences',\n      maximumNumberOfValues: this.options.numberOfSuggestions,\n      patternType: 'Wildcards',\n      pattern: '*' + valueToSearch + '*',\n      queryOverride: this.options.queryOverride\n    };\n  }\n}\n\nInitialization.registerAutoCreateComponent(FieldSuggestions);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/FieldSuggestions/FieldSuggestions.ts\n **/","l":{"1":1,"2":1,"3":1,"5":1,"6":1,"7":1,"10":1,"11":1,"12":1,"13":1,"14":1,"26":11,"27":1,"32":1,"87":0,"100":10,"101":10,"103":10,"104":0,"107":10,"109":9,"111":9,"113":9,"115":9,"116":9,"117":9,"121":0,"122":0,"128":9,"129":1,"131":9,"141":1,"142":3,"143":1,"144":0,"145":0,"148":1,"149":1,"150":1,"156":5,"157":5,"159":5,"160":5,"161":5,"162":2,"163":2,"164":2,"165":6,"170":2,"175":0,"180":5,"185":1,"186":1,"187":1,"188":1,"189":1,"190":1,"193":1,"194":5,"204":1,"206":1}},"src/ui/AuthenticationProvider/AuthenticationProvider.ts":{"path":"src/ui/AuthenticationProvider/AuthenticationProvider.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":44}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":58}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":41}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":106}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":71}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":59}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":46}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":35}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":54}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":40}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":51}},"12":{"start":{"line":35,"column":0},"end":{"line":200,"column":1}},"13":{"start":{"line":35,"column":44},"end":{"line":35,"column":53}},"14":{"start":{"line":90,"column":2},"end":{"line":113,"column":3}},"15":{"start":{"line":90,"column":43},"end":{"line":90,"column":94}},"16":{"start":{"line":91,"column":4},"end":{"line":91,"column":56}},"17":{"start":{"line":90,"column":21},"end":{"line":90,"column":41}},"18":{"start":{"line":90,"column":50},"end":{"line":90,"column":94}},"19":{"start":{"line":90,"column":134},"end":{"line":90,"column":150}},"20":{"start":{"line":93,"column":4},"end":{"line":93,"column":99}},"21":{"start":{"line":95,"column":4},"end":{"line":95,"column":37}},"22":{"start":{"line":97,"column":4},"end":{"line":97,"column":23}},"23":{"start":{"line":99,"column":4},"end":{"line":99,"column":42}},"24":{"start":{"line":100,"column":4},"end":{"line":100,"column":27}},"25":{"start":{"line":102,"column":4},"end":{"line":102,"column":93}},"26":{"start":{"line":103,"column":4},"end":{"line":103,"column":75}},"27":{"start":{"line":104,"column":4},"end":{"line":104,"column":72}},"28":{"start":{"line":106,"column":4},"end":{"line":112,"column":6}},"29":{"start":{"line":107,"column":6},"end":{"line":111,"column":9}},"30":{"start":{"line":110,"column":22},"end":{"line":110,"column":53}},"31":{"start":{"line":115,"column":10},"end":{"line":117,"column":3}},"32":{"start":{"line":116,"column":4},"end":{"line":116,"column":55}},"33":{"start":{"line":119,"column":10},"end":{"line":129,"column":3}},"34":{"start":{"line":120,"column":4},"end":{"line":120,"column":66}},"35":{"start":{"line":122,"column":4},"end":{"line":128,"column":5}},"36":{"start":{"line":123,"column":6},"end":{"line":123,"column":27}},"37":{"start":{"line":124,"column":6},"end":{"line":124,"column":38}},"38":{"start":{"line":126,"column":6},"end":{"line":126,"column":130}},"39":{"start":{"line":127,"column":6},"end":{"line":127,"column":30}},"40":{"start":{"line":131,"column":10},"end":{"line":133,"column":3}},"41":{"start":{"line":132,"column":4},"end":{"line":132,"column":101}},"42":{"start":{"line":135,"column":10},"end":{"line":138,"column":3}},"43":{"start":{"line":136,"column":4},"end":{"line":136,"column":84}},"44":{"start":{"line":137,"column":4},"end":{"line":137,"column":80}},"45":{"start":{"line":140,"column":10},"end":{"line":153,"column":3}},"46":{"start":{"line":141,"column":4},"end":{"line":141,"column":98}},"47":{"start":{"line":143,"column":4},"end":{"line":145,"column":10}},"48":{"start":{"line":147,"column":4},"end":{"line":147,"column":42}},"49":{"start":{"line":148,"column":4},"end":{"line":148,"column":123}},"50":{"start":{"line":150,"column":4},"end":{"line":150,"column":55}},"51":{"start":{"line":151,"column":4},"end":{"line":151,"column":50}},"52":{"start":{"line":152,"column":4},"end":{"line":152,"column":32}},"53":{"start":{"line":155,"column":10},"end":{"line":162,"column":3}},"54":{"start":{"line":155,"column":2},"end":{"line":162,"column":3}},"55":{"start":{"line":156,"column":4},"end":{"line":161,"column":5}},"56":{"start":{"line":157,"column":6},"end":{"line":157,"column":23}},"57":{"start":{"line":158,"column":6},"end":{"line":158,"column":26}},"58":{"start":{"line":159,"column":6},"end":{"line":159,"column":96}},"59":{"start":{"line":160,"column":6},"end":{"line":160,"column":42}},"60":{"start":{"line":164,"column":10},"end":{"line":166,"column":3}},"61":{"start":{"line":164,"column":2},"end":{"line":166,"column":3}},"62":{"start":{"line":165,"column":4},"end":{"line":165,"column":84}},"63":{"start":{"line":165,"column":37},"end":{"line":165,"column":82}},"64":{"start":{"line":168,"column":10},"end":{"line":180,"column":3}},"65":{"start":{"line":169,"column":4},"end":{"line":171,"column":47}},"66":{"start":{"line":173,"column":4},"end":{"line":173,"column":22}},"67":{"start":{"line":174,"column":4},"end":{"line":174,"column":38}},"68":{"start":{"line":176,"column":4},"end":{"line":178,"column":7}},"69":{"start":{"line":179,"column":4},"end":{"line":179,"column":20}},"70":{"start":{"line":182,"column":10},"end":{"line":191,"column":3}},"71":{"start":{"line":183,"column":4},"end":{"line":183,"column":55}},"72":{"start":{"line":184,"column":4},"end":{"line":184,"column":41}},"73":{"start":{"line":186,"column":4},"end":{"line":189,"column":7}},"74":{"start":{"line":190,"column":4},"end":{"line":190,"column":20}},"75":{"start":{"line":193,"column":10},"end":{"line":195,"column":3}},"76":{"start":{"line":194,"column":4},"end":{"line":194,"column":133}},"77":{"start":{"line":197,"column":10},"end":{"line":199,"column":3}},"78":{"start":{"line":198,"column":4},"end":{"line":198,"column":116}},"79":{"start":{"line":36,"column":9},"end":{"line":36,"column":39}},"80":{"start":{"line":42,"column":9},"end":{"line":78,"column":4}},"81":{"start":{"line":53,"column":86},"end":{"line":53,"column":107}},"82":{"start":{"line":200,"column":0},"end":{"line":200,"column":1}},"83":{"start":{"line":35,"column":13},"end":{"line":200,"column":1}},"84":{"start":{"line":202,"column":0},"end":{"line":202,"column":67}}},"fnMap":{"1":{"name":"(anonymous_6053)","line":35,"loc":{"start":{"line":35,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"AuthenticationProvider","line":90,"loc":{"start":{"line":90,"column":2},"end":{"line":90,"column":150}}},"3":{"name":"(anonymous_6055)","line":106,"loc":{"start":{"line":106,"column":65},"end":{"line":106,"column":97}}},"4":{"name":"(anonymous_6056)","line":110,"loc":{"start":{"line":110,"column":16},"end":{"line":110,"column":21}}},"5":{"name":"(anonymous_6057)","line":115,"loc":{"start":{"line":115,"column":2},"end":{"line":115,"column":71}}},"6":{"name":"(anonymous_6058)","line":119,"loc":{"start":{"line":119,"column":2},"end":{"line":119,"column":53}}},"7":{"name":"(anonymous_6059)","line":131,"loc":{"start":{"line":131,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_6060)","line":135,"loc":{"start":{"line":135,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_6061)","line":140,"loc":{"start":{"line":140,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_6062)","line":155,"loc":{"start":{"line":155,"column":2},"end":{"line":155,"column":78}}},"11":{"name":"(anonymous_6063)","line":156,"loc":{"start":{"line":156,"column":11},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_6064)","line":164,"loc":{"start":{"line":164,"column":2},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_6065)","line":165,"loc":{"start":{"line":165,"column":26},"end":{"line":165,"column":33}}},"14":{"name":"(anonymous_6066)","line":168,"loc":{"start":{"line":168,"column":2},"end":{"line":168,"column":55}}},"15":{"name":"(anonymous_6067)","line":182,"loc":{"start":{"line":182,"column":2},"end":{"line":182,"column":57}}},"16":{"name":"(anonymous_6068)","line":193,"loc":{"start":{"line":193,"column":2},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_6069)","line":197,"loc":{"start":{"line":197,"column":2},"end":{"line":null,"column":-1}}},"18":{"name":"(anonymous_6070)","line":53,"loc":{"start":{"line":53,"column":66},"end":{"line":53,"column":81}}}},"branchMap":{"1":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":43},"end":{"line":90,"column":42}},{"start":{"line":90,"column":43},"end":{"line":90,"column":42}}]},"2":{"line":99,"type":"binary-expr","locations":[{"start":{"line":99,"column":19},"end":{"line":99,"column":31}},{"start":{"line":99,"column":35},"end":{"line":99,"column":41}}]},"3":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":4},"end":{"line":122,"column":3}},{"start":{"line":122,"column":4},"end":{"line":122,"column":3}}]},"4":{"line":122,"type":"binary-expr","locations":[{"start":{"line":122,"column":8},"end":{"line":122,"column":48}},{"start":{"line":122,"column":52},"end":{"line":122,"column":99}},{"start":{"line":122,"column":103},"end":{"line":122,"column":125}},{"start":{"line":122,"column":129},"end":{"line":122,"column":154}}]},"5":{"line":132,"type":"cond-expr","locations":[{"start":{"line":132,"column":29},"end":{"line":132,"column":58}},{"start":{"line":132,"column":61},"end":{"line":132,"column":100}}]},"6":{"line":148,"type":"cond-expr","locations":[{"start":{"line":148,"column":41},"end":{"line":148,"column":81}},{"start":{"line":148,"column":84},"end":{"line":148,"column":122}}]},"7":{"line":53,"type":"binary-expr","locations":[{"start":{"line":53,"column":86},"end":{"line":53,"column":91}},{"start":{"line":53,"column":95},"end":{"line":53,"column":107}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":13,"13":1,"14":1,"15":12,"16":12,"17":12,"18":12,"19":12,"20":12,"21":12,"22":12,"23":12,"24":12,"25":12,"26":12,"27":12,"28":12,"29":1,"30":0,"31":1,"32":1,"33":1,"34":8,"35":8,"36":4,"37":4,"38":4,"39":4,"40":1,"41":4,"42":1,"43":1,"44":1,"45":1,"46":3,"47":3,"48":3,"49":3,"50":3,"51":3,"52":3,"53":1,"54":3,"55":3,"56":0,"57":0,"58":0,"59":0,"60":1,"61":0,"62":0,"63":0,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":2,"72":2,"73":2,"74":2,"75":1,"76":1,"77":1,"78":3,"79":1,"80":1,"81":12,"82":1,"83":1,"84":1},"b":{"1":[0,12],"2":[12,12],"3":[4,4],"4":[8,5,5,5],"5":[3,1],"6":[2,1],"7":[12,1]},"f":{"1":1,"2":12,"3":1,"4":0,"5":1,"6":8,"7":4,"8":1,"9":3,"10":3,"11":0,"12":0,"13":0,"14":1,"15":2,"16":1,"17":3,"18":12},"code":"/// <reference path='../../../node_modules/modal-box/bin/ModalBox.d.ts' />\nimport {Component} from '../Base/Component';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {Assert} from '../../misc/Assert';\nimport {QueryEvents, IBuildingCallOptionsEventArgs, IQueryErrorEventArgs} from '../../events/QueryEvents';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {InitializationEvents} from '../../events/InitializationEvents';\nimport {SettingsEvents} from '../../events/SettingsEvents';\nimport {ISettingsPopulateMenuArgs} from '../Settings/Settings';\nimport {DomUtils} from '../../utils/DomUtils';\nimport {$$} from '../../utils/Dom';\nimport {Initialization} from '../Base/Initialization';\nimport {l} from '../../strings/Strings';\nimport {ModalBox} from '../../ExternalModulesShim';\nimport {MissingAuthenticationError} from '../../rest/MissingAuthenticationError';\n\nexport interface IAuthenticationProviderOptions {\n  name?: string;\n  caption?: string;\n  useIFrame?: boolean;\n  showIFrame?: boolean;\n}\n\n/**\n * This component arranges for queries to be executed with an identity obtained\n * using an Authentication Provider configured on the Coveo Search API\n * (see [On-Premises SharePoint Claims Authentication](https://developers.coveo.com/display/public/SearchREST/On-Premises+SharePoint+Claims+Authentication)).\n * When needed, the component will handle redirecting the browser to the address\n * that starts the authentication process.\n *\n * Using the standard `data-tab` attribute, you can enable the\n * AuthenticationProvider component only for tabs in which authentication is\n * required (see {@link Tab}).\n */\nexport class AuthenticationProvider extends Component {\n  static ID = 'AuthenticationProvider';\n\n  /**\n   * The options for the component.\n   * @componentOptions\n   */\n  static options: IAuthenticationProviderOptions = {\n    /**\n     * Specifies the name of the authentication provider as specified in the\n     * [Windows Service Configuration File](https://developers.coveo.com/display/public/SearchREST/Windows+Service+Configuration+File)\n     */\n    name: ComponentOptions.buildStringOption(),\n    /**\n     * Specifies the friendly name of the authentication provider that will be\n     * displayed in the user interface while logging in.<br/>\n     * If not specified, it will default to {@link options.name name}.\n     */\n    caption: ComponentOptions.buildStringOption({ postProcessing: (value, options) => value || options.name }),\n    /**\n     * Specifies whether an `<iframe>` will be used to host the chain of\n     * redirections that make up the authentication process.<br/>\n     * By default, this option is set to `false`.\n     *\n     * Using an `<iframe>` avoids leaving the search page as part of the authentication\n     * process, but some login providers will refuse to load in an `<iframe>`.\n     */\n    useIFrame: ComponentOptions.buildBooleanOption({ defaultValue: false, attrName: 'data-use-iframe' }),\n    /**\n     * Specifies whether the `<iframe>` used for authentication will be made\n     * visible to the user (inside a popup).<br/>\n     * By default, this option is set to `true`.\n     *\n     * When the underlying authentication provider requires no user interaction\n     * (for example, when Windows Authentication is used along with SharePoint Claims),\n     * using this option reduces the visual impact of the authentication process.\n     *\n     */\n    showIFrame: ComponentOptions.buildBooleanOption({\n      defaultValue: true,\n      attrName: 'data-show-iframe',\n      depend: 'useIFrame'\n    })\n  };\n\n  private handlers: ((...args: any[]) => void)[];\n\n  private redirectCount: number;\n\n  /**\n   * Build a new AuthenticationProvider component\n   * @param element\n   * @param options\n   * @param bindings\n   */\n  constructor(public element: HTMLElement, public options: IAuthenticationProviderOptions = {}, bindings?: IComponentBindings, public _window?: Window) {\n    super(element, AuthenticationProvider.ID, bindings);\n\n    this.options = ComponentOptions.initComponentOptions(element, AuthenticationProvider, options);\n\n    Assert.exists(this.options.name);\n\n    this.handlers = [];\n\n    this._window = this._window || window;\n    this.redirectCount = 0;\n\n    this.bind.onRootElement(QueryEvents.buildingCallOptions, this.handleBuildingCallOptions);\n    this.bind.onRootElement(QueryEvents.queryError, this.handleQueryError);\n    this.bind.onRootElement(InitializationEvents.nuke, this.handleNuke);\n\n    this.bind.onRootElement(SettingsEvents.settingsPopulateMenu, (args: ISettingsPopulateMenuArgs) => {\n      args.menuData.push({\n        text: l('Reauthenticate', this.options.caption),\n        className: 'coveo-authentication-provider',\n        onOpen: () => this.authenticateWithProvider()\n      });\n    })\n  }\n\n  private handleBuildingCallOptions(args: IBuildingCallOptionsEventArgs) {\n    args.options.authentication.push(this.options.name)\n  }\n\n  private handleQueryError(args: IQueryErrorEventArgs) {\n    let missingAuthError = <MissingAuthenticationError>args.error;\n\n    if (missingAuthError.isMissingAuthentication && missingAuthError.provider === this.options.name && this.redirectCount < 2 && this.redirectCount !== -1) {\n      ++this.redirectCount;\n      this.authenticateWithProvider();\n    } else {\n      this.logger.error('The AuthenticationProvider is in a redirect loop. This may be due to a back-end configuration problem.');\n      this.redirectCount = -1;\n    }\n  }\n\n  private authenticateWithProvider() {\n    this.options.useIFrame ? this.authenticateWithIFrame() : this.redirectToAuthenticationProvider();\n  }\n\n  private redirectToAuthenticationProvider() {\n    this.logger.info(`Redirecting to authentication provider ${this.options.name}`);\n    this._window.location.href = this.getAuthenticationProviderUriForRedirect();\n  }\n\n  private authenticateWithIFrame() {\n    this.logger.info(`Using iframe to retrieve authentication for provider ${this.options.name}`);\n\n    let iframe = $$('iframe', {\n      'src': this.getAuthenticationProviderUriForIFrame()\n    }).el;\n\n    let modalbox: Coveo.ModalBox.ModalBox;\n    modalbox = this.options.showIFrame ? this.createPopupForVisibleIFrame(iframe) : this.createPopupForWaitMessage(iframe);\n\n    let handler = this.createHandler(modalbox, iframe);\n    $$(<any>this._window).one('message', handler);\n    this.handlers.push(handler);\n  }\n\n  private createHandler(modalbox: Coveo.ModalBox.ModalBox, iframe: HTMLElement): () => void {\n    return () => {\n      modalbox.close();\n      $$(iframe).detach();\n      this.logger.info(`Got authentication for provider ${this.options.name}; retrying query.`);\n      this.queryController.executeQuery();\n    }\n  }\n\n  private handleNuke() {\n    _.each(this.handlers, handler => $$(<any>this._window).off('message', handler));\n  }\n\n  private createPopupForWaitMessage(iframe: HTMLElement): Coveo.ModalBox.ModalBox {\n    let popup = $$('div', {\n      className: 'coveo-waiting-for-authentication-popup'\n    }, DomUtils.getBasicLoadingAnimation()).el;\n\n    $$(iframe).hide();\n    document.body.appendChild(iframe);\n\n    ModalBox.open(popup, {\n      title: l('Authenticating', this.options.caption)\n    });\n    return ModalBox;\n  }\n\n  private createPopupForVisibleIFrame(iframe: HTMLElement): Coveo.ModalBox.ModalBox {\n    $$(iframe).addClass('coveo-authentication-iframe');\n    let popup = $$('div', {}, iframe).el;\n\n    ModalBox.open(popup, {\n      title: l('Authenticating', this.options.caption),\n      className: 'coveo-authentication-popup'\n    });\n    return ModalBox;\n  }\n\n  private getAuthenticationProviderUriForRedirect(): string {\n    return this.queryController.getEndpoint().getAuthenticationProviderUri(this.options.name, this._window.location.href, undefined);\n  }\n\n  private getAuthenticationProviderUriForIFrame(): string {\n    return this.queryController.getEndpoint().getAuthenticationProviderUri(this.options.name, undefined, 'success');\n  }\n}\n\nInitialization.registerAutoCreateComponent(AuthenticationProvider);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/AuthenticationProvider/AuthenticationProvider.ts\n **/","l":{"2":1,"3":1,"4":1,"5":1,"7":1,"8":1,"10":1,"11":1,"12":1,"13":1,"14":1,"35":13,"36":1,"42":1,"53":12,"90":12,"91":12,"93":12,"95":12,"97":12,"99":12,"100":12,"102":12,"103":12,"104":12,"106":12,"107":1,"110":0,"115":1,"116":1,"119":1,"120":8,"122":8,"123":4,"124":4,"126":4,"127":4,"131":1,"132":4,"135":1,"136":1,"137":1,"140":1,"141":3,"143":3,"147":3,"148":3,"150":3,"151":3,"152":3,"155":3,"156":3,"157":0,"158":0,"159":0,"160":0,"164":1,"165":0,"168":1,"169":1,"173":1,"174":1,"176":1,"179":1,"182":1,"183":2,"184":2,"186":2,"190":2,"193":1,"194":1,"197":1,"198":3,"200":1,"202":1}},"src/ui/ResultTagging/ResultTagging.ts":{"path":"src/ui/ResultTagging/ResultTagging.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":58}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":40}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":54}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":52}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":40}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":66}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":61}},"10":{"start":{"line":14,"column":0},"end":{"line":14,"column":35}},"11":{"start":{"line":15,"column":0},"end":{"line":15,"column":78}},"12":{"start":{"line":34,"column":0},"end":{"line":417,"column":1}},"13":{"start":{"line":34,"column":35},"end":{"line":34,"column":44}},"14":{"start":{"line":70,"column":2},"end":{"line":105,"column":3}},"15":{"start":{"line":71,"column":4},"end":{"line":71,"column":47}},"16":{"start":{"line":70,"column":21},"end":{"line":70,"column":41}},"17":{"start":{"line":70,"column":50},"end":{"line":70,"column":81}},"18":{"start":{"line":70,"column":121},"end":{"line":70,"column":142}},"19":{"start":{"line":73,"column":4},"end":{"line":73,"column":90}},"20":{"start":{"line":74,"column":4},"end":{"line":74,"column":49}},"21":{"start":{"line":75,"column":4},"end":{"line":75,"column":46}},"22":{"start":{"line":76,"column":4},"end":{"line":76,"column":31}},"23":{"start":{"line":78,"column":4},"end":{"line":81,"column":5}},"24":{"start":{"line":79,"column":6},"end":{"line":79,"column":83}},"25":{"start":{"line":80,"column":6},"end":{"line":80,"column":13}},"26":{"start":{"line":82,"column":4},"end":{"line":82,"column":74}},"27":{"start":{"line":83,"column":4},"end":{"line":90,"column":5}},"28":{"start":{"line":84,"column":6},"end":{"line":84,"column":40}},"29":{"start":{"line":85,"column":6},"end":{"line":87,"column":8}},"30":{"start":{"line":86,"column":8},"end":{"line":86,"column":24}},"31":{"start":{"line":89,"column":6},"end":{"line":89,"column":21}},"32":{"start":{"line":91,"column":4},"end":{"line":93,"column":10}},"33":{"start":{"line":94,"column":4},"end":{"line":94,"column":38}},"34":{"start":{"line":95,"column":4},"end":{"line":95,"column":45}},"35":{"start":{"line":97,"column":4},"end":{"line":99,"column":10}},"36":{"start":{"line":100,"column":4},"end":{"line":100,"column":47}},"37":{"start":{"line":101,"column":4},"end":{"line":101,"column":59}},"38":{"start":{"line":102,"column":4},"end":{"line":102,"column":59}},"39":{"start":{"line":103,"column":4},"end":{"line":103,"column":61}},"40":{"start":{"line":104,"column":4},"end":{"line":104,"column":29}},"41":{"start":{"line":107,"column":10},"end":{"line":113,"column":3}},"42":{"start":{"line":107,"column":2},"end":{"line":113,"column":3}},"43":{"start":{"line":108,"column":4},"end":{"line":112,"column":5}},"44":{"start":{"line":109,"column":6},"end":{"line":111,"column":9}},"45":{"start":{"line":110,"column":8},"end":{"line":110,"column":58}},"46":{"start":{"line":115,"column":10},"end":{"line":135,"column":3}},"47":{"start":{"line":115,"column":2},"end":{"line":135,"column":3}},"48":{"start":{"line":116,"column":4},"end":{"line":118,"column":7}},"49":{"start":{"line":119,"column":4},"end":{"line":121,"column":7}},"50":{"start":{"line":122,"column":4},"end":{"line":122,"column":35}},"51":{"start":{"line":123,"column":4},"end":{"line":125,"column":7}},"52":{"start":{"line":126,"column":4},"end":{"line":130,"column":7}},"53":{"start":{"line":127,"column":6},"end":{"line":129,"column":12}},"54":{"start":{"line":128,"column":8},"end":{"line":128,"column":29}},"55":{"start":{"line":131,"column":4},"end":{"line":131,"column":39}},"56":{"start":{"line":132,"column":4},"end":{"line":132,"column":34}},"57":{"start":{"line":133,"column":4},"end":{"line":133,"column":49}},"58":{"start":{"line":134,"column":4},"end":{"line":134,"column":22}},"59":{"start":{"line":137,"column":10},"end":{"line":139,"column":3}},"60":{"start":{"line":138,"column":4},"end":{"line":138,"column":25}},"61":{"start":{"line":141,"column":10},"end":{"line":154,"column":3}},"62":{"start":{"line":141,"column":2},"end":{"line":154,"column":3}},"63":{"start":{"line":142,"column":4},"end":{"line":144,"column":7}},"64":{"start":{"line":145,"column":4},"end":{"line":145,"column":66}},"65":{"start":{"line":146,"column":4},"end":{"line":148,"column":7}},"66":{"start":{"line":149,"column":4},"end":{"line":149,"column":38}},"67":{"start":{"line":150,"column":4},"end":{"line":152,"column":7}},"68":{"start":{"line":151,"column":6},"end":{"line":151,"column":54}},"69":{"start":{"line":153,"column":4},"end":{"line":153,"column":18}},"70":{"start":{"line":156,"column":10},"end":{"line":166,"column":3}},"71":{"start":{"line":157,"column":4},"end":{"line":157,"column":69}},"72":{"start":{"line":158,"column":4},"end":{"line":161,"column":7}},"73":{"start":{"line":162,"column":4},"end":{"line":162,"column":38}},"74":{"start":{"line":164,"column":4},"end":{"line":164,"column":60}},"75":{"start":{"line":165,"column":4},"end":{"line":165,"column":29}},"76":{"start":{"line":168,"column":10},"end":{"line":192,"column":3}},"77":{"start":{"line":168,"column":2},"end":{"line":192,"column":3}},"78":{"start":{"line":169,"column":4},"end":{"line":173,"column":10}},"79":{"start":{"line":175,"column":4},"end":{"line":177,"column":10}},"80":{"start":{"line":178,"column":4},"end":{"line":178,"column":62}},"81":{"start":{"line":179,"column":4},"end":{"line":179,"column":38}},"82":{"start":{"line":180,"column":4},"end":{"line":187,"column":8}},"83":{"start":{"line":181,"column":6},"end":{"line":185,"column":7}},"84":{"start":{"line":182,"column":8},"end":{"line":182,"column":42}},"85":{"start":{"line":183,"column":13},"end":{"line":185,"column":7}},"86":{"start":{"line":184,"column":8},"end":{"line":184,"column":35}},"87":{"start":{"line":186,"column":6},"end":{"line":186,"column":50}},"88":{"start":{"line":188,"column":4},"end":{"line":190,"column":7}},"89":{"start":{"line":189,"column":6},"end":{"line":189,"column":33}},"90":{"start":{"line":191,"column":4},"end":{"line":191,"column":24}},"91":{"start":{"line":194,"column":10},"end":{"line":204,"column":3}},"92":{"start":{"line":194,"column":2},"end":{"line":204,"column":3}},"93":{"start":{"line":195,"column":4},"end":{"line":197,"column":7}},"94":{"start":{"line":198,"column":4},"end":{"line":198,"column":31}},"95":{"start":{"line":199,"column":4},"end":{"line":201,"column":7}},"96":{"start":{"line":200,"column":6},"end":{"line":200,"column":21}},"97":{"start":{"line":202,"column":4},"end":{"line":202,"column":38}},"98":{"start":{"line":203,"column":4},"end":{"line":203,"column":19}},"99":{"start":{"line":206,"column":10},"end":{"line":216,"column":3}},"100":{"start":{"line":206,"column":2},"end":{"line":216,"column":3}},"101":{"start":{"line":207,"column":4},"end":{"line":209,"column":7}},"102":{"start":{"line":210,"column":4},"end":{"line":210,"column":31}},"103":{"start":{"line":211,"column":4},"end":{"line":213,"column":7}},"104":{"start":{"line":212,"column":6},"end":{"line":212,"column":30}},"105":{"start":{"line":214,"column":4},"end":{"line":214,"column":38}},"106":{"start":{"line":215,"column":4},"end":{"line":215,"column":19}},"107":{"start":{"line":218,"column":10},"end":{"line":244,"column":3}},"108":{"start":{"line":218,"column":2},"end":{"line":244,"column":3}},"109":{"start":{"line":219,"column":4},"end":{"line":219,"column":75}},"110":{"start":{"line":220,"column":4},"end":{"line":220,"column":76}},"111":{"start":{"line":221,"column":4},"end":{"line":221,"column":79}},"112":{"start":{"line":222,"column":4},"end":{"line":222,"column":102}},"113":{"start":{"line":222,"column":74},"end":{"line":222,"column":89}},"114":{"start":{"line":224,"column":4},"end":{"line":243,"column":5}},"115":{"start":{"line":225,"column":6},"end":{"line":237,"column":8}},"116":{"start":{"line":226,"column":8},"end":{"line":230,"column":9}},"117":{"start":{"line":227,"column":10},"end":{"line":227,"column":84}},"118":{"start":{"line":229,"column":10},"end":{"line":229,"column":84}},"119":{"start":{"line":231,"column":8},"end":{"line":236,"column":11}},"120":{"start":{"line":232,"column":36},"end":{"line":235,"column":12}},"121":{"start":{"line":239,"column":6},"end":{"line":241,"column":7}},"122":{"start":{"line":240,"column":8},"end":{"line":240,"column":46}},"123":{"start":{"line":242,"column":6},"end":{"line":242,"column":45}},"124":{"start":{"line":246,"column":10},"end":{"line":249,"column":3}},"125":{"start":{"line":247,"column":4},"end":{"line":247,"column":38}},"126":{"start":{"line":248,"column":4},"end":{"line":248,"column":39}},"127":{"start":{"line":251,"column":10},"end":{"line":253,"column":3}},"128":{"start":{"line":252,"column":4},"end":{"line":252,"column":38}},"129":{"start":{"line":255,"column":10},"end":{"line":275,"column":3}},"130":{"start":{"line":255,"column":2},"end":{"line":275,"column":3}},"131":{"start":{"line":256,"column":4},"end":{"line":256,"column":54}},"132":{"start":{"line":257,"column":4},"end":{"line":257,"column":40}},"133":{"start":{"line":258,"column":4},"end":{"line":266,"column":6}},"134":{"start":{"line":267,"column":4},"end":{"line":274,"column":7}},"135":{"start":{"line":268,"column":6},"end":{"line":268,"column":24}},"136":{"start":{"line":269,"column":6},"end":{"line":271,"column":9}},"137":{"start":{"line":270,"column":8},"end":{"line":270,"column":94}},"138":{"start":{"line":272,"column":6},"end":{"line":272,"column":23}},"139":{"start":{"line":273,"column":6},"end":{"line":273,"column":76}},"140":{"start":{"line":277,"column":10},"end":{"line":317,"column":3}},"141":{"start":{"line":277,"column":2},"end":{"line":317,"column":3}},"142":{"start":{"line":278,"column":4},"end":{"line":278,"column":21}},"143":{"start":{"line":280,"column":4},"end":{"line":282,"column":7}},"144":{"start":{"line":281,"column":6},"end":{"line":281,"column":28}},"145":{"start":{"line":284,"column":4},"end":{"line":290,"column":8}},"146":{"start":{"line":285,"column":6},"end":{"line":289,"column":7}},"147":{"start":{"line":286,"column":8},"end":{"line":288,"column":43}},"148":{"start":{"line":287,"column":10},"end":{"line":287,"column":28}},"149":{"start":{"line":292,"column":4},"end":{"line":294,"column":8}},"150":{"start":{"line":293,"column":6},"end":{"line":293,"column":28}},"151":{"start":{"line":296,"column":4},"end":{"line":299,"column":8}},"152":{"start":{"line":297,"column":6},"end":{"line":297,"column":24}},"153":{"start":{"line":298,"column":6},"end":{"line":298,"column":48}},"154":{"start":{"line":301,"column":4},"end":{"line":306,"column":8}},"155":{"start":{"line":302,"column":6},"end":{"line":302,"column":24}},"156":{"start":{"line":303,"column":6},"end":{"line":305,"column":7}},"157":{"start":{"line":304,"column":8},"end":{"line":304,"column":53}},"158":{"start":{"line":308,"column":4},"end":{"line":312,"column":8}},"159":{"start":{"line":309,"column":6},"end":{"line":311,"column":7}},"160":{"start":{"line":310,"column":8},"end":{"line":310,"column":49}},"161":{"start":{"line":314,"column":4},"end":{"line":316,"column":8}},"162":{"start":{"line":315,"column":6},"end":{"line":315,"column":50}},"163":{"start":{"line":320,"column":10},"end":{"line":322,"column":3}},"164":{"start":{"line":320,"column":2},"end":{"line":322,"column":3}},"165":{"start":{"line":321,"column":4},"end":{"line":321,"column":120}},"166":{"start":{"line":321,"column":74},"end":{"line":321,"column":102}},"167":{"start":{"line":324,"column":10},"end":{"line":326,"column":3}},"168":{"start":{"line":325,"column":4},"end":{"line":325,"column":32}},"169":{"start":{"line":328,"column":10},"end":{"line":343,"column":3}},"170":{"start":{"line":329,"column":4},"end":{"line":329,"column":72}},"171":{"start":{"line":330,"column":4},"end":{"line":333,"column":5}},"172":{"start":{"line":331,"column":6},"end":{"line":331,"column":21}},"173":{"start":{"line":332,"column":6},"end":{"line":332,"column":13}},"174":{"start":{"line":335,"column":4},"end":{"line":342,"column":5}},"175":{"start":{"line":336,"column":6},"end":{"line":336,"column":66}},"176":{"start":{"line":337,"column":6},"end":{"line":337,"column":39}},"177":{"start":{"line":338,"column":6},"end":{"line":338,"column":64}},"178":{"start":{"line":339,"column":6},"end":{"line":339,"column":51}},"179":{"start":{"line":340,"column":6},"end":{"line":340,"column":42}},"180":{"start":{"line":341,"column":6},"end":{"line":341,"column":43}},"181":{"start":{"line":345,"column":10},"end":{"line":358,"column":3}},"182":{"start":{"line":346,"column":4},"end":{"line":346,"column":22}},"183":{"start":{"line":347,"column":4},"end":{"line":356,"column":7}},"184":{"start":{"line":348,"column":6},"end":{"line":355,"column":7}},"185":{"start":{"line":349,"column":8},"end":{"line":353,"column":9}},"186":{"start":{"line":350,"column":10},"end":{"line":350,"column":32}},"187":{"start":{"line":351,"column":15},"end":{"line":353,"column":9}},"188":{"start":{"line":352,"column":10},"end":{"line":352,"column":32}},"189":{"start":{"line":354,"column":8},"end":{"line":354,"column":53}},"190":{"start":{"line":357,"column":4},"end":{"line":357,"column":21}},"191":{"start":{"line":360,"column":10},"end":{"line":369,"column":3}},"192":{"start":{"line":360,"column":2},"end":{"line":369,"column":3}},"193":{"start":{"line":361,"column":4},"end":{"line":363,"column":7}},"194":{"start":{"line":364,"column":4},"end":{"line":364,"column":70}},"195":{"start":{"line":365,"column":4},"end":{"line":367,"column":6}},"196":{"start":{"line":366,"column":6},"end":{"line":366,"column":42}},"197":{"start":{"line":368,"column":4},"end":{"line":368,"column":19}},"198":{"start":{"line":371,"column":10},"end":{"line":382,"column":3}},"199":{"start":{"line":371,"column":2},"end":{"line":382,"column":3}},"200":{"start":{"line":372,"column":4},"end":{"line":377,"column":6}},"201":{"start":{"line":378,"column":4},"end":{"line":381,"column":7}},"202":{"start":{"line":379,"column":6},"end":{"line":379,"column":58}},"203":{"start":{"line":380,"column":6},"end":{"line":380,"column":27}},"204":{"start":{"line":384,"column":10},"end":{"line":388,"column":3}},"205":{"start":{"line":384,"column":2},"end":{"line":388,"column":3}},"206":{"start":{"line":385,"column":4},"end":{"line":387,"column":7}},"207":{"start":{"line":386,"column":6},"end":{"line":386,"column":36}},"208":{"start":{"line":390,"column":10},"end":{"line":411,"column":3}},"209":{"start":{"line":390,"column":2},"end":{"line":411,"column":3}},"210":{"start":{"line":391,"column":4},"end":{"line":391,"column":22}},"211":{"start":{"line":392,"column":4},"end":{"line":395,"column":5}},"212":{"start":{"line":393,"column":6},"end":{"line":393,"column":47}},"213":{"start":{"line":394,"column":6},"end":{"line":394,"column":13}},"214":{"start":{"line":396,"column":4},"end":{"line":396,"column":29}},"215":{"start":{"line":397,"column":4},"end":{"line":402,"column":6}},"216":{"start":{"line":403,"column":4},"end":{"line":410,"column":7}},"217":{"start":{"line":404,"column":6},"end":{"line":404,"column":61}},"218":{"start":{"line":405,"column":6},"end":{"line":405,"column":30}},"219":{"start":{"line":406,"column":6},"end":{"line":406,"column":50}},"220":{"start":{"line":409,"column":6},"end":{"line":409,"column":73}},"221":{"start":{"line":413,"column":10},"end":{"line":416,"column":3}},"222":{"start":{"line":414,"column":4},"end":{"line":414,"column":64}},"223":{"start":{"line":415,"column":4},"end":{"line":415,"column":37}},"224":{"start":{"line":35,"column":9},"end":{"line":35,"column":30}},"225":{"start":{"line":36,"column":9},"end":{"line":36,"column":66}},"226":{"start":{"line":41,"column":9},"end":{"line":60,"column":3}},"227":{"start":{"line":47,"column":43},"end":{"line":47,"column":62}},"228":{"start":{"line":62,"column":9},"end":{"line":62,"column":68}},"229":{"start":{"line":417,"column":0},"end":{"line":417,"column":1}},"230":{"start":{"line":34,"column":13},"end":{"line":417,"column":1}},"231":{"start":{"line":418,"column":0},"end":{"line":418,"column":58}}},"fnMap":{"1":{"name":"(anonymous_6075)","line":34,"loc":{"start":{"line":34,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"ResultTagging","line":70,"loc":{"start":{"line":70,"column":2},"end":{"line":70,"column":142}}},"3":{"name":"(anonymous_6077)","line":85,"loc":{"start":{"line":85,"column":35},"end":{"line":85,"column":37}}},"4":{"name":"(anonymous_6078)","line":107,"loc":{"start":{"line":107,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_6079)","line":109,"loc":{"start":{"line":109,"column":24},"end":{"line":109,"column":36}}},"6":{"name":"(anonymous_6080)","line":115,"loc":{"start":{"line":115,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_6081)","line":126,"loc":{"start":{"line":126,"column":24},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_6082)","line":127,"loc":{"start":{"line":127,"column":14},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_6083)","line":137,"loc":{"start":{"line":137,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_6084)","line":141,"loc":{"start":{"line":141,"column":2},"end":{"line":141,"column":40}}},"11":{"name":"(anonymous_6085)","line":150,"loc":{"start":{"line":150,"column":27},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_6086)","line":156,"loc":{"start":{"line":156,"column":2},"end":{"line":156,"column":53}}},"13":{"name":"(anonymous_6087)","line":168,"loc":{"start":{"line":168,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_6088)","line":180,"loc":{"start":{"line":180,"column":34},"end":{"line":180,"column":51}}},"15":{"name":"(anonymous_6089)","line":188,"loc":{"start":{"line":188,"column":33},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_6090)","line":194,"loc":{"start":{"line":194,"column":2},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_6091)","line":199,"loc":{"start":{"line":199,"column":26},"end":{"line":null,"column":-1}}},"18":{"name":"(anonymous_6092)","line":206,"loc":{"start":{"line":206,"column":2},"end":{"line":null,"column":-1}}},"19":{"name":"(anonymous_6093)","line":211,"loc":{"start":{"line":211,"column":26},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_6094)","line":218,"loc":{"start":{"line":218,"column":2},"end":{"line":218,"column":67}}},"21":{"name":"(anonymous_6095)","line":222,"loc":{"start":{"line":222,"column":52},"end":{"line":222,"column":69}}},"22":{"name":"(anonymous_6096)","line":225,"loc":{"start":{"line":225,"column":30},"end":{"line":null,"column":-1}}},"23":{"name":"(anonymous_6097)","line":232,"loc":{"start":{"line":232,"column":30},"end":{"line":232,"column":35}}},"24":{"name":"(anonymous_6098)","line":246,"loc":{"start":{"line":246,"column":2},"end":{"line":null,"column":-1}}},"25":{"name":"(anonymous_6099)","line":251,"loc":{"start":{"line":251,"column":2},"end":{"line":null,"column":-1}}},"26":{"name":"(anonymous_6100)","line":255,"loc":{"start":{"line":255,"column":2},"end":{"line":null,"column":-1}}},"27":{"name":"(anonymous_6101)","line":267,"loc":{"start":{"line":267,"column":49},"end":{"line":267,"column":81}}},"28":{"name":"(anonymous_6102)","line":269,"loc":{"start":{"line":269,"column":26},"end":{"line":269,"column":55}}},"29":{"name":"(anonymous_6103)","line":277,"loc":{"start":{"line":277,"column":2},"end":{"line":null,"column":-1}}},"30":{"name":"(anonymous_6104)","line":280,"loc":{"start":{"line":280,"column":37},"end":{"line":null,"column":-1}}},"31":{"name":"(anonymous_6105)","line":284,"loc":{"start":{"line":284,"column":47},"end":{"line":284,"column":68}}},"32":{"name":"(anonymous_6106)","line":286,"loc":{"start":{"line":286,"column":29},"end":{"line":null,"column":-1}}},"33":{"name":"(anonymous_6107)","line":292,"loc":{"start":{"line":292,"column":49},"end":{"line":null,"column":-1}}},"34":{"name":"(anonymous_6108)","line":296,"loc":{"start":{"line":296,"column":39},"end":{"line":null,"column":-1}}},"35":{"name":"(anonymous_6109)","line":301,"loc":{"start":{"line":301,"column":67},"end":{"line":null,"column":-1}}},"36":{"name":"(anonymous_6110)","line":308,"loc":{"start":{"line":308,"column":65},"end":{"line":308,"column":86}}},"37":{"name":"(anonymous_6111)","line":314,"loc":{"start":{"line":314,"column":64},"end":{"line":null,"column":-1}}},"38":{"name":"(anonymous_6112)","line":320,"loc":{"start":{"line":320,"column":2},"end":{"line":320,"column":39}}},"39":{"name":"(anonymous_6113)","line":321,"loc":{"start":{"line":321,"column":57},"end":{"line":321,"column":69}}},"40":{"name":"(anonymous_6114)","line":324,"loc":{"start":{"line":324,"column":2},"end":{"line":324,"column":41}}},"41":{"name":"(anonymous_6115)","line":328,"loc":{"start":{"line":328,"column":2},"end":{"line":328,"column":40}}},"42":{"name":"(anonymous_6116)","line":345,"loc":{"start":{"line":345,"column":2},"end":{"line":345,"column":71}}},"43":{"name":"(anonymous_6117)","line":347,"loc":{"start":{"line":347,"column":28},"end":{"line":347,"column":59}}},"44":{"name":"(anonymous_6118)","line":360,"loc":{"start":{"line":360,"column":2},"end":{"line":360,"column":50}}},"45":{"name":"(anonymous_6119)","line":365,"loc":{"start":{"line":365,"column":21},"end":{"line":null,"column":-1}}},"46":{"name":"(anonymous_6120)","line":371,"loc":{"start":{"line":371,"column":2},"end":{"line":371,"column":60}}},"47":{"name":"(anonymous_6121)","line":378,"loc":{"start":{"line":378,"column":65},"end":{"line":null,"column":-1}}},"48":{"name":"(anonymous_6122)","line":384,"loc":{"start":{"line":384,"column":2},"end":{"line":384,"column":44}}},"49":{"name":"(anonymous_6123)","line":385,"loc":{"start":{"line":385,"column":32},"end":{"line":385,"column":44}}},"50":{"name":"(anonymous_6124)","line":390,"loc":{"start":{"line":390,"column":2},"end":{"line":390,"column":46}}},"51":{"name":"(anonymous_6125)","line":403,"loc":{"start":{"line":403,"column":65},"end":{"line":null,"column":-1}}},"52":{"name":"(anonymous_6126)","line":407,"loc":{"start":{"line":407,"column":13},"end":{"line":null,"column":-1}}},"53":{"name":"(anonymous_6127)","line":413,"loc":{"start":{"line":413,"column":2},"end":{"line":null,"column":-1}}},"54":{"name":"(anonymous_6128)","line":47,"loc":{"start":{"line":47,"column":13},"end":{"line":47,"column":38}}}},"branchMap":{"1":{"line":74,"type":"binary-expr","locations":[{"start":{"line":74,"column":18},"end":{"line":74,"column":24}},{"start":{"line":74,"column":28},"end":{"line":74,"column":48}}]},"2":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":4},"end":{"line":78,"column":3}},{"start":{"line":78,"column":4},"end":{"line":78,"column":3}}]},"3":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":4},"end":{"line":83,"column":3}},{"start":{"line":83,"column":4},"end":{"line":83,"column":3}}]},"4":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":4},"end":{"line":108,"column":3}},{"start":{"line":108,"column":4},"end":{"line":108,"column":3}}]},"5":{"line":181,"type":"if","locations":[{"start":{"line":181,"column":6},"end":{"line":181,"column":5}},{"start":{"line":181,"column":6},"end":{"line":181,"column":5}}]},"6":{"line":181,"type":"binary-expr","locations":[{"start":{"line":181,"column":10},"end":{"line":181,"column":40}},{"start":{"line":181,"column":44},"end":{"line":181,"column":76}},{"start":{"line":181,"column":80},"end":{"line":181,"column":107}}]},"7":{"line":183,"type":"if","locations":[{"start":{"line":183,"column":13},"end":{"line":183,"column":12}},{"start":{"line":183,"column":13},"end":{"line":183,"column":12}}]},"8":{"line":224,"type":"if","locations":[{"start":{"line":224,"column":4},"end":{"line":224,"column":3}},{"start":{"line":224,"column":4},"end":{"line":224,"column":3}}]},"9":{"line":224,"type":"binary-expr","locations":[{"start":{"line":224,"column":8},"end":{"line":224,"column":26}},{"start":{"line":224,"column":30},"end":{"line":224,"column":54}}]},"10":{"line":226,"type":"if","locations":[{"start":{"line":226,"column":8},"end":{"line":226,"column":7}},{"start":{"line":226,"column":8},"end":{"line":226,"column":7}}]},"11":{"line":239,"type":"if","locations":[{"start":{"line":239,"column":6},"end":{"line":239,"column":5}},{"start":{"line":239,"column":6},"end":{"line":239,"column":5}}]},"12":{"line":285,"type":"if","locations":[{"start":{"line":285,"column":6},"end":{"line":285,"column":5}},{"start":{"line":285,"column":6},"end":{"line":285,"column":5}}]},"13":{"line":303,"type":"if","locations":[{"start":{"line":303,"column":6},"end":{"line":303,"column":5}},{"start":{"line":303,"column":6},"end":{"line":303,"column":5}}]},"14":{"line":309,"type":"if","locations":[{"start":{"line":309,"column":6},"end":{"line":309,"column":5}},{"start":{"line":309,"column":6},"end":{"line":309,"column":5}}]},"15":{"line":309,"type":"binary-expr","locations":[{"start":{"line":309,"column":10},"end":{"line":309,"column":34}},{"start":{"line":309,"column":39},"end":{"line":309,"column":132}}]},"16":{"line":330,"type":"if","locations":[{"start":{"line":330,"column":4},"end":{"line":330,"column":3}},{"start":{"line":330,"column":4},"end":{"line":330,"column":3}}]},"17":{"line":335,"type":"if","locations":[{"start":{"line":335,"column":4},"end":{"line":335,"column":3}},{"start":{"line":335,"column":4},"end":{"line":335,"column":3}}]},"18":{"line":348,"type":"if","locations":[{"start":{"line":348,"column":6},"end":{"line":348,"column":5}},{"start":{"line":348,"column":6},"end":{"line":348,"column":5}}]},"19":{"line":349,"type":"if","locations":[{"start":{"line":349,"column":8},"end":{"line":349,"column":7}},{"start":{"line":349,"column":8},"end":{"line":349,"column":7}}]},"20":{"line":351,"type":"if","locations":[{"start":{"line":351,"column":15},"end":{"line":351,"column":14}},{"start":{"line":351,"column":15},"end":{"line":351,"column":14}}]},"21":{"line":392,"type":"if","locations":[{"start":{"line":392,"column":4},"end":{"line":392,"column":3}},{"start":{"line":392,"column":4},"end":{"line":392,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1,"42":0,"43":0,"44":0,"45":0,"46":1,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":1,"60":0,"61":1,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":1,"71":0,"72":0,"73":0,"74":0,"75":0,"76":1,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":1,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":1,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":1,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":1,"125":0,"126":0,"127":1,"128":0,"129":1,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":1,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":1,"164":0,"165":0,"166":0,"167":1,"168":0,"169":1,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":1,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":1,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":1,"199":0,"200":0,"201":0,"202":0,"203":0,"204":1,"205":0,"206":0,"207":0,"208":1,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":1,"222":0,"223":0,"224":1,"225":1,"226":1,"227":0,"228":1,"229":1,"230":1,"231":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0},"code":"import {Component} from '../Base/Component';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {IFieldDescription} from '../../rest/FieldDescription';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {Assert} from '../../misc/Assert';\nimport {Utils} from '../../utils/Utils';\nimport {Initialization} from '../Base/Initialization';\nimport {IIndexFieldValue} from '../../rest/FieldValue';\nimport {StringUtils} from '../../utils/StringUtils';\nimport {l} from '../../strings/Strings';\nimport {KEYBOARD, KeyboardUtils} from '../../utils/KeyboardUtils';\nimport {QueryStateModel} from '../../models/QueryStateModel';\nimport {ITaggingRequest} from '../../rest/TaggingRequest';\nimport {$$} from '../../utils/Dom';\nimport {analyticsActionCauseList} from '../Analytics/AnalyticsActionListMeta';\nimport {IQueryResult} from '../../rest/QueryResult';\n\nexport interface IResultTaggingOptions {\n  field: string;\n  suggestBoxSize?: number;\n  autoCompleteTimer?: number;\n}\n\nexport interface IAnalyticsResultTaggingMeta {\n  facetId: string;\n  facetValue?: string;\n  facetTitle?: string;\n}\n\n/**\n * This component can be used as part of a result template to list the current tag field values for the search result\n * and display a control that allows end-users to add a value to a tag field.\n */\nexport class ResultTagging extends Component {\n  static ID = 'ResultTagging';\n  static autoCompleteClass = 'coveo-result-tagging-auto-complete';\n\n  /**\n   * @componentOptions\n   */\n  static options: IResultTaggingOptions = {\n    /**\n     * Specifies the tag field used by the component.<br/>\n     * It is required, and if not specified, the component will not load.\n     */\n    field: ComponentOptions.buildFieldOption({\n      match: (field: IFieldDescription) => field.type == 'Tag',\n      required: true\n    }),\n    /**\n     * Specifies the number of items to show in the suggested item list.<br/>\n     * Default value is 5.\n     */\n    suggestBoxSize: ComponentOptions.buildNumberOption({ defaultValue: 5, min: 0 }),\n    /**\n     * Specifies how long to wait in milliseconds until the suggested item list disappears when you focus out.<br/>\n     * Default valus is 2000\n     */\n    autoCompleteTimer: ComponentOptions.buildNumberOption({ defaultValue: 2000, min: 0 })\n  }\n\n  static AUTO_COMPLETE_CLASS = 'coveo-result-tagging-auto-complete';\n\n  private autoCompleteZone: HTMLElement;\n  private textBox: HTMLInputElement;\n  private autoCompletePopup: HTMLElement;\n  private tagZone: HTMLElement;\n  private tags: string[];\n\n  constructor(public element: HTMLElement, public options?: IResultTaggingOptions, bindings?: IComponentBindings, public result?: IQueryResult) {\n    super(element, ResultTagging.ID, bindings);\n\n    this.options = ComponentOptions.initComponentOptions(element, ResultTagging, options);\n    this.result = result || this.resolveResult();\n    Assert.exists(this.componentOptionsModel);\n    Assert.exists(this.result);\n\n    if (!this.options.field) {\n      this.logger.error('You must specify a field to the ResultTagging component');\n      return;\n    }\n    let fieldValue = Utils.getFieldValue(this.result, this.options.field);\n    if (fieldValue) {\n      this.tags = fieldValue.split(';');\n      this.tags = _.map(this.tags, (t) => {\n        return t.trim();\n      })\n    } else {\n      this.tags = [];\n    }\n    this.tagZone = $$('div', {\n      className: 'coveo-result-tagging-tag-zone'\n    }).el;\n    element.appendChild(this.tagZone);\n    element.appendChild(this.buildTagIcon());\n\n    this.autoCompleteZone = $$('div', {\n      className: 'coveo-result-tagging-auto-complete-zone'\n    }).el;\n    element.appendChild(this.autoCompleteZone);\n    this.autoCompleteZone.appendChild(this.buildTextBox());\n    this.autoCompleteZone.appendChild(this.buildAddIcon());\n    this.autoCompleteZone.appendChild(this.buildClearIcon());\n    this.buildExistingTags();\n  }\n\n  private buildExistingTags() {\n    if (this.tags) {\n      _.each(this.tags, (tag: string) => {\n        this.tagZone.appendChild(this.buildTagValue(tag));\n      });\n    }\n  }\n\n  private buildTagIcon(): HTMLElement {\n    let tagZone = $$('div', {\n      className: 'coveo-result-tagging-add-tag'\n    });\n    let tagTextBox = $$('span', {\n      className: 'coveo-result-tagging-add-tag-text'\n    });\n    tagTextBox.text(l('EnterTag'));\n    let tagIcon = $$('span', {\n      className: 'coveo-result-tagging-add-tag-icon'\n    });\n    tagIcon.on('click', () => {\n      _.defer(() => {\n        this.focusOnTextBox()\n      }, 20)\n    });\n    tagZone.el.appendChild(tagIcon.el);\n    tagZone.append(tagTextBox.el);\n    tagZone.setAttribute('title', l('EnterTag'));\n    return tagZone.el;\n  }\n\n  private focusOnTextBox() {\n    this.textBox.focus();\n  }\n\n  private buildTagValue(tagValue: string): HTMLElement {\n    let tag = $$('div', {\n      className: 'coveo-result-tagging-coveo-tag'\n    });\n    tag.el.appendChild(this.buildShortenedTagWithTitle(tagValue));\n    let deleteIcon = $$('span', {\n      className: 'coveo-result-tagging-delete-icon'\n    });\n    tag.el.appendChild(deleteIcon.el);\n    deleteIcon.on('click', () => {\n      this.doRemoveTag(tag.el, tagValue.toLowerCase())\n    });\n    return tag.el;\n  }\n\n  private buildShortenedTagWithTitle(tagValue: string): HTMLElement {\n    let shortenedTag = StringUtils.removeMiddle(tagValue, 16, '...');\n    let clickableValue = $$('a', {\n      title: tagValue,\n      href: 'javascript:void(0);'\n    });\n    clickableValue.text(shortenedTag);\n\n    this.bindFacetEventOnValue(clickableValue.el, tagValue);\n    return clickableValue.el;\n  }\n\n  private buildTextBox(): HTMLInputElement {\n    this.textBox = <HTMLInputElement>$$('input', {\n      type: 'text',\n      className: 'coveo-add-tag-textbox',\n      placeholder: l('EnterTag')\n    }).el;\n\n    this.autoCompletePopup = $$('div', {\n      className: ResultTagging.autoCompleteClass\n    }).el;\n    this.autoCompleteZone.appendChild(this.autoCompletePopup);\n    this.manageAutocompleteAutoHide();\n    $$(this.textBox).on('keyup', ((e: KeyboardEvent) => {\n      if (e.keyCode == KEYBOARD.UP_ARROW || e.keyCode == KEYBOARD.DOWN_ARROW || e.keyCode == KEYBOARD.ENTER) {\n        this.manageUpDownEnter(e.keyCode);\n      } else if (!KeyboardUtils.isArrowKeyPushed(e.keyCode)) {\n        this.populateSuggestions();\n      }\n      $$(this.element).removeClass('coveo-error');\n    }));\n    $$(this.textBox).on('click', () => {\n      this.populateSuggestions();\n    });\n    return this.textBox;\n  }\n\n  private buildAddIcon(): HTMLElement {\n    let icon = $$('div', {\n      className: 'coveo-result-tagging-add-tag-tick-icon'\n    });\n    let clickable = $$('span');\n    clickable.on('click', () => {\n      this.doAddTag()\n    });\n    icon.el.appendChild(clickable.el);\n    return icon.el;\n  }\n\n  private buildClearIcon(): HTMLElement {\n    let icon = $$('div', {\n      className: 'coveo-result-tagging-clear-icon'\n    });\n    let clickable = $$('span');\n    clickable.on('click', () => {\n      this.textBox.value = '';\n    });\n    icon.el.appendChild(clickable.el);\n    return icon.el;\n  }\n\n  private bindFacetEventOnValue(element: HTMLElement, value: string) {\n    let facetAttributeName = QueryStateModel.getFacetId(this.options.field)\n    let facetModel: string[] = this.queryStateModel.get(facetAttributeName);\n    let facets: Component[] = this.componentStateModel.get(facetAttributeName);\n    let atLeastOneFacetIsEnabled = _.filter(facets, (value: Component) => !value.disabled).length > 0;\n\n    if (facetModel != null && atLeastOneFacetIsEnabled) {\n      $$(element).on('click', () => {\n        if (_.contains(facetModel, value)) {\n          this.queryStateModel.set(facetAttributeName, _.without(facetModel, value))\n        } else {\n          this.queryStateModel.set(facetAttributeName, _.union(facetModel, [value]))\n        }\n        this.queryController.deferExecuteQuery({\n          beforeExecuteQuery: () => this.usageAnalytics.logSearchEvent<IAnalyticsResultTaggingMeta>(analyticsActionCauseList.documentTag, {\n            facetId: this.options.field,\n            facetValue: value\n          })\n        });\n      })\n\n      if (_.contains(facetModel, value)) {\n        $$(element).addClass('coveo-selected')\n      }\n      $$(element).addClass('coveo-clickable')\n    }\n  }\n\n  private clearPopup() {\n    $$(this.autoCompletePopup).hide();\n    $$(this.autoCompletePopup).empty();\n  }\n\n  private showPopup() {\n    $$(this.autoCompletePopup).show();\n  }\n\n  private populateSuggestions() {\n    let endpoint = this.queryController.getEndpoint();\n    let searchText = this.textBox.value;\n    let searchOptions = {\n      field: this.options.field,\n      ignoreAccents: true,\n      sortCriteria: 'occurences',\n      maximumNumberOfValues: this.options.suggestBoxSize,\n      queryOverride: '@uri',\n      pattern: this.buildRegEx(searchText),\n      patternType: 'RegularExpression'\n    };\n    endpoint.listFieldValues(searchOptions).then((fieldValues: IIndexFieldValue[]) => {\n      this.clearPopup();\n      _.each(fieldValues, (fieldValue: IIndexFieldValue) => {\n        this.autoCompletePopup.appendChild(this.buildSelectableValue(fieldValue.lookupValue));\n      });\n      this.showPopup();\n      this.autoCompletePopup.style.width = this.textBox.offsetWidth + ' px';\n    });\n  }\n\n  private manageAutocompleteAutoHide() {\n    let timeout: any;\n\n    $$(this.textBox).on('mouseover', () => {\n      clearTimeout(timeout);\n    });\n\n    $$(this.autoCompletePopup).on('mouseout', ((e: JQueryEventObject) => {\n      if ($$(<HTMLElement>e.target).hasClass(ResultTagging.autoCompleteClass)) {\n        timeout = setTimeout(() => {\n          this.clearPopup();\n        }, this.options.autoCompleteTimer);\n      }\n    }));\n\n    $$(this.autoCompletePopup).on('mouseenter', (() => {\n      clearTimeout(timeout);\n    }));\n\n    $$(this.element).on('mouseenter', (() => {\n      this.clearPopup();\n      $$(this.element).addClass('coveo-opened');\n    }));\n\n    $$($$(this.element).closest('.CoveoResult')).on('mouseleave', (() => {\n      this.clearPopup();\n      if (this.textBox.value == '') {\n        $$(this.element).removeClass('coveo-opened');\n      }\n    }));\n\n    $$($$(this.element).closest('.CoveoResult')).on('focusout', ((e: JQueryEventObject) => {\n      if (this.textBox.value != '' && ($$(<HTMLElement>e.target).closest('.CoveoResult') != $$(this.element).closest('.CoveoResult'))) {\n        $$(this.element).addClass('coveo-error');\n      }\n    }));\n\n    $$($$(this.element).closest('.CoveoResult')).on('focusin', (() => {\n      $$(this.element).removeClass('coveo-error');\n    }));\n  }\n\n  // Exclude tags that are already on the result (Since we can tag with the same value twice.\n  private buildRegEx(searchTerm: string) {\n    return '(?=.*' + searchTerm + ')' + _.map(this.tags, (tag: string) => this.buildTermToExclude(tag)).join('') + '.*';\n  }\n\n  private buildTermToExclude(term: string) {\n    return '(?!^' + term + '$)';\n  }\n\n  private manageUpDownEnter(code: number) {\n    let selectableArray = $$(this.element).findAll('.coveo-selectable');\n    if (code == KEYBOARD.ENTER) {\n      this.doAddTag()\n      return;\n    }\n\n    if (selectableArray.length > 0) {\n      let newIndex = this.computeNextIndex(code, selectableArray);\n      newIndex = Math.max(0, newIndex);\n      newIndex = Math.min(selectableArray.length - 1, newIndex);\n      let selected = $$(selectableArray[newIndex]);\n      selected.addClass('coveo-selected');\n      this.textBox.value = selected.text();\n    }\n  }\n\n  private computeNextIndex(code: number, selectableArray: HTMLElement[]): number {\n    let nextIndex = 0;\n    _.each(selectableArray, (selectable: HTMLElement, index) => {\n      if ($$(selectable).hasClass('coveo-selected')) {\n        if (code == KEYBOARD.UP_ARROW) {\n          nextIndex = index - 1;\n        } else if (code == KEYBOARD.DOWN_ARROW) {\n          nextIndex = index + 1;\n        }\n        $$(selectable).removeClass('coveo-selected');\n      }\n    });\n    return nextIndex;\n  }\n\n  private buildSelectableValue(lookupValue: string): HTMLElement {\n    let line = $$('div', {\n      className: 'coveo-selectable'\n    });\n    line.el.appendChild(this.buildShortenedTagWithTitle(lookupValue));\n    line.on('click', () => {\n      this.doAddTagWithValue(lookupValue);\n    })\n    return line.el;\n  }\n\n  private doRemoveTag(element: HTMLElement, tagValue: string) {\n    let request: ITaggingRequest = {\n      fieldName: this.options.field,\n      fieldValue: tagValue,\n      doAdd: false,\n      uniqueId: this.result.uniqueId\n    };\n    this.queryController.getEndpoint().tagDocument(request).then(() => {\n      this.tags.splice(_.indexOf(this.tags, tagValue), 1);\n      $$(element).detach();\n    });\n  }\n\n  private doAddTagWithValue(tagValue: string) {\n    _.each(tagValue.split(','), (tag: string) => {\n      this.doAddSingleTagValue(tag);\n    });\n  }\n\n  private doAddSingleTagValue(tagValue: string) {\n    this.clearPopup();\n    if (_.indexOf(this.tags, tagValue) > -1) {\n      $$(this.element).addClass('coveo-error');\n      return;\n    }\n    this.tags.push(tagValue);\n    let request: ITaggingRequest = {\n      fieldName: this.options.field,\n      fieldValue: tagValue,\n      doAdd: true,\n      uniqueId: this.result.uniqueId\n    };\n    this.queryController.getEndpoint().tagDocument(request).then(() => {\n      this.tagZone.appendChild(this.buildTagValue(tagValue));\n      this.textBox.value = '';\n      $$(this.element).removeClass('coveo-error');\n    }).catch(() => {\n      // We do this otherwise it's possible to add the same tag while we wait for the server's response\n      this.tags = _.without(this.tags, _.findWhere(this.tags, tagValue));\n    });\n  }\n\n  private doAddTag() {\n    let tagValue = Utils.trim(this.textBox.value.toLowerCase());\n    this.doAddTagWithValue(tagValue);\n  }\n}\nInitialization.registerAutoCreateComponent(ResultTagging);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/ResultTagging/ResultTagging.ts\n **/","l":{"1":1,"2":1,"5":1,"6":1,"7":1,"9":1,"10":1,"11":1,"12":1,"14":1,"15":1,"34":1,"35":1,"36":1,"41":1,"47":0,"62":1,"70":1,"71":0,"73":0,"74":0,"75":0,"76":0,"78":0,"79":0,"80":0,"82":0,"83":0,"84":0,"85":0,"86":0,"89":0,"91":0,"94":0,"95":0,"97":0,"100":0,"101":0,"102":0,"103":0,"104":0,"107":1,"108":0,"109":0,"110":0,"115":1,"116":0,"119":0,"122":0,"123":0,"126":0,"127":0,"128":0,"131":0,"132":0,"133":0,"134":0,"137":1,"138":0,"141":1,"142":0,"145":0,"146":0,"149":0,"150":0,"151":0,"153":0,"156":1,"157":0,"158":0,"162":0,"164":0,"165":0,"168":1,"169":0,"175":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"186":0,"188":0,"189":0,"191":0,"194":1,"195":0,"198":0,"199":0,"200":0,"202":0,"203":0,"206":1,"207":0,"210":0,"211":0,"212":0,"214":0,"215":0,"218":1,"219":0,"220":0,"221":0,"222":0,"224":0,"225":0,"226":0,"227":0,"229":0,"231":0,"232":0,"239":0,"240":0,"242":0,"246":1,"247":0,"248":0,"251":1,"252":0,"255":1,"256":0,"257":0,"258":0,"267":0,"268":0,"269":0,"270":0,"272":0,"273":0,"277":1,"278":0,"280":0,"281":0,"284":0,"285":0,"286":0,"287":0,"292":0,"293":0,"296":0,"297":0,"298":0,"301":0,"302":0,"303":0,"304":0,"308":0,"309":0,"310":0,"314":0,"315":0,"320":1,"321":0,"324":1,"325":0,"328":1,"329":0,"330":0,"331":0,"332":0,"335":0,"336":0,"337":0,"338":0,"339":0,"340":0,"341":0,"345":1,"346":0,"347":0,"348":0,"349":0,"350":0,"351":0,"352":0,"354":0,"357":0,"360":1,"361":0,"364":0,"365":0,"366":0,"368":0,"371":1,"372":0,"378":0,"379":0,"380":0,"384":1,"385":0,"386":0,"390":1,"391":0,"392":0,"393":0,"394":0,"396":0,"397":0,"403":0,"404":0,"405":0,"406":0,"409":0,"413":1,"414":0,"415":0,"417":1,"418":1}},"src/ui/ResultsPreferences/ResultsPreferences.ts":{"path":"src/ui/ResultsPreferences/ResultsPreferences.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":58}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":73}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":64}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":70}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":87}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":75}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":111}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":54}},"10":{"start":{"line":12,"column":0},"end":{"line":12,"column":41}},"11":{"start":{"line":13,"column":0},"end":{"line":13,"column":40}},"12":{"start":{"line":14,"column":0},"end":{"line":14,"column":35}},"13":{"start":{"line":27,"column":0},"end":{"line":163,"column":1}},"14":{"start":{"line":27,"column":40},"end":{"line":27,"column":49}},"15":{"start":{"line":58,"column":2},"end":{"line":79,"column":3}},"16":{"start":{"line":59,"column":4},"end":{"line":59,"column":52}},"17":{"start":{"line":58,"column":21},"end":{"line":58,"column":41}},"18":{"start":{"line":58,"column":50},"end":{"line":58,"column":85}},"19":{"start":{"line":58,"column":94},"end":{"line":58,"column":122}},"20":{"start":{"line":61,"column":4},"end":{"line":61,"column":95}},"21":{"start":{"line":63,"column":4},"end":{"line":63,"column":102}},"22":{"start":{"line":64,"column":4},"end":{"line":64,"column":84}},"23":{"start":{"line":65,"column":4},"end":{"line":65,"column":46}},"24":{"start":{"line":66,"column":4},"end":{"line":66,"column":39}},"25":{"start":{"line":67,"column":4},"end":{"line":67,"column":41}},"26":{"start":{"line":69,"column":4},"end":{"line":69,"column":69}},"27":{"start":{"line":70,"column":4},"end":{"line":70,"column":94}},"28":{"start":{"line":72,"column":4},"end":{"line":72,"column":39}},"29":{"start":{"line":74,"column":4},"end":{"line":74,"column":98}},"30":{"start":{"line":74,"column":86},"end":{"line":74,"column":97}},"31":{"start":{"line":75,"column":4},"end":{"line":75,"column":120}},"32":{"start":{"line":75,"column":97},"end":{"line":75,"column":119}},"33":{"start":{"line":77,"column":4},"end":{"line":77,"column":22}},"34":{"start":{"line":78,"column":4},"end":{"line":78,"column":32}},"35":{"start":{"line":84,"column":9},"end":{"line":89,"column":3}},"36":{"start":{"line":85,"column":4},"end":{"line":85,"column":42}},"37":{"start":{"line":86,"column":4},"end":{"line":86,"column":61}},"38":{"start":{"line":87,"column":4},"end":{"line":87,"column":60}},"39":{"start":{"line":88,"column":4},"end":{"line":88,"column":39}},"40":{"start":{"line":91,"column":9},"end":{"line":93,"column":3}},"41":{"start":{"line":92,"column":4},"end":{"line":92,"column":42}},"42":{"start":{"line":95,"column":10},"end":{"line":97,"column":3}},"43":{"start":{"line":96,"column":4},"end":{"line":96,"column":102}},"44":{"start":{"line":99,"column":10},"end":{"line":105,"column":3}},"45":{"start":{"line":100,"column":4},"end":{"line":102,"column":33}},"46":{"start":{"line":104,"column":4},"end":{"line":104,"column":39}},"47":{"start":{"line":107,"column":10},"end":{"line":132,"column":3}},"48":{"start":{"line":107,"column":2},"end":{"line":132,"column":3}},"49":{"start":{"line":108,"column":4},"end":{"line":108,"column":20}},"50":{"start":{"line":109,"column":4},"end":{"line":111,"column":5}},"51":{"start":{"line":110,"column":6},"end":{"line":110,"column":61}},"52":{"start":{"line":112,"column":4},"end":{"line":114,"column":5}},"53":{"start":{"line":113,"column":6},"end":{"line":113,"column":57}},"54":{"start":{"line":115,"column":4},"end":{"line":115,"column":105}},"55":{"start":{"line":116,"column":4},"end":{"line":118,"column":7}},"56":{"start":{"line":120,"column":4},"end":{"line":120,"column":72}},"57":{"start":{"line":121,"column":4},"end":{"line":121,"column":53}},"58":{"start":{"line":122,"column":4},"end":{"line":128,"column":6}},"59":{"start":{"line":123,"column":6},"end":{"line":127,"column":8}},"60":{"start":{"line":124,"column":8},"end":{"line":124,"column":61}},"61":{"start":{"line":125,"column":8},"end":{"line":125,"column":20}},"62":{"start":{"line":126,"column":8},"end":{"line":126,"column":44}},"63":{"start":{"line":130,"column":4},"end":{"line":130,"column":43}},"64":{"start":{"line":131,"column":4},"end":{"line":131,"column":42}},"65":{"start":{"line":134,"column":10},"end":{"line":146,"column":3}},"66":{"start":{"line":135,"column":4},"end":{"line":135,"column":68}},"67":{"start":{"line":136,"column":4},"end":{"line":139,"column":6}},"68":{"start":{"line":140,"column":4},"end":{"line":142,"column":5}},"69":{"start":{"line":141,"column":6},"end":{"line":141,"column":43}},"70":{"start":{"line":143,"column":4},"end":{"line":145,"column":5}},"71":{"start":{"line":144,"column":6},"end":{"line":144,"column":52}},"72":{"start":{"line":148,"column":10},"end":{"line":155,"column":3}},"73":{"start":{"line":149,"column":4},"end":{"line":151,"column":5}},"74":{"start":{"line":150,"column":6},"end":{"line":150,"column":79}},"75":{"start":{"line":152,"column":4},"end":{"line":154,"column":5}},"76":{"start":{"line":153,"column":6},"end":{"line":153,"column":75}},"77":{"start":{"line":157,"column":10},"end":{"line":162,"column":3}},"78":{"start":{"line":158,"column":4},"end":{"line":158,"column":80}},"79":{"start":{"line":159,"column":4},"end":{"line":159,"column":60}},"80":{"start":{"line":160,"column":4},"end":{"line":160,"column":184}},"81":{"start":{"line":161,"column":4},"end":{"line":161,"column":170}},"82":{"start":{"line":28,"column":9},"end":{"line":28,"column":35}},"83":{"start":{"line":34,"column":9},"end":{"line":45,"column":4}},"84":{"start":{"line":163,"column":0},"end":{"line":163,"column":1}},"85":{"start":{"line":27,"column":13},"end":{"line":163,"column":1}},"86":{"start":{"line":165,"column":0},"end":{"line":165,"column":63}}},"fnMap":{"1":{"name":"(anonymous_6133)","line":27,"loc":{"start":{"line":27,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"ResultsPreferences","line":58,"loc":{"start":{"line":58,"column":2},"end":{"line":58,"column":122}}},"3":{"name":"(anonymous_6135)","line":74,"loc":{"start":{"line":74,"column":80},"end":{"line":74,"column":85}}},"4":{"name":"(anonymous_6136)","line":75,"loc":{"start":{"line":75,"column":91},"end":{"line":75,"column":96}}},"5":{"name":"(anonymous_6137)","line":84,"loc":{"start":{"line":84,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_6138)","line":91,"loc":{"start":{"line":91,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_6139)","line":95,"loc":{"start":{"line":95,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_6140)","line":99,"loc":{"start":{"line":99,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_6141)","line":107,"loc":{"start":{"line":107,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_6142)","line":122,"loc":{"start":{"line":122,"column":28},"end":{"line":122,"column":35}}},"11":{"name":"(anonymous_6143)","line":123,"loc":{"start":{"line":123,"column":30},"end":{"line":123,"column":39}}},"12":{"name":"(anonymous_6144)","line":134,"loc":{"start":{"line":134,"column":2},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_6145)","line":148,"loc":{"start":{"line":148,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_6146)","line":157,"loc":{"start":{"line":157,"column":2},"end":{"line":157,"column":63}}}},"branchMap":{"1":{"line":69,"type":"binary-expr","locations":[{"start":{"line":69,"column":23},"end":{"line":69,"column":62}},{"start":{"line":69,"column":66},"end":{"line":69,"column":68}}]},"2":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":4},"end":{"line":109,"column":3}},{"start":{"line":109,"column":4},"end":{"line":109,"column":3}}]},"3":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":4},"end":{"line":112,"column":3}},{"start":{"line":112,"column":4},"end":{"line":112,"column":3}}]},"4":{"line":140,"type":"if","locations":[{"start":{"line":140,"column":4},"end":{"line":140,"column":3}},{"start":{"line":140,"column":4},"end":{"line":140,"column":3}}]},"5":{"line":143,"type":"if","locations":[{"start":{"line":143,"column":4},"end":{"line":143,"column":3}},{"start":{"line":143,"column":4},"end":{"line":143,"column":3}}]},"6":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":4},"end":{"line":149,"column":3}},{"start":{"line":149,"column":4},"end":{"line":149,"column":3}}]},"7":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":4},"end":{"line":152,"column":3}},{"start":{"line":152,"column":4},"end":{"line":152,"column":3}}]},"8":{"line":158,"type":"cond-expr","locations":[{"start":{"line":158,"column":54},"end":{"line":158,"column":64}},{"start":{"line":158,"column":67},"end":{"line":158,"column":79}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":6,"14":1,"15":1,"16":5,"17":5,"18":5,"19":5,"20":5,"21":5,"22":5,"23":5,"24":5,"25":5,"26":5,"27":5,"28":5,"29":5,"30":0,"31":5,"32":0,"33":5,"34":5,"35":1,"36":0,"37":0,"38":0,"39":0,"40":1,"41":0,"42":1,"43":5,"44":1,"45":5,"46":5,"47":1,"48":5,"49":5,"50":5,"51":4,"52":5,"53":4,"54":5,"55":5,"56":5,"57":5,"58":5,"59":8,"60":0,"61":0,"62":0,"63":5,"64":5,"65":1,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":1,"73":5,"74":0,"75":5,"76":0,"77":1,"78":0,"79":0,"80":0,"81":0,"82":1,"83":1,"84":1,"85":1,"86":1},"b":{"1":[5,5],"2":[4,1],"3":[4,1],"4":[0,0],"5":[0,0],"6":[0,5],"7":[0,5],"8":[0,0]},"f":{"1":1,"2":5,"3":0,"4":0,"5":0,"6":0,"7":5,"8":5,"9":5,"10":8,"11":0,"12":0,"13":5,"14":0},"code":"import {Component} from '../Base/Component';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {ComponentOptionsModel} from '../../models/ComponentOptionsModel';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {LocalStorageUtils} from '../../utils/LocalStorageUtils';\nimport {PreferencesPanel} from '../PreferencesPanel/PreferencesPanel';\nimport {PreferencesPanelCheckboxInput} from '../PreferencesPanel/PreferencesPanelItem';\nimport {PreferencesPanelEvents} from '../../events/PreferencesPanelEvents';\nimport {analyticsActionCauseList, IAnalyticsPreferencesChangeMeta} from '../Analytics/AnalyticsActionListMeta';\nimport {Initialization} from '../Base/Initialization';\nimport {IResultLinkOptions} from '../ResultLink/ResultLinkOptions';\nimport {Assert} from '../../misc/Assert';\nimport {l} from '../../strings/Strings';\nimport {$$} from '../../utils/Dom';\n\nexport interface IResultsPreferencesOptions {\n  enableOpenInOutlook?: boolean;\n  enableOpenInNewWindow?: boolean;\n}\n\n/**\n * This component allows users to select preferences related to their search results.<br/>\n * These preferences are saved in the localStorage of each user.<br/>\n * This component is normally accessible visually using the {@link Settings} menu.<br/>\n * It is usually located, in the DOM, inside the {@link PreferencesPanel} component.\n */\nexport class ResultsPreferences extends Component {\n  static ID = 'ResultsPreferences';\n\n  /**\n   * The options for the component\n   * @componentOptions\n   */\n  static options: IResultsPreferencesOptions = {\n    /**\n     * Enable or disable the options to open results in outlook.<br/>\n     * Default value is <code>true</code>\n     */\n    enableOpenInOutlook: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Enable or disable the options to open results in a new window.<br/>\n     * Default value is <code>true</code>\n     */\n    enableOpenInNewWindow: ComponentOptions.buildBooleanOption({ defaultValue: true })\n  };\n\n  public preferences: IResultLinkOptions;\n  private preferencePanelLocalStorage: LocalStorageUtils<IResultLinkOptions>;\n  private preferencesPanel: HTMLElement;\n  private preferencePanelCheckboxInput: PreferencesPanelCheckboxInput;\n\n  /**\n   * Create a new ResultsPreference component\n   * @param element\n   * @param options\n   * @param bindings\n   */\n  constructor(public element: HTMLElement, public options: IResultsPreferencesOptions, public bindings: IComponentBindings) {\n    super(element, ResultsPreferences.ID, bindings);\n\n    this.options = ComponentOptions.initComponentOptions(element, ResultsPreferences, options);\n\n    this.preferencesPanel = $$(this.element).closest(Component.computeCssClassName(PreferencesPanel));\n    this.preferencePanelLocalStorage = new LocalStorageUtils(ResultsPreferences.ID);\n    Assert.exists(this.componentOptionsModel);\n    Assert.exists(window.localStorage);\n    Assert.exists(this.preferencesPanel);\n\n    this.preferences = this.preferencePanelLocalStorage.load() || {};\n    ComponentOptions.initComponentOptions(this.element, ResultsPreferences, this.preferences);\n\n    this.updateComponentOptionsModel();\n\n    this.bind.on(this.preferencesPanel, PreferencesPanelEvents.savePreferences, () => this.save())\n    this.bind.on(this.preferencesPanel, PreferencesPanelEvents.exitPreferencesWithoutSave, () => this.exitWithoutSave())\n\n    this.buildTitle();\n    this.buildCheckboxesInput();\n  }\n\n  /**\n   * Save the current state of the preferences to local storage\n   */\n  public save() {\n    this.fromCheckboxInputToPreferences();\n    this.logger.info('Saving preferences', this.preferences);\n    this.preferencePanelLocalStorage.save(this.preferences);\n    this.updateComponentOptionsModel();\n  }\n\n  public exitWithoutSave() {\n    this.fromPreferencesToCheckboxInput();\n  }\n\n  private updateComponentOptionsModel() {\n    this.componentOptionsModel.set(ComponentOptionsModel.attributesEnum.resultLink, this.preferences);\n  }\n\n  private buildTitle() {\n    var title = $$('div', {\n      className: 'coveo-title'\n    }, l('LinkOpeningSettings'));\n\n    this.element.appendChild(title.el);\n  }\n\n  private buildCheckboxesInput() {\n    var inputs = [];\n    if (this.options.enableOpenInOutlook) {\n      inputs.push({ label: l('OpenInOutlookWhenPossible') });\n    }\n    if (this.options.enableOpenInNewWindow) {\n      inputs.push({ label: l('AlwaysOpenInNewWindow') });\n    }\n    this.preferencePanelCheckboxInput = new PreferencesPanelCheckboxInput(inputs, ResultsPreferences.ID);\n    var container = $$('div', {\n      className: 'coveo-choices-container'\n    });\n\n    container.el.appendChild(this.preferencePanelCheckboxInput.build());\n    var executeOnChange = container.findAll('input');\n    _.each(executeOnChange, (toExec) => {\n      $$(toExec).on('change', (e: Event) => {\n        this.fromPreferenceChangeEventToUsageAnalyticsLog(e);\n        this.save();\n        this.queryController.executeQuery();\n      })\n    })\n\n    this.element.appendChild(container.el);\n    this.fromPreferencesToCheckboxInput();\n  }\n\n  private fromCheckboxInputToPreferences() {\n    var selected = this.preferencePanelCheckboxInput.getSelecteds();\n    this.preferences = {\n      openInOutlook: false,\n      alwaysOpenInNewWindow: false\n    };\n    if (_.contains(selected, l('OpenInOutlookWhenPossible'))) {\n      this.preferences.openInOutlook = true\n    }\n    if (_.contains(selected, l('AlwaysOpenInNewWindow'))) {\n      this.preferences.alwaysOpenInNewWindow = true;\n    }\n  }\n\n  private fromPreferencesToCheckboxInput() {\n    if (this.preferences.openInOutlook) {\n      this.preferencePanelCheckboxInput.select(l('OpenInOutlookWhenPossible'));\n    }\n    if (this.preferences.alwaysOpenInNewWindow) {\n      this.preferencePanelCheckboxInput.select(l('AlwaysOpenInNewWindow'));\n    }\n  }\n\n  private fromPreferenceChangeEventToUsageAnalyticsLog(e: Event) {\n    var type = (<HTMLInputElement>e.target).checked ? 'selected' : 'unselected';\n    var preference = (<HTMLInputElement>e.srcElement).value;\n    this.usageAnalytics.logCustomEvent<IAnalyticsPreferencesChangeMeta>(analyticsActionCauseList.preferencesChange, { preferenceName: preference, preferenceType: type }, this.element);\n    this.usageAnalytics.logSearchEvent<IAnalyticsPreferencesChangeMeta>(analyticsActionCauseList.preferencesChange, { preferenceName: preference, preferenceType: type });\n  }\n}\n\nInitialization.registerAutoCreateComponent(ResultsPreferences);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/ResultsPreferences/ResultsPreferences.ts\n **/","l":{"1":1,"2":1,"3":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"12":1,"13":1,"14":1,"27":6,"28":1,"34":1,"58":5,"59":5,"61":5,"63":5,"64":5,"65":5,"66":5,"67":5,"69":5,"70":5,"72":5,"74":5,"75":5,"77":5,"78":5,"84":1,"85":0,"86":0,"87":0,"88":0,"91":1,"92":0,"95":1,"96":5,"99":1,"100":5,"104":5,"107":5,"108":5,"109":5,"110":4,"112":5,"113":4,"115":5,"116":5,"120":5,"121":5,"122":5,"123":8,"124":0,"125":0,"126":0,"130":5,"131":5,"134":1,"135":0,"136":0,"140":0,"141":0,"143":0,"144":0,"148":1,"149":5,"150":0,"152":5,"153":0,"157":1,"158":0,"159":0,"160":0,"161":0,"163":1,"165":1}},"src/ui/PipelineContext/PipelineContext.ts":{"path":"src/ui/PipelineContext/PipelineContext.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":58}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":78}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":54}},"7":{"start":{"line":16,"column":0},"end":{"line":65,"column":1}},"8":{"start":{"line":16,"column":37},"end":{"line":16,"column":46}},"9":{"start":{"line":22,"column":2},"end":{"line":39,"column":3}},"10":{"start":{"line":23,"column":4},"end":{"line":23,"column":49}},"11":{"start":{"line":22,"column":28},"end":{"line":22,"column":48}},"12":{"start":{"line":22,"column":57},"end":{"line":22,"column":90}},"13":{"start":{"line":22,"column":99},"end":{"line":22,"column":128}},"14":{"start":{"line":24,"column":4},"end":{"line":24,"column":92}},"15":{"start":{"line":26,"column":4},"end":{"line":37,"column":5}},"16":{"start":{"line":27,"column":6},"end":{"line":36,"column":7}},"17":{"start":{"line":29,"column":8},"end":{"line":29,"column":84}},"18":{"start":{"line":31,"column":8},"end":{"line":35,"column":9}},"19":{"start":{"line":32,"column":10},"end":{"line":32,"column":61}},"20":{"start":{"line":34,"column":10},"end":{"line":34,"column":17}},"21":{"start":{"line":38,"column":4},"end":{"line":38,"column":122}},"22":{"start":{"line":38,"column":90},"end":{"line":38,"column":120}},"23":{"start":{"line":41,"column":10},"end":{"line":49,"column":3}},"24":{"start":{"line":41,"column":2},"end":{"line":49,"column":3}},"25":{"start":{"line":42,"column":4},"end":{"line":44,"column":5}},"26":{"start":{"line":43,"column":6},"end":{"line":43,"column":37}},"27":{"start":{"line":45,"column":4},"end":{"line":45,"column":37}},"28":{"start":{"line":46,"column":4},"end":{"line":48,"column":7}},"29":{"start":{"line":47,"column":6},"end":{"line":47,"column":65}},"30":{"start":{"line":51,"column":9},"end":{"line":53,"column":3}},"31":{"start":{"line":52,"column":4},"end":{"line":52,"column":52}},"32":{"start":{"line":55,"column":9},"end":{"line":64,"column":3}},"33":{"start":{"line":56,"column":4},"end":{"line":63,"column":7}},"34":{"start":{"line":57,"column":6},"end":{"line":61,"column":7}},"35":{"start":{"line":58,"column":8},"end":{"line":58,"column":41}},"36":{"start":{"line":59,"column":13},"end":{"line":61,"column":7}},"37":{"start":{"line":60,"column":8},"end":{"line":60,"column":36}},"38":{"start":{"line":62,"column":6},"end":{"line":62,"column":16}},"39":{"start":{"line":17,"column":9},"end":{"line":17,"column":32}},"40":{"start":{"line":18,"column":9},"end":{"line":18,"column":36}},"41":{"start":{"line":65,"column":0},"end":{"line":65,"column":1}},"42":{"start":{"line":16,"column":13},"end":{"line":65,"column":1}},"43":{"start":{"line":67,"column":0},"end":{"line":67,"column":59}}},"fnMap":{"1":{"name":"(anonymous_6151)","line":16,"loc":{"start":{"line":16,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"PipelineContext","line":22,"loc":{"start":{"line":22,"column":2},"end":{"line":22,"column":128}}},"3":{"name":"(anonymous_6153)","line":38,"loc":{"start":{"line":38,"column":55},"end":{"line":38,"column":85}}},"4":{"name":"(anonymous_6154)","line":41,"loc":{"start":{"line":41,"column":2},"end":{"line":41,"column":59}}},"5":{"name":"(anonymous_6155)","line":46,"loc":{"start":{"line":46,"column":17},"end":{"line":46,"column":29}}},"6":{"name":"(anonymous_6156)","line":51,"loc":{"start":{"line":51,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_6157)","line":55,"loc":{"start":{"line":55,"column":2},"end":{"line":55,"column":36}}},"8":{"name":"(anonymous_6158)","line":56,"loc":{"start":{"line":56,"column":56},"end":{"line":56,"column":88}}}},"branchMap":{"1":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":4},"end":{"line":26,"column":3}},{"start":{"line":26,"column":4},"end":{"line":26,"column":3}}]},"2":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":4},"end":{"line":42,"column":3}},{"start":{"line":42,"column":4},"end":{"line":42,"column":3}}]},"3":{"line":52,"type":"cond-expr","locations":[{"start":{"line":52,"column":26},"end":{"line":52,"column":46}},{"start":{"line":52,"column":49},"end":{"line":52,"column":51}}]},"4":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":6},"end":{"line":57,"column":5}},{"start":{"line":57,"column":6},"end":{"line":57,"column":5}}]},"5":{"line":57,"type":"binary-expr","locations":[{"start":{"line":57,"column":10},"end":{"line":57,"column":31}},{"start":{"line":57,"column":35},"end":{"line":57,"column":62}}]},"6":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":13},"end":{"line":59,"column":12}},{"start":{"line":59,"column":13},"end":{"line":59,"column":12}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":1,"40":1,"41":1,"42":1,"43":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"code":"import {Component} from '../Base/Component';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {Utils} from '../../utils/Utils';\nimport {QueryEvents, IBuildingQueryEventArgs} from '../../events/QueryEvents';\nimport {$$} from '../../utils/Dom';\nimport {Initialization} from '../Base/Initialization';\n\n\nexport var context: any;\ndeclare var Coveo;\n\nexport interface IPipelineContextOptions {\n}\n\nexport class PipelineContext extends Component {\n  static ID = 'PipelineContext';\n  static CURRENT_URL = 'CurrentUrl';\n\n  private content: { [id: string]: string };\n\n  public constructor(public element: HTMLElement, public options?: IPipelineContextOptions, public bindings?: IComponentBindings) {\n    super(element, PipelineContext.ID, bindings);\n    this.options = ComponentOptions.initComponentOptions(element, PipelineContext, options);\n\n    if (this.element.tagName.toLowerCase() == 'script') {\n      try {\n        // Content can be HTML encoded for special char ({!})\n        this.content = JSON.parse(Utils.decodeHTMLEntities($(this.element).text()));\n      } catch (e) {\n        try {\n          this.content = JSON.parse($$(this.element).text());\n        } catch (e) {\n          return;\n        }\n      }\n    }\n    this.bind.onRootElement(QueryEvents.buildingQuery, (args: IBuildingQueryEventArgs) => this.handleBuildingQuery(args));\n  }\n\n  private handleBuildingQuery(args: IBuildingQueryEventArgs) {\n    if (args.queryBuilder.context == null) {\n      args.queryBuilder.context = {};\n    }\n    let keys = this.getContextKeys();\n    _.each(keys, (key: string) => {\n      args.queryBuilder.context[key] = this.getContextValue(key);\n    });\n  }\n\n  public getContextKeys(): string[] {\n    return this.content ? _.keys(this.content) : [];\n  }\n\n  public getContextValue(key: string): string {\n    return this.content[key].replace(/\\{\\!([^\\}]+)\\}/g, (all: string, contextKey: string) => {\n      if (Coveo.context != null && contextKey in Coveo.context) {\n        return Coveo.context[contextKey];\n      } else if (contextKey == PipelineContext.CURRENT_URL) {\n        return window.location.href;\n      }\n      return '';\n    });\n  }\n}\n\nInitialization.registerAutoCreateComponent(PipelineContext)\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/PipelineContext/PipelineContext.ts\n **/","l":{"1":1,"2":1,"4":1,"5":1,"6":1,"7":1,"16":1,"17":1,"18":1,"22":1,"23":0,"24":0,"26":0,"27":0,"29":0,"31":0,"32":0,"34":0,"38":0,"41":1,"42":0,"43":0,"45":0,"46":0,"47":0,"51":1,"52":0,"55":1,"56":0,"57":0,"58":0,"59":0,"60":0,"62":0,"65":1,"67":1}},"src/ui/OmniboxResultList/OmniboxResultList.ts":{"path":"src/ui/OmniboxResultList/OmniboxResultList.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":72}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":84}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":58}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":78}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":96}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":41}},"10":{"start":{"line":12,"column":0},"end":{"line":12,"column":40}},"11":{"start":{"line":13,"column":0},"end":{"line":13,"column":54}},"12":{"start":{"line":38,"column":0},"end":{"line":171,"column":1}},"13":{"start":{"line":38,"column":39},"end":{"line":38,"column":49}},"14":{"start":{"line":101,"column":2},"end":{"line":107,"column":3}},"15":{"start":{"line":102,"column":4},"end":{"line":102,"column":60}},"16":{"start":{"line":101,"column":21},"end":{"line":101,"column":41}},"17":{"start":{"line":101,"column":50},"end":{"line":101,"column":85}},"18":{"start":{"line":101,"column":94},"end":{"line":101,"column":123}},"19":{"start":{"line":103,"column":4},"end":{"line":103,"column":94}},"20":{"start":{"line":104,"column":4},"end":{"line":104,"column":24}},"21":{"start":{"line":105,"column":4},"end":{"line":105,"column":129}},"22":{"start":{"line":105,"column":96},"end":{"line":105,"column":128}},"23":{"start":{"line":106,"column":4},"end":{"line":106,"column":122}},"24":{"start":{"line":106,"column":90},"end":{"line":106,"column":120}},"25":{"start":{"line":113,"column":9},"end":{"line":123,"column":3}},"26":{"start":{"line":113,"column":2},"end":{"line":123,"column":3}},"27":{"start":{"line":114,"column":4},"end":{"line":122,"column":7}},"28":{"start":{"line":115,"column":6},"end":{"line":115,"column":51}},"29":{"start":{"line":116,"column":6},"end":{"line":116,"column":61}},"30":{"start":{"line":117,"column":6},"end":{"line":119,"column":9}},"31":{"start":{"line":118,"column":8},"end":{"line":118,"column":103}},"32":{"start":{"line":120,"column":6},"end":{"line":120,"column":67}},"33":{"start":{"line":121,"column":6},"end":{"line":121,"column":27}},"34":{"start":{"line":125,"column":9},"end":{"line":139,"column":3}},"35":{"start":{"line":125,"column":2},"end":{"line":139,"column":3}},"36":{"start":{"line":125,"column":54},"end":{"line":125,"column":68}},"37":{"start":{"line":126,"column":4},"end":{"line":138,"column":5}},"38":{"start":{"line":127,"column":6},"end":{"line":127,"column":33}},"39":{"start":{"line":128,"column":6},"end":{"line":131,"column":11}},"40":{"start":{"line":132,"column":6},"end":{"line":135,"column":9}},"41":{"start":{"line":133,"column":8},"end":{"line":133,"column":43}},"42":{"start":{"line":134,"column":8},"end":{"line":134,"column":90}},"43":{"start":{"line":136,"column":6},"end":{"line":136,"column":40}},"44":{"start":{"line":137,"column":6},"end":{"line":137,"column":96}},"45":{"start":{"line":141,"column":10},"end":{"line":145,"column":3}},"46":{"start":{"line":142,"column":4},"end":{"line":142,"column":78}},"47":{"start":{"line":143,"column":4},"end":{"line":143,"column":46}},"48":{"start":{"line":144,"column":4},"end":{"line":144,"column":73}},"49":{"start":{"line":147,"column":10},"end":{"line":158,"column":3}},"50":{"start":{"line":147,"column":2},"end":{"line":158,"column":3}},"51":{"start":{"line":148,"column":4},"end":{"line":154,"column":6}},"52":{"start":{"line":149,"column":6},"end":{"line":152,"column":9}},"53":{"start":{"line":150,"column":34},"end":{"line":150,"column":136}},"54":{"start":{"line":153,"column":6},"end":{"line":153,"column":74}},"55":{"start":{"line":155,"column":4},"end":{"line":157,"column":7}},"56":{"start":{"line":160,"column":10},"end":{"line":165,"column":3}},"57":{"start":{"line":161,"column":4},"end":{"line":161,"column":24}},"58":{"start":{"line":162,"column":4},"end":{"line":164,"column":5}},"59":{"start":{"line":163,"column":6},"end":{"line":163,"column":75}},"60":{"start":{"line":167,"column":10},"end":{"line":170,"column":3}},"61":{"start":{"line":168,"column":4},"end":{"line":168,"column":127}},"62":{"start":{"line":169,"column":4},"end":{"line":169,"column":43}},"63":{"start":{"line":39,"column":9},"end":{"line":39,"column":34}},"64":{"start":{"line":44,"column":9},"end":{"line":97,"column":4}},"65":{"start":{"line":95,"column":6},"end":{"line":95,"column":18}},"66":{"start":{"line":171,"column":0},"end":{"line":171,"column":1}},"67":{"start":{"line":38,"column":13},"end":{"line":171,"column":1}},"68":{"start":{"line":172,"column":0},"end":{"line":172,"column":62}}},"fnMap":{"1":{"name":"(anonymous_6163)","line":38,"loc":{"start":{"line":38,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"OmniboxResultList","line":101,"loc":{"start":{"line":101,"column":2},"end":{"line":101,"column":123}}},"3":{"name":"(anonymous_6165)","line":105,"loc":{"start":{"line":105,"column":59},"end":{"line":105,"column":91}}},"4":{"name":"(anonymous_6166)","line":106,"loc":{"start":{"line":106,"column":55},"end":{"line":106,"column":85}}},"5":{"name":"(anonymous_6167)","line":113,"loc":{"start":{"line":113,"column":2},"end":{"line":113,"column":44}}},"6":{"name":"(anonymous_6168)","line":114,"loc":{"start":{"line":114,"column":34},"end":{"line":114,"column":55}}},"7":{"name":"(anonymous_6169)","line":117,"loc":{"start":{"line":117,"column":45},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_6170)","line":125,"loc":{"start":{"line":125,"column":2},"end":{"line":125,"column":68}}},"9":{"name":"(anonymous_6171)","line":132,"loc":{"start":{"line":132,"column":29},"end":{"line":132,"column":56}}},"10":{"name":"(anonymous_6172)","line":141,"loc":{"start":{"line":141,"column":2},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_6173)","line":147,"loc":{"start":{"line":147,"column":2},"end":{"line":147,"column":63}}},"12":{"name":"(anonymous_6174)","line":148,"loc":{"start":{"line":148,"column":30},"end":{"line":148,"column":46}}},"13":{"name":"(anonymous_6175)","line":150,"loc":{"start":{"line":150,"column":28},"end":{"line":150,"column":33}}},"14":{"name":"(anonymous_6176)","line":160,"loc":{"start":{"line":160,"column":2},"end":{"line":160,"column":59}}},"15":{"name":"(anonymous_6177)","line":167,"loc":{"start":{"line":167,"column":2},"end":{"line":167,"column":115}}},"16":{"name":"(anonymous_6178)","line":94,"loc":{"start":{"line":94,"column":151},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":54},"end":{"line":125,"column":53}},{"start":{"line":125,"column":54},"end":{"line":125,"column":53}}]},"2":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":4},"end":{"line":126,"column":3}},{"start":{"line":126,"column":4},"end":{"line":126,"column":3}}]},"3":{"line":130,"type":"binary-expr","locations":[{"start":{"line":130,"column":52},"end":{"line":130,"column":76}},{"start":{"line":130,"column":80},"end":{"line":130,"column":101}}]},"4":{"line":144,"type":"binary-expr","locations":[{"start":{"line":144,"column":28},"end":{"line":144,"column":49}},{"start":{"line":144,"column":53},"end":{"line":144,"column":72}}]},"5":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":4},"end":{"line":162,"column":3}},{"start":{"line":162,"column":4},"end":{"line":162,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":0,"47":0,"48":0,"49":1,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":1,"57":0,"58":0,"59":0,"60":1,"61":0,"62":0,"63":1,"64":1,"65":0,"66":1,"67":1,"68":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"code":"import {Component} from '../Base/Component'\nimport {$$} from '../../utils/Dom';\nimport {l} from '../../strings/Strings';\nimport {IResultListOptions, ResultList} from '../ResultList/ResultList';\nimport {IQueryResult} from '../../rest/QueryResult';\nimport {IPopulateOmniboxEventArgs, OmniboxEvents} from '../../events/OmniboxEvents';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {QueryEvents, IBuildingQueryEventArgs} from '../../events/QueryEvents';\nimport {analyticsActionCauseList, IAnalyticsNoMeta} from '../Analytics/AnalyticsActionListMeta';\nimport {Assert} from '../../misc/Assert';\nimport {Utils} from '../../utils/Utils';\nimport {Initialization} from '../Base/Initialization';\nimport {IQueryResults} from '../../rest/QueryResults';\n\nexport interface IOmniboxResultListOptions extends IResultListOptions {\n  omniboxZIndex?: number;\n  onSelect?: (result: IQueryResult, resultElement: HTMLElement, omniboxObject: IPopulateOmniboxEventArgs) => void;\n  headerTitle?: string;\n  queryOverride?: string;\n}\n\n/**\n * This component is exactly like a normal ResultList Component, except that it will render itself inside the Omnibox Component.\n * This will provide a kind of search as you type functionnality, allowing you to easily render complex Result Templates inside the Omnibox Component.\n *\n * # Example\n * ```\n *     <div class=\"CoveoOmniboxResultList\">\n *         <script class=\"result-template\" type=\"text/x-underscore\">\n *             <div>\n *                 <a class='CoveoResultLink'></a>\n *             </div>\n *         </script>\n *     </div>\n * ```\n */\nexport class OmniboxResultList extends ResultList {\n  static ID = 'OmniboxResultList';\n  /**\n   * The options for the component\n   * @componentOptions\n   */\n  static options: IOmniboxResultListOptions = {\n    /**\n     * Specifies the index at which the result list should render itself inside the Omnibox\n     *\n     * The default value is 51 (Facets are at 50 by default).\n     */\n    omniboxZIndex: ComponentOptions.buildNumberOption({ defaultValue: 51, min: 16 }),\n    /**\n     * Specifies the title that you want for this section.\n     *\n     * By default this will be Suggested Results.\n     */\n    headerTitle: ComponentOptions.buildStringOption(),\n    /**\n     * Specifies the override you want to use on the query sent to the OmniboxResultList component.\n     *\n     * By default, there's no override applied.\n     */\n    queryOverride: ComponentOptions.buildStringOption(),\n    /**\n     * Specifies the function you wish to execute when a result suggestion is selected.\n     *\n     * By default, it will open the corresponding result uri in your browser.\n     *\n     * ```javascript\n     * Coveo.init(document.querySelector('#search'), {\n     *    OmniboxResultList : {\n     *        //Close the omnibox, change the selected HTMLElement background color and alert the result title.\n     *        onSelect:   function(result, resultElement, omniBoxObject) {\n     *            omniBoxObject.close();\n     *            resultElement.css('background-color', 'red');\n     *            alert(result.title);\n     *        }\n     *     }\n     * })\n     *\n     * // OR using the jquery extension\n     *\n     * $(\"#search\").coveo(\"init\", {\n     *    OmniboxResultList : {\n     *        //Close the omnibox, change the selected HTMLElement background color and alert the result title.\n     *        onSelect:   function(result, resultElement, omniBoxObject) {\n     *            omniBoxObject.close();\n     *            resultElement.css('background-color', 'red');\n     *            alert(result.title);\n     *        }\n     *     }\n     * })\n     * ```\n     */\n    onSelect: ComponentOptions.buildCustomOption<(result: IQueryResult, resultElement: HTMLElement, omniboxObject: IPopulateOmniboxEventArgs) => void>(() => {\n      return null;\n    })\n  };\n\n  private lastOmniboxRequest: { omniboxObject: IPopulateOmniboxEventArgs; resolve: (...args: any[]) => void; };\n\n  constructor(public element: HTMLElement, public options?: IOmniboxResultListOptions, public bindings?: IComponentBindings) {\n    super(element, options, bindings, OmniboxResultList.ID);\n    this.options = ComponentOptions.initComponentOptions(element, OmniboxResultList, options);\n    this.setupOptions();\n    this.bind.onRootElement(OmniboxEvents.populateOmnibox, (args: IPopulateOmniboxEventArgs) => this.handlePopulateOmnibox(args))\n    this.bind.onRootElement(QueryEvents.buildingQuery, (args: IBuildingQueryEventArgs) => this.handleQueryOverride(args));\n  }\n\n  /**\n   * Build and return an array of HTMLElement with the given result set.\n   * @param results\n   */\n  public buildResults(results: IQueryResults): HTMLElement[] {\n    return _.map(results.results, (result: IQueryResult) => {\n      let resultElement = this.buildResult(result);\n      $$(resultElement).addClass('coveo-omnibox-selectable');\n      $$(resultElement).on('keyboardSelect', () => {\n        this.options.onSelect.call(this, result, resultElement, this.lastOmniboxRequest.omniboxObject);\n      });\n      this.autoCreateComponentsInsideResult(resultElement, result);\n      return resultElement;\n    });\n  }\n\n  public renderResults(resultsElement: HTMLElement[], append = false) {\n    if (this.lastOmniboxRequest) {\n      let content = $$('div').el;\n      content.appendChild($$('div', { className: 'coveo-omnibox-result-list-header' },\n        $$('span', { className: 'coveo-icon-omnibox-result-list' }).el,\n        $$('span', { className: 'coveo-caption' }, (this.options.headerTitle || l('SuggestedResults'))).el\n      ).el)\n      _.each(resultsElement, (resultElement: HTMLElement) => {\n        content.appendChild(resultElement);\n        this.triggerNewResultDisplayed(Component.getResult(resultElement), resultElement);\n      });\n      this.triggerNewResultsDisplayed();\n      this.lastOmniboxRequest.resolve({ element: content, zIndex: this.options.omniboxZIndex });\n    }\n  }\n\n  private setupOptions() {\n    this.logger.info('Disabling infinite scroll for OmniboxResultList', this);\n    this.options.enableInfiniteScroll = false;\n    this.options.onSelect = this.options.onSelect || this.onRowSelection;\n  }\n\n  private handlePopulateOmnibox(args: IPopulateOmniboxEventArgs) {\n    let promise = new Promise((resolve, reject) => {\n      this.queryController.executeQuery({\n        beforeExecuteQuery: () => this.usageAnalytics.logSearchAsYouType<IAnalyticsNoMeta>(analyticsActionCauseList.searchboxSubmit, {}),\n        searchAsYouType: true\n      });\n      this.lastOmniboxRequest = { omniboxObject: args, resolve: resolve };\n    })\n    args.rows.push({\n      deferred: promise\n    });\n  }\n\n  private handleQueryOverride(args: IBuildingQueryEventArgs) {\n    Assert.exists(args);\n    if (Utils.isNonEmptyString(this.options.queryOverride)) {\n      args.queryBuilder.constantExpression.add(this.options.queryOverride);\n    }\n  }\n\n  private onRowSelection(result: IQueryResult, resultElement: HTMLElement, omniboxObject: IPopulateOmniboxEventArgs) {\n    this.usageAnalytics.logClickEvent(analyticsActionCauseList.documentOpen, { author: result.raw.author }, result, this.root);\n    window.location.href = result.clickUri;\n  }\n}\nInitialization.registerAutoCreateComponent(OmniboxResultList);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/OmniboxResultList/OmniboxResultList.ts\n **/","l":{"1":1,"2":1,"3":1,"4":1,"6":1,"7":1,"9":1,"10":1,"11":1,"12":1,"13":1,"38":1,"39":1,"44":1,"95":0,"101":1,"102":0,"103":0,"104":0,"105":0,"106":0,"113":1,"114":0,"115":0,"116":0,"117":0,"118":0,"120":0,"121":0,"125":1,"126":0,"127":0,"128":0,"132":0,"133":0,"134":0,"136":0,"137":0,"141":1,"142":0,"143":0,"144":0,"147":1,"148":0,"149":0,"150":0,"153":0,"155":0,"160":1,"161":0,"162":0,"163":0,"167":1,"168":0,"169":0,"171":1,"172":1}},"src/ui/CurrentTab/CurrentTab.ts":{"path":"src/ui/CurrentTab/CurrentTab.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":58}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":41}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":61}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":40}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":31}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":41}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":54}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":35}},"10":{"start":{"line":21,"column":0},"end":{"line":83,"column":1}},"11":{"start":{"line":21,"column":32},"end":{"line":21,"column":41}},"12":{"start":{"line":36,"column":2},"end":{"line":64,"column":3}},"13":{"start":{"line":37,"column":4},"end":{"line":37,"column":44}},"14":{"start":{"line":36,"column":21},"end":{"line":36,"column":41}},"15":{"start":{"line":36,"column":50},"end":{"line":36,"column":78}},"16":{"start":{"line":39,"column":4},"end":{"line":39,"column":87}},"17":{"start":{"line":40,"column":4},"end":{"line":40,"column":117}},"18":{"start":{"line":41,"column":4},"end":{"line":41,"column":61}},"19":{"start":{"line":42,"column":4},"end":{"line":63,"column":5}},"20":{"start":{"line":43,"column":6},"end":{"line":43,"column":73}},"21":{"start":{"line":44,"column":6},"end":{"line":44,"column":63}},"22":{"start":{"line":45,"column":6},"end":{"line":45,"column":63}},"23":{"start":{"line":46,"column":6},"end":{"line":62,"column":8}},"24":{"start":{"line":47,"column":8},"end":{"line":47,"column":62}},"25":{"start":{"line":48,"column":8},"end":{"line":52,"column":9}},"26":{"start":{"line":49,"column":10},"end":{"line":49,"column":39}},"27":{"start":{"line":50,"column":10},"end":{"line":50,"column":50}},"28":{"start":{"line":51,"column":10},"end":{"line":51,"column":66}},"29":{"start":{"line":53,"column":8},"end":{"line":53,"column":66}},"30":{"start":{"line":54,"column":8},"end":{"line":54,"column":66}},"31":{"start":{"line":55,"column":8},"end":{"line":61,"column":9}},"32":{"start":{"line":56,"column":10},"end":{"line":56,"column":43}},"33":{"start":{"line":57,"column":10},"end":{"line":57,"column":45}},"34":{"start":{"line":59,"column":10},"end":{"line":59,"column":46}},"35":{"start":{"line":60,"column":10},"end":{"line":60,"column":48}},"36":{"start":{"line":66,"column":10},"end":{"line":82,"column":3}},"37":{"start":{"line":66,"column":2},"end":{"line":82,"column":3}},"38":{"start":{"line":67,"column":4},"end":{"line":67,"column":83}},"39":{"start":{"line":68,"column":4},"end":{"line":81,"column":5}},"40":{"start":{"line":69,"column":6},"end":{"line":69,"column":24}},"41":{"start":{"line":70,"column":6},"end":{"line":70,"column":80}},"42":{"start":{"line":71,"column":6},"end":{"line":77,"column":9}},"43":{"start":{"line":72,"column":8},"end":{"line":72,"column":48}},"44":{"start":{"line":73,"column":8},"end":{"line":76,"column":9}},"45":{"start":{"line":74,"column":10},"end":{"line":74,"column":57}},"46":{"start":{"line":75,"column":10},"end":{"line":75,"column":23}},"47":{"start":{"line":78,"column":6},"end":{"line":78,"column":66}},"48":{"start":{"line":80,"column":6},"end":{"line":80,"column":30}},"49":{"start":{"line":22,"column":9},"end":{"line":22,"column":27}},"50":{"start":{"line":28,"column":9},"end":{"line":34,"column":3}},"51":{"start":{"line":83,"column":0},"end":{"line":83,"column":1}},"52":{"start":{"line":21,"column":13},"end":{"line":83,"column":1}},"53":{"start":{"line":85,"column":0},"end":{"line":85,"column":55}}},"fnMap":{"1":{"name":"(anonymous_6183)","line":21,"loc":{"start":{"line":21,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"CurrentTab","line":36,"loc":{"start":{"line":36,"column":2},"end":{"line":36,"column":109}}},"3":{"name":"(anonymous_6185)","line":46,"loc":{"start":{"line":46,"column":42},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_6186)","line":66,"loc":{"start":{"line":66,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_6187)","line":71,"loc":{"start":{"line":71,"column":19},"end":{"line":71,"column":37}}}},"branchMap":{"1":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":4},"end":{"line":42,"column":3}},{"start":{"line":42,"column":4},"end":{"line":42,"column":3}}]},"2":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":8},"end":{"line":48,"column":7}},{"start":{"line":48,"column":8},"end":{"line":48,"column":7}}]},"3":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":8},"end":{"line":55,"column":7}},{"start":{"line":55,"column":8},"end":{"line":55,"column":7}}]},"4":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":4},"end":{"line":68,"column":3}},{"start":{"line":68,"column":4},"end":{"line":68,"column":3}}]},"5":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":8},"end":{"line":73,"column":7}},{"start":{"line":73,"column":8},"end":{"line":73,"column":7}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":6,"11":1,"12":1,"13":5,"14":5,"15":5,"16":5,"17":5,"18":5,"19":5,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":0,"29":1,"30":1,"31":1,"32":1,"33":1,"34":0,"35":0,"36":1,"37":2,"38":2,"39":2,"40":2,"41":2,"42":2,"43":4,"44":4,"45":2,"46":2,"47":2,"48":0,"49":1,"50":1,"51":1,"52":1,"53":1},"b":{"1":[1,4],"2":[0,1],"3":[1,0],"4":[2,0],"5":[2,2]},"f":{"1":1,"2":5,"3":1,"4":2,"5":4},"code":"import {Component} from '../Base/Component';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {Model} from '../../models/Model';\nimport {QueryStateModel} from '../../models/QueryStateModel';\nimport {Utils} from '../../utils/Utils';\nimport {Tab} from '../Tab/Tab';\nimport {Assert} from '../../misc/Assert';\nimport {Initialization} from '../Base/Initialization';\nimport {$$} from '../../utils/Dom';\n\n\nexport interface ICurrentTabOptions {\n  tabSectionToOpen: string;\n}\n\n/**\n * This component is used to display the name of the currently selected tab.\n * If no tabs are selected, this component is hidden.\n */\nexport class CurrentTab extends Component {\n  static ID = 'CurrentTab';\n\n  /**\n   * The options for the component\n   * @componentOptions\n   */\n  static options: ICurrentTabOptions = {\n    /**\n     * Specifies the css selector to the section which contains the tab.\n     * Clicking this component will toggle between opening and closing this section.\n     */\n    tabSectionToOpen: ComponentOptions.buildStringOption()\n  }\n\n  constructor(public element: HTMLElement, public options?: ICurrentTabOptions, bindings?: IComponentBindings) {\n    super(element, CurrentTab.ID, bindings);\n\n    this.options = ComponentOptions.initComponentOptions(element, CurrentTab, options);\n    let eventName = this.queryStateModel.getEventName(Model.eventTypes.changeOne + QueryStateModel.attributesEnum.t);\n    this.bind.onRootElement(eventName, this.handleTabChange);\n    if (this.options.tabSectionToOpen) {\n      let tabSection = $$(this.root).find(this.options.tabSectionToOpen);\n      $$(tabSection).addClass('coveo-targeted-by-current-tab');\n      $$(this.element).addClass('coveo-targeting-tab-section');\n      this.bind.on(this.element, 'click', () => {\n        let glassElement = $$(this.root).find('.coveo-glass');\n        if (glassElement) {\n          let glass = $$(glassElement);\n          glass.toggleClass('coveo-active-glass');\n          glass.toggleClass('coveo-active-glass-for-current-tab');\n        }\n        $$(this.element).toggleClass('coveo-opening-tab-section');\n        $$(tabSection).toggleClass('coveo-opened-by-current-tab');\n        if ($$(this.element).hasClass('coveo-opening-tab-section')) {\n          tabSection.style.zIndex = '1001';\n          this.element.style.zIndex = '1001';\n        } else {\n          tabSection.style.zIndex = undefined;\n          this.element.style.zIndex = undefined;\n        }\n      })\n    }\n  }\n\n  private handleTabChange() {\n    let selectedTabId = this.queryStateModel.get(QueryStateModel.attributesEnum.t);\n    if (Utils.isNonEmptyString(selectedTabId)) {\n      let found = false;\n      let tabs = $$(this.root).findAll(Component.computeSelectorForType(Tab.ID))\n      _.each(tabs, (elem: HTMLElement) => {\n        let tab = <Tab>Component.get(elem, Tab);\n        if (tab.options.id == selectedTabId) {\n          this.element.innerHTML = tab.element.innerHTML;\n          found = true;\n        }\n      });\n      Assert.check(found, 'Cannot find the currently active tab');\n    } else {\n      $$(this.element).hide();\n    }\n  }\n}\n\nInitialization.registerAutoCreateComponent(CurrentTab);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/CurrentTab/CurrentTab.ts\n **/","l":{"1":1,"2":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"21":6,"22":1,"28":1,"36":5,"37":5,"39":5,"40":5,"41":5,"42":5,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":0,"50":0,"51":0,"53":1,"54":1,"55":1,"56":1,"57":1,"59":0,"60":0,"66":2,"67":2,"68":2,"69":2,"70":2,"71":2,"72":4,"73":4,"74":2,"75":2,"78":2,"80":0,"83":1,"85":1}},"src/ui/ImageResultList/ImageResultList.ts":{"path":"src/ui/ImageResultList/ImageResultList.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":72}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":58}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":73}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":63}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":54}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":71}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":35}},"8":{"start":{"line":19,"column":0},"end":{"line":299,"column":1}},"9":{"start":{"line":19,"column":37},"end":{"line":19,"column":47}},"10":{"start":{"line":58,"column":2},"end":{"line":69,"column":3}},"11":{"start":{"line":58,"column":116},"end":{"line":58,"column":154}},"12":{"start":{"line":60,"column":4},"end":{"line":60,"column":58}},"13":{"start":{"line":58,"column":21},"end":{"line":58,"column":41}},"14":{"start":{"line":58,"column":50},"end":{"line":58,"column":83}},"15":{"start":{"line":53,"column":10},"end":{"line":53,"column":44}},"16":{"start":{"line":54,"column":10},"end":{"line":54,"column":44}},"17":{"start":{"line":55,"column":10},"end":{"line":55,"column":34}},"18":{"start":{"line":56,"column":10},"end":{"line":56,"column":36}},"19":{"start":{"line":62,"column":4},"end":{"line":62,"column":92}},"20":{"start":{"line":64,"column":4},"end":{"line":64,"column":54}},"21":{"start":{"line":66,"column":4},"end":{"line":66,"column":105}},"22":{"start":{"line":67,"column":4},"end":{"line":67,"column":72}},"23":{"start":{"line":68,"column":4},"end":{"line":68,"column":33}},"24":{"start":{"line":71,"column":10},"end":{"line":73,"column":3}},"25":{"start":{"line":72,"column":4},"end":{"line":72,"column":52}},"26":{"start":{"line":75,"column":10},"end":{"line":77,"column":3}},"27":{"start":{"line":76,"column":4},"end":{"line":76,"column":56}},"28":{"start":{"line":79,"column":10},"end":{"line":81,"column":3}},"29":{"start":{"line":80,"column":4},"end":{"line":80,"column":40}},"30":{"start":{"line":83,"column":10},"end":{"line":85,"column":3}},"31":{"start":{"line":84,"column":4},"end":{"line":84,"column":51}},"32":{"start":{"line":87,"column":10},"end":{"line":89,"column":3}},"33":{"start":{"line":88,"column":4},"end":{"line":88,"column":54}},"34":{"start":{"line":91,"column":10},"end":{"line":95,"column":3}},"35":{"start":{"line":92,"column":4},"end":{"line":92,"column":16}},"36":{"start":{"line":93,"column":4},"end":{"line":93,"column":26}},"37":{"start":{"line":94,"column":4},"end":{"line":94,"column":59}},"38":{"start":{"line":97,"column":10},"end":{"line":104,"column":3}},"39":{"start":{"line":98,"column":4},"end":{"line":102,"column":5}},"40":{"start":{"line":99,"column":6},"end":{"line":99,"column":30}},"41":{"start":{"line":101,"column":6},"end":{"line":101,"column":30}},"42":{"start":{"line":103,"column":4},"end":{"line":103,"column":51}},"43":{"start":{"line":106,"column":10},"end":{"line":112,"column":3}},"44":{"start":{"line":107,"column":4},"end":{"line":111,"column":7}},"45":{"start":{"line":108,"column":6},"end":{"line":110,"column":8}},"46":{"start":{"line":109,"column":8},"end":{"line":109,"column":53}},"47":{"start":{"line":114,"column":10},"end":{"line":124,"column":3}},"48":{"start":{"line":114,"column":2},"end":{"line":124,"column":3}},"49":{"start":{"line":115,"column":4},"end":{"line":121,"column":5}},"50":{"start":{"line":116,"column":6},"end":{"line":120,"column":7}},"51":{"start":{"line":117,"column":8},"end":{"line":117,"column":41}},"52":{"start":{"line":117,"column":21},"end":{"line":117,"column":40}},"53":{"start":{"line":118,"column":13},"end":{"line":120,"column":7}},"54":{"start":{"line":119,"column":8},"end":{"line":119,"column":38}},"55":{"start":{"line":119,"column":21},"end":{"line":119,"column":37}},"56":{"start":{"line":122,"column":4},"end":{"line":123,"column":6}},"57":{"start":{"line":126,"column":10},"end":{"line":162,"column":3}},"58":{"start":{"line":127,"column":4},"end":{"line":131,"column":7}},"59":{"start":{"line":128,"column":6},"end":{"line":130,"column":7}},"60":{"start":{"line":129,"column":8},"end":{"line":129,"column":29}},"61":{"start":{"line":133,"column":4},"end":{"line":133,"column":48}},"62":{"start":{"line":134,"column":4},"end":{"line":134,"column":19}},"63":{"start":{"line":135,"column":4},"end":{"line":154,"column":5}},"64":{"start":{"line":136,"column":6},"end":{"line":153,"column":7}},"65":{"start":{"line":137,"column":8},"end":{"line":140,"column":9}},"66":{"start":{"line":138,"column":10},"end":{"line":138,"column":74}},"67":{"start":{"line":139,"column":10},"end":{"line":139,"column":72}},"68":{"start":{"line":141,"column":8},"end":{"line":141,"column":17}},"69":{"start":{"line":142,"column":8},"end":{"line":144,"column":9}},"70":{"start":{"line":143,"column":10},"end":{"line":143,"column":20}},"71":{"start":{"line":146,"column":8},"end":{"line":146,"column":41}},"72":{"start":{"line":147,"column":8},"end":{"line":149,"column":10}},"73":{"start":{"line":148,"column":10},"end":{"line":148,"column":41}},"74":{"start":{"line":150,"column":8},"end":{"line":152,"column":9}},"75":{"start":{"line":151,"column":10},"end":{"line":151,"column":20}},"76":{"start":{"line":155,"column":4},"end":{"line":161,"column":7}},"77":{"start":{"line":156,"column":6},"end":{"line":160,"column":7}},"78":{"start":{"line":157,"column":8},"end":{"line":157,"column":23}},"79":{"start":{"line":159,"column":8},"end":{"line":159,"column":52}},"80":{"start":{"line":159,"column":34},"end":{"line":159,"column":48}},"81":{"start":{"line":164,"column":10},"end":{"line":167,"column":3}},"82":{"start":{"line":165,"column":4},"end":{"line":165,"column":33}},"83":{"start":{"line":166,"column":4},"end":{"line":166,"column":94}},"84":{"start":{"line":169,"column":10},"end":{"line":172,"column":3}},"85":{"start":{"line":170,"column":4},"end":{"line":170,"column":33}},"86":{"start":{"line":171,"column":4},"end":{"line":171,"column":94}},"87":{"start":{"line":174,"column":10},"end":{"line":193,"column":3}},"88":{"start":{"line":175,"column":4},"end":{"line":175,"column":67}},"89":{"start":{"line":176,"column":4},"end":{"line":176,"column":42}},"90":{"start":{"line":177,"column":4},"end":{"line":177,"column":44}},"91":{"start":{"line":178,"column":4},"end":{"line":178,"column":53}},"92":{"start":{"line":180,"column":4},"end":{"line":180,"column":75}},"93":{"start":{"line":182,"column":4},"end":{"line":182,"column":33}},"94":{"start":{"line":183,"column":4},"end":{"line":185,"column":5}},"95":{"start":{"line":184,"column":6},"end":{"line":184,"column":43}},"96":{"start":{"line":187,"column":4},"end":{"line":187,"column":43}},"97":{"start":{"line":188,"column":4},"end":{"line":188,"column":83}},"98":{"start":{"line":190,"column":4},"end":{"line":192,"column":5}},"99":{"start":{"line":191,"column":6},"end":{"line":191,"column":35}},"100":{"start":{"line":195,"column":10},"end":{"line":212,"column":3}},"101":{"start":{"line":195,"column":2},"end":{"line":212,"column":3}},"102":{"start":{"line":196,"column":4},"end":{"line":196,"column":43}},"103":{"start":{"line":198,"column":4},"end":{"line":208,"column":7}},"104":{"start":{"line":199,"column":6},"end":{"line":199,"column":56}},"105":{"start":{"line":200,"column":6},"end":{"line":200,"column":70}},"106":{"start":{"line":201,"column":6},"end":{"line":201,"column":68}},"107":{"start":{"line":203,"column":6},"end":{"line":203,"column":44}},"108":{"start":{"line":204,"column":6},"end":{"line":204,"column":45}},"109":{"start":{"line":205,"column":6},"end":{"line":205,"column":43}},"110":{"start":{"line":207,"column":6},"end":{"line":207,"column":93}},"111":{"start":{"line":209,"column":4},"end":{"line":209,"column":67}},"112":{"start":{"line":211,"column":4},"end":{"line":211,"column":44}},"113":{"start":{"line":214,"column":10},"end":{"line":216,"column":3}},"114":{"start":{"line":215,"column":4},"end":{"line":215,"column":76}},"115":{"start":{"line":218,"column":10},"end":{"line":236,"column":3}},"116":{"start":{"line":219,"column":4},"end":{"line":219,"column":43}},"117":{"start":{"line":220,"column":4},"end":{"line":220,"column":50}},"118":{"start":{"line":221,"column":4},"end":{"line":221,"column":25}},"119":{"start":{"line":222,"column":4},"end":{"line":222,"column":22}},"120":{"start":{"line":223,"column":4},"end":{"line":228,"column":5}},"121":{"start":{"line":224,"column":6},"end":{"line":224,"column":35}},"122":{"start":{"line":225,"column":6},"end":{"line":225,"column":72}},"123":{"start":{"line":226,"column":6},"end":{"line":226,"column":72}},"124":{"start":{"line":227,"column":6},"end":{"line":227,"column":29}},"125":{"start":{"line":229,"column":4},"end":{"line":229,"column":46}},"126":{"start":{"line":230,"column":4},"end":{"line":230,"column":83}},"127":{"start":{"line":231,"column":4},"end":{"line":231,"column":44}},"128":{"start":{"line":233,"column":4},"end":{"line":235,"column":5}},"129":{"start":{"line":234,"column":6},"end":{"line":234,"column":35}},"130":{"start":{"line":238,"column":10},"end":{"line":256,"column":3}},"131":{"start":{"line":239,"column":4},"end":{"line":239,"column":20}},"132":{"start":{"line":240,"column":4},"end":{"line":240,"column":30}},"133":{"start":{"line":241,"column":4},"end":{"line":249,"column":5}},"134":{"start":{"line":242,"column":6},"end":{"line":242,"column":89}},"135":{"start":{"line":243,"column":6},"end":{"line":246,"column":7}},"136":{"start":{"line":244,"column":8},"end":{"line":244,"column":66}},"137":{"start":{"line":245,"column":8},"end":{"line":245,"column":42}},"138":{"start":{"line":247,"column":6},"end":{"line":247,"column":53}},"139":{"start":{"line":248,"column":6},"end":{"line":248,"column":25}},"140":{"start":{"line":251,"column":4},"end":{"line":253,"column":5}},"141":{"start":{"line":252,"column":6},"end":{"line":252,"column":34}},"142":{"start":{"line":254,"column":4},"end":{"line":254,"column":32}},"143":{"start":{"line":255,"column":4},"end":{"line":255,"column":18}},"144":{"start":{"line":258,"column":10},"end":{"line":267,"column":3}},"145":{"start":{"line":259,"column":4},"end":{"line":259,"column":39}},"146":{"start":{"line":260,"column":4},"end":{"line":260,"column":56}},"147":{"start":{"line":261,"column":4},"end":{"line":261,"column":54}},"148":{"start":{"line":263,"column":4},"end":{"line":266,"column":6}},"149":{"start":{"line":269,"column":10},"end":{"line":286,"column":3}},"150":{"start":{"line":269,"column":2},"end":{"line":286,"column":3}},"151":{"start":{"line":270,"column":4},"end":{"line":270,"column":23}},"152":{"start":{"line":271,"column":4},"end":{"line":285,"column":7}},"153":{"start":{"line":272,"column":6},"end":{"line":272,"column":53}},"154":{"start":{"line":273,"column":6},"end":{"line":273,"column":59}},"155":{"start":{"line":274,"column":6},"end":{"line":274,"column":61}},"156":{"start":{"line":275,"column":6},"end":{"line":275,"column":48}},"157":{"start":{"line":276,"column":6},"end":{"line":276,"column":56}},"158":{"start":{"line":277,"column":6},"end":{"line":277,"column":55}},"159":{"start":{"line":279,"column":6},"end":{"line":279,"column":81}},"160":{"start":{"line":280,"column":6},"end":{"line":280,"column":78}},"161":{"start":{"line":281,"column":6},"end":{"line":281,"column":68}},"162":{"start":{"line":282,"column":6},"end":{"line":282,"column":60}},"163":{"start":{"line":284,"column":6},"end":{"line":284,"column":26}},"164":{"start":{"line":288,"column":10},"end":{"line":298,"column":3}},"165":{"start":{"line":289,"column":4},"end":{"line":289,"column":77}},"166":{"start":{"line":291,"column":4},"end":{"line":293,"column":5}},"167":{"start":{"line":292,"column":6},"end":{"line":292,"column":48}},"168":{"start":{"line":295,"column":4},"end":{"line":297,"column":5}},"169":{"start":{"line":296,"column":6},"end":{"line":296,"column":68}},"170":{"start":{"line":20,"column":9},"end":{"line":20,"column":32}},"171":{"start":{"line":21,"column":9},"end":{"line":21,"column":34}},"172":{"start":{"line":22,"column":9},"end":{"line":22,"column":40}},"173":{"start":{"line":29,"column":9},"end":{"line":51,"column":3}},"174":{"start":{"line":39,"column":41},"end":{"line":39,"column":60}},"175":{"start":{"line":299,"column":0},"end":{"line":299,"column":1}},"176":{"start":{"line":19,"column":13},"end":{"line":299,"column":1}},"177":{"start":{"line":301,"column":0},"end":{"line":301,"column":60}}},"fnMap":{"1":{"name":"(anonymous_6192)","line":19,"loc":{"start":{"line":19,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"ImageResultList","line":58,"loc":{"start":{"line":58,"column":2},"end":{"line":58,"column":154}}},"3":{"name":"(anonymous_6194)","line":71,"loc":{"start":{"line":71,"column":2},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_6195)","line":75,"loc":{"start":{"line":75,"column":2},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_6196)","line":79,"loc":{"start":{"line":79,"column":2},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_6197)","line":83,"loc":{"start":{"line":83,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_6198)","line":87,"loc":{"start":{"line":87,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_6199)","line":91,"loc":{"start":{"line":91,"column":2},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_6200)","line":97,"loc":{"start":{"line":97,"column":2},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_6201)","line":106,"loc":{"start":{"line":106,"column":2},"end":{"line":106,"column":59}}},"11":{"name":"(anonymous_6202)","line":107,"loc":{"start":{"line":107,"column":12},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_6203)","line":108,"loc":{"start":{"line":108,"column":23},"end":{"line":108,"column":31}}},"13":{"name":"(anonymous_6204)","line":114,"loc":{"start":{"line":114,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_6205)","line":117,"loc":{"start":{"line":117,"column":15},"end":{"line":117,"column":20}}},"15":{"name":"(anonymous_6206)","line":119,"loc":{"start":{"line":119,"column":15},"end":{"line":119,"column":20}}},"16":{"name":"(anonymous_6207)","line":122,"loc":{"start":{"line":122,"column":11},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_6208)","line":126,"loc":{"start":{"line":126,"column":2},"end":{"line":126,"column":43}}},"18":{"name":"(anonymous_6209)","line":127,"loc":{"start":{"line":127,"column":37},"end":{"line":127,"column":58}}},"19":{"name":"(anonymous_6210)","line":135,"loc":{"start":{"line":135,"column":22},"end":{"line":135,"column":46}}},"20":{"name":"(anonymous_6211)","line":147,"loc":{"start":{"line":147,"column":34},"end":{"line":147,"column":38}}},"21":{"name":"(anonymous_6212)","line":155,"loc":{"start":{"line":155,"column":19},"end":{"line":155,"column":39}}},"22":{"name":"(anonymous_6213)","line":159,"loc":{"start":{"line":159,"column":26},"end":{"line":159,"column":33}}},"23":{"name":"(anonymous_6214)","line":164,"loc":{"start":{"line":164,"column":2},"end":{"line":164,"column":50}}},"24":{"name":"(anonymous_6215)","line":169,"loc":{"start":{"line":169,"column":2},"end":{"line":169,"column":48}}},"25":{"name":"(anonymous_6216)","line":174,"loc":{"start":{"line":174,"column":2},"end":{"line":null,"column":-1}}},"26":{"name":"(anonymous_6217)","line":195,"loc":{"start":{"line":195,"column":2},"end":{"line":195,"column":58}}},"27":{"name":"(anonymous_6218)","line":198,"loc":{"start":{"line":198,"column":20},"end":{"line":198,"column":26}}},"28":{"name":"(anonymous_6219)","line":214,"loc":{"start":{"line":214,"column":2},"end":{"line":214,"column":50}}},"29":{"name":"(anonymous_6220)","line":218,"loc":{"start":{"line":218,"column":2},"end":{"line":null,"column":-1}}},"30":{"name":"(anonymous_6221)","line":238,"loc":{"start":{"line":238,"column":2},"end":{"line":238,"column":76}}},"31":{"name":"(anonymous_6222)","line":258,"loc":{"start":{"line":258,"column":2},"end":{"line":258,"column":58}}},"32":{"name":"(anonymous_6223)","line":269,"loc":{"start":{"line":269,"column":2},"end":{"line":269,"column":90}}},"33":{"name":"(anonymous_6224)","line":271,"loc":{"start":{"line":271,"column":36},"end":{"line":271,"column":46}}},"34":{"name":"(anonymous_6225)","line":288,"loc":{"start":{"line":288,"column":2},"end":{"line":null,"column":-1}}},"35":{"name":"(anonymous_6226)","line":39,"loc":{"start":{"line":39,"column":22},"end":{"line":39,"column":36}}}},"branchMap":{"1":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":116},"end":{"line":58,"column":115}},{"start":{"line":58,"column":116},"end":{"line":58,"column":115}}]},"2":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":4},"end":{"line":98,"column":3}},{"start":{"line":98,"column":4},"end":{"line":98,"column":3}}]},"3":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":4},"end":{"line":115,"column":3}},{"start":{"line":115,"column":4},"end":{"line":115,"column":3}}]},"4":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":6},"end":{"line":116,"column":5}},{"start":{"line":116,"column":6},"end":{"line":116,"column":5}}]},"5":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":13},"end":{"line":118,"column":12}},{"start":{"line":118,"column":13},"end":{"line":118,"column":12}}]},"6":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":6},"end":{"line":128,"column":5}},{"start":{"line":128,"column":6},"end":{"line":128,"column":5}}]},"7":{"line":136,"type":"if","locations":[{"start":{"line":136,"column":6},"end":{"line":136,"column":5}},{"start":{"line":136,"column":6},"end":{"line":136,"column":5}}]},"8":{"line":137,"type":"if","locations":[{"start":{"line":137,"column":8},"end":{"line":137,"column":7}},{"start":{"line":137,"column":8},"end":{"line":137,"column":7}}]},"9":{"line":137,"type":"binary-expr","locations":[{"start":{"line":137,"column":12},"end":{"line":137,"column":51}},{"start":{"line":137,"column":55},"end":{"line":137,"column":95}}]},"10":{"line":142,"type":"if","locations":[{"start":{"line":142,"column":8},"end":{"line":142,"column":7}},{"start":{"line":142,"column":8},"end":{"line":142,"column":7}}]},"11":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":8},"end":{"line":150,"column":7}},{"start":{"line":150,"column":8},"end":{"line":150,"column":7}}]},"12":{"line":156,"type":"if","locations":[{"start":{"line":156,"column":6},"end":{"line":156,"column":5}},{"start":{"line":156,"column":6},"end":{"line":156,"column":5}}]},"13":{"line":156,"type":"binary-expr","locations":[{"start":{"line":156,"column":11},"end":{"line":156,"column":16}},{"start":{"line":156,"column":20},"end":{"line":156,"column":30}},{"start":{"line":156,"column":50},"end":{"line":156,"column":68}}]},"14":{"line":190,"type":"if","locations":[{"start":{"line":190,"column":4},"end":{"line":190,"column":3}},{"start":{"line":190,"column":4},"end":{"line":190,"column":3}}]},"15":{"line":233,"type":"if","locations":[{"start":{"line":233,"column":4},"end":{"line":233,"column":3}},{"start":{"line":233,"column":4},"end":{"line":233,"column":3}}]},"16":{"line":241,"type":"binary-expr","locations":[{"start":{"line":241,"column":12},"end":{"line":241,"column":45}},{"start":{"line":241,"column":51},"end":{"line":241,"column":65}},{"start":{"line":241,"column":69},"end":{"line":241,"column":107}}]},"17":{"line":243,"type":"if","locations":[{"start":{"line":243,"column":6},"end":{"line":243,"column":5}},{"start":{"line":243,"column":6},"end":{"line":243,"column":5}}]},"18":{"line":251,"type":"if","locations":[{"start":{"line":251,"column":4},"end":{"line":251,"column":3}},{"start":{"line":251,"column":4},"end":{"line":251,"column":3}}]},"19":{"line":291,"type":"if","locations":[{"start":{"line":291,"column":4},"end":{"line":291,"column":3}},{"start":{"line":291,"column":4},"end":{"line":291,"column":3}}]},"20":{"line":295,"type":"if","locations":[{"start":{"line":295,"column":4},"end":{"line":295,"column":3}},{"start":{"line":295,"column":4},"end":{"line":295,"column":3}}]},"21":{"line":295,"type":"binary-expr","locations":[{"start":{"line":295,"column":9},"end":{"line":295,"column":87}},{"start":{"line":295,"column":92},"end":{"line":295,"column":134}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":22,"12":11,"13":11,"14":11,"15":11,"16":11,"17":11,"18":11,"19":11,"20":11,"21":11,"22":11,"23":11,"24":1,"25":11,"26":1,"27":5,"28":1,"29":1,"30":1,"31":11,"32":1,"33":6,"34":1,"35":0,"36":0,"37":0,"38":1,"39":5,"40":0,"41":5,"42":5,"43":1,"44":5,"45":5,"46":50,"47":1,"48":5,"49":5,"50":5,"51":1,"52":1,"53":4,"54":4,"55":4,"56":0,"57":1,"58":5,"59":50,"60":0,"61":5,"62":5,"63":5,"64":50,"65":50,"66":0,"67":0,"68":50,"69":50,"70":5,"71":0,"72":0,"73":0,"74":0,"75":0,"76":5,"77":50,"78":50,"79":0,"80":0,"81":1,"82":41,"83":41,"84":1,"85":40,"86":40,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":3,"96":1,"97":1,"98":1,"99":0,"100":1,"101":1,"102":1,"103":1,"104":10,"105":10,"106":10,"107":10,"108":10,"109":10,"110":10,"111":1,"112":1,"113":1,"114":5,"115":1,"116":4,"117":4,"118":4,"119":4,"120":4,"121":13,"122":13,"123":13,"124":13,"125":4,"126":4,"127":4,"128":4,"129":0,"130":1,"131":13,"132":13,"133":13,"134":40,"135":40,"136":40,"137":40,"138":40,"139":40,"140":13,"141":4,"142":13,"143":13,"144":1,"145":40,"146":40,"147":40,"148":40,"149":1,"150":13,"151":13,"152":13,"153":40,"154":40,"155":40,"156":40,"157":40,"158":40,"159":40,"160":40,"161":40,"162":40,"163":40,"164":1,"165":0,"166":0,"167":0,"168":0,"169":0,"170":1,"171":1,"172":1,"173":1,"174":11,"175":1,"176":1,"177":1},"b":{"1":[11,0],"2":[0,5],"3":[5,0],"4":[1,4],"5":[4,0],"6":[0,50],"7":[50,0],"8":[0,50],"9":[50,0],"10":[5,45],"11":[0,0],"12":[50,0],"13":[50,0,50],"14":[0,1],"15":[0,4],"16":[53,49,36],"17":[40,0],"18":[4,9],"19":[0,0],"20":[0,0],"21":[0,0]},"f":{"1":1,"2":11,"3":11,"4":5,"5":1,"6":11,"7":6,"8":0,"9":5,"10":5,"11":5,"12":50,"13":5,"14":1,"15":4,"16":0,"17":5,"18":50,"19":50,"20":0,"21":50,"22":0,"23":41,"24":40,"25":1,"26":1,"27":10,"28":5,"29":4,"30":13,"31":40,"32":13,"33":40,"34":0,"35":11},"code":"import {ResultList, IResultListOptions} from '../ResultList/ResultList';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {ImageResultListEvents} from '../../events/ImageResultListEvents';\nimport {ResultListEvents} from '../../events/ResultListEvents';\nimport {Initialization} from '../Base/Initialization';\nimport {InitializationEvents} from '../../events/InitializationEvents';\nimport {$$} from '../../utils/Dom';\n\nexport interface IImageResultListOptions extends IResultListOptions {\n  layoutType?: string;\n  heightThreshold?: number;\n  columnWidth?: number;\n}\n\n/**\n * This component is an extension of the ResultList component to display image results.\n */\nexport class ImageResultList extends ResultList {\n  static ID = 'ImageResultList';\n  static rowLayoutTypeStr = 'row';\n  static columnLayoutTypeStr = 'column';\n\n  /**\n   * The options for the component.\n   * This component inherits the options of the {@link ResultList} component.\n   * @componentOptions\n   */\n  static options: IImageResultListOptions = {\n    /**\n     * Specifies the type of layout used to display images results.\n     * The available values are:\n     *    row - Displays resized images that fit to the width of the container and have the same height for a row.\n     *    column - Displays the images in fixed-size columns.\n     * The default value is row.\n     */\n    layoutType: ComponentOptions.buildStringOption({\n      defaultValue: 'row',\n      postProcessing: (value: string) => value.toLowerCase()\n    }),\n    /**\n     * Specifies the maximum height of a row in a row layout.\n     * The default value is 250.\n     */\n    heightThreshold: ComponentOptions.buildNumberOption({ defaultValue: 250, min: 16 }),\n    /**\n     * Specifies the width of a column in a column layout.\n     * The default value is 170.\n     */\n    columnWidth: ComponentOptions.buildNumberOption({ defaultValue: 225, min: 16 })\n  }\n\n  private columnResultsArray: number[] = [];\n  private imagesInCurrentRow: number[] = [];\n  private resultIndex: number = 0;\n  private lastRowHeight: number = 0;\n\n  constructor(public element: HTMLElement, public options?: IImageResultListOptions, bindings?: IComponentBindings, elementClassId: string = ResultList.ID) {\n\n    super(element, options, bindings, ImageResultList.ID);\n\n    this.options = ComponentOptions.initComponentOptions(element, ImageResultList, options);\n\n    this.lastRowHeight = this.options.heightThreshold;\n\n    this.bind.onRootElement(ResultListEvents.newResultsDisplayed, this.handleProcessNewResultsDisplayed);\n    this.bind.onRootElement(InitializationEvents.nuke, this.handleNuke);\n    this.bindWindowResizeEvent();\n  }\n\n  private getResultsElement(): HTMLElement[] {\n    return $$(this.element).findAll('.CoveoResult');\n  }\n\n  private getResultsElementImages(): HTMLElement[] {\n    return $$(this.element).findAll('.CoveoResult img');\n  }\n\n  private getResultsContainerDiv(): HTMLElement {\n    return $$(this.element).find('div');\n  }\n\n  private bindWindowResizeEvent() {\n    window.addEventListener('resize', this.resize);\n  }\n\n  private handleNuke() {\n    window.removeEventListener('resize', this.resize);\n  }\n\n  private resize() {\n    let timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(this.retrieveLayoutMethod(), 250);\n  }\n\n  private handleProcessNewResultsDisplayed() {\n    if (this.disabled) {\n      $$(this.element).hide();\n    } else {\n      $$(this.element).show();\n    }\n    this.onImageProxy(this.retrieveLayoutMethod());\n  }\n\n  private addTransitionAllToElement(elements: HTMLElement[]) {\n    _.defer(() => {\n      _.each(elements, (element) => {\n        $$(element).addClass('coveo-transition-all');\n      })\n    });\n  }\n\n  private retrieveLayoutMethod(): () => void {\n    if (!this.disabled) {\n      if (this.options.layoutType.toLowerCase() == ImageResultList.columnLayoutTypeStr) {\n        return () => this.setupColumns();\n      } else if (this.options.layoutType.toLowerCase() == ImageResultList.rowLayoutTypeStr) {\n        return () => this.setupRows();\n      }\n    }\n    return () => {\n    };\n  }\n\n  private onImageProxy(callback: () => void) {\n    _.each(this.getResultsElement(), (element: HTMLElement) => {\n      if ($$(element).findAll('img').length == 0) {\n        $$(element).detach();\n      }\n    });\n\n    let images = this.getResultsElementImages();\n    let loaded = 0;\n    let onImageLoad = (image: HTMLImageElement) => {\n      if ($$(image).height() > 0) {\n        if ($$(image).getAttribute('width') == null && $$(image).getAttribute('height') == null) {\n          $$(image).setAttribute('height', $$(image).height().toString());\n          $$(image).setAttribute('width', $$(image).width().toString());\n        }\n        loaded++;\n        if (loaded == images.length) {\n          callback()\n        }\n      } else {\n        $$(image.parentElement).detach();\n        images = _.filter(images, (img) => {\n          return !img.isEqualNode(image);\n        })\n        if (loaded == images.length) {\n          callback()\n        }\n      }\n    }\n    _.each(images, (e: HTMLImageElement) => {\n      if ((e.src && e.complete) || /*for IE 10-*/ $$(e).height() > 0) {\n        onImageLoad(e);\n      } else {\n        $$(e).one('load', () => { onImageLoad(e) });\n      }\n    });\n  }\n\n  private getHorizontalMargin(element: HTMLElement) {\n    let elementDom = $$(element);\n    return parseInt(elementDom.css('margin-left')) + parseInt(elementDom.css('margin-right'));\n  }\n\n  private getVerticalMargin(element: HTMLElement) {\n    let elementDom = $$(element);\n    return parseInt(elementDom.css('margin-top')) + parseInt(elementDom.css('margin-bottom'));\n  }\n\n  private setupColumns() {\n    let containerWidth = $$(this.getResultsContainerDiv()).width();\n    let result = this.getResultsElement();\n    let colWidth = this.options.columnWidth;\n    let margin = this.getHorizontalMargin(result[0]);\n\n    let numberOfColumns = Math.floor(containerWidth / (colWidth + margin));\n\n    this.columnResultsArray = [];\n    for (let i = 0; i < numberOfColumns; i++) {\n      this.columnResultsArray.push(margin);\n    }\n\n    this.positionColumns(colWidth, margin);\n    $$(this.element).trigger(ImageResultListEvents.imageResultsLayoutComplete, {});\n\n    if (this.options.enableInfiniteScroll) {\n      this.adjustNumberOfResults();\n    }\n  }\n\n  private positionColumns(colWidth: number, margin: number) {\n    let results = this.getResultsElement();\n\n    _.each(results, result => {\n      let minTopOffset = _.min(this.columnResultsArray);\n      let resultIndex = this.columnResultsArray.indexOf(minTopOffset);\n      let leftOffset = margin + (resultIndex * (colWidth + margin));\n\n      result.style.left = leftOffset + 'px';\n      result.style.top = minTopOffset + 'px';\n      result.style.width = colWidth + 'px';\n\n      this.columnResultsArray[resultIndex] = minTopOffset + $(result).outerHeight() + margin;\n    });\n    this.setResultsContainerHeight(_.max(this.columnResultsArray));\n\n    this.addTransitionAllToElement(results);\n  }\n\n  private setResultsContainerHeight(height: number) {\n    $$(this.element).setAttribute('height', (Math.ceil(height).toString()));\n  }\n\n  private setupRows() {\n    let results = this.getResultsElement();\n    let containerWidth = $$(this.element).width();\n    this.resultIndex = 0;\n    let topOffset = 0;\n    while (this.resultIndex < results.length) {\n      this.imagesInCurrentRow = [];\n      let rowHeight = this.getCurrentRowHeight(results, containerWidth);\n      this.setCurrentRowImagesDimensions(results, rowHeight, topOffset);\n      topOffset += rowHeight;\n    }\n    this.setResultsContainerHeight(topOffset);\n    $$(this.element).trigger(ImageResultListEvents.imageResultsLayoutComplete, {});\n    this.addTransitionAllToElement(results);\n\n    if (this.options.enableInfiniteScroll) {\n      this.adjustNumberOfResults();\n    }\n  }\n\n  private getCurrentRowHeight(results: HTMLElement[], containerWidth: number): number {\n    let divider = 0;\n    let height: number = null;\n    while ((this.resultIndex < results.length) && (height == null || height >= this.options.heightThreshold)) {\n      let imageDimensions = this.getImageDimensionsFromResult(results[this.resultIndex]);\n      if (imageDimensions != null) {\n        divider += imageDimensions.width / imageDimensions.height;\n        height = containerWidth / divider;\n      }\n      this.imagesInCurrentRow.push(this.resultIndex);\n      this.resultIndex++;\n    }\n    // correct height for last element if it can't be as wide as the container\n    if (height > this.options.heightThreshold) {\n      height = this.lastRowHeight;\n    }\n    this.lastRowHeight = height;\n    return height;\n  }\n\n  private getImageDimensionsFromResult(result: HTMLElement) {\n    let image = $$(result).find('img');\n    let height = parseInt(image.getAttribute('height'));\n    let width = parseInt(image.getAttribute('width'));\n\n    return {\n      height: height,\n      width: width\n    };\n  }\n\n  private setCurrentRowImagesDimensions(images: HTMLElement[], height: number, top: number) {\n    let leftOffset = 0;\n    _.each(this.imagesInCurrentRow, imageIndex => {\n      let image = $$(images[imageIndex]).find('img');\n      let oldWidth = parseInt(image.getAttribute('width'));\n      let oldHeight = parseInt(image.getAttribute('height'));\n      let width = oldWidth * height / oldHeight;\n      let widthMargin = this.getHorizontalMargin(image);\n      let heightMargin = this.getVerticalMargin(image);\n\n      image.setAttribute('height', Math.round(height - heightMargin).toString());\n      image.setAttribute('width', Math.round(width - widthMargin).toString());\n      image.setAttribute('left', Math.round(leftOffset).toString());\n      image.setAttribute('top', Math.round(top).toString());\n\n      leftOffset += width;\n    });\n  }\n\n  private adjustNumberOfResults() {\n    let elementHeight = Number($$(this.element).getAttribute('data-height'));\n\n    if (_.isNumber(elementHeight) == false) {\n      elementHeight = $$(this.element).height();\n    }\n\n    if ((elementHeight < $$(<HTMLElement>this.options.infiniteScrollContainer).height()) && super.hasPotentiallyMoreResultsToDisplay()) {\n      super.displayMoreResults(this.options.infiniteScrollPageSize);\n    }\n  }\n}\n\nInitialization.registerAutoCreateComponent(ImageResultList);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/ImageResultList/ImageResultList.ts\n **/","l":{"1":1,"2":1,"4":1,"5":1,"6":1,"7":1,"8":1,"19":1,"20":1,"21":1,"22":1,"29":1,"39":11,"53":11,"54":11,"55":11,"56":11,"58":22,"60":11,"62":11,"64":11,"66":11,"67":11,"68":11,"71":1,"72":11,"75":1,"76":5,"79":1,"80":1,"83":1,"84":11,"87":1,"88":6,"91":1,"92":0,"93":0,"94":0,"97":1,"98":5,"99":0,"101":5,"103":5,"106":1,"107":5,"108":5,"109":50,"114":5,"115":5,"116":5,"117":1,"118":4,"119":4,"122":0,"126":1,"127":5,"128":50,"129":0,"133":5,"134":5,"135":5,"136":50,"137":50,"138":0,"139":0,"141":50,"142":50,"143":5,"146":0,"147":0,"148":0,"150":0,"151":0,"155":5,"156":50,"157":50,"159":0,"164":1,"165":41,"166":41,"169":1,"170":40,"171":40,"174":1,"175":1,"176":1,"177":1,"178":1,"180":1,"182":1,"183":1,"184":3,"187":1,"188":1,"190":1,"191":0,"195":1,"196":1,"198":1,"199":10,"200":10,"201":10,"203":10,"204":10,"205":10,"207":10,"209":1,"211":1,"214":1,"215":5,"218":1,"219":4,"220":4,"221":4,"222":4,"223":4,"224":13,"225":13,"226":13,"227":13,"229":4,"230":4,"231":4,"233":4,"234":0,"238":1,"239":13,"240":13,"241":13,"242":40,"243":40,"244":40,"245":40,"247":40,"248":40,"251":13,"252":4,"254":13,"255":13,"258":1,"259":40,"260":40,"261":40,"263":40,"269":13,"270":13,"271":13,"272":40,"273":40,"274":40,"275":40,"276":40,"277":40,"279":40,"280":40,"281":40,"282":40,"284":40,"288":1,"289":0,"291":0,"292":0,"295":0,"296":0,"299":1,"301":1}},"src/ui/Base/CoveoJQuery.ts":{"path":"src/ui/Base/CoveoJQuery.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":48}},"2":{"start":{"line":11,"column":0},"end":{"line":19,"column":1}},"3":{"start":{"line":12,"column":16},"end":{"line":14,"column":3}},"4":{"start":{"line":13,"column":4},"end":{"line":13,"column":95}},"5":{"start":{"line":16,"column":16},"end":{"line":18,"column":3}},"6":{"start":{"line":17,"column":4},"end":{"line":17,"column":59}},"7":{"start":{"line":19,"column":0},"end":{"line":19,"column":1}},"8":{"start":{"line":11,"column":13},"end":{"line":19,"column":1}},"9":{"start":{"line":23,"column":0},"end":{"line":32,"column":1}},"10":{"start":{"line":24,"column":2},"end":{"line":24,"column":20}},"11":{"start":{"line":27,"column":2},"end":{"line":31,"column":4}},"12":{"start":{"line":28,"column":4},"end":{"line":30,"column":5}},"13":{"start":{"line":29,"column":6},"end":{"line":29,"column":24}},"14":{"start":{"line":34,"column":0},"end":{"line":59,"column":1}},"15":{"start":{"line":35,"column":2},"end":{"line":35,"column":31}},"16":{"start":{"line":36,"column":2},"end":{"line":38,"column":3}},"17":{"start":{"line":37,"column":4},"end":{"line":37,"column":25}},"18":{"start":{"line":39,"column":2},"end":{"line":41,"column":3}},"19":{"start":{"line":40,"column":4},"end":{"line":40,"column":42}},"20":{"start":{"line":42,"column":2},"end":{"line":58,"column":3}},"21":{"start":{"line":42,"column":35},"end":{"line":42,"column":49}},"22":{"start":{"line":43,"column":4},"end":{"line":43,"column":25}},"23":{"start":{"line":44,"column":4},"end":{"line":56,"column":7}},"24":{"start":{"line":45,"column":6},"end":{"line":45,"column":41}},"25":{"start":{"line":46,"column":6},"end":{"line":52,"column":7}},"26":{"start":{"line":47,"column":8},"end":{"line":47,"column":36}},"27":{"start":{"line":48,"column":8},"end":{"line":48,"column":125}},"28":{"start":{"line":51,"column":8},"end":{"line":51,"column":97}},"29":{"start":{"line":55,"column":6},"end":{"line":55,"column":61}},"30":{"start":{"line":57,"column":4},"end":{"line":57,"column":23}},"31":{"start":{"line":61,"column":0},"end":{"line":63,"column":1}},"32":{"start":{"line":62,"column":2},"end":{"line":62,"column":103}},"33":{"start":{"line":61,"column":16},"end":{"line":63,"column":1}}},"fnMap":{"1":{"name":"(anonymous_6229)","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_6231)","line":12,"loc":{"start":{"line":12,"column":2},"end":{"line":12,"column":134}}},"3":{"name":"(anonymous_6232)","line":16,"loc":{"start":{"line":16,"column":2},"end":{"line":16,"column":69}}},"4":{"name":"(anonymous_6233)","line":27,"loc":{"start":{"line":27,"column":48},"end":{"line":null,"column":-1}}},"5":{"name":"initCoveoJQuery","line":34,"loc":{"start":{"line":34,"column":0},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_6235)","line":42,"loc":{"start":{"line":42,"column":25},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_6236)","line":44,"loc":{"start":{"line":44,"column":14},"end":{"line":44,"column":50}}},"8":{"name":"jQueryIsDefined","line":61,"loc":{"start":{"line":61,"column":0},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":0},"end":{"line":23,"column":1}},{"start":{"line":23,"column":0},"end":{"line":23,"column":1}}]},"2":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":4},"end":{"line":28,"column":3}},{"start":{"line":28,"column":4},"end":{"line":28,"column":3}}]},"3":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":2},"end":{"line":36,"column":1}},{"start":{"line":36,"column":2},"end":{"line":36,"column":1}}]},"4":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":2},"end":{"line":39,"column":1}},{"start":{"line":39,"column":2},"end":{"line":39,"column":1}}]},"5":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":6},"end":{"line":46,"column":5}},{"start":{"line":46,"column":6},"end":{"line":46,"column":5}}]},"6":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":20},"end":{"line":55,"column":31}},{"start":{"line":55,"column":35},"end":{"line":55,"column":60}}]},"7":{"line":62,"type":"binary-expr","locations":[{"start":{"line":62,"column":9},"end":{"line":62,"column":33}},{"start":{"line":62,"column":37},"end":{"line":62,"column":64}},{"start":{"line":62,"column":68},"end":{"line":62,"column":102}}]}},"s":{"1":1,"2":2,"3":1,"4":0,"5":1,"6":0,"7":1,"8":1,"9":1,"10":0,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":1,"19":1,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1,"32":2,"33":1},"b":{"1":[0,1],"2":[1,0],"3":[0,1],"4":[1,0],"5":[0,0],"6":[0,0],"7":[2,1,1]},"f":{"1":1,"2":0,"3":0,"4":1,"5":1,"6":0,"7":0,"8":2},"code":"import {Initialization} from './Initialization';\nimport {IInitializationParameters} from './Initialization';\nimport {IComponentDefinition} from './Component';\n\ninterface IWindow {\n  $: any;\n}\n\n// This class is essentially only there for legacy reasons : If there is any code in the wild that called this directly,\n// we don't want this to break.\nexport class CoveoJQuery {\n  public static automaticallyCreateComponentsInside(element: HTMLElement, initParameters: IInitializationParameters, ignore?: string[]) {\n    return Initialization.automaticallyCreateComponentsInside(element, initParameters, ignore);\n  }\n\n  public static registerAutoCreateComponent(cmp: IComponentDefinition) {\n    return Initialization.registerAutoCreateComponent(cmp);\n  }\n}\n\nexport var jQueryInstance: JQuery;\n\nif (jQueryIsDefined()) {\n  initCoveoJQuery();\n} else {\n  // Adding a check in case jQuery was added after the jsSearch\n  document.addEventListener('DOMContentLoaded', () => {\n    if (jQueryIsDefined()) {\n      initCoveoJQuery();\n    }\n  })\n}\n\nfunction initCoveoJQuery() {\n  jQueryInstance = window['$'];\n  if (window['Coveo'] == undefined) {\n    window['Coveo'] = {};\n  }\n  if (window['Coveo']['$'] == undefined) {\n    window['Coveo']['$'] = jQueryInstance;\n  }\n  window['$'].fn.coveo = function (...args: any[]) {\n    var returnValue: any;\n    this.each((index: number, element: HTMLElement) => {\n      var returnValueForThisElement: any;\n      if (_.isString(args[0])) {\n        var token = <string>args[0];\n        returnValueForThisElement = Initialization.dispatchNamedMethodCallOrComponentCreation(token, element, args.slice(1));\n      } else {\n        // Invoking with no method name is a shortcut for the 'get' method (from Component).\n        returnValueForThisElement = Initialization.dispatchNamedMethodCall('get', element, args);\n      }\n\n      // Keep only the first return value we encounter\n      returnValue = returnValue || returnValueForThisElement;\n    });\n    return returnValue;\n  }\n}\n\nexport function jQueryIsDefined(): boolean {\n  return window['$'] != undefined && window['$'].fn != undefined && window['$'].fn.jquery != undefined;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Base/CoveoJQuery.ts\n **/","l":{"1":1,"11":2,"12":1,"13":0,"16":1,"17":0,"19":1,"23":1,"24":0,"27":1,"28":1,"29":1,"34":1,"35":1,"36":1,"37":0,"39":1,"40":1,"42":1,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"51":0,"55":0,"57":0,"61":1,"62":2}},"src/ui/Base/CoveoUnderscore.ts":{"path":"src/ui/Base/CoveoUnderscore.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":23}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":21}},"3":{"start":{"line":4,"column":0},"end":{"line":12,"column":1}},"4":{"start":{"line":5,"column":2},"end":{"line":7,"column":3}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":25}},"6":{"start":{"line":8,"column":2},"end":{"line":11,"column":3}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":29}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":46}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":16}}},"fnMap":{"1":{"name":"setCoveoUnderscore","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":2},"end":{"line":5,"column":1}},{"start":{"line":5,"column":2},"end":{"line":5,"column":1}}]},"2":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":8,"column":1}},{"start":{"line":8,"column":2},"end":{"line":8,"column":1}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"b":{"1":[1,0],"2":[1,0]},"f":{"1":1},"code":"export let underscoreInstance;\nunderscoreInstance = _;\nsetCoveoUnderscore();\nfunction setCoveoUnderscore() {\n  if (window['Coveo'] == undefined) {\n    window['Coveo'] = {};\n  }\n  if (window['Coveo']['_'] == undefined) {\n    window['Coveo']['_'] = _;\n    underscoreInstance = window['Coveo']['_'];\n  }\n}\n\nwindow['_'] = _;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Base/CoveoUnderscore.ts\n **/","l":{"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":1,"10":1,"14":1}},"src/ui/SearchAlerts/FollowItem.ts":{"path":"src/ui/SearchAlerts/FollowItem.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":58}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":118}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":121}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":54}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":40}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":40}},"9":{"start":{"line":23,"column":0},"end":{"line":205,"column":1}},"10":{"start":{"line":23,"column":32},"end":{"line":23,"column":41}},"11":{"start":{"line":51,"column":2},"end":{"line":73,"column":3}},"12":{"start":{"line":56,"column":4},"end":{"line":56,"column":44}},"13":{"start":{"line":51,"column":21},"end":{"line":51,"column":41}},"14":{"start":{"line":52,"column":11},"end":{"line":52,"column":39}},"15":{"start":{"line":53,"column":11},"end":{"line":53,"column":47}},"16":{"start":{"line":54,"column":11},"end":{"line":54,"column":32}},"17":{"start":{"line":58,"column":4},"end":{"line":58,"column":87}},"18":{"start":{"line":60,"column":4},"end":{"line":60,"column":31}},"19":{"start":{"line":62,"column":4},"end":{"line":62,"column":38}},"20":{"start":{"line":63,"column":4},"end":{"line":63,"column":27}},"21":{"start":{"line":64,"column":4},"end":{"line":64,"column":40}},"22":{"start":{"line":65,"column":4},"end":{"line":65,"column":62}},"23":{"start":{"line":65,"column":39},"end":{"line":65,"column":58}},"24":{"start":{"line":67,"column":4},"end":{"line":67,"column":144}},"25":{"start":{"line":67,"column":104},"end":{"line":67,"column":140}},"26":{"start":{"line":68,"column":4},"end":{"line":68,"column":144}},"27":{"start":{"line":68,"column":104},"end":{"line":68,"column":140}},"28":{"start":{"line":70,"column":4},"end":{"line":70,"column":57}},"29":{"start":{"line":72,"column":4},"end":{"line":72,"column":28}},"30":{"start":{"line":75,"column":10},"end":{"line":96,"column":3}},"31":{"start":{"line":75,"column":2},"end":{"line":96,"column":3}},"32":{"start":{"line":76,"column":4},"end":{"line":95,"column":8}},"33":{"start":{"line":79,"column":8},"end":{"line":91,"column":9}},"34":{"start":{"line":80,"column":10},"end":{"line":83,"column":13}},"35":{"start":{"line":81,"column":12},"end":{"line":81,"column":79}},"36":{"start":{"line":82,"column":12},"end":{"line":82,"column":88}},"37":{"start":{"line":84,"column":10},"end":{"line":88,"column":11}},"38":{"start":{"line":85,"column":12},"end":{"line":85,"column":43}},"39":{"start":{"line":87,"column":12},"end":{"line":87,"column":34}},"40":{"start":{"line":90,"column":10},"end":{"line":90,"column":24}},"41":{"start":{"line":94,"column":8},"end":{"line":94,"column":22}},"42":{"start":{"line":98,"column":9},"end":{"line":103,"column":3}},"43":{"start":{"line":99,"column":4},"end":{"line":99,"column":60}},"44":{"start":{"line":100,"column":4},"end":{"line":100,"column":37}},"45":{"start":{"line":101,"column":4},"end":{"line":101,"column":58}},"46":{"start":{"line":102,"column":4},"end":{"line":102,"column":50}},"47":{"start":{"line":105,"column":9},"end":{"line":110,"column":3}},"48":{"start":{"line":106,"column":4},"end":{"line":106,"column":60}},"49":{"start":{"line":107,"column":4},"end":{"line":107,"column":116}},"50":{"start":{"line":108,"column":4},"end":{"line":108,"column":61}},"51":{"start":{"line":109,"column":4},"end":{"line":109,"column":45}},"52":{"start":{"line":112,"column":12},"end":{"line":114,"column":3}},"53":{"start":{"line":113,"column":4},"end":{"line":113,"column":28}},"54":{"start":{"line":119,"column":9},"end":{"line":158,"column":3}},"55":{"start":{"line":119,"column":2},"end":{"line":158,"column":3}},"56":{"start":{"line":120,"column":4},"end":{"line":157,"column":5}},"57":{"start":{"line":121,"column":6},"end":{"line":121,"column":63}},"58":{"start":{"line":122,"column":6},"end":{"line":122,"column":59}},"59":{"start":{"line":123,"column":6},"end":{"line":156,"column":7}},"60":{"start":{"line":124,"column":8},"end":{"line":139,"column":12}},"61":{"start":{"line":127,"column":12},"end":{"line":130,"column":14}},"62":{"start":{"line":131,"column":12},"end":{"line":131,"column":85}},"63":{"start":{"line":134,"column":12},"end":{"line":134,"column":68}},"64":{"start":{"line":135,"column":12},"end":{"line":137,"column":14}},"65":{"start":{"line":138,"column":12},"end":{"line":138,"column":82}},"66":{"start":{"line":141,"column":8},"end":{"line":155,"column":12}},"67":{"start":{"line":143,"column":12},"end":{"line":146,"column":14}},"68":{"start":{"line":147,"column":12},"end":{"line":147,"column":85}},"69":{"start":{"line":150,"column":12},"end":{"line":150,"column":68}},"70":{"start":{"line":151,"column":12},"end":{"line":153,"column":14}},"71":{"start":{"line":154,"column":12},"end":{"line":154,"column":82}},"72":{"start":{"line":160,"column":10},"end":{"line":167,"column":3}},"73":{"start":{"line":161,"column":4},"end":{"line":166,"column":5}},"74":{"start":{"line":162,"column":6},"end":{"line":162,"column":78}},"75":{"start":{"line":163,"column":6},"end":{"line":165,"column":7}},"76":{"start":{"line":164,"column":8},"end":{"line":164,"column":30}},"77":{"start":{"line":169,"column":10},"end":{"line":176,"column":3}},"78":{"start":{"line":170,"column":4},"end":{"line":175,"column":5}},"79":{"start":{"line":171,"column":6},"end":{"line":171,"column":78}},"80":{"start":{"line":172,"column":6},"end":{"line":174,"column":7}},"81":{"start":{"line":173,"column":8},"end":{"line":173,"column":44}},"82":{"start":{"line":178,"column":10},"end":{"line":180,"column":3}},"83":{"start":{"line":179,"column":4},"end":{"line":179,"column":87}},"84":{"start":{"line":182,"column":10},"end":{"line":184,"column":3}},"85":{"start":{"line":183,"column":4},"end":{"line":183,"column":65}},"86":{"start":{"line":186,"column":17},"end":{"line":204,"column":3}},"87":{"start":{"line":187,"column":4},"end":{"line":190,"column":5}},"88":{"start":{"line":192,"column":4},"end":{"line":194,"column":5}},"89":{"start":{"line":193,"column":6},"end":{"line":193,"column":62}},"90":{"start":{"line":196,"column":4},"end":{"line":198,"column":5}},"91":{"start":{"line":197,"column":6},"end":{"line":197,"column":54}},"92":{"start":{"line":200,"column":4},"end":{"line":203,"column":5}},"93":{"start":{"line":24,"column":9},"end":{"line":24,"column":27}},"94":{"start":{"line":26,"column":9},"end":{"line":28,"column":4}},"95":{"start":{"line":34,"column":9},"end":{"line":45,"column":4}},"96":{"start":{"line":205,"column":0},"end":{"line":205,"column":1}},"97":{"start":{"line":23,"column":13},"end":{"line":205,"column":1}},"98":{"start":{"line":207,"column":0},"end":{"line":207,"column":55}}},"fnMap":{"1":{"name":"(anonymous_6245)","line":23,"loc":{"start":{"line":23,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"FollowItem","line":51,"loc":{"start":{"line":51,"column":2},"end":{"line":54,"column":32}}},"3":{"name":"(anonymous_6247)","line":65,"loc":{"start":{"line":65,"column":31},"end":{"line":65,"column":38}}},"4":{"name":"(anonymous_6248)","line":67,"loc":{"start":{"line":67,"column":68},"end":{"line":67,"column":97}}},"5":{"name":"(anonymous_6249)","line":68,"loc":{"start":{"line":68,"column":68},"end":{"line":68,"column":97}}},"6":{"name":"(anonymous_6250)","line":75,"loc":{"start":{"line":75,"column":2},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_6251)","line":78,"loc":{"start":{"line":78,"column":12},"end":{"line":78,"column":43}}},"8":{"name":"(anonymous_6252)","line":80,"loc":{"start":{"line":80,"column":66},"end":{"line":80,"column":94}}},"9":{"name":"(anonymous_6253)","line":93,"loc":{"start":{"line":93,"column":13},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_6254)","line":98,"loc":{"start":{"line":98,"column":2},"end":{"line":98,"column":48}}},"11":{"name":"(anonymous_6255)","line":105,"loc":{"start":{"line":105,"column":2},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_6256)","line":112,"loc":{"start":{"line":112,"column":2},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_6257)","line":119,"loc":{"start":{"line":119,"column":2},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_6258)","line":126,"loc":{"start":{"line":126,"column":16},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_6259)","line":133,"loc":{"start":{"line":133,"column":17},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_6260)","line":142,"loc":{"start":{"line":142,"column":16},"end":{"line":142,"column":44}}},"17":{"name":"(anonymous_6261)","line":149,"loc":{"start":{"line":149,"column":17},"end":{"line":null,"column":-1}}},"18":{"name":"(anonymous_6262)","line":160,"loc":{"start":{"line":160,"column":2},"end":{"line":160,"column":64}}},"19":{"name":"(anonymous_6263)","line":169,"loc":{"start":{"line":169,"column":2},"end":{"line":169,"column":64}}},"20":{"name":"(anonymous_6264)","line":178,"loc":{"start":{"line":178,"column":2},"end":{"line":null,"column":-1}}},"21":{"name":"(anonymous_6265)","line":182,"loc":{"start":{"line":182,"column":2},"end":{"line":null,"column":-1}}},"22":{"name":"(anonymous_6266)","line":186,"loc":{"start":{"line":186,"column":2},"end":{"line":186,"column":90}}}},"branchMap":{"1":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":8},"end":{"line":79,"column":7}},{"start":{"line":79,"column":8},"end":{"line":79,"column":7}}]},"2":{"line":82,"type":"binary-expr","locations":[{"start":{"line":82,"column":19},"end":{"line":82,"column":29}},{"start":{"line":82,"column":33},"end":{"line":82,"column":54}},{"start":{"line":82,"column":58},"end":{"line":82,"column":87}}]},"3":{"line":84,"type":"if","locations":[{"start":{"line":84,"column":10},"end":{"line":84,"column":9}},{"start":{"line":84,"column":10},"end":{"line":84,"column":9}}]},"4":{"line":120,"type":"if","locations":[{"start":{"line":120,"column":4},"end":{"line":120,"column":3}},{"start":{"line":120,"column":4},"end":{"line":120,"column":3}}]},"5":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":6},"end":{"line":123,"column":5}},{"start":{"line":123,"column":6},"end":{"line":123,"column":5}}]},"6":{"line":161,"type":"if","locations":[{"start":{"line":161,"column":4},"end":{"line":161,"column":3}},{"start":{"line":161,"column":4},"end":{"line":161,"column":3}}]},"7":{"line":163,"type":"if","locations":[{"start":{"line":163,"column":6},"end":{"line":163,"column":5}},{"start":{"line":163,"column":6},"end":{"line":163,"column":5}}]},"8":{"line":170,"type":"if","locations":[{"start":{"line":170,"column":4},"end":{"line":170,"column":3}},{"start":{"line":170,"column":4},"end":{"line":170,"column":3}}]},"9":{"line":172,"type":"if","locations":[{"start":{"line":172,"column":6},"end":{"line":172,"column":5}},{"start":{"line":172,"column":6},"end":{"line":172,"column":5}}]},"10":{"line":179,"type":"binary-expr","locations":[{"start":{"line":179,"column":4},"end":{"line":179,"column":30}},{"start":{"line":179,"column":34},"end":{"line":179,"column":86}}]},"11":{"line":183,"type":"binary-expr","locations":[{"start":{"line":183,"column":11},"end":{"line":183,"column":37}},{"start":{"line":183,"column":41},"end":{"line":183,"column":64}}]},"12":{"line":192,"type":"if","locations":[{"start":{"line":192,"column":4},"end":{"line":192,"column":3}},{"start":{"line":192,"column":4},"end":{"line":192,"column":3}}]},"13":{"line":196,"type":"if","locations":[{"start":{"line":196,"column":4},"end":{"line":196,"column":3}},{"start":{"line":196,"column":4},"end":{"line":196,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":1,"43":0,"44":0,"45":0,"46":0,"47":1,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":1,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":1,"73":0,"74":0,"75":0,"76":0,"77":1,"78":0,"79":0,"80":0,"81":0,"82":1,"83":0,"84":1,"85":0,"86":1,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1},"b":{"1":[0,0],"2":[0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},"code":"import {Component} from '../Base/Component';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {IResultsComponentBindings} from '../Base/ResultsComponentBindings';\nimport {IQueryResult} from '../../rest/QueryResult';\nimport {Assert} from '../../misc/Assert';\nimport {SearchAlertsEvents, ISearchAlertsEventArgs, ISearchAlertsFailEventArgs} from '../../events/SearchAlertEvents';\nimport {ISubscription, ISubscriptionItemRequest, SUBSCRIPTION_TYPE, ISubscriptionRequest} from '../../rest/Subscription';\nimport {Initialization} from '../Base/Initialization';\nimport {l} from '../../strings/Strings';\nimport {$$, Dom} from '../../utils/Dom';\n\n\nexport interface IFollowItemOptions {\n  watchedFields?: string[];\n  modifiedDateField?: string;\n}\n\n/**\n * This component allows the user to follow a particular result. \n * By following a result, the user will receive emails informing him when the result has changed.\n * A {@link SearchAlerts} component must be present in the page for this component to work.\n */\nexport class FollowItem extends Component {\n  static ID = 'FollowItem';\n\n  static fields = [\n    'urihash'\n  ];\n\n  /**\n   * The options for the follow item component\n   * @componentOptions\n   */\n  static options: IFollowItemOptions = {\n    /**\n     * Specifies the watchedFields to use when sending the follow query request.\n     * This default value is undefined.\n     */\n    watchedFields: ComponentOptions.buildFieldsOption(),\n    /**\n     * Specifies the modifiedDateField to use when sending the follow query request.\n     * This default value is undefined.\n     */\n    modifiedDateField: ComponentOptions.buildStringOption(),\n  };\n\n  private container: Dom;\n  private text: Dom;\n  private subscription: ISubscription;\n\n  constructor(public element: HTMLElement,\n    public options?: IFollowItemOptions,\n    public bindings?: IResultsComponentBindings,\n    public result?: IQueryResult) {\n\n    super(element, FollowItem.ID, bindings);\n\n    this.options = ComponentOptions.initComponentOptions(element, FollowItem, options);\n\n    Assert.exists(this.result);\n\n    this.container = $$(this.element);\n    this.text = $$('span');\n    this.container.append(this.text.el);\n    this.container.on('click', () => { this.toggleFollow() });\n\n    this.bind.onRootElement(SearchAlertsEvents.searchAlertsDeleted, (args: ISearchAlertsEventArgs) => { this.handleSubscriptionDeleted(args) });\n    this.bind.onRootElement(SearchAlertsEvents.searchAlertsCreated, (args: ISearchAlertsEventArgs) => { this.handleSubscriptionCreated(args) });\n\n    this.container.addClass('coveo-follow-item-loading');\n\n    this.updateIsFollowed();\n  }\n\n  private updateIsFollowed() {\n    this.queryController.getEndpoint()\n      .listSubscriptions()\n      .then((subscriptions: ISubscription[]) => {\n        if (_.isArray(subscriptions)) {\n          let subscription: ISubscription = _.find(subscriptions, (subscription: ISubscription) => {\n            let typeConfig = <ISubscriptionItemRequest>subscription.typeConfig;\n            return typeConfig && typeConfig.id != null && typeConfig.id == this.getId();\n          });\n          if (subscription != null) {\n            this.setFollowed(subscription);\n          } else {\n            this.setNotFollowed();\n          }\n        } else {\n          this.remove();\n        }\n      })\n      .catch(() => {\n        this.remove();\n      })\n  }\n\n  public setFollowed(subscription: ISubscription) {\n    this.container.removeClass('coveo-follow-item-loading');\n    this.subscription = subscription;\n    this.container.addClass('coveo-follow-item-followed');\n    this.text.text(l('SearchAlerts_unFollowing'));\n  }\n\n  public setNotFollowed() {\n    this.container.removeClass('coveo-follow-item-loading');\n    this.subscription = <ISubscription>FollowItem.buildFollowRequest(this.getId(), this.result.title, this.options);\n    this.container.removeClass('coveo-follow-item-followed');\n    this.text.text(l('SearchAlerts_follow'));\n  }\n\n  protected getText(): string {\n    return this.text.text();\n  }\n\n  /**\n   * Follows the result if it was not followed and stops following the result if it was followed.\n   */\n  public toggleFollow() {\n    if (!this.container.hasClass('coveo-follow-item-loading')) {\n      this.container.removeClass('coveo-follow-item-followed');\n      this.container.addClass('coveo-follow-item-loading');\n      if (this.subscription.id) {\n        this.queryController.getEndpoint()\n          .deleteSubscription(this.subscription)\n          .then(() => {\n            let eventArgs: ISearchAlertsEventArgs = {\n              subscription: this.subscription,\n              dom: this.element\n            };\n            $$(this.root).trigger(SearchAlertsEvents.searchAlertsDeleted, eventArgs);\n          })\n          .catch(() => {\n            this.container.removeClass('coveo-follow-item-loading');\n            let eventArgs: ISearchAlertsFailEventArgs = {\n              dom: this.element\n            };\n            $$(this.root).trigger(SearchAlertsEvents.searchAlertsFail, eventArgs);\n          })\n      } else {\n        this.queryController.getEndpoint().follow(this.subscription)\n          .then((subscription: ISubscription) => {\n            let eventArgs: ISearchAlertsEventArgs = {\n              subscription: subscription,\n              dom: this.element\n            };\n            $$(this.root).trigger(SearchAlertsEvents.searchAlertsCreated, eventArgs);\n          })\n          .catch(() => {\n            this.container.removeClass('coveo-follow-item-loading');\n            let eventArgs: ISearchAlertsFailEventArgs = {\n              dom: this.element\n            };\n            $$(this.root).trigger(SearchAlertsEvents.searchAlertsFail, eventArgs);\n          })\n      }\n    }\n  }\n\n  private handleSubscriptionDeleted(args: ISearchAlertsEventArgs) {\n    if (args.subscription.type == SUBSCRIPTION_TYPE.followDocument) {\n      let typeConfig = <ISubscriptionItemRequest>args.subscription.typeConfig;\n      if (typeConfig.id == this.getId()) {\n        this.setNotFollowed();\n      }\n    }\n  }\n\n  private handleSubscriptionCreated(args: ISearchAlertsEventArgs) {\n    if (args.subscription.type == SUBSCRIPTION_TYPE.followDocument) {\n      let typeConfig = <ISubscriptionItemRequest>args.subscription.typeConfig;\n      if (typeConfig.id == this.getId()) {\n        this.setFollowed(args.subscription);\n      }\n    }\n  }\n\n  private remove() {\n    this.element.parentElement && this.element.parentElement.removeChild(this.element);\n  }\n\n  private getId() {\n    return this.result.raw.sysurihash || this.result.raw.urihash;\n  }\n\n  private static buildFollowRequest(id: string, title: string, options: IFollowItemOptions): ISubscriptionRequest {\n    let typeCofig: ISubscriptionItemRequest = {\n      id: id,\n      title: title\n    }\n\n    if (options.modifiedDateField) {\n      typeCofig.modifiedDateField = options.modifiedDateField;\n    }\n\n    if (options.watchedFields) {\n      typeCofig.watchedFields = options.watchedFields;\n    }\n\n    return {\n      type: SUBSCRIPTION_TYPE.followDocument,\n      typeConfig: typeCofig\n    }\n  }\n}\n\nInitialization.registerAutoCreateComponent(FollowItem);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/SearchAlerts/FollowItem.ts\n **/","l":{"1":1,"2":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"23":1,"24":1,"26":1,"34":1,"51":1,"52":0,"53":0,"54":0,"56":0,"58":0,"60":0,"62":0,"63":0,"64":0,"65":0,"67":0,"68":0,"70":0,"72":0,"75":1,"76":0,"79":0,"80":0,"81":0,"82":0,"84":0,"85":0,"87":0,"90":0,"94":0,"98":1,"99":0,"100":0,"101":0,"102":0,"105":1,"106":0,"107":0,"108":0,"109":0,"112":1,"113":0,"119":1,"120":0,"121":0,"122":0,"123":0,"124":0,"127":0,"131":0,"134":0,"135":0,"138":0,"141":0,"143":0,"147":0,"150":0,"151":0,"154":0,"160":1,"161":0,"162":0,"163":0,"164":0,"169":1,"170":0,"171":0,"172":0,"173":0,"178":1,"179":0,"182":1,"183":0,"186":1,"187":0,"192":0,"193":0,"196":0,"197":0,"200":0,"205":1,"207":1}},"src/rest/Subscription.ts":{"path":"src/rest/Subscription.ts","statementMap":{"1":{"start":{"line":3,"column":13},"end":{"line":6,"column":1}}},"fnMap":{},"branchMap":{},"s":{"1":1},"b":{},"f":{},"code":"import {IQuery} from './Query';\n\nexport const SUBSCRIPTION_TYPE = {\n  followQuery: 'followQuery',\n  followDocument: 'followDocument',\n}\n\nexport interface ISearchAlertsEndpointOptions {\n  restUri: string;\n  accessToken?: string;\n  errorsAsSuccess?: boolean;\n}\n\nexport interface ISearchAlertsEndpointCallOptions {\n  type?: string;\n  page?: number;\n}\n\nexport interface ISearchAlertsEndpointSearchCallOptions {\n  documentIds: string[];\n}\n\n/**\n * Describe a subscription to the Coveo Search alerts service\n */\nexport interface ISubscription extends ISubscriptionRequest {\n  /**\n   * The id of the subscription\n   */\n  id: string;\n\n  /**\n   * The user associated with the subscription\n   */\n  user: ISubscriptionUser;\n}\n\n/**\n * Describe a user associated with a subscription to the Coveo Search alerts service\n */\nexport interface ISubscriptionUser {\n\n  /**\n   * The email of the user\n   */\n  email: string;\n\n  /**\n   * The token used to manage the alerts via email.\n   */\n  manageToken: string;\n}\n\n/**\n * Describe a request to subscribe to the Coveo Search alerts service\n */\nexport interface ISubscriptionRequest {\n  /**\n   * Type of subscription.<br/>\n   * Can be 'followQuery' or 'followDocument'\n   */\n  type: string;\n  /**\n   * Config of the subscription\n   */\n  typeConfig: ISubscriptionQueryRequest | ISubscriptionItemRequest;\n  /**\n   * Frequency of the alerts\n   */\n  frequency?: string;\n}\n\n/**\n * Describe a subscription to a single query\n */\nexport interface ISubscriptionQueryRequest {\n  /**\n   * Query to subscribe to\n   */\n  query: IQuery;\n  /**\n   * Which field on the result set represent the modification date for which you wish to receive alerts\n   */\n  modifiedDateField?: string;\n}\n\n/**\n * Describe a subscription to a single item (a result)\n */\nexport interface ISubscriptionItemRequest {\n  /**\n   * Unique id of the document\n   */\n  id: string,\n  /**\n   * Title of the document\n   */\n  title: string,\n  /**\n   * Which field on the result represent the modification date for which you wish to receive alerts\n   */\n  modifiedDateField?: string;\n  /**\n   * A list of field to monitor on the given document\n   */\n  watchedFields?: string[];\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/rest/Subscription.ts\n **/","l":{"3":1}},"src/ui/SearchAlerts/SearchAlerts.ts":{"path":"src/ui/SearchAlerts/SearchAlerts.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":44}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":58}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":58}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":59}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":53}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":41}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":46}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":43}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":118}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":148}},"11":{"start":{"line":16,"column":0},"end":{"line":16,"column":54}},"12":{"start":{"line":17,"column":0},"end":{"line":17,"column":40}},"13":{"start":{"line":18,"column":0},"end":{"line":18,"column":40}},"14":{"start":{"line":19,"column":0},"end":{"line":19,"column":51}},"15":{"start":{"line":33,"column":0},"end":{"line":355,"column":1}},"16":{"start":{"line":33,"column":34},"end":{"line":33,"column":43}},"17":{"start":{"line":76,"column":2},"end":{"line":127,"column":3}},"18":{"start":{"line":78,"column":4},"end":{"line":78,"column":46}},"19":{"start":{"line":76,"column":21},"end":{"line":76,"column":41}},"20":{"start":{"line":76,"column":50},"end":{"line":76,"column":79}},"21":{"start":{"line":80,"column":4},"end":{"line":80,"column":89}},"22":{"start":{"line":82,"column":4},"end":{"line":84,"column":5}},"23":{"start":{"line":83,"column":6},"end":{"line":83,"column":122}},"24":{"start":{"line":86,"column":4},"end":{"line":95,"column":7}},"25":{"start":{"line":87,"column":6},"end":{"line":94,"column":7}},"26":{"start":{"line":88,"column":8},"end":{"line":93,"column":11}},"27":{"start":{"line":91,"column":24},"end":{"line":91,"column":40}},"28":{"start":{"line":92,"column":25},"end":{"line":92,"column":37}},"29":{"start":{"line":97,"column":4},"end":{"line":97,"column":21}},"30":{"start":{"line":99,"column":4},"end":{"line":126,"column":6}},"31":{"start":{"line":100,"column":6},"end":{"line":125,"column":7}},"32":{"start":{"line":101,"column":8},"end":{"line":101,"column":20}},"33":{"start":{"line":102,"column":8},"end":{"line":124,"column":13}},"34":{"start":{"line":104,"column":12},"end":{"line":115,"column":15}},"35":{"start":{"line":105,"column":14},"end":{"line":114,"column":15}},"36":{"start":{"line":106,"column":16},"end":{"line":113,"column":19}},"37":{"start":{"line":110,"column":32},"end":{"line":110,"column":50}},"38":{"start":{"line":121,"column":12},"end":{"line":123,"column":13}},"39":{"start":{"line":122,"column":14},"end":{"line":122,"column":22}},"40":{"start":{"line":134,"column":9},"end":{"line":181,"column":3}},"41":{"start":{"line":134,"column":2},"end":{"line":181,"column":3}},"42":{"start":{"line":135,"column":4},"end":{"line":135,"column":26}},"43":{"start":{"line":136,"column":4},"end":{"line":136,"column":163}},"44":{"start":{"line":137,"column":4},"end":{"line":139,"column":7}},"45":{"start":{"line":138,"column":6},"end":{"line":138,"column":19}},"46":{"start":{"line":141,"column":4},"end":{"line":141,"column":30}},"47":{"start":{"line":142,"column":4},"end":{"line":162,"column":16}},"48":{"start":{"line":164,"column":4},"end":{"line":180,"column":8}},"49":{"start":{"line":166,"column":8},"end":{"line":168,"column":11}},"50":{"start":{"line":167,"column":10},"end":{"line":167,"column":54}},"51":{"start":{"line":171,"column":8},"end":{"line":171,"column":118}},"52":{"start":{"line":174,"column":8},"end":{"line":179,"column":11}},"53":{"start":{"line":183,"column":10},"end":{"line":188,"column":3}},"54":{"start":{"line":184,"column":4},"end":{"line":184,"column":17}},"55":{"start":{"line":185,"column":4},"end":{"line":187,"column":5}},"56":{"start":{"line":186,"column":6},"end":{"line":186,"column":122}},"57":{"start":{"line":190,"column":10},"end":{"line":195,"column":3}},"58":{"start":{"line":191,"column":4},"end":{"line":194,"column":5}},"59":{"start":{"line":192,"column":6},"end":{"line":192,"column":25}},"60":{"start":{"line":193,"column":6},"end":{"line":193,"column":24}},"61":{"start":{"line":197,"column":10},"end":{"line":279,"column":3}},"62":{"start":{"line":197,"column":2},"end":{"line":279,"column":3}},"63":{"start":{"line":198,"column":4},"end":{"line":207,"column":6}},"64":{"start":{"line":209,"column":4},"end":{"line":209,"column":24}},"65":{"start":{"line":210,"column":4},"end":{"line":216,"column":5}},"66":{"start":{"line":211,"column":6},"end":{"line":211,"column":74}},"67":{"start":{"line":212,"column":6},"end":{"line":212,"column":63}},"68":{"start":{"line":214,"column":6},"end":{"line":214,"column":73}},"69":{"start":{"line":215,"column":6},"end":{"line":215,"column":60}},"70":{"start":{"line":218,"column":4},"end":{"line":218,"column":26}},"71":{"start":{"line":219,"column":4},"end":{"line":219,"column":63}},"72":{"start":{"line":220,"column":4},"end":{"line":237,"column":13}},"73":{"start":{"line":230,"column":49},"end":{"line":230,"column":113}},"74":{"start":{"line":239,"column":4},"end":{"line":239,"column":87}},"75":{"start":{"line":241,"column":4},"end":{"line":241,"column":40}},"76":{"start":{"line":243,"column":4},"end":{"line":243,"column":103}},"77":{"start":{"line":245,"column":4},"end":{"line":245,"column":50}},"78":{"start":{"line":247,"column":4},"end":{"line":250,"column":6}},"79":{"start":{"line":248,"column":6},"end":{"line":248,"column":52}},"80":{"start":{"line":249,"column":6},"end":{"line":249,"column":50}},"81":{"start":{"line":252,"column":4},"end":{"line":264,"column":7}},"82":{"start":{"line":253,"column":6},"end":{"line":253,"column":56}},"83":{"start":{"line":254,"column":6},"end":{"line":263,"column":10}},"84":{"start":{"line":257,"column":10},"end":{"line":257,"column":33}},"85":{"start":{"line":258,"column":10},"end":{"line":258,"column":81}},"86":{"start":{"line":259,"column":10},"end":{"line":259,"column":83}},"87":{"start":{"line":262,"column":10},"end":{"line":262,"column":40}},"88":{"start":{"line":266,"column":4},"end":{"line":278,"column":7}},"89":{"start":{"line":267,"column":6},"end":{"line":267,"column":59}},"90":{"start":{"line":268,"column":6},"end":{"line":277,"column":10}},"91":{"start":{"line":271,"column":10},"end":{"line":271,"column":50}},"92":{"start":{"line":272,"column":10},"end":{"line":272,"column":81}},"93":{"start":{"line":273,"column":10},"end":{"line":273,"column":83}},"94":{"start":{"line":276,"column":10},"end":{"line":276,"column":40}},"95":{"start":{"line":281,"column":10},"end":{"line":288,"column":3}},"96":{"start":{"line":281,"column":2},"end":{"line":288,"column":3}},"97":{"start":{"line":282,"column":4},"end":{"line":287,"column":9}},"98":{"start":{"line":284,"column":40},"end":{"line":284,"column":71}},"99":{"start":{"line":286,"column":8},"end":{"line":286,"column":38}},"100":{"start":{"line":294,"column":9},"end":{"line":313,"column":3}},"101":{"start":{"line":294,"column":2},"end":{"line":313,"column":3}},"102":{"start":{"line":295,"column":4},"end":{"line":295,"column":67}},"103":{"start":{"line":296,"column":4},"end":{"line":296,"column":91}},"104":{"start":{"line":298,"column":4},"end":{"line":312,"column":8}},"105":{"start":{"line":300,"column":8},"end":{"line":308,"column":9}},"106":{"start":{"line":301,"column":10},"end":{"line":304,"column":12}},"107":{"start":{"line":305,"column":10},"end":{"line":305,"column":83}},"108":{"start":{"line":307,"column":10},"end":{"line":307,"column":41}},"109":{"start":{"line":311,"column":8},"end":{"line":311,"column":39}},"110":{"start":{"line":315,"column":10},"end":{"line":320,"column":3}},"111":{"start":{"line":316,"column":4},"end":{"line":318,"column":6}},"112":{"start":{"line":319,"column":4},"end":{"line":319,"column":74}},"113":{"start":{"line":322,"column":12},"end":{"line":334,"column":3}},"114":{"start":{"line":323,"column":4},"end":{"line":323,"column":25}},"115":{"start":{"line":324,"column":4},"end":{"line":324,"column":80}},"116":{"start":{"line":325,"column":4},"end":{"line":332,"column":5}},"117":{"start":{"line":326,"column":6},"end":{"line":326,"column":40}},"118":{"start":{"line":328,"column":6},"end":{"line":328,"column":81}},"119":{"start":{"line":329,"column":6},"end":{"line":331,"column":7}},"120":{"start":{"line":330,"column":8},"end":{"line":330,"column":42}},"121":{"start":{"line":333,"column":4},"end":{"line":333,"column":15}},"122":{"start":{"line":336,"column":17},"end":{"line":349,"column":3}},"123":{"start":{"line":337,"column":4},"end":{"line":339,"column":5}},"124":{"start":{"line":341,"column":4},"end":{"line":343,"column":5}},"125":{"start":{"line":342,"column":6},"end":{"line":342,"column":63}},"126":{"start":{"line":345,"column":4},"end":{"line":348,"column":5}},"127":{"start":{"line":351,"column":9},"end":{"line":354,"column":3}},"128":{"start":{"line":352,"column":4},"end":{"line":352,"column":27}},"129":{"start":{"line":353,"column":4},"end":{"line":353,"column":52}},"130":{"start":{"line":34,"column":9},"end":{"line":34,"column":29}},"131":{"start":{"line":40,"column":9},"end":{"line":66,"column":4}},"132":{"start":{"line":355,"column":0},"end":{"line":355,"column":1}},"133":{"start":{"line":33,"column":13},"end":{"line":355,"column":1}},"134":{"start":{"line":357,"column":0},"end":{"line":357,"column":57}}},"fnMap":{"1":{"name":"(anonymous_6272)","line":33,"loc":{"start":{"line":33,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"SearchAlerts","line":76,"loc":{"start":{"line":76,"column":2},"end":{"line":76,"column":110}}},"3":{"name":"(anonymous_6274)","line":86,"loc":{"start":{"line":86,"column":65},"end":{"line":86,"column":97}}},"4":{"name":"(anonymous_6275)","line":91,"loc":{"start":{"line":91,"column":18},"end":{"line":91,"column":23}}},"5":{"name":"(anonymous_6276)","line":92,"loc":{"start":{"line":92,"column":19},"end":{"line":92,"column":24}}},"6":{"name":"(anonymous_6277)","line":99,"loc":{"start":{"line":99,"column":54},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_6278)","line":103,"loc":{"start":{"line":103,"column":16},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_6279)","line":104,"loc":{"start":{"line":104,"column":73},"end":{"line":104,"column":105}}},"9":{"name":"(anonymous_6280)","line":110,"loc":{"start":{"line":110,"column":26},"end":{"line":110,"column":31}}},"10":{"name":"(anonymous_6281)","line":111,"loc":{"start":{"line":111,"column":27},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_6282)","line":117,"loc":{"start":{"line":117,"column":17},"end":{"line":117,"column":30}}},"12":{"name":"(anonymous_6283)","line":134,"loc":{"start":{"line":134,"column":2},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_6284)","line":137,"loc":{"start":{"line":137,"column":67},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_6285)","line":165,"loc":{"start":{"line":165,"column":12},"end":{"line":165,"column":43}}},"15":{"name":"(anonymous_6286)","line":166,"loc":{"start":{"line":166,"column":30},"end":{"line":166,"column":43}}},"16":{"name":"(anonymous_6287)","line":170,"loc":{"start":{"line":170,"column":13},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_6288)","line":173,"loc":{"start":{"line":173,"column":15},"end":{"line":null,"column":-1}}},"18":{"name":"(anonymous_6289)","line":183,"loc":{"start":{"line":183,"column":2},"end":{"line":null,"column":-1}}},"19":{"name":"(anonymous_6290)","line":190,"loc":{"start":{"line":190,"column":2},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_6291)","line":197,"loc":{"start":{"line":197,"column":2},"end":{"line":197,"column":68}}},"21":{"name":"(anonymous_6292)","line":230,"loc":{"start":{"line":230,"column":34},"end":{"line":230,"column":44}}},"22":{"name":"(anonymous_6293)","line":247,"loc":{"start":{"line":247,"column":36},"end":{"line":247,"column":42}}},"23":{"name":"(anonymous_6294)","line":252,"loc":{"start":{"line":252,"column":79},"end":{"line":null,"column":-1}}},"24":{"name":"(anonymous_6295)","line":256,"loc":{"start":{"line":256,"column":14},"end":{"line":null,"column":-1}}},"25":{"name":"(anonymous_6296)","line":261,"loc":{"start":{"line":261,"column":15},"end":{"line":null,"column":-1}}},"26":{"name":"(anonymous_6297)","line":266,"loc":{"start":{"line":266,"column":77},"end":{"line":null,"column":-1}}},"27":{"name":"(anonymous_6298)","line":270,"loc":{"start":{"line":270,"column":14},"end":{"line":270,"column":33}}},"28":{"name":"(anonymous_6299)","line":275,"loc":{"start":{"line":275,"column":15},"end":{"line":null,"column":-1}}},"29":{"name":"(anonymous_6300)","line":281,"loc":{"start":{"line":281,"column":2},"end":{"line":281,"column":62}}},"30":{"name":"(anonymous_6301)","line":284,"loc":{"start":{"line":284,"column":12},"end":{"line":284,"column":35}}},"31":{"name":"(anonymous_6302)","line":285,"loc":{"start":{"line":285,"column":13},"end":{"line":null,"column":-1}}},"32":{"name":"(anonymous_6303)","line":294,"loc":{"start":{"line":294,"column":2},"end":{"line":null,"column":-1}}},"33":{"name":"(anonymous_6304)","line":299,"loc":{"start":{"line":299,"column":12},"end":{"line":299,"column":40}}},"34":{"name":"(anonymous_6305)","line":310,"loc":{"start":{"line":310,"column":13},"end":{"line":null,"column":-1}}},"35":{"name":"(anonymous_6306)","line":315,"loc":{"start":{"line":315,"column":2},"end":{"line":null,"column":-1}}},"36":{"name":"(anonymous_6307)","line":322,"loc":{"start":{"line":322,"column":2},"end":{"line":null,"column":-1}}},"37":{"name":"(anonymous_6308)","line":336,"loc":{"start":{"line":336,"column":2},"end":{"line":336,"column":85}}},"38":{"name":"(anonymous_6309)","line":351,"loc":{"start":{"line":351,"column":2},"end":{"line":351,"column":88}}}},"branchMap":{"1":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":4},"end":{"line":82,"column":3}},{"start":{"line":82,"column":4},"end":{"line":82,"column":3}}]},"2":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":6},"end":{"line":87,"column":5}},{"start":{"line":87,"column":6},"end":{"line":87,"column":5}}]},"3":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":6},"end":{"line":100,"column":5}},{"start":{"line":100,"column":6},"end":{"line":100,"column":5}}]},"4":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":14},"end":{"line":105,"column":13}},{"start":{"line":105,"column":14},"end":{"line":105,"column":13}}]},"5":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":12},"end":{"line":121,"column":11}},{"start":{"line":121,"column":12},"end":{"line":121,"column":11}}]},"6":{"line":185,"type":"if","locations":[{"start":{"line":185,"column":4},"end":{"line":185,"column":3}},{"start":{"line":185,"column":4},"end":{"line":185,"column":3}}]},"7":{"line":191,"type":"if","locations":[{"start":{"line":191,"column":4},"end":{"line":191,"column":3}},{"start":{"line":191,"column":4},"end":{"line":191,"column":3}}]},"8":{"line":210,"type":"if","locations":[{"start":{"line":210,"column":4},"end":{"line":210,"column":3}},{"start":{"line":210,"column":4},"end":{"line":210,"column":3}}]},"9":{"line":212,"type":"binary-expr","locations":[{"start":{"line":212,"column":16},"end":{"line":212,"column":44}},{"start":{"line":212,"column":48},"end":{"line":212,"column":63}}]},"10":{"line":215,"type":"binary-expr","locations":[{"start":{"line":215,"column":25},"end":{"line":215,"column":41}},{"start":{"line":215,"column":45},"end":{"line":215,"column":58}}]},"11":{"line":300,"type":"if","locations":[{"start":{"line":300,"column":8},"end":{"line":300,"column":7}},{"start":{"line":300,"column":8},"end":{"line":300,"column":7}}]},"12":{"line":325,"type":"if","locations":[{"start":{"line":325,"column":4},"end":{"line":325,"column":3}},{"start":{"line":325,"column":4},"end":{"line":325,"column":3}}]},"13":{"line":325,"type":"binary-expr","locations":[{"start":{"line":325,"column":8},"end":{"line":325,"column":18}},{"start":{"line":325,"column":22},"end":{"line":325,"column":43}}]},"14":{"line":329,"type":"if","locations":[{"start":{"line":329,"column":6},"end":{"line":329,"column":5}},{"start":{"line":329,"column":6},"end":{"line":329,"column":5}}]},"15":{"line":329,"type":"binary-expr","locations":[{"start":{"line":329,"column":10},"end":{"line":329,"column":20}},{"start":{"line":329,"column":24},"end":{"line":329,"column":45}}]},"16":{"line":341,"type":"if","locations":[{"start":{"line":341,"column":4},"end":{"line":341,"column":3}},{"start":{"line":341,"column":4},"end":{"line":341,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":13,"16":1,"17":1,"18":12,"19":12,"20":12,"21":12,"22":12,"23":11,"24":12,"25":4,"26":3,"27":0,"28":0,"29":12,"30":12,"31":2,"32":2,"33":2,"34":2,"35":2,"36":1,"37":0,"38":0,"39":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":1,"54":0,"55":0,"56":0,"57":1,"58":0,"59":0,"60":0,"61":1,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":1,"96":0,"97":0,"98":0,"99":0,"100":1,"101":3,"102":3,"103":3,"104":3,"105":3,"106":2,"107":2,"108":1,"109":0,"110":1,"111":1,"112":1,"113":1,"114":3,"115":3,"116":3,"117":0,"118":3,"119":3,"120":0,"121":3,"122":1,"123":3,"124":3,"125":0,"126":3,"127":1,"128":0,"129":0,"130":1,"131":1,"132":1,"133":1,"134":1},"b":{"1":[11,1],"2":[3,1],"3":[2,0],"4":[1,1],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[2,1],"12":[0,3],"13":[3,0],"14":[0,3],"15":[3,0],"16":[0,3]},"f":{"1":1,"2":12,"3":4,"4":0,"5":0,"6":2,"7":2,"8":2,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":3,"33":3,"34":0,"35":1,"36":3,"37":3,"38":0},"code":"/// <reference path='../../../node_modules/modal-box/bin/ModalBox.d.ts' />\nimport {Component} from '../Base/Component';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {SearchAlertsMessage} from './SearchAlertsMessage';\nimport {SettingsEvents} from '../../events/SettingsEvents';\nimport {QueryEvents} from '../../events/QueryEvents';\nimport {Assert} from '../../misc/Assert';\nimport {Querybox} from '../Querybox/Querybox';\nimport {Omnibox} from '../Omnibox/Omnibox';\nimport {IQuery} from '../../rest/Query';\nimport {AjaxError} from '../../rest/AjaxError';\nimport {ISettingsPopulateMenuArgs} from '../Settings/Settings';\nimport {SearchAlertsEvents, ISearchAlertsEventArgs, ISearchAlertsFailEventArgs} from '../../events/SearchAlertEvents';\nimport {ISubscription, ISubscriptionItemRequest, SUBSCRIPTION_TYPE, ISubscriptionRequest, ISubscriptionQueryRequest} from '../../rest/Subscription';\nimport {Initialization} from '../Base/Initialization';\nimport {l} from '../../strings/Strings';\nimport {$$, Dom} from '../../utils/Dom';\nimport {ModalBox} from '../../ExternalModulesShim';\n\nexport interface ISearchAlertsOptions {\n  enableManagePanel?: boolean;\n  enableFollowQuery?: boolean;\n  modifiedDateField?: string;\n  enableMessage?: boolean;\n  messageCloseDelay?: number;\n}\n\n/**\n * This component allows the user to manage his search alerts and to follow queries by adding menu items in the {@link Settings} component.\n * By following queries, the user will receive emails informing him when the results of the query have changed.\n */\nexport class SearchAlerts extends Component {\n  static ID = 'SearchAlerts';\n\n  /**\n   * The options for the search alerts\n   * @componentOptions\n   */\n  static options: ISearchAlertsOptions = {\n    /**\n     * Specifies whether to add a menu item in the {@link Settings} component to allow the user to manage his search alerts.\n     * The default value is true.\n     */\n    enableManagePanel: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies whether to add a menu item in the {@link Settings} component to allow the user to follow the last query.\n     * The default value is true.\n     */\n    enableFollowQuery: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies the modifiedDateField to use when sending the follow query request.\n     * This default value is undefined.\n     */\n    modifiedDateField: ComponentOptions.buildStringOption(),\n    /**\n     * Specifies whether to display info and error messages when search alerts actions are performed.\n     * This default value is true.\n     */\n    enableMessage: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    /**\n     * Specifies how long to display the search alerts messages (in ms).\n     * This default value is 3000.\n     */\n    messageCloseDelay: ComponentOptions.buildNumberOption({ defaultValue: 3000 }),\n  };\n\n  private modal: Coveo.ModalBox.ModalBox;\n\n  /**\n   * A reference to a {@link SearchAlertsMessage} component used to display message.\n   * This attribute is set only when the enableMessage option is true.\n   */\n  public message: SearchAlertsMessage;\n\n  constructor(public element: HTMLElement, public options: ISearchAlertsOptions, bindings?: IComponentBindings) {\n\n    super(element, SearchAlerts.ID, bindings);\n\n    this.options = ComponentOptions.initComponentOptions(element, SearchAlerts, options);\n\n    if (this.options.enableMessage) {\n      this.message = new SearchAlertsMessage(element, { closeDelay: this.options.messageCloseDelay }, this.getBindings());\n    }\n\n    this.bind.onRootElement(SettingsEvents.settingsPopulateMenu, (args: ISettingsPopulateMenuArgs) => {\n      if (this.options.enableManagePanel) {\n        args.menuData.push({\n          text: l('SearchAlerts_Panel'),\n          className: 'coveo-subscriptions-panel',\n          onOpen: () => this.openPanel(),\n          onClose: () => this.close()\n        });\n      }\n    });\n\n    let once = false;\n\n    this.bind.onRootElement(QueryEvents.querySuccess, () => {\n      if (!once) {\n        once = true;\n        this.queryController.getEndpoint().listSubscriptions()\n          .then(() => {\n            this.bind.onRootElement(SettingsEvents.settingsPopulateMenu, (args: ISettingsPopulateMenuArgs) => {\n              if (this.options.enableFollowQuery) {\n                args.menuData.push({\n                  text: l('SearchAlerts_followQuery'),\n                  className: 'coveo-follow-query',\n                  tooltip: l('FollowQueryDescription'),\n                  onOpen: () => this.followQuery(),\n                  onClose: () => {\n                  }\n                });\n              }\n            });\n          })\n          .catch((e: AjaxError) => {\n            // Trap 503 error, as the listSubscription call is called on every page initialization\n            // to check for current subscriptions. By default, the search alert service is not enabled for most organization\n            // Don't want to pollute the console with un-needed noise and confusion\n            if (e.status != 503) {\n              throw e;\n            }\n          });\n      }\n    })\n  }\n\n  /**\n   * Opens the search alerts manage panel.\n   * This panel allows the user to stop following queries or documents.\n   * It also allows the user to change the frequency at which he will receive emails.\n   */\n  public openPanel(): Promise<ISubscription> {\n    let title = $$('div');\n    title.el.innerHTML = `<div class='coveo-subscriptions-panel-close'><span></span></div><div class='coveo-subscriptions-panel-title'>${l('SearchAlerts_Panel')}`;\n    $$(title.find('.coveo-subscriptions-panel-close')).on('click', () => {\n      this.close();\n    });\n\n    let container = $$('div');\n    container.el.innerHTML = `\n      <table class='coveo-subscriptions-panel-content' cellspacing='0'>\n        <thead>\n          <tr>\n            <th class='coveo-subscriptions-panel-content-type'>${ l('SearchAlerts_Type')}</th>\n            <th>${ l('SearchAlerts_Content')}</th>\n            <th>${ l('SearchAlerts_Frequency')}</th>\n            <th class='coveo-subscriptions-panel-content-actions'>${ l('SearchAlerts_Actions')}</th>\n          </tr>\n        </thead>\n        <tbody class='coveo-subscriptions-panel-spacer'>\n          <tr>\n            <td colsspan='3'></td>\n          </tr>\n        </tbody>\n        <tbody class='coveo-subscriptions-panel-subscriptions'>\n          <tr class='coveo-subscriptions-panel-no-subscriptions'>\n            <td colsspan='3'>${ l('SearchAlerts_PanelNoSearchAlerts')}</td>\n          </tr>\n        </tbody>\n      </table>`;\n\n    return this.queryController.getEndpoint().listSubscriptions()\n      .then((subscriptions: ISubscription[]) => {\n        _.each(subscriptions, (subscription) => {\n          this.addSearchAlert(subscription, container)\n        });\n      })\n      .catch(() => {\n        container.el.innerHTML = '<div class=\\'coveo-subscriptions-panel-fail\\'>' + l('SearchAlerts_Fail') + '</div>';\n      })\n      .finally(() => {\n        this.modal = ModalBox.open(container.el, {\n          titleClose: true,\n          overlayClose: true,\n          title: title.text(),\n          className: 'coveo-subscriptions-panel'\n        });\n      })\n  }\n\n  private handleSearchAlertsFail() {\n    this.close();\n    if (this.modal != null) {\n      this.modal.content.innerHTML = '<div class=\\'coveo-subscriptions-panel-fail\\'>' + l('SearchAlerts_Fail') + '</div>';\n    }\n  }\n\n  private close() {\n    if (this.modal) {\n      this.modal.close();\n      this.modal = null;\n    }\n  }\n\n  private addSearchAlert(subscription: ISubscription, container: Dom) {\n    let frequencies = [\n      { value: 'daily', label: l('Daily') },\n      { value: 'monday', label: l('Monday') },\n      { value: 'tuesday', label: l('Tuesday') },\n      { value: 'wednesday', label: l('Wednesday') },\n      { value: 'thursday', label: l('Thursday') },\n      { value: 'friday', label: l('Friday') },\n      { value: 'saturday', label: l('Saturday') },\n      { value: 'sunday', label: l('Sunday') }\n    ];\n\n    let context: string;\n    if (subscription.type == SUBSCRIPTION_TYPE.followQuery) {\n      let typeConfig = <ISubscriptionQueryRequest>subscription.typeConfig;\n      context = _.escape(typeConfig.query.q) || l('EmptyQuery')\n    } else {\n      let typeConfig = <ISubscriptionItemRequest>subscription.typeConfig;\n      context = _.escape(typeConfig.title || typeConfig.id);\n    }\n\n    let element = $$('tr')\n    element.addClass('coveo-subscriptions-panel-subscription');\n    element.el.innerHTML = `\n      <td class='coveo-subscriptions-panel-content-type'>${ l('SearchAlerts_Type_' + subscription.type)}</td>\n      <td>\n        <div class='coveo-subscriptions-panel-context'>\n          ${ context}\n        </div>\n      </td>\n      <td>\n        <div class='coveo-subscriptions-panel-frequency'>\n          <select>\n            ${ _.map(frequencies, (frequency) => `<option value='${frequency.value}'>${frequency.label}</option>`)}\n          </select>\n        </div>\n      </td>\n      <td class='coveo-subscriptions-panel-content-actions'>\n        <div class='coveo-subscriptions-panel-action coveo-subscriptions-panel-action-unfollow'>${ l('SearchAlerts_unFollowing')}</div>\n        <div class='coveo-subscriptions-panel-action coveo-subscriptions-panel-action-follow'>${ l('SearchAlerts_follow')}</div>\n      </td>`;\n\n    let noSearchAlerts = container.find('.coveo-subscriptions-panel-no-subscriptions');\n\n    element.insertBefore(noSearchAlerts)\n\n    let frequencyInput = <HTMLInputElement>element.find('.coveo-subscriptions-panel-frequency select');\n\n    frequencyInput.value = subscription.frequency;\n\n    $$(frequencyInput).on('change', (event) => {\n      subscription.frequency = frequencyInput.value;\n      this.updateAndSyncSearchAlert(subscription);\n    })\n\n    $$(element.find('.coveo-subscriptions-panel-action-unfollow')).on('click', () => {\n      element.addClass('coveo-subscription-unfollowed');\n      this.queryController.getEndpoint()\n        .deleteSubscription(subscription)\n        .then(() => {\n          delete subscription.id;\n          let eventArgs: ISearchAlertsEventArgs = { subscription: subscription };\n          $$(this.root).trigger(SearchAlertsEvents.searchAlertsDeleted, eventArgs);\n        })\n        .catch(() => {\n          this.handleSearchAlertsFail();\n        })\n    });\n\n    $$(element.find('.coveo-subscriptions-panel-action-follow')).on('click', () => {\n      element.removeClass('coveo-subscription-unfollowed');\n      this.queryController.getEndpoint()\n        .follow(subscription)\n        .then((updatedSearchAlert) => {\n          subscription.id = updatedSearchAlert.id;\n          let eventArgs: ISearchAlertsEventArgs = { subscription: subscription };\n          $$(this.root).trigger(SearchAlertsEvents.searchAlertsCreated, eventArgs);\n        })\n        .catch(() => {\n          this.handleSearchAlertsFail();\n        })\n    });\n  }\n\n  private updateAndSyncSearchAlert(subscription: ISubscription) {\n    this.queryController.getEndpoint()\n      .updateSubscription(subscription)\n      .then((updated: ISubscription) => _.extend(subscription, updated))\n      .catch(() => {\n        this.handleSearchAlertsFail();\n      });\n  }\n\n  /**\n   * Follow the last query.\n   * The user will start to receive emails when the results from that query changes.\n   */\n  public followQuery() {\n    let queryBuilder = this.queryController.createQueryBuilder({});\n    let request = SearchAlerts.buildFollowQueryRequest(queryBuilder.build(), this.options);\n\n    this.queryController.getEndpoint().follow(request)\n      .then((subscription: ISubscription) => {\n        if (subscription) {\n          let eventArgs: ISearchAlertsEventArgs = {\n            subscription: subscription,\n            dom: this.findQueryBoxDom()\n          };\n          $$(this.root).trigger(SearchAlertsEvents.searchAlertsCreated, eventArgs);\n        } else {\n          this.triggerSearchAlertsFail();\n        }\n      })\n      .catch(() => {\n        this.triggerSearchAlertsFail();\n      })\n  }\n\n  private triggerSearchAlertsFail() {\n    let eventArgs: ISearchAlertsFailEventArgs = {\n      dom: this.findQueryBoxDom()\n    };\n    $$(this.root).trigger(SearchAlertsEvents.searchAlertsFail, eventArgs);\n  }\n\n  protected findQueryBoxDom(): HTMLElement {\n    let dom: HTMLElement;\n    let components = this.searchInterface.getComponents<Component>(Querybox.ID);\n    if (components && components.length > 0) {\n      dom = _.first(components).element;\n    } else {\n      let components = this.searchInterface.getComponents<Component>(Omnibox.ID);\n      if (components && components.length > 0) {\n        dom = _.first(components).element;\n      }\n    }\n    return dom;\n  }\n\n  private static buildFollowQueryRequest(query: IQuery, options: ISearchAlertsOptions): ISubscriptionRequest {\n    let typeConfig: ISubscriptionQueryRequest = {\n      query: query\n    }\n\n    if (options.modifiedDateField) {\n      typeConfig.modifiedDateField = options.modifiedDateField;\n    }\n\n    return {\n      type: SUBSCRIPTION_TYPE.followQuery,\n      typeConfig: typeConfig\n    }\n  }\n\n  static create(element: HTMLElement, options?: ISearchAlertsOptions, root?: HTMLElement): SearchAlerts {\n    Assert.exists(element);\n    return new SearchAlerts(element, options, root);\n  }\n}\n\nInitialization.registerAutoCreateComponent(SearchAlerts);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/SearchAlerts/SearchAlerts.ts\n **/","l":{"2":1,"3":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"33":13,"34":1,"40":1,"76":12,"78":12,"80":12,"82":12,"83":11,"86":12,"87":4,"88":3,"91":0,"92":0,"97":12,"99":12,"100":2,"101":2,"102":2,"104":2,"105":2,"106":1,"110":0,"121":0,"122":0,"134":1,"135":0,"136":0,"137":0,"138":0,"141":0,"142":0,"164":0,"166":0,"167":0,"171":0,"174":0,"183":1,"184":0,"185":0,"186":0,"190":1,"191":0,"192":0,"193":0,"197":1,"198":0,"209":0,"210":0,"211":0,"212":0,"214":0,"215":0,"218":0,"219":0,"220":0,"230":0,"239":0,"241":0,"243":0,"245":0,"247":0,"248":0,"249":0,"252":0,"253":0,"254":0,"257":0,"258":0,"259":0,"262":0,"266":0,"267":0,"268":0,"271":0,"272":0,"273":0,"276":0,"281":1,"282":0,"284":0,"286":0,"294":3,"295":3,"296":3,"298":3,"300":3,"301":2,"305":2,"307":1,"311":0,"315":1,"316":1,"319":1,"322":1,"323":3,"324":3,"325":3,"326":0,"328":3,"329":3,"330":0,"333":3,"336":1,"337":3,"341":3,"342":0,"345":3,"351":1,"352":0,"353":0,"355":1,"357":1}},"src/ui/SearchAlerts/SearchAlertsMessage.ts":{"path":"src/ui/SearchAlerts/SearchAlertsMessage.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":58}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":118}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":53}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":111}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":90}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":40}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":40}},"9":{"start":{"line":19,"column":0},"end":{"line":127,"column":1}},"10":{"start":{"line":19,"column":41},"end":{"line":19,"column":50}},"11":{"start":{"line":37,"column":2},"end":{"line":48,"column":3}},"12":{"start":{"line":41,"column":4},"end":{"line":41,"column":53}},"13":{"start":{"line":37,"column":21},"end":{"line":37,"column":41}},"14":{"start":{"line":38,"column":11},"end":{"line":38,"column":46}},"15":{"start":{"line":39,"column":11},"end":{"line":39,"column":40}},"16":{"start":{"line":43,"column":4},"end":{"line":43,"column":144}},"17":{"start":{"line":43,"column":104},"end":{"line":43,"column":140}},"18":{"start":{"line":44,"column":4},"end":{"line":44,"column":139}},"19":{"start":{"line":44,"column":102},"end":{"line":44,"column":135}},"20":{"start":{"line":45,"column":4},"end":{"line":45,"column":93}},"21":{"start":{"line":45,"column":77},"end":{"line":45,"column":89}},"22":{"start":{"line":47,"column":4},"end":{"line":47,"column":75}},"23":{"start":{"line":47,"column":59},"end":{"line":47,"column":71}},"24":{"start":{"line":50,"column":9},"end":{"line":52,"column":3}},"25":{"start":{"line":51,"column":4},"end":{"line":51,"column":42}},"26":{"start":{"line":60,"column":9},"end":{"line":87,"column":3}},"27":{"start":{"line":60,"column":2},"end":{"line":87,"column":3}},"28":{"start":{"line":61,"column":4},"end":{"line":61,"column":29}},"29":{"start":{"line":62,"column":4},"end":{"line":66,"column":14}},"30":{"start":{"line":68,"column":4},"end":{"line":68,"column":74}},"31":{"start":{"line":69,"column":4},"end":{"line":69,"column":84}},"32":{"start":{"line":70,"column":4},"end":{"line":70,"column":52}},"33":{"start":{"line":70,"column":38},"end":{"line":70,"column":50}},"34":{"start":{"line":72,"column":4},"end":{"line":77,"column":18}},"35":{"start":{"line":79,"column":4},"end":{"line":79,"column":27}},"36":{"start":{"line":81,"column":4},"end":{"line":83,"column":6}},"37":{"start":{"line":82,"column":6},"end":{"line":82,"column":29}},"38":{"start":{"line":84,"column":4},"end":{"line":86,"column":6}},"39":{"start":{"line":85,"column":6},"end":{"line":85,"column":28}},"40":{"start":{"line":89,"column":10},"end":{"line":100,"column":3}},"41":{"start":{"line":90,"column":4},"end":{"line":90,"column":17}},"42":{"start":{"line":91,"column":4},"end":{"line":99,"column":5}},"43":{"start":{"line":92,"column":6},"end":{"line":98,"column":7}},"44":{"start":{"line":93,"column":8},"end":{"line":93,"column":81}},"45":{"start":{"line":94,"column":8},"end":{"line":94,"column":133}},"46":{"start":{"line":96,"column":8},"end":{"line":96,"column":80}},"47":{"start":{"line":97,"column":8},"end":{"line":97,"column":107}},"48":{"start":{"line":102,"column":10},"end":{"line":107,"column":3}},"49":{"start":{"line":103,"column":4},"end":{"line":103,"column":17}},"50":{"start":{"line":104,"column":4},"end":{"line":106,"column":5}},"51":{"start":{"line":105,"column":6},"end":{"line":105,"column":67}},"52":{"start":{"line":109,"column":10},"end":{"line":114,"column":3}},"53":{"start":{"line":109,"column":2},"end":{"line":114,"column":3}},"54":{"start":{"line":110,"column":4},"end":{"line":110,"column":36}},"55":{"start":{"line":111,"column":4},"end":{"line":113,"column":32}},"56":{"start":{"line":112,"column":6},"end":{"line":112,"column":19}},"57":{"start":{"line":116,"column":10},"end":{"line":118,"column":3}},"58":{"start":{"line":117,"column":4},"end":{"line":117,"column":35}},"59":{"start":{"line":120,"column":10},"end":{"line":126,"column":3}},"60":{"start":{"line":121,"column":4},"end":{"line":125,"column":5}},"61":{"start":{"line":122,"column":6},"end":{"line":122,"column":38}},"62":{"start":{"line":123,"column":6},"end":{"line":123,"column":28}},"63":{"start":{"line":124,"column":6},"end":{"line":124,"column":26}},"64":{"start":{"line":20,"column":9},"end":{"line":20,"column":38}},"65":{"start":{"line":26,"column":9},"end":{"line":32,"column":4}},"66":{"start":{"line":127,"column":0},"end":{"line":127,"column":1}},"67":{"start":{"line":19,"column":13},"end":{"line":127,"column":1}}},"fnMap":{"1":{"name":"(anonymous_6314)","line":19,"loc":{"start":{"line":19,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"SearchAlertsMessage","line":37,"loc":{"start":{"line":37,"column":2},"end":{"line":39,"column":40}}},"3":{"name":"(anonymous_6316)","line":43,"loc":{"start":{"line":43,"column":68},"end":{"line":43,"column":97}}},"4":{"name":"(anonymous_6317)","line":44,"loc":{"start":{"line":44,"column":66},"end":{"line":44,"column":95}}},"5":{"name":"(anonymous_6318)","line":45,"loc":{"start":{"line":45,"column":69},"end":{"line":45,"column":76}}},"6":{"name":"(anonymous_6319)","line":47,"loc":{"start":{"line":47,"column":51},"end":{"line":47,"column":58}}},"7":{"name":"(anonymous_6320)","line":50,"loc":{"start":{"line":50,"column":2},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_6321)","line":60,"loc":{"start":{"line":60,"column":2},"end":{"line":60,"column":62}}},"9":{"name":"(anonymous_6322)","line":70,"loc":{"start":{"line":70,"column":32},"end":{"line":70,"column":37}}},"10":{"name":"(anonymous_6323)","line":81,"loc":{"start":{"line":81,"column":34},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_6324)","line":84,"loc":{"start":{"line":84,"column":34},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_6325)","line":89,"loc":{"start":{"line":89,"column":2},"end":{"line":89,"column":64}}},"13":{"name":"(anonymous_6326)","line":102,"loc":{"start":{"line":102,"column":2},"end":{"line":102,"column":65}}},"14":{"name":"(anonymous_6327)","line":109,"loc":{"start":{"line":109,"column":2},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_6328)","line":111,"loc":{"start":{"line":111,"column":35},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_6329)","line":116,"loc":{"start":{"line":116,"column":2},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_6330)","line":120,"loc":{"start":{"line":120,"column":2},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":4},"end":{"line":91,"column":3}},{"start":{"line":91,"column":4},"end":{"line":91,"column":3}}]},"2":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":6},"end":{"line":92,"column":5}},{"start":{"line":92,"column":6},"end":{"line":92,"column":5}}]},"3":{"line":94,"type":"binary-expr","locations":[{"start":{"line":94,"column":76},"end":{"line":94,"column":104}},{"start":{"line":94,"column":108},"end":{"line":94,"column":123}}]},"4":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":4},"end":{"line":104,"column":3}},{"start":{"line":104,"column":4},"end":{"line":104,"column":3}}]},"5":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":4},"end":{"line":121,"column":3}},{"start":{"line":121,"column":4},"end":{"line":121,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":16,"10":1,"11":1,"12":15,"13":15,"14":15,"15":15,"16":15,"17":3,"18":15,"19":2,"20":15,"21":0,"22":15,"23":2,"24":1,"25":0,"26":1,"27":4,"28":4,"29":4,"30":4,"31":4,"32":4,"33":0,"34":4,"35":4,"36":4,"37":0,"38":4,"39":0,"40":1,"41":3,"42":3,"43":1,"44":1,"45":1,"46":0,"47":0,"48":1,"49":2,"50":2,"51":1,"52":1,"53":0,"54":0,"55":0,"56":0,"57":1,"58":0,"59":1,"60":7,"61":0,"62":0,"63":0,"64":1,"65":1,"66":1,"67":1},"b":{"1":[1,2],"2":[1,0],"3":[1,0],"4":[1,1],"5":[0,7]},"f":{"1":1,"2":15,"3":3,"4":2,"5":0,"6":2,"7":0,"8":4,"9":0,"10":0,"11":0,"12":3,"13":2,"14":0,"15":0,"16":0,"17":7},"code":"import {Component} from '../Base/Component';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {SearchAlertsEvents, ISearchAlertsEventArgs, ISearchAlertsFailEventArgs} from '../../events/SearchAlertEvents';\nimport {QueryEvents} from '../../events/QueryEvents';\nimport {ISubscriptionItemRequest, SUBSCRIPTION_TYPE, ISubscriptionQueryRequest} from '../../rest/Subscription';\nimport {PopupUtils, HorizontalAlignment, VerticalAlignment} from '../../utils/PopupUtils';\nimport {l} from '../../strings/Strings';\nimport {$$, Dom} from '../../utils/Dom';\n\nexport interface ISearchAlertMessageOptions {\n  closeDelay: number;\n}\n\n/**\n * This component allows the {@link SearchAlerts} component to display messages.\n * This component should not be included in a web page. Instead, use a {@link SearchAlerts} component and access its message attribute.\n */\nexport class SearchAlertsMessage extends Component {\n  static ID = 'SubscriptionsMessages';\n\n  /**\n   * The options for the SearchAlertsMessage component\n   * @componentOptions\n   */\n  static options: ISearchAlertMessageOptions = {\n    /**\n     * Specifies how long to display the search alerts messages (in ms).\n     * This default value is 3000.\n     */\n    closeDelay: ComponentOptions.buildNumberOption({ defaultValue: 3000 }),\n  };\n\n  private message: Dom;\n  private closeTimeout: number;\n\n  constructor(public element: HTMLElement,\n    public options: ISearchAlertMessageOptions,\n    public bindings?: IComponentBindings) {\n\n    super(element, SearchAlertsMessage.ID, bindings);\n\n    this.bind.onRootElement(SearchAlertsEvents.searchAlertsCreated, (args: ISearchAlertsEventArgs) => { this.handleSubscriptionCreated(args) });\n    this.bind.oneRootElement(SearchAlertsEvents.searchAlertsFail, (args: ISearchAlertsEventArgs) => { this.handleSearchAlertsFail(args) });\n    this.bind.oneRootElement(SearchAlertsEvents.searchAlertsDeleted, () => { this.close() });\n\n    this.bind.oneRootElement(QueryEvents.newQuery, () => { this.close() });\n  }\n\n  public getCssClass(): string {\n    return 'coveo-subscriptions-messages';\n  }\n\n  /**\n   * Displays a message near the dom attribute.\n   * @param dom Specifies where to display the message.\n   * @param message The message.\n   * @param error Specifies whether this is an error message or not.\n   */\n  public showMessage(dom: Dom, message: string, error: boolean) {\n    this.message = $$('div');\n    this.message.el.innerHTML = `\n      <div class='coveo-subscriptions-messages-message'>\n        <div class='coveo-subscriptions-messages-info-close'></div>\n        <div class='coveo-subscriptions-messages-content' title='${message}'>${message}</div>\n      </div>`;\n\n    this.message.toggleClass('coveo-subscriptions-messages-error', error);\n    let closeButton = this.message.find('.coveo-subscriptions-messages-info-close');\n    $$(closeButton).on('click', () => this.close());\n\n    PopupUtils.positionPopup(this.message.el, dom.el, this.root, {\n      horizontal: HorizontalAlignment.INNERLEFT,\n      vertical: VerticalAlignment.BOTTOM,\n      verticalOffset: 12,\n      horizontalClip: true\n    }, this.root);\n\n    this.startCloseDelay();\n\n    this.message.on('mouseleave', () => {\n      this.startCloseDelay();\n    })\n    this.message.on('mouseenter', () => {\n      this.stopCloseDelay();\n    })\n  }\n\n  private handleSubscriptionCreated(args: ISearchAlertsEventArgs) {\n    this.close();\n    if (args.dom != null) {\n      if (args.subscription.type == SUBSCRIPTION_TYPE.followQuery) {\n        let typeConfig = <ISubscriptionQueryRequest>args.subscription.typeConfig;\n        this.showMessage($$(args.dom), l('SubscriptionsMessageFollowQuery', _.escape(typeConfig.query.q) || l('EmptyQuery')), false);\n      } else {\n        let typeConfig = <ISubscriptionItemRequest>args.subscription.typeConfig;\n        this.showMessage($$(args.dom), l('SubscriptionsMessageFollow', _.escape(typeConfig.title)), false);\n      }\n    }\n  }\n\n  private handleSearchAlertsFail(args: ISearchAlertsFailEventArgs) {\n    this.close();\n    if (args.dom != null) {\n      this.showMessage($$(args.dom), l('SearchAlerts_Fail'), true);\n    }\n  }\n\n  private startCloseDelay() {\n    clearTimeout(this.closeTimeout);\n    this.closeTimeout = setTimeout(() => {\n      this.close();\n    }, this.options.closeDelay);\n  }\n\n  private stopCloseDelay() {\n    clearTimeout(this.closeTimeout)\n  }\n\n  private close() {\n    if (this.message != null) {\n      clearTimeout(this.closeTimeout);\n      this.message.remove();\n      this.message = null;\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/SearchAlerts/SearchAlertsMessage.ts\n **/","l":{"1":1,"2":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"19":16,"20":1,"26":1,"37":15,"38":15,"39":15,"41":15,"43":15,"44":15,"45":15,"47":15,"50":1,"51":0,"60":4,"61":4,"62":4,"68":4,"69":4,"70":4,"72":4,"79":4,"81":4,"82":0,"84":4,"85":0,"89":1,"90":3,"91":3,"92":1,"93":1,"94":1,"96":0,"97":0,"102":1,"103":2,"104":2,"105":1,"109":1,"110":0,"111":0,"112":0,"116":1,"117":0,"120":1,"121":7,"122":0,"123":0,"124":0,"127":1}},"src/ui/Text/Text.ts":{"path":"src/ui/Text/Text.ts","statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":58}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":44}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":54}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":35}},"5":{"start":{"line":31,"column":0},"end":{"line":109,"column":1}},"6":{"start":{"line":31,"column":26},"end":{"line":31,"column":35}},"7":{"start":{"line":92,"column":2},"end":{"line":108,"column":3}},"8":{"start":{"line":93,"column":4},"end":{"line":93,"column":38}},"9":{"start":{"line":92,"column":21},"end":{"line":92,"column":41}},"10":{"start":{"line":92,"column":50},"end":{"line":92,"column":72}},"11":{"start":{"line":94,"column":4},"end":{"line":94,"column":81}},"12":{"start":{"line":95,"column":4},"end":{"line":95,"column":46}},"13":{"start":{"line":96,"column":4},"end":{"line":96,"column":52}},"14":{"start":{"line":97,"column":4},"end":{"line":97,"column":54}},"15":{"start":{"line":98,"column":4},"end":{"line":98,"column":56}},"16":{"start":{"line":99,"column":4},"end":{"line":99,"column":58}},"17":{"start":{"line":100,"column":4},"end":{"line":100,"column":58}},"18":{"start":{"line":101,"column":4},"end":{"line":101,"column":64}},"19":{"start":{"line":102,"column":4},"end":{"line":102,"column":62}},"20":{"start":{"line":103,"column":4},"end":{"line":103,"column":60}},"21":{"start":{"line":104,"column":4},"end":{"line":104,"column":60}},"22":{"start":{"line":105,"column":4},"end":{"line":105,"column":66}},"23":{"start":{"line":106,"column":4},"end":{"line":106,"column":62}},"24":{"start":{"line":107,"column":4},"end":{"line":107,"column":64}},"25":{"start":{"line":32,"column":9},"end":{"line":32,"column":21}},"26":{"start":{"line":37,"column":9},"end":{"line":90,"column":4}},"27":{"start":{"line":109,"column":0},"end":{"line":109,"column":1}},"28":{"start":{"line":31,"column":13},"end":{"line":109,"column":1}},"29":{"start":{"line":111,"column":0},"end":{"line":111,"column":49}}},"fnMap":{"1":{"name":"(anonymous_6334)","line":31,"loc":{"start":{"line":31,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"Text","line":92,"loc":{"start":{"line":92,"column":2},"end":{"line":92,"column":103}}}},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1,"26":1,"27":1,"28":1,"29":1},"b":{},"f":{"1":1,"2":0},"code":"\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {Component} from '../Base/Component';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {Initialization} from '../Base/Initialization';\nimport {$$} from '../../utils/Dom';\n\nexport interface ITextOptions {\n  value?: string;\n  size?: string;\n  style?: string;\n  weight?: string;\n  textAlign?: string;\n\n  marginTop?: string;\n  marginBottom?: string;\n  marginLeft?: string;\n  marginRight?: string;\n\n  paddingTop?: string;\n  paddingBottom?: string;\n  paddingLeft?: string;\n  paddingRight?: string;\n}\n\n/**\n * This component only role is to be embedded in a result template and to output a simple text value.<br/>\n * Thus, the only purpose is to be able to easily add different text value with the interface editor.<br/>\n * If you are not designing a search using the interface editor, the usage of this component is not pertinent.\n */\nexport class Text extends Component {\n  static ID = 'Text';\n\n  /**\n   * @componentOptions\n   */\n  static options: ITextOptions = {\n    /**\n     * The localized string value that the component should render\n     */\n    value: ComponentOptions.buildLocalizedStringOption(),\n    /**\n     * The size of the text (set as the font-size css property)\n     */\n    size: ComponentOptions.buildStringOption(),\n    /**\n     * The style of the text (set as the font-style css property)\n     */\n    style: ComponentOptions.buildStringOption(),\n    /**\n     * The weight of the text (set as the font-weight css property)\n     */\n    weight: ComponentOptions.buildStringOption(),\n    /**\n     * The alignment of the text (set as the text-align css property)\n     */\n    textAlign: ComponentOptions.buildStringOption(),\n    /**\n     * The margin top of the text (set as the margin-top css property)\n     */\n    marginTop: ComponentOptions.buildStringOption(),\n    /**\n     * The margin bottom of the text (set as the margin-bottom css property)\n     */\n    marginBottom: ComponentOptions.buildStringOption(),\n    /**\n     * The margin left of the text (set as the margin-left css property)\n     */\n    marginLeft: ComponentOptions.buildStringOption(),\n    /**\n     * The margin right of the text (set as the margin-right css property)\n     */\n    marginRight: ComponentOptions.buildStringOption(),\n    /**\n     * The padding top of the text (set as the padding-top css property)\n     */\n    paddingTop: ComponentOptions.buildStringOption(),\n    /**\n     * The padding bottom of the text (set as the padding-bottom css property)\n     */\n    paddingBottom: ComponentOptions.buildStringOption(),\n    /**\n     * The padding left of the text (set as the padding-left css property)\n     */\n    paddingLeft: ComponentOptions.buildStringOption(),\n    /**\n     * The padding right of the text (set as the padding-right css property)\n     */\n    paddingRight: ComponentOptions.buildStringOption()\n  };\n\n  constructor(public element: HTMLElement, public options?: ITextOptions, bindings?: IComponentBindings) {\n    super(element, Text.ID, bindings);\n    this.options = ComponentOptions.initComponentOptions(element, Text, options);\n    $$(this.element).text(this.options.value);\n    this.element.style.fontSize = this.options.size;\n    this.element.style.fontStyle = this.options.style;\n    this.element.style.fontWeight = this.options.weight;\n    this.element.style.textAlign = this.options.textAlign;\n    this.element.style.marginTop = this.options.marginTop;\n    this.element.style.marginBottom = this.options.marginBottom;\n    this.element.style.marginRight = this.options.marginRight;\n    this.element.style.marginLeft = this.options.marginLeft;\n    this.element.style.paddingTop = this.options.paddingTop;\n    this.element.style.paddingBottom = this.options.paddingBottom;\n    this.element.style.paddingLeft = this.options.paddingLeft;\n    this.element.style.paddingRight = this.options.paddingRight;\n  }\n}\n\nInitialization.registerAutoCreateComponent(Text);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Text/Text.ts\n **/","l":{"2":1,"3":1,"5":1,"6":1,"31":1,"32":1,"37":1,"92":1,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"109":1,"111":1}},"src/ui/Folding/FoldingForThread.ts":{"path":"src/ui/Folding/FoldingForThread.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":51}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":54}},"3":{"start":{"line":12,"column":0},"end":{"line":34,"column":1}},"4":{"start":{"line":12,"column":38},"end":{"line":12,"column":45}},"5":{"start":{"line":21,"column":2},"end":{"line":33,"column":3}},"6":{"start":{"line":22,"column":4},"end":{"line":22,"column":38}},"7":{"start":{"line":21,"column":21},"end":{"line":21,"column":41}},"8":{"start":{"line":21,"column":50},"end":{"line":21,"column":74}},"9":{"start":{"line":23,"column":4},"end":{"line":25,"column":6}},"10":{"start":{"line":24,"column":6},"end":{"line":24,"column":60}},"11":{"start":{"line":27,"column":4},"end":{"line":32,"column":6}},"12":{"start":{"line":28,"column":6},"end":{"line":28,"column":59}},"13":{"start":{"line":29,"column":6},"end":{"line":29,"column":61}},"14":{"start":{"line":30,"column":6},"end":{"line":30,"column":37}},"15":{"start":{"line":31,"column":6},"end":{"line":31,"column":27}},"16":{"start":{"line":13,"column":9},"end":{"line":13,"column":33}},"17":{"start":{"line":34,"column":0},"end":{"line":34,"column":1}},"18":{"start":{"line":12,"column":13},"end":{"line":34,"column":1}},"19":{"start":{"line":36,"column":0},"end":{"line":36,"column":61}}},"fnMap":{"1":{"name":"(anonymous_6339)","line":12,"loc":{"start":{"line":12,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"FoldingForThread","line":21,"loc":{"start":{"line":21,"column":2},"end":{"line":21,"column":105}}},"3":{"name":"(anonymous_6341)","line":23,"loc":{"start":{"line":23,"column":34},"end":{"line":23,"column":58}}},"4":{"name":"(anonymous_6342)","line":27,"loc":{"start":{"line":27,"column":29},"end":{"line":27,"column":50}}}},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":1,"18":1,"19":1},"b":{},"f":{"1":1,"2":0,"3":0,"4":0},"code":"import {Folding, IFoldingOptions} from './Folding';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {IQueryResult} from '../../rest/QueryResult';\nimport {Initialization} from '../Base/Initialization';\n\n/**\n * This component inherits from the {@link Folding} component.\n * Folding conversations and threads requires different processing.\n * When you need to fold children under a parent item, use this component.<br/>\n * <b>This component works well with Chatter and Lithium</b>\n */\nexport class FoldingForThread extends Folding {\n  static ID = 'FoldingForThread';\n\n  /**\n   * Create a new FoldingForThread component\n   * @param element\n   * @param options\n   * @param bindings\n   */\n  constructor(public element: HTMLElement, public options: IFoldingOptions, bindings?: IComponentBindings) {\n    super(element, options, bindings);\n    this.options.getMoreResults = (results: IQueryResult[]) => {\n      return Folding.foldWithParent(results)[0].attachments;\n    };\n\n    this.options.getResult = (result: IQueryResult) => {\n      var defaultResult = Folding.defaultGetResult(result);\n      defaultResult.childResults = defaultResult.attachments;\n      defaultResult.attachments = [];\n      return defaultResult;\n    };\n  }\n}\n\nInitialization.registerAutoCreateComponent(FoldingForThread);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/Folding/FoldingForThread.ts\n **/","l":{"1":1,"4":1,"12":1,"13":1,"21":1,"22":0,"23":0,"24":0,"27":0,"28":0,"29":0,"30":0,"31":0,"34":1,"36":1}},"src/ui/ChatterLikedBy/ChatterLikedBy.ts":{"path":"src/ui/ChatterLikedBy/ChatterLikedBy.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":54}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":58}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":44}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":40}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":35}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":40}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":54}},"8":{"start":{"line":17,"column":0},"end":{"line":101,"column":1}},"9":{"start":{"line":17,"column":36},"end":{"line":17,"column":45}},"10":{"start":{"line":33,"column":2},"end":{"line":58,"column":3}},"11":{"start":{"line":34,"column":4},"end":{"line":34,"column":48}},"12":{"start":{"line":33,"column":21},"end":{"line":33,"column":41}},"13":{"start":{"line":33,"column":50},"end":{"line":33,"column":82}},"14":{"start":{"line":33,"column":91},"end":{"line":33,"column":120}},"15":{"start":{"line":33,"column":129},"end":{"line":33,"column":150}},"16":{"start":{"line":35,"column":4},"end":{"line":35,"column":91}},"17":{"start":{"line":37,"column":4},"end":{"line":57,"column":5}},"18":{"start":{"line":38,"column":6},"end":{"line":38,"column":54}},"19":{"start":{"line":39,"column":6},"end":{"line":39,"column":54}},"20":{"start":{"line":41,"column":6},"end":{"line":43,"column":9}},"21":{"start":{"line":44,"column":6},"end":{"line":44,"column":41}},"22":{"start":{"line":46,"column":6},"end":{"line":48,"column":8}},"23":{"start":{"line":49,"column":6},"end":{"line":49,"column":39}},"24":{"start":{"line":51,"column":6},"end":{"line":53,"column":9}},"25":{"start":{"line":54,"column":6},"end":{"line":54,"column":45}},"26":{"start":{"line":56,"column":6},"end":{"line":56,"column":105}},"27":{"start":{"line":60,"column":10},"end":{"line":92,"column":3}},"28":{"start":{"line":60,"column":2},"end":{"line":92,"column":3}},"29":{"start":{"line":61,"column":4},"end":{"line":61,"column":32}},"30":{"start":{"line":63,"column":4},"end":{"line":71,"column":5}},"31":{"start":{"line":64,"column":6},"end":{"line":64,"column":80}},"32":{"start":{"line":66,"column":6},"end":{"line":70,"column":7}},"33":{"start":{"line":67,"column":8},"end":{"line":67,"column":52}},"34":{"start":{"line":68,"column":13},"end":{"line":70,"column":7}},"35":{"start":{"line":69,"column":8},"end":{"line":69,"column":76}},"36":{"start":{"line":73,"column":4},"end":{"line":85,"column":5}},"37":{"start":{"line":74,"column":6},"end":{"line":74,"column":114}},"38":{"start":{"line":76,"column":6},"end":{"line":76,"column":57}},"39":{"start":{"line":77,"column":6},"end":{"line":77,"column":34}},"40":{"start":{"line":78,"column":6},"end":{"line":78,"column":81}},"41":{"start":{"line":79,"column":6},"end":{"line":83,"column":8}},"42":{"start":{"line":80,"column":8},"end":{"line":80,"column":27}},"43":{"start":{"line":81,"column":8},"end":{"line":81,"column":28}},"44":{"start":{"line":82,"column":8},"end":{"line":82,"column":69}},"45":{"start":{"line":84,"column":6},"end":{"line":84,"column":43}},"46":{"start":{"line":87,"column":4},"end":{"line":91,"column":5}},"47":{"start":{"line":88,"column":6},"end":{"line":88,"column":28}},"48":{"start":{"line":89,"column":6},"end":{"line":89,"column":83}},"49":{"start":{"line":90,"column":6},"end":{"line":90,"column":34}},"50":{"start":{"line":94,"column":10},"end":{"line":100,"column":3}},"51":{"start":{"line":95,"column":4},"end":{"line":97,"column":7}},"52":{"start":{"line":98,"column":4},"end":{"line":98,"column":24}},"53":{"start":{"line":99,"column":4},"end":{"line":99,"column":19}},"54":{"start":{"line":18,"column":9},"end":{"line":18,"column":31}},"55":{"start":{"line":20,"column":9},"end":{"line":24,"column":4}},"56":{"start":{"line":26,"column":9},"end":{"line":31,"column":3}},"57":{"start":{"line":101,"column":0},"end":{"line":101,"column":1}},"58":{"start":{"line":17,"column":13},"end":{"line":101,"column":1}},"59":{"start":{"line":103,"column":0},"end":{"line":103,"column":59}}},"fnMap":{"1":{"name":"(anonymous_6346)","line":17,"loc":{"start":{"line":17,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"ChatterLikedBy","line":33,"loc":{"start":{"line":33,"column":2},"end":{"line":33,"column":150}}},"3":{"name":"(anonymous_6348)","line":60,"loc":{"start":{"line":60,"column":2},"end":{"line":60,"column":133}}},"4":{"name":"(anonymous_6349)","line":79,"loc":{"start":{"line":79,"column":32},"end":{"line":79,"column":41}}},"5":{"name":"(anonymous_6350)","line":94,"loc":{"start":{"line":94,"column":2},"end":{"line":94,"column":79}}}},"branchMap":{"1":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":4},"end":{"line":37,"column":3}},{"start":{"line":37,"column":4},"end":{"line":37,"column":3}}]},"2":{"line":37,"type":"binary-expr","locations":[{"start":{"line":37,"column":8},"end":{"line":37,"column":54}},{"start":{"line":37,"column":58},"end":{"line":37,"column":106}}]},"3":{"line":63,"type":"binary-expr","locations":[{"start":{"line":63,"column":20},"end":{"line":63,"column":42}},{"start":{"line":63,"column":47},"end":{"line":63,"column":67}},{"start":{"line":63,"column":71},"end":{"line":63,"column":90}}]},"4":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":6},"end":{"line":66,"column":5}},{"start":{"line":66,"column":6},"end":{"line":66,"column":5}}]},"5":{"line":66,"type":"binary-expr","locations":[{"start":{"line":66,"column":11},"end":{"line":66,"column":31}},{"start":{"line":66,"column":35},"end":{"line":66,"column":58}},{"start":{"line":66,"column":63},"end":{"line":66,"column":85}}]},"6":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":13},"end":{"line":68,"column":12}},{"start":{"line":68,"column":13},"end":{"line":68,"column":12}}]},"7":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":4},"end":{"line":73,"column":3}},{"start":{"line":73,"column":4},"end":{"line":73,"column":3}}]},"8":{"line":73,"type":"binary-expr","locations":[{"start":{"line":73,"column":8},"end":{"line":73,"column":28}},{"start":{"line":73,"column":32},"end":{"line":73,"column":65}}]},"9":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":4},"end":{"line":87,"column":3}},{"start":{"line":87,"column":4},"end":{"line":87,"column":3}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":5,"12":5,"13":5,"14":5,"15":5,"16":5,"17":5,"18":4,"19":4,"20":4,"21":4,"22":4,"23":4,"24":4,"25":4,"26":4,"27":1,"28":4,"29":4,"30":4,"31":5,"32":5,"33":2,"34":3,"35":3,"36":4,"37":3,"38":1,"39":1,"40":1,"41":1,"42":0,"43":0,"44":0,"45":1,"46":4,"47":4,"48":4,"49":4,"50":1,"51":8,"52":8,"53":8,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1},"b":{"1":[4,1],"2":[5,4],"3":[9,5,3],"4":[2,3],"5":[5,3,4],"6":[3,0],"7":[3,1],"8":[4,3],"9":[4,0]},"f":{"1":1,"2":5,"3":4,"4":0,"5":8},"code":"import {Initialization} from '../Base/Initialization';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {Component} from '../Base/Component';\nimport {IComponentBindings} from '../Base/ComponentBindings';\nimport {IQueryResult} from '../../rest/QueryResult';\nimport {Utils} from '../../utils/Utils';\nimport {$$} from '../../utils/Dom';\nimport {l} from '../../strings/Strings';\nimport {ChatterUtils} from '../../utils/ChatterUtils';\n\nexport interface IChatterLikedByOptions {\n  nbLikesToRender: number;\n  openInPrimaryTab: boolean;\n  openInSubTab: boolean;\n}\n\nexport class ChatterLikedBy extends Component {\n  static ID = 'ChatterLikedBy';\n\n  static options: IChatterLikedByOptions = {\n    nbLikesToRender: ComponentOptions.buildNumberOption({ defaultValue: 2, min: 0 }),\n    openInPrimaryTab: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    openInSubTab: ComponentOptions.buildBooleanOption({ defaultValue: true })\n  };\n\n  static fields = [\n    'sflikedby',\n    'sflikedbyid',\n    'clickableuri',\n    'sffeeditemid'\n  ]\n\n  constructor(public element: HTMLElement, public options?: IChatterLikedByOptions, public bindings?: IComponentBindings, public result?: IQueryResult) {\n    super(element, ChatterLikedBy.ID, bindings);\n    this.options = ComponentOptions.initComponentOptions(element, ChatterLikedBy, options);\n\n    if (!Utils.isNullOrUndefined(result.raw.sflikedby) && !Utils.isNullOrUndefined(result.raw.sflikedbyid)) {\n      let likeNames = result.raw.sflikedby.split(';');\n      let likeIds = result.raw.sflikedbyid.split(';');\n\n      let rootElement = $$('div', {\n        className: 'coveo-chatter-result-box-row'\n      });\n      $$(element).append(rootElement.el);\n\n      let thumbIcon = $$('div', {\n        className: 'coveo-sprites-common-thumbup_inactive coveo-chatter-result-box-icon'\n      })\n      rootElement.append(thumbIcon.el);\n\n      let fullListElement = $$('div', {\n        className: 'coveo-chatter-result-likes'\n      });\n      rootElement.append(fullListElement.el);\n\n      this.renderLikesList(fullListElement.el, result, likeNames, likeIds, this.options.nbLikesToRender);\n    }\n  }\n\n  private renderLikesList(element: HTMLElement, result: IQueryResult, likeNames: string[], likeIds: string[], nbLikesToRender: number) {\n    let tempElement = $$('div');\n\n    for (let i = 0; i < likeIds.length - 1 && (nbLikesToRender == 0 || i < nbLikesToRender); i++) {\n      tempElement.append(this.renderLikeLink(result, likeNames[i], likeIds[i]));\n\n      if ((nbLikesToRender == 0 || i < nbLikesToRender - 1) && i < likeIds.length - 2) {\n        tempElement.append($$('span', {}, ', ').el);\n      } else if (i < likeIds.length - 1) {\n        tempElement.append($$('span', {}, ` ${l('And').toLowerCase()} `).el)\n      }\n    }\n\n    if (nbLikesToRender == 0 || likeIds.length <= nbLikesToRender) {\n      tempElement.append(this.renderLikeLink(result, likeNames[likeIds.length - 1], likeIds[likeIds.length - 1]));\n    } else {\n      let othersCount = likeIds.length - nbLikesToRender;\n      let clickableLink = $$('a');\n      clickableLink.text(` ${l('Others', othersCount.toString(), othersCount)}`);\n      clickableLink.on('click', (e: Event) => {\n        e.preventDefault();\n        $$(element).empty();\n        this.renderLikesList(element, result, likeNames, likeIds, 0);\n      })\n      tempElement.append(clickableLink.el);\n    }\n\n    if (likeIds.length > 0) {\n      let name = $$('span');\n      name.el.innerHTML = l('LikesThis', tempElement.el.innerHTML, likeIds.length);\n      $$(element).append(name.el);\n    }\n  }\n\n  private renderLikeLink(result: IQueryResult, likeName: string, likeId: string): HTMLElement {\n    let link = $$('a', {\n      href: ChatterUtils.buildURI(result.clickUri, result.raw.sffeeditemid, likeId)\n    });\n    link.text(likeName);\n    return link.el;\n  }\n}\n\nInitialization.registerAutoCreateComponent(ChatterLikedBy);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/ChatterLikedBy/ChatterLikedBy.ts\n **/","l":{"1":1,"2":1,"3":1,"6":1,"7":1,"8":1,"9":1,"17":1,"18":1,"20":1,"26":1,"33":5,"34":5,"35":5,"37":5,"38":4,"39":4,"41":4,"44":4,"46":4,"49":4,"51":4,"54":4,"56":4,"60":4,"61":4,"63":4,"64":5,"66":5,"67":2,"68":3,"69":3,"73":4,"74":3,"76":1,"77":1,"78":1,"79":1,"80":0,"81":0,"82":0,"84":1,"87":4,"88":4,"89":4,"90":4,"94":1,"95":8,"98":8,"99":8,"101":1,"103":1}},"src/utils/ChatterUtils.ts":{"path":"src/utils/ChatterUtils.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":9,"column":1}},"2":{"start":{"line":2,"column":9},"end":{"line":4,"column":3}},"3":{"start":{"line":3,"column":4},"end":{"line":3,"column":52}},"4":{"start":{"line":6,"column":9},"end":{"line":8,"column":3}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":19}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":1}},"7":{"start":{"line":1,"column":13},"end":{"line":9,"column":1}}},"fnMap":{"1":{"name":"(anonymous_6352)","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_6354)","line":2,"loc":{"start":{"line":2,"column":2},"end":{"line":2,"column":74}}},"3":{"name":"(anonymous_6355)","line":6,"loc":{"start":{"line":6,"column":2},"end":{"line":6,"column":103}}}},"branchMap":{},"s":{"1":2,"2":1,"3":23,"4":1,"5":4,"6":1,"7":1},"b":{},"f":{"1":1,"2":23,"3":4},"code":"export class ChatterUtils {\n  static buildURI(objectURI: string, objectId: string, newObjectId: string) {\n    return objectURI.replace(objectId, newObjectId);\n  }\n\n  static bindClickEventToElement(element: HTMLElement, openInPrimaryTab: boolean, openInSubTab: boolean) {\n    return element;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/ChatterUtils.ts\n **/","l":{"1":2,"2":1,"3":23,"6":1,"7":4,"9":1}},"src/ui/ChatterPostAttachment/ChatterPostAttachment.ts":{"path":"src/ui/ChatterPostAttachment/ChatterPostAttachment.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":54}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":40}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":54}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":35}},"7":{"start":{"line":13,"column":0},"end":{"line":48,"column":1}},"8":{"start":{"line":13,"column":43},"end":{"line":13,"column":52}},"9":{"start":{"line":22,"column":2},"end":{"line":47,"column":3}},"10":{"start":{"line":23,"column":4},"end":{"line":23,"column":55}},"11":{"start":{"line":22,"column":21},"end":{"line":22,"column":41}},"12":{"start":{"line":22,"column":50},"end":{"line":22,"column":88}},"13":{"start":{"line":22,"column":97},"end":{"line":22,"column":133}},"14":{"start":{"line":22,"column":142},"end":{"line":22,"column":163}},"15":{"start":{"line":25,"column":4},"end":{"line":46,"column":5}},"16":{"start":{"line":26,"column":6},"end":{"line":28,"column":9}},"17":{"start":{"line":29,"column":6},"end":{"line":29,"column":41}},"18":{"start":{"line":31,"column":6},"end":{"line":33,"column":9}},"19":{"start":{"line":34,"column":6},"end":{"line":34,"column":34}},"20":{"start":{"line":36,"column":6},"end":{"line":38,"column":9}},"21":{"start":{"line":39,"column":6},"end":{"line":39,"column":41}},"22":{"start":{"line":41,"column":6},"end":{"line":45,"column":7}},"23":{"start":{"line":42,"column":8},"end":{"line":42,"column":55}},"24":{"start":{"line":44,"column":8},"end":{"line":44,"column":46}},"25":{"start":{"line":14,"column":9},"end":{"line":14,"column":38}},"26":{"start":{"line":16,"column":9},"end":{"line":20,"column":3}},"27":{"start":{"line":48,"column":0},"end":{"line":48,"column":1}},"28":{"start":{"line":13,"column":13},"end":{"line":48,"column":1}},"29":{"start":{"line":50,"column":0},"end":{"line":50,"column":66}}},"fnMap":{"1":{"name":"(anonymous_6359)","line":13,"loc":{"start":{"line":13,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"ChatterPostAttachment","line":22,"loc":{"start":{"line":22,"column":2},"end":{"line":22,"column":163}}}},"branchMap":{"1":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":4},"end":{"line":25,"column":3}},{"start":{"line":25,"column":4},"end":{"line":25,"column":3}}]},"2":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":6},"end":{"line":41,"column":5}},{"start":{"line":41,"column":6},"end":{"line":41,"column":5}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":2,"11":2,"12":2,"13":2,"14":2,"15":2,"16":2,"17":2,"18":2,"19":2,"20":2,"21":2,"22":2,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1},"b":{"1":[2,0],"2":[1,1]},"f":{"1":1,"2":2},"code":"import {Component} from '../Base/Component';\nimport {IResultsComponentBindings} from '../Base/ResultsComponentBindings';\nimport {IQueryResult} from '../../rest/QueryResult';\nimport {Utils} from '../../utils/Utils';\nimport {ChatterUtils} from '../../utils/ChatterUtils';\nimport {l} from '../../strings/Strings';\nimport {Initialization} from '../Base/Initialization';\nimport {$$} from '../../utils/Dom';\n\nexport interface IChatterPostAttachmentOption {\n}\n\nexport class ChatterPostAttachment extends Component {\n  static ID = 'ChatterPostAttachment';\n\n  static fields = [\n    'sfcontentversionid',\n    'sffeeditemid',\n    'sfcontentfilename'\n  ]\n\n  constructor(public element: HTMLElement, public options?: IChatterPostAttachmentOption, public bindings?: IResultsComponentBindings, public result?: IQueryResult) {\n    super(element, ChatterPostAttachment.ID, bindings);\n\n    if (!Utils.isNullOrUndefined(result.raw.sfcontentversionid)) {\n      let rootElement = $$('div', {\n        className: 'coveo-chatter-result-box-row'\n      });\n      $$(element).append(rootElement.el);\n\n      let icon = $$('div', {\n        className: 'coveo-sprites-common-system coveo-chatter-result-box-icon'\n      });\n      rootElement.append(icon.el);\n\n      let linkElement = $$('a', {\n        href: ChatterUtils.buildURI(result.clickUri, result.raw.sffeeditemid, result.raw.sfcontentversionid)\n      });\n      rootElement.append(linkElement.el);\n\n      if (!Utils.isNullOrUndefined(result.raw.sfcontentfilename)) {\n        linkElement.text(result.raw.sfcontentfilename);\n      } else {\n        linkElement.text(l('ShowAttachment'));\n      }\n    }\n  }\n}\n\nInitialization.registerAutoCreateComponent(ChatterPostAttachment);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/ChatterPostAttachment/ChatterPostAttachment.ts\n **/","l":{"1":1,"4":1,"5":1,"6":1,"7":1,"8":1,"13":1,"14":1,"16":1,"22":2,"23":2,"25":2,"26":2,"29":2,"31":2,"34":2,"36":2,"39":2,"41":2,"42":1,"44":1,"48":1,"50":1}},"src/ui/ChatterPostedBy/ChatterPostedBy.ts":{"path":"src/ui/ChatterPostedBy/ChatterPostedBy.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":58}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":54}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":54}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":40}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":40}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":35}},"8":{"start":{"line":18,"column":0},"end":{"line":72,"column":1}},"9":{"start":{"line":18,"column":37},"end":{"line":18,"column":46}},"10":{"start":{"line":37,"column":2},"end":{"line":63,"column":3}},"11":{"start":{"line":38,"column":4},"end":{"line":38,"column":49}},"12":{"start":{"line":37,"column":21},"end":{"line":37,"column":41}},"13":{"start":{"line":37,"column":50},"end":{"line":37,"column":82}},"14":{"start":{"line":37,"column":91},"end":{"line":37,"column":127}},"15":{"start":{"line":37,"column":136},"end":{"line":37,"column":157}},"16":{"start":{"line":39,"column":4},"end":{"line":39,"column":92}},"17":{"start":{"line":41,"column":4},"end":{"line":62,"column":5}},"18":{"start":{"line":42,"column":6},"end":{"line":42,"column":28}},"19":{"start":{"line":43,"column":6},"end":{"line":43,"column":79}},"20":{"start":{"line":44,"column":6},"end":{"line":44,"column":34}},"21":{"start":{"line":45,"column":6},"end":{"line":45,"column":92}},"22":{"start":{"line":47,"column":6},"end":{"line":61,"column":7}},"23":{"start":{"line":49,"column":8},"end":{"line":60,"column":9}},"24":{"start":{"line":50,"column":10},"end":{"line":50,"column":34}},"25":{"start":{"line":51,"column":10},"end":{"line":51,"column":117}},"26":{"start":{"line":52,"column":10},"end":{"line":52,"column":40}},"27":{"start":{"line":53,"column":10},"end":{"line":53,"column":40}},"28":{"start":{"line":55,"column":15},"end":{"line":60,"column":9}},"29":{"start":{"line":56,"column":10},"end":{"line":56,"column":34}},"30":{"start":{"line":57,"column":10},"end":{"line":57,"column":52}},"31":{"start":{"line":58,"column":10},"end":{"line":58,"column":40}},"32":{"start":{"line":59,"column":10},"end":{"line":59,"column":94}},"33":{"start":{"line":65,"column":10},"end":{"line":71,"column":3}},"34":{"start":{"line":66,"column":4},"end":{"line":68,"column":7}},"35":{"start":{"line":69,"column":4},"end":{"line":69,"column":20}},"36":{"start":{"line":70,"column":4},"end":{"line":70,"column":115}},"37":{"start":{"line":19,"column":9},"end":{"line":19,"column":32}},"38":{"start":{"line":20,"column":9},"end":{"line":25,"column":4}},"39":{"start":{"line":27,"column":9},"end":{"line":35,"column":3}},"40":{"start":{"line":72,"column":0},"end":{"line":72,"column":1}},"41":{"start":{"line":18,"column":13},"end":{"line":72,"column":1}},"42":{"start":{"line":74,"column":0},"end":{"line":74,"column":60}}},"fnMap":{"1":{"name":"(anonymous_6364)","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"ChatterPostedBy","line":37,"loc":{"start":{"line":37,"column":2},"end":{"line":37,"column":157}}},"3":{"name":"(anonymous_6366)","line":65,"loc":{"start":{"line":65,"column":2},"end":{"line":65,"column":45}}}},"branchMap":{"1":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":4},"end":{"line":41,"column":3}},{"start":{"line":41,"column":4},"end":{"line":41,"column":3}}]},"2":{"line":43,"type":"cond-expr","locations":[{"start":{"line":43,"column":49},"end":{"line":43,"column":58}},{"start":{"line":43,"column":61},"end":{"line":43,"column":74}}]},"3":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":6},"end":{"line":47,"column":5}},{"start":{"line":47,"column":6},"end":{"line":47,"column":5}}]},"4":{"line":47,"type":"binary-expr","locations":[{"start":{"line":47,"column":10},"end":{"line":47,"column":37}},{"start":{"line":47,"column":41},"end":{"line":47,"column":90}},{"start":{"line":47,"column":94},"end":{"line":47,"column":141}}]},"5":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":8},"end":{"line":49,"column":7}},{"start":{"line":49,"column":8},"end":{"line":49,"column":7}}]},"6":{"line":49,"type":"binary-expr","locations":[{"start":{"line":49,"column":12},"end":{"line":49,"column":57}},{"start":{"line":49,"column":61},"end":{"line":49,"column":109}}]},"7":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":15},"end":{"line":55,"column":14}},{"start":{"line":55,"column":15},"end":{"line":55,"column":14}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":3,"12":3,"13":3,"14":3,"15":3,"16":3,"17":3,"18":3,"19":3,"20":3,"21":3,"22":3,"23":1,"24":0,"25":0,"26":0,"27":0,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":4,"35":4,"36":4,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1},"b":{"1":[3,0],"2":[0,3],"3":[1,2],"4":[3,2,1],"5":[0,1],"6":[1,0],"7":[1,0]},"f":{"1":1,"2":3,"3":4},"code":"import {Component} from '../Base/Component';\nimport {ComponentOptions} from '../Base/ComponentOptions';\nimport {IResultsComponentBindings} from '../Base/ResultsComponentBindings';\nimport {IQueryResult} from '../../rest/QueryResult';\nimport {ChatterUtils} from '../../utils/ChatterUtils';\nimport {Initialization} from '../Base/Initialization';\nimport {l} from '../../strings/Strings';\nimport {Utils} from '../../utils/Utils';\nimport {$$} from '../../utils/Dom';\n\nexport interface IChatterPostedByOption {\n  enablePostedOn: boolean;\n  useFromInstead: boolean;\n  openInPrimaryTab: boolean;\n  openInSubTab: boolean;\n}\n\nexport class ChatterPostedBy extends Component {\n  static ID = 'ChatterPostedBy';\n  static options: IChatterPostedByOption = {\n    enablePostedOn: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    useFromInstead: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    openInPrimaryTab: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    openInSubTab: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n  };\n\n  static fields = [\n    'sfcreatedby',\n    'sfcreatedbyid',\n    'sffeeditemid',\n    'sfuserid',\n    'sfinsertedbyid',\n    'sfparentid',\n    'sfparentname'\n  ]\n\n  constructor(public element: HTMLElement, public options?: IChatterPostedByOption, public bindings?: IResultsComponentBindings, public result?: IQueryResult) {\n    super(element, ChatterPostedBy.ID, bindings);\n    this.options = ComponentOptions.initComponentOptions(element, ChatterPostedBy, options);\n\n    if (result.raw.sfcreatedby != null) {\n      let from = $$('span');\n      from.text(`${this.options.useFromInstead ? l('From') : l('PostedBy')} `);\n      $$(element).append(from.el);\n      $$(element).append(this.renderLink(result.raw.sfcreatedby, result.raw.sfcreatedbyid));\n\n      if (this.options.enablePostedOn && !Utils.isNullOrUndefined(result.raw.sfparentname) && !Utils.isNullOrUndefined(result.raw.sfparentid)) {\n        // Post on user's wall\n        if (!Utils.isNullOrUndefined(result.raw.sfuserid) && result.raw.sfuserid != result.raw.sfinsertedbyid) {\n          let onFeed = $$('span');\n          let content = ` ${l('OnFeed', this.renderLink(result.raw.sfparentname, result.raw.sfparentid).outerHTML)}`;\n          onFeed.el.innerHTML = content;\n          $$(element).append(onFeed.el);\n\n        } else if (Utils.isNullOrUndefined(result.raw.sfuserid)) {\n          let onUser = $$('span');\n          onUser.text(` ${l('On').toLowerCase()} `);\n          $$(element).append(onUser.el);\n          $$(element).append(this.renderLink(result.raw.sfparentname, result.raw.sfparentid));\n        }\n      }\n    }\n  }\n\n  private renderLink(text: string, id: string): HTMLElement {\n    let link = $$('a', {\n      href: ChatterUtils.buildURI(this.result.clickUri, this.result.raw.sffeeditemid, id)\n    });\n    link.text(text);\n    return ChatterUtils.bindClickEventToElement(link.el, this.options.openInPrimaryTab, this.options.openInSubTab);\n  }\n}\n\nInitialization.registerAutoCreateComponent(ChatterPostedBy);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/ChatterPostedBy/ChatterPostedBy.ts\n **/","l":{"1":1,"2":1,"5":1,"6":1,"7":1,"8":1,"9":1,"18":1,"19":1,"20":1,"27":1,"37":3,"38":3,"39":3,"41":3,"42":3,"43":3,"44":3,"45":3,"47":3,"49":1,"50":0,"51":0,"52":0,"53":0,"55":1,"56":1,"57":1,"58":1,"59":1,"65":1,"66":4,"69":4,"70":4,"72":1,"74":1}},"src/ui/ChatterTopic/ChatterTopic.ts":{"path":"src/ui/ChatterTopic/ChatterTopic.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":54}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":35}},"5":{"start":{"line":11,"column":0},"end":{"line":47,"column":1}},"6":{"start":{"line":11,"column":34},"end":{"line":11,"column":43}},"7":{"start":{"line":18,"column":2},"end":{"line":46,"column":3}},"8":{"start":{"line":19,"column":4},"end":{"line":19,"column":46}},"9":{"start":{"line":18,"column":21},"end":{"line":18,"column":41}},"10":{"start":{"line":18,"column":50},"end":{"line":18,"column":79}},"11":{"start":{"line":18,"column":88},"end":{"line":18,"column":124}},"12":{"start":{"line":18,"column":133},"end":{"line":18,"column":154}},"13":{"start":{"line":21,"column":4},"end":{"line":45,"column":5}},"14":{"start":{"line":22,"column":6},"end":{"line":24,"column":9}},"15":{"start":{"line":26,"column":6},"end":{"line":26,"column":64}},"16":{"start":{"line":28,"column":6},"end":{"line":30,"column":8}},"17":{"start":{"line":31,"column":6},"end":{"line":31,"column":34}},"18":{"start":{"line":33,"column":6},"end":{"line":43,"column":7}},"19":{"start":{"line":34,"column":8},"end":{"line":34,"column":31}},"20":{"start":{"line":35,"column":8},"end":{"line":35,"column":30}},"21":{"start":{"line":36,"column":8},"end":{"line":36,"column":37}},"22":{"start":{"line":38,"column":8},"end":{"line":42,"column":9}},"23":{"start":{"line":39,"column":10},"end":{"line":39,"column":37}},"24":{"start":{"line":40,"column":10},"end":{"line":40,"column":31}},"25":{"start":{"line":41,"column":10},"end":{"line":41,"column":43}},"26":{"start":{"line":44,"column":6},"end":{"line":44,"column":41}},"27":{"start":{"line":12,"column":9},"end":{"line":12,"column":29}},"28":{"start":{"line":14,"column":9},"end":{"line":16,"column":4}},"29":{"start":{"line":47,"column":0},"end":{"line":47,"column":1}},"30":{"start":{"line":11,"column":13},"end":{"line":47,"column":1}},"31":{"start":{"line":49,"column":0},"end":{"line":49,"column":57}}},"fnMap":{"1":{"name":"(anonymous_6370)","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":null,"column":-1}}},"2":{"name":"ChatterTopic","line":18,"loc":{"start":{"line":18,"column":2},"end":{"line":18,"column":154}}}},"branchMap":{"1":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":3}},{"start":{"line":21,"column":4},"end":{"line":21,"column":3}}]},"2":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":8},"end":{"line":38,"column":7}},{"start":{"line":38,"column":8},"end":{"line":38,"column":7}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":1,"29":1,"30":1,"31":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":1,"2":0},"code":"import {Component} from '../Base/Component';\nimport {IResultsComponentBindings} from '../Base/ResultsComponentBindings';\nimport {IQueryResult} from '../../rest/QueryResult';\nimport {Utils} from '../../utils/Utils';\nimport {Initialization} from '../Base/Initialization';\nimport {$$} from '../../utils/Dom';\n\nexport interface IChatterTopicOption {\n}\n\nexport class ChatterTopic extends Component {\n  static ID = 'ChatterTopic';\n\n  static fields = [\n    'coveochatterfeedtopics'\n  ];\n\n  constructor(public element: HTMLElement, public options?: IChatterTopicOption, public bindings?: IResultsComponentBindings, public result?: IQueryResult) {\n    super(element, ChatterTopic.ID, bindings);\n\n    if (!Utils.isNullOrUndefined(result.raw.coveochatterfeedtopics)) {\n      let rootElement = $$('div', {\n        className: 'coveo-chatter-result-box-row'\n      });\n\n      let topics = result.raw.coveochatterfeedtopics.split(';');\n\n      let icon = $$('div', {\n        className: 'coveo-sprites-common-tagging_tag coveo-chatter-result-box-icon'\n      })\n      rootElement.append(icon.el);\n\n      for (let i = 0; i < topics.length; i++) {\n        let topic = $$('span');\n        topic.text(topics[i]);\n        rootElement.append(topic.el);\n\n        if (i < topics.length - 1) {\n          let separator = $$('span');\n          separator.text(', ');\n          rootElement.append(separator.el);\n        }\n      }\n      $$(element).append(rootElement.el);\n    }\n  }\n}\n\nInitialization.registerAutoCreateComponent(ChatterTopic);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ui/ChatterTopic/ChatterTopic.ts\n **/","l":{"1":1,"4":1,"5":1,"6":1,"11":1,"12":1,"14":1,"18":1,"19":0,"21":0,"22":0,"26":0,"28":0,"31":0,"33":0,"34":0,"35":0,"36":0,"38":0,"39":0,"40":0,"41":0,"44":0,"47":1,"49":1}}}